import{o as C,V as P,D as n,m as W,L as M,T as R}from"./lf-core-C8T4tqs2.js";import{bq as S,C as F,br as I,l as A,n as j,bs as D}from"./theme.constants-7kSb6kn5.js";import{o as V}from"./p-558ec216-rEbCTrf4.js";import"./preload-helper-C1FmrZbK.js";var f,s,u,v,r,y,z,c,g,O,w,_,L,E,i=function(e,t,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(e):a?a.value:t.get(e)},k=function(e,t,o,a,l){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,o),o};const B=class{constructor(e){C(this,e),this.lfEvent=P(this,"lf-photoframe-event"),f.add(this),this.imageOrientation="",this.isInViewport=!1,this.isReady=!1,this.lfOverlay=null,this.lfPlaceholder=null,this.lfStyle="",this.lfThreshold=.25,this.lfValue=null,s.set(this,void 0),u.set(this,S),v.set(this,F),r.set(this,I),y.set(this,A),z.set(this,j),c.set(this,void 0),g.set(this,void 0),w.set(this,()=>{const{lfOverlay:t}=this;if(!t||typeof t!="object")return null;const{bemClass:o}=i(this,s,"f").theme,{overlay:a}=i(this,u,"f"),{description:l,hideOnClick:m,icon:d,title:p}=t;return n("div",{class:o(a._,null,{"has-actions":m}),onClick:m?b=>{this.onLfEvent(b,"overlay"),this.lfOverlay=null}:void 0,part:i(this,r,"f").overlay},n("div",{class:o(a._,a.content)},d&&n("lf-image",{class:o(a._,a.icon),lfSizeX:"3em",lfSizeY:"3em",lfValue:d,part:i(this,r,"f").icon}),p&&n("div",{class:o(a._,a.title),part:i(this,r,"f").title},p),l&&n("div",{class:o(a._,a.description),part:i(this,r,"f").description},l)))})}onLfEvent(e,t,o=!1){t==="load"&&(o?this.imageOrientation=i(this,f,"m",O).call(this,i(this,g,"f"))?"horizontal":"vertical":this.isReady=!0),this.lfEvent.emit({comp:this,id:this.rootElement.id,originalEvent:e,eventType:t,isPlaceholder:o})}async getDebugInfo(){return this.debugInfo}async getProps(){const e=D.map(t=>[t,this[t]]);return Object.fromEntries(e)}async refresh(){W(this)}async unmount(e=0){setTimeout(()=>{this.onLfEvent(new CustomEvent("unmount"),"unmount"),this.rootElement.remove()},e)}connectedCallback(){i(this,s,"f")&&(i(this,s,"f").theme.register(this),i(this,f,"m",_).call(this))}async componentWillLoad(){k(this,s,await V(this))}componentDidLoad(){var t;const{info:e}=i(this,s,"f").debug;i(this,f,"m",_).call(this),(t=i(this,c,"f"))==null||t.observe(this.rootElement),this.onLfEvent(new CustomEvent("ready"),"ready"),e.update(this,"did-load")}componentWillRender(){const{info:e}=i(this,s,"f").debug;e.update(this,"will-render")}componentDidRender(){const{info:e}=i(this,s,"f").debug;e.update(this,"did-render")}render(){const{sanitizeProps:e,theme:t}=i(this,s,"f"),{bemClass:o,setLfStyle:a}=t,{photoframe:l}=i(this,u,"f"),{isInViewport:m,isReady:d,lfPlaceholder:p,lfStyle:b,lfValue:T}=this,x=!!(m&&d);return n(M,{key:"2e480e02b12c9edbc11821a5612bcea9debb66a4"},b&&n("style",{key:"ad1ff0005bdca247db353236db7b14129867c1d2",id:i(this,y,"f")},a(this)),n("div",{key:"37e95b78f85e94cec85ad92eb47f007477d9ff1d",class:o(l._,null,{[this.imageOrientation]:this.imageOrientation&&!0}),id:i(this,z,"f")},i(this,w,"f").call(this),n("img",{key:"bca5540c8e6df79a8ed0d366c6852c7931f9d3a4",class:o(l._,l.placeholder,{loaded:!!this.imageOrientation,hidden:x}),"data-cy":i(this,v,"f").image,onLoad:h=>{i(this,f,"m",E).call(this,h,!0)},part:i(this,r,"f").placeholder,ref:h=>{h&&k(this,g,h)},...e(p)}),m&&n("img",{key:"a67a7af706bc78d127fdf73e11a4cdc62467af9c",class:o(l._,l.image,{active:x}),"data-cy":i(this,v,"f").image,onLoad:h=>{i(this,f,"m",E).call(this,h,!1)},part:i(this,r,"f").image,...e(T)})))}disconnectedCallback(){var e,t;(e=i(this,s,"f"))==null||e.theme.unregister(this),(t=i(this,c,"f"))==null||t.unobserve(this.rootElement)}get rootElement(){return R(this)}};s=new WeakMap,u=new WeakMap,v=new WeakMap,r=new WeakMap,y=new WeakMap,z=new WeakMap,c=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakSet,O=function(e){return e.naturalWidth>e.naturalHeight},_=function(){k(this,c,new IntersectionObserver(e=>{e.forEach(t=>{const o=this.rootElement.hasAttribute("lf-hydrated");t.isIntersecting&&o&&this.rootElement.isConnected&&requestAnimationFrame(()=>{this.isInViewport=!0,i(this,c,"f").unobserve(this.rootElement)})})},{threshold:this.lfThreshold}))},L=function(e){return new Promise(t=>{let o=null;const a=()=>{if(this.rootElement.isConnected){if(o===null)o=performance.now();else if(performance.now()-o>=e)return void t()}else o=null;requestAnimationFrame(a)};a()})},E=function(e,t,o=100){i(this,f,"m",L).call(this,o).then(()=>{this.onLfEvent(e,"load",t)})},B.style=`::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}:host{display:block;font-family:var(--lf-photoframe-font-family, var(--lf-font-family-primary));font-size:var(--lf-photoframe-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(
        var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-large)
      )}:host([lf-ui-size=medium]){font-size:calc(
        var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium)
      )}:host([lf-ui-size=small]){font-size:calc(
        var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-small)
      )}:host([lf-ui-size=xlarge]){font-size:calc(
        var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge)
      )}:host([lf-ui-size=xsmall]){font-size:calc(
        var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall)
      )}:host([lf-ui-size=xxlarge]){font-size:calc(
        var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge)
      )}:host([lf-ui-size=xxsmall]){font-size:calc(
        var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall)
      )}#lf-component{width:100%;height:100%}:host{width:100%;height:100%;box-sizing:border-box;position:relative}#lf-component{position:relative}img{width:100%;height:100%}.photoframe--landscape img{width:100%}.photoframe--portrait img{height:100%}.photoframe__image{display:none;left:0;object-fit:var(--lf-comp-image-fit, cover);position:absolute;top:0;z-index:0}.photoframe__image--active{display:block;position:relative}.photoframe__placeholder{display:none;object-fit:var(--lf-comp-placeholder-fit, cover);transition:opacity var(--lf-comp-fade-out-time, 1750ms) ease-out;will-change:opacity;z-index:1}.photoframe__placeholder--hidden{opacity:0;position:absolute}.photoframe__placeholder--loaded{display:block}.overlay{background-color:rgba(var(--lf-photoframe-color-bg, var(--lf-color-bg)), 1);width:100%;height:100%;display:flex;justify-content:center;left:0;position:absolute;top:0;z-index:var(--lf-comp-overlay-zindex, 2)}.overlay--has-actions{cursor:pointer}.overlay--has-actions:hover .overlay__content{transform:scale(1.5)}.overlay__content,.overlay__description,.overlay__title{color:rgb(var(--lf-photoframe-color-on-bg, var(--lf-color-on-bg)));text-align:center}.overlay__content{font-size:0.875em;font-weight:500;line-height:1.375em;letter-spacing:0.01em;transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);display:grid;grid-gap:0.75em;margin:auto;overflow:hidden}.overlay__description{font-size:0.875em;font-weight:400;line-height:1.25em;letter-spacing:0.2em}.overlay__title{font-size:1.25em;font-weight:500;line-height:1.4em;letter-spacing:0em}.overlay__icon{margin:auto}`;export{B as lf_photoframe};
