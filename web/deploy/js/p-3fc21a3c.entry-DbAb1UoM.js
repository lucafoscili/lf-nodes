import{o as L,V as D,m as R,D as c,L as W,T}from"./lf-core-C0TwNeAf.js";import{a1 as _,c as C,a2 as S,l as F,n as A,a3 as V,a4 as M}from"./theme.constants-_3bg_1Hx.js";import{a as z}from"./effects.constants-qYuHpqrU.js";import{o as P}from"./p-558ec216-av2_KWVh.js";import"./preload-helper-C1FmrZbK.js";var n,s,v,w,b,m,y,d,u,o,f,p,g,x,E,t=function(e,i,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?e!==i||!a:!i.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:i.get(e)},l=function(e,i,r,a,h){if(typeof i=="function"?e!==i||!0:!i.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i.set(e,r),r};const j=class{constructor(e){L(this,e),this.lfEvent=D(this,"lf-drawer-event"),n.add(this),this.lfDisplay="slide",this.lfPosition="left",this.lfResponsive=0,this.lfStyle="",this.lfValue=!1,s.set(this,void 0),v.set(this,_),w.set(this,C),b.set(this,S),m.set(this,F),y.set(this,A),d.set(this,void 0),u.set(this,null),o.set(this,void 0),f.set(this,void 0)}onLfEvent(e,i){this.lfEvent.emit({comp:this,eventType:i,id:this.rootElement.id,originalEvent:e})}listenKeydown(e){if(this.lfValue)switch(e.key){case"Escape":e.preventDefault(),this.close();break;case"Tab":t(this,n,"m",E).call(this,e)}}onLfDisplayChange(e,i){t(this,n,"m",g).call(this,i,e)}onLfResponsiveChange(){this.lfResponsive>0?(t(this,n,"m",p).call(this),t(this,o,"f")||(l(this,o,async()=>{t(this,f,"f")&&clearTimeout(t(this,f,"f")),l(this,f,window.setTimeout(()=>{t(this,n,"m",p).call(this),l(this,f,null,"f")},200),"f")}),window.addEventListener("resize",t(this,o,"f")))):t(this,o,"f")&&(window.removeEventListener("resize",t(this,o,"f")),l(this,o,null))}async close(){this.lfValue&&requestAnimationFrame(()=>{this.lfValue=!1,this.onLfEvent(new CustomEvent("close"),"close"),t(this,s,"f").effects.backdrop.hide(),t(this,u,"f")&&(t(this,u,"f").focus(),l(this,u,null))})}async getDebugInfo(){return this.debugInfo}async getProps(){const e=V.map(i=>[i,this[i]]);return Object.fromEntries(e)}async isOpened(){return this.lfValue}async open(){this.lfValue||(l(this,u,document.activeElement),requestAnimationFrame(()=>{this.lfValue=!0,this.onLfEvent(new CustomEvent("open"),"open"),this.lfDisplay==="slide"&&t(this,s,"f").effects.backdrop.show(()=>this.close()),requestAnimationFrame(()=>{t(this,n,"m",x).call(this)})}))}async refresh(){R(this)}async toggle(){this.lfValue?this.close():this.open()}async unmount(e=0){setTimeout(()=>{t(this,s,"f").effects.backdrop.hide(),this.onLfEvent(new CustomEvent("unmount"),"unmount"),this.rootElement.remove()},e)}connectedCallback(){t(this,s,"f")&&t(this,s,"f").theme.register(this)}async componentWillLoad(){l(this,s,await P(this)),this.lfResponsive>0&&(t(this,n,"m",p).call(this),l(this,o,async()=>{t(this,f,"f")&&clearTimeout(t(this,f,"f")),l(this,f,window.setTimeout(()=>{t(this,n,"m",p).call(this),l(this,f,null,"f")},200),"f")}),window.addEventListener("resize",t(this,o,"f")))}componentDidLoad(){const{info:e}=t(this,s,"f").debug;this.onLfEvent(new CustomEvent("ready"),"ready"),e.update(this,"did-load")}componentWillRender(){const{info:e}=t(this,s,"f").debug;e.update(this,"will-render")}componentDidRender(){const{info:e}=t(this,s,"f").debug;e.update(this,"did-render")}render(){const{bemClass:e,setLfStyle:i}=t(this,s,"f").theme,{drawer:r}=t(this,v,"f"),{lfStyle:a}=this,h=this.lfDisplay==="slide"&&this.lfValue;return c(W,{key:"9b70ab71f8f05f5f836c31d6f8dccf9f35a09ae9"},a&&c("style",{key:"f27ae9f2d2613426d3447c7621e6a30ab9d24bb6",id:t(this,m,"f")},i(this)),c("div",{key:"b924bc11374835c5ac762c741b6bdb9fc5377636","aria-modal":h,id:t(this,y,"f"),ref:k=>{k&&l(this,d,k)},role:"dialog"},c("div",{key:"0d9eb92a089a1bb9caa2da01331b123c24cd535c",class:e(r._),part:t(this,b,"f").drawer},c("div",{key:"cbb30bc1dd6ec3f367bd790fcb46eb8ab3c42fa9",class:e(r._,r.content),"lf-data":t(this,w,"f").fadeIn,part:t(this,b,"f").content},c("slot",{key:"91cfe71045c9b5a5bd1dccc096e175e4c00ca58c",name:M})))))}disconnectedCallback(){var e,i;t(this,o,"f")&&window.removeEventListener("resize",t(this,o,"f")),(e=t(this,s,"f"))==null||e.effects.backdrop.hide(),(i=t(this,s,"f"))==null||i.theme.unregister(this)}get rootElement(){return T(this)}static get watchers(){return{lfDisplay:["onLfDisplayChange"],lfResponsive:["onLfResponsiveChange"]}}};s=new WeakMap,v=new WeakMap,w=new WeakMap,b=new WeakMap,m=new WeakMap,y=new WeakMap,d=new WeakMap,u=new WeakMap,o=new WeakMap,f=new WeakMap,n=new WeakSet,p=function(){if(this.lfResponsive<=0)return;const e=this.lfDisplay,i=window.innerWidth>=this.lfResponsive?"dock":"slide";i!==e&&(this.lfDisplay=i,t(this,n,"m",g).call(this,e,i))},g=function(e,i){this.lfValue&&(e==="slide"&&i==="dock"?t(this,s,"f").effects.backdrop.hide():e==="dock"&&i==="slide"&&t(this,s,"f").effects.backdrop.show(()=>this.close()))},x=function(){if(!this.lfValue||!t(this,d,"f"))return;const e=t(this,d,"f").querySelector(z.join(","));e?e.focus():t(this,d,"f").focus()},E=function(e){if(!this.lfValue||!t(this,d,"f"))return;const i=Array.from(t(this,d,"f").querySelectorAll(z.join(","))).filter(h=>h.offsetWidth>0||h.offsetHeight>0||h===document.activeElement);if(i.length===0)return void e.preventDefault();const r=i[0],a=i[i.length-1];e.shiftKey&&document.activeElement===r?(e.preventDefault(),a.focus()):e.shiftKey||document.activeElement!==a||(e.preventDefault(),r.focus())},j.style=`::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-drawer-font-family, var(--lf-font-family-primary));font-size:var(--lf-drawer-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(
        var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-large)
      )}:host([lf-ui-size=medium]){font-size:calc(
        var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium)
      )}:host([lf-ui-size=small]){font-size:calc(
        var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-small)
      )}:host([lf-ui-size=xlarge]){font-size:calc(
        var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge)
      )}:host([lf-ui-size=xsmall]){font-size:calc(
        var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall)
      )}:host([lf-ui-size=xxlarge]){font-size:calc(
        var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge)
      )}:host([lf-ui-size=xxsmall]){font-size:calc(
        var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall)
      )}#lf-component{width:100%;height:100%}:host{border:0;border-style:solid;border-radius:var(--lf-drawer-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-drawer-color-drawer, var(--lf-color-drawer)), 0.375);color:rgb(var(--lf-drawer-color-on-drawer, var(--lf-color-on-drawer)));backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-sizing:border-box;display:block;height:100dvh;left:calc(var(--lf-ui-width-drawer) * -1);position:absolute;top:0;width:var(--lf-ui-width-drawer);z-index:var(--lf-ui-zindex-drawer)}:host([lf-position=left]){transition:left 300ms cubic-bezier(0.4, 0, 0.2, 1);border-bottom-left-radius:0;border-top-left-radius:0;border-right:var(--lf-drawer-border, 1px solid rgba(var(--lf-color-border), 0.75));left:calc(var(--lf-ui-width-drawer) * -1);right:auto}:host([lf-position=right]){transition:right 300ms cubic-bezier(0.4, 0, 0.2, 1);border-bottom-right-radius:0;border-top-right-radius:0;border-left:var(--lf-drawer-border, 1px solid rgba(var(--lf-color-border), 0.75));left:auto;right:calc(var(--lf-ui-width-drawer) * -1)}:host([lf-display=dock]){box-shadow:none}:host([lf-display=dock])[lf-position=left]{left:0}:host([lf-display=dock])[lf-position=right]{right:0}:host([lf-value]){left:0}:host([lf-value][lf-position=left][lf-display=slide]){box-shadow:var(--lf-drawer-left-box-shadow, 4px 0 10px -2px rgba(var(--lf-color-on-drawer), 0.2), 8px 0 16px 2px rgba(var(--lf-color-on-drawer), 0.14), 2px 0 20px 5px rgba(var(--lf-color-on-drawer), 0.14))}:host([lf-value][lf-position=right][lf-display=slide]){box-shadow:var(--lf-drawer-right-box-shadow, -4px 0 10px -2px rgba(var(--lf-color-on-drawer), 0.2), -8px 0 16px 2px rgba(var(--lf-color-on-drawer), 0.14), -2px 0 20px 5px rgba(var(--lf-color-on-drawer), 0.14))}.drawer,.drawer__content{width:100%;height:100%}`;export{j as lf_drawer};
