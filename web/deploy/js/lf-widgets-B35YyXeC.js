const LF_ACCORDION_BLOCKS = {
  accordion: { _: "accordion" },
  node: {
    _: "node",
    content: "content",
    expand: "expand",
    header: "header",
    icon: "icon",
    text: "text"
  }
};
const LF_ACCORDION_PARTS = {
  accordion: "accordion",
  content: "content",
  expand: "expand",
  header: "header",
  icon: "icon",
  rippleSurface: "ripple-surface",
  text: "text"
};
const LF_ACCORDION_PROPS = [
  "lfDataset",
  "lfRipple",
  "lfStyle",
  "lfUiSize",
  "lfUiState"
];
const LF_ARTICLE_BLOCKS = {
  article: { _: "article" },
  content: { _: "content", body: "body" },
  emptyData: { _: "empty-data", text: "text" },
  paragraph: { _: "paragraph" },
  section: { _: "section" }
};
const LF_ARTICLE_PARTS = {
  article: "article",
  content: "content",
  emptyData: "empty-data",
  paragraph: "paragraph",
  section: "section"
};
const LF_ARTICLE_PROPS = [
  "lfDataset",
  "lfEmpty",
  "lfStyle"
];
const LF_BADGE_CSS_VARS = {
  transform: "--lf_badge_transform"
};
const LF_BADGE_BLOCKS = {
  badge: { _: "badge", image: "image", label: "label" }
};
const LF_BADGE_PARTS = {
  badge: "badge",
  image: "image",
  label: "label"
};
const LF_BADGE_PROPS = [
  "lfImageProps",
  "lfLabel",
  "lfPosition",
  "lfStyle",
  "lfUiState"
];
const LF_BUTTON_BLOCKS = {
  button: {
    _: "button",
    dropdown: "dropdown",
    dropdownRipple: "dropdown-ripple",
    icon: "icon",
    label: "label",
    list: "list",
    spinner: "spinner"
  }
};
const LF_BUTTON_PARTS = {
  button: "button",
  dropdown: "dropdown",
  dropdownRipple: "dropdown-ripple",
  icon: "icon",
  label: "label",
  list: "list",
  rippleSurface: "ripple-surface",
  spinner: "spinner"
};
const LF_BUTTON_PROPS = [
  "lfAriaLabel",
  "lfDataset",
  "lfIcon",
  "lfIconOff",
  "lfLabel",
  "lfRipple",
  "lfShowSpinner",
  "lfStretchX",
  "lfStretchY",
  "lfStyle",
  "lfStyling",
  "lfToggable",
  "lfTrailingIcon",
  "lfType",
  "lfUiSize",
  "lfUiState",
  "lfValue"
];
const LF_CANVAS_BLOCKS = {
  canvas: {
    _: "canvas",
    board: "board",
    image: "image",
    preview: "preview"
  }
};
const LF_CANVAS_PARTS = {
  board: "board",
  canvas: "canvas",
  image: "image",
  preview: "preview"
};
const LF_CANVAS_PROPS = [
  "lfBrush",
  "lfColor",
  "lfCursor",
  "lfImageProps",
  "lfOpacity",
  "lfPreview",
  "lfSize",
  "lfStrokeTolerance",
  "lfStyle"
];
const LF_CAROUSEL_BLOCKS = {
  carousel: {
    _: "carousel",
    back: "back",
    forward: "forward",
    slide: "slide",
    track: "track"
  },
  slideBar: {
    _: "slide-bar",
    segment: "segment"
  }
};
const LF_CAROUSEL_IDS = {
  back: "back-button",
  forward: "forward-button"
};
const LF_CAROUSEL_PARTS = {
  back: "back",
  carousel: "carousel",
  forward: "forward",
  segment: "segment",
  slideBar: "slide-bar",
  track: "track"
};
const LF_CAROUSEL_PROPS = [
  "lfAutoPlay",
  "lfDataset",
  "lfInterval",
  "lfLightbox",
  "lfNavigation",
  "lfShape",
  "lfStyle"
];
const LF_CHART_CSS_VARS = {
  height: "--lf_chart_height",
  width: "--lf_chart_width"
};
const LF_CHART_BLOCKS = {
  chart: { _: "chart" }
};
const LF_CHART_PARTS = {
  chart: "chart"
};
const LF_CHART_PROPS = [
  "lfAxis",
  "lfColors",
  "lfDataset",
  "lfLegend",
  "lfSeries",
  "lfSizeX",
  "lfSizeY",
  "lfStyle",
  "lfTypes",
  "lfXAxis",
  "lfYAxis"
];
const LF_CHAT_BLOCKS = {
  chat: {
    _: "chat",
    clear: "clear",
    configuration: "configuration",
    error: "error",
    icon: "icon",
    prompt: "prompt",
    send: "send",
    settings: "settings",
    spinner: "spinner",
    spinnerBar: "spinner-bar",
    text: "text",
    title: "title"
  },
  commands: {
    _: "commands",
    stt: "stt"
  },
  input: {
    _: "input",
    button: "button",
    progressbar: "progressbar",
    textarea: "textarea"
  },
  messages: {
    _: "messages",
    blockquote: "blockquote",
    bold: "bold",
    bulletList: "bullet-list",
    code: "code",
    container: "container",
    content: "content",
    empty: "empty",
    heading: "heading",
    hr: "hr",
    inlineCode: "inline-code",
    inlineContainer: "inline-container",
    italic: "italic",
    lineBreak: "line-break",
    link: "link",
    list: "list",
    listItem: "list-item",
    paragraph: "paragraph"
  },
  request: { _: "request" },
  settings: {
    _: "settings",
    back: "back",
    configuration: "configuration",
    textarea: "textarea",
    textfield: "textfield"
  },
  toolbar: {
    _: "toolbar",
    button: "button"
  }
};
const LF_CHAT_IDS = {
  chat: {
    clear: "chat-clear",
    configuration: "chat-configuration",
    prompt: "chat-prompt",
    send: "chat-send",
    settings: "chat-settings",
    stt: "chat-stt"
  },
  options: {
    back: "option-back",
    contextWindow: "option-context",
    endpointUrl: "option-endpoint",
    maxTokens: "option-maxtokens",
    polling: "option-polling",
    system: "option-system",
    temperature: "option-temperature"
  },
  toolbar: {
    copyContent: "toolbar-copy-content",
    deleteMessage: "toolbar-delete-message",
    regenerate: "toolbar-regenerate"
  }
};
const LF_CHAT_PARTS = {
  back: "back",
  chat: "chat",
  clear: "clear",
  configuration: "configuration",
  contextWindow: "context-window",
  copyContent: "copy-content",
  deleteMessage: "delete-message",
  endpointUrl: "endpoint-url",
  maxTokens: "max-tokens",
  polling: "polling",
  regenerate: "regenerate",
  prompt: "prompt",
  send: "send",
  settings: "settings",
  stt: "stt",
  system: "system",
  temperature: "temperature",
  toolbar: "toolbar"
};
const LF_CHAT_PROPS = [
  "lfContextWindow",
  "lfEmpty",
  "lfEndpointUrl",
  "lfLayout",
  "lfMaxTokens",
  "lfPollingInterval",
  "lfSeed",
  "lfStyle",
  "lfSystem",
  "lfTemperature",
  "lfTypewriterProps",
  "lfUiSize",
  "lfValue"
];
const LF_CHIP_CSS_VARS = {
  indentOffset: "--lf_chip_indent_offset"
};
const LF_CHIP_BLOCKS = {
  chip: { _: "chip", node: "node" },
  item: {
    _: "item",
    checkmark: "checkmark",
    checkmarkPath: "checkmark-path",
    checkmarkSvg: "checkmark-svg",
    icon: "icon",
    indent: "indent",
    primaryAction: "primary-action",
    text: "text"
  },
  wrapper: {
    _: "wrapper",
    indent: "indent",
    node: "node"
  }
};
const LF_CHIP_PARTS = {
  chip: "chip",
  indent: "indent",
  item: "item"
};
const LF_CHIP_PROPS = [
  "lfAriaLabel",
  "lfDataset",
  "lfRipple",
  "lfStyle",
  "lfStyling",
  "lfUiSize",
  "lfUiState",
  "lfValue"
];
const LF_CODE_BLOCKS = {
  code: { _: "code", header: "header", title: "title" }
};
const LF_CODE_PARTS = {
  code: "code",
  copy: "copy",
  header: "header",
  prism: "prism",
  title: "title"
};
const LF_CODE_PROPS = [
  "lfFadeIn",
  "lfFormat",
  "lfLanguage",
  "lfPreserveSpaces",
  "lfShowCopy",
  "lfShowHeader",
  "lfStickyHeader",
  "lfStyle",
  "lfUiSize",
  "lfUiState",
  "lfValue"
];
const LF_COMPARE_CSS_VARS = {
  overlayWidth: "--lf_compare_overlay_width"
};
const LF_COMPARE_BLOCKS = {
  compare: { _: "compare", grid: "grid" },
  toolbar: {
    _: "toolbar",
    panel: "panel"
  },
  view: {
    _: "view",
    input: "input",
    left: "left",
    right: "right",
    slider: "slider"
  }
};
const LF_COMPARE_DEFAULTS = () => {
  return {
    left: {
      image: () => [
        {
          htmlProps: {
            dataset: {
              lf: LF_ATTRIBUTES.fadeIn
            }
          },
          lfSizeX: "100%",
          lfSizeY: "100%",
          shape: "image",
          value: ""
        }
      ]
    },
    right: {
      image: () => [
        {
          htmlProps: {
            dataset: {
              lf: LF_ATTRIBUTES.fadeIn
            }
          },
          lfSizeX: "100%",
          lfSizeY: "100%",
          shape: "image",
          value: ""
        }
      ]
    }
  };
};
const LF_COMPARE_IDS = {
  leftButton: "toggle-left-button",
  leftTree: "toggle-left-tree",
  rightButton: "toggle-right-button",
  rightTree: "toggle-right-tree",
  changeView: "change-view"
};
const LF_COMPARE_PARTS = {
  changeView: "changeView",
  compare: "compare",
  leftButton: "leftButton",
  leftTree: "leftTree",
  rightButton: "rightButton",
  rightTree: "rightTree"
};
const LF_COMPARE_PROPS = [
  "lfDataset",
  "lfShape",
  "lfStyle",
  "lfView"
];
const LF_DRAWER_BLOCKS = {
  drawer: { _: "drawer", content: "content" }
};
const LF_DRAWER_PARTS = {
  content: "content",
  drawer: "drawer"
};
const LF_DRAWER_PROPS = [
  "lfDisplay",
  "lfPosition",
  "lfResponsive",
  "lfStyle",
  "lfValue"
];
const LF_DRAWER_SLOT = "content";
const LF_HEADER_BLOCKS = {
  header: { _: "header", section: "section" }
};
const LF_HEADER_PARTS = {
  header: "header",
  section: "section"
};
const LF_HEADER_PROPS = [
  "lfStyle"
];
const LF_HEADER_SLOT = "content";
const LF_IMAGE_CSS_VARS = {
  brokenImage: "--lf_broken_image",
  height: "--lf_image_height",
  mask: "--lf_image_mask",
  width: "--lf_image_width"
};
const LF_IMAGE_BLOCKS = {
  image: { _: "image", icon: "icon", img: "img" }
};
const LF_IMAGE_PARTS = {
  icon: "icon",
  image: "image",
  img: "img"
};
const LF_IMAGE_PROPS = [
  "lfHtmlAttributes",
  "lfSizeX",
  "lfSizeY",
  "lfStyle",
  "lfUiState",
  "lfValue",
  "lfMode"
];
const LF_IMAGEVIEWER_BLOCKS = {
  detailsGrid: {
    _: "details-grid",
    actions: "actions",
    canvas: "canvas",
    clearHistory: "clear-history",
    delete: "delete",
    redo: "details-redo",
    commitChanges: "commit-changes",
    preview: "preview",
    settings: "settings",
    spinner: "spinner",
    tree: "tree",
    undo: "undo"
  },
  imageviewer: { _: "imageviewer" },
  mainGrid: { _: "main-grid" },
  navigationGrid: {
    _: "navigation-grid",
    button: "button",
    masonry: "masonry",
    navToggle: "nav-toggle",
    tree: "tree",
    textfield: "textfield"
  }
};
const IDS = {
  details: {
    canvas: "details-canvas",
    clearHistory: "details-clear-history",
    deleteShape: "details-delete-shape",
    redo: "details-redo",
    save: "details-save",
    spinner: "details-spinner",
    tree: "details-tree",
    undo: "details-undo"
  },
  navigation: {
    load: "navigation-load",
    masonry: "navigation-masonry",
    navToggle: "navigation-nav-toggle",
    tree: "navigation-tree",
    textfield: "navigation-textfield"
  }
};
const LF_IMAGEVIEWER_PARTS = {
  details: "details",
  imageviewer: "imageviewer",
  navigation: "navigation"
};
const LF_IMAGEVIEWER_PROPS = [
  "lfDataset",
  "lfLoadCallback",
  "lfNavigation",
  "lfStyle",
  "lfValue"
];
const LF_LIST_BLOCKS = {
  delete: { _: "delete", icon: "icon" },
  emptyData: { _: "empty-data", text: "text" },
  list: { _: "list", item: "item" },
  node: {
    _: "node",
    icon: "icon",
    subtitle: "subtitle",
    text: "text",
    title: "title"
  }
};
const LF_LIST_PARTS = {
  delete: "delete",
  emptyData: "empty-data",
  list: "list",
  node: "node"
};
const LF_LIST_PROPS = [
  "lfDataset",
  "lfEmpty",
  "lfEnableDeletions",
  "lfNavigation",
  "lfRipple",
  "lfSelectable",
  "lfStyle",
  "lfUiSize",
  "lfUiState",
  "lfValue"
];
const LF_MASONRY_CSS_VARS = { columns: "--lf_masonry_columns" };
const LF_MASONRY_BLOCKS = {
  grid: {
    _: "grid",
    actions: "actions",
    addColumn: "add-column",
    changeViewe: "change-view",
    column: "column",
    removeColumn: "remove-column",
    sub: "sub"
  },
  masonry: { _: "masonry" }
};
const LF_MASONRY_DEFAULT_COLUMNS = [640, 768, 1024, 1920, 2560];
const LF_MASONRY_IDS = {
  addColumn: "add-column",
  masonry: "masonry",
  removeColumn: "remove-column"
};
const LF_MASONRY_PARTS = {
  addColumn: "add-column",
  changeView: "change-view",
  masonry: "masonry",
  removeColumn: "remove-column"
};
const LF_MASONRY_PROPS = [
  "lfActions",
  "lfCollapseColumns",
  "lfColumns",
  "lfDataset",
  "lfSelectable",
  "lfShape",
  "lfStyle",
  "lfView"
];
const LF_MESSENGER_BLOCKS = {
  character: {
    _: "character",
    avatar: "avatar",
    biography: "biography",
    image: "image",
    label: "label",
    name: "name",
    nameWrapper: "name-wrapper",
    status: "status"
  },
  chat: {
    _: "chat",
    chat: "chat",
    expander: "expander",
    navigation: "navigation"
  },
  covers: {
    _: "covers",
    add: "add",
    images: "images",
    label: "label",
    title: "title"
  },
  extraContext: {
    _: "extra-context",
    list: "list",
    options: "options"
  },
  form: {
    _: "form",
    button: "button",
    confirm: "confirm",
    field: "field",
    label: "label"
  },
  list: {
    _: "list",
    actions: "actions",
    image: "image"
  },
  messenger: { _: "messenger" },
  options: {
    _: "options",
    blocker: "blocker",
    blockerIcon: "blocker-icon",
    blockerLabel: "blocker-label",
    cover: "cover",
    info: "info",
    label: "label",
    name: "name",
    placeholder: "placeholder",
    placeholderIcon: "placeholder-icon",
    wrapper: "wrapper"
  },
  roster: {
    _: "roster",
    emptyData: "empty-data",
    image: "image",
    label: "label",
    name: "name",
    portrait: "portrait"
  }
};
const LF_MESSENGER_CLEAN_UI = () => {
  return {
    customizationView: false,
    filters: {
      avatars: false,
      locations: false,
      outfits: false,
      styles: false,
      timeframes: false
    },
    form: {
      avatars: false,
      locations: false,
      outfits: false,
      styles: false,
      timeframes: false
    },
    options: {
      locations: true,
      outfits: true,
      styles: true,
      timeframes: true
    },
    panels: {
      isLeftCollapsed: false,
      isRightCollapsed: false
    }
  };
};
const LF_MESSENGER_PARTS = {
  emptyData: "empty-data",
  messenger: "messenger",
  roster: "roster"
};
const LF_MESSENGER_PROPS = [
  "lfAutosave",
  "lfDataset",
  "lfStyle",
  "lfValue"
];
const LF_MESSENGER_IDS = {
  chat: {
    leftExpander: "left-expander",
    rightExpander: "right-expaner"
  },
  options: {
    back: "back-button",
    customize: "customize-button"
  }
};
const AVATAR_COVER = "id";
const LOCATION_COVER = "sunset-2";
const OUTFIT_COVER = "shirt";
const STYLE_COVER = "color-swatch";
const TIMEFRAME_COVER = "calendar-clock";
const LF_MESSENGER_FILTER = {
  nodes: [
    {
      description: "View avatars",
      icon: AVATAR_COVER,
      id: "avatars",
      value: "Avatars"
    },
    {
      description: "View outfits",
      icon: OUTFIT_COVER,
      id: "outfits",
      value: "Outfits"
    },
    {
      description: "View locations",
      icon: LOCATION_COVER,
      id: "locations",
      value: "Locations"
    },
    {
      description: "View styles",
      icon: STYLE_COVER,
      id: "styles",
      value: "Styles"
    },
    {
      description: "View timeframes",
      icon: TIMEFRAME_COVER,
      id: "timeframes",
      value: "Timeframes"
    }
  ]
};
const LF_MESSENGER_MENU = (theme) => {
  const { "--lf-icon-download": download, "--lf-icon-settings": settings } = theme.get.current().variables;
  return {
    nodes: [
      {
        children: [
          {
            description: "Download the LF Widgets JSON, used as a dataset.",
            icon: download,
            id: "lfDataset",
            value: "Download dataset"
          },
          {
            description: "Download the current configuration settings.",
            icon: settings,
            id: "settings",
            value: "Download configuration"
          }
        ],
        id: "root",
        value: ""
      }
    ]
  };
};
const CHILD_ROOT_MAP = {
  avatar: "avatars",
  location: "locations",
  outfit: "outfits",
  style: "styles",
  timeframe: "timeframes"
};
const OPTION_TYPE_IDS = [
  "locations",
  "outfits",
  "styles",
  "timeframes"
];
const IMAGE_TYPE_IDS = ["avatars", ...OPTION_TYPE_IDS];
const LF_MESSENGER_NAV = (theme) => {
  const { "--lf-icon-next": next, "--lf-icon-previous": previous } = theme.get.current().variables;
  return {
    nodes: [
      {
        description: "Previous character",
        icon: previous,
        id: "previous",
        value: ""
      },
      {
        description: "Character selection",
        id: "character_list",
        value: "Character list"
      },
      {
        description: "Next character",
        icon: next,
        id: "next",
        value: ""
      }
    ]
  };
};
const LF_PHOTOFRAME_BLOCKS = {
  overlay: {
    _: "overlay",
    content: "content",
    description: "description",
    icon: "icon",
    title: "title"
  },
  photoframe: {
    _: "photoframe",
    image: "image",
    placeholder: "placeholder"
  }
};
const LF_PHOTOFRAME_PARTS = {
  description: "description",
  icon: "icon",
  image: "image",
  overlay: "overlay",
  photoframe: "photoframe",
  placeholder: "placeholder",
  title: "title"
};
const LF_PHOTOFRAME_PROPS = [
  "lfOverlay",
  "lfPlaceholder",
  "lfStyle",
  "lfThreshold",
  "lfValue"
];
const LF_PLACEHOLDER_BLOCKS = {
  placeholder: { _: "placeholder", icon: "icon" }
};
const LF_PLACEHOLDER_PARTS = {
  icon: "icon",
  placeholder: "placeholder"
};
const LF_PLACEHOLDER_PROPS = [
  "lfValue",
  "lfProps",
  "lfTrigger",
  "lfIcon",
  "lfStyle",
  "lfThreshold"
];
const LF_PROGRESSBAR_CSS_VARIABLES = {
  transform: "--lf_progressbar_transform",
  width: "--lf_progressbar_percentage_width"
};
const LF_PROGRESSBAR_BLOCKS = {
  pie: { _: "pie", halfCircle: "half-circle", track: "track" },
  progressbar: {
    _: "progressbar",
    icon: "icon",
    label: "label",
    mu: "mu",
    percentage: "percentage",
    text: "text"
  }
};
const LF_PROGRESSBAR_PARTS = {
  icon: "icon",
  label: "label",
  mu: "mu",
  percentage: "percentage",
  progressbar: "progressbar",
  text: "text",
  track: "track"
};
const LF_PROGRESSBAR_PROPS = [
  "lfAnimated",
  "lfCenteredLabel",
  "lfIcon",
  "lfIsRadial",
  "lfLabel",
  "lfStyle",
  "lfUiSize",
  "lfUiState",
  "lfValue"
];
const LF_SLIDER_CSS_VARIABLES = {
  value: "--lf_slider_value"
};
const LF_SLIDER_BLOCKS = {
  formField: {
    _: "form-field",
    label: "label"
  },
  slider: {
    _: "slider",
    nativeControl: "native-control",
    thumb: "thumb",
    thumbUnderlay: "thumb-underlay",
    track: "track",
    value: "value"
  }
};
const LF_SLIDER_PARTS = {
  formField: "form-field",
  label: "label",
  nativeControl: "native-control",
  slider: "slider",
  thumb: "thumb",
  thumbUnderlay: "thumb-underlay",
  track: "track",
  value: "value"
};
const LF_SLIDER_PROPS = [
  "lfLabel",
  "lfLeadingLabel",
  "lfMax",
  "lfMin",
  "lfRipple",
  "lfStep",
  "lfStyle",
  "lfUiSize",
  "lfUiState",
  "lfValue"
];
const LF_SPINNER_PROPS = [
  "lfActive",
  "lfBarVariant",
  "lfDimensions",
  "lfFader",
  "lfFaderTimeout",
  "lfFullScreen",
  "lfLayout",
  "lfStyle",
  "lfTimeout"
];
const LF_SPLASH_BLOCKS = {
  splash: {
    _: "splash",
    content: "content",
    label: "label",
    widget: "widget"
  }
};
const LF_SPLASH_PARTS = {
  content: "content",
  label: "label",
  splash: "splash",
  widget: "widget"
};
const LF_SPLASH_PROPS = [
  "lfLabel",
  "lfStyle"
];
const LF_TABBAR_BLOCKS = {
  tab: {
    _: "tab",
    content: "content",
    icon: "icon",
    indicator: "indicator",
    indicatorContent: "indicator-content",
    label: "label"
  },
  tabbar: {
    _: "tabbar",
    scroll: "scroll"
  }
};
const LF_TABBAR_PARTS = {
  tab: "tab",
  tabbbar: "tabbar"
};
const LF_TABBAR_PROPS = [
  "lfAriaLabel",
  "lfDataset",
  "lfNavigation",
  "lfRipple",
  "lfStyle",
  "lfUiSize",
  "lfUiState",
  "lfValue"
];
const LF_TEXTFIELD_BLOCKS = {
  notchedOutline: {
    _: "notched-outline",
    leading: "leading",
    notch: "notch",
    trailing: "trailing"
  },
  textfield: {
    _: "textfield",
    counter: "counter",
    helperLine: "helper-line",
    helperText: "helper-text",
    icon: "icon",
    input: "input",
    label: "label",
    resizer: "resizer",
    rippleSurface: "ripple-surface"
  }
};
const LF_TEXTFIELD_PARTS = {
  counter: "counter",
  icon: "icon",
  input: "input",
  label: "label",
  textfield: "textfield"
};
const LF_TEXTFIELD_PROPS = [
  "lfFormatJSON",
  "lfHelper",
  "lfHtmlAttributes",
  "lfIcon",
  "lfLabel",
  "lfStretchY",
  "lfStyle",
  "lfStyling",
  "lfTrailingIcon",
  "lfUiSize",
  "lfUiState",
  "lfValue"
];
const LF_TOAST_CSS_VARIABLES = {
  timer: "--lf_toast_timer"
};
const LF_TOAST_BLOCKS = {
  toast: {
    _: "toast",
    accent: "accent",
    icon: "icon",
    message: "message",
    messageWrapper: "message-wrapper"
  }
};
const LF_TOAST_PARTS = {
  icon: "icon",
  message: "message"
};
const LF_TOAST_PROPS = [
  "lfCloseCallback",
  "lfCloseIcon",
  "lfIcon",
  "lfMessage",
  "lfStyle",
  "lfTimer",
  "lfUiSize",
  "lfUiState"
];
const LF_TOGGLE_BLOCKS = {
  formField: {
    _: "form-field",
    label: "label"
  },
  toggle: {
    _: "toggle",
    label: "label",
    nativeControl: "native-control",
    thumb: "thumb",
    thumbUnderlay: "thumb-underlay",
    track: "track"
  }
};
const LF_TOGGLE_PARTS = {
  label: "label",
  nativeControl: "native-control",
  toggle: "toggle",
  thumb: "thumb",
  track: "track"
};
const LF_TOGGLE_PROPS = [
  "lfAriaLabel",
  "lfLabel",
  "lfLeadingLabel",
  "lfRipple",
  "lfStyle",
  "lfUiSize",
  "lfUiState",
  "lfValue"
];
const LF_TREE_CSS_VARIABLES = {
  multiplier: "--lf_tree_padding_multiplier"
};
const LF_TREE_BLOCKS = {
  emptyData: { _: "empty-data", text: "text" },
  node: {
    _: "node",
    content: "content",
    dropdown: "dropdown",
    expand: "expand",
    icon: "icon",
    padding: "padding",
    value: "value",
    grid: "grid",
    gridCell: "grid-cell"
  },
  noMatches: { _: "no-matches", filter: "filter", icon: "icon", text: "text" },
  tree: {
    _: "tree",
    filter: "filter",
    nodesWrapper: "nodes-wrapper",
    header: "header"
  },
  header: { _: "header", row: "row", cell: "cell" }
};
const LF_TREE_PARTS = {
  emptyData: "empty-data",
  node: "node",
  header: "header",
  headerRow: "header-row",
  tree: "tree"
};
const LF_TREE_PROPS = [
  "lfAccordionLayout",
  "lfDataset",
  "lfEmpty",
  "lfExpandedNodeIds",
  "lfFilter",
  "lfGrid",
  "lfInitialExpansionDepth",
  "lfRipple",
  "lfSelectable",
  "lfSelectedNodeIds",
  "lfStyle",
  "lfUiSize"
];
const LF_TYPEWRITER_BLOCKS = {
  typewriter: {
    _: "typewriter",
    cursor: "cursor",
    text: "text"
  }
};
const LF_TYPEWRITER_PARTS = {
  cursor: "cursor",
  text: "text",
  typewriter: "typewriter"
};
const LF_TYPEWRITER_PROPS = [
  "lfCursor",
  "lfDeleteSpeed",
  "lfLoop",
  "lfPause",
  "lfSpeed",
  "lfStyle",
  "lfTag",
  "lfUpdatable",
  "lfValue"
];
const LF_UPLOAD_BLOCKS = {
  fileInfo: {
    _: "file-info",
    clear: "clear",
    icon: "icon",
    item: "item",
    name: "name",
    size: "size"
  },
  fileUpload: {
    _: "file-upload",
    input: "input",
    label: "label",
    text: "text"
  },
  upload: { _: "upload" }
};
const LF_UPLOAD_PARTS = {
  fileInfo: "file-info",
  icon: "icon",
  upload: "upload"
};
const LF_UPLOAD_PROPS = [
  "lfHtmlAttributes",
  "lfLabel",
  "lfRipple",
  "lfStyle",
  "lfValue"
];
const CSS_VAR_PREFIX = "--lf-";
const CY_ATTRIBUTES = {
  button: "button",
  canvas: "canvas",
  check: "check",
  dropdownButton: "dropdown-button",
  dropdownMenu: "dropdown-menu",
  effects: "effects",
  icon: "icon",
  image: "image",
  input: "input",
  maskedSvg: "masked-svg",
  node: "node",
  portal: "portal",
  rippleSurface: "ripple-surface",
  shape: "shape",
  showcaseExample: "showcase-example",
  showcaseGridWrapper: "showcase-grid-wrapper"
};
const LF_ATTRIBUTES = {
  backdrop: "backdrop",
  danger: "danger",
  disabled: "disabled",
  fadeIn: "fade-in",
  icon: "icon",
  info: "info",
  lightbox: "lightbox",
  lightboxContent: "lightbox-content",
  portal: "portal",
  primary: "primary",
  ripple: "ripple",
  rippleSurface: "ripple-surface",
  secondary: "secondary",
  success: "success",
  tilt: "tilt",
  warning: "warning"
};
const LF_STYLE_ID = "lf-style";
const LF_WRAPPER_ID = "lf-component";
const getComponentProps = () => {
  return {
    LfAccordion: LF_ACCORDION_PROPS,
    LfArticle: LF_ARTICLE_PROPS,
    LfBadge: LF_BADGE_PROPS,
    LfButton: LF_BUTTON_PROPS,
    LfCanvas: LF_CANVAS_PROPS,
    LfCard: LF_CARD_PROPS,
    LfCarousel: LF_CAROUSEL_PROPS,
    LfChart: LF_CHART_PROPS,
    LfChat: LF_CHAT_PROPS,
    LfChip: LF_CHIP_PROPS,
    LfCode: LF_CODE_PROPS,
    LfCompare: LF_COMPARE_PROPS,
    LfDrawer: LF_DRAWER_PROPS,
    LfHeader: LF_HEADER_PROPS,
    LfImage: LF_IMAGE_PROPS,
    LfImageviewer: LF_IMAGEVIEWER_PROPS,
    LfList: LF_LIST_PROPS,
    LfMasonry: LF_MASONRY_PROPS,
    LfMessenger: LF_MESSENGER_PROPS,
    LfPhotoframe: LF_PHOTOFRAME_PROPS,
    LfPlaceholder: LF_PLACEHOLDER_PROPS,
    LfProgressbar: LF_PROGRESSBAR_PROPS,
    LfSlider: LF_SLIDER_PROPS,
    LfSpinner: LF_SPINNER_PROPS,
    LfSplash: LF_SPLASH_PROPS,
    LfTabbar: LF_TABBAR_PROPS,
    LfTextfield: LF_TEXTFIELD_PROPS,
    LfToast: LF_TOAST_PROPS,
    LfToggle: LF_TOGGLE_PROPS,
    LfTree: LF_TREE_PROPS,
    LfTypewriter: LF_TYPEWRITER_PROPS,
    LfUpload: LF_UPLOAD_PROPS
  };
};
const LF_CARD_CSS_VARS = {
  height: "--lf_card_height",
  width: "--lf_card_width"
};
const LF_CARD_BLOCKS = {
  card: "card",
  debugLayout: {
    _: "debug-layout",
    section1: "section-1",
    section2: "section-2",
    section3: "section-3",
    section4: "section-4"
  },
  keywordsLayout: {
    _: "keywords-layout",
    section1: "section-1",
    section2: "section-2",
    section3: "section-3"
  },
  materialLayout: {
    _: "material-layout",
    actionsSection: "actions-section",
    coverSection: "cover-section",
    textSection: "text-section"
  },
  textContent: {
    _: "text-content",
    title: "title",
    subtitle: "subtitle",
    description: "description"
  },
  uploadLayout: {
    _: "upload-layout",
    section1: "section-1",
    section2: "section-2"
  }
};
const LF_CARD_DEFAULTS = (getAdapter) => {
  return {
    debug: {
      button: () => {
        const { current, themes } = getAdapter().controller.get.manager.theme.get;
        const { "--lf-icon-clear": clear } = current().variables;
        return [
          {
            htmlProps: {
              id: LF_CARD_IDS.clear
            },
            lfIcon: clear,
            lfLabel: "Clear logs",
            lfStretchX: true,
            lfUiState: "danger",
            shape: "button",
            value: ""
          },
          {
            htmlProps: {
              id: LF_CARD_IDS.theme
            },
            lfDataset: themes().asDataset,
            lfStretchX: true,
            shape: "button",
            value: ""
          }
        ];
      },
      code: () => [
        { lfLanguage: "markdown", shape: "code", value: "" }
      ],
      toggle: () => {
        const { debug } = getAdapter().controller.get.manager;
        return [
          {
            lfLeadingLabel: true,
            lfLabel: "Toggle debug",
            lfValue: debug.isEnabled(),
            shape: "toggle",
            value: false
          }
        ];
      }
    },
    keywords: {
      button: () => {
        const { "--lf-icon-copy": copy } = getAdapter().controller.get.manager.theme.get.current().variables;
        return [
          {
            lfIcon: copy,
            lfLabel: "Copy selected",
            lfStretchX: true,
            lfStyling: "flat",
            shape: "button",
            value: ""
          }
        ];
      },
      chart: () => [
        {
          lfLegend: "hidden",
          lfTypes: ["bar"],
          shape: "chart",
          value: ""
        }
      ],
      chip: () => [
        {
          lfStyle: "#lf-component .chip-set { height: auto; }",
          lfStyling: "filter",
          shape: "chip",
          value: ""
        }
      ]
    },
    material: {
      image: () => [
        {
          htmlProps: {
            dataset: { lf: LF_ATTRIBUTES.fadeIn }
          },
          lfSizeX: "100%",
          lfSizeY: "100%",
          shape: "image",
          value: ""
        }
      ]
    },
    upload: {
      button: () => [
        {
          lfIcon: "upload",
          lfLabel: "Upload",
          lfStretchX: true,
          shape: "button",
          value: ""
        }
      ]
    }
  };
};
const LF_CARD_IDS = {
  clear: "clear",
  theme: "theme"
};
const LF_CARD_PARTS = {
  card: "card",
  debugLayout: "debug-layout",
  keywordsLayout: "keywords-layout",
  materialLayout: "material-layout",
  uploadLayout: "upload-layout"
};
const LF_CARD_PROPS = [
  "lfDataset",
  "lfLayout",
  "lfSizeX",
  "lfSizeY",
  "lfStyle",
  "lfUiSize",
  "lfUiState"
];
var LfMessengerProps;
(function(LfMessengerProps2) {
  LfMessengerProps2["lfAutosave"] = "Automatically saves the dataset when a chat updates.";
  LfMessengerProps2["lfDataset"] = "The actual data of the component.";
  LfMessengerProps2["lfStyle"] = "Custom style of the component.";
  LfMessengerProps2["lfValue"] = "Sets the initial configuration, including active character and filters.";
})(LfMessengerProps || (LfMessengerProps = {}));
const LF_COLOR_CODES = {
  aliceblue: "#f0f8ff",
  antiquewhite: "#faebd7",
  aqua: "#00ffff",
  aquamarine: "#7fffd4",
  azure: "#f0ffff",
  beige: "#f5f5dc",
  bisque: "#ffe4c4",
  black: "#000000",
  blanchedalmond: "#ffebcd",
  blue: "#0000ff",
  blueviolet: "#8a2be2",
  brown: "#a52a2a",
  burlywood: "#deb887",
  cadetblue: "#5f9ea0",
  chartreuse: "#7fff00",
  chocolate: "#d2691e",
  coral: "#ff7f50",
  cornflowerblue: "#6495ed",
  cornsilk: "#fff8dc",
  crimson: "#dc143c",
  cyan: "#00ffff",
  darkblue: "#00008b",
  darkcyan: "#008b8b",
  darkgoldenrod: "#b8860b",
  darkgray: "#a9a9a9",
  darkgreen: "#006400",
  darkgrey: "#a9a9a9",
  darkkhaki: "#bdb76b",
  darkmagenta: "#8b008b",
  darkolivegreen: "#556b2f",
  darkorange: "#ff8c00",
  darkorchid: "#9932cc",
  darkred: "#8b0000",
  darksalmon: "#e9967a",
  darkseagreen: "#8fbc8f",
  darkslateblue: "#483d8b",
  darkslategray: "#2f4f4f",
  darkslategrey: "#2f4f4f",
  darkturquoise: "#00ced1",
  darkviolet: "#9400d3",
  deeppink: "#ff1493",
  deepskyblue: "#00bfff",
  dimgray: "#696969",
  dimgrey: "#696969",
  dodgerblue: "#1e90ff",
  firebrick: "#b22222",
  floralwhite: "#fffaf0",
  forestgreen: "#228b22",
  fuchsia: "#ff00ff",
  gainsboro: "#dcdcdc",
  ghostwhite: "#f8f8ff",
  goldenrod: "#daa520",
  gold: "#ffd700",
  gray: "#808080",
  green: "#008000",
  greenyellow: "#adff2f",
  grey: "#808080",
  honeydew: "#f0fff0",
  hotpink: "#ff69b4",
  indianred: "#cd5c5c",
  indigo: "#4b0082",
  ivory: "#fffff0",
  khaki: "#f0e68c",
  lavenderblush: "#fff0f5",
  lavender: "#e6e6fa",
  lawngreen: "#7cfc00",
  lemonchiffon: "#fffacd",
  lightblue: "#add8e6",
  lightcoral: "#f08080",
  lightcyan: "#e0ffff",
  lightgoldenrodyellow: "#fafad2",
  lightgray: "#d3d3d3",
  lightgreen: "#90ee90",
  lightgrey: "#d3d3d3",
  lightpink: "#ffb6c1",
  lightsalmon: "#ffa07a",
  lightseagreen: "#20b2aa",
  lightskyblue: "#87cefa",
  lightslategray: "#778899",
  lightslategrey: "#778899",
  lightsteelblue: "#b0c4de",
  lightyellow: "#ffffe0",
  lime: "#00ff00",
  limegreen: "#32cd32",
  linen: "#faf0e6",
  magenta: "#ff00ff",
  maroon: "#800000",
  mediumaquamarine: "#66cdaa",
  mediumblue: "#0000cd",
  mediumorchid: "#ba55d3",
  mediumpurple: "#9370db",
  mediumseagreen: "#3cb371",
  mediumslateblue: "#7b68ee",
  mediumspringgreen: "#00fa9a",
  mediumturquoise: "#48d1cc",
  mediumvioletred: "#c71585",
  midnightblue: "#191970",
  mintcream: "#f5fffa",
  mistyrose: "#ffe4e1",
  moccasin: "#ffe4b5",
  navajowhite: "#ffdead",
  navy: "#000080",
  oldlace: "#fdf5e6",
  olive: "#808000",
  olivedrab: "#6b8e23",
  orange: "#ffa500",
  orangered: "#ff4500",
  orchid: "#da70d6",
  palegoldenrod: "#eee8aa",
  palegreen: "#98fb98",
  paleturquoise: "#afeeee",
  palevioletred: "#db7093",
  papayawhip: "#ffefd5",
  peachpuff: "#ffdab9",
  peru: "#cd853f",
  pink: "#ffc0cb",
  plum: "#dda0dd",
  powderblue: "#b0e0e6",
  purple: "#800080",
  rebeccapurple: "#663399",
  red: "#ff0000",
  rosybrown: "#bc8f8f",
  royalblue: "#4169e1",
  saddlebrown: "#8b4513",
  salmon: "#fa8072",
  sandybrown: "#f4a460",
  seagreen: "#2e8b57",
  seashell: "#fff5ee",
  sienna: "#a0522d",
  silver: "#c0c0c0",
  skyblue: "#87ceeb",
  slateblue: "#6a5acd",
  slategray: "#708090",
  slategrey: "#708090",
  snow: "#fffafa",
  springgreen: "#00ff7f",
  steelblue: "#4682b4",
  tan: "#d2b48c",
  teal: "#008080",
  thistle: "#d8bfd8",
  tomato: "#ff6347",
  turquoise: "#40e0d0",
  violet: "#ee82ee",
  wheat: "#f5deb3",
  white: "#ffffff",
  whitesmoke: "#f5f5f5",
  yellow: "#ffff00",
  yellowgreen: "#9acd32"
};
const LF_EFFECTS_FOCUSABLES = [
  "a[href]",
  "area[href]",
  "button:not([disabled])",
  "input:not([disabled])",
  "select:not([disabled])",
  "textarea:not([disabled])",
  "iframe",
  "[tabindex]:not([tabindex='-1'])",
  "[contenteditable]"
];
const LF_EFFECTS_VARS = {
  ripple: {
    background: "--lf-ui-ripple-background",
    height: "--lf-ui-ripple-height",
    width: "--lf-ui-ripple-width",
    x: "--lf-ui-ripple-x",
    y: "--lf-ui-ripple-y"
  },
  tilt: {
    x: "--lf-ui-tilt-x",
    y: "--lf-ui-tilt-y",
    lightX: "--lf-ui-tilt-light-x",
    lightY: "--lf-ui-tilt-light-y"
  }
};
const LF_FRAMEWORK_ALLOWED_ATTRS = [
  "accept",
  "accept-charset",
  "alt",
  "autocomplete",
  "autofocus",
  "checked",
  "class",
  "dataset",
  "disabled",
  "href",
  "htmlProps",
  "id",
  "max",
  "maxLength",
  "min",
  "minLength",
  "multiple",
  "name",
  "placeholder",
  "readonly",
  "role",
  "src",
  "srcset",
  "step",
  "title",
  "type",
  "value"
];
const LF_FRAMEWORK_ALLOWED_PREFIXES = ["aria", "data"];
const LF_FRAMEWORK_EVENT_NAME = "lf-core-event";
const LF_FRAMEWORK_SYMBOL_KEY = "__LfFramework__";
const LF_FRAMEWORK_SYMBOL = Symbol.for(LF_FRAMEWORK_SYMBOL_KEY);
let _resolveFrameworkReady = null;
const onFrameworkReady = new Promise((resolve) => {
  _resolveFrameworkReady = resolve;
});
function markFrameworkReady(framework) {
  if (_resolveFrameworkReady) {
    _resolveFrameworkReady(framework);
    _resolveFrameworkReady = null;
  }
}
const getGlobalScope = () => {
  if (typeof globalThis === "undefined") {
    return void 0;
  }
  return globalThis;
};
const getStencilHelper = (key) => {
  const globalScope = getGlobalScope();
  const candidates = [
    globalScope == null ? void 0 : globalScope.StencilCore,
    globalScope == null ? void 0 : globalScope.app,
    globalScope == null ? void 0 : globalScope.App,
    globalScope == null ? void 0 : globalScope.lfWidgets,
    globalScope
  ];
  for (const candidate of candidates) {
    const helper = candidate == null ? void 0 : candidate[key];
    if (typeof helper === "function") {
      return helper.bind(candidate);
    }
  }
  if (typeof window === "undefined") {
    try {
      const stencil = require("@stencil/core");
      const helper = stencil == null ? void 0 : stencil[key];
      if (typeof helper === "function") {
        return helper;
      }
    } catch {
    }
  }
  return void 0;
};
const getAssetPathProxy = (path) => {
  const helper = getStencilHelper("getAssetPath");
  if (helper) {
    try {
      const result = helper(path);
      if (typeof result === "string" && result.length > 0) {
        return result;
      }
    } catch {
    }
  }
  return path;
};
const setAssetPathProxy = (path) => {
  const helper = getStencilHelper("setAssetPath");
  if (helper) {
    try {
      helper(path);
    } catch {
    }
  }
};
const registerStencilAssetProxies = (module) => {
  onFrameworkReady.then((framework) => {
    framework.register(module, {
      getAssetPath: getAssetPathProxy,
      setAssetPath: setAssetPathProxy
    });
  }).catch(() => {
  });
};
const LF_THEME_COLORS_PREFIX = "--lf-color-";
const LF_THEME_COLORS_DATA_PREFIX = `${LF_THEME_COLORS_PREFIX}data-`;
const LF_THEME_FONTS_FONTFACE = {
  bebasNeue: "BebasNeue",
  cinzel: "Cinzel",
  IMFellEnglishSC: "IMFellEnglishSC",
  lato: "Lato",
  merriweather: "Merriweather",
  montserrat: "Montserrat",
  orbitron: "Orbitron",
  oswald: "Oswald",
  raleway: "Raleway",
  sawarabiMincho: "SawarabiMincho",
  shareTechMono: "ShareTechMono",
  sourceCodePro: "SourceCodePro",
  staatliches: "Staatliches",
  uncialAntiqua: "UncialAntiqua",
  vt323: "VT323",
  xanhMono: "XanhMono"
};
const LF_THEME_UI_PREFIX = "--lf-ui-";
const LF_THEME_UI_SIZES = [
  "large",
  "medium",
  "small",
  "xlarge",
  "xsmall",
  "xxlarge",
  "xxsmall"
];
({
  ...LF_THEME_UI_SIZES.reduce((acc, size) => {
    acc[size] = `${LF_THEME_UI_PREFIX}size-${size}`;
    return acc;
  }, {})
});
const LF_THEME_ICONS_PREFIX = "--lf-icon-";
const LF_THEME_ICONS = {
  dropdown: `${LF_THEME_ICONS_PREFIX}dropdown`
};
const LF_THEME_ATTRIBUTE = {
  dark: "lf-dark-theme",
  light: "lf-light-theme",
  theme: "lf-theme"
};
const LF_THEME_BASE_VARS = {
  "--lf-color-danger": "#d91e18",
  "--lf-color-info": "#2592df",
  "--lf-color-on-danger": "#fefefe",
  "--lf-color-on-info": "#4a4a4a",
  "--lf-color-on-success": "#fefefe",
  "--lf-color-on-warning": "#151515",
  "--lf-color-success": "#4d9f02",
  "--lf-color-warning": "#ffc107",
  "--lf-font-family-monospace": "Xanh Mono, monospace",
  "--lf-font-family-primary": "Oswald, sans-serif",
  "--lf-font-family-secondary": "Oswald, sans-serif",
  "--lf-font-size": "16px",
  "--lf-icon-add": `hexagon-plus`,
  "--lf-icon-broken-image": `photo-x`,
  "--lf-icon-clear": `x`,
  "--lf-icon-collapsed": `chevron-right`,
  "--lf-icon-copy": `copy`,
  "--lf-icon-copy-ok": `copy-check`,
  "--lf-icon-danger": `square-x`,
  "--lf-icon-delete": `square-x`,
  "--lf-icon-disabled": `lock`,
  "--lf-icon-download": `download`,
  "--lf-icon-dropdown": `chevron-down`,
  "--lf-icon-edit": `edit`,
  "--lf-icon-expanded": `chevron-down`,
  "--lf-icon-info": `info-hexagon`,
  "--lf-icon-minus": `hexagon-minus`,
  "--lf-icon-next": `chevron-right`,
  "--lf-icon-plus": `hexagon-plus`,
  "--lf-icon-previous": `chevron-left`,
  "--lf-icon-primary": `lf-website`,
  "--lf-icon-refresh": `refresh`,
  "--lf-icon-search": `search`,
  "--lf-icon-secondary": `lf-signature`,
  "--lf-icon-settings": `settings`,
  "--lf-icon-success": `check`,
  "--lf-icon-upload": `upload`,
  "--lf-icon-warning": `alert-triangle`,
  "--lf-ui-border-radius": "0",
  "--lf-ui-box-shadow-modal": "0px 0px 7.5px 0px rgba(128, 128, 128, 0.5)",
  "--lf-ui-duration-ripple": "750ms",
  "--lf-ui-height-header": "80px",
  "--lf-ui-opacity-disabled": 0.6,
  "--lf-ui-opacity-ripple": 0.275,
  "--lf-ui-radius-ripple": "0",
  "--lf-ui-size-large": 1.15,
  "--lf-ui-size-medium": 1,
  "--lf-ui-size-small": 0.85,
  "--lf-ui-size-xlarge": 1.25,
  "--lf-ui-size-xsmall": 0.75,
  "--lf-ui-size-xxlarge": 1.35,
  "--lf-ui-size-xxsmall": 0.65,
  "--lf-ui-timing-ripple": "cubic-bezier(0.4, 0, 0.2, 1)",
  "--lf-ui-width-drawer": "320px",
  "--lf-ui-zindex-backdrop": 899,
  "--lf-ui-zindex-drawer": 900,
  "--lf-ui-zindex-header": 898,
  "--lf-ui-zindex-lightbox": 901,
  "--lf-ui-zindex-portal": 997,
  "--lf-ui-zindex-splash": 999,
  "--lf-ui-zindex-toast": 998
};
const DARK = {
  font: [LF_THEME_FONTS_FONTFACE.oswald, LF_THEME_FONTS_FONTFACE.xanhMono],
  isDark: true,
  variables: {
    ...LF_THEME_BASE_VARS,
    "--lf-color-bg": "#000000",
    "--lf-color-border": "#323232",
    "--lf-color-data-1": "#67d6e2",
    //rgb(103, 214, 226)
    "--lf-color-data-2": "#ff88a8",
    //rgb(255, 136, 168)
    "--lf-color-data-3": "#c4fa79",
    //rgb(196, 250, 121)
    "--lf-color-data-4": "#ffad5b",
    //rgb(255, 173, 91)
    "--lf-color-data-5": "#ffd16d",
    //rgb(255, 209, 109)
    "--lf-color-data-6": "#ff7aed",
    //rgb(255, 122, 237)
    "--lf-color-data-7": "#7d99ff",
    //rgb(125, 153, 255)
    "--lf-color-drawer": "#151515",
    "--lf-color-header": "#151515",
    "--lf-color-link": "#2592df",
    "--lf-color-on-bg": "#fefefe",
    "--lf-color-on-border": "#fefefe",
    "--lf-color-on-drawer": "#fefefe",
    "--lf-color-on-header": "#fefefe",
    "--lf-color-on-info": "#fefefe",
    "--lf-color-on-link": "#4a4a4a",
    "--lf-color-on-primary": "#4a4a4a",
    "--lf-color-on-success": "#fefefe",
    "--lf-color-on-secondary": "#151515",
    "--lf-color-on-spinner": "#74cfc8",
    "--lf-color-on-surface": "#d9d9d9",
    "--lf-color-primary": "#c0c0c0",
    "--lf-color-secondary": "#60c1b8",
    "--lf-color-spinner": "#494949",
    "--lf-color-surface": "#151515"
  }
};
const LIGHT = {
  font: [LF_THEME_FONTS_FONTFACE.oswald, LF_THEME_FONTS_FONTFACE.xanhMono],
  isDark: false,
  variables: {
    ...LF_THEME_BASE_VARS,
    "--lf-color-bg": "#ffffff",
    "--lf-color-border": "#dcdcdc",
    "--lf-color-data-1": "#00c1d6",
    //rgb(0, 193, 214)
    "--lf-color-data-2": "#af002f",
    //rgb(175, 0, 47)
    "--lf-color-data-3": "#71c200",
    //rgb(113, 194, 0)
    "--lf-color-data-4": "#ce6700",
    //rgb(216, 143, 70)
    "--lf-color-data-5": "#d18f00",
    //rgb(209, 143, 0)
    "--lf-color-data-6": "#ca00af",
    //rgb(202, 0, 175)
    "--lf-color-data-7": "#0028b9",
    //rgb(0, 40, 185)
    "--lf-color-drawer": "#f8f8f8",
    "--lf-color-header": "#f8f8f8",
    "--lf-color-link": "#1d77b5",
    "--lf-color-on-bg": "#151515",
    "--lf-color-on-border": "#151515",
    "--lf-color-on-drawer": "#151515",
    "--lf-color-on-header": "#151515",
    "--lf-color-on-link": "#ffffff",
    "--lf-color-on-primary": "#fefefe",
    "--lf-color-on-secondary": "#fefefe",
    "--lf-color-on-spinner": "#4d8f89",
    "--lf-color-on-surface": "#151515",
    "--lf-color-primary": "#424242",
    "--lf-color-secondary": "#499499",
    "--lf-color-spinner": "#b3b3b3",
    "--lf-color-surface": "#fefefe"
  }
};
const ABYSS = {
  font: [
    LF_THEME_FONTS_FONTFACE.staatliches,
    LF_THEME_FONTS_FONTFACE.montserrat
  ],
  isDark: true,
  variables: {
    ...DARK.variables,
    "--lf-color-bg": "#081620",
    "--lf-color-border": "#103040",
    "--lf-color-surface": "#12212e",
    "--lf-color-on-surface": "#e5f4ff",
    "--lf-color-primary": "#00aecc",
    "--lf-color-on-primary": "#041013",
    "--lf-color-secondary": "#ff5370",
    "--lf-color-on-secondary": "#1a050c",
    "--lf-color-data-1": "#149cad",
    "--lf-color-data-2": "#ff7f9d",
    "--lf-color-data-3": "#1fdfc3",
    "--lf-color-data-4": "#1f99df",
    "--lf-color-data-5": "#75fdd3",
    "--lf-color-data-6": "#ffad9e",
    "--lf-color-data-7": "#3eddff",
    "--lf-color-on-bg": "#f0faff",
    "--lf-color-on-border": "#dff2ff",
    "--lf-color-link": "#00c5d4",
    "--lf-color-on-link": "#020809",
    "--lf-color-spinner": "#2a5060",
    "--lf-color-on-spinner": "#b3ecff",
    "--lf-ui-border-radius": "0.25em",
    "--lf-ui-radius-ripple": "50%",
    "--lf-font-size": "15px",
    "--lf-font-family-primary": "Staatliches, sans-serif",
    "--lf-font-family-monospace": "Montserrat, sans-serif"
  }
};
const ERIS = {
  font: [LF_THEME_FONTS_FONTFACE.oswald, LF_THEME_FONTS_FONTFACE.xanhMono],
  isDark: true,
  variables: {
    ...DARK.variables,
    "--lf-color-bg": "#0d0b1b",
    "--lf-color-border": "#2c2140",
    "--lf-color-surface": "#181427",
    "--lf-color-data-1": "#6d5dfc",
    "--lf-color-data-2": "#ff4499",
    "--lf-color-data-3": "#00d1ff",
    "--lf-color-data-4": "#ffcc66",
    "--lf-color-danger": "#ff3344",
    "--lf-color-success": "#00ff99",
    "--lf-color-info": "#3399ff",
    "--lf-color-link": "#836aff",
    "--lf-color-on-link": "#ffffff",
    "--lf-color-on-bg": "#f5f5f5",
    "--lf-color-on-surface": "#e2e2e2",
    "--lf-ui-box-shadow-modal": "0px 0px 15px rgba(109, 93, 252, 0.4)",
    "--lf-ui-opacity-ripple": 0.6,
    "--lf-ui-radius-ripple": "60%",
    "--lf-color-header": "#181427",
    "--lf-color-drawer": "#151024",
    "--lf-color-on-header": "#f0f0f0",
    "--lf-color-on-drawer": "#fefefe"
  }
};
const NEON = {
  font: [LF_THEME_FONTS_FONTFACE.orbitron, LF_THEME_FONTS_FONTFACE.vt323],
  isDark: true,
  variables: {
    ...DARK.variables,
    "--lf-color-bg": "#101010",
    "--lf-color-border": "#454545",
    "--lf-color-surface": "#1a1a1a",
    "--lf-color-on-surface": "#f0f0f0",
    "--lf-color-primary": "#00ffcc",
    "--lf-color-on-primary": "#050505",
    "--lf-color-secondary": "#ff2299",
    "--lf-color-on-secondary": "#0a0a0a",
    "--lf-color-data-1": "#00fdff",
    "--lf-color-data-2": "#ff0090",
    "--lf-color-data-3": "#00ff3e",
    "--lf-color-data-4": "#4f7eff",
    "--lf-color-data-5": "#d4ff00",
    "--lf-color-data-6": "#ff7a00",
    "--lf-color-data-7": "#bf00ff",
    "--lf-color-on-bg": "#fcfcfc",
    "--lf-color-on-border": "#fefefe",
    "--lf-color-link": "#00eaff",
    "--lf-color-on-link": "#000000",
    "--lf-color-spinner": "#333333",
    "--lf-color-on-spinner": "#00ff9e",
    "--lf-font-family-monospace": "VT323, monospace",
    "--lf-font-family-primary": "Orbitron, sans-serif",
    "--lf-font-size": "14px",
    "--lf-ui-border-radius": "0.5em",
    "--lf-ui-radius-ripple": "50%"
  }
};
const NIGHT = {
  font: [
    LF_THEME_FONTS_FONTFACE.bebasNeue,
    LF_THEME_FONTS_FONTFACE.shareTechMono
  ],
  isDark: true,
  variables: {
    ...DARK.variables,
    "--lf-color-bg": "#0a0a0a",
    "--lf-color-border": "#3f3f3f",
    "--lf-color-surface": "#141414",
    "--lf-color-on-surface": "#fafafa",
    "--lf-color-primary": "#00ffcc",
    "--lf-color-on-primary": "#111111",
    "--lf-color-secondary": "#ff00d4",
    "--lf-color-on-secondary": "#080808",
    "--lf-color-data-1": "#ff4300",
    "--lf-color-data-2": "#ff0080",
    "--lf-color-data-3": "#00ff5e",
    "--lf-color-data-4": "#0080ff",
    "--lf-color-data-5": "#aaff00",
    "--lf-color-data-6": "#ff8800",
    "--lf-color-data-7": "#da00ff",
    "--lf-color-on-bg": "#fefefe",
    "--lf-color-on-border": "#f1f1f1",
    "--lf-color-link": "#00aacc",
    "--lf-color-on-link": "#000000",
    "--lf-color-spinner": "#222222",
    "--lf-color-on-spinner": "#00ffa2",
    "--lf-font-family-monospace": "Share Tech Mono, monospace",
    "--lf-font-family-primary": "Bebas Neue, sans-serif",
    "--lf-ui-border-radius": "0.25em",
    "--lf-ui-radius-ripple": "50%"
  }
};
const PASTEL = {
  font: [
    LF_THEME_FONTS_FONTFACE.raleway,
    LF_THEME_FONTS_FONTFACE.sourceCodePro
  ],
  isDark: false,
  variables: {
    ...LIGHT.variables,
    "--lf-color-bg": "#fcfcfc",
    "--lf-color-border": "#cccccc",
    "--lf-color-surface": "#ffffff",
    "--lf-color-on-surface": "#151515",
    "--lf-color-primary": "#8a4881",
    "--lf-color-on-primary": "#1b1b1b",
    "--lf-color-secondary": "#ffcce7",
    "--lf-color-on-secondary": "#242424",
    "--lf-color-data-1": "#53969f",
    "--lf-color-data-2": "#af6161",
    "--lf-color-data-3": "#c99b58",
    "--lf-color-data-4": "#7eaa4c",
    "--lf-color-data-5": "#af8817",
    "--lf-color-data-6": "#a14f91",
    "--lf-color-data-7": "#5f6eb9",
    "--lf-color-on-bg": "#222222",
    "--lf-color-on-border": "#151515",
    "--lf-color-link": "#6f86c9",
    "--lf-color-on-link": "#ffffff",
    "--lf-color-spinner": "#aaaaaa",
    "--lf-color-on-spinner": "#333333",
    "--lf-font-family-monospace": "Source Code Pro, monospace",
    "--lf-font-family-primary": "Raleway, sans-serif",
    "--lf-ui-border-radius": "0.25em",
    "--lf-ui-radius-ripple": "50%"
  }
};
const SAKURA = {
  font: [
    LF_THEME_FONTS_FONTFACE.sawarabiMincho,
    LF_THEME_FONTS_FONTFACE.raleway
  ],
  isDark: false,
  variables: {
    ...LIGHT.variables,
    "--lf-color-bg": "#fef5f7",
    "--lf-color-border": "#f9d8db",
    "--lf-color-surface": "#fffafa",
    "--lf-color-on-surface": "#432d33",
    "--lf-color-primary": "#ff7394",
    "--lf-color-on-primary": "#3d1214",
    "--lf-color-secondary": "#ffd59c",
    "--lf-color-on-secondary": "#4e2e1b",
    "--lf-color-data-1": "#53969f",
    "--lf-color-data-2": "#af6161",
    "--lf-color-data-3": "#c99b58",
    "--lf-color-data-4": "#7eaa4c",
    "--lf-color-data-5": "#af8817",
    "--lf-color-data-6": "#a14f91",
    "--lf-color-data-7": "#5f6eb9",
    "--lf-color-on-bg": "#502f32",
    "--lf-color-on-border": "#4d2b2d",
    "--lf-color-link": "#fd9faf",
    "--lf-color-on-link": "#3d1214",
    "--lf-color-spinner": "#dfb5ba",
    "--lf-color-on-spinner": "#511f22",
    "--lf-ui-border-radius": "0.75em",
    "--lf-ui-radius-ripple": "50%",
    "--lf-font-size": "17px",
    "--lf-font-family-primary": "Sawarabi Mincho, serif",
    "--lf-font-family-monospace": "Raleway, sans-serif"
  }
};
const STEAMPUNK = {
  font: [
    LF_THEME_FONTS_FONTFACE.IMFellEnglishSC,
    LF_THEME_FONTS_FONTFACE.shareTechMono
  ],
  isDark: true,
  variables: {
    ...DARK.variables,
    "--lf-color-bg": "#1c1a15",
    "--lf-color-border": "#3c3324",
    "--lf-color-surface": "#2c251b",
    "--lf-color-on-surface": "#f2eee8",
    "--lf-color-primary": "#c68642",
    "--lf-color-on-primary": "#1d1207",
    "--lf-color-secondary": "#8f5937",
    "--lf-color-on-secondary": "#f9f4ed",
    "--lf-color-data-1": "#c29f3a",
    "--lf-color-data-2": "#91654a",
    "--lf-color-data-3": "#e2a676",
    "--lf-color-data-4": "#c17f56",
    "--lf-color-data-5": "#8b6c3a",
    "--lf-color-data-6": "#e4c590",
    "--lf-color-data-7": "#b5974a",
    "--lf-color-on-bg": "#f8f5ed",
    "--lf-color-on-border": "#e2dccb",
    "--lf-color-link": "#b08850",
    "--lf-color-on-link": "#241708",
    "--lf-color-spinner": "#3b2f23",
    "--lf-color-on-spinner": "#f7f3eb",
    "--lf-ui-border-radius": "0.25em",
    "--lf-ui-radius-ripple": "30%",
    "--lf-font-size": "16px",
    "--lf-font-family-primary": "IM Fell English SC, serif",
    "--lf-font-family-monospace": "Share Tech Mono, monospace"
  }
};
const URBAN = {
  font: [LF_THEME_FONTS_FONTFACE.lato, LF_THEME_FONTS_FONTFACE.merriweather],
  isDark: false,
  variables: {
    ...LIGHT.variables,
    "--lf-color-bg": "#f1f3f5",
    "--lf-color-border": "#c9ced3",
    "--lf-color-surface": "#ffffff",
    "--lf-color-on-surface": "#1f1f1f",
    "--lf-color-primary": "#003366",
    "--lf-color-on-primary": "#ffffff",
    "--lf-color-secondary": "#006699",
    "--lf-color-on-secondary": "#ffffff",
    "--lf-color-data-1": "#006699",
    "--lf-color-data-2": "#d9480f",
    "--lf-color-data-3": "#6f42c1",
    "--lf-color-data-4": "#22863a",
    "--lf-color-data-5": "#b08800",
    "--lf-color-data-6": "#d6336c",
    "--lf-color-data-7": "#005cc5",
    "--lf-color-on-bg": "#2d2d2d",
    "--lf-color-on-border": "#3c3c3c",
    "--lf-color-link": "#0044cc",
    "--lf-color-on-link": "#ffffff",
    "--lf-color-spinner": "#9a9a9a",
    "--lf-color-on-spinner": "#333333",
    "--lf-font-family-monospace": "Merriweather, monospace",
    "--lf-font-family-primary": "Lato, sans-serif",
    "--lf-ui-radius-ripple": "50%"
  }
};
const WIZARDRY = {
  font: [LF_THEME_FONTS_FONTFACE.uncialAntiqua, LF_THEME_FONTS_FONTFACE.cinzel],
  isDark: true,
  variables: {
    ...DARK.variables,
    "--lf-color-bg": "#1e0f1b",
    "--lf-color-border": "#462752",
    "--lf-color-surface": "#301b2e",
    "--lf-color-on-surface": "#f9f7f4",
    "--lf-color-primary": "#e5c40f",
    "--lf-color-on-primary": "#2f1c00",
    "--lf-color-secondary": "#8c3d8c",
    "--lf-color-on-secondary": "#f2eaf2",
    "--lf-color-data-1": "#ccac00",
    "--lf-color-data-2": "#d764d7",
    "--lf-color-data-3": "#a352a3",
    "--lf-color-data-4": "#b38a00",
    "--lf-color-data-5": "#d728d7",
    "--lf-color-data-6": "#c47cff",
    "--lf-color-data-7": "#ac66ff",
    "--lf-color-on-bg": "#f8f2ea",
    "--lf-color-on-border": "#e4d6c7",
    "--lf-color-link": "#cda000",
    "--lf-color-on-link": "#120900",
    "--lf-color-spinner": "#4e3b4e",
    "--lf-color-on-spinner": "#e3d8c6",
    "--lf-ui-border-radius": "1.5em",
    "--lf-ui-radius-ripple": "50%",
    "--lf-font-size": "15px",
    "--lf-font-family-primary": "Uncial Antiqua, serif",
    "--lf-font-family-monospace": "Cinzel, serif"
  }
};
const THEME_LIST = {
  abyss: ABYSS,
  dark: DARK,
  eris: ERIS,
  light: LIGHT,
  neon: NEON,
  night: NIGHT,
  pastel: PASTEL,
  sakura: SAKURA,
  steampunk: STEAMPUNK,
  urban: URBAN,
  wizardry: WIZARDRY
};
const LF_ICONS_REGISTRY = {
  adjustmentsHorizontal: "adjustments-horizontal",
  alertTriangle: "alert-triangle",
  arrowAutofitContent: "arrow-autofit-content",
  arrowBack: "arrow-back",
  article: "article",
  bellRinging: "bell-ringing",
  brandFacebook: "brand-facebook",
  brandGithub: "brand-github",
  brandInstagram: "brand-instagram",
  brandLinkedin: "brand-linkedin",
  brandNpm: "brand-npm",
  brandReddit: "brand-reddit",
  brandX: "brand-x",
  brush: "brush",
  bug: "bug",
  calendarClock: "calendar-clock",
  caretDown: "caret-down",
  caretLeft: "caret-left",
  caretRight: "caret-right",
  caretUp: "caret-up",
  chartColumn: "chart-column",
  chartHistogram: "chart-histogram",
  check: "check",
  chevronCompactDown: "chevron-compact-down",
  chevronCompactLeft: "chevron-compact-left",
  chevronCompactRight: "chevron-compact-right",
  chevronCompactUp: "chevron-compact-up",
  chevronDown: "chevron-down",
  chevronLeft: "chevron-left",
  chevronRight: "chevron-right",
  chevronsDown: "chevrons-down",
  chevronsLeft: "chevrons-left",
  chevronsRight: "chevrons-right",
  chevronsUp: "chevrons-up",
  chevronUp: "chevron-up",
  circleArrowDown: "circle-arrow-down",
  circleArrowLeft: "circle-arrow-left",
  circleArrowRight: "circle-arrow-right",
  circleArrowUp: "circle-arrow-up",
  circleCaretDown: "circle-caret-down",
  circleCaretLeft: "circle-caret-left",
  circleCaretRight: "circle-caret-right",
  circleCaretUp: "circle-caret-up",
  circleChevronDown: "circle-chevron-down",
  circleChevronLeft: "circle-chevron-left",
  circleChevronRight: "circle-chevron-right",
  circleChevronUp: "circle-chevron-up",
  circleX: "circle-x",
  code: "code",
  codeCircle2: "code-circle-2",
  colorSwatch: "color-swatch",
  columns2: "columns-2",
  contrast2: "contrast-2",
  copy: "copy",
  copyCheck: "copy-check",
  door: "door",
  download: "download",
  dragDrop: "drag-drop",
  droplet: "droplet",
  edit: "edit",
  file: "file",
  folder: "folder",
  forms: "forms",
  help: "help",
  hexagonMinus: "hexagon-minus",
  hexagonMinus2: "hexagon-minus-2",
  hexagonPlus: "hexagon-plus",
  hexagonPlus2: "hexagon-plus-2",
  highlight: "highlight",
  hourglassLow: "hourglass-low",
  id: "id",
  ikosaedr: "ikosaedr",
  imageInPicture: "image-in-picture",
  infoHexagon: "info-hexagon",
  innerShadowBottom: "inner-shadow-bottom",
  json: "json",
  key: "key",
  layoutBoardSplit: "layout-board-split",
  layoutList: "layout-list",
  layoutNavbar: "layout-navbar",
  layoutNavbarInactive: "layout-navbar-inactive",
  layoutSidebar: "layout-sidebar",
  lfSignature: "lf-signature",
  lfWebsite: "lf-website",
  list: "list",
  listTree: "list-tree",
  loader: "loader",
  loader2: "loader-2",
  loader3: "loader-3",
  lock: "lock",
  menu2: "menu-2",
  messageCircleUser: "message-circle-user",
  messages: "messages",
  microphone: "microphone",
  moon: "moon",
  movie: "movie",
  music: "music",
  network: "network",
  notification: "notification",
  numbers: "numbers",
  offBrush: "off-brush",
  offHexagon: "off-hexagon",
  offHighlight: "off-highlight",
  offId: "off-id",
  offMicrophone: "off-microphone",
  offMoon: "off-moon",
  offNotification: "off-notification",
  offPalette: "off-palette",
  offReplace: "off-replace",
  offSearch: "off-search",
  offSend: "off-send",
  offTemplate: "off-template",
  palette: "palette",
  pdf: "pdf",
  percentage60: "percentage-60",
  photo: "photo",
  photoSearch: "photo-search",
  photoX: "photo-x",
  progress: "progress",
  refresh: "refresh",
  replace: "replace",
  robot: "robot",
  schema: "schema",
  search: "search",
  send: "send",
  settings: "settings",
  shirt: "shirt",
  slideshow: "slideshow",
  squareToggle: "square-toggle",
  squareX: "square-x",
  stackPop: "stack-pop",
  stackPush: "stack-push",
  sunset2: "sunset-2",
  temperature: "temperature",
  template: "template",
  toggleRight: "toggle-right",
  upload: "upload",
  viewportTall: "viewport-tall",
  viewportWide: "viewport-wide",
  wand: "wand",
  writing: "writing",
  x: "x",
  zip: "zip"
};
const GLOBAL_STYLES = {
  "::-webkit-scrollbar": {
    width: "9px"
  },
  "::-webkit-scrollbar-thumb": {
    transition: "all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4)",
    "background-color": "rgb(var(--lf-color-primary))"
  },
  "::-webkit-scrollbar-track": {
    "background-color": "rgb(var(--lf-color-bg))"
  },
  '.lf-effects [data-lf="backdrop"]': {
    transition: "all 200ms cubic-bezier(0.4, 0, 0.6, 1)",
    background: "rgba(0, 0, 0, 0.375)",
    height: "100vh",
    left: "0",
    opacity: "0",
    position: "fixed",
    top: "0",
    width: "100vw",
    "z-index": "var(--lf-ui-zindex-backdrop, 899)"
  },
  "@keyframes lf-fade-in": [
    {
      from: {
        visibility: "hidden",
        opacity: "0"
      }
    },
    {
      to: {
        visibility: "visible",
        opacity: "1"
      }
    }
  ],
  '.lf-effects [data-lf="lightbox"]': {
    transition: "all 200ms cubic-bezier(0.4, 0, 0.6, 1)",
    height: "90dvh",
    left: "5dvw",
    position: "fixed",
    top: "5dvh",
    width: "90dvw",
    "z-index": "var(--lf-ui-zindex-lightbox, 900)"
  },
  '.lf-effects [data-lf="lightbox-content"]': {
    width: "100%",
    height: "100%",
    border: "1px solid rgba(var(--lf-color-border), 0.375)",
    "border-radius": "var(--lf-ui-border-radius)",
    "box-sizing": "border-box",
    outline: "none",
    "z-index": "calc(var(--lf-ui-zindex-lightbox, 900) + 1)"
  },
  "@keyframes lf-pop": [
    {
      from: {
        opacity: "0",
        transform: "translate(-50%, -50%) scale(0.8)"
      }
    },
    {
      to: {
        opacity: "1",
        transform: "translate(-50%, -50%) scale(1)"
      }
    }
  ],
  '.lf-portal [data-lf="portal"]': {
    display: "block",
    height: "auto",
    "max-height": "45dvh",
    "max-width": "45dvw",
    "min-height": "max-content",
    "min-width": "max-content",
    position: "fixed",
    width: "auto",
    "z-index": "var(--lf-ui-zindex-portal)"
  }
};
function _mergeNamespaces(n2, m2) {
  m2.forEach(function(e2) {
    e2 && typeof e2 !== "string" && !Array.isArray(e2) && Object.keys(e2).forEach(function(k2) {
      if (k2 !== "default" && !(k2 in n2)) {
        var d2 = Object.getOwnPropertyDescriptor(e2, k2);
        Object.defineProperty(n2, k2, d2.get ? d2 : {
          enumerable: true,
          get: function() {
            return e2[k2];
          }
        });
      }
    });
  });
  return Object.freeze(n2);
}
var __classPrivateFieldSet$8 = function(receiver, state, value, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var __classPrivateFieldGet$8 = function(receiver, state, kind, f2) {
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f2 : kind === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _LfColor_LF_MANAGER, _LfColor_handleEdgeCases;
class LfColor {
  constructor(lfFramework2) {
    _LfColor_LF_MANAGER.set(this, void 0);
    _LfColor_handleEdgeCases.set(this, (color) => {
      const { logs } = __classPrivateFieldGet$8(this, _LfColor_LF_MANAGER, "f").debug;
      const { variables } = __classPrivateFieldGet$8(this, _LfColor_LF_MANAGER, "f").theme.get.current();
      if (color === "transparent") {
        color = variables["--lf-color-bg"];
        logs.new(this, "Received TRANSPARENT color, converted to " + color + " (theme background).");
      }
      const altRgbRe = /R(\d{1,3})G(\d{1,3})B(\d{1,3})/;
      const altRgb = altRgbRe.test(color);
      if (altRgb) {
        const parts = color.match(altRgbRe);
        color = "rgb(" + parts[1] + "," + parts[2] + "," + parts[3] + ")";
      }
      return color;
    });
    this.autoContrast = (color) => {
      const rgb = this.compute(color).rgbColor;
      const colorValues = rgb.replace(/[^\d,.]/g, "").split(",");
      const brightness = Math.round((Number(colorValues[0]) * 299 + Number(colorValues[1]) * 587 + Number(colorValues[2]) * 114) / 1e3);
      return brightness > 125 ? "#000000" : "#ffffff";
    };
    this.compute = (color) => {
      const { logs } = __classPrivateFieldGet$8(this, _LfColor_LF_MANAGER, "f").debug;
      color = __classPrivateFieldGet$8(this, _LfColor_handleEdgeCases, "f").call(this, color);
      const lowerColor = color.toLowerCase();
      let isHex = lowerColor.startsWith("#");
      const isHslOrHsla = lowerColor.startsWith("hsl(") || lowerColor.startsWith("hsla(");
      const isRgbOrRgba = lowerColor.startsWith("rgb(") || lowerColor.startsWith("rgba(");
      if (!isHex && !isHslOrHsla && !isRgbOrRgba) {
        const maybeHex = this.convert.codeToHex(color);
        if (maybeHex.startsWith("#")) {
          color = maybeHex;
          isHex = true;
        }
      }
      let colorValues = {
        hexColor: "#000000",
        hslColor: "hsl(0,0%,0%)",
        hslValues: "0,0%,0%",
        hue: "0",
        saturation: "0%",
        lightness: "0%",
        rgbColor: "rgb(0,0,0)",
        rgbValues: "0,0,0"
      };
      if (isHex || isHslOrHsla) {
        const originalInput = color;
        let rgbObj = null;
        if (isHex) {
          colorValues.hexColor = color;
          rgbObj = this.convert.hexToRgb(color);
        } else {
          colorValues.hslColor = color;
          const hslRegex = /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)/i;
          const hslMatch = color.match(hslRegex);
          if (hslMatch) {
            const [_2, hRaw, sRaw, lRaw] = hslMatch;
            colorValues.hslValues = `${hRaw},${sRaw},${lRaw}`;
            colorValues.hue = hRaw;
            colorValues.saturation = sRaw;
            colorValues.lightness = lRaw;
            const hNum = parseFloat(hRaw.replace("deg", ""));
            const sNum = parseFloat(sRaw.replace("%", "")) / 100;
            const lNum = parseFloat(lRaw.replace("%", "")) / 100;
            rgbObj = this.convert.hslToRgb(hNum, sNum, lNum);
          } else {
            logs.new(this, `Invalid HSL(A) color: ${color}. Using defaults.`);
          }
        }
        if (rgbObj) {
          const { r: r2, g: g3, b: b2 } = rgbObj;
          const rgbString = `rgb(${r2},${g3},${b2})`;
          colorValues.rgbColor = rgbString;
          colorValues.rgbValues = `${r2},${g3},${b2}`;
          if (isHex) {
            const { h: h2, s: s2, l: l2 } = this.convert.rgbToHsl(r2, g3, b2);
            const hslStr = `${h2},${s2}%,${l2}%`;
            colorValues.hue = `${h2}`;
            colorValues.saturation = `${s2}%`;
            colorValues.lightness = `${l2}%`;
            colorValues.hslValues = hslStr;
            colorValues.hslColor = `hsl(${hslStr})`;
          } else {
            colorValues.hexColor = this.convert.rgbToHex(r2, g3, b2);
          }
          logs.new(this, `Received color "${originalInput}"  Final RGB: ${colorValues.rgbColor}.`);
        }
      }
      const rgbaMatch = color.match(/rgba?\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})(?:,\s?[\d.]+)?\)/i);
      if (rgbaMatch) {
        const [_2, rStr, gStr, bStr] = rgbaMatch;
        colorValues.rgbValues = `${rStr},${gStr},${bStr}`;
        colorValues.rgbColor = `rgb(${rStr},${gStr},${bStr})`;
        if (!colorValues.hexColor || colorValues.hexColor === "#000000") {
          try {
            const r2 = parseInt(rStr, 10);
            const g3 = parseInt(gStr, 10);
            const b2 = parseInt(bStr, 10);
            colorValues.hexColor = this.convert.rgbToHex(r2, g3, b2);
          } catch {
            logs.new(this, `Color not converted to hex value: ${color}.`);
          }
        }
        if (!colorValues.hslColor || colorValues.hslColor === "hsl(0,0%,0%)") {
          try {
            const r2 = parseInt(rStr, 10);
            const g3 = parseInt(gStr, 10);
            const b2 = parseInt(bStr, 10);
            const { h: h2, s: s2, l: l2 } = this.convert.rgbToHsl(r2, g3, b2);
            const hslStr = `${h2},${s2}%,${l2}%`;
            colorValues.hue = `${h2}`;
            colorValues.saturation = `${s2}%`;
            colorValues.lightness = `${l2}%`;
            colorValues.hslValues = hslStr;
            colorValues.hslColor = `hsl(${hslStr})`;
          } catch {
            logs.new(this, `Color not converted to HSL value: ${color}.`);
          }
        }
      } else {
        logs.new(this, `Color not converted to RGB values: ${color}.`);
      }
      return colorValues;
    };
    this.convert = {
      //#region hexToRgb
      hexToRgb: (hex) => {
        var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        return result ? {
          r: parseInt(result[1], 16),
          g: parseInt(result[2], 16),
          b: parseInt(result[3], 16)
        } : null;
      },
      //#endregion
      //#region hslToRgb
      hslToRgb: (h2, s2, l2) => {
        if (h2 == void 0) {
          return { r: 0, g: 0, b: 0 };
        }
        let huePrime = h2 / 60;
        const chroma = (1 - Math.abs(2 * l2 - 1)) * s2;
        const secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));
        huePrime = Math.floor(huePrime);
        let red, green, blue;
        if (huePrime === 0) {
          red = chroma;
          green = secondComponent;
          blue = 0;
        } else if (huePrime === 1) {
          red = secondComponent;
          green = chroma;
          blue = 0;
        } else if (huePrime === 2) {
          red = 0;
          green = chroma;
          blue = secondComponent;
        } else if (huePrime === 3) {
          red = 0;
          green = secondComponent;
          blue = chroma;
        } else if (huePrime === 4) {
          red = secondComponent;
          green = 0;
          blue = chroma;
        } else if (huePrime === 5) {
          red = chroma;
          green = 0;
          blue = secondComponent;
        }
        const lightnessAdjustment = l2 - chroma / 2;
        red += lightnessAdjustment;
        green += lightnessAdjustment;
        blue += lightnessAdjustment;
        return {
          r: Math.round(red * 255),
          g: Math.round(green * 255),
          b: Math.round(blue * 255)
        };
      },
      //#endregion
      //#region rgbToHex
      rgbToHex: (r2, g3, b2) => {
        const { valueToHex } = this.convert;
        return `#${valueToHex(r2)}${valueToHex(g3)}${valueToHex(b2)}`;
      },
      //#endregion
      //#region rgbToHsl
      rgbToHsl: (r2, g3, b2) => {
        r2 /= 255;
        g3 /= 255;
        b2 /= 255;
        const cmin = Math.min(r2, g3, b2), cmax = Math.max(r2, g3, b2), delta = cmax - cmin;
        let h2 = 0, s2 = 0, l2 = 0;
        if (delta == 0)
          h2 = 0;
        else if (cmax == r2)
          h2 = (g3 - b2) / delta % 6;
        else if (cmax == g3)
          h2 = (b2 - r2) / delta + 2;
        else
          h2 = (r2 - g3) / delta + 4;
        h2 = Math.round(h2 * 60);
        if (h2 < 0)
          h2 += 360;
        l2 = (cmax + cmin) / 2;
        s2 = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l2 - 1));
        s2 = +(s2 * 100).toFixed(1);
        l2 = +(l2 * 100).toFixed(1);
        return { h: h2, s: s2, l: l2 };
      },
      //#endregion
      //#region valueToHex
      valueToHex: (c2) => {
        const hex = c2.toString(16);
        return hex.length == 1 ? "0" + hex : hex;
      },
      //#endregion
      //#region codeToHex
      codeToHex: (color) => {
        const { logs } = __classPrivateFieldGet$8(this, _LfColor_LF_MANAGER, "f").debug;
        const code2 = color.toLowerCase();
        if (LF_COLOR_CODES[code2]) {
          return LF_COLOR_CODES[code2];
        } else {
          logs.new(this, "Could not decode color " + color + "!");
          return color;
        }
      }
      //#endregion
    };
    this.random = (brightness) => {
      function randomChannel(brightness2) {
        var r2 = 255 - brightness2;
        var n2 = 0 | Math.random() * r2 + brightness2;
        var s2 = n2.toString(16);
        return s2.length == 1 ? "0" + s2 : s2;
      }
      return `#${randomChannel(brightness) + randomChannel(brightness) + randomChannel(brightness)}`;
    };
    __classPrivateFieldSet$8(this, _LfColor_LF_MANAGER, lfFramework2);
  }
}
_LfColor_LF_MANAGER = /* @__PURE__ */ new WeakMap(), _LfColor_handleEdgeCases = /* @__PURE__ */ new WeakMap();
const buildNodeLookup = (dataset) => {
  var _a2;
  const lookup = /* @__PURE__ */ new Map();
  if (!((_a2 = dataset == null ? void 0 : dataset.nodes) == null ? void 0 : _a2.length)) {
    return lookup;
  }
  const queue = [...dataset.nodes];
  while (queue.length > 0) {
    const current = queue.shift();
    if (!current) {
      continue;
    }
    if (current.id != null) {
      lookup.set(String(current.id), current);
    }
    if (Array.isArray(current.children) && current.children.length) {
      queue.unshift(...current.children);
    }
  }
  return lookup;
};
const normaliseTargetInput = (target) => {
  if (target == null) {
    return [];
  }
  return Array.isArray(target) ? target : [target];
};
const extractCellMetadata = (node, cellId, schema) => {
  if (!node || typeof node !== "object" || !node.cells) {
    return (schema == null ? void 0 : schema.nullable) ? null : void 0;
  }
  const cell = node.cells[cellId];
  if (!cell || typeof cell !== "object") {
    return (schema == null ? void 0 : schema.nullable) ? null : void 0;
  }
  const rawValue = cell.value;
  if (rawValue === void 0 || rawValue === null) {
    return (schema == null ? void 0 : schema.nullable) ? null : void 0;
  }
  if (!schema) {
    return rawValue;
  }
  if (schema.validate && !schema.validate(rawValue)) {
    return schema.nullable ? null : void 0;
  }
  const validated = rawValue;
  if (schema.transform) {
    try {
      return schema.transform(validated);
    } catch {
      return schema.nullable ? null : void 0;
    }
  }
  return validated;
};
const nodeFind = (dataset, predicate) => {
  if (!dataset || !Array.isArray(dataset.nodes) || !predicate) {
    return void 0;
  }
  const queue = [...dataset.nodes];
  while (queue.length > 0) {
    const current = queue.shift();
    if (!current) {
      continue;
    }
    if (predicate(current)) {
      return current;
    }
    if (Array.isArray(current.children) && current.children.length) {
      queue.unshift(...current.children);
    }
  }
  return void 0;
};
const nodeResolveTargets = (dataset, target) => {
  const lookup = buildNodeLookup(dataset);
  const inputs = normaliseTargetInput(target);
  if (!inputs.length) {
    return { ids: [], nodes: [] };
  }
  const ids = [];
  const seenIds = /* @__PURE__ */ new Set();
  const nodesById = /* @__PURE__ */ new Map();
  for (const entry of inputs) {
    if (entry == null) {
      continue;
    }
    let id2 = null;
    let resolvedNode;
    if (typeof entry === "string") {
      if (!entry) {
        continue;
      }
      id2 = entry;
      resolvedNode = lookup.get(entry);
    } else {
      const candidateId = entry.id;
      if (candidateId == null) {
        continue;
      }
      id2 = String(candidateId);
      resolvedNode = lookup.get(id2) ?? entry;
    }
    if (!id2) {
      continue;
    }
    if (!nodesById.has(id2) && resolvedNode) {
      nodesById.set(id2, resolvedNode);
    } else if (!nodesById.has(id2)) {
      const datasetNode = lookup.get(id2);
      if (datasetNode) {
        nodesById.set(id2, datasetNode);
      }
    } else if (lookup.has(id2)) {
      nodesById.set(id2, lookup.get(id2));
    }
    if (!seenIds.has(id2)) {
      seenIds.add(id2);
      ids.push(id2);
    }
  }
  const nodes = [];
  for (const id2 of ids) {
    const resolved = nodesById.get(id2) ?? lookup.get(id2);
    if (resolved) {
      nodes.push(resolved);
    }
  }
  return { ids, nodes };
};
const nodeSanitizeIds = (dataset, candidates, options = {}) => {
  var _a2;
  const empty = { ids: [], nodes: [] };
  if (!((_a2 = dataset == null ? void 0 : dataset.nodes) == null ? void 0 : _a2.length) || !candidates) {
    return empty;
  }
  const lookup = buildNodeLookup(dataset);
  const { predicate, limit } = options;
  const ids = [];
  const nodes = [];
  const seen2 = /* @__PURE__ */ new Set();
  for (const entry of candidates) {
    if (entry == null) {
      continue;
    }
    let id2 = null;
    let resolvedNode;
    if (typeof entry === "string" || typeof entry === "number") {
      id2 = String(entry);
      resolvedNode = lookup.get(id2);
    } else {
      const candidateId = entry.id;
      if (candidateId == null) {
        continue;
      }
      id2 = String(candidateId);
      resolvedNode = lookup.get(id2);
    }
    if (!id2 || seen2.has(id2) || !resolvedNode) {
      continue;
    }
    if (predicate && !predicate(resolvedNode)) {
      continue;
    }
    ids.push(id2);
    nodes.push(resolvedNode);
    seen2.add(id2);
    if (limit && ids.length >= limit) {
      break;
    }
  }
  return { ids, nodes };
};
const findNodeByCell = (dataset, targetCell) => {
  function recursive(nodes) {
    for (const node of nodes) {
      if (node.cells) {
        for (const cellKey in node.cells) {
          if (node.cells[cellKey] === targetCell) {
            return node;
          }
        }
      }
      if (node.children) {
        const foundNode = recursive(node.children);
        if (foundNode)
          return foundNode;
      }
    }
    return null;
  }
  return recursive(dataset.nodes);
};
const nodeExists = (dataset) => {
  var _a2;
  return !!(dataset && ((_a2 = dataset.nodes) == null ? void 0 : _a2.length));
};
const nodeFilter = (dataset, filters, partialMatch = false) => {
  const matchingNodes = /* @__PURE__ */ new Set();
  const remainingNodes = /* @__PURE__ */ new Set();
  const ancestorNodes = /* @__PURE__ */ new Set();
  const recursive = (node, ancestor, ancestorSet) => {
    var _a2;
    const hasChildren = (_a2 = node.children) == null ? void 0 : _a2.length;
    let matches = false;
    for (const key in filters) {
      const k2 = key;
      const nodeValue = node[k2];
      const filterValue = filters[k2];
      const nodeValueStr = cellStringify(nodeValue).toLowerCase();
      const filterValueStr = cellStringify(filterValue).toLowerCase();
      if (partialMatch) {
        if (!nodeValueStr.includes(filterValueStr)) {
          continue;
        }
      } else {
        if (nodeValue !== filterValue) {
          continue;
        }
      }
      matches = true;
      break;
    }
    if (ancestor) {
      ancestorSet.add(ancestor);
    }
    if (matches) {
      matchingNodes.add(node);
    } else {
      remainingNodes.add(node);
    }
    if (hasChildren) {
      node.children.forEach((child) => {
        recursive(child, node, ancestorSet);
      });
    } else {
      if (matches) {
        ancestorSet.forEach((node2) => {
          ancestorNodes.add(node2);
        });
      }
    }
  };
  dataset.nodes.forEach((node) => {
    const ancestorSet = /* @__PURE__ */ new Set();
    recursive(node, null, ancestorSet);
  });
  return {
    matchingNodes,
    remainingNodes,
    ancestorNodes
  };
};
const nodeFixIds = (nodes) => {
  function updateNodeIds(node, depth = "0") {
    node.id = depth;
    if (node.children) {
      node.children.forEach((child, index) => {
        const newDepth = `${depth}.${index}`;
        updateNodeIds(child, newDepth);
      });
    }
  }
  nodes.forEach((node) => {
    updateNodeIds(node, "0");
  });
  return nodes;
};
const nodeGetParent = (nodes, child) => {
  let parent = null;
  for (let index = 0; index < nodes.length; index++) {
    let recursive = function(node2) {
      const hasChildren = !!node2.children;
      if (hasChildren && node2.children.includes(child)) {
        parent = node2;
        return;
      }
      for (let index2 = 0; !parent && hasChildren && index2 < node2.children.length; index2++) {
        recursive(node2.children[index2]);
      }
    };
    const node = nodes[index];
    recursive(node);
  }
  return parent;
};
const nodePop = (nodes, node2remove) => {
  let removed = null;
  for (let index = 0; index < nodes.length; index++) {
    let recursive = function(node, array) {
      const i2 = array.indexOf(node2remove);
      if (i2 > -1) {
        removed = { ...node2remove };
        array.splice(i2, 1);
        return;
      }
      for (let index2 = 0; node.children && index2 < node.children.length; index2++) {
        if (node.children[index2]) {
          recursive(node.children[index2], node.children);
        }
      }
    };
    recursive(nodes[index], nodes);
  }
  return removed;
};
const nodeToStream = (nodes) => {
  function recursive(node) {
    streamlined.push(node);
    for (let index = 0; node.children && index < node.children.length; index++) {
      recursive(node.children[index]);
    }
  }
  const streamlined = [];
  for (let index = 0; index < nodes.length; index++) {
    const node = nodes[index];
    recursive(node);
  }
  return streamlined;
};
const nodeTraverseVisible = (nodes, options) => {
  const out = [];
  if (!(nodes == null ? void 0 : nodes.length))
    return out;
  const { isExpanded = () => true, isHidden = () => false, isSelected = () => false, forceExpand } = options || {};
  const walk = (node, depth) => {
    const expanded = forceExpand ? true : isExpanded(node);
    const hidden = isHidden(node);
    const selected = isSelected(node);
    if (!hidden)
      out.push({ node, depth, expanded, hidden, selected });
    if (expanded && node.children) {
      for (const child of node.children)
        walk(child, depth + 1);
    }
  };
  for (const n2 of nodes)
    walk(n2, 0);
  return out;
};
const cellExists = (node) => {
  return !!(node && node.cells && Object.keys(node.cells).length);
};
const cellGetShape = (cell, deepCopy) => {
  if (!deepCopy) {
    return cell;
  }
  const prefix = "lf";
  const shapeProps = {};
  for (const prop in cell) {
    switch (prop) {
      case "htmlProps":
        Object.assign(shapeProps, cell[prop]);
        break;
      case "shape":
        break;
      default:
        if (prop.indexOf(prefix) === 0) {
          shapeProps[prop] = cell[prop];
        } else {
          const prefixedProp = prefix + prop.charAt(0).toUpperCase() + prop.slice(1);
          const k2 = prefixedProp;
          if (!shapeProps[k2]) {
            shapeProps[k2] = cell[prop];
          }
        }
        break;
    }
  }
  return shapeProps;
};
const cellGetAllShapes = (dataset, deepCopy = true) => {
  if (!nodeExists(dataset)) {
    return null;
  }
  const shapes = {
    badge: [],
    button: [],
    canvas: [],
    card: [],
    chart: [],
    chat: [],
    chip: [],
    code: [],
    image: [],
    number: [],
    photoframe: [],
    progressbar: [],
    slot: [],
    text: [],
    textfield: [],
    toggle: [],
    typewriter: [],
    upload: []
  };
  const nodes = dataset.nodes;
  const browseCells = (node) => {
    if (!cellExists(node)) {
      return;
    }
    const cells = node.cells;
    for (const key in cells) {
      if (Object.prototype.hasOwnProperty.call(cells, key)) {
        const cell = cells[key];
        const extracted = cellGetShape(cell, deepCopy);
        switch (cell.shape) {
          case "badge":
            shapes.badge.push(extracted);
            break;
          case "button":
            shapes.button.push(extracted);
            break;
          case "canvas":
            shapes.canvas.push(extracted);
            break;
          case "card":
            shapes.card.push(extracted);
            break;
          case "chart":
            shapes.chart.push(extracted);
            break;
          case "chat":
            shapes.chat.push(extracted);
            break;
          case "chip":
            shapes.chip.push(extracted);
            break;
          case "code":
            shapes.code.push(extracted);
            break;
          case "image":
            shapes.image.push(extracted);
            break;
          case "photoframe":
            shapes.photoframe.push(extracted);
            break;
          case "progressbar":
            shapes.progressbar.push(extracted);
            break;
          case "textfield":
            shapes.textfield.push(extracted);
            break;
          case "toggle":
            shapes.toggle.push(extracted);
            break;
          case "typewriter":
            shapes.typewriter.push(extracted);
            break;
          case "number":
            shapes.number.push(cell);
            break;
          case "upload":
            shapes.upload.push(extracted);
            break;
          case "slot":
            shapes.slot.push(cell);
            break;
          case "text":
          default:
            shapes.text.push(cell);
            break;
        }
      }
    }
  };
  for (let index = 0; index < nodes.length; index++) {
    const node = nodes[index];
    browseCells(node);
  }
  return shapes;
};
const cellStringify = (value) => {
  if (value === null || value === void 0) {
    return String(value).valueOf();
  } else if (value instanceof Date) {
    return value.toISOString();
  } else if (typeof value === "object") {
    try {
      return JSON.stringify(value, null, 2);
    } catch (error2) {
      console.error("Failed to stringify object:", error2);
      return "[object Object]";
    }
  } else {
    return String(value).valueOf();
  }
};
const columnFind = (dataset, filters) => {
  const result = [];
  if (!dataset) {
    return result;
  }
  const columns = dataset.columns ? dataset.columns : dataset;
  for (let index = 0; index < columns.length; index++) {
    const column = columns[index];
    for (const key in filters) {
      const k2 = key;
      const filter = filters[k2];
      if (column[k2] === filter) {
        result.push(column);
      }
    }
  }
  return result;
};
class LfData {
  constructor(_lfFramework) {
    this.cell = {
      exists: (node) => cellExists(node),
      shapes: {
        get: (cell, deepCopy = true) => cellGetShape(cell, deepCopy),
        getAll: (dataset, deepCopy = true) => cellGetAllShapes(dataset, deepCopy)
      },
      stringify: (value) => cellStringify(value)
    };
    this.column = {
      find: (dataset, filters) => columnFind(dataset, filters)
    };
    this.node = {
      exists: (dataset) => nodeExists(dataset),
      filter: (dataset, filters, partialMatch = false) => nodeFilter(dataset, filters, partialMatch),
      findNodeByCell: (dataset, cell) => findNodeByCell(dataset, cell),
      fixIds: (nodes) => nodeFixIds(nodes),
      getParent: (nodes, child) => nodeGetParent(nodes, child),
      pop: (nodes, node2remove) => nodePop(nodes, node2remove),
      toStream: (nodes) => nodeToStream(nodes),
      traverseVisible: (nodes, predicates) => nodeTraverseVisible(nodes, predicates),
      find: (dataset, predicate) => nodeFind(dataset, predicate),
      resolveTargets: (dataset, target) => nodeResolveTargets(dataset, target),
      sanitizeIds: (dataset, candidates, options) => nodeSanitizeIds(dataset, candidates, options),
      extractCellMetadata: (node, cellId, schema) => extractCellMetadata(node, cellId, schema)
    };
  }
}
var __classPrivateFieldSet$7 = function(receiver, state, value, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var __classPrivateFieldGet$7 = function(receiver, state, kind, f2) {
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f2 : kind === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _LfDebug_COMPONENTS, _LfDebug_IS_ENABLED, _LfDebug_IS_PROD, _LfDebug_LOG_LIMIT, _LfDebug_LOGS, _LfDebug_codeDispatcher, _LfDebug_toggleDispatcher;
class LfDebug {
  constructor(_lfFramework) {
    _LfDebug_COMPONENTS.set(this, {
      codes: /* @__PURE__ */ new Set(),
      toggles: /* @__PURE__ */ new Set()
    });
    _LfDebug_IS_ENABLED.set(this, false);
    _LfDebug_IS_PROD.set(this, false);
    _LfDebug_LOG_LIMIT.set(this, 250);
    _LfDebug_LOGS.set(this, []);
    _LfDebug_codeDispatcher.set(this, (log) => {
      Array.from(__classPrivateFieldGet$7(this, _LfDebug_COMPONENTS, "f").codes).forEach((comp) => {
        if (log) {
          comp.lfValue = `# ${log.id}:
${log.message}

${comp.lfValue}`;
        } else {
          comp.lfValue = "";
        }
      });
    });
    _LfDebug_toggleDispatcher.set(this, () => {
      Array.from(__classPrivateFieldGet$7(this, _LfDebug_COMPONENTS, "f").toggles).forEach((comp) => {
        comp.setValue(__classPrivateFieldGet$7(this, _LfDebug_IS_ENABLED, "f") ? "on" : "off");
      });
    });
    this.info = {
      //#region Create info
      create: () => {
        return {
          endTime: 0,
          renderCount: 0,
          renderEnd: 0,
          renderStart: 0,
          startTime: performance.now()
        };
      },
      //#endregion
      //#region Update info
      update: async (comp, lifecycle) => {
        switch (lifecycle) {
          case "custom":
            if (this.isEnabled()) {
              this.logs.new(comp, "Custom breakpoint  took " + (window.performance.now() - comp.debugInfo.renderStart) + "ms.");
            }
            break;
          case "did-render":
            comp.debugInfo.renderEnd = window.performance.now();
            if (this.isEnabled()) {
              this.logs.new(comp, "Render #" + comp.debugInfo.renderCount + " took " + (comp.debugInfo.renderEnd - comp.debugInfo.renderStart) + "ms.");
            }
            break;
          case "did-load":
            comp.debugInfo.endTime = window.performance.now();
            this.logs.new(comp, "Component ready after " + (comp.debugInfo.endTime - comp.debugInfo.startTime) + "ms.");
            break;
          case "will-render":
            comp.debugInfo.renderCount++;
            comp.debugInfo.renderStart = window.performance.now();
            break;
        }
      }
      //#endregion
    };
    this.logs = {
      //#region Dump logs
      dump: () => {
        __classPrivateFieldSet$7(this, _LfDebug_LOGS, []);
        __classPrivateFieldGet$7(this, _LfDebug_codeDispatcher, "f").call(this);
      },
      //#endregion
      //#region Logs from comp
      fromComponent(comp) {
        return comp.rootElement !== void 0;
      },
      //#endregion
      //#region New log
      new: async (comp, message, category = "informational") => {
        if (__classPrivateFieldGet$7(this, _LfDebug_IS_PROD, "f") && category === "informational") {
          return;
        }
        if (__classPrivateFieldGet$7(this, _LfDebug_COMPONENTS, "f").codes.has(comp)) {
          return;
        }
        const isFromComponent = this.logs.fromComponent(comp);
        const log = {
          category,
          class: null,
          date: /* @__PURE__ */ new Date(),
          id: isFromComponent ? `${comp.rootElement.tagName} ${comp.rootElement.id ? "( #" + comp.rootElement.id + " )" : ""}` : "LfFramework",
          message,
          type: message.indexOf("Render #") > -1 ? "render" : message.indexOf("Component ready") > -1 ? "load" : message.indexOf("Size changed") > -1 ? "resize" : "misc"
        };
        if (__classPrivateFieldGet$7(this, _LfDebug_LOGS, "f").length > __classPrivateFieldGet$7(this, _LfDebug_LOG_LIMIT, "f")) {
          if (__classPrivateFieldGet$7(this, _LfDebug_IS_ENABLED, "f")) {
            console.warn(log.date.toLocaleDateString() + " lf-debug => Too many logs (> " + __classPrivateFieldGet$7(this, _LfDebug_LOG_LIMIT, "f") + ")! Dumping (increase debug.logLimit to store more logs)... .");
          }
          this.logs.dump();
        }
        __classPrivateFieldGet$7(this, _LfDebug_LOGS, "f").push(log);
        switch (category) {
          case "error":
            console.error(`${log.date.toLocaleDateString()} ${log.id} ${log.message}`, log.class);
            break;
          case "warning":
            console.warn(`${log.date.toLocaleDateString()} ${log.id} ${log.message}`, log.class);
            break;
        }
        if (this.isEnabled()) {
          __classPrivateFieldGet$7(this, _LfDebug_codeDispatcher, "f").call(this, log);
        }
      },
      //#endregion
      //#region Print logs
      print: () => {
        const logsToPrint = {
          load: [],
          misc: [],
          render: [],
          resize: []
        };
        for (let index = 0; index < __classPrivateFieldGet$7(this, _LfDebug_LOGS, "f").length; index++) {
          const log = __classPrivateFieldGet$7(this, _LfDebug_LOGS, "f")[index];
          const printEntry = {
            class: log.class,
            date: log.date.toLocaleDateString(),
            message: log.id + log.message
          };
          logsToPrint[log.type].push(printEntry);
        }
        for (const key in logsToPrint) {
          if (Object.prototype.hasOwnProperty.call(logsToPrint, key)) {
            const k2 = key;
            const logs = logsToPrint[k2];
            console.groupCollapsed("%c  %c" + key + " logs (" + logsToPrint[k2].length + ")", "background-color: green; margin-right: 10px; border-radius: 50%", "background-color: transparent");
            for (let index = 0; index < logs.length; index++) {
              const log = logs[index];
              console.log(log.date, log.message, log.class);
            }
            console.groupEnd();
          }
        }
        if (__classPrivateFieldGet$7(this, _LfDebug_LOGS, "f").length > 0) {
          console.groupCollapsed("%c  %cAll logs (" + __classPrivateFieldGet$7(this, _LfDebug_LOGS, "f").length + ")", "background-color: blue; margin-right: 10px; border-radius: 50%", "background-color: transparent");
          console.table(__classPrivateFieldGet$7(this, _LfDebug_LOGS, "f"));
          console.groupEnd();
        }
      }
      //#endregion
    };
    this.isEnabled = () => {
      return __classPrivateFieldGet$7(this, _LfDebug_IS_ENABLED, "f");
    };
    this.register = (comp) => {
      if (comp.rootElement.tagName.toLowerCase() === "lf-code") {
        __classPrivateFieldGet$7(this, _LfDebug_COMPONENTS, "f").codes.add(comp);
      } else {
        __classPrivateFieldGet$7(this, _LfDebug_COMPONENTS, "f").toggles.add(comp);
      }
    };
    this.toggle = (value, dispatch = true) => {
      if (value === false || value === true) {
        __classPrivateFieldSet$7(this, _LfDebug_IS_ENABLED, value);
      } else {
        __classPrivateFieldSet$7(this, _LfDebug_IS_ENABLED, !__classPrivateFieldGet$7(this, _LfDebug_IS_ENABLED, "f"));
      }
      if (dispatch) {
        __classPrivateFieldGet$7(this, _LfDebug_toggleDispatcher, "f").call(this);
      }
      return __classPrivateFieldGet$7(this, _LfDebug_IS_ENABLED, "f");
    };
    this.unregister = (comp) => {
      if (comp.rootElement.tagName.toLowerCase() === "lf-code") {
        __classPrivateFieldGet$7(this, _LfDebug_COMPONENTS, "f").codes.delete(comp);
      } else {
        __classPrivateFieldGet$7(this, _LfDebug_COMPONENTS, "f").toggles.delete(comp);
      }
    };
    __classPrivateFieldSet$7(this, _LfDebug_IS_PROD, typeof process !== "undefined" && true);
  }
}
_LfDebug_COMPONENTS = /* @__PURE__ */ new WeakMap(), _LfDebug_IS_ENABLED = /* @__PURE__ */ new WeakMap(), _LfDebug_IS_PROD = /* @__PURE__ */ new WeakMap(), _LfDebug_LOG_LIMIT = /* @__PURE__ */ new WeakMap(), _LfDebug_LOGS = /* @__PURE__ */ new WeakMap(), _LfDebug_codeDispatcher = /* @__PURE__ */ new WeakMap(), _LfDebug_toggleDispatcher = /* @__PURE__ */ new WeakMap();
var __classPrivateFieldSet$6 = function(receiver, state, value, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var __classPrivateFieldGet$6 = function(receiver, state, kind, f2) {
  if (kind === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f2 : kind === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _LfDrag_instances, _LfDrag_IS_DRAGGING, _LfDrag_DRAG_THRESHOLD, _LfDrag_MANAGER, _LfDrag_POINTER_ID, _LfDrag_REDUCED_MOTION, _LfDrag_SESSIONS, _LfDrag_initializeSession, _LfDrag_defaultPointerMoveAndUp, _LfDrag_setupThresholdAwarePointerDown, _LfDrag_dragToDropHandler, _LfDrag_dragToResizeHandler, _LfDrag_dragToScrollHandler, _LfDrag_swipeHandler;
class LfDrag {
  constructor(lfFramework2) {
    _LfDrag_instances.add(this);
    _LfDrag_IS_DRAGGING.set(this, false);
    _LfDrag_DRAG_THRESHOLD.set(this, 5);
    _LfDrag_MANAGER.set(this, void 0);
    _LfDrag_POINTER_ID.set(this, null);
    _LfDrag_REDUCED_MOTION.set(this, window.matchMedia("(prefers-reduced-motion: reduce)").matches);
    _LfDrag_SESSIONS.set(this, /* @__PURE__ */ new WeakMap());
    _LfDrag_defaultPointerMoveAndUp.set(this, (element, session) => {
      const onPointerMove = (moveEvent) => {
        var _a2, _b2;
        (_b2 = (_a2 = session.callbacks) == null ? void 0 : _a2.onMove) == null ? void 0 : _b2.call(_a2, moveEvent, session);
      };
      const onPointerUp = (endEvent) => {
        var _a2, _b2;
        element.removeEventListener("pointermove", onPointerMove);
        element.removeEventListener("pointerup", onPointerUp);
        element.removeEventListener("pointercancel", onPointerUp);
        (_b2 = (_a2 = session.callbacks) == null ? void 0 : _a2.onEnd) == null ? void 0 : _b2.call(_a2, endEvent, session);
      };
      element.addEventListener("pointermove", onPointerMove);
      element.addEventListener("pointerup", onPointerUp);
      element.addEventListener("pointercancel", onPointerUp);
    });
    _LfDrag_dragToDropHandler.set(this, (element, e2) => {
      var _a2, _b2;
      const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
      if (!session) {
        __classPrivateFieldGet$6(this, _LfDrag_MANAGER, "f").debug.logs.new(this, "Attempted to interact with an unregistered element.", "warning");
        return;
      }
      const startX = e2.clientX;
      const startY = e2.clientY;
      const rect = element.getBoundingClientRect();
      const offsetLeft = rect.left;
      const offsetTop = rect.top;
      (_b2 = (_a2 = session.callbacks) == null ? void 0 : _a2.onStart) == null ? void 0 : _b2.call(_a2, e2, session);
      element.style.position = "absolute";
      element.style.cursor = "grabbing";
      const onPointerMove = (moveEvent) => {
        var _a3, _b3;
        session.dragData = {
          ...session.dragData,
          startX,
          startY,
          deltaX: moveEvent.clientX - startX,
          deltaY: moveEvent.clientY - startY,
          lastX: moveEvent.clientX,
          lastY: moveEvent.clientY,
          lastScrollLeft: 0,
          lastScrollTop: 0,
          startScrollLeft: 0,
          startScrollTop: 0
        };
        const newLeft = offsetLeft + session.dragData.deltaX;
        const newTop = offsetTop + session.dragData.deltaY;
        element.style.left = `${newLeft}px`;
        element.style.top = `${newTop}px`;
        (_b3 = (_a3 = session.callbacks) == null ? void 0 : _a3.onMove) == null ? void 0 : _b3.call(_a3, moveEvent, session);
      };
      const onPointerUp = (endEvent) => {
        var _a3, _b3;
        element.removeEventListener("pointermove", onPointerMove);
        element.removeEventListener("pointerup", onPointerUp);
        element.removeEventListener("pointercancel", onPointerUp);
        element.style.cursor = "auto";
        (_b3 = (_a3 = session.callbacks) == null ? void 0 : _a3.onEnd) == null ? void 0 : _b3.call(_a3, endEvent, session);
      };
      element.addEventListener("pointermove", onPointerMove);
      element.addEventListener("pointerup", onPointerUp);
      element.addEventListener("pointercancel", onPointerUp);
    });
    _LfDrag_dragToResizeHandler.set(this, (element, e2) => {
      var _a2, _b2;
      const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
      if (!session) {
        __classPrivateFieldGet$6(this, _LfDrag_MANAGER, "f").debug.logs.new(this, "Attempted to interact with an unregistered element.", "warning");
        return;
      }
      const startWidth = element.offsetWidth;
      const startHeight = element.offsetHeight;
      const startX = e2.clientX;
      const startY = e2.clientY;
      (_b2 = (_a2 = session.callbacks) == null ? void 0 : _a2.onStart) == null ? void 0 : _b2.call(_a2, e2, session);
      element.style.cursor = "nwse-resize";
      const onPointerMove = (moveEvent) => {
        var _a3, _b3;
        const deltaX = moveEvent.clientX - startX;
        const deltaY = moveEvent.clientY - startY;
        session.dragData = {
          ...session.dragData,
          startX,
          startY,
          deltaX,
          deltaY,
          lastX: moveEvent.clientX,
          lastY: moveEvent.clientY,
          startScrollLeft: 0,
          startScrollTop: 0,
          lastScrollLeft: 0,
          lastScrollTop: 0
        };
        element.style.width = `${startWidth + deltaX}px`;
        element.style.height = `${startHeight + deltaY}px`;
        (_b3 = (_a3 = session.callbacks) == null ? void 0 : _a3.onMove) == null ? void 0 : _b3.call(_a3, moveEvent, session);
      };
      const onPointerUp = (endEvent) => {
        var _a3, _b3;
        element.removeEventListener("pointermove", onPointerMove);
        element.removeEventListener("pointerup", onPointerUp);
        element.removeEventListener("pointercancel", onPointerUp);
        element.style.cursor = "auto";
        (_b3 = (_a3 = session.callbacks) == null ? void 0 : _a3.onEnd) == null ? void 0 : _b3.call(_a3, endEvent, session);
      };
      element.addEventListener("pointermove", onPointerMove);
      element.addEventListener("pointerup", onPointerUp);
      element.addEventListener("pointercancel", onPointerUp);
    });
    _LfDrag_dragToScrollHandler.set(this, (element, e2, direction = "x", distX, distY) => {
      var _a2, _b2;
      const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
      if (!session) {
        __classPrivateFieldGet$6(this, _LfDrag_MANAGER, "f").debug.logs.new(this, "Attempted to interact with an unregistered element.", "warning");
        return;
      }
      element.setPointerCapture(e2.pointerId);
      const startX = e2.clientX - distX;
      const startY = e2.clientY - distY;
      const startScrollLeft = element.scrollLeft;
      const startScrollTop = element.scrollTop;
      const startTime = performance.now();
      (_b2 = (_a2 = session.callbacks) == null ? void 0 : _a2.onStart) == null ? void 0 : _b2.call(_a2, e2, session);
      element.style.cursor = "grabbing";
      element.style.userSelect = "none";
      const onPointerMove = (moveEvent) => {
        var _a3, _b3, _c2;
        const currentTime = performance.now();
        const timeDelta = currentTime - (((_a3 = session.dragData) == null ? void 0 : _a3.lastMoveTime) || startTime);
        const deltaX = moveEvent.clientX - startX;
        const deltaY = moveEvent.clientY - startY;
        switch (direction) {
          case "x":
            element.scrollLeft = startScrollLeft - deltaX;
            break;
          case "y":
            element.scrollTop = startScrollTop - deltaY;
            break;
        }
        const newVelocityX = -(deltaX / timeDelta);
        const newVelocityY = -(deltaY / timeDelta);
        session.dragData = {
          startX,
          startY,
          startScrollLeft,
          startScrollTop,
          velocityX: newVelocityX,
          velocityY: newVelocityY,
          lastMoveTime: currentTime,
          deltaX: moveEvent.clientX - startX,
          deltaY: moveEvent.clientY - startY,
          lastX: moveEvent.clientX,
          lastY: moveEvent.clientY,
          lastScrollLeft: element.scrollLeft,
          lastScrollTop: element.scrollTop
        };
        (_c2 = (_b3 = session.callbacks) == null ? void 0 : _b3.onMove) == null ? void 0 : _c2.call(_b3, moveEvent, session);
      };
      const onPointerUp = (endEvent) => {
        var _a3, _b3, _c2, _d2;
        element.releasePointerCapture(endEvent.pointerId);
        element.removeEventListener("pointermove", onPointerMove);
        element.removeEventListener("pointerup", onPointerUp);
        element.removeEventListener("pointercancel", onPointerUp);
        if (!__classPrivateFieldGet$6(this, _LfDrag_REDUCED_MOTION, "f")) {
          let vx2 = ((_a3 = session.dragData) == null ? void 0 : _a3.velocityX) ?? 0;
          let vy2 = ((_b3 = session.dragData) == null ? void 0 : _b3.velocityY) ?? 0;
          const momentumFactor = 1;
          const momentumScroll = () => {
            if (Math.abs(vx2) > 0.1) {
              switch (direction) {
                case "x":
                  element.scrollLeft += vx2 * momentumFactor;
                  break;
                case "y":
                  element.scrollTop += vy2 * momentumFactor;
                  break;
              }
              vx2 *= 0.95;
              vy2 *= 0.95;
              requestAnimationFrame(momentumScroll);
            }
          };
          momentumScroll();
        }
        element.setAttribute("aria-grabbed", "false");
        (_d2 = (_c2 = session.callbacks) == null ? void 0 : _c2.onEnd) == null ? void 0 : _d2.call(_c2, endEvent, session);
      };
      element.addEventListener("pointermove", onPointerMove);
      element.addEventListener("pointerup", onPointerUp);
      element.addEventListener("pointercancel", onPointerUp);
    });
    _LfDrag_swipeHandler.set(this, (element, e2, direction = "x") => {
      var _a2, _b2;
      const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
      if (!session) {
        __classPrivateFieldGet$6(this, _LfDrag_MANAGER, "f").debug.logs.new(this, "Attempted to interact with an unregistered element.", "warning");
        return;
      }
      const swipeThreshold = 50;
      const startX = e2.clientX;
      const startY = e2.clientY;
      if (!session.swipeData) {
        session.swipeData = { direction: null };
        (_b2 = (_a2 = session.callbacks) == null ? void 0 : _a2.onStart) == null ? void 0 : _b2.call(_a2, e2, session);
      }
      let hasPreventedDefault = false;
      const onPointerMove = (moveEvent) => {
        var _a3, _b3;
        const currentDistX = moveEvent.clientX - startX;
        const currentDistY = moveEvent.clientY - startY;
        const deltaX = Math.abs(currentDistX);
        const deltaY = Math.abs(currentDistY);
        if (deltaX > deltaY && deltaX > swipeThreshold) {
          if (!hasPreventedDefault && moveEvent.cancelable) {
            moveEvent.preventDefault();
            hasPreventedDefault = true;
          }
        }
        if (direction === "x" && deltaX > swipeThreshold) {
          session.swipeData.direction = currentDistX > 0 ? "right" : "left";
        } else if (direction === "y" && deltaY > swipeThreshold) {
          session.swipeData.direction = currentDistY > 0 ? "down" : "up";
        }
        (_b3 = (_a3 = session.callbacks) == null ? void 0 : _a3.onMove) == null ? void 0 : _b3.call(_a3, moveEvent, session);
      };
      const onPointerUp = (endEvent) => {
        var _a3, _b3, _c2;
        element.removeEventListener("pointermove", onPointerMove);
        element.removeEventListener("pointerup", onPointerUp);
        element.removeEventListener("pointercancel", onPointerUp);
        if ((_a3 = session.swipeData) == null ? void 0 : _a3.direction) {
          (_c2 = (_b3 = session.callbacks) == null ? void 0 : _b3.onEnd) == null ? void 0 : _c2.call(_b3, endEvent, session);
        }
        session.swipeData = null;
        hasPreventedDefault = false;
      };
      element.addEventListener("pointermove", onPointerMove);
      element.addEventListener("pointerup", onPointerUp);
      element.addEventListener("pointercancel", onPointerUp);
    });
    this.register = {
      /**
       * Registers a custom drag behavior. The user must provide their own onPointerDown handler.
       * The user can also provide optional callbacks (onMove, onEnd).
       * If the user does NOT provide their own onMove/onEnd, the default behavior is to call the defaultPointerMoveAndUp handler.
       *
       * @param element The element to register custom drag behavior on.
       * @param onPointerDown The user-provided handler for pointerdown events.
       * @param callbacks Optional callbacks for onMove, onEnd.
       *
       * @example
       * lfDrag.register.customDrag(element, (e, session) => {
       *  console.log("Custom drag started!");
       * }, {
       * onMove: (e, session) => {
       *  console.log("Custom dragging...");
       * },
       * onEnd: (e, session) => {
       *  console.log("Custom drag ended!");
       * },
       * });
       */
      customDrag: (element, onPointerDown, callbacks = {}) => {
        __classPrivateFieldGet$6(this, _LfDrag_instances, "m", _LfDrag_initializeSession).call(this, element, callbacks, (e2) => {
          const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
          if (!session) {
            console.warn("Attempted to interact with an unregistered element.");
            return;
          }
          onPointerDown(e2, session);
          if (!callbacks.onMove && !callbacks.onEnd) {
            __classPrivateFieldGet$6(this, _LfDrag_defaultPointerMoveAndUp, "f").call(this, element, session);
          }
        });
      },
      /**
       * Registers a skeleton for drag-to-drop.
       */
      dragToDrop: (element, callbacks) => {
        __classPrivateFieldGet$6(this, _LfDrag_instances, "m", _LfDrag_initializeSession).call(this, element, callbacks, (e2) => {
          __classPrivateFieldGet$6(this, _LfDrag_dragToDropHandler, "f").call(this, element, e2);
        });
      },
      /**
       * Registers a skeleton for drag-to-resize.
       */
      dragToResize: (element, callbacks) => {
        __classPrivateFieldGet$6(this, _LfDrag_instances, "m", _LfDrag_initializeSession).call(this, element, callbacks, (e2) => {
          __classPrivateFieldGet$6(this, _LfDrag_dragToResizeHandler, "f").call(this, element, e2);
        });
      },
      /**
       * Registers drag-to-scroll behavior for the element. The user can supply
       * optional callbacks (onStart, onMove, onEnd). This includes velocity + momentum.
       *
       * @param element The element to register drag-to-scroll behavior on.
       * @param callbacks Optional callbacks for onStart, onMove, onEnd.
       * @param direction Optional direction to scroll in (x, y, or both).
       *
       * @example
       * lfDrag.register.dragToScroll(element, {
       *  onStart: (e, session) => {
       *   console.log("Drag started!");
       * },
       *  onMove: (e, session) => {
       *   console.log("Dragging...");
       * },
       *  onEnd: (e, session) => {
       *   console.log("Drag ended!");
       * },
       * });
       */
      dragToScroll: (element, callbacks, direction = "x") => {
        __classPrivateFieldGet$6(this, _LfDrag_instances, "m", _LfDrag_initializeSession).call(this, element, callbacks, (e2, distX, distY) => {
          __classPrivateFieldGet$6(this, _LfDrag_dragToScrollHandler, "f").call(this, element, e2, direction, distX, distY);
        });
      },
      /**
       * Registers a swipe handler for the element. The user can supply optional callbacks (onStart, onMove, onEnd).
       *
       * @param element The element to register swipe behavior on.
       * @param callbacks Optional callbacks for onStart, onMove, onEnd.
       * @param direction Optional direction to swipe in (x, y).
       *
       * @example
       * lfDrag.register.swipe(element, {
       *  onStart: (e, session) => {
       *   console.log("Swipe started!");
       * },
       *  onMove: (e, session) => {
       *   console.log("Swiping...");
       * },
       *  onEnd: (e, session) => {
       *   console.log("Swipe ended!");
       * },
       * });
       */
      swipe: (element, callbacks, direction = "x") => {
        __classPrivateFieldGet$6(this, _LfDrag_instances, "m", _LfDrag_initializeSession).call(this, element, callbacks, (e2) => {
          __classPrivateFieldGet$6(this, _LfDrag_swipeHandler, "f").call(this, element, e2, direction);
        });
      }
    };
    this.unregister = {
      /**
       * Unregisters any of the standard behaviors (scroll, drop, resize, etc.)
       * by simply calling the session's cleanupCb, then removing the session from the map.
       *
       * @param element The element to unregister drag behavior from.
       *
       * @example
       * lfDrag.unregister.all(element);
       */
      all: (element) => {
        const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
        if (!session)
          return;
        session.cleanupCb();
        __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").delete(element);
      },
      /**
       * Unregisters custom drag behavior from an element.
       *
       * @param element The element to unregister custom drag behavior from.
       *
       * @example
       * lfDrag.unregister.customDrag(element);
       */
      customDrag: (element) => {
        const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
        session == null ? void 0 : session.cleanupCb();
        __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").delete(element);
      },
      /**
       * Unregisters drag-to-drop behavior from an element.
       *
       * @param element The element to unregister drag-to-drop behavior from.
       *
       * @example
       * lfDrag.unregister.dragToDrop(element);
       */
      dragToDrop: (element) => {
        const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
        session == null ? void 0 : session.cleanupCb();
        __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").delete(element);
      },
      /**
       * Unregisters drag-to-resize behavior from an element.
       *
       * @param element The element to unregister drag-to-resize behavior from.
       *
       * @example
       * lfDrag.unregister.dragToResize(element);
       */
      dragToResize: (element) => {
        const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
        session == null ? void 0 : session.cleanupCb();
        __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").delete(element);
      },
      /**
       * Unregisters drag-to-scroll behavior from an element.
       *
       * @param element The element to unregister drag-to-scroll behavior from.
       *
       * @example
       * lfDrag.unregister.dragToScroll(element);
       */
      dragToScroll: (element) => {
        const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
        session == null ? void 0 : session.cleanupCb();
        __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").delete(element);
      },
      /**
       * Unregisters swipe behavior from an element.
       *
       * @param element The element to unregister swipe behavior from.
       *
       * @example
       * lfDrag.unregister.swipe(element);
       */
      swipe: (element) => {
        const session = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
        session == null ? void 0 : session.cleanupCb();
        __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").delete(element);
      }
    };
    __classPrivateFieldSet$6(this, _LfDrag_MANAGER, lfFramework2);
  }
  //#endregion
  //#region getActiveSession
  /**
   * Public API to get the active session for an element, if any.
   *
   * @param element The element to get the active session for.
   *
   * @example
   * const session = lfDrag.getActiveSession(element);
   * if (session) {
   * console.log("Session is active!");
   * }
   */
  getActiveSession(element) {
    return __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element);
  }
}
_LfDrag_IS_DRAGGING = /* @__PURE__ */ new WeakMap(), _LfDrag_DRAG_THRESHOLD = /* @__PURE__ */ new WeakMap(), _LfDrag_MANAGER = /* @__PURE__ */ new WeakMap(), _LfDrag_POINTER_ID = /* @__PURE__ */ new WeakMap(), _LfDrag_REDUCED_MOTION = /* @__PURE__ */ new WeakMap(), _LfDrag_SESSIONS = /* @__PURE__ */ new WeakMap(), _LfDrag_defaultPointerMoveAndUp = /* @__PURE__ */ new WeakMap(), _LfDrag_dragToDropHandler = /* @__PURE__ */ new WeakMap(), _LfDrag_dragToResizeHandler = /* @__PURE__ */ new WeakMap(), _LfDrag_dragToScrollHandler = /* @__PURE__ */ new WeakMap(), _LfDrag_swipeHandler = /* @__PURE__ */ new WeakMap(), _LfDrag_instances = /* @__PURE__ */ new WeakSet(), _LfDrag_initializeSession = function _LfDrag_initializeSession2(element, callbacks = {}, dragLogicHandler) {
  var _a2;
  (_a2 = __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").get(element)) == null ? void 0 : _a2.cleanupCb();
  __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").delete(element);
  const removeThresholdListeners = __classPrivateFieldGet$6(this, _LfDrag_instances, "m", _LfDrag_setupThresholdAwarePointerDown).call(this, element, __classPrivateFieldGet$6(this, _LfDrag_DRAG_THRESHOLD, "f"), (moveEvent, distX, distY) => {
    dragLogicHandler(moveEvent, distX, distY);
  });
  const session = {
    cleanupCb: () => {
      removeThresholdListeners();
      element.style.cursor = "auto";
      element.style.userSelect = "auto";
      element.removeAttribute("aria-grabbed");
      delete element.dataset.lf;
    },
    element,
    callbacks,
    dragData: void 0
  };
  __classPrivateFieldGet$6(this, _LfDrag_SESSIONS, "f").set(element, session);
}, _LfDrag_setupThresholdAwarePointerDown = function _LfDrag_setupThresholdAwarePointerDown2(element, threshold, startDragHandler) {
  let pointerDownX = 0;
  let pointerDownY = 0;
  __classPrivateFieldSet$6(this, _LfDrag_IS_DRAGGING, false);
  __classPrivateFieldSet$6(this, _LfDrag_POINTER_ID, null);
  const onPointerDown = (e2) => {
    pointerDownX = e2.clientX;
    pointerDownY = e2.clientY;
    __classPrivateFieldSet$6(this, _LfDrag_IS_DRAGGING, false);
    __classPrivateFieldSet$6(this, _LfDrag_POINTER_ID, e2.pointerId);
  };
  const onPointerMove = (moveEvent) => {
    if (__classPrivateFieldGet$6(this, _LfDrag_POINTER_ID, "f") === null) {
      return;
    }
    const distX = moveEvent.clientX - pointerDownX;
    const distY = moveEvent.clientY - pointerDownY;
    const distance = Math.sqrt(distX ** 2 + distY ** 2);
    if (!__classPrivateFieldGet$6(this, _LfDrag_IS_DRAGGING, "f") && distance > threshold) {
      __classPrivateFieldSet$6(this, _LfDrag_IS_DRAGGING, true);
      moveEvent.preventDefault();
      element.setPointerCapture(moveEvent.pointerId);
      startDragHandler(moveEvent, distX, distY);
    }
  };
  const onPointerUp = (_upEvent) => {
    __classPrivateFieldSet$6(this, _LfDrag_POINTER_ID, null);
  };
  element.addEventListener("pointerdown", onPointerDown);
  element.addEventListener("pointermove", onPointerMove);
  element.addEventListener("pointerup", onPointerUp);
  element.addEventListener("pointercancel", onPointerUp);
  return () => {
    element.removeEventListener("pointerdown", onPointerDown);
    element.removeEventListener("pointermove", onPointerMove);
    element.removeEventListener("pointerup", onPointerUp);
    element.removeEventListener("pointercancel", onPointerUp);
  };
};
var __classPrivateFieldSet$5 = function(receiver, state, value, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var __classPrivateFieldGet$5 = function(receiver, state, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return state.get(receiver);
};
var _LfEffects_BACKDROP, _LfEffects_COMPONENTS, _LfEffects_EFFECTS, _LfEffects_INTENSITY, _LfEffects_LIGHTBOX, _LfEffects_MANAGER, _LfEffects_TIMEOUT, _LfEffects_appendToWrapper, _LfEffects_getParentStyle;
class LfEffects {
  constructor(lfFramework2) {
    _LfEffects_BACKDROP.set(this, null);
    _LfEffects_COMPONENTS.set(this, /* @__PURE__ */ new Set());
    _LfEffects_EFFECTS.set(this, void 0);
    _LfEffects_INTENSITY.set(this, {
      tilt: 10
    });
    _LfEffects_LIGHTBOX.set(this, null);
    _LfEffects_MANAGER.set(this, void 0);
    _LfEffects_TIMEOUT.set(this, {
      lightbox: 300,
      ripple: 500
    });
    _LfEffects_appendToWrapper.set(this, (element) => {
      if (typeof document === "undefined") {
        return;
      }
      if (!__classPrivateFieldGet$5(this, _LfEffects_EFFECTS)) {
        __classPrivateFieldSet$5(this, _LfEffects_EFFECTS, document.createElement("div"));
        __classPrivateFieldGet$5(this, _LfEffects_EFFECTS).classList.add("lf-effects");
        __classPrivateFieldGet$5(this, _LfEffects_EFFECTS).dataset.cy = CY_ATTRIBUTES.effects;
        document.body.appendChild(__classPrivateFieldGet$5(this, _LfEffects_EFFECTS));
      }
      __classPrivateFieldGet$5(this, _LfEffects_EFFECTS).appendChild(element);
    });
    _LfEffects_getParentStyle.set(this, (element) => {
      const { parentElement } = element;
      const { backgroundColor, borderRadius, color } = getComputedStyle(parentElement);
      return {
        backgroundColor,
        borderRadius,
        color
      };
    });
    this.set = {
      intensity: (key, value) => __classPrivateFieldGet$5(this, _LfEffects_INTENSITY)[key] = value,
      timeout: (key, value) => __classPrivateFieldGet$5(this, _LfEffects_TIMEOUT)[key] = value
    };
    this.backdrop = {
      hide: () => {
        if (!__classPrivateFieldGet$5(this, _LfEffects_BACKDROP)) {
          return;
        }
        const backdrop = __classPrivateFieldGet$5(this, _LfEffects_BACKDROP);
        backdrop.style.opacity = "0";
        backdrop.addEventListener("transitionend", () => {
          backdrop.remove();
          __classPrivateFieldSet$5(this, _LfEffects_BACKDROP, null);
        });
      },
      isVisible: () => !!__classPrivateFieldGet$5(this, _LfEffects_BACKDROP),
      show: (onClose) => {
        const { logs } = __classPrivateFieldGet$5(this, _LfEffects_MANAGER).debug;
        if (__classPrivateFieldGet$5(this, _LfEffects_BACKDROP)) {
          logs.new(this, "A modal is already open.", "warning");
          return;
        }
        const backdrop = document.createElement("div");
        backdrop.setAttribute("data-lf", LF_ATTRIBUTES.backdrop);
        backdrop.addEventListener("click", (e2) => {
          e2.preventDefault();
          e2.stopPropagation();
        });
        backdrop.addEventListener("pointerdown", (e2) => {
          e2.preventDefault();
          e2.stopPropagation();
          if (onClose) {
            onClose();
          }
        });
        backdrop.addEventListener("touchstart", (e2) => {
          e2.preventDefault();
          e2.stopPropagation();
        }, { passive: false });
        __classPrivateFieldGet$5(this, _LfEffects_appendToWrapper).call(this, backdrop);
        requestAnimationFrame(() => {
          backdrop.style.opacity = "1";
        });
        __classPrivateFieldSet$5(this, _LfEffects_BACKDROP, backdrop);
      }
    };
    this.lightbox = {
      show: async (element, closeCb) => {
        const { debug } = __classPrivateFieldGet$5(this, _LfEffects_MANAGER);
        if (__classPrivateFieldGet$5(this, _LfEffects_LIGHTBOX)) {
          debug.logs.new(this, "Lightbox is already open.", "warning");
          return;
        }
        const clone = element.cloneNode(true);
        if (element.tagName.startsWith("LF-") && "getProps" in element) {
          const props = await element.getProps();
          Object.assign(clone, props);
        }
        clone.setAttribute("data-lf", LF_ATTRIBUTES.lightboxContent);
        clone.setAttribute("role", "dialog");
        clone.setAttribute("aria-modal", "true");
        clone.setAttribute("tabindex", "-1");
        const escKeyHandler = (e2) => {
          if (e2.key === "Escape") {
            this.lightbox.hide();
          }
        };
        clone.addEventListener("keydown", escKeyHandler);
        const originalHide = this.lightbox.hide;
        this.lightbox.hide = () => {
          if (closeCb) {
            closeCb();
          }
          originalHide.call(this.lightbox);
          document.removeEventListener("keydown", escKeyHandler);
          this.lightbox.hide = originalHide;
        };
        const portal = document.createElement("div");
        portal.setAttribute("data-lf", LF_ATTRIBUTES.lightbox);
        portal.appendChild(clone);
        __classPrivateFieldGet$5(this, _LfEffects_appendToWrapper).call(this, portal);
        __classPrivateFieldSet$5(this, _LfEffects_LIGHTBOX, portal);
        this.backdrop.show(() => this.lightbox.hide());
        requestAnimationFrame(async () => {
          clone.focus();
        });
      },
      hide: () => {
        if (!__classPrivateFieldGet$5(this, _LfEffects_LIGHTBOX)) {
          return;
        }
        __classPrivateFieldGet$5(this, _LfEffects_LIGHTBOX).remove();
        __classPrivateFieldSet$5(this, _LfEffects_LIGHTBOX, null);
        this.backdrop.hide();
      },
      isVisible: () => !!__classPrivateFieldGet$5(this, _LfEffects_LIGHTBOX)
    };
    this.ripple = (e2, element, autoSurfaceRadius = true) => {
      if (!element) {
        return;
      }
      const ripple = document.createElement("span");
      const { left, height: h2, top, width: w3 } = element.getBoundingClientRect();
      const { backgroundColor, borderRadius, color } = __classPrivateFieldGet$5(this, _LfEffects_getParentStyle).call(this, element);
      const rippleX = e2.clientX - left - w3 / 2;
      const rippleY = e2.clientY - top - h2 / 2;
      if (autoSurfaceRadius) {
        element.style.borderRadius = borderRadius;
      }
      const { background, height, width, x: x2, y: y2 } = LF_EFFECTS_VARS.ripple;
      ripple.dataset.lf = LF_ATTRIBUTES.ripple;
      ripple.style.setProperty(background, color || backgroundColor);
      ripple.style.setProperty(height, `${h2}px`);
      ripple.style.setProperty(width, `${w3}px`);
      ripple.style.setProperty(x2, `${rippleX}px`);
      ripple.style.setProperty(y2, `${rippleY}px`);
      element.appendChild(ripple);
      setTimeout(() => requestAnimationFrame(async () => {
        ripple.remove();
      }), __classPrivateFieldGet$5(this, _LfEffects_TIMEOUT).ripple);
    };
    this.isRegistered = (element) => __classPrivateFieldGet$5(this, _LfEffects_COMPONENTS).has(element);
    this.register = {
      tilt: (element, intensity = 10) => {
        const { tilt } = LF_EFFECTS_VARS;
        element.addEventListener("pointermove", (e2) => {
          const { clientX, clientY } = e2;
          const { height, left, top, width } = element.getBoundingClientRect();
          const x2 = (clientX - left) / width * 100;
          const y2 = (clientY - top) / height * 100;
          element.style.setProperty(tilt.x, `${((clientX - left) / width - 0.5) * intensity}deg`);
          element.style.setProperty(tilt.y, `${-((clientY - top) / height - 0.5) * intensity}deg`);
          element.style.setProperty(tilt.lightX, `${x2}%`);
          element.style.setProperty(tilt.lightY, `${y2}%`);
        });
        element.addEventListener("pointerleave", () => {
          element.style.setProperty(tilt.x, "0deg");
          element.style.setProperty(tilt.y, "0deg");
          element.style.setProperty(tilt.lightX, "50%");
          element.style.setProperty(tilt.lightY, "50%");
        });
        element.dataset.lf = LF_ATTRIBUTES.tilt;
        __classPrivateFieldGet$5(this, _LfEffects_COMPONENTS).add(element);
      }
    };
    this.unregister = {
      tilt: (element) => {
        element.removeEventListener("pointermove", () => {
        });
        element.removeEventListener("pointerleave", () => {
        });
        __classPrivateFieldGet$5(this, _LfEffects_COMPONENTS).delete(element);
      }
    };
    __classPrivateFieldSet$5(this, _LfEffects_MANAGER, lfFramework2);
  }
}
_LfEffects_BACKDROP = /* @__PURE__ */ new WeakMap(), _LfEffects_COMPONENTS = /* @__PURE__ */ new WeakMap(), _LfEffects_EFFECTS = /* @__PURE__ */ new WeakMap(), _LfEffects_INTENSITY = /* @__PURE__ */ new WeakMap(), _LfEffects_LIGHTBOX = /* @__PURE__ */ new WeakMap(), _LfEffects_MANAGER = /* @__PURE__ */ new WeakMap(), _LfEffects_TIMEOUT = /* @__PURE__ */ new WeakMap(), _LfEffects_appendToWrapper = /* @__PURE__ */ new WeakMap(), _LfEffects_getParentStyle = /* @__PURE__ */ new WeakMap();
var __classPrivateFieldSet$4 = function(receiver, state, value, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var __classPrivateFieldGet$4 = function(receiver, state, kind, f2) {
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f2 : kind === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _LfLLM_DONE_RESPONSE, _LfLLM_IS_ABORT_ERROR, _LfLLM_LF_MANAGER;
class LfLLM {
  constructor(lfFramework2) {
    _LfLLM_DONE_RESPONSE.set(this, "data: [DONE]");
    _LfLLM_IS_ABORT_ERROR.set(this, (e2) => e2 instanceof DOMException && e2.name === "AbortError");
    _LfLLM_LF_MANAGER.set(this, void 0);
    this.utils = {
      hash: (request) => {
        const prune = (obj) => {
          if (obj === null || typeof obj !== "object")
            return obj;
          if (Array.isArray(obj))
            return obj.map(prune);
          const original = obj;
          const out = {};
          Object.keys(original).sort().forEach((k2) => {
            const v2 = original[k2];
            if (v2 === void 0)
              return;
            out[k2] = prune(v2);
          });
          return out;
        };
        const base2 = prune({
          model: request.model,
          messages: request.messages,
          prompt: request.prompt,
          max_tokens: request.max_tokens,
          temperature: request.temperature,
          top_p: request.top_p,
          stop: request.stop,
          presence_penalty: request.presence_penalty,
          frequency_penalty: request.frequency_penalty,
          seed: request.seed
        });
        const str = JSON.stringify(base2);
        let h2 = 2166136261;
        for (let i2 = 0; i2 < str.length; i2++) {
          h2 ^= str.charCodeAt(i2);
          h2 = h2 + (h2 << 1) + (h2 << 4) + (h2 << 7) + (h2 << 8) + (h2 << 24) >>> 0;
        }
        return h2.toString(16);
      },
      estimateTokens: (messages) => {
        let chars = 0;
        messages.forEach((m2) => {
          chars += m2.content.length + m2.role.length + 4;
        });
        return Math.ceil(chars / 4);
      }
    };
    this.fetch = async (request, url) => {
      try {
        const response = await fetch(`${url}/v1/chat/completions`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(request)
        });
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        return data;
      } catch (error2) {
        console.error("Error calling LLM:", error2);
        throw error2;
      }
    };
    this.poll = async (url) => {
      return fetch(url);
    };
    this.createAbort = () => new AbortController();
    this.stream = async function* (request, url, opts) {
      var _a2, _b2, _c2, _d2, _e2, _f2, _g2, _h2, _i2, _j2, _k2, _l2, _m2, _n2, _o2, _p2;
      const payload = { ...request, stream: request.stream ?? true };
      let response = null;
      try {
        response = await fetch(`${url}/v1/chat/completions`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload),
          signal: opts == null ? void 0 : opts.signal
        });
      } catch (e2) {
        if (__classPrivateFieldGet$4(this, _LfLLM_IS_ABORT_ERROR, "f").call(this, e2)) {
          return;
        }
        throw e2;
      }
      if (!response || !response.ok) {
        throw new Error(`HTTP error! status: ${response == null ? void 0 : response.status}`);
      }
      const reader = (_a2 = response.body) == null ? void 0 : _a2.getReader();
      if (!reader) {
        const full = await response.json();
        const text2 = ((_d2 = (_c2 = (_b2 = full.choices) == null ? void 0 : _b2[0]) == null ? void 0 : _c2.message) == null ? void 0 : _d2.content) || "";
        yield { contentDelta: text2, done: true, raw: full };
        return;
      }
      const decoder = new TextDecoder();
      let buffered = "";
      while (true) {
        let result;
        try {
          result = await reader.read();
        } catch (e2) {
          if (__classPrivateFieldGet$4(this, _LfLLM_IS_ABORT_ERROR, "f").call(this, e2)) {
            return;
          }
          throw e2;
        }
        if (result.done) {
          break;
        }
        buffered += decoder.decode(result.value, { stream: true });
        const lines = buffered.split(/\r?\n/);
        buffered = lines.pop() || "";
        for (const line of lines) {
          const trimmed = line.trim();
          if (!trimmed)
            continue;
          if (trimmed === __classPrivateFieldGet$4(this, _LfLLM_DONE_RESPONSE, "f")) {
            yield { done: true };
            return;
          }
          if (trimmed.startsWith("data:")) {
            const jsonPart = trimmed.slice(5).trim();
            try {
              const obj = JSON.parse(jsonPart);
              const delta = ((_g2 = (_f2 = (_e2 = obj.choices) == null ? void 0 : _e2[0]) == null ? void 0 : _f2.delta) == null ? void 0 : _g2.content) || ((_j2 = (_i2 = (_h2 = obj.choices) == null ? void 0 : _h2[0]) == null ? void 0 : _i2.message) == null ? void 0 : _j2.content);
              if (delta) {
                yield { contentDelta: delta, raw: obj };
              }
            } catch (_err) {
            }
          }
        }
      }
      if (buffered.trim()) {
        try {
          if (buffered.trim() === __classPrivateFieldGet$4(this, _LfLLM_DONE_RESPONSE, "f")) {
            yield { done: true };
            return;
          }
          const obj = JSON.parse(buffered.trim());
          const delta = ((_m2 = (_l2 = (_k2 = obj.choices) == null ? void 0 : _k2[0]) == null ? void 0 : _l2.delta) == null ? void 0 : _m2.content) || ((_p2 = (_o2 = (_n2 = obj.choices) == null ? void 0 : _n2[0]) == null ? void 0 : _o2.message) == null ? void 0 : _p2.content);
          if (delta) {
            yield { contentDelta: delta, raw: obj };
          }
        } catch {
        }
      }
      yield { done: true };
    };
    this.speechToText = async (textarea, button) => {
      const { debug } = __classPrivateFieldGet$4(this, _LfLLM_LF_MANAGER, "f");
      const speechConstructor = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!speechConstructor) {
        alert("Speech recognition is not supported in this browser.");
        return;
      }
      const recognition = new speechConstructor();
      recognition.interimResults = true;
      recognition.maxAlternatives = 1;
      recognition.addEventListener("result", (event) => {
        const transcript = Array.from(event.results).map((result) => result[0]).map((result) => result.transcript).join("");
        debug.logs.new(this, "STT response: " + transcript);
        textarea.setValue(transcript);
        const isFinal = event.results[event.results.length - 1].isFinal;
        if (isFinal) {
          recognition.stop();
        }
      });
      recognition.addEventListener("end", () => {
        recognition.stop();
        button.lfShowSpinner = false;
      });
      recognition.addEventListener("start", () => {
        textarea.setFocus();
        button.lfShowSpinner = true;
      });
      try {
        recognition.start();
      } catch (err) {
        debug.logs.new(this, "Error: " + err, "error");
      }
    };
    this.withRetry = async (fn2, policy) => {
      var _a2, _b2;
      const p2 = {
        maxAttempts: (policy == null ? void 0 : policy.maxAttempts) ?? 3,
        baseDelayMs: (policy == null ? void 0 : policy.baseDelayMs) ?? 300,
        jitter: (policy == null ? void 0 : policy.jitter) ?? true,
        retriableStatus: (policy == null ? void 0 : policy.retriableStatus) ?? [
          408,
          429,
          500,
          502,
          503,
          504
        ],
        retriableErrorNames: (policy == null ? void 0 : policy.retriableErrorNames) ?? [
          "TypeError",
          "NetworkError"
        ]
      };
      let attempt = 0;
      let lastError;
      while (attempt < p2.maxAttempts) {
        try {
          return await fn2();
        } catch (e2) {
          lastError = e2;
          attempt++;
          if (__classPrivateFieldGet$4(this, _LfLLM_IS_ABORT_ERROR, "f").call(this, e2)) {
            break;
          }
          const name = e2 == null ? void 0 : e2.name;
          const message = e2 == null ? void 0 : e2.message;
          let status;
          if (message) {
            const m2 = message.match(/status:\s*(\d{3})/i);
            if (m2)
              status = parseInt(m2[1], 10);
          }
          if (status === void 0 && typeof e2 === "object" && e2 && "status" in e2) {
            const maybe = e2.status;
            if (typeof maybe === "number")
              status = maybe;
          }
          const nameOk = !name || ((_a2 = p2.retriableErrorNames) == null ? void 0 : _a2.includes(name));
          const statusOk = status === void 0 || ((_b2 = p2.retriableStatus) == null ? void 0 : _b2.includes(status));
          const shouldRetry = nameOk && statusOk;
          if (!shouldRetry) {
            break;
          }
          if (attempt >= p2.maxAttempts) {
            break;
          }
          const delayBase = p2.baseDelayMs * Math.pow(2, attempt - 1);
          const delay = p2.jitter ? Math.floor(Math.random() * delayBase) : delayBase;
          await new Promise((r2) => setTimeout(r2, delay));
        }
      }
      throw lastError;
    };
    __classPrivateFieldSet$4(this, _LfLLM_LF_MANAGER, lfFramework2);
  }
}
_LfLLM_DONE_RESPONSE = /* @__PURE__ */ new WeakMap(), _LfLLM_IS_ABORT_ERROR = /* @__PURE__ */ new WeakMap(), _LfLLM_LF_MANAGER = /* @__PURE__ */ new WeakMap();
var __classPrivateFieldSet$3 = function(receiver, state, value, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var __classPrivateFieldGet$3 = function(receiver, state, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return state.get(receiver);
};
var _LfPortal_RAF, _LfPortal_MANAGER, _LfPortal_PORTAL, _LfPortal_STATE, _LfPortal_appendToWrapper, _LfPortal_clean, _LfPortal_schedulePositionUpdate, _LfPortal_executeRun, _LfPortal_isAnchorHTMLElement, _LfPortal_resetStyle;
class LfPortal {
  constructor(lfFramework2) {
    _LfPortal_RAF.set(this, {
      frameId: 0,
      queue: /* @__PURE__ */ new Set()
    });
    _LfPortal_MANAGER.set(this, void 0);
    _LfPortal_PORTAL.set(this, void 0);
    _LfPortal_STATE.set(this, /* @__PURE__ */ new WeakMap());
    _LfPortal_appendToWrapper.set(this, (element) => {
      if (typeof document === "undefined") {
        return;
      }
      if (!__classPrivateFieldGet$3(this, _LfPortal_PORTAL)) {
        __classPrivateFieldSet$3(this, _LfPortal_PORTAL, document.createElement("div"));
        __classPrivateFieldGet$3(this, _LfPortal_PORTAL).classList.add("lf-portal");
        __classPrivateFieldGet$3(this, _LfPortal_PORTAL).dataset.cy = CY_ATTRIBUTES.portal;
        document.body.appendChild(__classPrivateFieldGet$3(this, _LfPortal_PORTAL));
      }
      __classPrivateFieldGet$3(this, _LfPortal_PORTAL).appendChild(element);
    });
    _LfPortal_clean.set(this, (element) => {
      if (!this.isInPortal(element)) {
        return;
      }
      const { dismissCb, parent } = __classPrivateFieldGet$3(this, _LfPortal_STATE).get(element);
      __classPrivateFieldGet$3(this, _LfPortal_MANAGER).removeClickCallback(dismissCb);
      if (parent) {
        parent.appendChild(element);
      }
      __classPrivateFieldGet$3(this, _LfPortal_STATE).delete(element);
    });
    _LfPortal_schedulePositionUpdate.set(this, (element) => {
      __classPrivateFieldGet$3(this, _LfPortal_RAF).queue.add(element);
      if (!__classPrivateFieldGet$3(this, _LfPortal_RAF).frameId) {
        __classPrivateFieldGet$3(this, _LfPortal_RAF).frameId = requestAnimationFrame(() => {
          __classPrivateFieldGet$3(this, _LfPortal_RAF).frameId = 0;
          __classPrivateFieldGet$3(this, _LfPortal_RAF).queue.forEach((el2) => __classPrivateFieldGet$3(this, _LfPortal_executeRun).call(this, el2));
          __classPrivateFieldGet$3(this, _LfPortal_RAF).queue.clear();
        });
      }
    });
    _LfPortal_executeRun.set(this, (element) => {
      if (!this.isInPortal(element) || !element.isConnected) {
        __classPrivateFieldGet$3(this, _LfPortal_clean).call(this, element);
        return;
      }
      __classPrivateFieldGet$3(this, _LfPortal_resetStyle).call(this, element);
      const state = __classPrivateFieldGet$3(this, _LfPortal_STATE).get(element);
      if (!state) {
        __classPrivateFieldGet$3(this, _LfPortal_MANAGER).debug.logs.new(this, `State for element not found.`, "warning");
        return;
      }
      const { anchor, margin, placement } = state;
      const { offsetHeight, offsetWidth, style } = element;
      style.display = "block";
      if (!__classPrivateFieldGet$3(this, _LfPortal_isAnchorHTMLElement).call(this, anchor)) {
        const { x: x2, y: y2 } = anchor;
        const spaceBelow2 = window.innerHeight - y2;
        const spaceRight = window.innerWidth - x2;
        if (spaceBelow2 < offsetHeight && y2 > offsetHeight) {
          style.top = `${y2 - offsetHeight - margin}px`;
        } else {
          style.top = `${y2 + margin}px`;
        }
        if (spaceRight < offsetWidth && x2 > offsetWidth) {
          style.left = `${x2 - offsetWidth - margin}px`;
        } else {
          style.left = `${x2 + margin}px`;
        }
        return;
      }
      const { top, bottom, left, right } = anchor.getBoundingClientRect();
      const spaceBelow = window.innerHeight - bottom;
      const spaceAbove = top;
      const spaceOnLeft = left;
      const spaceOnRight = window.innerWidth - right;
      let verticalPart = "auto";
      let horizontalPart = "auto";
      if (placement === "auto") {
        verticalPart = "auto";
        horizontalPart = "auto";
      } else {
        const lower = placement.toLowerCase();
        if (lower.startsWith("t")) {
          verticalPart = "t";
        } else if (lower.startsWith("b")) {
          verticalPart = "b";
        } else if (lower.startsWith("l") || lower.startsWith("r")) ;
        if (lower.endsWith("l")) {
          horizontalPart = "l";
        } else if (lower.endsWith("r")) {
          horizontalPart = "r";
        }
      }
      let finalVertical = verticalPart;
      if (verticalPart === "auto") {
        if (spaceBelow >= offsetHeight || spaceBelow >= spaceAbove) {
          finalVertical = "b";
        } else {
          finalVertical = "t";
        }
      } else if (verticalPart === "b") {
        if (spaceBelow < offsetHeight && spaceAbove > offsetHeight) {
          finalVertical = "t";
        }
      } else if (verticalPart === "t") {
        if (spaceAbove < offsetHeight && spaceBelow > offsetHeight) {
          finalVertical = "b";
        }
      }
      let finalHorizontal = horizontalPart;
      if (horizontalPart === "auto") {
        if (spaceOnRight >= offsetWidth || spaceOnRight >= spaceOnLeft) {
          finalHorizontal = "r";
        } else {
          finalHorizontal = "l";
        }
      } else if (horizontalPart === "r") {
        if (spaceOnRight < offsetWidth && spaceOnLeft > offsetWidth) {
          finalHorizontal = "l";
        }
      } else if (horizontalPart === "l") {
        if (spaceOnLeft < offsetWidth && spaceOnRight > offsetWidth) {
          finalHorizontal = "r";
        }
      }
      switch (finalVertical) {
        case "t":
          style.bottom = `${window.innerHeight - top + margin}px`;
          break;
        case "b":
          style.top = `${bottom + margin}px`;
          break;
        default:
          style.top = offsetHeight < top && window.innerHeight - bottom < offsetHeight ? `${window.innerHeight - top + margin}px` : `${bottom + margin}px`;
          break;
      }
      let scrollbarWidth = window.innerWidth - document.documentElement.offsetWidth;
      if (scrollbarWidth > 30) {
        scrollbarWidth = 0;
      }
      switch (finalHorizontal) {
        case "l":
          style.left = `${left}px`;
          break;
        case "r":
          style.right = `${window.innerWidth - scrollbarWidth - right}px`;
          break;
        default:
          style.left = offsetWidth < right && window.innerWidth - left < offsetWidth ? `${window.innerWidth - scrollbarWidth - right}px` : `${left}px`;
          break;
      }
      requestAnimationFrame(() => __classPrivateFieldGet$3(this, _LfPortal_schedulePositionUpdate).call(this, element));
    });
    _LfPortal_isAnchorHTMLElement.set(this, (anchor) => {
      return anchor.tagName !== void 0;
    });
    _LfPortal_resetStyle.set(this, (element) => {
      const { style } = element;
      style.bottom = "";
      style.display = "";
      style.left = "";
      style.right = "";
      style.top = "";
    });
    this.close = (element) => {
      __classPrivateFieldGet$3(this, _LfPortal_clean).call(this, element);
      __classPrivateFieldGet$3(this, _LfPortal_resetStyle).call(this, element);
    };
    this.getState = (element) => {
      return __classPrivateFieldGet$3(this, _LfPortal_STATE).get(element);
    };
    this.isInPortal = (element) => {
      return __classPrivateFieldGet$3(this, _LfPortal_STATE).has(element);
    };
    this.open = (element, parent, anchor = parent, margin = 0, placement = "auto") => {
      let state = __classPrivateFieldGet$3(this, _LfPortal_STATE).get(element);
      if (state) {
        if (anchor) {
          state.anchor = anchor;
        }
        if (margin !== void 0) {
          state.margin = margin;
        }
        if (parent) {
          state.parent = parent;
        }
        if (placement) {
          state.placement = placement;
        }
      } else {
        const dismissCb = {
          cb: () => {
            this.close(element);
          },
          element
        };
        __classPrivateFieldGet$3(this, _LfPortal_STATE).set(element, {
          anchor,
          dismissCb,
          margin,
          parent,
          placement
        });
        __classPrivateFieldGet$3(this, _LfPortal_MANAGER).addClickCallback(dismissCb, true);
        __classPrivateFieldGet$3(this, _LfPortal_appendToWrapper).call(this, element);
      }
      __classPrivateFieldGet$3(this, _LfPortal_schedulePositionUpdate).call(this, element);
    };
    __classPrivateFieldSet$3(this, _LfPortal_MANAGER, lfFramework2);
  }
}
_LfPortal_RAF = /* @__PURE__ */ new WeakMap(), _LfPortal_MANAGER = /* @__PURE__ */ new WeakMap(), _LfPortal_PORTAL = /* @__PURE__ */ new WeakMap(), _LfPortal_STATE = /* @__PURE__ */ new WeakMap(), _LfPortal_appendToWrapper = /* @__PURE__ */ new WeakMap(), _LfPortal_clean = /* @__PURE__ */ new WeakMap(), _LfPortal_schedulePositionUpdate = /* @__PURE__ */ new WeakMap(), _LfPortal_executeRun = /* @__PURE__ */ new WeakMap(), _LfPortal_isAnchorHTMLElement = /* @__PURE__ */ new WeakMap(), _LfPortal_resetStyle = /* @__PURE__ */ new WeakMap();
var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
function getDefaultExportFromCjs(x2) {
  return x2 && x2.__esModule && Object.prototype.hasOwnProperty.call(x2, "default") ? x2["default"] : x2;
}
var index_cjs$4 = {};
var hasRequiredIndex_cjs$2;
function requireIndex_cjs$2() {
  if (hasRequiredIndex_cjs$2) return index_cjs$4;
  hasRequiredIndex_cjs$2 = 1;
  const decodeCache = {};
  function getDecodeCache(exclude) {
    let cache = decodeCache[exclude];
    if (cache) {
      return cache;
    }
    cache = decodeCache[exclude] = [];
    for (let i2 = 0; i2 < 128; i2++) {
      const ch2 = String.fromCharCode(i2);
      cache.push(ch2);
    }
    for (let i2 = 0; i2 < exclude.length; i2++) {
      const ch2 = exclude.charCodeAt(i2);
      cache[ch2] = "%" + ("0" + ch2.toString(16).toUpperCase()).slice(-2);
    }
    return cache;
  }
  function decode2(string, exclude) {
    if (typeof exclude !== "string") {
      exclude = decode2.defaultChars;
    }
    const cache = getDecodeCache(exclude);
    return string.replace(/(%[a-f0-9]{2})+/gi, function(seq) {
      let result = "";
      for (let i2 = 0, l2 = seq.length; i2 < l2; i2 += 3) {
        const b1 = parseInt(seq.slice(i2 + 1, i2 + 3), 16);
        if (b1 < 128) {
          result += cache[b1];
          continue;
        }
        if ((b1 & 224) === 192 && i2 + 3 < l2) {
          const b2 = parseInt(seq.slice(i2 + 4, i2 + 6), 16);
          if ((b2 & 192) === 128) {
            const chr = b1 << 6 & 1984 | b2 & 63;
            if (chr < 128) {
              result += "";
            } else {
              result += String.fromCharCode(chr);
            }
            i2 += 3;
            continue;
          }
        }
        if ((b1 & 240) === 224 && i2 + 6 < l2) {
          const b2 = parseInt(seq.slice(i2 + 4, i2 + 6), 16);
          const b3 = parseInt(seq.slice(i2 + 7, i2 + 9), 16);
          if ((b2 & 192) === 128 && (b3 & 192) === 128) {
            const chr = b1 << 12 & 61440 | b2 << 6 & 4032 | b3 & 63;
            if (chr < 2048 || chr >= 55296 && chr <= 57343) {
              result += "";
            } else {
              result += String.fromCharCode(chr);
            }
            i2 += 6;
            continue;
          }
        }
        if ((b1 & 248) === 240 && i2 + 9 < l2) {
          const b2 = parseInt(seq.slice(i2 + 4, i2 + 6), 16);
          const b3 = parseInt(seq.slice(i2 + 7, i2 + 9), 16);
          const b4 = parseInt(seq.slice(i2 + 10, i2 + 12), 16);
          if ((b2 & 192) === 128 && (b3 & 192) === 128 && (b4 & 192) === 128) {
            let chr = b1 << 18 & 1835008 | b2 << 12 & 258048 | b3 << 6 & 4032 | b4 & 63;
            if (chr < 65536 || chr > 1114111) {
              result += "";
            } else {
              chr -= 65536;
              result += String.fromCharCode(55296 + (chr >> 10), 56320 + (chr & 1023));
            }
            i2 += 9;
            continue;
          }
        }
        result += "";
      }
      return result;
    });
  }
  decode2.defaultChars = ";/?:@&=+$,#";
  decode2.componentChars = "";
  const encodeCache = {};
  function getEncodeCache(exclude) {
    let cache = encodeCache[exclude];
    if (cache) {
      return cache;
    }
    cache = encodeCache[exclude] = [];
    for (let i2 = 0; i2 < 128; i2++) {
      const ch2 = String.fromCharCode(i2);
      if (/^[0-9a-z]$/i.test(ch2)) {
        cache.push(ch2);
      } else {
        cache.push("%" + ("0" + i2.toString(16).toUpperCase()).slice(-2));
      }
    }
    for (let i2 = 0; i2 < exclude.length; i2++) {
      cache[exclude.charCodeAt(i2)] = exclude[i2];
    }
    return cache;
  }
  function encode2(string, exclude, keepEscaped) {
    if (typeof exclude !== "string") {
      keepEscaped = exclude;
      exclude = encode2.defaultChars;
    }
    if (typeof keepEscaped === "undefined") {
      keepEscaped = true;
    }
    const cache = getEncodeCache(exclude);
    let result = "";
    for (let i2 = 0, l2 = string.length; i2 < l2; i2++) {
      const code2 = string.charCodeAt(i2);
      if (keepEscaped && code2 === 37 && i2 + 2 < l2) {
        if (/^[0-9a-f]{2}$/i.test(string.slice(i2 + 1, i2 + 3))) {
          result += string.slice(i2, i2 + 3);
          i2 += 2;
          continue;
        }
      }
      if (code2 < 128) {
        result += cache[code2];
        continue;
      }
      if (code2 >= 55296 && code2 <= 57343) {
        if (code2 >= 55296 && code2 <= 56319 && i2 + 1 < l2) {
          const nextCode = string.charCodeAt(i2 + 1);
          if (nextCode >= 56320 && nextCode <= 57343) {
            result += encodeURIComponent(string[i2] + string[i2 + 1]);
            i2++;
            continue;
          }
        }
        result += "%EF%BF%BD";
        continue;
      }
      result += encodeURIComponent(string[i2]);
    }
    return result;
  }
  encode2.defaultChars = ";/?:@&=+$,-_.!~*'()#";
  encode2.componentChars = "-_.!~*'()";
  function format(url) {
    let result = "";
    result += url.protocol || "";
    result += url.slashes ? "//" : "";
    result += url.auth ? url.auth + "@" : "";
    if (url.hostname && url.hostname.indexOf(":") !== -1) {
      result += "[" + url.hostname + "]";
    } else {
      result += url.hostname || "";
    }
    result += url.port ? ":" + url.port : "";
    result += url.pathname || "";
    result += url.search || "";
    result += url.hash || "";
    return result;
  }
  function Url() {
    this.protocol = null;
    this.slashes = null;
    this.auth = null;
    this.port = null;
    this.hostname = null;
    this.hash = null;
    this.search = null;
    this.pathname = null;
  }
  const protocolPattern = /^([a-z0-9.+-]+:)/i;
  const portPattern = /:[0-9]*$/;
  const simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;
  const delims = ["<", ">", '"', "`", " ", "\r", "\n", "	"];
  const unwise = ["{", "}", "|", "\\", "^", "`"].concat(delims);
  const autoEscape = ["'"].concat(unwise);
  const nonHostChars = ["%", "/", "?", ";", "#"].concat(autoEscape);
  const hostEndingChars = ["/", "?", "#"];
  const hostnameMaxLen = 255;
  const hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/;
  const hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/;
  const hostlessProtocol = {
    javascript: true,
    "javascript:": true
  };
  const slashedProtocol = {
    http: true,
    https: true,
    ftp: true,
    gopher: true,
    file: true,
    "http:": true,
    "https:": true,
    "ftp:": true,
    "gopher:": true,
    "file:": true
  };
  function urlParse(url, slashesDenoteHost) {
    if (url && url instanceof Url) return url;
    const u2 = new Url();
    u2.parse(url, slashesDenoteHost);
    return u2;
  }
  Url.prototype.parse = function(url, slashesDenoteHost) {
    let lowerProto, hec, slashes;
    let rest = url;
    rest = rest.trim();
    if (!slashesDenoteHost && url.split("#").length === 1) {
      const simplePath = simplePathPattern.exec(rest);
      if (simplePath) {
        this.pathname = simplePath[1];
        if (simplePath[2]) {
          this.search = simplePath[2];
        }
        return this;
      }
    }
    let proto = protocolPattern.exec(rest);
    if (proto) {
      proto = proto[0];
      lowerProto = proto.toLowerCase();
      this.protocol = proto;
      rest = rest.substr(proto.length);
    }
    if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
      slashes = rest.substr(0, 2) === "//";
      if (slashes && !(proto && hostlessProtocol[proto])) {
        rest = rest.substr(2);
        this.slashes = true;
      }
    }
    if (!hostlessProtocol[proto] && (slashes || proto && !slashedProtocol[proto])) {
      let hostEnd = -1;
      for (let i2 = 0; i2 < hostEndingChars.length; i2++) {
        hec = rest.indexOf(hostEndingChars[i2]);
        if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {
          hostEnd = hec;
        }
      }
      let auth, atSign;
      if (hostEnd === -1) {
        atSign = rest.lastIndexOf("@");
      } else {
        atSign = rest.lastIndexOf("@", hostEnd);
      }
      if (atSign !== -1) {
        auth = rest.slice(0, atSign);
        rest = rest.slice(atSign + 1);
        this.auth = auth;
      }
      hostEnd = -1;
      for (let i2 = 0; i2 < nonHostChars.length; i2++) {
        hec = rest.indexOf(nonHostChars[i2]);
        if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {
          hostEnd = hec;
        }
      }
      if (hostEnd === -1) {
        hostEnd = rest.length;
      }
      if (rest[hostEnd - 1] === ":") {
        hostEnd--;
      }
      const host = rest.slice(0, hostEnd);
      rest = rest.slice(hostEnd);
      this.parseHost(host);
      this.hostname = this.hostname || "";
      const ipv6Hostname = this.hostname[0] === "[" && this.hostname[this.hostname.length - 1] === "]";
      if (!ipv6Hostname) {
        const hostparts = this.hostname.split(/\./);
        for (let i2 = 0, l2 = hostparts.length; i2 < l2; i2++) {
          const part = hostparts[i2];
          if (!part) {
            continue;
          }
          if (!part.match(hostnamePartPattern)) {
            let newpart = "";
            for (let j2 = 0, k2 = part.length; j2 < k2; j2++) {
              if (part.charCodeAt(j2) > 127) {
                newpart += "x";
              } else {
                newpart += part[j2];
              }
            }
            if (!newpart.match(hostnamePartPattern)) {
              const validParts = hostparts.slice(0, i2);
              const notHost = hostparts.slice(i2 + 1);
              const bit = part.match(hostnamePartStart);
              if (bit) {
                validParts.push(bit[1]);
                notHost.unshift(bit[2]);
              }
              if (notHost.length) {
                rest = notHost.join(".") + rest;
              }
              this.hostname = validParts.join(".");
              break;
            }
          }
        }
      }
      if (this.hostname.length > hostnameMaxLen) {
        this.hostname = "";
      }
      if (ipv6Hostname) {
        this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      }
    }
    const hash = rest.indexOf("#");
    if (hash !== -1) {
      this.hash = rest.substr(hash);
      rest = rest.slice(0, hash);
    }
    const qm2 = rest.indexOf("?");
    if (qm2 !== -1) {
      this.search = rest.substr(qm2);
      rest = rest.slice(0, qm2);
    }
    if (rest) {
      this.pathname = rest;
    }
    if (slashedProtocol[lowerProto] && this.hostname && !this.pathname) {
      this.pathname = "";
    }
    return this;
  };
  Url.prototype.parseHost = function(host) {
    let port = portPattern.exec(host);
    if (port) {
      port = port[0];
      if (port !== ":") {
        this.port = port.substr(1);
      }
      host = host.substr(0, host.length - port.length);
    }
    if (host) {
      this.hostname = host;
    }
  };
  index_cjs$4.decode = decode2;
  index_cjs$4.encode = encode2;
  index_cjs$4.format = format;
  index_cjs$4.parse = urlParse;
  return index_cjs$4;
}
var index_cjsExports$2 = requireIndex_cjs$2();
var index_cjs$3 = /* @__PURE__ */ getDefaultExportFromCjs(index_cjsExports$2);
var mdurl = /* @__PURE__ */ _mergeNamespaces({
  __proto__: null,
  default: index_cjs$3
}, [index_cjsExports$2]);
var index_cjs$2 = {};
var hasRequiredIndex_cjs$1;
function requireIndex_cjs$1() {
  if (hasRequiredIndex_cjs$1) return index_cjs$2;
  hasRequiredIndex_cjs$1 = 1;
  var regex$5 = /[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;
  var regex$4 = /[\0-\x1F\x7F-\x9F]/;
  var regex$3 = /[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/;
  var regex$2 = /[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/;
  var regex$1 = /[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/;
  var regex = /[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;
  index_cjs$2.Any = regex$5;
  index_cjs$2.Cc = regex$4;
  index_cjs$2.Cf = regex$3;
  index_cjs$2.P = regex$2;
  index_cjs$2.S = regex$1;
  index_cjs$2.Z = regex;
  return index_cjs$2;
}
var index_cjsExports$1 = requireIndex_cjs$1();
var index_cjs$1 = /* @__PURE__ */ getDefaultExportFromCjs(index_cjsExports$1);
var ucmicro = /* @__PURE__ */ _mergeNamespaces({
  __proto__: null,
  default: index_cjs$1
}, [index_cjsExports$1]);
var lib$1 = {};
var decode$1 = {};
var decodeDataHtml = {};
var hasRequiredDecodeDataHtml;
function requireDecodeDataHtml() {
  if (hasRequiredDecodeDataHtml) return decodeDataHtml;
  hasRequiredDecodeDataHtml = 1;
  Object.defineProperty(decodeDataHtml, "__esModule", { value: true });
  decodeDataHtml.default = new Uint16Array(
    // prettier-ignore
    '<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(c2) {
      return c2.charCodeAt(0);
    })
  );
  return decodeDataHtml;
}
var decodeDataXml = {};
var hasRequiredDecodeDataXml;
function requireDecodeDataXml() {
  if (hasRequiredDecodeDataXml) return decodeDataXml;
  hasRequiredDecodeDataXml = 1;
  Object.defineProperty(decodeDataXml, "__esModule", { value: true });
  decodeDataXml.default = new Uint16Array(
    // prettier-ignore
    "aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(c2) {
      return c2.charCodeAt(0);
    })
  );
  return decodeDataXml;
}
var decode_codepoint = {};
var hasRequiredDecode_codepoint;
function requireDecode_codepoint() {
  if (hasRequiredDecode_codepoint) return decode_codepoint;
  hasRequiredDecode_codepoint = 1;
  (function(exports) {
    var _a2;
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.replaceCodePoint = exports.fromCodePoint = void 0;
    var decodeMap = /* @__PURE__ */ new Map([
      [0, 65533],
      // C1 Unicode control character reference replacements
      [128, 8364],
      [130, 8218],
      [131, 402],
      [132, 8222],
      [133, 8230],
      [134, 8224],
      [135, 8225],
      [136, 710],
      [137, 8240],
      [138, 352],
      [139, 8249],
      [140, 338],
      [142, 381],
      [145, 8216],
      [146, 8217],
      [147, 8220],
      [148, 8221],
      [149, 8226],
      [150, 8211],
      [151, 8212],
      [152, 732],
      [153, 8482],
      [154, 353],
      [155, 8250],
      [156, 339],
      [158, 382],
      [159, 376]
    ]);
    exports.fromCodePoint = // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, node/no-unsupported-features/es-builtins
    (_a2 = String.fromCodePoint) !== null && _a2 !== void 0 ? _a2 : function(codePoint) {
      var output = "";
      if (codePoint > 65535) {
        codePoint -= 65536;
        output += String.fromCharCode(codePoint >>> 10 & 1023 | 55296);
        codePoint = 56320 | codePoint & 1023;
      }
      output += String.fromCharCode(codePoint);
      return output;
    };
    function replaceCodePoint(codePoint) {
      var _a22;
      if (codePoint >= 55296 && codePoint <= 57343 || codePoint > 1114111) {
        return 65533;
      }
      return (_a22 = decodeMap.get(codePoint)) !== null && _a22 !== void 0 ? _a22 : codePoint;
    }
    exports.replaceCodePoint = replaceCodePoint;
    function decodeCodePoint(codePoint) {
      return (0, exports.fromCodePoint)(replaceCodePoint(codePoint));
    }
    exports.default = decodeCodePoint;
  })(decode_codepoint);
  return decode_codepoint;
}
var hasRequiredDecode;
function requireDecode() {
  if (hasRequiredDecode) return decode$1;
  hasRequiredDecode = 1;
  (function(exports) {
    var __createBinding = decode$1 && decode$1.__createBinding || (Object.create ? (function(o2, m2, k2, k22) {
      if (k22 === void 0) k22 = k2;
      var desc = Object.getOwnPropertyDescriptor(m2, k2);
      if (!desc || ("get" in desc ? !m2.__esModule : desc.writable || desc.configurable)) {
        desc = { enumerable: true, get: function() {
          return m2[k2];
        } };
      }
      Object.defineProperty(o2, k22, desc);
    }) : (function(o2, m2, k2, k22) {
      if (k22 === void 0) k22 = k2;
      o2[k22] = m2[k2];
    }));
    var __setModuleDefault = decode$1 && decode$1.__setModuleDefault || (Object.create ? (function(o2, v2) {
      Object.defineProperty(o2, "default", { enumerable: true, value: v2 });
    }) : function(o2, v2) {
      o2["default"] = v2;
    });
    var __importStar = decode$1 && decode$1.__importStar || function(mod) {
      if (mod && mod.__esModule) return mod;
      var result = {};
      if (mod != null) {
        for (var k2 in mod) if (k2 !== "default" && Object.prototype.hasOwnProperty.call(mod, k2)) __createBinding(result, mod, k2);
      }
      __setModuleDefault(result, mod);
      return result;
    };
    var __importDefault = decode$1 && decode$1.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.decodeXML = exports.decodeHTMLStrict = exports.decodeHTMLAttribute = exports.decodeHTML = exports.determineBranch = exports.EntityDecoder = exports.DecodingMode = exports.BinTrieFlags = exports.fromCodePoint = exports.replaceCodePoint = exports.decodeCodePoint = exports.xmlDecodeTree = exports.htmlDecodeTree = void 0;
    var decode_data_html_js_1 = __importDefault(/* @__PURE__ */ requireDecodeDataHtml());
    exports.htmlDecodeTree = decode_data_html_js_1.default;
    var decode_data_xml_js_1 = __importDefault(/* @__PURE__ */ requireDecodeDataXml());
    exports.xmlDecodeTree = decode_data_xml_js_1.default;
    var decode_codepoint_js_1 = __importStar(/* @__PURE__ */ requireDecode_codepoint());
    exports.decodeCodePoint = decode_codepoint_js_1.default;
    var decode_codepoint_js_2 = /* @__PURE__ */ requireDecode_codepoint();
    Object.defineProperty(exports, "replaceCodePoint", { enumerable: true, get: function() {
      return decode_codepoint_js_2.replaceCodePoint;
    } });
    Object.defineProperty(exports, "fromCodePoint", { enumerable: true, get: function() {
      return decode_codepoint_js_2.fromCodePoint;
    } });
    var CharCodes;
    (function(CharCodes2) {
      CharCodes2[CharCodes2["NUM"] = 35] = "NUM";
      CharCodes2[CharCodes2["SEMI"] = 59] = "SEMI";
      CharCodes2[CharCodes2["EQUALS"] = 61] = "EQUALS";
      CharCodes2[CharCodes2["ZERO"] = 48] = "ZERO";
      CharCodes2[CharCodes2["NINE"] = 57] = "NINE";
      CharCodes2[CharCodes2["LOWER_A"] = 97] = "LOWER_A";
      CharCodes2[CharCodes2["LOWER_F"] = 102] = "LOWER_F";
      CharCodes2[CharCodes2["LOWER_X"] = 120] = "LOWER_X";
      CharCodes2[CharCodes2["LOWER_Z"] = 122] = "LOWER_Z";
      CharCodes2[CharCodes2["UPPER_A"] = 65] = "UPPER_A";
      CharCodes2[CharCodes2["UPPER_F"] = 70] = "UPPER_F";
      CharCodes2[CharCodes2["UPPER_Z"] = 90] = "UPPER_Z";
    })(CharCodes || (CharCodes = {}));
    var TO_LOWER_BIT = 32;
    var BinTrieFlags;
    (function(BinTrieFlags2) {
      BinTrieFlags2[BinTrieFlags2["VALUE_LENGTH"] = 49152] = "VALUE_LENGTH";
      BinTrieFlags2[BinTrieFlags2["BRANCH_LENGTH"] = 16256] = "BRANCH_LENGTH";
      BinTrieFlags2[BinTrieFlags2["JUMP_TABLE"] = 127] = "JUMP_TABLE";
    })(BinTrieFlags = exports.BinTrieFlags || (exports.BinTrieFlags = {}));
    function isNumber(code2) {
      return code2 >= CharCodes.ZERO && code2 <= CharCodes.NINE;
    }
    function isHexadecimalCharacter(code2) {
      return code2 >= CharCodes.UPPER_A && code2 <= CharCodes.UPPER_F || code2 >= CharCodes.LOWER_A && code2 <= CharCodes.LOWER_F;
    }
    function isAsciiAlphaNumeric(code2) {
      return code2 >= CharCodes.UPPER_A && code2 <= CharCodes.UPPER_Z || code2 >= CharCodes.LOWER_A && code2 <= CharCodes.LOWER_Z || isNumber(code2);
    }
    function isEntityInAttributeInvalidEnd(code2) {
      return code2 === CharCodes.EQUALS || isAsciiAlphaNumeric(code2);
    }
    var EntityDecoderState;
    (function(EntityDecoderState2) {
      EntityDecoderState2[EntityDecoderState2["EntityStart"] = 0] = "EntityStart";
      EntityDecoderState2[EntityDecoderState2["NumericStart"] = 1] = "NumericStart";
      EntityDecoderState2[EntityDecoderState2["NumericDecimal"] = 2] = "NumericDecimal";
      EntityDecoderState2[EntityDecoderState2["NumericHex"] = 3] = "NumericHex";
      EntityDecoderState2[EntityDecoderState2["NamedEntity"] = 4] = "NamedEntity";
    })(EntityDecoderState || (EntityDecoderState = {}));
    var DecodingMode;
    (function(DecodingMode2) {
      DecodingMode2[DecodingMode2["Legacy"] = 0] = "Legacy";
      DecodingMode2[DecodingMode2["Strict"] = 1] = "Strict";
      DecodingMode2[DecodingMode2["Attribute"] = 2] = "Attribute";
    })(DecodingMode = exports.DecodingMode || (exports.DecodingMode = {}));
    var EntityDecoder = (
      /** @class */
      (function() {
        function EntityDecoder2(decodeTree, emitCodePoint, errors2) {
          this.decodeTree = decodeTree;
          this.emitCodePoint = emitCodePoint;
          this.errors = errors2;
          this.state = EntityDecoderState.EntityStart;
          this.consumed = 1;
          this.result = 0;
          this.treeIndex = 0;
          this.excess = 1;
          this.decodeMode = DecodingMode.Strict;
        }
        EntityDecoder2.prototype.startEntity = function(decodeMode) {
          this.decodeMode = decodeMode;
          this.state = EntityDecoderState.EntityStart;
          this.result = 0;
          this.treeIndex = 0;
          this.excess = 1;
          this.consumed = 1;
        };
        EntityDecoder2.prototype.write = function(str, offset) {
          switch (this.state) {
            case EntityDecoderState.EntityStart: {
              if (str.charCodeAt(offset) === CharCodes.NUM) {
                this.state = EntityDecoderState.NumericStart;
                this.consumed += 1;
                return this.stateNumericStart(str, offset + 1);
              }
              this.state = EntityDecoderState.NamedEntity;
              return this.stateNamedEntity(str, offset);
            }
            case EntityDecoderState.NumericStart: {
              return this.stateNumericStart(str, offset);
            }
            case EntityDecoderState.NumericDecimal: {
              return this.stateNumericDecimal(str, offset);
            }
            case EntityDecoderState.NumericHex: {
              return this.stateNumericHex(str, offset);
            }
            case EntityDecoderState.NamedEntity: {
              return this.stateNamedEntity(str, offset);
            }
          }
        };
        EntityDecoder2.prototype.stateNumericStart = function(str, offset) {
          if (offset >= str.length) {
            return -1;
          }
          if ((str.charCodeAt(offset) | TO_LOWER_BIT) === CharCodes.LOWER_X) {
            this.state = EntityDecoderState.NumericHex;
            this.consumed += 1;
            return this.stateNumericHex(str, offset + 1);
          }
          this.state = EntityDecoderState.NumericDecimal;
          return this.stateNumericDecimal(str, offset);
        };
        EntityDecoder2.prototype.addToNumericResult = function(str, start, end, base2) {
          if (start !== end) {
            var digitCount = end - start;
            this.result = this.result * Math.pow(base2, digitCount) + parseInt(str.substr(start, digitCount), base2);
            this.consumed += digitCount;
          }
        };
        EntityDecoder2.prototype.stateNumericHex = function(str, offset) {
          var startIdx = offset;
          while (offset < str.length) {
            var char = str.charCodeAt(offset);
            if (isNumber(char) || isHexadecimalCharacter(char)) {
              offset += 1;
            } else {
              this.addToNumericResult(str, startIdx, offset, 16);
              return this.emitNumericEntity(char, 3);
            }
          }
          this.addToNumericResult(str, startIdx, offset, 16);
          return -1;
        };
        EntityDecoder2.prototype.stateNumericDecimal = function(str, offset) {
          var startIdx = offset;
          while (offset < str.length) {
            var char = str.charCodeAt(offset);
            if (isNumber(char)) {
              offset += 1;
            } else {
              this.addToNumericResult(str, startIdx, offset, 10);
              return this.emitNumericEntity(char, 2);
            }
          }
          this.addToNumericResult(str, startIdx, offset, 10);
          return -1;
        };
        EntityDecoder2.prototype.emitNumericEntity = function(lastCp, expectedLength) {
          var _a2;
          if (this.consumed <= expectedLength) {
            (_a2 = this.errors) === null || _a2 === void 0 ? void 0 : _a2.absenceOfDigitsInNumericCharacterReference(this.consumed);
            return 0;
          }
          if (lastCp === CharCodes.SEMI) {
            this.consumed += 1;
          } else if (this.decodeMode === DecodingMode.Strict) {
            return 0;
          }
          this.emitCodePoint((0, decode_codepoint_js_1.replaceCodePoint)(this.result), this.consumed);
          if (this.errors) {
            if (lastCp !== CharCodes.SEMI) {
              this.errors.missingSemicolonAfterCharacterReference();
            }
            this.errors.validateNumericCharacterReference(this.result);
          }
          return this.consumed;
        };
        EntityDecoder2.prototype.stateNamedEntity = function(str, offset) {
          var decodeTree = this.decodeTree;
          var current = decodeTree[this.treeIndex];
          var valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;
          for (; offset < str.length; offset++, this.excess++) {
            var char = str.charCodeAt(offset);
            this.treeIndex = determineBranch(decodeTree, current, this.treeIndex + Math.max(1, valueLength), char);
            if (this.treeIndex < 0) {
              return this.result === 0 || // If we are parsing an attribute
              this.decodeMode === DecodingMode.Attribute && // We shouldn't have consumed any characters after the entity,
              (valueLength === 0 || // And there should be no invalid characters.
              isEntityInAttributeInvalidEnd(char)) ? 0 : this.emitNotTerminatedNamedEntity();
            }
            current = decodeTree[this.treeIndex];
            valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;
            if (valueLength !== 0) {
              if (char === CharCodes.SEMI) {
                return this.emitNamedEntityData(this.treeIndex, valueLength, this.consumed + this.excess);
              }
              if (this.decodeMode !== DecodingMode.Strict) {
                this.result = this.treeIndex;
                this.consumed += this.excess;
                this.excess = 0;
              }
            }
          }
          return -1;
        };
        EntityDecoder2.prototype.emitNotTerminatedNamedEntity = function() {
          var _a2;
          var _b2 = this, result = _b2.result, decodeTree = _b2.decodeTree;
          var valueLength = (decodeTree[result] & BinTrieFlags.VALUE_LENGTH) >> 14;
          this.emitNamedEntityData(result, valueLength, this.consumed);
          (_a2 = this.errors) === null || _a2 === void 0 ? void 0 : _a2.missingSemicolonAfterCharacterReference();
          return this.consumed;
        };
        EntityDecoder2.prototype.emitNamedEntityData = function(result, valueLength, consumed) {
          var decodeTree = this.decodeTree;
          this.emitCodePoint(valueLength === 1 ? decodeTree[result] & ~BinTrieFlags.VALUE_LENGTH : decodeTree[result + 1], consumed);
          if (valueLength === 3) {
            this.emitCodePoint(decodeTree[result + 2], consumed);
          }
          return consumed;
        };
        EntityDecoder2.prototype.end = function() {
          var _a2;
          switch (this.state) {
            case EntityDecoderState.NamedEntity: {
              return this.result !== 0 && (this.decodeMode !== DecodingMode.Attribute || this.result === this.treeIndex) ? this.emitNotTerminatedNamedEntity() : 0;
            }
            // Otherwise, emit a numeric entity if we have one.
            case EntityDecoderState.NumericDecimal: {
              return this.emitNumericEntity(0, 2);
            }
            case EntityDecoderState.NumericHex: {
              return this.emitNumericEntity(0, 3);
            }
            case EntityDecoderState.NumericStart: {
              (_a2 = this.errors) === null || _a2 === void 0 ? void 0 : _a2.absenceOfDigitsInNumericCharacterReference(this.consumed);
              return 0;
            }
            case EntityDecoderState.EntityStart: {
              return 0;
            }
          }
        };
        return EntityDecoder2;
      })()
    );
    exports.EntityDecoder = EntityDecoder;
    function getDecoder(decodeTree) {
      var ret = "";
      var decoder = new EntityDecoder(decodeTree, function(str) {
        return ret += (0, decode_codepoint_js_1.fromCodePoint)(str);
      });
      return function decodeWithTrie(str, decodeMode) {
        var lastIndex = 0;
        var offset = 0;
        while ((offset = str.indexOf("&", offset)) >= 0) {
          ret += str.slice(lastIndex, offset);
          decoder.startEntity(decodeMode);
          var len = decoder.write(
            str,
            // Skip the "&"
            offset + 1
          );
          if (len < 0) {
            lastIndex = offset + decoder.end();
            break;
          }
          lastIndex = offset + len;
          offset = len === 0 ? lastIndex + 1 : lastIndex;
        }
        var result = ret + str.slice(lastIndex);
        ret = "";
        return result;
      };
    }
    function determineBranch(decodeTree, current, nodeIdx, char) {
      var branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;
      var jumpOffset = current & BinTrieFlags.JUMP_TABLE;
      if (branchCount === 0) {
        return jumpOffset !== 0 && char === jumpOffset ? nodeIdx : -1;
      }
      if (jumpOffset) {
        var value = char - jumpOffset;
        return value < 0 || value >= branchCount ? -1 : decodeTree[nodeIdx + value] - 1;
      }
      var lo2 = nodeIdx;
      var hi2 = lo2 + branchCount - 1;
      while (lo2 <= hi2) {
        var mid = lo2 + hi2 >>> 1;
        var midVal = decodeTree[mid];
        if (midVal < char) {
          lo2 = mid + 1;
        } else if (midVal > char) {
          hi2 = mid - 1;
        } else {
          return decodeTree[mid + branchCount];
        }
      }
      return -1;
    }
    exports.determineBranch = determineBranch;
    var htmlDecoder = getDecoder(decode_data_html_js_1.default);
    var xmlDecoder = getDecoder(decode_data_xml_js_1.default);
    function decodeHTML(str, mode) {
      if (mode === void 0) {
        mode = DecodingMode.Legacy;
      }
      return htmlDecoder(str, mode);
    }
    exports.decodeHTML = decodeHTML;
    function decodeHTMLAttribute(str) {
      return htmlDecoder(str, DecodingMode.Attribute);
    }
    exports.decodeHTMLAttribute = decodeHTMLAttribute;
    function decodeHTMLStrict(str) {
      return htmlDecoder(str, DecodingMode.Strict);
    }
    exports.decodeHTMLStrict = decodeHTMLStrict;
    function decodeXML(str) {
      return xmlDecoder(str, DecodingMode.Strict);
    }
    exports.decodeXML = decodeXML;
  })(decode$1);
  return decode$1;
}
var encode$1 = {};
var encodeHtml = {};
var hasRequiredEncodeHtml;
function requireEncodeHtml() {
  if (hasRequiredEncodeHtml) return encodeHtml;
  hasRequiredEncodeHtml = 1;
  Object.defineProperty(encodeHtml, "__esModule", { value: true });
  function restoreDiff(arr) {
    for (var i2 = 1; i2 < arr.length; i2++) {
      arr[i2][0] += arr[i2 - 1][0] + 1;
    }
    return arr;
  }
  encodeHtml.default = new Map(/* @__PURE__ */ restoreDiff([[9, "&Tab;"], [0, "&NewLine;"], [22, "&excl;"], [0, "&quot;"], [0, "&num;"], [0, "&dollar;"], [0, "&percnt;"], [0, "&amp;"], [0, "&apos;"], [0, "&lpar;"], [0, "&rpar;"], [0, "&ast;"], [0, "&plus;"], [0, "&comma;"], [1, "&period;"], [0, "&sol;"], [10, "&colon;"], [0, "&semi;"], [0, { v: "&lt;", n: 8402, o: "&nvlt;" }], [0, { v: "&equals;", n: 8421, o: "&bne;" }], [0, { v: "&gt;", n: 8402, o: "&nvgt;" }], [0, "&quest;"], [0, "&commat;"], [26, "&lbrack;"], [0, "&bsol;"], [0, "&rbrack;"], [0, "&Hat;"], [0, "&lowbar;"], [0, "&DiacriticalGrave;"], [5, { n: 106, o: "&fjlig;" }], [20, "&lbrace;"], [0, "&verbar;"], [0, "&rbrace;"], [34, "&nbsp;"], [0, "&iexcl;"], [0, "&cent;"], [0, "&pound;"], [0, "&curren;"], [0, "&yen;"], [0, "&brvbar;"], [0, "&sect;"], [0, "&die;"], [0, "&copy;"], [0, "&ordf;"], [0, "&laquo;"], [0, "&not;"], [0, "&shy;"], [0, "&circledR;"], [0, "&macr;"], [0, "&deg;"], [0, "&PlusMinus;"], [0, "&sup2;"], [0, "&sup3;"], [0, "&acute;"], [0, "&micro;"], [0, "&para;"], [0, "&centerdot;"], [0, "&cedil;"], [0, "&sup1;"], [0, "&ordm;"], [0, "&raquo;"], [0, "&frac14;"], [0, "&frac12;"], [0, "&frac34;"], [0, "&iquest;"], [0, "&Agrave;"], [0, "&Aacute;"], [0, "&Acirc;"], [0, "&Atilde;"], [0, "&Auml;"], [0, "&angst;"], [0, "&AElig;"], [0, "&Ccedil;"], [0, "&Egrave;"], [0, "&Eacute;"], [0, "&Ecirc;"], [0, "&Euml;"], [0, "&Igrave;"], [0, "&Iacute;"], [0, "&Icirc;"], [0, "&Iuml;"], [0, "&ETH;"], [0, "&Ntilde;"], [0, "&Ograve;"], [0, "&Oacute;"], [0, "&Ocirc;"], [0, "&Otilde;"], [0, "&Ouml;"], [0, "&times;"], [0, "&Oslash;"], [0, "&Ugrave;"], [0, "&Uacute;"], [0, "&Ucirc;"], [0, "&Uuml;"], [0, "&Yacute;"], [0, "&THORN;"], [0, "&szlig;"], [0, "&agrave;"], [0, "&aacute;"], [0, "&acirc;"], [0, "&atilde;"], [0, "&auml;"], [0, "&aring;"], [0, "&aelig;"], [0, "&ccedil;"], [0, "&egrave;"], [0, "&eacute;"], [0, "&ecirc;"], [0, "&euml;"], [0, "&igrave;"], [0, "&iacute;"], [0, "&icirc;"], [0, "&iuml;"], [0, "&eth;"], [0, "&ntilde;"], [0, "&ograve;"], [0, "&oacute;"], [0, "&ocirc;"], [0, "&otilde;"], [0, "&ouml;"], [0, "&div;"], [0, "&oslash;"], [0, "&ugrave;"], [0, "&uacute;"], [0, "&ucirc;"], [0, "&uuml;"], [0, "&yacute;"], [0, "&thorn;"], [0, "&yuml;"], [0, "&Amacr;"], [0, "&amacr;"], [0, "&Abreve;"], [0, "&abreve;"], [0, "&Aogon;"], [0, "&aogon;"], [0, "&Cacute;"], [0, "&cacute;"], [0, "&Ccirc;"], [0, "&ccirc;"], [0, "&Cdot;"], [0, "&cdot;"], [0, "&Ccaron;"], [0, "&ccaron;"], [0, "&Dcaron;"], [0, "&dcaron;"], [0, "&Dstrok;"], [0, "&dstrok;"], [0, "&Emacr;"], [0, "&emacr;"], [2, "&Edot;"], [0, "&edot;"], [0, "&Eogon;"], [0, "&eogon;"], [0, "&Ecaron;"], [0, "&ecaron;"], [0, "&Gcirc;"], [0, "&gcirc;"], [0, "&Gbreve;"], [0, "&gbreve;"], [0, "&Gdot;"], [0, "&gdot;"], [0, "&Gcedil;"], [1, "&Hcirc;"], [0, "&hcirc;"], [0, "&Hstrok;"], [0, "&hstrok;"], [0, "&Itilde;"], [0, "&itilde;"], [0, "&Imacr;"], [0, "&imacr;"], [2, "&Iogon;"], [0, "&iogon;"], [0, "&Idot;"], [0, "&imath;"], [0, "&IJlig;"], [0, "&ijlig;"], [0, "&Jcirc;"], [0, "&jcirc;"], [0, "&Kcedil;"], [0, "&kcedil;"], [0, "&kgreen;"], [0, "&Lacute;"], [0, "&lacute;"], [0, "&Lcedil;"], [0, "&lcedil;"], [0, "&Lcaron;"], [0, "&lcaron;"], [0, "&Lmidot;"], [0, "&lmidot;"], [0, "&Lstrok;"], [0, "&lstrok;"], [0, "&Nacute;"], [0, "&nacute;"], [0, "&Ncedil;"], [0, "&ncedil;"], [0, "&Ncaron;"], [0, "&ncaron;"], [0, "&napos;"], [0, "&ENG;"], [0, "&eng;"], [0, "&Omacr;"], [0, "&omacr;"], [2, "&Odblac;"], [0, "&odblac;"], [0, "&OElig;"], [0, "&oelig;"], [0, "&Racute;"], [0, "&racute;"], [0, "&Rcedil;"], [0, "&rcedil;"], [0, "&Rcaron;"], [0, "&rcaron;"], [0, "&Sacute;"], [0, "&sacute;"], [0, "&Scirc;"], [0, "&scirc;"], [0, "&Scedil;"], [0, "&scedil;"], [0, "&Scaron;"], [0, "&scaron;"], [0, "&Tcedil;"], [0, "&tcedil;"], [0, "&Tcaron;"], [0, "&tcaron;"], [0, "&Tstrok;"], [0, "&tstrok;"], [0, "&Utilde;"], [0, "&utilde;"], [0, "&Umacr;"], [0, "&umacr;"], [0, "&Ubreve;"], [0, "&ubreve;"], [0, "&Uring;"], [0, "&uring;"], [0, "&Udblac;"], [0, "&udblac;"], [0, "&Uogon;"], [0, "&uogon;"], [0, "&Wcirc;"], [0, "&wcirc;"], [0, "&Ycirc;"], [0, "&ycirc;"], [0, "&Yuml;"], [0, "&Zacute;"], [0, "&zacute;"], [0, "&Zdot;"], [0, "&zdot;"], [0, "&Zcaron;"], [0, "&zcaron;"], [19, "&fnof;"], [34, "&imped;"], [63, "&gacute;"], [65, "&jmath;"], [142, "&circ;"], [0, "&caron;"], [16, "&breve;"], [0, "&DiacriticalDot;"], [0, "&ring;"], [0, "&ogon;"], [0, "&DiacriticalTilde;"], [0, "&dblac;"], [51, "&DownBreve;"], [127, "&Alpha;"], [0, "&Beta;"], [0, "&Gamma;"], [0, "&Delta;"], [0, "&Epsilon;"], [0, "&Zeta;"], [0, "&Eta;"], [0, "&Theta;"], [0, "&Iota;"], [0, "&Kappa;"], [0, "&Lambda;"], [0, "&Mu;"], [0, "&Nu;"], [0, "&Xi;"], [0, "&Omicron;"], [0, "&Pi;"], [0, "&Rho;"], [1, "&Sigma;"], [0, "&Tau;"], [0, "&Upsilon;"], [0, "&Phi;"], [0, "&Chi;"], [0, "&Psi;"], [0, "&ohm;"], [7, "&alpha;"], [0, "&beta;"], [0, "&gamma;"], [0, "&delta;"], [0, "&epsi;"], [0, "&zeta;"], [0, "&eta;"], [0, "&theta;"], [0, "&iota;"], [0, "&kappa;"], [0, "&lambda;"], [0, "&mu;"], [0, "&nu;"], [0, "&xi;"], [0, "&omicron;"], [0, "&pi;"], [0, "&rho;"], [0, "&sigmaf;"], [0, "&sigma;"], [0, "&tau;"], [0, "&upsi;"], [0, "&phi;"], [0, "&chi;"], [0, "&psi;"], [0, "&omega;"], [7, "&thetasym;"], [0, "&Upsi;"], [2, "&phiv;"], [0, "&piv;"], [5, "&Gammad;"], [0, "&digamma;"], [18, "&kappav;"], [0, "&rhov;"], [3, "&epsiv;"], [0, "&backepsilon;"], [10, "&IOcy;"], [0, "&DJcy;"], [0, "&GJcy;"], [0, "&Jukcy;"], [0, "&DScy;"], [0, "&Iukcy;"], [0, "&YIcy;"], [0, "&Jsercy;"], [0, "&LJcy;"], [0, "&NJcy;"], [0, "&TSHcy;"], [0, "&KJcy;"], [1, "&Ubrcy;"], [0, "&DZcy;"], [0, "&Acy;"], [0, "&Bcy;"], [0, "&Vcy;"], [0, "&Gcy;"], [0, "&Dcy;"], [0, "&IEcy;"], [0, "&ZHcy;"], [0, "&Zcy;"], [0, "&Icy;"], [0, "&Jcy;"], [0, "&Kcy;"], [0, "&Lcy;"], [0, "&Mcy;"], [0, "&Ncy;"], [0, "&Ocy;"], [0, "&Pcy;"], [0, "&Rcy;"], [0, "&Scy;"], [0, "&Tcy;"], [0, "&Ucy;"], [0, "&Fcy;"], [0, "&KHcy;"], [0, "&TScy;"], [0, "&CHcy;"], [0, "&SHcy;"], [0, "&SHCHcy;"], [0, "&HARDcy;"], [0, "&Ycy;"], [0, "&SOFTcy;"], [0, "&Ecy;"], [0, "&YUcy;"], [0, "&YAcy;"], [0, "&acy;"], [0, "&bcy;"], [0, "&vcy;"], [0, "&gcy;"], [0, "&dcy;"], [0, "&iecy;"], [0, "&zhcy;"], [0, "&zcy;"], [0, "&icy;"], [0, "&jcy;"], [0, "&kcy;"], [0, "&lcy;"], [0, "&mcy;"], [0, "&ncy;"], [0, "&ocy;"], [0, "&pcy;"], [0, "&rcy;"], [0, "&scy;"], [0, "&tcy;"], [0, "&ucy;"], [0, "&fcy;"], [0, "&khcy;"], [0, "&tscy;"], [0, "&chcy;"], [0, "&shcy;"], [0, "&shchcy;"], [0, "&hardcy;"], [0, "&ycy;"], [0, "&softcy;"], [0, "&ecy;"], [0, "&yucy;"], [0, "&yacy;"], [1, "&iocy;"], [0, "&djcy;"], [0, "&gjcy;"], [0, "&jukcy;"], [0, "&dscy;"], [0, "&iukcy;"], [0, "&yicy;"], [0, "&jsercy;"], [0, "&ljcy;"], [0, "&njcy;"], [0, "&tshcy;"], [0, "&kjcy;"], [1, "&ubrcy;"], [0, "&dzcy;"], [7074, "&ensp;"], [0, "&emsp;"], [0, "&emsp13;"], [0, "&emsp14;"], [1, "&numsp;"], [0, "&puncsp;"], [0, "&ThinSpace;"], [0, "&hairsp;"], [0, "&NegativeMediumSpace;"], [0, "&zwnj;"], [0, "&zwj;"], [0, "&lrm;"], [0, "&rlm;"], [0, "&dash;"], [2, "&ndash;"], [0, "&mdash;"], [0, "&horbar;"], [0, "&Verbar;"], [1, "&lsquo;"], [0, "&CloseCurlyQuote;"], [0, "&lsquor;"], [1, "&ldquo;"], [0, "&CloseCurlyDoubleQuote;"], [0, "&bdquo;"], [1, "&dagger;"], [0, "&Dagger;"], [0, "&bull;"], [2, "&nldr;"], [0, "&hellip;"], [9, "&permil;"], [0, "&pertenk;"], [0, "&prime;"], [0, "&Prime;"], [0, "&tprime;"], [0, "&backprime;"], [3, "&lsaquo;"], [0, "&rsaquo;"], [3, "&oline;"], [2, "&caret;"], [1, "&hybull;"], [0, "&frasl;"], [10, "&bsemi;"], [7, "&qprime;"], [7, { v: "&MediumSpace;", n: 8202, o: "&ThickSpace;" }], [0, "&NoBreak;"], [0, "&af;"], [0, "&InvisibleTimes;"], [0, "&ic;"], [72, "&euro;"], [46, "&tdot;"], [0, "&DotDot;"], [37, "&complexes;"], [2, "&incare;"], [4, "&gscr;"], [0, "&hamilt;"], [0, "&Hfr;"], [0, "&Hopf;"], [0, "&planckh;"], [0, "&hbar;"], [0, "&imagline;"], [0, "&Ifr;"], [0, "&lagran;"], [0, "&ell;"], [1, "&naturals;"], [0, "&numero;"], [0, "&copysr;"], [0, "&weierp;"], [0, "&Popf;"], [0, "&Qopf;"], [0, "&realine;"], [0, "&real;"], [0, "&reals;"], [0, "&rx;"], [3, "&trade;"], [1, "&integers;"], [2, "&mho;"], [0, "&zeetrf;"], [0, "&iiota;"], [2, "&bernou;"], [0, "&Cayleys;"], [1, "&escr;"], [0, "&Escr;"], [0, "&Fouriertrf;"], [1, "&Mellintrf;"], [0, "&order;"], [0, "&alefsym;"], [0, "&beth;"], [0, "&gimel;"], [0, "&daleth;"], [12, "&CapitalDifferentialD;"], [0, "&dd;"], [0, "&ee;"], [0, "&ii;"], [10, "&frac13;"], [0, "&frac23;"], [0, "&frac15;"], [0, "&frac25;"], [0, "&frac35;"], [0, "&frac45;"], [0, "&frac16;"], [0, "&frac56;"], [0, "&frac18;"], [0, "&frac38;"], [0, "&frac58;"], [0, "&frac78;"], [49, "&larr;"], [0, "&ShortUpArrow;"], [0, "&rarr;"], [0, "&darr;"], [0, "&harr;"], [0, "&updownarrow;"], [0, "&nwarr;"], [0, "&nearr;"], [0, "&LowerRightArrow;"], [0, "&LowerLeftArrow;"], [0, "&nlarr;"], [0, "&nrarr;"], [1, { v: "&rarrw;", n: 824, o: "&nrarrw;" }], [0, "&Larr;"], [0, "&Uarr;"], [0, "&Rarr;"], [0, "&Darr;"], [0, "&larrtl;"], [0, "&rarrtl;"], [0, "&LeftTeeArrow;"], [0, "&mapstoup;"], [0, "&map;"], [0, "&DownTeeArrow;"], [1, "&hookleftarrow;"], [0, "&hookrightarrow;"], [0, "&larrlp;"], [0, "&looparrowright;"], [0, "&harrw;"], [0, "&nharr;"], [1, "&lsh;"], [0, "&rsh;"], [0, "&ldsh;"], [0, "&rdsh;"], [1, "&crarr;"], [0, "&cularr;"], [0, "&curarr;"], [2, "&circlearrowleft;"], [0, "&circlearrowright;"], [0, "&leftharpoonup;"], [0, "&DownLeftVector;"], [0, "&RightUpVector;"], [0, "&LeftUpVector;"], [0, "&rharu;"], [0, "&DownRightVector;"], [0, "&dharr;"], [0, "&dharl;"], [0, "&RightArrowLeftArrow;"], [0, "&udarr;"], [0, "&LeftArrowRightArrow;"], [0, "&leftleftarrows;"], [0, "&upuparrows;"], [0, "&rightrightarrows;"], [0, "&ddarr;"], [0, "&leftrightharpoons;"], [0, "&Equilibrium;"], [0, "&nlArr;"], [0, "&nhArr;"], [0, "&nrArr;"], [0, "&DoubleLeftArrow;"], [0, "&DoubleUpArrow;"], [0, "&DoubleRightArrow;"], [0, "&dArr;"], [0, "&DoubleLeftRightArrow;"], [0, "&DoubleUpDownArrow;"], [0, "&nwArr;"], [0, "&neArr;"], [0, "&seArr;"], [0, "&swArr;"], [0, "&lAarr;"], [0, "&rAarr;"], [1, "&zigrarr;"], [6, "&larrb;"], [0, "&rarrb;"], [15, "&DownArrowUpArrow;"], [7, "&loarr;"], [0, "&roarr;"], [0, "&hoarr;"], [0, "&forall;"], [0, "&comp;"], [0, { v: "&part;", n: 824, o: "&npart;" }], [0, "&exist;"], [0, "&nexist;"], [0, "&empty;"], [1, "&Del;"], [0, "&Element;"], [0, "&NotElement;"], [1, "&ni;"], [0, "&notni;"], [2, "&prod;"], [0, "&coprod;"], [0, "&sum;"], [0, "&minus;"], [0, "&MinusPlus;"], [0, "&dotplus;"], [1, "&Backslash;"], [0, "&lowast;"], [0, "&compfn;"], [1, "&radic;"], [2, "&prop;"], [0, "&infin;"], [0, "&angrt;"], [0, { v: "&ang;", n: 8402, o: "&nang;" }], [0, "&angmsd;"], [0, "&angsph;"], [0, "&mid;"], [0, "&nmid;"], [0, "&DoubleVerticalBar;"], [0, "&NotDoubleVerticalBar;"], [0, "&and;"], [0, "&or;"], [0, { v: "&cap;", n: 65024, o: "&caps;" }], [0, { v: "&cup;", n: 65024, o: "&cups;" }], [0, "&int;"], [0, "&Int;"], [0, "&iiint;"], [0, "&conint;"], [0, "&Conint;"], [0, "&Cconint;"], [0, "&cwint;"], [0, "&ClockwiseContourIntegral;"], [0, "&awconint;"], [0, "&there4;"], [0, "&becaus;"], [0, "&ratio;"], [0, "&Colon;"], [0, "&dotminus;"], [1, "&mDDot;"], [0, "&homtht;"], [0, { v: "&sim;", n: 8402, o: "&nvsim;" }], [0, { v: "&backsim;", n: 817, o: "&race;" }], [0, { v: "&ac;", n: 819, o: "&acE;" }], [0, "&acd;"], [0, "&VerticalTilde;"], [0, "&NotTilde;"], [0, { v: "&eqsim;", n: 824, o: "&nesim;" }], [0, "&sime;"], [0, "&NotTildeEqual;"], [0, "&cong;"], [0, "&simne;"], [0, "&ncong;"], [0, "&ap;"], [0, "&nap;"], [0, "&ape;"], [0, { v: "&apid;", n: 824, o: "&napid;" }], [0, "&backcong;"], [0, { v: "&asympeq;", n: 8402, o: "&nvap;" }], [0, { v: "&bump;", n: 824, o: "&nbump;" }], [0, { v: "&bumpe;", n: 824, o: "&nbumpe;" }], [0, { v: "&doteq;", n: 824, o: "&nedot;" }], [0, "&doteqdot;"], [0, "&efDot;"], [0, "&erDot;"], [0, "&Assign;"], [0, "&ecolon;"], [0, "&ecir;"], [0, "&circeq;"], [1, "&wedgeq;"], [0, "&veeeq;"], [1, "&triangleq;"], [2, "&equest;"], [0, "&ne;"], [0, { v: "&Congruent;", n: 8421, o: "&bnequiv;" }], [0, "&nequiv;"], [1, { v: "&le;", n: 8402, o: "&nvle;" }], [0, { v: "&ge;", n: 8402, o: "&nvge;" }], [0, { v: "&lE;", n: 824, o: "&nlE;" }], [0, { v: "&gE;", n: 824, o: "&ngE;" }], [0, { v: "&lnE;", n: 65024, o: "&lvertneqq;" }], [0, { v: "&gnE;", n: 65024, o: "&gvertneqq;" }], [0, { v: "&ll;", n: new Map(/* @__PURE__ */ restoreDiff([[824, "&nLtv;"], [7577, "&nLt;"]])) }], [0, { v: "&gg;", n: new Map(/* @__PURE__ */ restoreDiff([[824, "&nGtv;"], [7577, "&nGt;"]])) }], [0, "&between;"], [0, "&NotCupCap;"], [0, "&nless;"], [0, "&ngt;"], [0, "&nle;"], [0, "&nge;"], [0, "&lesssim;"], [0, "&GreaterTilde;"], [0, "&nlsim;"], [0, "&ngsim;"], [0, "&LessGreater;"], [0, "&gl;"], [0, "&NotLessGreater;"], [0, "&NotGreaterLess;"], [0, "&pr;"], [0, "&sc;"], [0, "&prcue;"], [0, "&sccue;"], [0, "&PrecedesTilde;"], [0, { v: "&scsim;", n: 824, o: "&NotSucceedsTilde;" }], [0, "&NotPrecedes;"], [0, "&NotSucceeds;"], [0, { v: "&sub;", n: 8402, o: "&NotSubset;" }], [0, { v: "&sup;", n: 8402, o: "&NotSuperset;" }], [0, "&nsub;"], [0, "&nsup;"], [0, "&sube;"], [0, "&supe;"], [0, "&NotSubsetEqual;"], [0, "&NotSupersetEqual;"], [0, { v: "&subne;", n: 65024, o: "&varsubsetneq;" }], [0, { v: "&supne;", n: 65024, o: "&varsupsetneq;" }], [1, "&cupdot;"], [0, "&UnionPlus;"], [0, { v: "&sqsub;", n: 824, o: "&NotSquareSubset;" }], [0, { v: "&sqsup;", n: 824, o: "&NotSquareSuperset;" }], [0, "&sqsube;"], [0, "&sqsupe;"], [0, { v: "&sqcap;", n: 65024, o: "&sqcaps;" }], [0, { v: "&sqcup;", n: 65024, o: "&sqcups;" }], [0, "&CirclePlus;"], [0, "&CircleMinus;"], [0, "&CircleTimes;"], [0, "&osol;"], [0, "&CircleDot;"], [0, "&circledcirc;"], [0, "&circledast;"], [1, "&circleddash;"], [0, "&boxplus;"], [0, "&boxminus;"], [0, "&boxtimes;"], [0, "&dotsquare;"], [0, "&RightTee;"], [0, "&dashv;"], [0, "&DownTee;"], [0, "&bot;"], [1, "&models;"], [0, "&DoubleRightTee;"], [0, "&Vdash;"], [0, "&Vvdash;"], [0, "&VDash;"], [0, "&nvdash;"], [0, "&nvDash;"], [0, "&nVdash;"], [0, "&nVDash;"], [0, "&prurel;"], [1, "&LeftTriangle;"], [0, "&RightTriangle;"], [0, { v: "&LeftTriangleEqual;", n: 8402, o: "&nvltrie;" }], [0, { v: "&RightTriangleEqual;", n: 8402, o: "&nvrtrie;" }], [0, "&origof;"], [0, "&imof;"], [0, "&multimap;"], [0, "&hercon;"], [0, "&intcal;"], [0, "&veebar;"], [1, "&barvee;"], [0, "&angrtvb;"], [0, "&lrtri;"], [0, "&bigwedge;"], [0, "&bigvee;"], [0, "&bigcap;"], [0, "&bigcup;"], [0, "&diam;"], [0, "&sdot;"], [0, "&sstarf;"], [0, "&divideontimes;"], [0, "&bowtie;"], [0, "&ltimes;"], [0, "&rtimes;"], [0, "&leftthreetimes;"], [0, "&rightthreetimes;"], [0, "&backsimeq;"], [0, "&curlyvee;"], [0, "&curlywedge;"], [0, "&Sub;"], [0, "&Sup;"], [0, "&Cap;"], [0, "&Cup;"], [0, "&fork;"], [0, "&epar;"], [0, "&lessdot;"], [0, "&gtdot;"], [0, { v: "&Ll;", n: 824, o: "&nLl;" }], [0, { v: "&Gg;", n: 824, o: "&nGg;" }], [0, { v: "&leg;", n: 65024, o: "&lesg;" }], [0, { v: "&gel;", n: 65024, o: "&gesl;" }], [2, "&cuepr;"], [0, "&cuesc;"], [0, "&NotPrecedesSlantEqual;"], [0, "&NotSucceedsSlantEqual;"], [0, "&NotSquareSubsetEqual;"], [0, "&NotSquareSupersetEqual;"], [2, "&lnsim;"], [0, "&gnsim;"], [0, "&precnsim;"], [0, "&scnsim;"], [0, "&nltri;"], [0, "&NotRightTriangle;"], [0, "&nltrie;"], [0, "&NotRightTriangleEqual;"], [0, "&vellip;"], [0, "&ctdot;"], [0, "&utdot;"], [0, "&dtdot;"], [0, "&disin;"], [0, "&isinsv;"], [0, "&isins;"], [0, { v: "&isindot;", n: 824, o: "&notindot;" }], [0, "&notinvc;"], [0, "&notinvb;"], [1, { v: "&isinE;", n: 824, o: "&notinE;" }], [0, "&nisd;"], [0, "&xnis;"], [0, "&nis;"], [0, "&notnivc;"], [0, "&notnivb;"], [6, "&barwed;"], [0, "&Barwed;"], [1, "&lceil;"], [0, "&rceil;"], [0, "&LeftFloor;"], [0, "&rfloor;"], [0, "&drcrop;"], [0, "&dlcrop;"], [0, "&urcrop;"], [0, "&ulcrop;"], [0, "&bnot;"], [1, "&profline;"], [0, "&profsurf;"], [1, "&telrec;"], [0, "&target;"], [5, "&ulcorn;"], [0, "&urcorn;"], [0, "&dlcorn;"], [0, "&drcorn;"], [2, "&frown;"], [0, "&smile;"], [9, "&cylcty;"], [0, "&profalar;"], [7, "&topbot;"], [6, "&ovbar;"], [1, "&solbar;"], [60, "&angzarr;"], [51, "&lmoustache;"], [0, "&rmoustache;"], [2, "&OverBracket;"], [0, "&bbrk;"], [0, "&bbrktbrk;"], [37, "&OverParenthesis;"], [0, "&UnderParenthesis;"], [0, "&OverBrace;"], [0, "&UnderBrace;"], [2, "&trpezium;"], [4, "&elinters;"], [59, "&blank;"], [164, "&circledS;"], [55, "&boxh;"], [1, "&boxv;"], [9, "&boxdr;"], [3, "&boxdl;"], [3, "&boxur;"], [3, "&boxul;"], [3, "&boxvr;"], [7, "&boxvl;"], [7, "&boxhd;"], [7, "&boxhu;"], [7, "&boxvh;"], [19, "&boxH;"], [0, "&boxV;"], [0, "&boxdR;"], [0, "&boxDr;"], [0, "&boxDR;"], [0, "&boxdL;"], [0, "&boxDl;"], [0, "&boxDL;"], [0, "&boxuR;"], [0, "&boxUr;"], [0, "&boxUR;"], [0, "&boxuL;"], [0, "&boxUl;"], [0, "&boxUL;"], [0, "&boxvR;"], [0, "&boxVr;"], [0, "&boxVR;"], [0, "&boxvL;"], [0, "&boxVl;"], [0, "&boxVL;"], [0, "&boxHd;"], [0, "&boxhD;"], [0, "&boxHD;"], [0, "&boxHu;"], [0, "&boxhU;"], [0, "&boxHU;"], [0, "&boxvH;"], [0, "&boxVh;"], [0, "&boxVH;"], [19, "&uhblk;"], [3, "&lhblk;"], [3, "&block;"], [8, "&blk14;"], [0, "&blk12;"], [0, "&blk34;"], [13, "&square;"], [8, "&blacksquare;"], [0, "&EmptyVerySmallSquare;"], [1, "&rect;"], [0, "&marker;"], [2, "&fltns;"], [1, "&bigtriangleup;"], [0, "&blacktriangle;"], [0, "&triangle;"], [2, "&blacktriangleright;"], [0, "&rtri;"], [3, "&bigtriangledown;"], [0, "&blacktriangledown;"], [0, "&dtri;"], [2, "&blacktriangleleft;"], [0, "&ltri;"], [6, "&loz;"], [0, "&cir;"], [32, "&tridot;"], [2, "&bigcirc;"], [8, "&ultri;"], [0, "&urtri;"], [0, "&lltri;"], [0, "&EmptySmallSquare;"], [0, "&FilledSmallSquare;"], [8, "&bigstar;"], [0, "&star;"], [7, "&phone;"], [49, "&female;"], [1, "&male;"], [29, "&spades;"], [2, "&clubs;"], [1, "&hearts;"], [0, "&diamondsuit;"], [3, "&sung;"], [2, "&flat;"], [0, "&natural;"], [0, "&sharp;"], [163, "&check;"], [3, "&cross;"], [8, "&malt;"], [21, "&sext;"], [33, "&VerticalSeparator;"], [25, "&lbbrk;"], [0, "&rbbrk;"], [84, "&bsolhsub;"], [0, "&suphsol;"], [28, "&LeftDoubleBracket;"], [0, "&RightDoubleBracket;"], [0, "&lang;"], [0, "&rang;"], [0, "&Lang;"], [0, "&Rang;"], [0, "&loang;"], [0, "&roang;"], [7, "&longleftarrow;"], [0, "&longrightarrow;"], [0, "&longleftrightarrow;"], [0, "&DoubleLongLeftArrow;"], [0, "&DoubleLongRightArrow;"], [0, "&DoubleLongLeftRightArrow;"], [1, "&longmapsto;"], [2, "&dzigrarr;"], [258, "&nvlArr;"], [0, "&nvrArr;"], [0, "&nvHarr;"], [0, "&Map;"], [6, "&lbarr;"], [0, "&bkarow;"], [0, "&lBarr;"], [0, "&dbkarow;"], [0, "&drbkarow;"], [0, "&DDotrahd;"], [0, "&UpArrowBar;"], [0, "&DownArrowBar;"], [2, "&Rarrtl;"], [2, "&latail;"], [0, "&ratail;"], [0, "&lAtail;"], [0, "&rAtail;"], [0, "&larrfs;"], [0, "&rarrfs;"], [0, "&larrbfs;"], [0, "&rarrbfs;"], [2, "&nwarhk;"], [0, "&nearhk;"], [0, "&hksearow;"], [0, "&hkswarow;"], [0, "&nwnear;"], [0, "&nesear;"], [0, "&seswar;"], [0, "&swnwar;"], [8, { v: "&rarrc;", n: 824, o: "&nrarrc;" }], [1, "&cudarrr;"], [0, "&ldca;"], [0, "&rdca;"], [0, "&cudarrl;"], [0, "&larrpl;"], [2, "&curarrm;"], [0, "&cularrp;"], [7, "&rarrpl;"], [2, "&harrcir;"], [0, "&Uarrocir;"], [0, "&lurdshar;"], [0, "&ldrushar;"], [2, "&LeftRightVector;"], [0, "&RightUpDownVector;"], [0, "&DownLeftRightVector;"], [0, "&LeftUpDownVector;"], [0, "&LeftVectorBar;"], [0, "&RightVectorBar;"], [0, "&RightUpVectorBar;"], [0, "&RightDownVectorBar;"], [0, "&DownLeftVectorBar;"], [0, "&DownRightVectorBar;"], [0, "&LeftUpVectorBar;"], [0, "&LeftDownVectorBar;"], [0, "&LeftTeeVector;"], [0, "&RightTeeVector;"], [0, "&RightUpTeeVector;"], [0, "&RightDownTeeVector;"], [0, "&DownLeftTeeVector;"], [0, "&DownRightTeeVector;"], [0, "&LeftUpTeeVector;"], [0, "&LeftDownTeeVector;"], [0, "&lHar;"], [0, "&uHar;"], [0, "&rHar;"], [0, "&dHar;"], [0, "&luruhar;"], [0, "&ldrdhar;"], [0, "&ruluhar;"], [0, "&rdldhar;"], [0, "&lharul;"], [0, "&llhard;"], [0, "&rharul;"], [0, "&lrhard;"], [0, "&udhar;"], [0, "&duhar;"], [0, "&RoundImplies;"], [0, "&erarr;"], [0, "&simrarr;"], [0, "&larrsim;"], [0, "&rarrsim;"], [0, "&rarrap;"], [0, "&ltlarr;"], [1, "&gtrarr;"], [0, "&subrarr;"], [1, "&suplarr;"], [0, "&lfisht;"], [0, "&rfisht;"], [0, "&ufisht;"], [0, "&dfisht;"], [5, "&lopar;"], [0, "&ropar;"], [4, "&lbrke;"], [0, "&rbrke;"], [0, "&lbrkslu;"], [0, "&rbrksld;"], [0, "&lbrksld;"], [0, "&rbrkslu;"], [0, "&langd;"], [0, "&rangd;"], [0, "&lparlt;"], [0, "&rpargt;"], [0, "&gtlPar;"], [0, "&ltrPar;"], [3, "&vzigzag;"], [1, "&vangrt;"], [0, "&angrtvbd;"], [6, "&ange;"], [0, "&range;"], [0, "&dwangle;"], [0, "&uwangle;"], [0, "&angmsdaa;"], [0, "&angmsdab;"], [0, "&angmsdac;"], [0, "&angmsdad;"], [0, "&angmsdae;"], [0, "&angmsdaf;"], [0, "&angmsdag;"], [0, "&angmsdah;"], [0, "&bemptyv;"], [0, "&demptyv;"], [0, "&cemptyv;"], [0, "&raemptyv;"], [0, "&laemptyv;"], [0, "&ohbar;"], [0, "&omid;"], [0, "&opar;"], [1, "&operp;"], [1, "&olcross;"], [0, "&odsold;"], [1, "&olcir;"], [0, "&ofcir;"], [0, "&olt;"], [0, "&ogt;"], [0, "&cirscir;"], [0, "&cirE;"], [0, "&solb;"], [0, "&bsolb;"], [3, "&boxbox;"], [3, "&trisb;"], [0, "&rtriltri;"], [0, { v: "&LeftTriangleBar;", n: 824, o: "&NotLeftTriangleBar;" }], [0, { v: "&RightTriangleBar;", n: 824, o: "&NotRightTriangleBar;" }], [11, "&iinfin;"], [0, "&infintie;"], [0, "&nvinfin;"], [4, "&eparsl;"], [0, "&smeparsl;"], [0, "&eqvparsl;"], [5, "&blacklozenge;"], [8, "&RuleDelayed;"], [1, "&dsol;"], [9, "&bigodot;"], [0, "&bigoplus;"], [0, "&bigotimes;"], [1, "&biguplus;"], [1, "&bigsqcup;"], [5, "&iiiint;"], [0, "&fpartint;"], [2, "&cirfnint;"], [0, "&awint;"], [0, "&rppolint;"], [0, "&scpolint;"], [0, "&npolint;"], [0, "&pointint;"], [0, "&quatint;"], [0, "&intlarhk;"], [10, "&pluscir;"], [0, "&plusacir;"], [0, "&simplus;"], [0, "&plusdu;"], [0, "&plussim;"], [0, "&plustwo;"], [1, "&mcomma;"], [0, "&minusdu;"], [2, "&loplus;"], [0, "&roplus;"], [0, "&Cross;"], [0, "&timesd;"], [0, "&timesbar;"], [1, "&smashp;"], [0, "&lotimes;"], [0, "&rotimes;"], [0, "&otimesas;"], [0, "&Otimes;"], [0, "&odiv;"], [0, "&triplus;"], [0, "&triminus;"], [0, "&tritime;"], [0, "&intprod;"], [2, "&amalg;"], [0, "&capdot;"], [1, "&ncup;"], [0, "&ncap;"], [0, "&capand;"], [0, "&cupor;"], [0, "&cupcap;"], [0, "&capcup;"], [0, "&cupbrcap;"], [0, "&capbrcup;"], [0, "&cupcup;"], [0, "&capcap;"], [0, "&ccups;"], [0, "&ccaps;"], [2, "&ccupssm;"], [2, "&And;"], [0, "&Or;"], [0, "&andand;"], [0, "&oror;"], [0, "&orslope;"], [0, "&andslope;"], [1, "&andv;"], [0, "&orv;"], [0, "&andd;"], [0, "&ord;"], [1, "&wedbar;"], [6, "&sdote;"], [3, "&simdot;"], [2, { v: "&congdot;", n: 824, o: "&ncongdot;" }], [0, "&easter;"], [0, "&apacir;"], [0, { v: "&apE;", n: 824, o: "&napE;" }], [0, "&eplus;"], [0, "&pluse;"], [0, "&Esim;"], [0, "&Colone;"], [0, "&Equal;"], [1, "&ddotseq;"], [0, "&equivDD;"], [0, "&ltcir;"], [0, "&gtcir;"], [0, "&ltquest;"], [0, "&gtquest;"], [0, { v: "&leqslant;", n: 824, o: "&nleqslant;" }], [0, { v: "&geqslant;", n: 824, o: "&ngeqslant;" }], [0, "&lesdot;"], [0, "&gesdot;"], [0, "&lesdoto;"], [0, "&gesdoto;"], [0, "&lesdotor;"], [0, "&gesdotol;"], [0, "&lap;"], [0, "&gap;"], [0, "&lne;"], [0, "&gne;"], [0, "&lnap;"], [0, "&gnap;"], [0, "&lEg;"], [0, "&gEl;"], [0, "&lsime;"], [0, "&gsime;"], [0, "&lsimg;"], [0, "&gsiml;"], [0, "&lgE;"], [0, "&glE;"], [0, "&lesges;"], [0, "&gesles;"], [0, "&els;"], [0, "&egs;"], [0, "&elsdot;"], [0, "&egsdot;"], [0, "&el;"], [0, "&eg;"], [2, "&siml;"], [0, "&simg;"], [0, "&simlE;"], [0, "&simgE;"], [0, { v: "&LessLess;", n: 824, o: "&NotNestedLessLess;" }], [0, { v: "&GreaterGreater;", n: 824, o: "&NotNestedGreaterGreater;" }], [1, "&glj;"], [0, "&gla;"], [0, "&ltcc;"], [0, "&gtcc;"], [0, "&lescc;"], [0, "&gescc;"], [0, "&smt;"], [0, "&lat;"], [0, { v: "&smte;", n: 65024, o: "&smtes;" }], [0, { v: "&late;", n: 65024, o: "&lates;" }], [0, "&bumpE;"], [0, { v: "&PrecedesEqual;", n: 824, o: "&NotPrecedesEqual;" }], [0, { v: "&sce;", n: 824, o: "&NotSucceedsEqual;" }], [2, "&prE;"], [0, "&scE;"], [0, "&precneqq;"], [0, "&scnE;"], [0, "&prap;"], [0, "&scap;"], [0, "&precnapprox;"], [0, "&scnap;"], [0, "&Pr;"], [0, "&Sc;"], [0, "&subdot;"], [0, "&supdot;"], [0, "&subplus;"], [0, "&supplus;"], [0, "&submult;"], [0, "&supmult;"], [0, "&subedot;"], [0, "&supedot;"], [0, { v: "&subE;", n: 824, o: "&nsubE;" }], [0, { v: "&supE;", n: 824, o: "&nsupE;" }], [0, "&subsim;"], [0, "&supsim;"], [2, { v: "&subnE;", n: 65024, o: "&varsubsetneqq;" }], [0, { v: "&supnE;", n: 65024, o: "&varsupsetneqq;" }], [2, "&csub;"], [0, "&csup;"], [0, "&csube;"], [0, "&csupe;"], [0, "&subsup;"], [0, "&supsub;"], [0, "&subsub;"], [0, "&supsup;"], [0, "&suphsub;"], [0, "&supdsub;"], [0, "&forkv;"], [0, "&topfork;"], [0, "&mlcp;"], [8, "&Dashv;"], [1, "&Vdashl;"], [0, "&Barv;"], [0, "&vBar;"], [0, "&vBarv;"], [1, "&Vbar;"], [0, "&Not;"], [0, "&bNot;"], [0, "&rnmid;"], [0, "&cirmid;"], [0, "&midcir;"], [0, "&topcir;"], [0, "&nhpar;"], [0, "&parsim;"], [9, { v: "&parsl;", n: 8421, o: "&nparsl;" }], [44343, { n: new Map(/* @__PURE__ */ restoreDiff([[56476, "&Ascr;"], [1, "&Cscr;"], [0, "&Dscr;"], [2, "&Gscr;"], [2, "&Jscr;"], [0, "&Kscr;"], [2, "&Nscr;"], [0, "&Oscr;"], [0, "&Pscr;"], [0, "&Qscr;"], [1, "&Sscr;"], [0, "&Tscr;"], [0, "&Uscr;"], [0, "&Vscr;"], [0, "&Wscr;"], [0, "&Xscr;"], [0, "&Yscr;"], [0, "&Zscr;"], [0, "&ascr;"], [0, "&bscr;"], [0, "&cscr;"], [0, "&dscr;"], [1, "&fscr;"], [1, "&hscr;"], [0, "&iscr;"], [0, "&jscr;"], [0, "&kscr;"], [0, "&lscr;"], [0, "&mscr;"], [0, "&nscr;"], [1, "&pscr;"], [0, "&qscr;"], [0, "&rscr;"], [0, "&sscr;"], [0, "&tscr;"], [0, "&uscr;"], [0, "&vscr;"], [0, "&wscr;"], [0, "&xscr;"], [0, "&yscr;"], [0, "&zscr;"], [52, "&Afr;"], [0, "&Bfr;"], [1, "&Dfr;"], [0, "&Efr;"], [0, "&Ffr;"], [0, "&Gfr;"], [2, "&Jfr;"], [0, "&Kfr;"], [0, "&Lfr;"], [0, "&Mfr;"], [0, "&Nfr;"], [0, "&Ofr;"], [0, "&Pfr;"], [0, "&Qfr;"], [1, "&Sfr;"], [0, "&Tfr;"], [0, "&Ufr;"], [0, "&Vfr;"], [0, "&Wfr;"], [0, "&Xfr;"], [0, "&Yfr;"], [1, "&afr;"], [0, "&bfr;"], [0, "&cfr;"], [0, "&dfr;"], [0, "&efr;"], [0, "&ffr;"], [0, "&gfr;"], [0, "&hfr;"], [0, "&ifr;"], [0, "&jfr;"], [0, "&kfr;"], [0, "&lfr;"], [0, "&mfr;"], [0, "&nfr;"], [0, "&ofr;"], [0, "&pfr;"], [0, "&qfr;"], [0, "&rfr;"], [0, "&sfr;"], [0, "&tfr;"], [0, "&ufr;"], [0, "&vfr;"], [0, "&wfr;"], [0, "&xfr;"], [0, "&yfr;"], [0, "&zfr;"], [0, "&Aopf;"], [0, "&Bopf;"], [1, "&Dopf;"], [0, "&Eopf;"], [0, "&Fopf;"], [0, "&Gopf;"], [1, "&Iopf;"], [0, "&Jopf;"], [0, "&Kopf;"], [0, "&Lopf;"], [0, "&Mopf;"], [1, "&Oopf;"], [3, "&Sopf;"], [0, "&Topf;"], [0, "&Uopf;"], [0, "&Vopf;"], [0, "&Wopf;"], [0, "&Xopf;"], [0, "&Yopf;"], [1, "&aopf;"], [0, "&bopf;"], [0, "&copf;"], [0, "&dopf;"], [0, "&eopf;"], [0, "&fopf;"], [0, "&gopf;"], [0, "&hopf;"], [0, "&iopf;"], [0, "&jopf;"], [0, "&kopf;"], [0, "&lopf;"], [0, "&mopf;"], [0, "&nopf;"], [0, "&oopf;"], [0, "&popf;"], [0, "&qopf;"], [0, "&ropf;"], [0, "&sopf;"], [0, "&topf;"], [0, "&uopf;"], [0, "&vopf;"], [0, "&wopf;"], [0, "&xopf;"], [0, "&yopf;"], [0, "&zopf;"]])) }], [8906, "&fflig;"], [0, "&filig;"], [0, "&fllig;"], [0, "&ffilig;"], [0, "&ffllig;"]]));
  return encodeHtml;
}
var _escape = {};
var hasRequired_escape;
function require_escape() {
  if (hasRequired_escape) return _escape;
  hasRequired_escape = 1;
  (function(exports) {
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.escapeText = exports.escapeAttribute = exports.escapeUTF8 = exports.escape = exports.encodeXML = exports.getCodePoint = exports.xmlReplacer = void 0;
    exports.xmlReplacer = /["&'<>$\x80-\uFFFF]/g;
    var xmlCodeMap = /* @__PURE__ */ new Map([
      [34, "&quot;"],
      [38, "&amp;"],
      [39, "&apos;"],
      [60, "&lt;"],
      [62, "&gt;"]
    ]);
    exports.getCodePoint = // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition
    String.prototype.codePointAt != null ? function(str, index) {
      return str.codePointAt(index);
    } : (
      // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae
      (function(c2, index) {
        return (c2.charCodeAt(index) & 64512) === 55296 ? (c2.charCodeAt(index) - 55296) * 1024 + c2.charCodeAt(index + 1) - 56320 + 65536 : c2.charCodeAt(index);
      })
    );
    function encodeXML(str) {
      var ret = "";
      var lastIdx = 0;
      var match;
      while ((match = exports.xmlReplacer.exec(str)) !== null) {
        var i2 = match.index;
        var char = str.charCodeAt(i2);
        var next = xmlCodeMap.get(char);
        if (next !== void 0) {
          ret += str.substring(lastIdx, i2) + next;
          lastIdx = i2 + 1;
        } else {
          ret += "".concat(str.substring(lastIdx, i2), "&#x").concat((0, exports.getCodePoint)(str, i2).toString(16), ";");
          lastIdx = exports.xmlReplacer.lastIndex += Number((char & 64512) === 55296);
        }
      }
      return ret + str.substr(lastIdx);
    }
    exports.encodeXML = encodeXML;
    exports.escape = encodeXML;
    function getEscaper(regex, map2) {
      return function escape2(data) {
        var match;
        var lastIdx = 0;
        var result = "";
        while (match = regex.exec(data)) {
          if (lastIdx !== match.index) {
            result += data.substring(lastIdx, match.index);
          }
          result += map2.get(match[0].charCodeAt(0));
          lastIdx = match.index + 1;
        }
        return result + data.substring(lastIdx);
      };
    }
    exports.escapeUTF8 = getEscaper(/[&<>'"]/g, xmlCodeMap);
    exports.escapeAttribute = getEscaper(/["&\u00A0]/g, /* @__PURE__ */ new Map([
      [34, "&quot;"],
      [38, "&amp;"],
      [160, "&nbsp;"]
    ]));
    exports.escapeText = getEscaper(/[&<>\u00A0]/g, /* @__PURE__ */ new Map([
      [38, "&amp;"],
      [60, "&lt;"],
      [62, "&gt;"],
      [160, "&nbsp;"]
    ]));
  })(_escape);
  return _escape;
}
var hasRequiredEncode;
function requireEncode() {
  if (hasRequiredEncode) return encode$1;
  hasRequiredEncode = 1;
  var __importDefault = encode$1 && encode$1.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : { "default": mod };
  };
  Object.defineProperty(encode$1, "__esModule", { value: true });
  encode$1.encodeNonAsciiHTML = encode$1.encodeHTML = void 0;
  var encode_html_js_1 = __importDefault(/* @__PURE__ */ requireEncodeHtml());
  var escape_js_1 = /* @__PURE__ */ require_escape();
  var htmlReplacer = /[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;
  function encodeHTML(data) {
    return encodeHTMLTrieRe(htmlReplacer, data);
  }
  encode$1.encodeHTML = encodeHTML;
  function encodeNonAsciiHTML(data) {
    return encodeHTMLTrieRe(escape_js_1.xmlReplacer, data);
  }
  encode$1.encodeNonAsciiHTML = encodeNonAsciiHTML;
  function encodeHTMLTrieRe(regExp, str) {
    var ret = "";
    var lastIdx = 0;
    var match;
    while ((match = regExp.exec(str)) !== null) {
      var i2 = match.index;
      ret += str.substring(lastIdx, i2);
      var char = str.charCodeAt(i2);
      var next = encode_html_js_1.default.get(char);
      if (typeof next === "object") {
        if (i2 + 1 < str.length) {
          var nextChar = str.charCodeAt(i2 + 1);
          var value = typeof next.n === "number" ? next.n === nextChar ? next.o : void 0 : next.n.get(nextChar);
          if (value !== void 0) {
            ret += value;
            lastIdx = regExp.lastIndex += 1;
            continue;
          }
        }
        next = next.v;
      }
      if (next !== void 0) {
        ret += next;
        lastIdx = i2 + 1;
      } else {
        var cp2 = (0, escape_js_1.getCodePoint)(str, i2);
        ret += "&#x".concat(cp2.toString(16), ";");
        lastIdx = regExp.lastIndex += Number(cp2 !== char);
      }
    }
    return ret + str.substr(lastIdx);
  }
  return encode$1;
}
var hasRequiredLib;
function requireLib() {
  if (hasRequiredLib) return lib$1;
  hasRequiredLib = 1;
  (function(exports) {
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.decodeXMLStrict = exports.decodeHTML5Strict = exports.decodeHTML4Strict = exports.decodeHTML5 = exports.decodeHTML4 = exports.decodeHTMLAttribute = exports.decodeHTMLStrict = exports.decodeHTML = exports.decodeXML = exports.DecodingMode = exports.EntityDecoder = exports.encodeHTML5 = exports.encodeHTML4 = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.escapeText = exports.escapeAttribute = exports.escapeUTF8 = exports.escape = exports.encodeXML = exports.encode = exports.decodeStrict = exports.decode = exports.EncodingMode = exports.EntityLevel = void 0;
    var decode_js_1 = /* @__PURE__ */ requireDecode();
    var encode_js_1 = /* @__PURE__ */ requireEncode();
    var escape_js_1 = /* @__PURE__ */ require_escape();
    var EntityLevel;
    (function(EntityLevel2) {
      EntityLevel2[EntityLevel2["XML"] = 0] = "XML";
      EntityLevel2[EntityLevel2["HTML"] = 1] = "HTML";
    })(EntityLevel = exports.EntityLevel || (exports.EntityLevel = {}));
    var EncodingMode;
    (function(EncodingMode2) {
      EncodingMode2[EncodingMode2["UTF8"] = 0] = "UTF8";
      EncodingMode2[EncodingMode2["ASCII"] = 1] = "ASCII";
      EncodingMode2[EncodingMode2["Extensive"] = 2] = "Extensive";
      EncodingMode2[EncodingMode2["Attribute"] = 3] = "Attribute";
      EncodingMode2[EncodingMode2["Text"] = 4] = "Text";
    })(EncodingMode = exports.EncodingMode || (exports.EncodingMode = {}));
    function decode2(data, options) {
      if (options === void 0) {
        options = EntityLevel.XML;
      }
      var level = typeof options === "number" ? options : options.level;
      if (level === EntityLevel.HTML) {
        var mode = typeof options === "object" ? options.mode : void 0;
        return (0, decode_js_1.decodeHTML)(data, mode);
      }
      return (0, decode_js_1.decodeXML)(data);
    }
    exports.decode = decode2;
    function decodeStrict(data, options) {
      var _a2;
      if (options === void 0) {
        options = EntityLevel.XML;
      }
      var opts = typeof options === "number" ? { level: options } : options;
      (_a2 = opts.mode) !== null && _a2 !== void 0 ? _a2 : opts.mode = decode_js_1.DecodingMode.Strict;
      return decode2(data, opts);
    }
    exports.decodeStrict = decodeStrict;
    function encode2(data, options) {
      if (options === void 0) {
        options = EntityLevel.XML;
      }
      var opts = typeof options === "number" ? { level: options } : options;
      if (opts.mode === EncodingMode.UTF8)
        return (0, escape_js_1.escapeUTF8)(data);
      if (opts.mode === EncodingMode.Attribute)
        return (0, escape_js_1.escapeAttribute)(data);
      if (opts.mode === EncodingMode.Text)
        return (0, escape_js_1.escapeText)(data);
      if (opts.level === EntityLevel.HTML) {
        if (opts.mode === EncodingMode.ASCII) {
          return (0, encode_js_1.encodeNonAsciiHTML)(data);
        }
        return (0, encode_js_1.encodeHTML)(data);
      }
      return (0, escape_js_1.encodeXML)(data);
    }
    exports.encode = encode2;
    var escape_js_2 = /* @__PURE__ */ require_escape();
    Object.defineProperty(exports, "encodeXML", { enumerable: true, get: function() {
      return escape_js_2.encodeXML;
    } });
    Object.defineProperty(exports, "escape", { enumerable: true, get: function() {
      return escape_js_2.escape;
    } });
    Object.defineProperty(exports, "escapeUTF8", { enumerable: true, get: function() {
      return escape_js_2.escapeUTF8;
    } });
    Object.defineProperty(exports, "escapeAttribute", { enumerable: true, get: function() {
      return escape_js_2.escapeAttribute;
    } });
    Object.defineProperty(exports, "escapeText", { enumerable: true, get: function() {
      return escape_js_2.escapeText;
    } });
    var encode_js_2 = /* @__PURE__ */ requireEncode();
    Object.defineProperty(exports, "encodeHTML", { enumerable: true, get: function() {
      return encode_js_2.encodeHTML;
    } });
    Object.defineProperty(exports, "encodeNonAsciiHTML", { enumerable: true, get: function() {
      return encode_js_2.encodeNonAsciiHTML;
    } });
    Object.defineProperty(exports, "encodeHTML4", { enumerable: true, get: function() {
      return encode_js_2.encodeHTML;
    } });
    Object.defineProperty(exports, "encodeHTML5", { enumerable: true, get: function() {
      return encode_js_2.encodeHTML;
    } });
    var decode_js_2 = /* @__PURE__ */ requireDecode();
    Object.defineProperty(exports, "EntityDecoder", { enumerable: true, get: function() {
      return decode_js_2.EntityDecoder;
    } });
    Object.defineProperty(exports, "DecodingMode", { enumerable: true, get: function() {
      return decode_js_2.DecodingMode;
    } });
    Object.defineProperty(exports, "decodeXML", { enumerable: true, get: function() {
      return decode_js_2.decodeXML;
    } });
    Object.defineProperty(exports, "decodeHTML", { enumerable: true, get: function() {
      return decode_js_2.decodeHTML;
    } });
    Object.defineProperty(exports, "decodeHTMLStrict", { enumerable: true, get: function() {
      return decode_js_2.decodeHTMLStrict;
    } });
    Object.defineProperty(exports, "decodeHTMLAttribute", { enumerable: true, get: function() {
      return decode_js_2.decodeHTMLAttribute;
    } });
    Object.defineProperty(exports, "decodeHTML4", { enumerable: true, get: function() {
      return decode_js_2.decodeHTML;
    } });
    Object.defineProperty(exports, "decodeHTML5", { enumerable: true, get: function() {
      return decode_js_2.decodeHTML;
    } });
    Object.defineProperty(exports, "decodeHTML4Strict", { enumerable: true, get: function() {
      return decode_js_2.decodeHTMLStrict;
    } });
    Object.defineProperty(exports, "decodeHTML5Strict", { enumerable: true, get: function() {
      return decode_js_2.decodeHTMLStrict;
    } });
    Object.defineProperty(exports, "decodeXMLStrict", { enumerable: true, get: function() {
      return decode_js_2.decodeXML;
    } });
  })(lib$1);
  return lib$1;
}
var libExports = /* @__PURE__ */ requireLib();
function _class(obj) {
  return Object.prototype.toString.call(obj);
}
function isString(obj) {
  return _class(obj) === "[object String]";
}
const _hasOwnProperty = Object.prototype.hasOwnProperty;
function has(object, key) {
  return _hasOwnProperty.call(object, key);
}
function assign(obj) {
  const sources = Array.prototype.slice.call(arguments, 1);
  sources.forEach(function(source) {
    if (!source) {
      return;
    }
    if (typeof source !== "object") {
      throw new TypeError(source + "must be object");
    }
    Object.keys(source).forEach(function(key) {
      obj[key] = source[key];
    });
  });
  return obj;
}
function arrayReplaceAt(src, pos, newElements) {
  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));
}
function isValidEntityCode(c2) {
  if (c2 >= 55296 && c2 <= 57343) {
    return false;
  }
  if (c2 >= 64976 && c2 <= 65007) {
    return false;
  }
  if ((c2 & 65535) === 65535 || (c2 & 65535) === 65534) {
    return false;
  }
  if (c2 >= 0 && c2 <= 8) {
    return false;
  }
  if (c2 === 11) {
    return false;
  }
  if (c2 >= 14 && c2 <= 31) {
    return false;
  }
  if (c2 >= 127 && c2 <= 159) {
    return false;
  }
  if (c2 > 1114111) {
    return false;
  }
  return true;
}
function fromCodePoint(c2) {
  if (c2 > 65535) {
    c2 -= 65536;
    const surrogate1 = 55296 + (c2 >> 10);
    const surrogate2 = 56320 + (c2 & 1023);
    return String.fromCharCode(surrogate1, surrogate2);
  }
  return String.fromCharCode(c2);
}
const UNESCAPE_MD_RE = /\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g;
const ENTITY_RE = /&([a-z#][a-z0-9]{1,31});/gi;
const UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + "|" + ENTITY_RE.source, "gi");
const DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;
function replaceEntityPattern(match, name) {
  if (name.charCodeAt(0) === 35 && DIGITAL_ENTITY_TEST_RE.test(name)) {
    const code2 = name[1].toLowerCase() === "x" ? parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);
    if (isValidEntityCode(code2)) {
      return fromCodePoint(code2);
    }
    return match;
  }
  const decoded = libExports.decodeHTML(match);
  if (decoded !== match) {
    return decoded;
  }
  return match;
}
function unescapeMd(str) {
  if (str.indexOf("\\") < 0) {
    return str;
  }
  return str.replace(UNESCAPE_MD_RE, "$1");
}
function unescapeAll(str) {
  if (str.indexOf("\\") < 0 && str.indexOf("&") < 0) {
    return str;
  }
  return str.replace(UNESCAPE_ALL_RE, function(match, escaped, entity2) {
    if (escaped) {
      return escaped;
    }
    return replaceEntityPattern(match, entity2);
  });
}
const HTML_ESCAPE_TEST_RE = /[&<>"]/;
const HTML_ESCAPE_REPLACE_RE = /[&<>"]/g;
const HTML_REPLACEMENTS = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;"
};
function replaceUnsafeChar(ch2) {
  return HTML_REPLACEMENTS[ch2];
}
function escapeHtml(str) {
  if (HTML_ESCAPE_TEST_RE.test(str)) {
    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);
  }
  return str;
}
const REGEXP_ESCAPE_RE = /[.?*+^$[\]\\(){}|-]/g;
function escapeRE(str) {
  return str.replace(REGEXP_ESCAPE_RE, "\\$&");
}
function isSpace(code2) {
  switch (code2) {
    case 9:
    case 32:
      return true;
  }
  return false;
}
function isWhiteSpace(code2) {
  if (code2 >= 8192 && code2 <= 8202) {
    return true;
  }
  switch (code2) {
    case 9:
    // \t
    case 10:
    // \n
    case 11:
    // \v
    case 12:
    // \f
    case 13:
    // \r
    case 32:
    case 160:
    case 5760:
    case 8239:
    case 8287:
    case 12288:
      return true;
  }
  return false;
}
function isPunctChar(ch2) {
  return index_cjsExports$1.P.test(ch2) || index_cjsExports$1.S.test(ch2);
}
function isMdAsciiPunct(ch2) {
  switch (ch2) {
    case 33:
    case 34:
    case 35:
    case 36:
    case 37:
    case 38:
    case 39:
    case 40:
    case 41:
    case 42:
    case 43:
    case 44:
    case 45:
    case 46:
    case 47:
    case 58:
    case 59:
    case 60:
    case 61:
    case 62:
    case 63:
    case 64:
    case 91:
    case 92:
    case 93:
    case 94:
    case 95:
    case 96:
    case 123:
    case 124:
    case 125:
    case 126:
      return true;
    default:
      return false;
  }
}
function normalizeReference(str) {
  str = str.trim().replace(/\s+/g, " ");
  if ("".toLowerCase() === "") {
    str = str.replace(//g, "");
  }
  return str.toLowerCase().toUpperCase();
}
const lib = { mdurl, ucmicro };
var utils = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  arrayReplaceAt,
  assign,
  escapeHtml,
  escapeRE,
  fromCodePoint,
  has,
  isMdAsciiPunct,
  isPunctChar,
  isSpace,
  isString,
  isValidEntityCode,
  isWhiteSpace,
  lib,
  normalizeReference,
  unescapeAll,
  unescapeMd
});
function parseLinkLabel(state, start, disableNested) {
  let level, found, marker, prevPos;
  const max = state.posMax;
  const oldPos = state.pos;
  state.pos = start + 1;
  level = 1;
  while (state.pos < max) {
    marker = state.src.charCodeAt(state.pos);
    if (marker === 93) {
      level--;
      if (level === 0) {
        found = true;
        break;
      }
    }
    prevPos = state.pos;
    state.md.inline.skipToken(state);
    if (marker === 91) {
      if (prevPos === state.pos - 1) {
        level++;
      } else if (disableNested) {
        state.pos = oldPos;
        return -1;
      }
    }
  }
  let labelEnd = -1;
  if (found) {
    labelEnd = state.pos;
  }
  state.pos = oldPos;
  return labelEnd;
}
function parseLinkDestination(str, start, max) {
  let code2;
  let pos = start;
  const result = {
    ok: false,
    pos: 0,
    str: ""
  };
  if (str.charCodeAt(pos) === 60) {
    pos++;
    while (pos < max) {
      code2 = str.charCodeAt(pos);
      if (code2 === 10) {
        return result;
      }
      if (code2 === 60) {
        return result;
      }
      if (code2 === 62) {
        result.pos = pos + 1;
        result.str = unescapeAll(str.slice(start + 1, pos));
        result.ok = true;
        return result;
      }
      if (code2 === 92 && pos + 1 < max) {
        pos += 2;
        continue;
      }
      pos++;
    }
    return result;
  }
  let level = 0;
  while (pos < max) {
    code2 = str.charCodeAt(pos);
    if (code2 === 32) {
      break;
    }
    if (code2 < 32 || code2 === 127) {
      break;
    }
    if (code2 === 92 && pos + 1 < max) {
      if (str.charCodeAt(pos + 1) === 32) {
        break;
      }
      pos += 2;
      continue;
    }
    if (code2 === 40) {
      level++;
      if (level > 32) {
        return result;
      }
    }
    if (code2 === 41) {
      if (level === 0) {
        break;
      }
      level--;
    }
    pos++;
  }
  if (start === pos) {
    return result;
  }
  if (level !== 0) {
    return result;
  }
  result.str = unescapeAll(str.slice(start, pos));
  result.pos = pos;
  result.ok = true;
  return result;
}
function parseLinkTitle(str, start, max, prev_state) {
  let code2;
  let pos = start;
  const state = {
    // if `true`, this is a valid link title
    ok: false,
    // if `true`, this link can be continued on the next line
    can_continue: false,
    // if `ok`, it's the position of the first character after the closing marker
    pos: 0,
    // if `ok`, it's the unescaped title
    str: "",
    // expected closing marker character code
    marker: 0
  };
  if (prev_state) {
    state.str = prev_state.str;
    state.marker = prev_state.marker;
  } else {
    if (pos >= max) {
      return state;
    }
    let marker = str.charCodeAt(pos);
    if (marker !== 34 && marker !== 39 && marker !== 40) {
      return state;
    }
    start++;
    pos++;
    if (marker === 40) {
      marker = 41;
    }
    state.marker = marker;
  }
  while (pos < max) {
    code2 = str.charCodeAt(pos);
    if (code2 === state.marker) {
      state.pos = pos + 1;
      state.str += unescapeAll(str.slice(start, pos));
      state.ok = true;
      return state;
    } else if (code2 === 40 && state.marker === 41) {
      return state;
    } else if (code2 === 92 && pos + 1 < max) {
      pos++;
    }
    pos++;
  }
  state.can_continue = true;
  state.str += unescapeAll(str.slice(start, pos));
  return state;
}
var helpers = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  parseLinkDestination,
  parseLinkLabel,
  parseLinkTitle
});
const default_rules = {};
default_rules.code_inline = function(tokens, idx, options, env, slf) {
  const token = tokens[idx];
  return "<code" + slf.renderAttrs(token) + ">" + escapeHtml(token.content) + "</code>";
};
default_rules.code_block = function(tokens, idx, options, env, slf) {
  const token = tokens[idx];
  return "<pre" + slf.renderAttrs(token) + "><code>" + escapeHtml(tokens[idx].content) + "</code></pre>\n";
};
default_rules.fence = function(tokens, idx, options, env, slf) {
  const token = tokens[idx];
  const info = token.info ? unescapeAll(token.info).trim() : "";
  let langName = "";
  let langAttrs = "";
  if (info) {
    const arr = info.split(/(\s+)/g);
    langName = arr[0];
    langAttrs = arr.slice(2).join("");
  }
  let highlighted;
  if (options.highlight) {
    highlighted = options.highlight(token.content, langName, langAttrs) || escapeHtml(token.content);
  } else {
    highlighted = escapeHtml(token.content);
  }
  if (highlighted.indexOf("<pre") === 0) {
    return highlighted + "\n";
  }
  if (info) {
    const i2 = token.attrIndex("class");
    const tmpAttrs = token.attrs ? token.attrs.slice() : [];
    if (i2 < 0) {
      tmpAttrs.push(["class", options.langPrefix + langName]);
    } else {
      tmpAttrs[i2] = tmpAttrs[i2].slice();
      tmpAttrs[i2][1] += " " + options.langPrefix + langName;
    }
    const tmpToken = {
      attrs: tmpAttrs
    };
    return `<pre><code${slf.renderAttrs(tmpToken)}>${highlighted}</code></pre>
`;
  }
  return `<pre><code${slf.renderAttrs(token)}>${highlighted}</code></pre>
`;
};
default_rules.image = function(tokens, idx, options, env, slf) {
  const token = tokens[idx];
  token.attrs[token.attrIndex("alt")][1] = slf.renderInlineAsText(token.children, options, env);
  return slf.renderToken(tokens, idx, options);
};
default_rules.hardbreak = function(tokens, idx, options) {
  return options.xhtmlOut ? "<br />\n" : "<br>\n";
};
default_rules.softbreak = function(tokens, idx, options) {
  return options.breaks ? options.xhtmlOut ? "<br />\n" : "<br>\n" : "\n";
};
default_rules.text = function(tokens, idx) {
  return escapeHtml(tokens[idx].content);
};
default_rules.html_block = function(tokens, idx) {
  return tokens[idx].content;
};
default_rules.html_inline = function(tokens, idx) {
  return tokens[idx].content;
};
function Renderer() {
  this.rules = assign({}, default_rules);
}
Renderer.prototype.renderAttrs = function renderAttrs(token) {
  let i2, l2, result;
  if (!token.attrs) {
    return "";
  }
  result = "";
  for (i2 = 0, l2 = token.attrs.length; i2 < l2; i2++) {
    result += " " + escapeHtml(token.attrs[i2][0]) + '="' + escapeHtml(token.attrs[i2][1]) + '"';
  }
  return result;
};
Renderer.prototype.renderToken = function renderToken(tokens, idx, options) {
  const token = tokens[idx];
  let result = "";
  if (token.hidden) {
    return "";
  }
  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {
    result += "\n";
  }
  result += (token.nesting === -1 ? "</" : "<") + token.tag;
  result += this.renderAttrs(token);
  if (token.nesting === 0 && options.xhtmlOut) {
    result += " /";
  }
  let needLf = false;
  if (token.block) {
    needLf = true;
    if (token.nesting === 1) {
      if (idx + 1 < tokens.length) {
        const nextToken = tokens[idx + 1];
        if (nextToken.type === "inline" || nextToken.hidden) {
          needLf = false;
        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {
          needLf = false;
        }
      }
    }
  }
  result += needLf ? ">\n" : ">";
  return result;
};
Renderer.prototype.renderInline = function(tokens, options, env) {
  let result = "";
  const rules = this.rules;
  for (let i2 = 0, len = tokens.length; i2 < len; i2++) {
    const type = tokens[i2].type;
    if (typeof rules[type] !== "undefined") {
      result += rules[type](tokens, i2, options, env, this);
    } else {
      result += this.renderToken(tokens, i2, options);
    }
  }
  return result;
};
Renderer.prototype.renderInlineAsText = function(tokens, options, env) {
  let result = "";
  for (let i2 = 0, len = tokens.length; i2 < len; i2++) {
    switch (tokens[i2].type) {
      case "text":
        result += tokens[i2].content;
        break;
      case "image":
        result += this.renderInlineAsText(tokens[i2].children, options, env);
        break;
      case "html_inline":
      case "html_block":
        result += tokens[i2].content;
        break;
      case "softbreak":
      case "hardbreak":
        result += "\n";
        break;
    }
  }
  return result;
};
Renderer.prototype.render = function(tokens, options, env) {
  let result = "";
  const rules = this.rules;
  for (let i2 = 0, len = tokens.length; i2 < len; i2++) {
    const type = tokens[i2].type;
    if (type === "inline") {
      result += this.renderInline(tokens[i2].children, options, env);
    } else if (typeof rules[type] !== "undefined") {
      result += rules[type](tokens, i2, options, env, this);
    } else {
      result += this.renderToken(tokens, i2, options, env);
    }
  }
  return result;
};
function Ruler() {
  this.__rules__ = [];
  this.__cache__ = null;
}
Ruler.prototype.__find__ = function(name) {
  for (let i2 = 0; i2 < this.__rules__.length; i2++) {
    if (this.__rules__[i2].name === name) {
      return i2;
    }
  }
  return -1;
};
Ruler.prototype.__compile__ = function() {
  const self2 = this;
  const chains = [""];
  self2.__rules__.forEach(function(rule) {
    if (!rule.enabled) {
      return;
    }
    rule.alt.forEach(function(altName) {
      if (chains.indexOf(altName) < 0) {
        chains.push(altName);
      }
    });
  });
  self2.__cache__ = {};
  chains.forEach(function(chain) {
    self2.__cache__[chain] = [];
    self2.__rules__.forEach(function(rule) {
      if (!rule.enabled) {
        return;
      }
      if (chain && rule.alt.indexOf(chain) < 0) {
        return;
      }
      self2.__cache__[chain].push(rule.fn);
    });
  });
};
Ruler.prototype.at = function(name, fn2, options) {
  const index = this.__find__(name);
  const opt = options || {};
  if (index === -1) {
    throw new Error("Parser rule not found: " + name);
  }
  this.__rules__[index].fn = fn2;
  this.__rules__[index].alt = opt.alt || [];
  this.__cache__ = null;
};
Ruler.prototype.before = function(beforeName, ruleName, fn2, options) {
  const index = this.__find__(beforeName);
  const opt = options || {};
  if (index === -1) {
    throw new Error("Parser rule not found: " + beforeName);
  }
  this.__rules__.splice(index, 0, {
    name: ruleName,
    enabled: true,
    fn: fn2,
    alt: opt.alt || []
  });
  this.__cache__ = null;
};
Ruler.prototype.after = function(afterName, ruleName, fn2, options) {
  const index = this.__find__(afterName);
  const opt = options || {};
  if (index === -1) {
    throw new Error("Parser rule not found: " + afterName);
  }
  this.__rules__.splice(index + 1, 0, {
    name: ruleName,
    enabled: true,
    fn: fn2,
    alt: opt.alt || []
  });
  this.__cache__ = null;
};
Ruler.prototype.push = function(ruleName, fn2, options) {
  const opt = options || {};
  this.__rules__.push({
    name: ruleName,
    enabled: true,
    fn: fn2,
    alt: opt.alt || []
  });
  this.__cache__ = null;
};
Ruler.prototype.enable = function(list2, ignoreInvalid) {
  if (!Array.isArray(list2)) {
    list2 = [list2];
  }
  const result = [];
  list2.forEach(function(name) {
    const idx = this.__find__(name);
    if (idx < 0) {
      if (ignoreInvalid) {
        return;
      }
      throw new Error("Rules manager: invalid rule name " + name);
    }
    this.__rules__[idx].enabled = true;
    result.push(name);
  }, this);
  this.__cache__ = null;
  return result;
};
Ruler.prototype.enableOnly = function(list2, ignoreInvalid) {
  if (!Array.isArray(list2)) {
    list2 = [list2];
  }
  this.__rules__.forEach(function(rule) {
    rule.enabled = false;
  });
  this.enable(list2, ignoreInvalid);
};
Ruler.prototype.disable = function(list2, ignoreInvalid) {
  if (!Array.isArray(list2)) {
    list2 = [list2];
  }
  const result = [];
  list2.forEach(function(name) {
    const idx = this.__find__(name);
    if (idx < 0) {
      if (ignoreInvalid) {
        return;
      }
      throw new Error("Rules manager: invalid rule name " + name);
    }
    this.__rules__[idx].enabled = false;
    result.push(name);
  }, this);
  this.__cache__ = null;
  return result;
};
Ruler.prototype.getRules = function(chainName) {
  if (this.__cache__ === null) {
    this.__compile__();
  }
  return this.__cache__[chainName] || [];
};
function Token(type, tag, nesting) {
  this.type = type;
  this.tag = tag;
  this.attrs = null;
  this.map = null;
  this.nesting = nesting;
  this.level = 0;
  this.children = null;
  this.content = "";
  this.markup = "";
  this.info = "";
  this.meta = null;
  this.block = false;
  this.hidden = false;
}
Token.prototype.attrIndex = function attrIndex(name) {
  if (!this.attrs) {
    return -1;
  }
  const attrs = this.attrs;
  for (let i2 = 0, len = attrs.length; i2 < len; i2++) {
    if (attrs[i2][0] === name) {
      return i2;
    }
  }
  return -1;
};
Token.prototype.attrPush = function attrPush(attrData) {
  if (this.attrs) {
    this.attrs.push(attrData);
  } else {
    this.attrs = [attrData];
  }
};
Token.prototype.attrSet = function attrSet(name, value) {
  const idx = this.attrIndex(name);
  const attrData = [name, value];
  if (idx < 0) {
    this.attrPush(attrData);
  } else {
    this.attrs[idx] = attrData;
  }
};
Token.prototype.attrGet = function attrGet(name) {
  const idx = this.attrIndex(name);
  let value = null;
  if (idx >= 0) {
    value = this.attrs[idx][1];
  }
  return value;
};
Token.prototype.attrJoin = function attrJoin(name, value) {
  const idx = this.attrIndex(name);
  if (idx < 0) {
    this.attrPush([name, value]);
  } else {
    this.attrs[idx][1] = this.attrs[idx][1] + " " + value;
  }
};
function StateCore(src, md2, env) {
  this.src = src;
  this.env = env;
  this.tokens = [];
  this.inlineMode = false;
  this.md = md2;
}
StateCore.prototype.Token = Token;
const NEWLINES_RE = /\r\n?|\n/g;
const NULL_RE = /\0/g;
function normalize(state) {
  let str;
  str = state.src.replace(NEWLINES_RE, "\n");
  str = str.replace(NULL_RE, "");
  state.src = str;
}
function block(state) {
  let token;
  if (state.inlineMode) {
    token = new state.Token("inline", "", 0);
    token.content = state.src;
    token.map = [0, 1];
    token.children = [];
    state.tokens.push(token);
  } else {
    state.md.block.parse(state.src, state.md, state.env, state.tokens);
  }
}
function inline(state) {
  const tokens = state.tokens;
  for (let i2 = 0, l2 = tokens.length; i2 < l2; i2++) {
    const tok = tokens[i2];
    if (tok.type === "inline") {
      state.md.inline.parse(tok.content, state.md, state.env, tok.children);
    }
  }
}
function isLinkOpen$1(str) {
  return /^<a[>\s]/i.test(str);
}
function isLinkClose$1(str) {
  return /^<\/a\s*>/i.test(str);
}
function linkify$1(state) {
  const blockTokens = state.tokens;
  if (!state.md.options.linkify) {
    return;
  }
  for (let j2 = 0, l2 = blockTokens.length; j2 < l2; j2++) {
    if (blockTokens[j2].type !== "inline" || !state.md.linkify.pretest(blockTokens[j2].content)) {
      continue;
    }
    let tokens = blockTokens[j2].children;
    let htmlLinkLevel = 0;
    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {
      const currentToken = tokens[i2];
      if (currentToken.type === "link_close") {
        i2--;
        while (tokens[i2].level !== currentToken.level && tokens[i2].type !== "link_open") {
          i2--;
        }
        continue;
      }
      if (currentToken.type === "html_inline") {
        if (isLinkOpen$1(currentToken.content) && htmlLinkLevel > 0) {
          htmlLinkLevel--;
        }
        if (isLinkClose$1(currentToken.content)) {
          htmlLinkLevel++;
        }
      }
      if (htmlLinkLevel > 0) {
        continue;
      }
      if (currentToken.type === "text" && state.md.linkify.test(currentToken.content)) {
        const text2 = currentToken.content;
        let links = state.md.linkify.match(text2);
        const nodes = [];
        let level = currentToken.level;
        let lastPos = 0;
        if (links.length > 0 && links[0].index === 0 && i2 > 0 && tokens[i2 - 1].type === "text_special") {
          links = links.slice(1);
        }
        for (let ln2 = 0; ln2 < links.length; ln2++) {
          const url = links[ln2].url;
          const fullUrl = state.md.normalizeLink(url);
          if (!state.md.validateLink(fullUrl)) {
            continue;
          }
          let urlText = links[ln2].text;
          if (!links[ln2].schema) {
            urlText = state.md.normalizeLinkText("http://" + urlText).replace(/^http:\/\//, "");
          } else if (links[ln2].schema === "mailto:" && !/^mailto:/i.test(urlText)) {
            urlText = state.md.normalizeLinkText("mailto:" + urlText).replace(/^mailto:/, "");
          } else {
            urlText = state.md.normalizeLinkText(urlText);
          }
          const pos = links[ln2].index;
          if (pos > lastPos) {
            const token = new state.Token("text", "", 0);
            token.content = text2.slice(lastPos, pos);
            token.level = level;
            nodes.push(token);
          }
          const token_o = new state.Token("link_open", "a", 1);
          token_o.attrs = [["href", fullUrl]];
          token_o.level = level++;
          token_o.markup = "linkify";
          token_o.info = "auto";
          nodes.push(token_o);
          const token_t = new state.Token("text", "", 0);
          token_t.content = urlText;
          token_t.level = level;
          nodes.push(token_t);
          const token_c = new state.Token("link_close", "a", -1);
          token_c.level = --level;
          token_c.markup = "linkify";
          token_c.info = "auto";
          nodes.push(token_c);
          lastPos = links[ln2].lastIndex;
        }
        if (lastPos < text2.length) {
          const token = new state.Token("text", "", 0);
          token.content = text2.slice(lastPos);
          token.level = level;
          nodes.push(token);
        }
        blockTokens[j2].children = tokens = arrayReplaceAt(tokens, i2, nodes);
      }
    }
  }
}
const RARE_RE = /\+-|\.\.|\?\?\?\?|!!!!|,,|--/;
const SCOPED_ABBR_TEST_RE = /\((c|tm|r)\)/i;
const SCOPED_ABBR_RE = /\((c|tm|r)\)/ig;
const SCOPED_ABBR = {
  c: "",
  r: "",
  tm: ""
};
function replaceFn(match, name) {
  return SCOPED_ABBR[name.toLowerCase()];
}
function replace_scoped(inlineTokens) {
  let inside_autolink = 0;
  for (let i2 = inlineTokens.length - 1; i2 >= 0; i2--) {
    const token = inlineTokens[i2];
    if (token.type === "text" && !inside_autolink) {
      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);
    }
    if (token.type === "link_open" && token.info === "auto") {
      inside_autolink--;
    }
    if (token.type === "link_close" && token.info === "auto") {
      inside_autolink++;
    }
  }
}
function replace_rare(inlineTokens) {
  let inside_autolink = 0;
  for (let i2 = inlineTokens.length - 1; i2 >= 0; i2--) {
    const token = inlineTokens[i2];
    if (token.type === "text" && !inside_autolink) {
      if (RARE_RE.test(token.content)) {
        token.content = token.content.replace(/\+-/g, "").replace(/\.{2,}/g, "").replace(/([?!])/g, "$1..").replace(/([?!]){4,}/g, "$1$1$1").replace(/,{2,}/g, ",").replace(/(^|[^-])---(?=[^-]|$)/mg, "$1").replace(/(^|\s)--(?=\s|$)/mg, "$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg, "$1");
      }
    }
    if (token.type === "link_open" && token.info === "auto") {
      inside_autolink--;
    }
    if (token.type === "link_close" && token.info === "auto") {
      inside_autolink++;
    }
  }
}
function replace(state) {
  let blkIdx;
  if (!state.md.options.typographer) {
    return;
  }
  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {
    if (state.tokens[blkIdx].type !== "inline") {
      continue;
    }
    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {
      replace_scoped(state.tokens[blkIdx].children);
    }
    if (RARE_RE.test(state.tokens[blkIdx].content)) {
      replace_rare(state.tokens[blkIdx].children);
    }
  }
}
const QUOTE_TEST_RE = /['"]/;
const QUOTE_RE = /['"]/g;
const APOSTROPHE = "";
function replaceAt(str, index, ch2) {
  return str.slice(0, index) + ch2 + str.slice(index + 1);
}
function process_inlines(tokens, state) {
  let j2;
  const stack = [];
  for (let i2 = 0; i2 < tokens.length; i2++) {
    const token = tokens[i2];
    const thisLevel = tokens[i2].level;
    for (j2 = stack.length - 1; j2 >= 0; j2--) {
      if (stack[j2].level <= thisLevel) {
        break;
      }
    }
    stack.length = j2 + 1;
    if (token.type !== "text") {
      continue;
    }
    let text2 = token.content;
    let pos = 0;
    let max = text2.length;
    OUTER:
      while (pos < max) {
        QUOTE_RE.lastIndex = pos;
        const t5 = QUOTE_RE.exec(text2);
        if (!t5) {
          break;
        }
        let canOpen = true;
        let canClose = true;
        pos = t5.index + 1;
        const isSingle = t5[0] === "'";
        let lastChar = 32;
        if (t5.index - 1 >= 0) {
          lastChar = text2.charCodeAt(t5.index - 1);
        } else {
          for (j2 = i2 - 1; j2 >= 0; j2--) {
            if (tokens[j2].type === "softbreak" || tokens[j2].type === "hardbreak") break;
            if (!tokens[j2].content) continue;
            lastChar = tokens[j2].content.charCodeAt(tokens[j2].content.length - 1);
            break;
          }
        }
        let nextChar = 32;
        if (pos < max) {
          nextChar = text2.charCodeAt(pos);
        } else {
          for (j2 = i2 + 1; j2 < tokens.length; j2++) {
            if (tokens[j2].type === "softbreak" || tokens[j2].type === "hardbreak") break;
            if (!tokens[j2].content) continue;
            nextChar = tokens[j2].content.charCodeAt(0);
            break;
          }
        }
        const isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));
        const isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));
        const isLastWhiteSpace = isWhiteSpace(lastChar);
        const isNextWhiteSpace = isWhiteSpace(nextChar);
        if (isNextWhiteSpace) {
          canOpen = false;
        } else if (isNextPunctChar) {
          if (!(isLastWhiteSpace || isLastPunctChar)) {
            canOpen = false;
          }
        }
        if (isLastWhiteSpace) {
          canClose = false;
        } else if (isLastPunctChar) {
          if (!(isNextWhiteSpace || isNextPunctChar)) {
            canClose = false;
          }
        }
        if (nextChar === 34 && t5[0] === '"') {
          if (lastChar >= 48 && lastChar <= 57) {
            canClose = canOpen = false;
          }
        }
        if (canOpen && canClose) {
          canOpen = isLastPunctChar;
          canClose = isNextPunctChar;
        }
        if (!canOpen && !canClose) {
          if (isSingle) {
            token.content = replaceAt(token.content, t5.index, APOSTROPHE);
          }
          continue;
        }
        if (canClose) {
          for (j2 = stack.length - 1; j2 >= 0; j2--) {
            let item = stack[j2];
            if (stack[j2].level < thisLevel) {
              break;
            }
            if (item.single === isSingle && stack[j2].level === thisLevel) {
              item = stack[j2];
              let openQuote;
              let closeQuote;
              if (isSingle) {
                openQuote = state.md.options.quotes[2];
                closeQuote = state.md.options.quotes[3];
              } else {
                openQuote = state.md.options.quotes[0];
                closeQuote = state.md.options.quotes[1];
              }
              token.content = replaceAt(token.content, t5.index, closeQuote);
              tokens[item.token].content = replaceAt(
                tokens[item.token].content,
                item.pos,
                openQuote
              );
              pos += closeQuote.length - 1;
              if (item.token === i2) {
                pos += openQuote.length - 1;
              }
              text2 = token.content;
              max = text2.length;
              stack.length = j2;
              continue OUTER;
            }
          }
        }
        if (canOpen) {
          stack.push({
            token: i2,
            pos: t5.index,
            single: isSingle,
            level: thisLevel
          });
        } else if (canClose && isSingle) {
          token.content = replaceAt(token.content, t5.index, APOSTROPHE);
        }
      }
  }
}
function smartquotes(state) {
  if (!state.md.options.typographer) {
    return;
  }
  for (let blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {
    if (state.tokens[blkIdx].type !== "inline" || !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {
      continue;
    }
    process_inlines(state.tokens[blkIdx].children, state);
  }
}
function text_join(state) {
  let curr, last;
  const blockTokens = state.tokens;
  const l2 = blockTokens.length;
  for (let j2 = 0; j2 < l2; j2++) {
    if (blockTokens[j2].type !== "inline") continue;
    const tokens = blockTokens[j2].children;
    const max = tokens.length;
    for (curr = 0; curr < max; curr++) {
      if (tokens[curr].type === "text_special") {
        tokens[curr].type = "text";
      }
    }
    for (curr = last = 0; curr < max; curr++) {
      if (tokens[curr].type === "text" && curr + 1 < max && tokens[curr + 1].type === "text") {
        tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;
      } else {
        if (curr !== last) {
          tokens[last] = tokens[curr];
        }
        last++;
      }
    }
    if (curr !== last) {
      tokens.length = last;
    }
  }
}
const _rules$2 = [
  ["normalize", normalize],
  ["block", block],
  ["inline", inline],
  ["linkify", linkify$1],
  ["replacements", replace],
  ["smartquotes", smartquotes],
  // `text_join` finds `text_special` tokens (for escape sequences)
  // and joins them with the rest of the text
  ["text_join", text_join]
];
function Core() {
  this.ruler = new Ruler();
  for (let i2 = 0; i2 < _rules$2.length; i2++) {
    this.ruler.push(_rules$2[i2][0], _rules$2[i2][1]);
  }
}
Core.prototype.process = function(state) {
  const rules = this.ruler.getRules("");
  for (let i2 = 0, l2 = rules.length; i2 < l2; i2++) {
    rules[i2](state);
  }
};
Core.prototype.State = StateCore;
function StateBlock(src, md2, env, tokens) {
  this.src = src;
  this.md = md2;
  this.env = env;
  this.tokens = tokens;
  this.bMarks = [];
  this.eMarks = [];
  this.tShift = [];
  this.sCount = [];
  this.bsCount = [];
  this.blkIndent = 0;
  this.line = 0;
  this.lineMax = 0;
  this.tight = false;
  this.ddIndent = -1;
  this.listIndent = -1;
  this.parentType = "root";
  this.level = 0;
  const s2 = this.src;
  for (let start = 0, pos = 0, indent = 0, offset = 0, len = s2.length, indent_found = false; pos < len; pos++) {
    const ch2 = s2.charCodeAt(pos);
    if (!indent_found) {
      if (isSpace(ch2)) {
        indent++;
        if (ch2 === 9) {
          offset += 4 - offset % 4;
        } else {
          offset++;
        }
        continue;
      } else {
        indent_found = true;
      }
    }
    if (ch2 === 10 || pos === len - 1) {
      if (ch2 !== 10) {
        pos++;
      }
      this.bMarks.push(start);
      this.eMarks.push(pos);
      this.tShift.push(indent);
      this.sCount.push(offset);
      this.bsCount.push(0);
      indent_found = false;
      indent = 0;
      offset = 0;
      start = pos + 1;
    }
  }
  this.bMarks.push(s2.length);
  this.eMarks.push(s2.length);
  this.tShift.push(0);
  this.sCount.push(0);
  this.bsCount.push(0);
  this.lineMax = this.bMarks.length - 1;
}
StateBlock.prototype.push = function(type, tag, nesting) {
  const token = new Token(type, tag, nesting);
  token.block = true;
  if (nesting < 0) this.level--;
  token.level = this.level;
  if (nesting > 0) this.level++;
  this.tokens.push(token);
  return token;
};
StateBlock.prototype.isEmpty = function isEmpty(line) {
  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];
};
StateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {
  for (let max = this.lineMax; from < max; from++) {
    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {
      break;
    }
  }
  return from;
};
StateBlock.prototype.skipSpaces = function skipSpaces(pos) {
  for (let max = this.src.length; pos < max; pos++) {
    const ch2 = this.src.charCodeAt(pos);
    if (!isSpace(ch2)) {
      break;
    }
  }
  return pos;
};
StateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {
  if (pos <= min) {
    return pos;
  }
  while (pos > min) {
    if (!isSpace(this.src.charCodeAt(--pos))) {
      return pos + 1;
    }
  }
  return pos;
};
StateBlock.prototype.skipChars = function skipChars(pos, code2) {
  for (let max = this.src.length; pos < max; pos++) {
    if (this.src.charCodeAt(pos) !== code2) {
      break;
    }
  }
  return pos;
};
StateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code2, min) {
  if (pos <= min) {
    return pos;
  }
  while (pos > min) {
    if (code2 !== this.src.charCodeAt(--pos)) {
      return pos + 1;
    }
  }
  return pos;
};
StateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {
  if (begin >= end) {
    return "";
  }
  const queue = new Array(end - begin);
  for (let i2 = 0, line = begin; line < end; line++, i2++) {
    let lineIndent = 0;
    const lineStart = this.bMarks[line];
    let first = lineStart;
    let last;
    if (line + 1 < end || keepLastLF) {
      last = this.eMarks[line] + 1;
    } else {
      last = this.eMarks[line];
    }
    while (first < last && lineIndent < indent) {
      const ch2 = this.src.charCodeAt(first);
      if (isSpace(ch2)) {
        if (ch2 === 9) {
          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;
        } else {
          lineIndent++;
        }
      } else if (first - lineStart < this.tShift[line]) {
        lineIndent++;
      } else {
        break;
      }
      first++;
    }
    if (lineIndent > indent) {
      queue[i2] = new Array(lineIndent - indent + 1).join(" ") + this.src.slice(first, last);
    } else {
      queue[i2] = this.src.slice(first, last);
    }
  }
  return queue.join("");
};
StateBlock.prototype.Token = Token;
const MAX_AUTOCOMPLETED_CELLS = 65536;
function getLine(state, line) {
  const pos = state.bMarks[line] + state.tShift[line];
  const max = state.eMarks[line];
  return state.src.slice(pos, max);
}
function escapedSplit(str) {
  const result = [];
  const max = str.length;
  let pos = 0;
  let ch2 = str.charCodeAt(pos);
  let isEscaped = false;
  let lastPos = 0;
  let current = "";
  while (pos < max) {
    if (ch2 === 124) {
      if (!isEscaped) {
        result.push(current + str.substring(lastPos, pos));
        current = "";
        lastPos = pos + 1;
      } else {
        current += str.substring(lastPos, pos - 1);
        lastPos = pos;
      }
    }
    isEscaped = ch2 === 92;
    pos++;
    ch2 = str.charCodeAt(pos);
  }
  result.push(current + str.substring(lastPos));
  return result;
}
function table(state, startLine, endLine, silent) {
  if (startLine + 2 > endLine) {
    return false;
  }
  let nextLine = startLine + 1;
  if (state.sCount[nextLine] < state.blkIndent) {
    return false;
  }
  if (state.sCount[nextLine] - state.blkIndent >= 4) {
    return false;
  }
  let pos = state.bMarks[nextLine] + state.tShift[nextLine];
  if (pos >= state.eMarks[nextLine]) {
    return false;
  }
  const firstCh = state.src.charCodeAt(pos++);
  if (firstCh !== 124 && firstCh !== 45 && firstCh !== 58) {
    return false;
  }
  if (pos >= state.eMarks[nextLine]) {
    return false;
  }
  const secondCh = state.src.charCodeAt(pos++);
  if (secondCh !== 124 && secondCh !== 45 && secondCh !== 58 && !isSpace(secondCh)) {
    return false;
  }
  if (firstCh === 45 && isSpace(secondCh)) {
    return false;
  }
  while (pos < state.eMarks[nextLine]) {
    const ch2 = state.src.charCodeAt(pos);
    if (ch2 !== 124 && ch2 !== 45 && ch2 !== 58 && !isSpace(ch2)) {
      return false;
    }
    pos++;
  }
  let lineText = getLine(state, startLine + 1);
  let columns = lineText.split("|");
  const aligns = [];
  for (let i2 = 0; i2 < columns.length; i2++) {
    const t5 = columns[i2].trim();
    if (!t5) {
      if (i2 === 0 || i2 === columns.length - 1) {
        continue;
      } else {
        return false;
      }
    }
    if (!/^:?-+:?$/.test(t5)) {
      return false;
    }
    if (t5.charCodeAt(t5.length - 1) === 58) {
      aligns.push(t5.charCodeAt(0) === 58 ? "center" : "right");
    } else if (t5.charCodeAt(0) === 58) {
      aligns.push("left");
    } else {
      aligns.push("");
    }
  }
  lineText = getLine(state, startLine).trim();
  if (lineText.indexOf("|") === -1) {
    return false;
  }
  if (state.sCount[startLine] - state.blkIndent >= 4) {
    return false;
  }
  columns = escapedSplit(lineText);
  if (columns.length && columns[0] === "") columns.shift();
  if (columns.length && columns[columns.length - 1] === "") columns.pop();
  const columnCount = columns.length;
  if (columnCount === 0 || columnCount !== aligns.length) {
    return false;
  }
  if (silent) {
    return true;
  }
  const oldParentType = state.parentType;
  state.parentType = "table";
  const terminatorRules = state.md.block.ruler.getRules("blockquote");
  const token_to = state.push("table_open", "table", 1);
  const tableLines = [startLine, 0];
  token_to.map = tableLines;
  const token_tho = state.push("thead_open", "thead", 1);
  token_tho.map = [startLine, startLine + 1];
  const token_htro = state.push("tr_open", "tr", 1);
  token_htro.map = [startLine, startLine + 1];
  for (let i2 = 0; i2 < columns.length; i2++) {
    const token_ho = state.push("th_open", "th", 1);
    if (aligns[i2]) {
      token_ho.attrs = [["style", "text-align:" + aligns[i2]]];
    }
    const token_il = state.push("inline", "", 0);
    token_il.content = columns[i2].trim();
    token_il.children = [];
    state.push("th_close", "th", -1);
  }
  state.push("tr_close", "tr", -1);
  state.push("thead_close", "thead", -1);
  let tbodyLines;
  let autocompletedCells = 0;
  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {
    if (state.sCount[nextLine] < state.blkIndent) {
      break;
    }
    let terminate = false;
    for (let i2 = 0, l2 = terminatorRules.length; i2 < l2; i2++) {
      if (terminatorRules[i2](state, nextLine, endLine, true)) {
        terminate = true;
        break;
      }
    }
    if (terminate) {
      break;
    }
    lineText = getLine(state, nextLine).trim();
    if (!lineText) {
      break;
    }
    if (state.sCount[nextLine] - state.blkIndent >= 4) {
      break;
    }
    columns = escapedSplit(lineText);
    if (columns.length && columns[0] === "") columns.shift();
    if (columns.length && columns[columns.length - 1] === "") columns.pop();
    autocompletedCells += columnCount - columns.length;
    if (autocompletedCells > MAX_AUTOCOMPLETED_CELLS) {
      break;
    }
    if (nextLine === startLine + 2) {
      const token_tbo = state.push("tbody_open", "tbody", 1);
      token_tbo.map = tbodyLines = [startLine + 2, 0];
    }
    const token_tro = state.push("tr_open", "tr", 1);
    token_tro.map = [nextLine, nextLine + 1];
    for (let i2 = 0; i2 < columnCount; i2++) {
      const token_tdo = state.push("td_open", "td", 1);
      if (aligns[i2]) {
        token_tdo.attrs = [["style", "text-align:" + aligns[i2]]];
      }
      const token_il = state.push("inline", "", 0);
      token_il.content = columns[i2] ? columns[i2].trim() : "";
      token_il.children = [];
      state.push("td_close", "td", -1);
    }
    state.push("tr_close", "tr", -1);
  }
  if (tbodyLines) {
    state.push("tbody_close", "tbody", -1);
    tbodyLines[1] = nextLine;
  }
  state.push("table_close", "table", -1);
  tableLines[1] = nextLine;
  state.parentType = oldParentType;
  state.line = nextLine;
  return true;
}
function code(state, startLine, endLine) {
  if (state.sCount[startLine] - state.blkIndent < 4) {
    return false;
  }
  let nextLine = startLine + 1;
  let last = nextLine;
  while (nextLine < endLine) {
    if (state.isEmpty(nextLine)) {
      nextLine++;
      continue;
    }
    if (state.sCount[nextLine] - state.blkIndent >= 4) {
      nextLine++;
      last = nextLine;
      continue;
    }
    break;
  }
  state.line = last;
  const token = state.push("code_block", "code", 0);
  token.content = state.getLines(startLine, last, 4 + state.blkIndent, false) + "\n";
  token.map = [startLine, state.line];
  return true;
}
function fence(state, startLine, endLine, silent) {
  let pos = state.bMarks[startLine] + state.tShift[startLine];
  let max = state.eMarks[startLine];
  if (state.sCount[startLine] - state.blkIndent >= 4) {
    return false;
  }
  if (pos + 3 > max) {
    return false;
  }
  const marker = state.src.charCodeAt(pos);
  if (marker !== 126 && marker !== 96) {
    return false;
  }
  let mem = pos;
  pos = state.skipChars(pos, marker);
  let len = pos - mem;
  if (len < 3) {
    return false;
  }
  const markup = state.src.slice(mem, pos);
  const params = state.src.slice(pos, max);
  if (marker === 96) {
    if (params.indexOf(String.fromCharCode(marker)) >= 0) {
      return false;
    }
  }
  if (silent) {
    return true;
  }
  let nextLine = startLine;
  let haveEndMarker = false;
  for (; ; ) {
    nextLine++;
    if (nextLine >= endLine) {
      break;
    }
    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];
    max = state.eMarks[nextLine];
    if (pos < max && state.sCount[nextLine] < state.blkIndent) {
      break;
    }
    if (state.src.charCodeAt(pos) !== marker) {
      continue;
    }
    if (state.sCount[nextLine] - state.blkIndent >= 4) {
      continue;
    }
    pos = state.skipChars(pos, marker);
    if (pos - mem < len) {
      continue;
    }
    pos = state.skipSpaces(pos);
    if (pos < max) {
      continue;
    }
    haveEndMarker = true;
    break;
  }
  len = state.sCount[startLine];
  state.line = nextLine + (haveEndMarker ? 1 : 0);
  const token = state.push("fence", "code", 0);
  token.info = params;
  token.content = state.getLines(startLine + 1, nextLine, len, true);
  token.markup = markup;
  token.map = [startLine, state.line];
  return true;
}
function blockquote(state, startLine, endLine, silent) {
  let pos = state.bMarks[startLine] + state.tShift[startLine];
  let max = state.eMarks[startLine];
  const oldLineMax = state.lineMax;
  if (state.sCount[startLine] - state.blkIndent >= 4) {
    return false;
  }
  if (state.src.charCodeAt(pos) !== 62) {
    return false;
  }
  if (silent) {
    return true;
  }
  const oldBMarks = [];
  const oldBSCount = [];
  const oldSCount = [];
  const oldTShift = [];
  const terminatorRules = state.md.block.ruler.getRules("blockquote");
  const oldParentType = state.parentType;
  state.parentType = "blockquote";
  let lastLineEmpty = false;
  let nextLine;
  for (nextLine = startLine; nextLine < endLine; nextLine++) {
    const isOutdented = state.sCount[nextLine] < state.blkIndent;
    pos = state.bMarks[nextLine] + state.tShift[nextLine];
    max = state.eMarks[nextLine];
    if (pos >= max) {
      break;
    }
    if (state.src.charCodeAt(pos++) === 62 && !isOutdented) {
      let initial = state.sCount[nextLine] + 1;
      let spaceAfterMarker;
      let adjustTab;
      if (state.src.charCodeAt(pos) === 32) {
        pos++;
        initial++;
        adjustTab = false;
        spaceAfterMarker = true;
      } else if (state.src.charCodeAt(pos) === 9) {
        spaceAfterMarker = true;
        if ((state.bsCount[nextLine] + initial) % 4 === 3) {
          pos++;
          initial++;
          adjustTab = false;
        } else {
          adjustTab = true;
        }
      } else {
        spaceAfterMarker = false;
      }
      let offset = initial;
      oldBMarks.push(state.bMarks[nextLine]);
      state.bMarks[nextLine] = pos;
      while (pos < max) {
        const ch2 = state.src.charCodeAt(pos);
        if (isSpace(ch2)) {
          if (ch2 === 9) {
            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;
          } else {
            offset++;
          }
        } else {
          break;
        }
        pos++;
      }
      lastLineEmpty = pos >= max;
      oldBSCount.push(state.bsCount[nextLine]);
      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);
      oldSCount.push(state.sCount[nextLine]);
      state.sCount[nextLine] = offset - initial;
      oldTShift.push(state.tShift[nextLine]);
      state.tShift[nextLine] = pos - state.bMarks[nextLine];
      continue;
    }
    if (lastLineEmpty) {
      break;
    }
    let terminate = false;
    for (let i2 = 0, l2 = terminatorRules.length; i2 < l2; i2++) {
      if (terminatorRules[i2](state, nextLine, endLine, true)) {
        terminate = true;
        break;
      }
    }
    if (terminate) {
      state.lineMax = nextLine;
      if (state.blkIndent !== 0) {
        oldBMarks.push(state.bMarks[nextLine]);
        oldBSCount.push(state.bsCount[nextLine]);
        oldTShift.push(state.tShift[nextLine]);
        oldSCount.push(state.sCount[nextLine]);
        state.sCount[nextLine] -= state.blkIndent;
      }
      break;
    }
    oldBMarks.push(state.bMarks[nextLine]);
    oldBSCount.push(state.bsCount[nextLine]);
    oldTShift.push(state.tShift[nextLine]);
    oldSCount.push(state.sCount[nextLine]);
    state.sCount[nextLine] = -1;
  }
  const oldIndent = state.blkIndent;
  state.blkIndent = 0;
  const token_o = state.push("blockquote_open", "blockquote", 1);
  token_o.markup = ">";
  const lines = [startLine, 0];
  token_o.map = lines;
  state.md.block.tokenize(state, startLine, nextLine);
  const token_c = state.push("blockquote_close", "blockquote", -1);
  token_c.markup = ">";
  state.lineMax = oldLineMax;
  state.parentType = oldParentType;
  lines[1] = state.line;
  for (let i2 = 0; i2 < oldTShift.length; i2++) {
    state.bMarks[i2 + startLine] = oldBMarks[i2];
    state.tShift[i2 + startLine] = oldTShift[i2];
    state.sCount[i2 + startLine] = oldSCount[i2];
    state.bsCount[i2 + startLine] = oldBSCount[i2];
  }
  state.blkIndent = oldIndent;
  return true;
}
function hr$1(state, startLine, endLine, silent) {
  const max = state.eMarks[startLine];
  if (state.sCount[startLine] - state.blkIndent >= 4) {
    return false;
  }
  let pos = state.bMarks[startLine] + state.tShift[startLine];
  const marker = state.src.charCodeAt(pos++);
  if (marker !== 42 && marker !== 45 && marker !== 95) {
    return false;
  }
  let cnt = 1;
  while (pos < max) {
    const ch2 = state.src.charCodeAt(pos++);
    if (ch2 !== marker && !isSpace(ch2)) {
      return false;
    }
    if (ch2 === marker) {
      cnt++;
    }
  }
  if (cnt < 3) {
    return false;
  }
  if (silent) {
    return true;
  }
  state.line = startLine + 1;
  const token = state.push("hr", "hr", 0);
  token.map = [startLine, state.line];
  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));
  return true;
}
function skipBulletListMarker(state, startLine) {
  const max = state.eMarks[startLine];
  let pos = state.bMarks[startLine] + state.tShift[startLine];
  const marker = state.src.charCodeAt(pos++);
  if (marker !== 42 && marker !== 45 && marker !== 43) {
    return -1;
  }
  if (pos < max) {
    const ch2 = state.src.charCodeAt(pos);
    if (!isSpace(ch2)) {
      return -1;
    }
  }
  return pos;
}
function skipOrderedListMarker(state, startLine) {
  const start = state.bMarks[startLine] + state.tShift[startLine];
  const max = state.eMarks[startLine];
  let pos = start;
  if (pos + 1 >= max) {
    return -1;
  }
  let ch2 = state.src.charCodeAt(pos++);
  if (ch2 < 48 || ch2 > 57) {
    return -1;
  }
  for (; ; ) {
    if (pos >= max) {
      return -1;
    }
    ch2 = state.src.charCodeAt(pos++);
    if (ch2 >= 48 && ch2 <= 57) {
      if (pos - start >= 10) {
        return -1;
      }
      continue;
    }
    if (ch2 === 41 || ch2 === 46) {
      break;
    }
    return -1;
  }
  if (pos < max) {
    ch2 = state.src.charCodeAt(pos);
    if (!isSpace(ch2)) {
      return -1;
    }
  }
  return pos;
}
function markTightParagraphs(state, idx) {
  const level = state.level + 2;
  for (let i2 = idx + 2, l2 = state.tokens.length - 2; i2 < l2; i2++) {
    if (state.tokens[i2].level === level && state.tokens[i2].type === "paragraph_open") {
      state.tokens[i2 + 2].hidden = true;
      state.tokens[i2].hidden = true;
      i2 += 2;
    }
  }
}
function list(state, startLine, endLine, silent) {
  let max, pos, start, token;
  let nextLine = startLine;
  let tight = true;
  if (state.sCount[nextLine] - state.blkIndent >= 4) {
    return false;
  }
  if (state.listIndent >= 0 && state.sCount[nextLine] - state.listIndent >= 4 && state.sCount[nextLine] < state.blkIndent) {
    return false;
  }
  let isTerminatingParagraph = false;
  if (silent && state.parentType === "paragraph") {
    if (state.sCount[nextLine] >= state.blkIndent) {
      isTerminatingParagraph = true;
    }
  }
  let isOrdered;
  let markerValue;
  let posAfterMarker;
  if ((posAfterMarker = skipOrderedListMarker(state, nextLine)) >= 0) {
    isOrdered = true;
    start = state.bMarks[nextLine] + state.tShift[nextLine];
    markerValue = Number(state.src.slice(start, posAfterMarker - 1));
    if (isTerminatingParagraph && markerValue !== 1) return false;
  } else if ((posAfterMarker = skipBulletListMarker(state, nextLine)) >= 0) {
    isOrdered = false;
  } else {
    return false;
  }
  if (isTerminatingParagraph) {
    if (state.skipSpaces(posAfterMarker) >= state.eMarks[nextLine]) return false;
  }
  if (silent) {
    return true;
  }
  const markerCharCode = state.src.charCodeAt(posAfterMarker - 1);
  const listTokIdx = state.tokens.length;
  if (isOrdered) {
    token = state.push("ordered_list_open", "ol", 1);
    if (markerValue !== 1) {
      token.attrs = [["start", markerValue]];
    }
  } else {
    token = state.push("bullet_list_open", "ul", 1);
  }
  const listLines = [nextLine, 0];
  token.map = listLines;
  token.markup = String.fromCharCode(markerCharCode);
  let prevEmptyEnd = false;
  const terminatorRules = state.md.block.ruler.getRules("list");
  const oldParentType = state.parentType;
  state.parentType = "list";
  while (nextLine < endLine) {
    pos = posAfterMarker;
    max = state.eMarks[nextLine];
    const initial = state.sCount[nextLine] + posAfterMarker - (state.bMarks[nextLine] + state.tShift[nextLine]);
    let offset = initial;
    while (pos < max) {
      const ch2 = state.src.charCodeAt(pos);
      if (ch2 === 9) {
        offset += 4 - (offset + state.bsCount[nextLine]) % 4;
      } else if (ch2 === 32) {
        offset++;
      } else {
        break;
      }
      pos++;
    }
    const contentStart = pos;
    let indentAfterMarker;
    if (contentStart >= max) {
      indentAfterMarker = 1;
    } else {
      indentAfterMarker = offset - initial;
    }
    if (indentAfterMarker > 4) {
      indentAfterMarker = 1;
    }
    const indent = initial + indentAfterMarker;
    token = state.push("list_item_open", "li", 1);
    token.markup = String.fromCharCode(markerCharCode);
    const itemLines = [nextLine, 0];
    token.map = itemLines;
    if (isOrdered) {
      token.info = state.src.slice(start, posAfterMarker - 1);
    }
    const oldTight = state.tight;
    const oldTShift = state.tShift[nextLine];
    const oldSCount = state.sCount[nextLine];
    const oldListIndent = state.listIndent;
    state.listIndent = state.blkIndent;
    state.blkIndent = indent;
    state.tight = true;
    state.tShift[nextLine] = contentStart - state.bMarks[nextLine];
    state.sCount[nextLine] = offset;
    if (contentStart >= max && state.isEmpty(nextLine + 1)) {
      state.line = Math.min(state.line + 2, endLine);
    } else {
      state.md.block.tokenize(state, nextLine, endLine, true);
    }
    if (!state.tight || prevEmptyEnd) {
      tight = false;
    }
    prevEmptyEnd = state.line - nextLine > 1 && state.isEmpty(state.line - 1);
    state.blkIndent = state.listIndent;
    state.listIndent = oldListIndent;
    state.tShift[nextLine] = oldTShift;
    state.sCount[nextLine] = oldSCount;
    state.tight = oldTight;
    token = state.push("list_item_close", "li", -1);
    token.markup = String.fromCharCode(markerCharCode);
    nextLine = state.line;
    itemLines[1] = nextLine;
    if (nextLine >= endLine) {
      break;
    }
    if (state.sCount[nextLine] < state.blkIndent) {
      break;
    }
    if (state.sCount[nextLine] - state.blkIndent >= 4) {
      break;
    }
    let terminate = false;
    for (let i2 = 0, l2 = terminatorRules.length; i2 < l2; i2++) {
      if (terminatorRules[i2](state, nextLine, endLine, true)) {
        terminate = true;
        break;
      }
    }
    if (terminate) {
      break;
    }
    if (isOrdered) {
      posAfterMarker = skipOrderedListMarker(state, nextLine);
      if (posAfterMarker < 0) {
        break;
      }
      start = state.bMarks[nextLine] + state.tShift[nextLine];
    } else {
      posAfterMarker = skipBulletListMarker(state, nextLine);
      if (posAfterMarker < 0) {
        break;
      }
    }
    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) {
      break;
    }
  }
  if (isOrdered) {
    token = state.push("ordered_list_close", "ol", -1);
  } else {
    token = state.push("bullet_list_close", "ul", -1);
  }
  token.markup = String.fromCharCode(markerCharCode);
  listLines[1] = nextLine;
  state.line = nextLine;
  state.parentType = oldParentType;
  if (tight) {
    markTightParagraphs(state, listTokIdx);
  }
  return true;
}
function reference(state, startLine, _endLine, silent) {
  let pos = state.bMarks[startLine] + state.tShift[startLine];
  let max = state.eMarks[startLine];
  let nextLine = startLine + 1;
  if (state.sCount[startLine] - state.blkIndent >= 4) {
    return false;
  }
  if (state.src.charCodeAt(pos) !== 91) {
    return false;
  }
  function getNextLine(nextLine2) {
    const endLine = state.lineMax;
    if (nextLine2 >= endLine || state.isEmpty(nextLine2)) {
      return null;
    }
    let isContinuation = false;
    if (state.sCount[nextLine2] - state.blkIndent > 3) {
      isContinuation = true;
    }
    if (state.sCount[nextLine2] < 0) {
      isContinuation = true;
    }
    if (!isContinuation) {
      const terminatorRules = state.md.block.ruler.getRules("reference");
      const oldParentType = state.parentType;
      state.parentType = "reference";
      let terminate = false;
      for (let i2 = 0, l2 = terminatorRules.length; i2 < l2; i2++) {
        if (terminatorRules[i2](state, nextLine2, endLine, true)) {
          terminate = true;
          break;
        }
      }
      state.parentType = oldParentType;
      if (terminate) {
        return null;
      }
    }
    const pos2 = state.bMarks[nextLine2] + state.tShift[nextLine2];
    const max2 = state.eMarks[nextLine2];
    return state.src.slice(pos2, max2 + 1);
  }
  let str = state.src.slice(pos, max + 1);
  max = str.length;
  let labelEnd = -1;
  for (pos = 1; pos < max; pos++) {
    const ch2 = str.charCodeAt(pos);
    if (ch2 === 91) {
      return false;
    } else if (ch2 === 93) {
      labelEnd = pos;
      break;
    } else if (ch2 === 10) {
      const lineContent = getNextLine(nextLine);
      if (lineContent !== null) {
        str += lineContent;
        max = str.length;
        nextLine++;
      }
    } else if (ch2 === 92) {
      pos++;
      if (pos < max && str.charCodeAt(pos) === 10) {
        const lineContent = getNextLine(nextLine);
        if (lineContent !== null) {
          str += lineContent;
          max = str.length;
          nextLine++;
        }
      }
    }
  }
  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 58) {
    return false;
  }
  for (pos = labelEnd + 2; pos < max; pos++) {
    const ch2 = str.charCodeAt(pos);
    if (ch2 === 10) {
      const lineContent = getNextLine(nextLine);
      if (lineContent !== null) {
        str += lineContent;
        max = str.length;
        nextLine++;
      }
    } else if (isSpace(ch2)) ;
    else {
      break;
    }
  }
  const destRes = state.md.helpers.parseLinkDestination(str, pos, max);
  if (!destRes.ok) {
    return false;
  }
  const href = state.md.normalizeLink(destRes.str);
  if (!state.md.validateLink(href)) {
    return false;
  }
  pos = destRes.pos;
  const destEndPos = pos;
  const destEndLineNo = nextLine;
  const start = pos;
  for (; pos < max; pos++) {
    const ch2 = str.charCodeAt(pos);
    if (ch2 === 10) {
      const lineContent = getNextLine(nextLine);
      if (lineContent !== null) {
        str += lineContent;
        max = str.length;
        nextLine++;
      }
    } else if (isSpace(ch2)) ;
    else {
      break;
    }
  }
  let titleRes = state.md.helpers.parseLinkTitle(str, pos, max);
  while (titleRes.can_continue) {
    const lineContent = getNextLine(nextLine);
    if (lineContent === null) break;
    str += lineContent;
    pos = max;
    max = str.length;
    nextLine++;
    titleRes = state.md.helpers.parseLinkTitle(str, pos, max, titleRes);
  }
  let title;
  if (pos < max && start !== pos && titleRes.ok) {
    title = titleRes.str;
    pos = titleRes.pos;
  } else {
    title = "";
    pos = destEndPos;
    nextLine = destEndLineNo;
  }
  while (pos < max) {
    const ch2 = str.charCodeAt(pos);
    if (!isSpace(ch2)) {
      break;
    }
    pos++;
  }
  if (pos < max && str.charCodeAt(pos) !== 10) {
    if (title) {
      title = "";
      pos = destEndPos;
      nextLine = destEndLineNo;
      while (pos < max) {
        const ch2 = str.charCodeAt(pos);
        if (!isSpace(ch2)) {
          break;
        }
        pos++;
      }
    }
  }
  if (pos < max && str.charCodeAt(pos) !== 10) {
    return false;
  }
  const label = normalizeReference(str.slice(1, labelEnd));
  if (!label) {
    return false;
  }
  if (silent) {
    return true;
  }
  if (typeof state.env.references === "undefined") {
    state.env.references = {};
  }
  if (typeof state.env.references[label] === "undefined") {
    state.env.references[label] = { title, href };
  }
  state.line = nextLine;
  return true;
}
var block_names = [
  "address",
  "article",
  "aside",
  "base",
  "basefont",
  "blockquote",
  "body",
  "caption",
  "center",
  "col",
  "colgroup",
  "dd",
  "details",
  "dialog",
  "dir",
  "div",
  "dl",
  "dt",
  "fieldset",
  "figcaption",
  "figure",
  "footer",
  "form",
  "frame",
  "frameset",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "head",
  "header",
  "hr",
  "html",
  "iframe",
  "legend",
  "li",
  "link",
  "main",
  "menu",
  "menuitem",
  "nav",
  "noframes",
  "ol",
  "optgroup",
  "option",
  "p",
  "param",
  "search",
  "section",
  "summary",
  "table",
  "tbody",
  "td",
  "tfoot",
  "th",
  "thead",
  "title",
  "tr",
  "track",
  "ul"
];
const attr_name = "[a-zA-Z_:][a-zA-Z0-9:._-]*";
const unquoted = "[^\"'=<>`\\x00-\\x20]+";
const single_quoted = "'[^']*'";
const double_quoted = '"[^"]*"';
const attr_value = "(?:" + unquoted + "|" + single_quoted + "|" + double_quoted + ")";
const attribute = "(?:\\s+" + attr_name + "(?:\\s*=\\s*" + attr_value + ")?)";
const open_tag = "<[A-Za-z][A-Za-z0-9\\-]*" + attribute + "*\\s*\\/?>";
const close_tag = "<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";
const comment = "<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->";
const processing = "<[?][\\s\\S]*?[?]>";
const declaration = "<![A-Za-z][^>]*>";
const cdata = "<!\\[CDATA\\[[\\s\\S]*?\\]\\]>";
const HTML_TAG_RE = new RegExp("^(?:" + open_tag + "|" + close_tag + "|" + comment + "|" + processing + "|" + declaration + "|" + cdata + ")");
const HTML_OPEN_CLOSE_TAG_RE = new RegExp("^(?:" + open_tag + "|" + close_tag + ")");
const HTML_SEQUENCES = [
  [/^<(script|pre|style|textarea)(?=(\s|>|$))/i, /<\/(script|pre|style|textarea)>/i, true],
  [/^<!--/, /-->/, true],
  [/^<\?/, /\?>/, true],
  [/^<![A-Z]/, />/, true],
  [/^<!\[CDATA\[/, /\]\]>/, true],
  [new RegExp("^</?(" + block_names.join("|") + ")(?=(\\s|/?>|$))", "i"), /^$/, true],
  [new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + "\\s*$"), /^$/, false]
];
function html_block(state, startLine, endLine, silent) {
  let pos = state.bMarks[startLine] + state.tShift[startLine];
  let max = state.eMarks[startLine];
  if (state.sCount[startLine] - state.blkIndent >= 4) {
    return false;
  }
  if (!state.md.options.html) {
    return false;
  }
  if (state.src.charCodeAt(pos) !== 60) {
    return false;
  }
  let lineText = state.src.slice(pos, max);
  let i2 = 0;
  for (; i2 < HTML_SEQUENCES.length; i2++) {
    if (HTML_SEQUENCES[i2][0].test(lineText)) {
      break;
    }
  }
  if (i2 === HTML_SEQUENCES.length) {
    return false;
  }
  if (silent) {
    return HTML_SEQUENCES[i2][2];
  }
  let nextLine = startLine + 1;
  if (!HTML_SEQUENCES[i2][1].test(lineText)) {
    for (; nextLine < endLine; nextLine++) {
      if (state.sCount[nextLine] < state.blkIndent) {
        break;
      }
      pos = state.bMarks[nextLine] + state.tShift[nextLine];
      max = state.eMarks[nextLine];
      lineText = state.src.slice(pos, max);
      if (HTML_SEQUENCES[i2][1].test(lineText)) {
        if (lineText.length !== 0) {
          nextLine++;
        }
        break;
      }
    }
  }
  state.line = nextLine;
  const token = state.push("html_block", "", 0);
  token.map = [startLine, nextLine];
  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);
  return true;
}
function heading(state, startLine, endLine, silent) {
  let pos = state.bMarks[startLine] + state.tShift[startLine];
  let max = state.eMarks[startLine];
  if (state.sCount[startLine] - state.blkIndent >= 4) {
    return false;
  }
  let ch2 = state.src.charCodeAt(pos);
  if (ch2 !== 35 || pos >= max) {
    return false;
  }
  let level = 1;
  ch2 = state.src.charCodeAt(++pos);
  while (ch2 === 35 && pos < max && level <= 6) {
    level++;
    ch2 = state.src.charCodeAt(++pos);
  }
  if (level > 6 || pos < max && !isSpace(ch2)) {
    return false;
  }
  if (silent) {
    return true;
  }
  max = state.skipSpacesBack(max, pos);
  const tmp = state.skipCharsBack(max, 35, pos);
  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {
    max = tmp;
  }
  state.line = startLine + 1;
  const token_o = state.push("heading_open", "h" + String(level), 1);
  token_o.markup = "########".slice(0, level);
  token_o.map = [startLine, state.line];
  const token_i = state.push("inline", "", 0);
  token_i.content = state.src.slice(pos, max).trim();
  token_i.map = [startLine, state.line];
  token_i.children = [];
  const token_c = state.push("heading_close", "h" + String(level), -1);
  token_c.markup = "########".slice(0, level);
  return true;
}
function lheading(state, startLine, endLine) {
  const terminatorRules = state.md.block.ruler.getRules("paragraph");
  if (state.sCount[startLine] - state.blkIndent >= 4) {
    return false;
  }
  const oldParentType = state.parentType;
  state.parentType = "paragraph";
  let level = 0;
  let marker;
  let nextLine = startLine + 1;
  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {
    if (state.sCount[nextLine] - state.blkIndent > 3) {
      continue;
    }
    if (state.sCount[nextLine] >= state.blkIndent) {
      let pos = state.bMarks[nextLine] + state.tShift[nextLine];
      const max = state.eMarks[nextLine];
      if (pos < max) {
        marker = state.src.charCodeAt(pos);
        if (marker === 45 || marker === 61) {
          pos = state.skipChars(pos, marker);
          pos = state.skipSpaces(pos);
          if (pos >= max) {
            level = marker === 61 ? 1 : 2;
            break;
          }
        }
      }
    }
    if (state.sCount[nextLine] < 0) {
      continue;
    }
    let terminate = false;
    for (let i2 = 0, l2 = terminatorRules.length; i2 < l2; i2++) {
      if (terminatorRules[i2](state, nextLine, endLine, true)) {
        terminate = true;
        break;
      }
    }
    if (terminate) {
      break;
    }
  }
  if (!level) {
    return false;
  }
  const content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();
  state.line = nextLine + 1;
  const token_o = state.push("heading_open", "h" + String(level), 1);
  token_o.markup = String.fromCharCode(marker);
  token_o.map = [startLine, state.line];
  const token_i = state.push("inline", "", 0);
  token_i.content = content;
  token_i.map = [startLine, state.line - 1];
  token_i.children = [];
  const token_c = state.push("heading_close", "h" + String(level), -1);
  token_c.markup = String.fromCharCode(marker);
  state.parentType = oldParentType;
  return true;
}
function paragraph(state, startLine, endLine) {
  const terminatorRules = state.md.block.ruler.getRules("paragraph");
  const oldParentType = state.parentType;
  let nextLine = startLine + 1;
  state.parentType = "paragraph";
  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {
    if (state.sCount[nextLine] - state.blkIndent > 3) {
      continue;
    }
    if (state.sCount[nextLine] < 0) {
      continue;
    }
    let terminate = false;
    for (let i2 = 0, l2 = terminatorRules.length; i2 < l2; i2++) {
      if (terminatorRules[i2](state, nextLine, endLine, true)) {
        terminate = true;
        break;
      }
    }
    if (terminate) {
      break;
    }
  }
  const content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();
  state.line = nextLine;
  const token_o = state.push("paragraph_open", "p", 1);
  token_o.map = [startLine, state.line];
  const token_i = state.push("inline", "", 0);
  token_i.content = content;
  token_i.map = [startLine, state.line];
  token_i.children = [];
  state.push("paragraph_close", "p", -1);
  state.parentType = oldParentType;
  return true;
}
const _rules$1 = [
  // First 2 params - rule name & source. Secondary array - list of rules,
  // which can be terminated by this one.
  ["table", table, ["paragraph", "reference"]],
  ["code", code],
  ["fence", fence, ["paragraph", "reference", "blockquote", "list"]],
  ["blockquote", blockquote, ["paragraph", "reference", "blockquote", "list"]],
  ["hr", hr$1, ["paragraph", "reference", "blockquote", "list"]],
  ["list", list, ["paragraph", "reference", "blockquote"]],
  ["reference", reference],
  ["html_block", html_block, ["paragraph", "reference", "blockquote"]],
  ["heading", heading, ["paragraph", "reference", "blockquote"]],
  ["lheading", lheading],
  ["paragraph", paragraph]
];
function ParserBlock() {
  this.ruler = new Ruler();
  for (let i2 = 0; i2 < _rules$1.length; i2++) {
    this.ruler.push(_rules$1[i2][0], _rules$1[i2][1], { alt: (_rules$1[i2][2] || []).slice() });
  }
}
ParserBlock.prototype.tokenize = function(state, startLine, endLine) {
  const rules = this.ruler.getRules("");
  const len = rules.length;
  const maxNesting = state.md.options.maxNesting;
  let line = startLine;
  let hasEmptyLines = false;
  while (line < endLine) {
    state.line = line = state.skipEmptyLines(line);
    if (line >= endLine) {
      break;
    }
    if (state.sCount[line] < state.blkIndent) {
      break;
    }
    if (state.level >= maxNesting) {
      state.line = endLine;
      break;
    }
    const prevLine = state.line;
    let ok2 = false;
    for (let i2 = 0; i2 < len; i2++) {
      ok2 = rules[i2](state, line, endLine, false);
      if (ok2) {
        if (prevLine >= state.line) {
          throw new Error("block rule didn't increment state.line");
        }
        break;
      }
    }
    if (!ok2) throw new Error("none of the block rules matched");
    state.tight = !hasEmptyLines;
    if (state.isEmpty(state.line - 1)) {
      hasEmptyLines = true;
    }
    line = state.line;
    if (line < endLine && state.isEmpty(line)) {
      hasEmptyLines = true;
      line++;
      state.line = line;
    }
  }
};
ParserBlock.prototype.parse = function(src, md2, env, outTokens) {
  if (!src) {
    return;
  }
  const state = new this.State(src, md2, env, outTokens);
  this.tokenize(state, state.line, state.lineMax);
};
ParserBlock.prototype.State = StateBlock;
function StateInline(src, md2, env, outTokens) {
  this.src = src;
  this.env = env;
  this.md = md2;
  this.tokens = outTokens;
  this.tokens_meta = Array(outTokens.length);
  this.pos = 0;
  this.posMax = this.src.length;
  this.level = 0;
  this.pending = "";
  this.pendingLevel = 0;
  this.cache = {};
  this.delimiters = [];
  this._prev_delimiters = [];
  this.backticks = {};
  this.backticksScanned = false;
  this.linkLevel = 0;
}
StateInline.prototype.pushPending = function() {
  const token = new Token("text", "", 0);
  token.content = this.pending;
  token.level = this.pendingLevel;
  this.tokens.push(token);
  this.pending = "";
  return token;
};
StateInline.prototype.push = function(type, tag, nesting) {
  if (this.pending) {
    this.pushPending();
  }
  const token = new Token(type, tag, nesting);
  let token_meta = null;
  if (nesting < 0) {
    this.level--;
    this.delimiters = this._prev_delimiters.pop();
  }
  token.level = this.level;
  if (nesting > 0) {
    this.level++;
    this._prev_delimiters.push(this.delimiters);
    this.delimiters = [];
    token_meta = { delimiters: this.delimiters };
  }
  this.pendingLevel = this.level;
  this.tokens.push(token);
  this.tokens_meta.push(token_meta);
  return token;
};
StateInline.prototype.scanDelims = function(start, canSplitWord) {
  const max = this.posMax;
  const marker = this.src.charCodeAt(start);
  const lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 32;
  let pos = start;
  while (pos < max && this.src.charCodeAt(pos) === marker) {
    pos++;
  }
  const count = pos - start;
  const nextChar = pos < max ? this.src.charCodeAt(pos) : 32;
  const isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));
  const isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));
  const isLastWhiteSpace = isWhiteSpace(lastChar);
  const isNextWhiteSpace = isWhiteSpace(nextChar);
  const left_flanking = !isNextWhiteSpace && (!isNextPunctChar || isLastWhiteSpace || isLastPunctChar);
  const right_flanking = !isLastWhiteSpace && (!isLastPunctChar || isNextWhiteSpace || isNextPunctChar);
  const can_open = left_flanking && (canSplitWord || !right_flanking || isLastPunctChar);
  const can_close = right_flanking && (canSplitWord || !left_flanking || isNextPunctChar);
  return { can_open, can_close, length: count };
};
StateInline.prototype.Token = Token;
function isTerminatorChar(ch2) {
  switch (ch2) {
    case 10:
    case 33:
    case 35:
    case 36:
    case 37:
    case 38:
    case 42:
    case 43:
    case 45:
    case 58:
    case 60:
    case 61:
    case 62:
    case 64:
    case 91:
    case 92:
    case 93:
    case 94:
    case 95:
    case 96:
    case 123:
    case 125:
    case 126:
      return true;
    default:
      return false;
  }
}
function text(state, silent) {
  let pos = state.pos;
  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {
    pos++;
  }
  if (pos === state.pos) {
    return false;
  }
  if (!silent) {
    state.pending += state.src.slice(state.pos, pos);
  }
  state.pos = pos;
  return true;
}
const SCHEME_RE = /(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;
function linkify(state, silent) {
  if (!state.md.options.linkify) return false;
  if (state.linkLevel > 0) return false;
  const pos = state.pos;
  const max = state.posMax;
  if (pos + 3 > max) return false;
  if (state.src.charCodeAt(pos) !== 58) return false;
  if (state.src.charCodeAt(pos + 1) !== 47) return false;
  if (state.src.charCodeAt(pos + 2) !== 47) return false;
  const match = state.pending.match(SCHEME_RE);
  if (!match) return false;
  const proto = match[1];
  const link2 = state.md.linkify.matchAtStart(state.src.slice(pos - proto.length));
  if (!link2) return false;
  let url = link2.url;
  if (url.length <= proto.length) return false;
  url = url.replace(/\*+$/, "");
  const fullUrl = state.md.normalizeLink(url);
  if (!state.md.validateLink(fullUrl)) return false;
  if (!silent) {
    state.pending = state.pending.slice(0, -proto.length);
    const token_o = state.push("link_open", "a", 1);
    token_o.attrs = [["href", fullUrl]];
    token_o.markup = "linkify";
    token_o.info = "auto";
    const token_t = state.push("text", "", 0);
    token_t.content = state.md.normalizeLinkText(url);
    const token_c = state.push("link_close", "a", -1);
    token_c.markup = "linkify";
    token_c.info = "auto";
  }
  state.pos += url.length - proto.length;
  return true;
}
function newline(state, silent) {
  let pos = state.pos;
  if (state.src.charCodeAt(pos) !== 10) {
    return false;
  }
  const pmax = state.pending.length - 1;
  const max = state.posMax;
  if (!silent) {
    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 32) {
      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 32) {
        let ws2 = pmax - 1;
        while (ws2 >= 1 && state.pending.charCodeAt(ws2 - 1) === 32) ws2--;
        state.pending = state.pending.slice(0, ws2);
        state.push("hardbreak", "br", 0);
      } else {
        state.pending = state.pending.slice(0, -1);
        state.push("softbreak", "br", 0);
      }
    } else {
      state.push("softbreak", "br", 0);
    }
  }
  pos++;
  while (pos < max && isSpace(state.src.charCodeAt(pos))) {
    pos++;
  }
  state.pos = pos;
  return true;
}
const ESCAPED = [];
for (let i2 = 0; i2 < 256; i2++) {
  ESCAPED.push(0);
}
"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(ch2) {
  ESCAPED[ch2.charCodeAt(0)] = 1;
});
function escape(state, silent) {
  let pos = state.pos;
  const max = state.posMax;
  if (state.src.charCodeAt(pos) !== 92) return false;
  pos++;
  if (pos >= max) return false;
  let ch1 = state.src.charCodeAt(pos);
  if (ch1 === 10) {
    if (!silent) {
      state.push("hardbreak", "br", 0);
    }
    pos++;
    while (pos < max) {
      ch1 = state.src.charCodeAt(pos);
      if (!isSpace(ch1)) break;
      pos++;
    }
    state.pos = pos;
    return true;
  }
  let escapedStr = state.src[pos];
  if (ch1 >= 55296 && ch1 <= 56319 && pos + 1 < max) {
    const ch2 = state.src.charCodeAt(pos + 1);
    if (ch2 >= 56320 && ch2 <= 57343) {
      escapedStr += state.src[pos + 1];
      pos++;
    }
  }
  const origStr = "\\" + escapedStr;
  if (!silent) {
    const token = state.push("text_special", "", 0);
    if (ch1 < 256 && ESCAPED[ch1] !== 0) {
      token.content = escapedStr;
    } else {
      token.content = origStr;
    }
    token.markup = origStr;
    token.info = "escape";
  }
  state.pos = pos + 1;
  return true;
}
function backtick(state, silent) {
  let pos = state.pos;
  const ch2 = state.src.charCodeAt(pos);
  if (ch2 !== 96) {
    return false;
  }
  const start = pos;
  pos++;
  const max = state.posMax;
  while (pos < max && state.src.charCodeAt(pos) === 96) {
    pos++;
  }
  const marker = state.src.slice(start, pos);
  const openerLength = marker.length;
  if (state.backticksScanned && (state.backticks[openerLength] || 0) <= start) {
    if (!silent) state.pending += marker;
    state.pos += openerLength;
    return true;
  }
  let matchEnd = pos;
  let matchStart;
  while ((matchStart = state.src.indexOf("`", matchEnd)) !== -1) {
    matchEnd = matchStart + 1;
    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 96) {
      matchEnd++;
    }
    const closerLength = matchEnd - matchStart;
    if (closerLength === openerLength) {
      if (!silent) {
        const token = state.push("code_inline", "code", 0);
        token.markup = marker;
        token.content = state.src.slice(pos, matchStart).replace(/\n/g, " ").replace(/^ (.+) $/, "$1");
      }
      state.pos = matchEnd;
      return true;
    }
    state.backticks[closerLength] = matchStart;
  }
  state.backticksScanned = true;
  if (!silent) state.pending += marker;
  state.pos += openerLength;
  return true;
}
function strikethrough_tokenize(state, silent) {
  const start = state.pos;
  const marker = state.src.charCodeAt(start);
  if (silent) {
    return false;
  }
  if (marker !== 126) {
    return false;
  }
  const scanned = state.scanDelims(state.pos, true);
  let len = scanned.length;
  const ch2 = String.fromCharCode(marker);
  if (len < 2) {
    return false;
  }
  let token;
  if (len % 2) {
    token = state.push("text", "", 0);
    token.content = ch2;
    len--;
  }
  for (let i2 = 0; i2 < len; i2 += 2) {
    token = state.push("text", "", 0);
    token.content = ch2 + ch2;
    state.delimiters.push({
      marker,
      length: 0,
      // disable "rule of 3" length checks meant for emphasis
      token: state.tokens.length - 1,
      end: -1,
      open: scanned.can_open,
      close: scanned.can_close
    });
  }
  state.pos += scanned.length;
  return true;
}
function postProcess$1(state, delimiters) {
  let token;
  const loneMarkers = [];
  const max = delimiters.length;
  for (let i2 = 0; i2 < max; i2++) {
    const startDelim = delimiters[i2];
    if (startDelim.marker !== 126) {
      continue;
    }
    if (startDelim.end === -1) {
      continue;
    }
    const endDelim = delimiters[startDelim.end];
    token = state.tokens[startDelim.token];
    token.type = "s_open";
    token.tag = "s";
    token.nesting = 1;
    token.markup = "~~";
    token.content = "";
    token = state.tokens[endDelim.token];
    token.type = "s_close";
    token.tag = "s";
    token.nesting = -1;
    token.markup = "~~";
    token.content = "";
    if (state.tokens[endDelim.token - 1].type === "text" && state.tokens[endDelim.token - 1].content === "~") {
      loneMarkers.push(endDelim.token - 1);
    }
  }
  while (loneMarkers.length) {
    const i2 = loneMarkers.pop();
    let j2 = i2 + 1;
    while (j2 < state.tokens.length && state.tokens[j2].type === "s_close") {
      j2++;
    }
    j2--;
    if (i2 !== j2) {
      token = state.tokens[j2];
      state.tokens[j2] = state.tokens[i2];
      state.tokens[i2] = token;
    }
  }
}
function strikethrough_postProcess(state) {
  const tokens_meta = state.tokens_meta;
  const max = state.tokens_meta.length;
  postProcess$1(state, state.delimiters);
  for (let curr = 0; curr < max; curr++) {
    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {
      postProcess$1(state, tokens_meta[curr].delimiters);
    }
  }
}
var r_strikethrough = {
  tokenize: strikethrough_tokenize,
  postProcess: strikethrough_postProcess
};
function emphasis_tokenize(state, silent) {
  const start = state.pos;
  const marker = state.src.charCodeAt(start);
  if (silent) {
    return false;
  }
  if (marker !== 95 && marker !== 42) {
    return false;
  }
  const scanned = state.scanDelims(state.pos, marker === 42);
  for (let i2 = 0; i2 < scanned.length; i2++) {
    const token = state.push("text", "", 0);
    token.content = String.fromCharCode(marker);
    state.delimiters.push({
      // Char code of the starting marker (number).
      //
      marker,
      // Total length of these series of delimiters.
      //
      length: scanned.length,
      // A position of the token this delimiter corresponds to.
      //
      token: state.tokens.length - 1,
      // If this delimiter is matched as a valid opener, `end` will be
      // equal to its position, otherwise it's `-1`.
      //
      end: -1,
      // Boolean flags that determine if this delimiter could open or close
      // an emphasis.
      //
      open: scanned.can_open,
      close: scanned.can_close
    });
  }
  state.pos += scanned.length;
  return true;
}
function postProcess(state, delimiters) {
  const max = delimiters.length;
  for (let i2 = max - 1; i2 >= 0; i2--) {
    const startDelim = delimiters[i2];
    if (startDelim.marker !== 95 && startDelim.marker !== 42) {
      continue;
    }
    if (startDelim.end === -1) {
      continue;
    }
    const endDelim = delimiters[startDelim.end];
    const isStrong = i2 > 0 && delimiters[i2 - 1].end === startDelim.end + 1 && // check that first two markers match and adjacent
    delimiters[i2 - 1].marker === startDelim.marker && delimiters[i2 - 1].token === startDelim.token - 1 && // check that last two markers are adjacent (we can safely assume they match)
    delimiters[startDelim.end + 1].token === endDelim.token + 1;
    const ch2 = String.fromCharCode(startDelim.marker);
    const token_o = state.tokens[startDelim.token];
    token_o.type = isStrong ? "strong_open" : "em_open";
    token_o.tag = isStrong ? "strong" : "em";
    token_o.nesting = 1;
    token_o.markup = isStrong ? ch2 + ch2 : ch2;
    token_o.content = "";
    const token_c = state.tokens[endDelim.token];
    token_c.type = isStrong ? "strong_close" : "em_close";
    token_c.tag = isStrong ? "strong" : "em";
    token_c.nesting = -1;
    token_c.markup = isStrong ? ch2 + ch2 : ch2;
    token_c.content = "";
    if (isStrong) {
      state.tokens[delimiters[i2 - 1].token].content = "";
      state.tokens[delimiters[startDelim.end + 1].token].content = "";
      i2--;
    }
  }
}
function emphasis_post_process(state) {
  const tokens_meta = state.tokens_meta;
  const max = state.tokens_meta.length;
  postProcess(state, state.delimiters);
  for (let curr = 0; curr < max; curr++) {
    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {
      postProcess(state, tokens_meta[curr].delimiters);
    }
  }
}
var r_emphasis = {
  tokenize: emphasis_tokenize,
  postProcess: emphasis_post_process
};
function link(state, silent) {
  let code2, label, res, ref;
  let href = "";
  let title = "";
  let start = state.pos;
  let parseReference = true;
  if (state.src.charCodeAt(state.pos) !== 91) {
    return false;
  }
  const oldPos = state.pos;
  const max = state.posMax;
  const labelStart = state.pos + 1;
  const labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);
  if (labelEnd < 0) {
    return false;
  }
  let pos = labelEnd + 1;
  if (pos < max && state.src.charCodeAt(pos) === 40) {
    parseReference = false;
    pos++;
    for (; pos < max; pos++) {
      code2 = state.src.charCodeAt(pos);
      if (!isSpace(code2) && code2 !== 10) {
        break;
      }
    }
    if (pos >= max) {
      return false;
    }
    start = pos;
    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);
    if (res.ok) {
      href = state.md.normalizeLink(res.str);
      if (state.md.validateLink(href)) {
        pos = res.pos;
      } else {
        href = "";
      }
      start = pos;
      for (; pos < max; pos++) {
        code2 = state.src.charCodeAt(pos);
        if (!isSpace(code2) && code2 !== 10) {
          break;
        }
      }
      res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);
      if (pos < max && start !== pos && res.ok) {
        title = res.str;
        pos = res.pos;
        for (; pos < max; pos++) {
          code2 = state.src.charCodeAt(pos);
          if (!isSpace(code2) && code2 !== 10) {
            break;
          }
        }
      }
    }
    if (pos >= max || state.src.charCodeAt(pos) !== 41) {
      parseReference = true;
    }
    pos++;
  }
  if (parseReference) {
    if (typeof state.env.references === "undefined") {
      return false;
    }
    if (pos < max && state.src.charCodeAt(pos) === 91) {
      start = pos + 1;
      pos = state.md.helpers.parseLinkLabel(state, pos);
      if (pos >= 0) {
        label = state.src.slice(start, pos++);
      } else {
        pos = labelEnd + 1;
      }
    } else {
      pos = labelEnd + 1;
    }
    if (!label) {
      label = state.src.slice(labelStart, labelEnd);
    }
    ref = state.env.references[normalizeReference(label)];
    if (!ref) {
      state.pos = oldPos;
      return false;
    }
    href = ref.href;
    title = ref.title;
  }
  if (!silent) {
    state.pos = labelStart;
    state.posMax = labelEnd;
    const token_o = state.push("link_open", "a", 1);
    const attrs = [["href", href]];
    token_o.attrs = attrs;
    if (title) {
      attrs.push(["title", title]);
    }
    state.linkLevel++;
    state.md.inline.tokenize(state);
    state.linkLevel--;
    state.push("link_close", "a", -1);
  }
  state.pos = pos;
  state.posMax = max;
  return true;
}
function image(state, silent) {
  let code2, content, label, pos, ref, res, title, start;
  let href = "";
  const oldPos = state.pos;
  const max = state.posMax;
  if (state.src.charCodeAt(state.pos) !== 33) {
    return false;
  }
  if (state.src.charCodeAt(state.pos + 1) !== 91) {
    return false;
  }
  const labelStart = state.pos + 2;
  const labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);
  if (labelEnd < 0) {
    return false;
  }
  pos = labelEnd + 1;
  if (pos < max && state.src.charCodeAt(pos) === 40) {
    pos++;
    for (; pos < max; pos++) {
      code2 = state.src.charCodeAt(pos);
      if (!isSpace(code2) && code2 !== 10) {
        break;
      }
    }
    if (pos >= max) {
      return false;
    }
    start = pos;
    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);
    if (res.ok) {
      href = state.md.normalizeLink(res.str);
      if (state.md.validateLink(href)) {
        pos = res.pos;
      } else {
        href = "";
      }
    }
    start = pos;
    for (; pos < max; pos++) {
      code2 = state.src.charCodeAt(pos);
      if (!isSpace(code2) && code2 !== 10) {
        break;
      }
    }
    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);
    if (pos < max && start !== pos && res.ok) {
      title = res.str;
      pos = res.pos;
      for (; pos < max; pos++) {
        code2 = state.src.charCodeAt(pos);
        if (!isSpace(code2) && code2 !== 10) {
          break;
        }
      }
    } else {
      title = "";
    }
    if (pos >= max || state.src.charCodeAt(pos) !== 41) {
      state.pos = oldPos;
      return false;
    }
    pos++;
  } else {
    if (typeof state.env.references === "undefined") {
      return false;
    }
    if (pos < max && state.src.charCodeAt(pos) === 91) {
      start = pos + 1;
      pos = state.md.helpers.parseLinkLabel(state, pos);
      if (pos >= 0) {
        label = state.src.slice(start, pos++);
      } else {
        pos = labelEnd + 1;
      }
    } else {
      pos = labelEnd + 1;
    }
    if (!label) {
      label = state.src.slice(labelStart, labelEnd);
    }
    ref = state.env.references[normalizeReference(label)];
    if (!ref) {
      state.pos = oldPos;
      return false;
    }
    href = ref.href;
    title = ref.title;
  }
  if (!silent) {
    content = state.src.slice(labelStart, labelEnd);
    const tokens = [];
    state.md.inline.parse(
      content,
      state.md,
      state.env,
      tokens
    );
    const token = state.push("image", "img", 0);
    const attrs = [["src", href], ["alt", ""]];
    token.attrs = attrs;
    token.children = tokens;
    token.content = content;
    if (title) {
      attrs.push(["title", title]);
    }
  }
  state.pos = pos;
  state.posMax = max;
  return true;
}
const EMAIL_RE = /^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/;
const AUTOLINK_RE = /^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;
function autolink(state, silent) {
  let pos = state.pos;
  if (state.src.charCodeAt(pos) !== 60) {
    return false;
  }
  const start = state.pos;
  const max = state.posMax;
  for (; ; ) {
    if (++pos >= max) return false;
    const ch2 = state.src.charCodeAt(pos);
    if (ch2 === 60) return false;
    if (ch2 === 62) break;
  }
  const url = state.src.slice(start + 1, pos);
  if (AUTOLINK_RE.test(url)) {
    const fullUrl = state.md.normalizeLink(url);
    if (!state.md.validateLink(fullUrl)) {
      return false;
    }
    if (!silent) {
      const token_o = state.push("link_open", "a", 1);
      token_o.attrs = [["href", fullUrl]];
      token_o.markup = "autolink";
      token_o.info = "auto";
      const token_t = state.push("text", "", 0);
      token_t.content = state.md.normalizeLinkText(url);
      const token_c = state.push("link_close", "a", -1);
      token_c.markup = "autolink";
      token_c.info = "auto";
    }
    state.pos += url.length + 2;
    return true;
  }
  if (EMAIL_RE.test(url)) {
    const fullUrl = state.md.normalizeLink("mailto:" + url);
    if (!state.md.validateLink(fullUrl)) {
      return false;
    }
    if (!silent) {
      const token_o = state.push("link_open", "a", 1);
      token_o.attrs = [["href", fullUrl]];
      token_o.markup = "autolink";
      token_o.info = "auto";
      const token_t = state.push("text", "", 0);
      token_t.content = state.md.normalizeLinkText(url);
      const token_c = state.push("link_close", "a", -1);
      token_c.markup = "autolink";
      token_c.info = "auto";
    }
    state.pos += url.length + 2;
    return true;
  }
  return false;
}
function isLinkOpen(str) {
  return /^<a[>\s]/i.test(str);
}
function isLinkClose(str) {
  return /^<\/a\s*>/i.test(str);
}
function isLetter(ch2) {
  const lc2 = ch2 | 32;
  return lc2 >= 97 && lc2 <= 122;
}
function html_inline(state, silent) {
  if (!state.md.options.html) {
    return false;
  }
  const max = state.posMax;
  const pos = state.pos;
  if (state.src.charCodeAt(pos) !== 60 || pos + 2 >= max) {
    return false;
  }
  const ch2 = state.src.charCodeAt(pos + 1);
  if (ch2 !== 33 && ch2 !== 63 && ch2 !== 47 && !isLetter(ch2)) {
    return false;
  }
  const match = state.src.slice(pos).match(HTML_TAG_RE);
  if (!match) {
    return false;
  }
  if (!silent) {
    const token = state.push("html_inline", "", 0);
    token.content = match[0];
    if (isLinkOpen(token.content)) state.linkLevel++;
    if (isLinkClose(token.content)) state.linkLevel--;
  }
  state.pos += match[0].length;
  return true;
}
const DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;
const NAMED_RE = /^&([a-z][a-z0-9]{1,31});/i;
function entity(state, silent) {
  const pos = state.pos;
  const max = state.posMax;
  if (state.src.charCodeAt(pos) !== 38) return false;
  if (pos + 1 >= max) return false;
  const ch2 = state.src.charCodeAt(pos + 1);
  if (ch2 === 35) {
    const match = state.src.slice(pos).match(DIGITAL_RE);
    if (match) {
      if (!silent) {
        const code2 = match[1][0].toLowerCase() === "x" ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);
        const token = state.push("text_special", "", 0);
        token.content = isValidEntityCode(code2) ? fromCodePoint(code2) : fromCodePoint(65533);
        token.markup = match[0];
        token.info = "entity";
      }
      state.pos += match[0].length;
      return true;
    }
  } else {
    const match = state.src.slice(pos).match(NAMED_RE);
    if (match) {
      const decoded = libExports.decodeHTML(match[0]);
      if (decoded !== match[0]) {
        if (!silent) {
          const token = state.push("text_special", "", 0);
          token.content = decoded;
          token.markup = match[0];
          token.info = "entity";
        }
        state.pos += match[0].length;
        return true;
      }
    }
  }
  return false;
}
function processDelimiters(delimiters) {
  const openersBottom = {};
  const max = delimiters.length;
  if (!max) return;
  let headerIdx = 0;
  let lastTokenIdx = -2;
  const jumps = [];
  for (let closerIdx = 0; closerIdx < max; closerIdx++) {
    const closer = delimiters[closerIdx];
    jumps.push(0);
    if (delimiters[headerIdx].marker !== closer.marker || lastTokenIdx !== closer.token - 1) {
      headerIdx = closerIdx;
    }
    lastTokenIdx = closer.token;
    closer.length = closer.length || 0;
    if (!closer.close) continue;
    if (!openersBottom.hasOwnProperty(closer.marker)) {
      openersBottom[closer.marker] = [-1, -1, -1, -1, -1, -1];
    }
    const minOpenerIdx = openersBottom[closer.marker][(closer.open ? 3 : 0) + closer.length % 3];
    let openerIdx = headerIdx - jumps[headerIdx] - 1;
    let newMinOpenerIdx = openerIdx;
    for (; openerIdx > minOpenerIdx; openerIdx -= jumps[openerIdx] + 1) {
      const opener = delimiters[openerIdx];
      if (opener.marker !== closer.marker) continue;
      if (opener.open && opener.end < 0) {
        let isOddMatch = false;
        if (opener.close || closer.open) {
          if ((opener.length + closer.length) % 3 === 0) {
            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {
              isOddMatch = true;
            }
          }
        }
        if (!isOddMatch) {
          const lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ? jumps[openerIdx - 1] + 1 : 0;
          jumps[closerIdx] = closerIdx - openerIdx + lastJump;
          jumps[openerIdx] = lastJump;
          closer.open = false;
          opener.end = closerIdx;
          opener.close = false;
          newMinOpenerIdx = -1;
          lastTokenIdx = -2;
          break;
        }
      }
    }
    if (newMinOpenerIdx !== -1) {
      openersBottom[closer.marker][(closer.open ? 3 : 0) + (closer.length || 0) % 3] = newMinOpenerIdx;
    }
  }
}
function link_pairs(state) {
  const tokens_meta = state.tokens_meta;
  const max = state.tokens_meta.length;
  processDelimiters(state.delimiters);
  for (let curr = 0; curr < max; curr++) {
    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {
      processDelimiters(tokens_meta[curr].delimiters);
    }
  }
}
function fragments_join(state) {
  let curr, last;
  let level = 0;
  const tokens = state.tokens;
  const max = state.tokens.length;
  for (curr = last = 0; curr < max; curr++) {
    if (tokens[curr].nesting < 0) level--;
    tokens[curr].level = level;
    if (tokens[curr].nesting > 0) level++;
    if (tokens[curr].type === "text" && curr + 1 < max && tokens[curr + 1].type === "text") {
      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;
    } else {
      if (curr !== last) {
        tokens[last] = tokens[curr];
      }
      last++;
    }
  }
  if (curr !== last) {
    tokens.length = last;
  }
}
const _rules = [
  ["text", text],
  ["linkify", linkify],
  ["newline", newline],
  ["escape", escape],
  ["backticks", backtick],
  ["strikethrough", r_strikethrough.tokenize],
  ["emphasis", r_emphasis.tokenize],
  ["link", link],
  ["image", image],
  ["autolink", autolink],
  ["html_inline", html_inline],
  ["entity", entity]
];
const _rules2 = [
  ["balance_pairs", link_pairs],
  ["strikethrough", r_strikethrough.postProcess],
  ["emphasis", r_emphasis.postProcess],
  // rules for pairs separate '**' into its own text tokens, which may be left unused,
  // rule below merges unused segments back with the rest of the text
  ["fragments_join", fragments_join]
];
function ParserInline() {
  this.ruler = new Ruler();
  for (let i2 = 0; i2 < _rules.length; i2++) {
    this.ruler.push(_rules[i2][0], _rules[i2][1]);
  }
  this.ruler2 = new Ruler();
  for (let i2 = 0; i2 < _rules2.length; i2++) {
    this.ruler2.push(_rules2[i2][0], _rules2[i2][1]);
  }
}
ParserInline.prototype.skipToken = function(state) {
  const pos = state.pos;
  const rules = this.ruler.getRules("");
  const len = rules.length;
  const maxNesting = state.md.options.maxNesting;
  const cache = state.cache;
  if (typeof cache[pos] !== "undefined") {
    state.pos = cache[pos];
    return;
  }
  let ok2 = false;
  if (state.level < maxNesting) {
    for (let i2 = 0; i2 < len; i2++) {
      state.level++;
      ok2 = rules[i2](state, true);
      state.level--;
      if (ok2) {
        if (pos >= state.pos) {
          throw new Error("inline rule didn't increment state.pos");
        }
        break;
      }
    }
  } else {
    state.pos = state.posMax;
  }
  if (!ok2) {
    state.pos++;
  }
  cache[pos] = state.pos;
};
ParserInline.prototype.tokenize = function(state) {
  const rules = this.ruler.getRules("");
  const len = rules.length;
  const end = state.posMax;
  const maxNesting = state.md.options.maxNesting;
  while (state.pos < end) {
    const prevPos = state.pos;
    let ok2 = false;
    if (state.level < maxNesting) {
      for (let i2 = 0; i2 < len; i2++) {
        ok2 = rules[i2](state, false);
        if (ok2) {
          if (prevPos >= state.pos) {
            throw new Error("inline rule didn't increment state.pos");
          }
          break;
        }
      }
    }
    if (ok2) {
      if (state.pos >= end) {
        break;
      }
      continue;
    }
    state.pending += state.src[state.pos++];
  }
  if (state.pending) {
    state.pushPending();
  }
};
ParserInline.prototype.parse = function(str, md2, env, outTokens) {
  const state = new this.State(str, md2, env, outTokens);
  this.tokenize(state);
  const rules = this.ruler2.getRules("");
  const len = rules.length;
  for (let i2 = 0; i2 < len; i2++) {
    rules[i2](state);
  }
};
ParserInline.prototype.State = StateInline;
var index_cjs;
var hasRequiredIndex_cjs;
function requireIndex_cjs() {
  if (hasRequiredIndex_cjs) return index_cjs;
  hasRequiredIndex_cjs = 1;
  var uc_micro = requireIndex_cjs$1();
  function reFactory(opts) {
    const re2 = {};
    opts = opts || {};
    re2.src_Any = uc_micro.Any.source;
    re2.src_Cc = uc_micro.Cc.source;
    re2.src_Z = uc_micro.Z.source;
    re2.src_P = uc_micro.P.source;
    re2.src_ZPCc = [re2.src_Z, re2.src_P, re2.src_Cc].join("|");
    re2.src_ZCc = [re2.src_Z, re2.src_Cc].join("|");
    const text_separators = "[><]";
    re2.src_pseudo_letter = "(?:(?!" + text_separators + "|" + re2.src_ZPCc + ")" + re2.src_Any + ")";
    re2.src_ip4 = "(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";
    re2.src_auth = "(?:(?:(?!" + re2.src_ZCc + "|[@/\\[\\]()]).)+@)?";
    re2.src_port = "(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?";
    re2.src_host_terminator = "(?=$|" + text_separators + "|" + re2.src_ZPCc + ")(?!" + (opts["---"] ? "-(?!--)|" : "-|") + "_|:\\d|\\.-|\\.(?!$|" + re2.src_ZPCc + "))";
    re2.src_path = "(?:[/?#](?:(?!" + re2.src_ZCc + "|" + text_separators + `|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!` + re2.src_ZCc + "|\\]).)*\\]|\\((?:(?!" + re2.src_ZCc + "|[)]).)*\\)|\\{(?:(?!" + re2.src_ZCc + '|[}]).)*\\}|\\"(?:(?!' + re2.src_ZCc + `|["]).)+\\"|\\'(?:(?!` + re2.src_ZCc + "|[']).)+\\'|\\'(?=" + re2.src_pseudo_letter + "|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!" + re2.src_ZCc + "|[.]|$)|" + (opts["---"] ? "\\-(?!--(?:[^-]|$))(?:-*)|" : "\\-+|") + // allow `,,,` in paths
    ",(?!" + re2.src_ZCc + "|$)|;(?!" + re2.src_ZCc + "|$)|\\!+(?!" + re2.src_ZCc + "|[!]|$)|\\?(?!" + re2.src_ZCc + "|[?]|$))+|\\/)?";
    re2.src_email_name = '[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*';
    re2.src_xn = "xn--[a-z0-9\\-]{1,59}";
    re2.src_domain_root = // Allow letters & digits (http://test1)
    "(?:" + re2.src_xn + "|" + re2.src_pseudo_letter + "{1,63})";
    re2.src_domain = "(?:" + re2.src_xn + "|(?:" + re2.src_pseudo_letter + ")|(?:" + re2.src_pseudo_letter + "(?:-|" + re2.src_pseudo_letter + "){0,61}" + re2.src_pseudo_letter + "))";
    re2.src_host = "(?:(?:(?:(?:" + re2.src_domain + ")\\.)*" + re2.src_domain + "))";
    re2.tpl_host_fuzzy = "(?:" + re2.src_ip4 + "|(?:(?:(?:" + re2.src_domain + ")\\.)+(?:%TLDS%)))";
    re2.tpl_host_no_ip_fuzzy = "(?:(?:(?:" + re2.src_domain + ")\\.)+(?:%TLDS%))";
    re2.src_host_strict = re2.src_host + re2.src_host_terminator;
    re2.tpl_host_fuzzy_strict = re2.tpl_host_fuzzy + re2.src_host_terminator;
    re2.src_host_port_strict = re2.src_host + re2.src_port + re2.src_host_terminator;
    re2.tpl_host_port_fuzzy_strict = re2.tpl_host_fuzzy + re2.src_port + re2.src_host_terminator;
    re2.tpl_host_port_no_ip_fuzzy_strict = re2.tpl_host_no_ip_fuzzy + re2.src_port + re2.src_host_terminator;
    re2.tpl_host_fuzzy_test = "localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:" + re2.src_ZPCc + "|>|$))";
    re2.tpl_email_fuzzy = "(^|" + text_separators + '|"|\\(|' + re2.src_ZCc + ")(" + re2.src_email_name + "@" + re2.tpl_host_fuzzy_strict + ")";
    re2.tpl_link_fuzzy = // Fuzzy link can't be prepended with .:/\- and non punctuation.
    // but can start with > (markdown blockquote)
    "(^|(?![.:/\\-_@])(?:[$+<=>^`|]|" + re2.src_ZPCc + "))((?![$+<=>^`|])" + re2.tpl_host_port_fuzzy_strict + re2.src_path + ")";
    re2.tpl_link_no_ip_fuzzy = // Fuzzy link can't be prepended with .:/\- and non punctuation.
    // but can start with > (markdown blockquote)
    "(^|(?![.:/\\-_@])(?:[$+<=>^`|]|" + re2.src_ZPCc + "))((?![$+<=>^`|])" + re2.tpl_host_port_no_ip_fuzzy_strict + re2.src_path + ")";
    return re2;
  }
  function assign2(obj) {
    const sources = Array.prototype.slice.call(arguments, 1);
    sources.forEach(function(source) {
      if (!source) {
        return;
      }
      Object.keys(source).forEach(function(key) {
        obj[key] = source[key];
      });
    });
    return obj;
  }
  function _class2(obj) {
    return Object.prototype.toString.call(obj);
  }
  function isString2(obj) {
    return _class2(obj) === "[object String]";
  }
  function isObject(obj) {
    return _class2(obj) === "[object Object]";
  }
  function isRegExp(obj) {
    return _class2(obj) === "[object RegExp]";
  }
  function isFunction(obj) {
    return _class2(obj) === "[object Function]";
  }
  function escapeRE2(str) {
    return str.replace(/[.?*+^$[\]\\(){}|-]/g, "\\$&");
  }
  const defaultOptions = {
    fuzzyLink: true,
    fuzzyEmail: true,
    fuzzyIP: false
  };
  function isOptionsObj(obj) {
    return Object.keys(obj || {}).reduce(function(acc, k2) {
      return acc || defaultOptions.hasOwnProperty(k2);
    }, false);
  }
  const defaultSchemas = {
    "http:": {
      validate: function(text2, pos, self2) {
        const tail = text2.slice(pos);
        if (!self2.re.http) {
          self2.re.http = new RegExp(
            "^\\/\\/" + self2.re.src_auth + self2.re.src_host_port_strict + self2.re.src_path,
            "i"
          );
        }
        if (self2.re.http.test(tail)) {
          return tail.match(self2.re.http)[0].length;
        }
        return 0;
      }
    },
    "https:": "http:",
    "ftp:": "http:",
    "//": {
      validate: function(text2, pos, self2) {
        const tail = text2.slice(pos);
        if (!self2.re.no_http) {
          self2.re.no_http = new RegExp(
            "^" + self2.re.src_auth + // Don't allow single-level domains, because of false positives like '//test'
            // with code comments
            "(?:localhost|(?:(?:" + self2.re.src_domain + ")\\.)+" + self2.re.src_domain_root + ")" + self2.re.src_port + self2.re.src_host_terminator + self2.re.src_path,
            "i"
          );
        }
        if (self2.re.no_http.test(tail)) {
          if (pos >= 3 && text2[pos - 3] === ":") {
            return 0;
          }
          if (pos >= 3 && text2[pos - 3] === "/") {
            return 0;
          }
          return tail.match(self2.re.no_http)[0].length;
        }
        return 0;
      }
    },
    "mailto:": {
      validate: function(text2, pos, self2) {
        const tail = text2.slice(pos);
        if (!self2.re.mailto) {
          self2.re.mailto = new RegExp(
            "^" + self2.re.src_email_name + "@" + self2.re.src_host_strict,
            "i"
          );
        }
        if (self2.re.mailto.test(tail)) {
          return tail.match(self2.re.mailto)[0].length;
        }
        return 0;
      }
    }
  };
  const tlds_2ch_src_re = "a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]";
  const tlds_default = "biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");
  function resetScanCache(self2) {
    self2.__index__ = -1;
    self2.__text_cache__ = "";
  }
  function createValidator(re2) {
    return function(text2, pos) {
      const tail = text2.slice(pos);
      if (re2.test(tail)) {
        return tail.match(re2)[0].length;
      }
      return 0;
    };
  }
  function createNormalizer() {
    return function(match, self2) {
      self2.normalize(match);
    };
  }
  function compile(self2) {
    const re2 = self2.re = reFactory(self2.__opts__);
    const tlds = self2.__tlds__.slice();
    self2.onCompile();
    if (!self2.__tlds_replaced__) {
      tlds.push(tlds_2ch_src_re);
    }
    tlds.push(re2.src_xn);
    re2.src_tlds = tlds.join("|");
    function untpl(tpl) {
      return tpl.replace("%TLDS%", re2.src_tlds);
    }
    re2.email_fuzzy = RegExp(untpl(re2.tpl_email_fuzzy), "i");
    re2.link_fuzzy = RegExp(untpl(re2.tpl_link_fuzzy), "i");
    re2.link_no_ip_fuzzy = RegExp(untpl(re2.tpl_link_no_ip_fuzzy), "i");
    re2.host_fuzzy_test = RegExp(untpl(re2.tpl_host_fuzzy_test), "i");
    const aliases = [];
    self2.__compiled__ = {};
    function schemaError(name, val) {
      throw new Error('(LinkifyIt) Invalid schema "' + name + '": ' + val);
    }
    Object.keys(self2.__schemas__).forEach(function(name) {
      const val = self2.__schemas__[name];
      if (val === null) {
        return;
      }
      const compiled = { validate: null, link: null };
      self2.__compiled__[name] = compiled;
      if (isObject(val)) {
        if (isRegExp(val.validate)) {
          compiled.validate = createValidator(val.validate);
        } else if (isFunction(val.validate)) {
          compiled.validate = val.validate;
        } else {
          schemaError(name, val);
        }
        if (isFunction(val.normalize)) {
          compiled.normalize = val.normalize;
        } else if (!val.normalize) {
          compiled.normalize = createNormalizer();
        } else {
          schemaError(name, val);
        }
        return;
      }
      if (isString2(val)) {
        aliases.push(name);
        return;
      }
      schemaError(name, val);
    });
    aliases.forEach(function(alias) {
      if (!self2.__compiled__[self2.__schemas__[alias]]) {
        return;
      }
      self2.__compiled__[alias].validate = self2.__compiled__[self2.__schemas__[alias]].validate;
      self2.__compiled__[alias].normalize = self2.__compiled__[self2.__schemas__[alias]].normalize;
    });
    self2.__compiled__[""] = { validate: null, normalize: createNormalizer() };
    const slist = Object.keys(self2.__compiled__).filter(function(name) {
      return name.length > 0 && self2.__compiled__[name];
    }).map(escapeRE2).join("|");
    self2.re.schema_test = RegExp("(^|(?!_)(?:[><]|" + re2.src_ZPCc + "))(" + slist + ")", "i");
    self2.re.schema_search = RegExp("(^|(?!_)(?:[><]|" + re2.src_ZPCc + "))(" + slist + ")", "ig");
    self2.re.schema_at_start = RegExp("^" + self2.re.schema_search.source, "i");
    self2.re.pretest = RegExp(
      "(" + self2.re.schema_test.source + ")|(" + self2.re.host_fuzzy_test.source + ")|@",
      "i"
    );
    resetScanCache(self2);
  }
  function Match(self2, shift) {
    const start = self2.__index__;
    const end = self2.__last_index__;
    const text2 = self2.__text_cache__.slice(start, end);
    this.schema = self2.__schema__.toLowerCase();
    this.index = start + shift;
    this.lastIndex = end + shift;
    this.raw = text2;
    this.text = text2;
    this.url = text2;
  }
  function createMatch(self2, shift) {
    const match = new Match(self2, shift);
    self2.__compiled__[match.schema].normalize(match, self2);
    return match;
  }
  function LinkifyIt2(schemas, options) {
    if (!(this instanceof LinkifyIt2)) {
      return new LinkifyIt2(schemas, options);
    }
    if (!options) {
      if (isOptionsObj(schemas)) {
        options = schemas;
        schemas = {};
      }
    }
    this.__opts__ = assign2({}, defaultOptions, options);
    this.__index__ = -1;
    this.__last_index__ = -1;
    this.__schema__ = "";
    this.__text_cache__ = "";
    this.__schemas__ = assign2({}, defaultSchemas, schemas);
    this.__compiled__ = {};
    this.__tlds__ = tlds_default;
    this.__tlds_replaced__ = false;
    this.re = {};
    compile(this);
  }
  LinkifyIt2.prototype.add = function add(schema, definition) {
    this.__schemas__[schema] = definition;
    compile(this);
    return this;
  };
  LinkifyIt2.prototype.set = function set(options) {
    this.__opts__ = assign2(this.__opts__, options);
    return this;
  };
  LinkifyIt2.prototype.test = function test(text2) {
    this.__text_cache__ = text2;
    this.__index__ = -1;
    if (!text2.length) {
      return false;
    }
    let m2, ml2, me2, len, shift, next, re2, tld_pos, at_pos;
    if (this.re.schema_test.test(text2)) {
      re2 = this.re.schema_search;
      re2.lastIndex = 0;
      while ((m2 = re2.exec(text2)) !== null) {
        len = this.testSchemaAt(text2, m2[2], re2.lastIndex);
        if (len) {
          this.__schema__ = m2[2];
          this.__index__ = m2.index + m2[1].length;
          this.__last_index__ = m2.index + m2[0].length + len;
          break;
        }
      }
    }
    if (this.__opts__.fuzzyLink && this.__compiled__["http:"]) {
      tld_pos = text2.search(this.re.host_fuzzy_test);
      if (tld_pos >= 0) {
        if (this.__index__ < 0 || tld_pos < this.__index__) {
          if ((ml2 = text2.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {
            shift = ml2.index + ml2[1].length;
            if (this.__index__ < 0 || shift < this.__index__) {
              this.__schema__ = "";
              this.__index__ = shift;
              this.__last_index__ = ml2.index + ml2[0].length;
            }
          }
        }
      }
    }
    if (this.__opts__.fuzzyEmail && this.__compiled__["mailto:"]) {
      at_pos = text2.indexOf("@");
      if (at_pos >= 0) {
        if ((me2 = text2.match(this.re.email_fuzzy)) !== null) {
          shift = me2.index + me2[1].length;
          next = me2.index + me2[0].length;
          if (this.__index__ < 0 || shift < this.__index__ || shift === this.__index__ && next > this.__last_index__) {
            this.__schema__ = "mailto:";
            this.__index__ = shift;
            this.__last_index__ = next;
          }
        }
      }
    }
    return this.__index__ >= 0;
  };
  LinkifyIt2.prototype.pretest = function pretest(text2) {
    return this.re.pretest.test(text2);
  };
  LinkifyIt2.prototype.testSchemaAt = function testSchemaAt(text2, schema, pos) {
    if (!this.__compiled__[schema.toLowerCase()]) {
      return 0;
    }
    return this.__compiled__[schema.toLowerCase()].validate(text2, pos, this);
  };
  LinkifyIt2.prototype.match = function match(text2) {
    const result = [];
    let shift = 0;
    if (this.__index__ >= 0 && this.__text_cache__ === text2) {
      result.push(createMatch(this, shift));
      shift = this.__last_index__;
    }
    let tail = shift ? text2.slice(shift) : text2;
    while (this.test(tail)) {
      result.push(createMatch(this, shift));
      tail = tail.slice(this.__last_index__);
      shift += this.__last_index__;
    }
    if (result.length) {
      return result;
    }
    return null;
  };
  LinkifyIt2.prototype.matchAtStart = function matchAtStart(text2) {
    this.__text_cache__ = text2;
    this.__index__ = -1;
    if (!text2.length) return null;
    const m2 = this.re.schema_at_start.exec(text2);
    if (!m2) return null;
    const len = this.testSchemaAt(text2, m2[2], m2[0].length);
    if (!len) return null;
    this.__schema__ = m2[2];
    this.__index__ = m2.index + m2[1].length;
    this.__last_index__ = m2.index + m2[0].length + len;
    return createMatch(this, 0);
  };
  LinkifyIt2.prototype.tlds = function tlds(list2, keepOld) {
    list2 = Array.isArray(list2) ? list2 : [list2];
    if (!keepOld) {
      this.__tlds__ = list2.slice();
      this.__tlds_replaced__ = true;
      compile(this);
      return this;
    }
    this.__tlds__ = this.__tlds__.concat(list2).sort().filter(function(el2, idx, arr) {
      return el2 !== arr[idx - 1];
    }).reverse();
    compile(this);
    return this;
  };
  LinkifyIt2.prototype.normalize = function normalize2(match) {
    if (!match.schema) {
      match.url = "http://" + match.url;
    }
    if (match.schema === "mailto:" && !/^mailto:/i.test(match.url)) {
      match.url = "mailto:" + match.url;
    }
  };
  LinkifyIt2.prototype.onCompile = function onCompile() {
  };
  index_cjs = LinkifyIt2;
  return index_cjs;
}
var index_cjsExports = requireIndex_cjs();
var LinkifyIt = /* @__PURE__ */ getDefaultExportFromCjs(index_cjsExports);
const maxInt = 2147483647;
const base = 36;
const tMin = 1;
const tMax = 26;
const skew = 38;
const damp = 700;
const initialBias = 72;
const initialN = 128;
const delimiter = "-";
const regexPunycode = /^xn--/;
const regexNonASCII = /[^\0-\x7F]/;
const regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g;
const errors = {
  "overflow": "Overflow: input needs wider integers to process",
  "not-basic": "Illegal input >= 0x80 (not a basic code point)",
  "invalid-input": "Invalid input"
};
const baseMinusTMin = base - tMin;
const floor = Math.floor;
const stringFromCharCode = String.fromCharCode;
function error(type) {
  throw new RangeError(errors[type]);
}
function map(array, callback) {
  const result = [];
  let length = array.length;
  while (length--) {
    result[length] = callback(array[length]);
  }
  return result;
}
function mapDomain(domain, callback) {
  const parts = domain.split("@");
  let result = "";
  if (parts.length > 1) {
    result = parts[0] + "@";
    domain = parts[1];
  }
  domain = domain.replace(regexSeparators, ".");
  const labels = domain.split(".");
  const encoded = map(labels, callback).join(".");
  return result + encoded;
}
function ucs2decode(string) {
  const output = [];
  let counter = 0;
  const length = string.length;
  while (counter < length) {
    const value = string.charCodeAt(counter++);
    if (value >= 55296 && value <= 56319 && counter < length) {
      const extra = string.charCodeAt(counter++);
      if ((extra & 64512) == 56320) {
        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);
      } else {
        output.push(value);
        counter--;
      }
    } else {
      output.push(value);
    }
  }
  return output;
}
const ucs2encode = (codePoints) => String.fromCodePoint(...codePoints);
const basicToDigit = function(codePoint) {
  if (codePoint >= 48 && codePoint < 58) {
    return 26 + (codePoint - 48);
  }
  if (codePoint >= 65 && codePoint < 91) {
    return codePoint - 65;
  }
  if (codePoint >= 97 && codePoint < 123) {
    return codePoint - 97;
  }
  return base;
};
const digitToBasic = function(digit, flag) {
  return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
};
const adapt = function(delta, numPoints, firstTime) {
  let k2 = 0;
  delta = firstTime ? floor(delta / damp) : delta >> 1;
  delta += floor(delta / numPoints);
  for (; delta > baseMinusTMin * tMax >> 1; k2 += base) {
    delta = floor(delta / baseMinusTMin);
  }
  return floor(k2 + (baseMinusTMin + 1) * delta / (delta + skew));
};
const decode = function(input) {
  const output = [];
  const inputLength = input.length;
  let i2 = 0;
  let n2 = initialN;
  let bias = initialBias;
  let basic = input.lastIndexOf(delimiter);
  if (basic < 0) {
    basic = 0;
  }
  for (let j2 = 0; j2 < basic; ++j2) {
    if (input.charCodeAt(j2) >= 128) {
      error("not-basic");
    }
    output.push(input.charCodeAt(j2));
  }
  for (let index = basic > 0 ? basic + 1 : 0; index < inputLength; ) {
    const oldi = i2;
    for (let w3 = 1, k2 = base; ; k2 += base) {
      if (index >= inputLength) {
        error("invalid-input");
      }
      const digit = basicToDigit(input.charCodeAt(index++));
      if (digit >= base) {
        error("invalid-input");
      }
      if (digit > floor((maxInt - i2) / w3)) {
        error("overflow");
      }
      i2 += digit * w3;
      const t5 = k2 <= bias ? tMin : k2 >= bias + tMax ? tMax : k2 - bias;
      if (digit < t5) {
        break;
      }
      const baseMinusT = base - t5;
      if (w3 > floor(maxInt / baseMinusT)) {
        error("overflow");
      }
      w3 *= baseMinusT;
    }
    const out = output.length + 1;
    bias = adapt(i2 - oldi, out, oldi == 0);
    if (floor(i2 / out) > maxInt - n2) {
      error("overflow");
    }
    n2 += floor(i2 / out);
    i2 %= out;
    output.splice(i2++, 0, n2);
  }
  return String.fromCodePoint(...output);
};
const encode = function(input) {
  const output = [];
  input = ucs2decode(input);
  const inputLength = input.length;
  let n2 = initialN;
  let delta = 0;
  let bias = initialBias;
  for (const currentValue of input) {
    if (currentValue < 128) {
      output.push(stringFromCharCode(currentValue));
    }
  }
  const basicLength = output.length;
  let handledCPCount = basicLength;
  if (basicLength) {
    output.push(delimiter);
  }
  while (handledCPCount < inputLength) {
    let m2 = maxInt;
    for (const currentValue of input) {
      if (currentValue >= n2 && currentValue < m2) {
        m2 = currentValue;
      }
    }
    const handledCPCountPlusOne = handledCPCount + 1;
    if (m2 - n2 > floor((maxInt - delta) / handledCPCountPlusOne)) {
      error("overflow");
    }
    delta += (m2 - n2) * handledCPCountPlusOne;
    n2 = m2;
    for (const currentValue of input) {
      if (currentValue < n2 && ++delta > maxInt) {
        error("overflow");
      }
      if (currentValue === n2) {
        let q2 = delta;
        for (let k2 = base; ; k2 += base) {
          const t5 = k2 <= bias ? tMin : k2 >= bias + tMax ? tMax : k2 - bias;
          if (q2 < t5) {
            break;
          }
          const qMinusT = q2 - t5;
          const baseMinusT = base - t5;
          output.push(
            stringFromCharCode(digitToBasic(t5 + qMinusT % baseMinusT, 0))
          );
          q2 = floor(qMinusT / baseMinusT);
        }
        output.push(stringFromCharCode(digitToBasic(q2, 0)));
        bias = adapt(delta, handledCPCountPlusOne, handledCPCount === basicLength);
        delta = 0;
        ++handledCPCount;
      }
    }
    ++delta;
    ++n2;
  }
  return output.join("");
};
const toUnicode = function(input) {
  return mapDomain(input, function(string) {
    return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;
  });
};
const toASCII = function(input) {
  return mapDomain(input, function(string) {
    return regexNonASCII.test(string) ? "xn--" + encode(string) : string;
  });
};
const punycode = {
  /**
   * A string representing the current Punycode.js version number.
   * @memberOf punycode
   * @type String
   */
  "version": "2.3.1",
  /**
   * An object of methods to convert from JavaScript's internal character
   * representation (UCS-2) to Unicode code points, and back.
   * @see <https://mathiasbynens.be/notes/javascript-encoding>
   * @memberOf punycode
   * @type Object
   */
  "ucs2": {
    "decode": ucs2decode,
    "encode": ucs2encode
  },
  "decode": decode,
  "encode": encode,
  "toASCII": toASCII,
  "toUnicode": toUnicode
};
var cfg_default = {
  options: {
    // Enable HTML tags in source
    html: false,
    // Use '/' to close single tags (<br />)
    xhtmlOut: false,
    // Convert '\n' in paragraphs into <br>
    breaks: false,
    // CSS language prefix for fenced blocks
    langPrefix: "language-",
    // autoconvert URL-like texts to links
    linkify: false,
    // Enable some language-neutral replacements + quotes beautification
    typographer: false,
    // Double + single quotes replacement pairs, when typographer enabled,
    // and smartquotes on. Could be either a String or an Array.
    //
    // For example, you can use '' for Russian, '' for German,
    // and ['\xA0', '\xA0', '\xA0', '\xA0'] for French (including nbsp).
    quotes: "",
    /*  */
    // Highlighter function. Should return escaped HTML,
    // or '' if the source string is not changed and should be escaped externaly.
    // If result starts with <pre... internal wrapper is skipped.
    //
    // function (/*str, lang*/) { return ''; }
    //
    highlight: null,
    // Internal protection, recursion limit
    maxNesting: 100
  },
  components: {
    core: {},
    block: {},
    inline: {}
  }
};
var cfg_zero = {
  options: {
    // Enable HTML tags in source
    html: false,
    // Use '/' to close single tags (<br />)
    xhtmlOut: false,
    // Convert '\n' in paragraphs into <br>
    breaks: false,
    // CSS language prefix for fenced blocks
    langPrefix: "language-",
    // autoconvert URL-like texts to links
    linkify: false,
    // Enable some language-neutral replacements + quotes beautification
    typographer: false,
    // Double + single quotes replacement pairs, when typographer enabled,
    // and smartquotes on. Could be either a String or an Array.
    //
    // For example, you can use '' for Russian, '' for German,
    // and ['\xA0', '\xA0', '\xA0', '\xA0'] for French (including nbsp).
    quotes: "",
    /*  */
    // Highlighter function. Should return escaped HTML,
    // or '' if the source string is not changed and should be escaped externaly.
    // If result starts with <pre... internal wrapper is skipped.
    //
    // function (/*str, lang*/) { return ''; }
    //
    highlight: null,
    // Internal protection, recursion limit
    maxNesting: 20
  },
  components: {
    core: {
      rules: [
        "normalize",
        "block",
        "inline",
        "text_join"
      ]
    },
    block: {
      rules: [
        "paragraph"
      ]
    },
    inline: {
      rules: [
        "text"
      ],
      rules2: [
        "balance_pairs",
        "fragments_join"
      ]
    }
  }
};
var cfg_commonmark = {
  options: {
    // Enable HTML tags in source
    html: true,
    // Use '/' to close single tags (<br />)
    xhtmlOut: true,
    // Convert '\n' in paragraphs into <br>
    breaks: false,
    // CSS language prefix for fenced blocks
    langPrefix: "language-",
    // autoconvert URL-like texts to links
    linkify: false,
    // Enable some language-neutral replacements + quotes beautification
    typographer: false,
    // Double + single quotes replacement pairs, when typographer enabled,
    // and smartquotes on. Could be either a String or an Array.
    //
    // For example, you can use '' for Russian, '' for German,
    // and ['\xA0', '\xA0', '\xA0', '\xA0'] for French (including nbsp).
    quotes: "",
    /*  */
    // Highlighter function. Should return escaped HTML,
    // or '' if the source string is not changed and should be escaped externaly.
    // If result starts with <pre... internal wrapper is skipped.
    //
    // function (/*str, lang*/) { return ''; }
    //
    highlight: null,
    // Internal protection, recursion limit
    maxNesting: 20
  },
  components: {
    core: {
      rules: [
        "normalize",
        "block",
        "inline",
        "text_join"
      ]
    },
    block: {
      rules: [
        "blockquote",
        "code",
        "fence",
        "heading",
        "hr",
        "html_block",
        "lheading",
        "list",
        "reference",
        "paragraph"
      ]
    },
    inline: {
      rules: [
        "autolink",
        "backticks",
        "emphasis",
        "entity",
        "escape",
        "html_inline",
        "image",
        "link",
        "newline",
        "text"
      ],
      rules2: [
        "balance_pairs",
        "emphasis",
        "fragments_join"
      ]
    }
  }
};
const config = {
  default: cfg_default,
  zero: cfg_zero,
  commonmark: cfg_commonmark
};
const BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;
const GOOD_DATA_RE = /^data:image\/(gif|png|jpeg|webp);/;
function validateLink(url) {
  const str = url.trim().toLowerCase();
  return BAD_PROTO_RE.test(str) ? GOOD_DATA_RE.test(str) : true;
}
const RECODE_HOSTNAME_FOR = ["http:", "https:", "mailto:"];
function normalizeLink(url) {
  const parsed = index_cjsExports$2.parse(url, true);
  if (parsed.hostname) {
    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {
      try {
        parsed.hostname = punycode.toASCII(parsed.hostname);
      } catch (er2) {
      }
    }
  }
  return index_cjsExports$2.encode(index_cjsExports$2.format(parsed));
}
function normalizeLinkText(url) {
  const parsed = index_cjsExports$2.parse(url, true);
  if (parsed.hostname) {
    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {
      try {
        parsed.hostname = punycode.toUnicode(parsed.hostname);
      } catch (er2) {
      }
    }
  }
  return index_cjsExports$2.decode(index_cjsExports$2.format(parsed), index_cjsExports$2.decode.defaultChars + "%");
}
function MarkdownIt(presetName, options) {
  if (!(this instanceof MarkdownIt)) {
    return new MarkdownIt(presetName, options);
  }
  if (!options) {
    if (!isString(presetName)) {
      options = presetName || {};
      presetName = "default";
    }
  }
  this.inline = new ParserInline();
  this.block = new ParserBlock();
  this.core = new Core();
  this.renderer = new Renderer();
  this.linkify = new LinkifyIt();
  this.validateLink = validateLink;
  this.normalizeLink = normalizeLink;
  this.normalizeLinkText = normalizeLinkText;
  this.utils = utils;
  this.helpers = assign({}, helpers);
  this.options = {};
  this.configure(presetName);
  if (options) {
    this.set(options);
  }
}
MarkdownIt.prototype.set = function(options) {
  assign(this.options, options);
  return this;
};
MarkdownIt.prototype.configure = function(presets) {
  const self2 = this;
  if (isString(presets)) {
    const presetName = presets;
    presets = config[presetName];
    if (!presets) {
      throw new Error('Wrong `markdown-it` preset "' + presetName + '", check name');
    }
  }
  if (!presets) {
    throw new Error("Wrong `markdown-it` preset, can't be empty");
  }
  if (presets.options) {
    self2.set(presets.options);
  }
  if (presets.components) {
    Object.keys(presets.components).forEach(function(name) {
      if (presets.components[name].rules) {
        self2[name].ruler.enableOnly(presets.components[name].rules);
      }
      if (presets.components[name].rules2) {
        self2[name].ruler2.enableOnly(presets.components[name].rules2);
      }
    });
  }
  return this;
};
MarkdownIt.prototype.enable = function(list2, ignoreInvalid) {
  let result = [];
  if (!Array.isArray(list2)) {
    list2 = [list2];
  }
  ["core", "block", "inline"].forEach(function(chain) {
    result = result.concat(this[chain].ruler.enable(list2, true));
  }, this);
  result = result.concat(this.inline.ruler2.enable(list2, true));
  const missed = list2.filter(function(name) {
    return result.indexOf(name) < 0;
  });
  if (missed.length && !ignoreInvalid) {
    throw new Error("MarkdownIt. Failed to enable unknown rule(s): " + missed);
  }
  return this;
};
MarkdownIt.prototype.disable = function(list2, ignoreInvalid) {
  let result = [];
  if (!Array.isArray(list2)) {
    list2 = [list2];
  }
  ["core", "block", "inline"].forEach(function(chain) {
    result = result.concat(this[chain].ruler.disable(list2, true));
  }, this);
  result = result.concat(this.inline.ruler2.disable(list2, true));
  const missed = list2.filter(function(name) {
    return result.indexOf(name) < 0;
  });
  if (missed.length && !ignoreInvalid) {
    throw new Error("MarkdownIt. Failed to disable unknown rule(s): " + missed);
  }
  return this;
};
MarkdownIt.prototype.use = function(plugin) {
  const args = [this].concat(Array.prototype.slice.call(arguments, 1));
  plugin.apply(plugin, args);
  return this;
};
MarkdownIt.prototype.parse = function(src, env) {
  if (typeof src !== "string") {
    throw new Error("Input data should be a String");
  }
  const state = new this.core.State(src, this, env);
  this.core.process(state);
  return state.tokens;
};
MarkdownIt.prototype.render = function(src, env) {
  env = env || {};
  return this.renderer.render(this.parse(src, env), this.options, env);
};
MarkdownIt.prototype.parseInline = function(src, env) {
  const state = new this.core.State(src, this, env);
  state.inlineMode = true;
  this.core.process(state);
  return state.tokens;
};
MarkdownIt.prototype.renderInline = function(src, env) {
  env = env || {};
  return this.renderer.render(this.parseInline(src, env), this.options, env);
};
var prism$1 = { exports: {} };
var hasRequiredPrism;
function requirePrism() {
  if (hasRequiredPrism) return prism$1.exports;
  hasRequiredPrism = 1;
  (function(module) {
    var _self = typeof window !== "undefined" ? window : typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope ? self : {};
    /**
     * Prism: Lightweight, robust, elegant syntax highlighting
     *
     * @license MIT <https://opensource.org/licenses/MIT>
     * @author Lea Verou <https://lea.verou.me>
     * @namespace
     * @public
     */
    var Prism2 = (function(_self2) {
      var lang = /(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i;
      var uniqueId = 0;
      var plainTextGrammar = {};
      var _2 = {
        /**
         * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the
         * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load
         * additional languages or plugins yourself.
         *
         * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.
         *
         * You obviously have to change this value before the automatic highlighting started. To do this, you can add an
         * empty Prism object into the global scope before loading the Prism script like this:
         *
         * ```js
         * window.Prism = window.Prism || {};
         * Prism.manual = true;
         * // add a new <script> to load Prism's script
         * ```
         *
         * @default false
         * @type {boolean}
         * @memberof Prism
         * @public
         */
        manual: _self2.Prism && _self2.Prism.manual,
        /**
         * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses
         * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your
         * own worker, you don't want it to do this.
         *
         * By setting this value to `true`, Prism will not add its own listeners to the worker.
         *
         * You obviously have to change this value before Prism executes. To do this, you can add an
         * empty Prism object into the global scope before loading the Prism script like this:
         *
         * ```js
         * window.Prism = window.Prism || {};
         * Prism.disableWorkerMessageHandler = true;
         * // Load Prism's script
         * ```
         *
         * @default false
         * @type {boolean}
         * @memberof Prism
         * @public
         */
        disableWorkerMessageHandler: _self2.Prism && _self2.Prism.disableWorkerMessageHandler,
        /**
         * A namespace for utility methods.
         *
         * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may
         * change or disappear at any time.
         *
         * @namespace
         * @memberof Prism
         */
        util: {
          encode: function encode2(tokens) {
            if (tokens instanceof Token2) {
              return new Token2(tokens.type, encode2(tokens.content), tokens.alias);
            } else if (Array.isArray(tokens)) {
              return tokens.map(encode2);
            } else {
              return tokens.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/\u00a0/g, " ");
            }
          },
          /**
           * Returns the name of the type of the given value.
           *
           * @param {any} o
           * @returns {string}
           * @example
           * type(null)      === 'Null'
           * type(undefined) === 'Undefined'
           * type(123)       === 'Number'
           * type('foo')     === 'String'
           * type(true)      === 'Boolean'
           * type([1, 2])    === 'Array'
           * type({})        === 'Object'
           * type(String)    === 'Function'
           * type(/abc+/)    === 'RegExp'
           */
          type: function(o2) {
            return Object.prototype.toString.call(o2).slice(8, -1);
          },
          /**
           * Returns a unique number for the given object. Later calls will still return the same number.
           *
           * @param {Object} obj
           * @returns {number}
           */
          objId: function(obj) {
            if (!obj["__id"]) {
              Object.defineProperty(obj, "__id", { value: ++uniqueId });
            }
            return obj["__id"];
          },
          /**
           * Creates a deep clone of the given object.
           *
           * The main intended use of this function is to clone language definitions.
           *
           * @param {T} o
           * @param {Record<number, any>} [visited]
           * @returns {T}
           * @template T
           */
          clone: function deepClone(o2, visited) {
            visited = visited || {};
            var clone;
            var id2;
            switch (_2.util.type(o2)) {
              case "Object":
                id2 = _2.util.objId(o2);
                if (visited[id2]) {
                  return visited[id2];
                }
                clone = /** @type {Record<string, any>} */
                {};
                visited[id2] = clone;
                for (var key in o2) {
                  if (o2.hasOwnProperty(key)) {
                    clone[key] = deepClone(o2[key], visited);
                  }
                }
                return (
                  /** @type {any} */
                  clone
                );
              case "Array":
                id2 = _2.util.objId(o2);
                if (visited[id2]) {
                  return visited[id2];
                }
                clone = [];
                visited[id2] = clone;
                o2.forEach(function(v2, i2) {
                  clone[i2] = deepClone(v2, visited);
                });
                return (
                  /** @type {any} */
                  clone
                );
              default:
                return o2;
            }
          },
          /**
           * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.
           *
           * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.
           *
           * @param {Element} element
           * @returns {string}
           */
          getLanguage: function(element) {
            while (element) {
              var m2 = lang.exec(element.className);
              if (m2) {
                return m2[1].toLowerCase();
              }
              element = element.parentElement;
            }
            return "none";
          },
          /**
           * Sets the Prism `language-xxxx` class of the given element.
           *
           * @param {Element} element
           * @param {string} language
           * @returns {void}
           */
          setLanguage: function(element, language) {
            element.className = element.className.replace(RegExp(lang, "gi"), "");
            element.classList.add("language-" + language);
          },
          /**
           * Returns the script element that is currently executing.
           *
           * This does __not__ work for line script element.
           *
           * @returns {HTMLScriptElement | null}
           */
          currentScript: function() {
            if (typeof document === "undefined") {
              return null;
            }
            if (document.currentScript && document.currentScript.tagName === "SCRIPT" && 1 < 2) {
              return (
                /** @type {any} */
                document.currentScript
              );
            }
            try {
              throw new Error();
            } catch (err) {
              var src = (/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(err.stack) || [])[1];
              if (src) {
                var scripts = document.getElementsByTagName("script");
                for (var i2 in scripts) {
                  if (scripts[i2].src == src) {
                    return scripts[i2];
                  }
                }
              }
              return null;
            }
          },
          /**
           * Returns whether a given class is active for `element`.
           *
           * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated
           * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the
           * given class is just the given class with a `no-` prefix.
           *
           * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is
           * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its
           * ancestors have the given class or the negated version of it, then the default activation will be returned.
           *
           * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated
           * version of it, the class is considered active.
           *
           * @param {Element} element
           * @param {string} className
           * @param {boolean} [defaultActivation=false]
           * @returns {boolean}
           */
          isActive: function(element, className, defaultActivation) {
            var no2 = "no-" + className;
            while (element) {
              var classList = element.classList;
              if (classList.contains(className)) {
                return true;
              }
              if (classList.contains(no2)) {
                return false;
              }
              element = element.parentElement;
            }
            return !!defaultActivation;
          }
        },
        /**
         * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.
         *
         * @namespace
         * @memberof Prism
         * @public
         */
        languages: {
          /**
           * The grammar for plain, unformatted text.
           */
          plain: plainTextGrammar,
          plaintext: plainTextGrammar,
          text: plainTextGrammar,
          txt: plainTextGrammar,
          /**
           * Creates a deep copy of the language with the given id and appends the given tokens.
           *
           * If a token in `redef` also appears in the copied language, then the existing token in the copied language
           * will be overwritten at its original position.
           *
           * ## Best practices
           *
           * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)
           * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to
           * understand the language definition because, normally, the order of tokens matters in Prism grammars.
           *
           * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.
           * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.
           *
           * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.
           * @param {Grammar} redef The new tokens to append.
           * @returns {Grammar} The new language created.
           * @public
           * @example
           * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {
           *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token
           *     // at its original position
           *     'comment': { ... },
           *     // CSS doesn't have a 'color' token, so this token will be appended
           *     'color': /\b(?:red|green|blue)\b/
           * });
           */
          extend: function(id2, redef) {
            var lang2 = _2.util.clone(_2.languages[id2]);
            for (var key in redef) {
              lang2[key] = redef[key];
            }
            return lang2;
          },
          /**
           * Inserts tokens _before_ another token in a language definition or any other grammar.
           *
           * ## Usage
           *
           * This helper method makes it easy to modify existing languages. For example, the CSS language definition
           * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded
           * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the
           * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do
           * this:
           *
           * ```js
           * Prism.languages.markup.style = {
           *     // token
           * };
           * ```
           *
           * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens
           * before existing tokens. For the CSS example above, you would use it like this:
           *
           * ```js
           * Prism.languages.insertBefore('markup', 'cdata', {
           *     'style': {
           *         // token
           *     }
           * });
           * ```
           *
           * ## Special cases
           *
           * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar
           * will be ignored.
           *
           * This behavior can be used to insert tokens after `before`:
           *
           * ```js
           * Prism.languages.insertBefore('markup', 'comment', {
           *     'comment': Prism.languages.markup.comment,
           *     // tokens after 'comment'
           * });
           * ```
           *
           * ## Limitations
           *
           * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object
           * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave
           * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily
           * deleting properties which is necessary to insert at arbitrary positions.
           *
           * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.
           * Instead, it will create a new object and replace all references to the target object with the new one. This
           * can be done without temporarily deleting properties, so the iteration order is well-defined.
           *
           * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if
           * you hold the target object in a variable, then the value of the variable will not change.
           *
           * ```js
           * var oldMarkup = Prism.languages.markup;
           * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });
           *
           * assert(oldMarkup !== Prism.languages.markup);
           * assert(newMarkup === Prism.languages.markup);
           * ```
           *
           * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the
           * object to be modified.
           * @param {string} before The key to insert before.
           * @param {Grammar} insert An object containing the key-value pairs to be inserted.
           * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the
           * object to be modified.
           *
           * Defaults to `Prism.languages`.
           * @returns {Grammar} The new grammar object.
           * @public
           */
          insertBefore: function(inside, before, insert, root) {
            root = root || /** @type {any} */
            _2.languages;
            var grammar = root[inside];
            var ret = {};
            for (var token in grammar) {
              if (grammar.hasOwnProperty(token)) {
                if (token == before) {
                  for (var newToken in insert) {
                    if (insert.hasOwnProperty(newToken)) {
                      ret[newToken] = insert[newToken];
                    }
                  }
                }
                if (!insert.hasOwnProperty(token)) {
                  ret[token] = grammar[token];
                }
              }
            }
            var old = root[inside];
            root[inside] = ret;
            _2.languages.DFS(_2.languages, function(key, value) {
              if (value === old && key != inside) {
                this[key] = ret;
              }
            });
            return ret;
          },
          // Traverse a language definition with Depth First Search
          DFS: function DFS(o2, callback, type, visited) {
            visited = visited || {};
            var objId = _2.util.objId;
            for (var i2 in o2) {
              if (o2.hasOwnProperty(i2)) {
                callback.call(o2, i2, o2[i2], type || i2);
                var property = o2[i2];
                var propertyType = _2.util.type(property);
                if (propertyType === "Object" && !visited[objId(property)]) {
                  visited[objId(property)] = true;
                  DFS(property, callback, null, visited);
                } else if (propertyType === "Array" && !visited[objId(property)]) {
                  visited[objId(property)] = true;
                  DFS(property, callback, i2, visited);
                }
              }
            }
          }
        },
        plugins: {},
        /**
         * This is the most high-level function in Prisms API.
         * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on
         * each one of them.
         *
         * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.
         *
         * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.
         * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.
         * @memberof Prism
         * @public
         */
        highlightAll: function(async, callback) {
          _2.highlightAllUnder(document, async, callback);
        },
        /**
         * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls
         * {@link Prism.highlightElement} on each one of them.
         *
         * The following hooks will be run:
         * 1. `before-highlightall`
         * 2. `before-all-elements-highlight`
         * 3. All hooks of {@link Prism.highlightElement} for each element.
         *
         * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.
         * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.
         * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.
         * @memberof Prism
         * @public
         */
        highlightAllUnder: function(container, async, callback) {
          var env = {
            callback,
            container,
            selector: 'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'
          };
          _2.hooks.run("before-highlightall", env);
          env.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));
          _2.hooks.run("before-all-elements-highlight", env);
          for (var i2 = 0, element; element = env.elements[i2++]; ) {
            _2.highlightElement(element, async === true, env.callback);
          }
        },
        /**
         * Highlights the code inside a single element.
         *
         * The following hooks will be run:
         * 1. `before-sanity-check`
         * 2. `before-highlight`
         * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.
         * 4. `before-insert`
         * 5. `after-highlight`
         * 6. `complete`
         *
         * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for
         * the element's language.
         *
         * @param {Element} element The element containing the code.
         * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.
         * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers
         * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is
         * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).
         *
         * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for
         * asynchronous highlighting to work. You can build your own bundle on the
         * [Download page](https://prismjs.com/download.html).
         * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.
         * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.
         * @memberof Prism
         * @public
         */
        highlightElement: function(element, async, callback) {
          var language = _2.util.getLanguage(element);
          var grammar = _2.languages[language];
          _2.util.setLanguage(element, language);
          var parent = element.parentElement;
          if (parent && parent.nodeName.toLowerCase() === "pre") {
            _2.util.setLanguage(parent, language);
          }
          var code2 = element.textContent;
          var env = {
            element,
            language,
            grammar,
            code: code2
          };
          function insertHighlightedCode(highlightedCode) {
            env.highlightedCode = highlightedCode;
            _2.hooks.run("before-insert", env);
            env.element.innerHTML = env.highlightedCode;
            _2.hooks.run("after-highlight", env);
            _2.hooks.run("complete", env);
            callback && callback.call(env.element);
          }
          _2.hooks.run("before-sanity-check", env);
          parent = env.element.parentElement;
          if (parent && parent.nodeName.toLowerCase() === "pre" && !parent.hasAttribute("tabindex")) {
            parent.setAttribute("tabindex", "0");
          }
          if (!env.code) {
            _2.hooks.run("complete", env);
            callback && callback.call(env.element);
            return;
          }
          _2.hooks.run("before-highlight", env);
          if (!env.grammar) {
            insertHighlightedCode(_2.util.encode(env.code));
            return;
          }
          if (async && _self2.Worker) {
            var worker = new Worker(_2.filename);
            worker.onmessage = function(evt) {
              insertHighlightedCode(evt.data);
            };
            worker.postMessage(JSON.stringify({
              language: env.language,
              code: env.code,
              immediateClose: true
            }));
          } else {
            insertHighlightedCode(_2.highlight(env.code, env.grammar, env.language));
          }
        },
        /**
         * Low-level function, only use if you know what youre doing. It accepts a string of text as input
         * and the language definitions to use, and returns a string with the HTML produced.
         *
         * The following hooks will be run:
         * 1. `before-tokenize`
         * 2. `after-tokenize`
         * 3. `wrap`: On each {@link Token}.
         *
         * @param {string} text A string with the code to be highlighted.
         * @param {Grammar} grammar An object containing the tokens to use.
         *
         * Usually a language definition like `Prism.languages.markup`.
         * @param {string} language The name of the language definition passed to `grammar`.
         * @returns {string} The highlighted HTML.
         * @memberof Prism
         * @public
         * @example
         * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');
         */
        highlight: function(text2, grammar, language) {
          var env = {
            code: text2,
            grammar,
            language
          };
          _2.hooks.run("before-tokenize", env);
          if (!env.grammar) {
            throw new Error('The language "' + env.language + '" has no grammar.');
          }
          env.tokens = _2.tokenize(env.code, env.grammar);
          _2.hooks.run("after-tokenize", env);
          return Token2.stringify(_2.util.encode(env.tokens), env.language);
        },
        /**
         * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input
         * and the language definitions to use, and returns an array with the tokenized code.
         *
         * When the language definition includes nested tokens, the function is called recursively on each of these tokens.
         *
         * This method could be useful in other contexts as well, as a very crude parser.
         *
         * @param {string} text A string with the code to be highlighted.
         * @param {Grammar} grammar An object containing the tokens to use.
         *
         * Usually a language definition like `Prism.languages.markup`.
         * @returns {TokenStream} An array of strings and tokens, a token stream.
         * @memberof Prism
         * @public
         * @example
         * let code = `var foo = 0;`;
         * let tokens = Prism.tokenize(code, Prism.languages.javascript);
         * tokens.forEach(token => {
         *     if (token instanceof Prism.Token && token.type === 'number') {
         *         console.log(`Found numeric literal: ${token.content}`);
         *     }
         * });
         */
        tokenize: function(text2, grammar) {
          var rest = grammar.rest;
          if (rest) {
            for (var token in rest) {
              grammar[token] = rest[token];
            }
            delete grammar.rest;
          }
          var tokenList = new LinkedList();
          addAfter(tokenList, tokenList.head, text2);
          matchGrammar(text2, tokenList, grammar, tokenList.head, 0);
          return toArray(tokenList);
        },
        /**
         * @namespace
         * @memberof Prism
         * @public
         */
        hooks: {
          all: {},
          /**
           * Adds the given callback to the list of callbacks for the given hook.
           *
           * The callback will be invoked when the hook it is registered for is run.
           * Hooks are usually directly run by a highlight function but you can also run hooks yourself.
           *
           * One callback function can be registered to multiple hooks and the same hook multiple times.
           *
           * @param {string} name The name of the hook.
           * @param {HookCallback} callback The callback function which is given environment variables.
           * @public
           */
          add: function(name, callback) {
            var hooks = _2.hooks.all;
            hooks[name] = hooks[name] || [];
            hooks[name].push(callback);
          },
          /**
           * Runs a hook invoking all registered callbacks with the given environment variables.
           *
           * Callbacks will be invoked synchronously and in the order in which they were registered.
           *
           * @param {string} name The name of the hook.
           * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.
           * @public
           */
          run: function(name, env) {
            var callbacks = _2.hooks.all[name];
            if (!callbacks || !callbacks.length) {
              return;
            }
            for (var i2 = 0, callback; callback = callbacks[i2++]; ) {
              callback(env);
            }
          }
        },
        Token: Token2
      };
      _self2.Prism = _2;
      function Token2(type, content, alias, matchedStr) {
        this.type = type;
        this.content = content;
        this.alias = alias;
        this.length = (matchedStr || "").length | 0;
      }
      Token2.stringify = function stringify(o2, language) {
        if (typeof o2 == "string") {
          return o2;
        }
        if (Array.isArray(o2)) {
          var s2 = "";
          o2.forEach(function(e2) {
            s2 += stringify(e2, language);
          });
          return s2;
        }
        var env = {
          type: o2.type,
          content: stringify(o2.content, language),
          tag: "span",
          classes: ["token", o2.type],
          attributes: {},
          language
        };
        var aliases = o2.alias;
        if (aliases) {
          if (Array.isArray(aliases)) {
            Array.prototype.push.apply(env.classes, aliases);
          } else {
            env.classes.push(aliases);
          }
        }
        _2.hooks.run("wrap", env);
        var attributes = "";
        for (var name in env.attributes) {
          attributes += " " + name + '="' + (env.attributes[name] || "").replace(/"/g, "&quot;") + '"';
        }
        return "<" + env.tag + ' class="' + env.classes.join(" ") + '"' + attributes + ">" + env.content + "</" + env.tag + ">";
      };
      function matchPattern(pattern, pos, text2, lookbehind) {
        pattern.lastIndex = pos;
        var match = pattern.exec(text2);
        if (match && lookbehind && match[1]) {
          var lookbehindLength = match[1].length;
          match.index += lookbehindLength;
          match[0] = match[0].slice(lookbehindLength);
        }
        return match;
      }
      function matchGrammar(text2, tokenList, grammar, startNode, startPos, rematch) {
        for (var token in grammar) {
          if (!grammar.hasOwnProperty(token) || !grammar[token]) {
            continue;
          }
          var patterns = grammar[token];
          patterns = Array.isArray(patterns) ? patterns : [patterns];
          for (var j2 = 0; j2 < patterns.length; ++j2) {
            if (rematch && rematch.cause == token + "," + j2) {
              return;
            }
            var patternObj = patterns[j2];
            var inside = patternObj.inside;
            var lookbehind = !!patternObj.lookbehind;
            var greedy = !!patternObj.greedy;
            var alias = patternObj.alias;
            if (greedy && !patternObj.pattern.global) {
              var flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];
              patternObj.pattern = RegExp(patternObj.pattern.source, flags + "g");
            }
            var pattern = patternObj.pattern || patternObj;
            for (var currentNode = startNode.next, pos = startPos; currentNode !== tokenList.tail; pos += currentNode.value.length, currentNode = currentNode.next) {
              if (rematch && pos >= rematch.reach) {
                break;
              }
              var str = currentNode.value;
              if (tokenList.length > text2.length) {
                return;
              }
              if (str instanceof Token2) {
                continue;
              }
              var removeCount = 1;
              var match;
              if (greedy) {
                match = matchPattern(pattern, pos, text2, lookbehind);
                if (!match || match.index >= text2.length) {
                  break;
                }
                var from = match.index;
                var to2 = match.index + match[0].length;
                var p2 = pos;
                p2 += currentNode.value.length;
                while (from >= p2) {
                  currentNode = currentNode.next;
                  p2 += currentNode.value.length;
                }
                p2 -= currentNode.value.length;
                pos = p2;
                if (currentNode.value instanceof Token2) {
                  continue;
                }
                for (var k2 = currentNode; k2 !== tokenList.tail && (p2 < to2 || typeof k2.value === "string"); k2 = k2.next) {
                  removeCount++;
                  p2 += k2.value.length;
                }
                removeCount--;
                str = text2.slice(pos, p2);
                match.index -= pos;
              } else {
                match = matchPattern(pattern, 0, str, lookbehind);
                if (!match) {
                  continue;
                }
              }
              var from = match.index;
              var matchStr = match[0];
              var before = str.slice(0, from);
              var after = str.slice(from + matchStr.length);
              var reach = pos + str.length;
              if (rematch && reach > rematch.reach) {
                rematch.reach = reach;
              }
              var removeFrom = currentNode.prev;
              if (before) {
                removeFrom = addAfter(tokenList, removeFrom, before);
                pos += before.length;
              }
              removeRange(tokenList, removeFrom, removeCount);
              var wrapped = new Token2(token, inside ? _2.tokenize(matchStr, inside) : matchStr, alias, matchStr);
              currentNode = addAfter(tokenList, removeFrom, wrapped);
              if (after) {
                addAfter(tokenList, currentNode, after);
              }
              if (removeCount > 1) {
                var nestedRematch = {
                  cause: token + "," + j2,
                  reach
                };
                matchGrammar(text2, tokenList, grammar, currentNode.prev, pos, nestedRematch);
                if (rematch && nestedRematch.reach > rematch.reach) {
                  rematch.reach = nestedRematch.reach;
                }
              }
            }
          }
        }
      }
      function LinkedList() {
        var head = { value: null, prev: null, next: null };
        var tail = { value: null, prev: head, next: null };
        head.next = tail;
        this.head = head;
        this.tail = tail;
        this.length = 0;
      }
      function addAfter(list2, node, value) {
        var next = node.next;
        var newNode = { value, prev: node, next };
        node.next = newNode;
        next.prev = newNode;
        list2.length++;
        return newNode;
      }
      function removeRange(list2, node, count) {
        var next = node.next;
        for (var i2 = 0; i2 < count && next !== list2.tail; i2++) {
          next = next.next;
        }
        node.next = next;
        next.prev = node;
        list2.length -= i2;
      }
      function toArray(list2) {
        var array = [];
        var node = list2.head.next;
        while (node !== list2.tail) {
          array.push(node.value);
          node = node.next;
        }
        return array;
      }
      if (!_self2.document) {
        if (!_self2.addEventListener) {
          return _2;
        }
        if (!_2.disableWorkerMessageHandler) {
          _self2.addEventListener("message", function(evt) {
            var message = JSON.parse(evt.data);
            var lang2 = message.language;
            var code2 = message.code;
            var immediateClose = message.immediateClose;
            _self2.postMessage(_2.highlight(code2, _2.languages[lang2], lang2));
            if (immediateClose) {
              _self2.close();
            }
          }, false);
        }
        return _2;
      }
      var script = _2.util.currentScript();
      if (script) {
        _2.filename = script.src;
        if (script.hasAttribute("data-manual")) {
          _2.manual = true;
        }
      }
      function highlightAutomaticallyCallback() {
        if (!_2.manual) {
          _2.highlightAll();
        }
      }
      if (!_2.manual) {
        var readyState = document.readyState;
        if (readyState === "loading" || readyState === "interactive" && script && script.defer) {
          document.addEventListener("DOMContentLoaded", highlightAutomaticallyCallback);
        } else {
          if (window.requestAnimationFrame) {
            window.requestAnimationFrame(highlightAutomaticallyCallback);
          } else {
            window.setTimeout(highlightAutomaticallyCallback, 16);
          }
        }
      }
      return _2;
    })(_self);
    if (module.exports) {
      module.exports = Prism2;
    }
    if (typeof commonjsGlobal !== "undefined") {
      commonjsGlobal.Prism = Prism2;
    }
    Prism2.languages.markup = {
      "comment": {
        pattern: /<!--(?:(?!<!--)[\s\S])*?-->/,
        greedy: true
      },
      "prolog": {
        pattern: /<\?[\s\S]+?\?>/,
        greedy: true
      },
      "doctype": {
        // https://www.w3.org/TR/xml/#NT-doctypedecl
        pattern: /<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,
        greedy: true,
        inside: {
          "internal-subset": {
            pattern: /(^[^\[]*\[)[\s\S]+(?=\]>$)/,
            lookbehind: true,
            greedy: true,
            inside: null
            // see below
          },
          "string": {
            pattern: /"[^"]*"|'[^']*'/,
            greedy: true
          },
          "punctuation": /^<!|>$|[[\]]/,
          "doctype-tag": /^DOCTYPE/i,
          "name": /[^\s<>'"]+/
        }
      },
      "cdata": {
        pattern: /<!\[CDATA\[[\s\S]*?\]\]>/i,
        greedy: true
      },
      "tag": {
        pattern: /<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,
        greedy: true,
        inside: {
          "tag": {
            pattern: /^<\/?[^\s>\/]+/,
            inside: {
              "punctuation": /^<\/?/,
              "namespace": /^[^\s>\/:]+:/
            }
          },
          "special-attr": [],
          "attr-value": {
            pattern: /=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,
            inside: {
              "punctuation": [
                {
                  pattern: /^=/,
                  alias: "attr-equals"
                },
                {
                  pattern: /^(\s*)["']|["']$/,
                  lookbehind: true
                }
              ]
            }
          },
          "punctuation": /\/?>/,
          "attr-name": {
            pattern: /[^\s>\/]+/,
            inside: {
              "namespace": /^[^\s>\/:]+:/
            }
          }
        }
      },
      "entity": [
        {
          pattern: /&[\da-z]{1,8};/i,
          alias: "named-entity"
        },
        /&#x?[\da-f]{1,8};/i
      ]
    };
    Prism2.languages.markup["tag"].inside["attr-value"].inside["entity"] = Prism2.languages.markup["entity"];
    Prism2.languages.markup["doctype"].inside["internal-subset"].inside = Prism2.languages.markup;
    Prism2.hooks.add("wrap", function(env) {
      if (env.type === "entity") {
        env.attributes["title"] = env.content.replace(/&amp;/, "&");
      }
    });
    Object.defineProperty(Prism2.languages.markup.tag, "addInlined", {
      /**
       * Adds an inlined language to markup.
       *
       * An example of an inlined language is CSS with `<style>` tags.
       *
       * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as
       * case insensitive.
       * @param {string} lang The language key.
       * @example
       * addInlined('style', 'css');
       */
      value: function addInlined(tagName, lang) {
        var includedCdataInside = {};
        includedCdataInside["language-" + lang] = {
          pattern: /(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,
          lookbehind: true,
          inside: Prism2.languages[lang]
        };
        includedCdataInside["cdata"] = /^<!\[CDATA\[|\]\]>$/i;
        var inside = {
          "included-cdata": {
            pattern: /<!\[CDATA\[[\s\S]*?\]\]>/i,
            inside: includedCdataInside
          }
        };
        inside["language-" + lang] = {
          pattern: /[\s\S]+/,
          inside: Prism2.languages[lang]
        };
        var def = {};
        def[tagName] = {
          pattern: RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g, function() {
            return tagName;
          }), "i"),
          lookbehind: true,
          greedy: true,
          inside
        };
        Prism2.languages.insertBefore("markup", "cdata", def);
      }
    });
    Object.defineProperty(Prism2.languages.markup.tag, "addAttribute", {
      /**
       * Adds an pattern to highlight languages embedded in HTML attributes.
       *
       * An example of an inlined language is CSS with `style` attributes.
       *
       * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as
       * case insensitive.
       * @param {string} lang The language key.
       * @example
       * addAttribute('style', 'css');
       */
      value: function(attrName, lang) {
        Prism2.languages.markup.tag.inside["special-attr"].push({
          pattern: RegExp(
            /(^|["'\s])/.source + "(?:" + attrName + ")" + /\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,
            "i"
          ),
          lookbehind: true,
          inside: {
            "attr-name": /^[^\s=]+/,
            "attr-value": {
              pattern: /=[\s\S]+/,
              inside: {
                "value": {
                  pattern: /(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,
                  lookbehind: true,
                  alias: [lang, "language-" + lang],
                  inside: Prism2.languages[lang]
                },
                "punctuation": [
                  {
                    pattern: /^=/,
                    alias: "attr-equals"
                  },
                  /"|'/
                ]
              }
            }
          }
        });
      }
    });
    Prism2.languages.html = Prism2.languages.markup;
    Prism2.languages.mathml = Prism2.languages.markup;
    Prism2.languages.svg = Prism2.languages.markup;
    Prism2.languages.xml = Prism2.languages.extend("markup", {});
    Prism2.languages.ssml = Prism2.languages.xml;
    Prism2.languages.atom = Prism2.languages.xml;
    Prism2.languages.rss = Prism2.languages.xml;
    (function(Prism3) {
      var string = /(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;
      Prism3.languages.css = {
        "comment": /\/\*[\s\S]*?\*\//,
        "atrule": {
          pattern: RegExp("@[\\w-](?:" + /[^;{\s"']|\s+(?!\s)/.source + "|" + string.source + ")*?" + /(?:;|(?=\s*\{))/.source),
          inside: {
            "rule": /^@[\w-]+/,
            "selector-function-argument": {
              pattern: /(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,
              lookbehind: true,
              alias: "selector"
            },
            "keyword": {
              pattern: /(^|[^\w-])(?:and|not|only|or)(?![\w-])/,
              lookbehind: true
            }
            // See rest below
          }
        },
        "url": {
          // https://drafts.csswg.org/css-values-3/#urls
          pattern: RegExp("\\burl\\((?:" + string.source + "|" + /(?:[^\\\r\n()"']|\\[\s\S])*/.source + ")\\)", "i"),
          greedy: true,
          inside: {
            "function": /^url/i,
            "punctuation": /^\(|\)$/,
            "string": {
              pattern: RegExp("^" + string.source + "$"),
              alias: "url"
            }
          }
        },
        "selector": {
          pattern: RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|` + string.source + ")*(?=\\s*\\{)"),
          lookbehind: true
        },
        "string": {
          pattern: string,
          greedy: true
        },
        "property": {
          pattern: /(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,
          lookbehind: true
        },
        "important": /!important\b/i,
        "function": {
          pattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,
          lookbehind: true
        },
        "punctuation": /[(){};:,]/
      };
      Prism3.languages.css["atrule"].inside.rest = Prism3.languages.css;
      var markup = Prism3.languages.markup;
      if (markup) {
        markup.tag.addInlined("style", "css");
        markup.tag.addAttribute("style", "css");
      }
    })(Prism2);
    Prism2.languages.clike = {
      "comment": [
        {
          pattern: /(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,
          lookbehind: true,
          greedy: true
        },
        {
          pattern: /(^|[^\\:])\/\/.*/,
          lookbehind: true,
          greedy: true
        }
      ],
      "string": {
        pattern: /(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,
        greedy: true
      },
      "class-name": {
        pattern: /(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,
        lookbehind: true,
        inside: {
          "punctuation": /[.\\]/
        }
      },
      "keyword": /\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,
      "boolean": /\b(?:false|true)\b/,
      "function": /\b\w+(?=\()/,
      "number": /\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,
      "operator": /[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,
      "punctuation": /[{}[\];(),.:]/
    };
    Prism2.languages.javascript = Prism2.languages.extend("clike", {
      "class-name": [
        Prism2.languages.clike["class-name"],
        {
          pattern: /(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,
          lookbehind: true
        }
      ],
      "keyword": [
        {
          pattern: /((?:^|\})\s*)catch\b/,
          lookbehind: true
        },
        {
          pattern: /(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,
          lookbehind: true
        }
      ],
      // Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)
      "function": /#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,
      "number": {
        pattern: RegExp(
          /(^|[^\w$])/.source + "(?:" + // constant
          (/NaN|Infinity/.source + "|" + // binary integer
          /0[bB][01]+(?:_[01]+)*n?/.source + "|" + // octal integer
          /0[oO][0-7]+(?:_[0-7]+)*n?/.source + "|" + // hexadecimal integer
          /0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source + "|" + // decimal bigint
          /\d+(?:_\d+)*n/.source + "|" + // decimal number (integer or float) but no bigint
          /(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source) + ")" + /(?![\w$])/.source
        ),
        lookbehind: true
      },
      "operator": /--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/
    });
    Prism2.languages.javascript["class-name"][0].pattern = /(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;
    Prism2.languages.insertBefore("javascript", "keyword", {
      "regex": {
        pattern: RegExp(
          // lookbehind
          // eslint-disable-next-line regexp/no-dupe-characters-character-class
          /((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source + // Regex pattern:
          // There are 2 regex patterns here. The RegExp set notation proposal added support for nested character
          // classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible
          // with the only syntax, so we have to define 2 different regex patterns.
          /\//.source + "(?:" + /(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source + "|" + // `v` flag syntax. This supports 3 levels of nested character classes.
          /(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source + ")" + // lookahead
          /(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source
        ),
        lookbehind: true,
        greedy: true,
        inside: {
          "regex-source": {
            pattern: /^(\/)[\s\S]+(?=\/[a-z]*$)/,
            lookbehind: true,
            alias: "language-regex",
            inside: Prism2.languages.regex
          },
          "regex-delimiter": /^\/|\/$/,
          "regex-flags": /^[a-z]+$/
        }
      },
      // This must be declared before keyword because we use "function" inside the look-forward
      "function-variable": {
        pattern: /#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,
        alias: "function"
      },
      "parameter": [
        {
          pattern: /(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,
          lookbehind: true,
          inside: Prism2.languages.javascript
        },
        {
          pattern: /(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,
          lookbehind: true,
          inside: Prism2.languages.javascript
        },
        {
          pattern: /(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,
          lookbehind: true,
          inside: Prism2.languages.javascript
        },
        {
          pattern: /((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,
          lookbehind: true,
          inside: Prism2.languages.javascript
        }
      ],
      "constant": /\b[A-Z](?:[A-Z_]|\dx?)*\b/
    });
    Prism2.languages.insertBefore("javascript", "string", {
      "hashbang": {
        pattern: /^#!.*/,
        greedy: true,
        alias: "comment"
      },
      "template-string": {
        pattern: /`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,
        greedy: true,
        inside: {
          "template-punctuation": {
            pattern: /^`|`$/,
            alias: "string"
          },
          "interpolation": {
            pattern: /((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,
            lookbehind: true,
            inside: {
              "interpolation-punctuation": {
                pattern: /^\$\{|\}$/,
                alias: "punctuation"
              },
              rest: Prism2.languages.javascript
            }
          },
          "string": /[\s\S]+/
        }
      },
      "string-property": {
        pattern: /((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,
        lookbehind: true,
        greedy: true,
        alias: "property"
      }
    });
    Prism2.languages.insertBefore("javascript", "operator", {
      "literal-property": {
        pattern: /((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,
        lookbehind: true,
        alias: "property"
      }
    });
    if (Prism2.languages.markup) {
      Prism2.languages.markup.tag.addInlined("script", "javascript");
      Prism2.languages.markup.tag.addAttribute(
        /on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,
        "javascript"
      );
    }
    Prism2.languages.js = Prism2.languages.javascript;
    (function() {
      if (typeof Prism2 === "undefined" || typeof document === "undefined") {
        return;
      }
      if (!Element.prototype.matches) {
        Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
      }
      var LOADING_MESSAGE = "Loading";
      var FAILURE_MESSAGE = function(status, message) {
        return " Error " + status + " while fetching file: " + message;
      };
      var FAILURE_EMPTY_MESSAGE = " Error: File does not exist or is empty";
      var EXTENSIONS = {
        "js": "javascript",
        "py": "python",
        "rb": "ruby",
        "ps1": "powershell",
        "psm1": "powershell",
        "sh": "bash",
        "bat": "batch",
        "h": "c",
        "tex": "latex"
      };
      var STATUS_ATTR = "data-src-status";
      var STATUS_LOADING = "loading";
      var STATUS_LOADED = "loaded";
      var STATUS_FAILED = "failed";
      var SELECTOR = "pre[data-src]:not([" + STATUS_ATTR + '="' + STATUS_LOADED + '"]):not([' + STATUS_ATTR + '="' + STATUS_LOADING + '"])';
      function loadFile(src, success, error2) {
        var xhr = new XMLHttpRequest();
        xhr.open("GET", src, true);
        xhr.onreadystatechange = function() {
          if (xhr.readyState == 4) {
            if (xhr.status < 400 && xhr.responseText) {
              success(xhr.responseText);
            } else {
              if (xhr.status >= 400) {
                error2(FAILURE_MESSAGE(xhr.status, xhr.statusText));
              } else {
                error2(FAILURE_EMPTY_MESSAGE);
              }
            }
          }
        };
        xhr.send(null);
      }
      function parseRange(range) {
        var m2 = /^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(range || "");
        if (m2) {
          var start = Number(m2[1]);
          var comma = m2[2];
          var end = m2[3];
          if (!comma) {
            return [start, start];
          }
          if (!end) {
            return [start, void 0];
          }
          return [start, Number(end)];
        }
        return void 0;
      }
      Prism2.hooks.add("before-highlightall", function(env) {
        env.selector += ", " + SELECTOR;
      });
      Prism2.hooks.add("before-sanity-check", function(env) {
        var pre = (
          /** @type {HTMLPreElement} */
          env.element
        );
        if (pre.matches(SELECTOR)) {
          env.code = "";
          pre.setAttribute(STATUS_ATTR, STATUS_LOADING);
          var code2 = pre.appendChild(document.createElement("CODE"));
          code2.textContent = LOADING_MESSAGE;
          var src = pre.getAttribute("data-src");
          var language = env.language;
          if (language === "none") {
            var extension = (/\.(\w+)$/.exec(src) || [, "none"])[1];
            language = EXTENSIONS[extension] || extension;
          }
          Prism2.util.setLanguage(code2, language);
          Prism2.util.setLanguage(pre, language);
          var autoloader = Prism2.plugins.autoloader;
          if (autoloader) {
            autoloader.loadLanguages(language);
          }
          loadFile(
            src,
            function(text2) {
              pre.setAttribute(STATUS_ATTR, STATUS_LOADED);
              var range = parseRange(pre.getAttribute("data-range"));
              if (range) {
                var lines = text2.split(/\r\n?|\n/g);
                var start = range[0];
                var end = range[1] == null ? lines.length : range[1];
                if (start < 0) {
                  start += lines.length;
                }
                start = Math.max(0, Math.min(start - 1, lines.length));
                if (end < 0) {
                  end += lines.length;
                }
                end = Math.max(0, Math.min(end, lines.length));
                text2 = lines.slice(start, end).join("\n");
                if (!pre.hasAttribute("data-start")) {
                  pre.setAttribute("data-start", String(start + 1));
                }
              }
              code2.textContent = text2;
              Prism2.highlightElement(code2);
            },
            function(error2) {
              pre.setAttribute(STATUS_ATTR, STATUS_FAILED);
              code2.textContent = error2;
            }
          );
        }
      });
      Prism2.plugins.fileHighlight = {
        /**
         * Executes the File Highlight plugin for all matching `pre` elements under the given container.
         *
         * Note: Elements which are already loaded or currently loading will not be touched by this method.
         *
         * @param {ParentNode} [container=document]
         */
        highlight: function highlight(container) {
          var elements = (container || document).querySelectorAll(SELECTOR);
          for (var i2 = 0, element; element = elements[i2++]; ) {
            Prism2.highlightElement(element);
          }
        }
      };
      var logged = false;
      Prism2.fileHighlight = function() {
        if (!logged) {
          console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.");
          logged = true;
        }
        Prism2.plugins.fileHighlight.highlight.apply(this, arguments);
      };
    })();
  })(prism$1);
  return prism$1.exports;
}
var prismExports = requirePrism();
var prism = /* @__PURE__ */ getDefaultExportFromCjs(prismExports);
var Prism = /* @__PURE__ */ _mergeNamespaces({
  __proto__: null,
  default: prism
}, [prismExports]);
const areJSONEqual = (a2, b2) => {
  return JSON.stringify(a2) === JSON.stringify(b2);
};
const isJSONLikeString = (value) => {
  if (typeof value !== "string")
    return false;
  const trimmed = value.trim();
  if (!(trimmed.startsWith("{") && trimmed.endsWith("}") || trimmed.startsWith("[") && trimmed.endsWith("]"))) {
    return false;
  }
  if (trimmed.startsWith("{")) {
    if (trimmed === "{}")
      return true;
    if (/".*"\s*:\s*.+/.test(trimmed))
      return true;
    return false;
  }
  if (trimmed.indexOf('"') !== -1)
    return true;
  const simpleArrayScalar = /^\[\s*(?:-?\d+(\.\d+)?|true|false|null)(\s*,\s*(?:-?\d+(\.\d+)?|true|false|null))*\s*\]$/i;
  if (trimmed.startsWith("[") && simpleArrayScalar.test(trimmed))
    return true;
  return false;
};
const isValidJSON = (value) => {
  try {
    JSON.stringify(value);
    return true;
  } catch (error2) {
    return false;
  }
};
const parseJson = async (response) => {
  try {
    return await response.json();
  } catch {
    return null;
  }
};
const unescapeJson = (input) => {
  let isValidJSON2 = false;
  let parsedJSON = void 0;
  let unescapedString = input;
  const recursiveUnescape = (inputStr) => {
    let newStr = inputStr.replace(/\\(.)/g, "$1");
    while (newStr !== inputStr) {
      inputStr = newStr;
      newStr = inputStr.replace(/\\(.)/g, "$1");
    }
    return newStr;
  };
  const deepParse = (data) => {
    if (isJSONLikeString(data)) {
      try {
        const innerJson = JSON.parse(data);
        if (typeof innerJson === "object" && innerJson !== null) {
          return deepParse(innerJson);
        }
      } catch (e2) {
        return data;
      }
    } else if (typeof data === "object" && data !== null) {
      const obj = data;
      Object.keys(obj).forEach((key) => {
        obj[key] = deepParse(obj[key]);
      });
    }
    return data;
  };
  try {
    let parsed;
    let parsedFromJson = false;
    if (isJSONLikeString(input)) {
      parsed = JSON.parse(input);
      parsedFromJson = true;
    } else if (typeof input === "object" && input !== null) {
      parsed = input;
      parsedFromJson = true;
    } else {
      parsed = input;
      parsedFromJson = false;
    }
    parsedJSON = deepParse(parsed);
    unescapedString = JSON.stringify(parsedJSON, null, 2);
    isValidJSON2 = parsedFromJson;
  } catch (error2) {
    if (typeof input === "object" && input !== null) {
      try {
        unescapedString = JSON.stringify(input, null, 2);
        isValidJSON2 = true;
        parsedJSON = input;
      } catch (stringifyError) {
        unescapedString = recursiveUnescape(input.toString());
      }
    } else {
      unescapedString = recursiveUnescape(input.toString());
    }
  }
  return {
    isValidJSON: isValidJSON2,
    unescapedString,
    parsedJSON
  };
};
var __classPrivateFieldSet$2 = function(receiver, state, value, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var __classPrivateFieldGet$2 = function(receiver, state, kind, f2) {
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f2 : kind === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _LfSyntax_LF_MANAGER, _LfSyntax_markdown, _LfSyntax_prism, _LfSyntax_loadedLanguages;
const LANGUAGE_LOADERS = {
  css: () => Promise.resolve().then(function() {
    return prism_css_highlight;
  }),
  javascript: () => Promise.resolve().then(function() {
    return prism_javascript_highlight;
  }),
  json: () => Promise.resolve().then(function() {
    return prism_json_highlight;
  }),
  jsx: () => Promise.resolve().then(function() {
    return prism_jsx_highlight;
  }),
  markdown: () => Promise.resolve().then(function() {
    return prism_markdown_highlight;
  }),
  markup: () => Promise.resolve().then(function() {
    return prism_markup_highlight;
  }),
  python: () => Promise.resolve().then(function() {
    return prism_python_highlight;
  }),
  regex: () => Promise.resolve().then(function() {
    return prism_regex_highlight;
  }),
  scss: () => Promise.resolve().then(function() {
    return prism_scss_highlight;
  }),
  tsx: () => Promise.resolve().then(function() {
    return prism_tsx_highlight;
  }),
  typescript: () => Promise.resolve().then(function() {
    return prism_typescript_highlight;
  })
};
const LANGUAGE_EXPORT_NAMES = {
  css: "LF_SYNTAX_CSS",
  javascript: "LF_SYNTAX_JAVASCRIPT",
  json: "LF_SYNTAX_JSON",
  jsx: "LF_SYNTAX_JSX",
  markdown: "LF_SYNTAX_MARKDOWN",
  markup: "LF_SYNTAX_MARKUP",
  python: "LF_SYNTAX_PYTHON",
  regex: "LF_SYNTAX_REGEX",
  scss: "LF_SYNTAX_SCSS",
  tsx: "LF_SYNTAX_TSX",
  typescript: "LF_SYNTAX_TYPESCRIPT"
};
const LANGUAGE_ALIASES = {
  js: "javascript",
  jsx: "jsx",
  ts: "typescript",
  tsx: "tsx",
  md: "markdown",
  html: "markup",
  htm: "markup"
};
class LfSyntax {
  constructor(lfFramework2) {
    _LfSyntax_LF_MANAGER.set(this, void 0);
    _LfSyntax_markdown.set(this, void 0);
    _LfSyntax_prism.set(this, void 0);
    _LfSyntax_loadedLanguages.set(this, /* @__PURE__ */ new Set());
    this.json = {
      areEqual: areJSONEqual,
      isLikeString: isJSONLikeString,
      isValid: isValidJSON,
      parse: parseJson,
      unescape: unescapeJson
    };
    this.parseMarkdown = (content) => {
      return __classPrivateFieldGet$2(this, _LfSyntax_markdown, "f").parse(content, {});
    };
    this.highlightElement = (element) => {
      __classPrivateFieldGet$2(this, _LfSyntax_prism, "f").highlightElement(element);
    };
    this.highlightCode = (code2, language) => {
      const grammar = __classPrivateFieldGet$2(this, _LfSyntax_prism, "f").languages[language];
      if (!grammar) {
        const { debug } = __classPrivateFieldGet$2(this, _LfSyntax_LF_MANAGER, "f");
        debug.logs.new(__classPrivateFieldGet$2(this, _LfSyntax_LF_MANAGER, "f"), `[LfSyntax] Language "${language}" not loaded for syntax highlighting`, "warning");
        return code2;
      }
      return __classPrivateFieldGet$2(this, _LfSyntax_prism, "f").highlight(code2, grammar, language);
    };
    this.registerLanguage = (name, loader) => {
      if (!__classPrivateFieldGet$2(this, _LfSyntax_loadedLanguages, "f").has(name)) {
        loader(__classPrivateFieldGet$2(this, _LfSyntax_prism, "f"));
        if (__classPrivateFieldGet$2(this, _LfSyntax_prism, "f").languages[name]) {
          __classPrivateFieldGet$2(this, _LfSyntax_loadedLanguages, "f").add(name);
        } else {
          const { debug } = __classPrivateFieldGet$2(this, _LfSyntax_LF_MANAGER, "f");
          debug.logs.new(__classPrivateFieldGet$2(this, _LfSyntax_LF_MANAGER, "f"), `[LfSyntax] Failed to register Prism language "${name}" (loader did not define grammar)`, "warning");
        }
      }
    };
    this.isLanguageLoaded = (name) => {
      const normalized = (name ?? "").toLowerCase();
      if (__classPrivateFieldGet$2(this, _LfSyntax_loadedLanguages, "f").has(normalized)) {
        return true;
      }
      const canonical = LANGUAGE_ALIASES[normalized];
      if (canonical) {
        return __classPrivateFieldGet$2(this, _LfSyntax_loadedLanguages, "f").has(canonical);
      }
      return __classPrivateFieldGet$2(this, _LfSyntax_loadedLanguages, "f").has(normalized);
    };
    this.loadLanguage = async (name) => {
      if (typeof window === "undefined" || typeof document === "undefined") {
        return false;
      }
      const normalized = (name ?? "").toLowerCase();
      if (!normalized) {
        return false;
      }
      const canonical = LANGUAGE_ALIASES[normalized] ?? (normalized in LANGUAGE_LOADERS ? normalized : void 0);
      if (!canonical) {
        __classPrivateFieldGet$2(this, _LfSyntax_LF_MANAGER, "f").debug.logs.new(__classPrivateFieldGet$2(this, _LfSyntax_LF_MANAGER, "f"), `[LfSyntax] No loader defined for language "${normalized}".`, "warning");
        return false;
      }
      if (this.isLanguageLoaded(canonical)) {
        if (canonical !== normalized) {
          __classPrivateFieldGet$2(this, _LfSyntax_loadedLanguages, "f").add(normalized);
        }
        return true;
      }
      try {
        const module = await LANGUAGE_LOADERS[canonical]();
        const exportName = LANGUAGE_EXPORT_NAMES[canonical];
        const loader = module == null ? void 0 : module[exportName];
        if (typeof loader === "function") {
          this.registerLanguage(canonical, loader);
          if (canonical !== normalized) {
            __classPrivateFieldGet$2(this, _LfSyntax_loadedLanguages, "f").add(normalized);
          }
          return this.isLanguageLoaded(canonical);
        }
        __classPrivateFieldGet$2(this, _LfSyntax_LF_MANAGER, "f").debug.logs.new(__classPrivateFieldGet$2(this, _LfSyntax_LF_MANAGER, "f"), `[LfSyntax] Loader for language "${canonical}" did not expose "${exportName}".`, "warning");
      } catch (error2) {
        __classPrivateFieldGet$2(this, _LfSyntax_LF_MANAGER, "f").debug.logs.new(__classPrivateFieldGet$2(this, _LfSyntax_LF_MANAGER, "f"), `[LfSyntax] Failed to load language "${canonical}": ${error2}`, "error");
      }
      return false;
    };
    __classPrivateFieldSet$2(this, _LfSyntax_LF_MANAGER, lfFramework2);
    __classPrivateFieldSet$2(this, _LfSyntax_markdown, new MarkdownIt({
      html: false,
      // Don't allow raw HTML for security
      linkify: false,
      // Don't auto-convert URLs (explicit links only)
      typographer: false
      // Don't replace quotes/dashes
    }));
    __classPrivateFieldSet$2(this, _LfSyntax_prism, Prism);
  }
  /**
   * Get the underlying MarkdownIt instance for advanced configuration or plugin usage.
   *
   * @returns The MarkdownIt parser instance
   *
   * @example
   * ```typescript
   * const md = syntax.markdown;
   * md.use(somePlugin);
   * ```
   */
  get markdown() {
    return __classPrivateFieldGet$2(this, _LfSyntax_markdown, "f");
  }
  /**
   * Get the underlying Prism instance for advanced usage or plugin integration.
   *
   * @returns The Prism syntax highlighter instance
   *
   * @example
   * ```typescript
   * const prism = syntax.prism;
   * // Use Prism API directly
   * ```
   */
  get prism() {
    return __classPrivateFieldGet$2(this, _LfSyntax_prism, "f");
  }
}
_LfSyntax_LF_MANAGER = /* @__PURE__ */ new WeakMap(), _LfSyntax_markdown = /* @__PURE__ */ new WeakMap(), _LfSyntax_prism = /* @__PURE__ */ new WeakMap(), _LfSyntax_loadedLanguages = /* @__PURE__ */ new WeakMap();
var __classPrivateFieldSet$1 = function(receiver, state, value, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var __classPrivateFieldGet$1 = function(receiver, state, kind, f2) {
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f2 : kind === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _LfTheme_COMPONENTS, _LfTheme_CURRENT, _LfTheme_DEFAULT, _LfTheme_LIST, _LfTheme_MANAGER, _LfTheme_MASTER_CUSTOM_STYLE, _LfTheme_STYLE_ELEMENT, _LfTheme_SPRITE_IDS, _LfTheme_SPRITE_INDEXING, _LfTheme_consistencyCheck, _LfTheme_prepFont, _LfTheme_prepGlobalStyles, _LfTheme_prepVariables, _LfTheme_updateComponents, _LfTheme_updateDocument, _LfTheme_updateStyleElement;
class LfTheme {
  constructor(lfFramework2) {
    _LfTheme_COMPONENTS.set(this, /* @__PURE__ */ new Set());
    _LfTheme_CURRENT.set(this, void 0);
    _LfTheme_DEFAULT.set(this, "dark");
    _LfTheme_LIST.set(this, void 0);
    _LfTheme_MANAGER.set(this, void 0);
    _LfTheme_MASTER_CUSTOM_STYLE.set(this, "MASTER");
    _LfTheme_STYLE_ELEMENT.set(this, void 0);
    _LfTheme_SPRITE_IDS.set(this, void 0);
    _LfTheme_SPRITE_INDEXING.set(this, void 0);
    _LfTheme_consistencyCheck.set(this, () => {
      var _a2;
      const { logs } = __classPrivateFieldGet$1(this, _LfTheme_MANAGER, "f").debug;
      if (!((_a2 = __classPrivateFieldGet$1(this, _LfTheme_LIST, "f")) == null ? void 0 : _a2[__classPrivateFieldGet$1(this, _LfTheme_CURRENT, "f")])) {
        logs.new(this, `Invalid theme! Falling back to (${__classPrivateFieldGet$1(this, _LfTheme_DEFAULT, "f")}).`);
        __classPrivateFieldSet$1(this, _LfTheme_CURRENT, __classPrivateFieldGet$1(this, _LfTheme_DEFAULT, "f"));
      }
    });
    _LfTheme_prepFont.set(this, () => {
      const { get } = __classPrivateFieldGet$1(this, _LfTheme_MANAGER, "f").assets;
      let css = "";
      const { font } = this.get.current();
      if (font == null ? void 0 : font.length) {
        font.forEach((f2) => {
          const path = get(`./assets/fonts/${f2}-Regular`).path;
          css += `@font-face{font-family:${f2.split("-")[0].replace(new RegExp("(?<!^)(?=[A-Z])", "g"), " ")};`;
          css += `src:url('${path}.woff2')format('woff2');}`;
        });
      }
      return css;
    });
    _LfTheme_prepGlobalStyles.set(this, () => {
      let css = "";
      for (const [selector, rules] of Object.entries(GLOBAL_STYLES)) {
        if (selector.startsWith("@keyframes")) {
          css += `${selector} { `;
          if (Array.isArray(rules)) {
            for (const frame of rules) {
              for (const [frameKey, props] of Object.entries(frame)) {
                css += `${frameKey} { `;
                for (const [prop, value] of Object.entries(props)) {
                  css += `${prop}: ${value}; `;
                }
                css += `} `;
              }
            }
          }
          css += `} `;
        } else {
          css += `${selector} { `;
          for (const [prop, value] of Object.entries(rules)) {
            css += `${prop}: ${value}; `;
          }
          css += `} `;
        }
      }
      return css.trim();
    });
    _LfTheme_prepVariables.set(this, () => {
      const { assets, color } = __classPrivateFieldGet$1(this, _LfTheme_MANAGER, "f");
      let css = "";
      const { variables } = this.get.current();
      Object.entries(variables).forEach(([key, val]) => {
        switch (key) {
          case (key.startsWith(LF_THEME_COLORS_PREFIX) && key):
            const { rgbValues } = color.compute(val);
            css += `${key}: ${rgbValues};`;
            break;
          case (key.startsWith(LF_THEME_ICONS_PREFIX) && key):
            const path = assets.get(`./assets/svg/${val}.svg`).path;
            css += `${key}: url(${path}) no-repeat center;`;
            break;
          default:
            css += `${key}: ${val};`;
            break;
        }
      });
      return css;
    });
    _LfTheme_updateComponents.set(this, () => {
      __classPrivateFieldGet$1(this, _LfTheme_COMPONENTS, "f").forEach((comp) => {
        var _a2;
        if ((_a2 = comp == null ? void 0 : comp.rootElement) == null ? void 0 : _a2.isConnected) {
          comp.refresh();
        }
      });
    });
    _LfTheme_updateDocument.set(this, () => {
      const { isDark, name } = this.get.current();
      const dom = document.documentElement;
      dom.setAttribute(LF_THEME_ATTRIBUTE.theme, name);
      if (isDark) {
        dom.removeAttribute(LF_THEME_ATTRIBUTE.light);
        dom.setAttribute(LF_THEME_ATTRIBUTE.dark, "");
      } else {
        dom.removeAttribute(LF_THEME_ATTRIBUTE.dark);
        dom.setAttribute(LF_THEME_ATTRIBUTE.light, "");
      }
      document.dispatchEvent(new CustomEvent("lf-theme-change"));
    });
    _LfTheme_updateStyleElement.set(this, () => {
      let css = "";
      css += __classPrivateFieldGet$1(this, _LfTheme_prepFont, "f").call(this);
      css += __classPrivateFieldGet$1(this, _LfTheme_prepGlobalStyles, "f").call(this);
      css += `:root[lf-theme="${__classPrivateFieldGet$1(this, _LfTheme_CURRENT, "f")}"] {${__classPrivateFieldGet$1(this, _LfTheme_prepVariables, "f").call(this)}}`;
      __classPrivateFieldGet$1(this, _LfTheme_STYLE_ELEMENT, "f").innerText = css;
    });
    this.bemClass = (block2, element, modifiers) => {
      let baseClass = element ? `${block2}__${element}` : block2;
      if (modifiers) {
        const modifierClasses = Object.entries(modifiers).filter(([_2, isActive]) => isActive).map(([key]) => `${baseClass}--${key}`);
        baseClass += ` ${modifierClasses.join(" ")}`;
      }
      return baseClass.trim();
    };
    this.get = {
      current: () => {
        __classPrivateFieldGet$1(this, _LfTheme_consistencyCheck, "f").call(this);
        const { variables, isDark, customStyles, font } = __classPrivateFieldGet$1(this, _LfTheme_LIST, "f")[__classPrivateFieldGet$1(this, _LfTheme_CURRENT, "f")];
        return {
          variables,
          customStyles,
          font,
          isDark,
          name: __classPrivateFieldGet$1(this, _LfTheme_CURRENT, "f"),
          full: __classPrivateFieldGet$1(this, _LfTheme_LIST, "f")[__classPrivateFieldGet$1(this, _LfTheme_CURRENT, "f")]
        };
      },
      sprite: {
        path: () => {
          const { assets } = __classPrivateFieldGet$1(this, _LfTheme_MANAGER, "f");
          return assets.get("./assets/svg/sprite.svg").path;
        },
        ids: async () => {
          if (__classPrivateFieldGet$1(this, _LfTheme_SPRITE_IDS, "f"))
            return __classPrivateFieldGet$1(this, _LfTheme_SPRITE_IDS, "f");
          if (__classPrivateFieldGet$1(this, _LfTheme_SPRITE_INDEXING, "f"))
            return __classPrivateFieldGet$1(this, _LfTheme_SPRITE_INDEXING, "f");
          __classPrivateFieldSet$1(this, _LfTheme_SPRITE_INDEXING, (async () => {
            try {
              const { assets } = __classPrivateFieldGet$1(this, _LfTheme_MANAGER, "f");
              const sprite = assets.get("./assets/svg/sprite.svg");
              if (!(sprite == null ? void 0 : sprite.path) || typeof fetch === "undefined")
                return /* @__PURE__ */ new Set();
              const res = await fetch(sprite.path);
              if (!res.ok)
                return /* @__PURE__ */ new Set();
              const text2 = await res.text();
              const ids = /* @__PURE__ */ new Set();
              const re2 = /<symbol\s+id=\"([^\"]+)\"/g;
              let m2;
              while (m2 = re2.exec(text2))
                ids.add(m2[1]);
              __classPrivateFieldSet$1(this, _LfTheme_SPRITE_IDS, ids, "f");
              return ids;
            } catch {
              return /* @__PURE__ */ new Set();
            } finally {
              __classPrivateFieldSet$1(this, _LfTheme_SPRITE_INDEXING, void 0, "f");
            }
          })());
          return __classPrivateFieldGet$1(this, _LfTheme_SPRITE_INDEXING, "f");
        },
        hasIcon: async (id2) => {
          const ids = await this.get.sprite.ids();
          return ids.has(id2);
        }
      },
      icon: (name) => LF_ICONS_REGISTRY[name],
      icons: () => LF_ICONS_REGISTRY,
      themes: () => {
        const asArray = [];
        const nodes = [];
        Object.keys(__classPrivateFieldGet$1(this, _LfTheme_LIST, "f")).forEach((id2) => {
          const char0 = id2.charAt(0).toUpperCase();
          asArray.push(id2);
          nodes.push({
            id: id2,
            value: `${char0}${id2.substring(1)}`
          });
        });
        return {
          asArray,
          asDataset: {
            nodes: [
              {
                icon: this.get.icon("colorSwatch"),
                id: "root",
                value: "Random",
                children: nodes
              }
            ]
          }
        };
      }
    };
    this.set = (name, list2) => {
      if (typeof document === "undefined") {
        return;
      }
      if (!__classPrivateFieldGet$1(this, _LfTheme_STYLE_ELEMENT, "f")) {
        __classPrivateFieldSet$1(this, _LfTheme_STYLE_ELEMENT, document.documentElement.querySelector("head").appendChild(document.createElement("style")));
      }
      if (name) {
        __classPrivateFieldSet$1(this, _LfTheme_CURRENT, name);
      }
      if (list2) {
        __classPrivateFieldSet$1(this, _LfTheme_LIST, list2);
      }
      __classPrivateFieldGet$1(this, _LfTheme_consistencyCheck, "f").call(this);
      __classPrivateFieldGet$1(this, _LfTheme_updateStyleElement, "f").call(this);
      __classPrivateFieldGet$1(this, _LfTheme_updateComponents, "f").call(this);
      __classPrivateFieldGet$1(this, _LfTheme_updateDocument, "f").call(this);
    };
    this.refresh = () => {
      const { logs } = __classPrivateFieldGet$1(this, _LfTheme_MANAGER, "f").debug;
      try {
        __classPrivateFieldGet$1(this, _LfTheme_updateStyleElement, "f").call(this);
        logs.new(this, "Theme " + __classPrivateFieldGet$1(this, _LfTheme_CURRENT, "f") + " refreshed.");
        document.dispatchEvent(new CustomEvent("lf-theme-refresh"));
      } catch (error2) {
        logs.new(this, "Theme not refreshed.", "warning");
      }
    };
    this.setLfStyle = (comp) => {
      const isMaliciousCSS = (css2) => {
        if (!css2)
          return true;
        if (/javascript:/i.test(css2))
          return true;
        if (/<script>/i.test(css2))
          return true;
        if (/url\(.*(javascript|data):/i.test(css2))
          return true;
        return false;
      };
      let css = "";
      const { customStyles } = this.get.current();
      const tag = comp.rootElement.tagName;
      if (customStyles == null ? void 0 : customStyles[__classPrivateFieldGet$1(this, _LfTheme_MASTER_CUSTOM_STYLE, "f")]) {
        css += customStyles[__classPrivateFieldGet$1(this, _LfTheme_MASTER_CUSTOM_STYLE, "f")];
      }
      if (customStyles == null ? void 0 : customStyles[tag]) {
        css += ` ${customStyles[tag]}`;
      }
      if (comp.lfStyle) {
        css += ` ${comp.lfStyle}`;
      }
      return !isMaliciousCSS(css) && css || "";
    };
    this.randomize = () => {
      const { logs } = __classPrivateFieldGet$1(this, _LfTheme_MANAGER, "f").debug;
      const themes = this.get.themes().asArray;
      if (themes.length > 0) {
        let index = null;
        while (index === null || themes[index] === __classPrivateFieldGet$1(this, _LfTheme_CURRENT, "f")) {
          index = Math.floor(Math.random() * Math.floor(themes.length));
        }
        this.set(themes[index]);
      } else {
        logs.new(this, "Couldn't randomize theme: no themes available!", "warning");
      }
    };
    this.register = (comp) => {
      __classPrivateFieldGet$1(this, _LfTheme_COMPONENTS, "f").add(comp);
    };
    this.unregister = (comp) => {
      var _a2;
      (_a2 = __classPrivateFieldGet$1(this, _LfTheme_COMPONENTS, "f")) == null ? void 0 : _a2.delete(comp);
    };
    __classPrivateFieldSet$1(this, _LfTheme_MANAGER, lfFramework2);
    __classPrivateFieldSet$1(this, _LfTheme_LIST, THEME_LIST);
    __classPrivateFieldSet$1(this, _LfTheme_CURRENT, __classPrivateFieldGet$1(this, _LfTheme_DEFAULT, "f"));
  }
}
_LfTheme_COMPONENTS = /* @__PURE__ */ new WeakMap(), _LfTheme_CURRENT = /* @__PURE__ */ new WeakMap(), _LfTheme_DEFAULT = /* @__PURE__ */ new WeakMap(), _LfTheme_LIST = /* @__PURE__ */ new WeakMap(), _LfTheme_MANAGER = /* @__PURE__ */ new WeakMap(), _LfTheme_MASTER_CUSTOM_STYLE = /* @__PURE__ */ new WeakMap(), _LfTheme_STYLE_ELEMENT = /* @__PURE__ */ new WeakMap(), _LfTheme_SPRITE_IDS = /* @__PURE__ */ new WeakMap(), _LfTheme_SPRITE_INDEXING = /* @__PURE__ */ new WeakMap(), _LfTheme_consistencyCheck = /* @__PURE__ */ new WeakMap(), _LfTheme_prepFont = /* @__PURE__ */ new WeakMap(), _LfTheme_prepGlobalStyles = /* @__PURE__ */ new WeakMap(), _LfTheme_prepVariables = /* @__PURE__ */ new WeakMap(), _LfTheme_updateComponents = /* @__PURE__ */ new WeakMap(), _LfTheme_updateDocument = /* @__PURE__ */ new WeakMap(), _LfTheme_updateStyleElement = /* @__PURE__ */ new WeakMap();
var __classPrivateFieldGet = function(receiver, state, kind, f2) {
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f2 : kind === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var __classPrivateFieldSet = function(receiver, state, value, kind, f2) {
  if (typeof state === "function" ? receiver !== state || true : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return state.set(receiver, value), value;
};
var _LfFramework_LISTENERS_SETUP, _LfFramework_MODULES, _LfFramework_SHAPES, _LfFramework_data, _LfFramework_drag, _LfFramework_llm, _LfFramework_portal, _LfFramework_syntax, _LfFramework_setupListeners;
let ASSET_BASE_PATH = "";
const fallbackGetAssetPath = (path) => {
  return ASSET_BASE_PATH + path;
};
const fallbackSetAssetPath = (path) => {
  ASSET_BASE_PATH = path.endsWith("/") ? path : path + "/";
};
let getAssetPath = fallbackGetAssetPath;
let setAssetPath = fallbackSetAssetPath;
class LfFramework {
  constructor() {
    _LfFramework_LISTENERS_SETUP.set(this, false);
    _LfFramework_MODULES.set(this, /* @__PURE__ */ new Map([
      [
        "lf-framework",
        {
          name: "lf-framework",
          getAssetPath,
          setAssetPath
        }
      ]
    ]));
    _LfFramework_SHAPES.set(this, /* @__PURE__ */ new WeakMap());
    _LfFramework_data.set(this, void 0);
    _LfFramework_drag.set(this, void 0);
    _LfFramework_llm.set(this, void 0);
    _LfFramework_portal.set(this, void 0);
    _LfFramework_syntax.set(this, void 0);
    _LfFramework_setupListeners.set(this, () => {
      if (typeof document === "undefined") {
        return;
      }
      document.addEventListener("click", (e2) => {
        const { utilities, portal } = this;
        const { clickCallbacks } = utilities;
        const paths = e2.composedPath();
        clickCallbacks.forEach(({ cb: cb2, element }) => {
          if (!(element == null ? void 0 : element.isConnected)) {
            cb2();
            return;
          }
          if (paths.includes(element)) {
            return;
          }
          const portalState = portal.getState(element);
          if (portalState) {
            const { parent } = portalState;
            if (!paths.includes(parent)) {
              cb2();
            }
          } else {
            cb2();
          }
        });
      });
    });
    this.addClickCallback = (cb2, async) => {
      const { utilities } = this;
      const { clickCallbacks } = utilities;
      if (!__classPrivateFieldGet(this, _LfFramework_LISTENERS_SETUP, "f")) {
        __classPrivateFieldSet(this, _LfFramework_LISTENERS_SETUP, true);
        __classPrivateFieldGet(this, _LfFramework_setupListeners, "f").call(this);
      }
      if (async) {
        requestAnimationFrame(async () => clickCallbacks.add(cb2));
      } else {
        clickCallbacks.add(cb2);
      }
    };
    this.assignRef = (refs, key) => (el2) => {
      if (el2)
        refs[key] = el2;
    };
    this.getModules = () => __classPrivateFieldGet(this, _LfFramework_MODULES, "f");
    this.register = (module, options) => {
      if (__classPrivateFieldGet(this, _LfFramework_MODULES, "f").has(module)) {
        this.debug.logs.new(this, `Module ${module} is already registered.`, "error");
        return;
      }
      const safeGet = typeof options.getAssetPath === "function" ? options.getAssetPath : fallbackGetAssetPath;
      const safeSet = typeof options.setAssetPath === "function" ? options.setAssetPath : fallbackSetAssetPath;
      __classPrivateFieldGet(this, _LfFramework_MODULES, "f").set(module, {
        name: module,
        getAssetPath: safeGet,
        setAssetPath: safeSet
      });
      this.debug.logs.new(this, `Module ${module} registered.`);
    };
    this.removeClickCallback = (cb2) => {
      this.utilities.clickCallbacks.delete(cb2);
    };
    this.shapes = {
      get: () => __classPrivateFieldGet(this, _LfFramework_SHAPES, "f").get(this),
      set: (shapes) => {
        __classPrivateFieldGet(this, _LfFramework_SHAPES, "f").set(this, shapes);
      }
    };
    const ICON_STYLE_CACHE = /* @__PURE__ */ new Map();
    this.assets = {
      get: (value, module = "lf-framework") => {
        if (!__classPrivateFieldGet(this, _LfFramework_MODULES, "f").has(module)) {
          this.debug.logs.new(this, `Module ${module} is not registered.`, "error");
          return {
            path: "",
            style: { mask: "", webkitMask: "" }
          };
        }
        const normalizeRequest = (raw) => {
          if (raw.startsWith("./assets/")) {
            return `./${raw.slice(9)}`;
          }
          if (raw.startsWith("assets/")) {
            return `./${raw.slice(7)}`;
          }
          if (raw.startsWith("/assets/")) {
            return `./${raw.slice(8)}`;
          }
          return raw;
        };
        const request = normalizeRequest(value);
        if (ICON_STYLE_CACHE.has(request)) {
          return ICON_STYLE_CACHE.get(request);
        }
        const { getAssetPath: getAssetPath2 } = __classPrivateFieldGet(this, _LfFramework_MODULES, "f").get(module);
        const resolveGetAssetPath = typeof getAssetPath2 === "function" ? getAssetPath2 : fallbackGetAssetPath;
        const path = resolveGetAssetPath(request);
        const style = {
          mask: `url('${path}') no-repeat center`,
          webkitMask: `url('${path}') no-repeat center`
        };
        const cached = { path, style };
        ICON_STYLE_CACHE.set(request, cached);
        return cached;
      },
      set: (value, module) => {
        if (!module) {
          __classPrivateFieldGet(this, _LfFramework_MODULES, "f").forEach(({ setAssetPath: setAssetPath2 }) => {
            if (typeof setAssetPath2 === "function") {
              setAssetPath2(value);
            } else {
              fallbackSetAssetPath(value);
            }
          });
        } else if (__classPrivateFieldGet(this, _LfFramework_MODULES, "f").has(module)) {
          const { setAssetPath: setAssetPath2 } = __classPrivateFieldGet(this, _LfFramework_MODULES, "f").get(module);
          if (typeof setAssetPath2 === "function") {
            setAssetPath2(value);
          } else {
            fallbackSetAssetPath(value);
          }
        }
      }
    };
    this.color = new LfColor(this);
    this.debug = new LfDebug(this);
    this.effects = new LfEffects(this);
    this.theme = new LfTheme(this);
    this.utilities = {
      clickCallbacks: /* @__PURE__ */ new Set()
    };
  }
  //#region Lazy Getters for Heavy Modules
  /**
   * Data module - lazy initialized on first access.
   * Provides utilities for data manipulation and tree structures.
   */
  get data() {
    if (!__classPrivateFieldGet(this, _LfFramework_data, "f")) {
      __classPrivateFieldSet(this, _LfFramework_data, new LfData(this));
    }
    return __classPrivateFieldGet(this, _LfFramework_data, "f");
  }
  /**
   * Drag module - lazy initialized on first access.
   * Provides drag-and-drop functionality.
   */
  get drag() {
    if (!__classPrivateFieldGet(this, _LfFramework_drag, "f")) {
      __classPrivateFieldSet(this, _LfFramework_drag, new LfDrag(this));
    }
    return __classPrivateFieldGet(this, _LfFramework_drag, "f");
  }
  /**
   * LLM module - lazy initialized on first access.
   * Provides utilities for LLM streaming and interaction.
   */
  get llm() {
    if (!__classPrivateFieldGet(this, _LfFramework_llm, "f")) {
      __classPrivateFieldSet(this, _LfFramework_llm, new LfLLM(this));
    }
    return __classPrivateFieldGet(this, _LfFramework_llm, "f");
  }
  /**
   * Portal module - lazy initialized on first access.
   * Manages DOM portals for rendering content outside component tree.
   */
  get portal() {
    if (!__classPrivateFieldGet(this, _LfFramework_portal, "f")) {
      __classPrivateFieldSet(this, _LfFramework_portal, new LfPortal(this));
    }
    return __classPrivateFieldGet(this, _LfFramework_portal, "f");
  }
  /**
   * Syntax module - lazy initialized on first access.
   * Provides markdown parsing and code syntax highlighting.
   * Heavy module: loads Prism + Markdown-it only when needed.
   */
  get syntax() {
    if (!__classPrivateFieldGet(this, _LfFramework_syntax, "f")) {
      __classPrivateFieldSet(this, _LfFramework_syntax, new LfSyntax(this));
    }
    return __classPrivateFieldGet(this, _LfFramework_syntax, "f");
  }
  sanitizeProps(props, compName) {
    const ALLOWED_ATTRS = new Set(LF_FRAMEWORK_ALLOWED_ATTRS);
    const ALLOWED_PREFIXES = new Set(LF_FRAMEWORK_ALLOWED_PREFIXES);
    const PROPS = getComponentProps();
    if (compName && PROPS[compName]) {
      for (const key of PROPS[compName]) {
        ALLOWED_ATTRS.add(key);
      }
    }
    const isAllowedAttribute = (attrName) => {
      if (ALLOWED_ATTRS.has(attrName))
        return true;
      if (ALLOWED_PREFIXES.has(attrName.split("-")[0]))
        return true;
      return false;
    };
    const isMaliciousValue = (value) => {
      if (typeof value !== "string")
        return false;
      if (/javascript:/i.test(value))
        return true;
      if (/<script>/i.test(value))
        return true;
      return false;
    };
    const sanitized = {};
    for (const key in props) {
      if (!Object.prototype.hasOwnProperty.call(props, key))
        continue;
      const value = props[key];
      if (key.toLowerCase().startsWith("on"))
        continue;
      if (!isAllowedAttribute(key))
        continue;
      if (isMaliciousValue(value))
        continue;
      sanitized[key] = value;
    }
    if (compName) {
      return sanitized;
    }
    return sanitized;
  }
}
_LfFramework_LISTENERS_SETUP = /* @__PURE__ */ new WeakMap(), _LfFramework_MODULES = /* @__PURE__ */ new WeakMap(), _LfFramework_SHAPES = /* @__PURE__ */ new WeakMap(), _LfFramework_data = /* @__PURE__ */ new WeakMap(), _LfFramework_drag = /* @__PURE__ */ new WeakMap(), _LfFramework_llm = /* @__PURE__ */ new WeakMap(), _LfFramework_portal = /* @__PURE__ */ new WeakMap(), _LfFramework_syntax = /* @__PURE__ */ new WeakMap(), _LfFramework_setupListeners = /* @__PURE__ */ new WeakMap();
const LF_SYNTAX_CSS = (Prism2) => {
  var e2 = /(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;
  Prism2.languages.css = {
    comment: /\/\*[\s\S]*?\*\//,
    atrule: {
      pattern: RegExp(`@[\\w-](?:[^;{\\s"']|\\s+(?!\\s)|` + e2.source + ")*?(?:;|(?=\\s*\\{))"),
      inside: {
        rule: /^@[\w-]+/,
        "selector-function-argument": {
          pattern: /(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,
          lookbehind: true,
          alias: "selector"
        },
        keyword: {
          pattern: /(^|[^\w-])(?:and|not|only|or)(?![\w-])/,
          lookbehind: true
        }
      }
    },
    url: {
      pattern: RegExp("\\burl\\((?:" + e2.source + `|(?:[^\\\\\r
()"']|\\\\[^])*)\\)`, "i"),
      greedy: true,
      inside: {
        function: /^url/i,
        punctuation: /^\(|\)$/,
        string: {
          pattern: RegExp("^" + e2.source + "$"),
          alias: "url"
        }
      }
    },
    selector: {
      pattern: RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|` + e2.source + ")*(?=\\s*\\{)"),
      lookbehind: true
    },
    string: { pattern: e2, greedy: true },
    property: {
      pattern: /(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,
      lookbehind: true
    },
    important: /!important\b/i,
    function: {
      pattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,
      lookbehind: true
    },
    punctuation: /[(){};:,]/
  }, Prism2.languages.css.atrule.inside.rest = Prism2.languages.css;
  var t5 = Prism2.languages.markup;
  t5 && (t5.tag.addInlined("style", "css"), t5.tag.addAttribute("style", "css"));
};
var prism_css_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_CSS
});
const LF_SYNTAX_JAVASCRIPT = (Prism2) => {
  Prism2.languages.javascript = Prism2.languages.extend("clike", {
    "class-name": [
      Prism2.languages.clike["class-name"],
      {
        pattern: /(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,
        lookbehind: true
      }
    ],
    keyword: [
      { pattern: /((?:^|\})\s*)catch\b/, lookbehind: true },
      {
        pattern: /(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,
        lookbehind: true
      }
    ],
    function: /#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,
    number: {
      pattern: RegExp("(^|[^\\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?|\\d+(?:_\\d+)*n|(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?)(?![\\w$])"),
      lookbehind: true
    },
    operator: /--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/
  }), Prism2.languages.javascript["class-name"][0].pattern = /(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/, Prism2.languages.insertBefore("javascript", "keyword", {
    regex: {
      pattern: RegExp(`((?:^|[^$\\w\\xA0-\\uFFFF."'\\])\\s]|\\b(?:return|yield))\\s*)/(?:(?:\\[(?:[^\\]\\\\\r
]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\r
])+/[dgimyus]{0,7}|(?:\\[(?:[^[\\]\\\\\r
]|\\\\.|\\[(?:[^[\\]\\\\\r
]|\\\\.|\\[(?:[^[\\]\\\\\r
]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\r
])+/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\\s|/\\*(?:[^*]|\\*(?!/))*\\*/)*(?:$|[\r
,.;:})\\]]|//))`),
      lookbehind: true,
      greedy: true,
      inside: {
        "regex-source": {
          pattern: /^(\/)[\s\S]+(?=\/[a-z]*$)/,
          lookbehind: true,
          alias: "language-regex",
          inside: Prism2.languages.regex
        },
        "regex-delimiter": /^\/|\/$/,
        "regex-flags": /^[a-z]+$/
      }
    },
    "function-variable": {
      pattern: /#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,
      alias: "function"
    },
    parameter: [
      {
        pattern: /(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,
        lookbehind: true,
        inside: Prism2.languages.javascript
      },
      {
        pattern: /(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,
        lookbehind: true,
        inside: Prism2.languages.javascript
      },
      {
        pattern: /(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,
        lookbehind: true,
        inside: Prism2.languages.javascript
      },
      {
        pattern: /((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,
        lookbehind: true,
        inside: Prism2.languages.javascript
      }
    ],
    constant: /\b[A-Z](?:[A-Z_]|\dx?)*\b/
  }), Prism2.languages.insertBefore("javascript", "string", {
    hashbang: { pattern: /^#!.*/, greedy: true, alias: "comment" },
    "template-string": {
      pattern: /`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,
      greedy: true,
      inside: {
        "template-punctuation": {
          pattern: /^`|`$/,
          alias: "string"
        },
        interpolation: {
          pattern: /((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,
          lookbehind: true,
          inside: {
            "interpolation-punctuation": {
              pattern: /^\$\{|\}$/,
              alias: "punctuation"
            },
            rest: Prism2.languages.javascript
          }
        },
        string: /[\s\S]+/
      }
    },
    "string-property": {
      pattern: /((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,
      lookbehind: true,
      greedy: true,
      alias: "property"
    }
  }), Prism2.languages.insertBefore("javascript", "operator", {
    "literal-property": {
      pattern: /((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,
      lookbehind: true,
      alias: "property"
    }
  }), Prism2.languages.markup && (Prism2.languages.markup.tag.addInlined("script", "javascript"), Prism2.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)", "javascript")), Prism2.languages.js = Prism2.languages.javascript;
};
var prism_javascript_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_JAVASCRIPT
});
const LF_SYNTAX_JSON = (Prism2) => {
  Prism2.languages.json = {
    property: {
      pattern: /(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,
      lookbehind: true,
      greedy: true
    },
    string: {
      pattern: /(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,
      lookbehind: true,
      greedy: true
    },
    comment: { pattern: /\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/, greedy: true },
    number: /-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,
    punctuation: /[{}[\],]/,
    operator: /:/,
    boolean: /\b(?:false|true)\b/,
    null: { pattern: /\bnull\b/, alias: "keyword" }
  }, Prism2.languages.webmanifest = Prism2.languages.json;
};
var prism_json_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_JSON
});
const LF_SYNTAX_JSX = (Prism2) => {
  var n2 = Prism2.util.clone(Prism2.languages.javascript), e2 = "(?:\\{<S>*\\.{3}(?:[^{}]|<BRACES>)*\\})";
  function a2(t5, n22) {
    return t5 = t5.replace(/<S>/g, function() {
      return "(?:\\s|//.*(?!.)|/\\*(?:[^*]|\\*(?!/))\\*/)";
    }).replace(/<BRACES>/g, function() {
      return "(?:\\{(?:\\{(?:\\{[^{}]*\\}|[^{}])*\\}|[^{}])*\\})";
    }).replace(/<SPREAD>/g, function() {
      return e2;
    }), RegExp(t5, n22);
  }
  e2 = a2(e2).source, Prism2.languages.jsx = Prism2.languages.extend("markup", n2), Prism2.languages.jsx.tag.pattern = a2(`</?(?:[\\w.:-]+(?:<S>+(?:[\\w.:$-]+(?:=(?:"(?:\\\\[^]|[^\\\\"])*"|'(?:\\\\[^]|[^\\\\'])*'|[^\\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*/?)?>`), Prism2.languages.jsx.tag.inside.tag.pattern = /^<\/?[^\s>\/]*/, Prism2.languages.jsx.tag.inside["attr-value"].pattern = /=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/, Prism2.languages.jsx.tag.inside.tag.inside["class-name"] = /^[A-Z]\w*(?:\.[A-Z]\w*)*$/, Prism2.languages.jsx.tag.inside.comment = n2.comment, Prism2.languages.insertBefore("inside", "attr-name", {
    spread: {
      pattern: a2("<SPREAD>"),
      inside: Prism2.languages.jsx
    }
  }, Prism2.languages.jsx.tag), Prism2.languages.insertBefore("inside", "special-attr", {
    script: {
      pattern: a2("=<BRACES>"),
      alias: "language-javascript",
      inside: {
        "script-punctuation": {
          pattern: /^=(?=\{)/,
          alias: "punctuation"
        },
        rest: Prism2.languages.jsx
      }
    }
  }, Prism2.languages.jsx.tag);
  var s2 = function(t5) {
    return t5 ? "string" == typeof t5 ? t5 : "string" == typeof t5.content ? t5.content : t5.content.map(s2).join("") : "";
  }, g3 = function(n22) {
    for (var e22 = [], a22 = 0; a22 < n22.length; a22++) {
      var o2 = n22[a22], i2 = false;
      if ("string" != typeof o2 && ("tag" === o2.type && o2.content[0] && "tag" === o2.content[0].type ? "</" === o2.content[0].content[0].content ? e22.length > 0 && e22[e22.length - 1].tagName === s2(o2.content[0].content[1]) && e22.pop() : "/>" === o2.content[o2.content.length - 1].content || e22.push({
        tagName: s2(o2.content[0].content[1]),
        openedBraces: 0
      }) : e22.length > 0 && "punctuation" === o2.type && "{" === o2.content ? e22[e22.length - 1].openedBraces++ : e22.length > 0 && e22[e22.length - 1].openedBraces > 0 && "punctuation" === o2.type && "}" === o2.content ? e22[e22.length - 1].openedBraces-- : i2 = true), (i2 || "string" == typeof o2) && e22.length > 0 && 0 === e22[e22.length - 1].openedBraces) {
        var r2 = s2(o2);
        a22 < n22.length - 1 && ("string" == typeof n22[a22 + 1] || "plain-text" === n22[a22 + 1].type) && (r2 += s2(n22[a22 + 1]), n22.splice(a22 + 1, 1)), a22 > 0 && ("string" == typeof n22[a22 - 1] || "plain-text" === n22[a22 - 1].type) && (r2 = s2(n22[a22 - 1]) + r2, n22.splice(a22 - 1, 1), a22--), n22[a22] = new Prism2.Token("plain-text", r2, null, r2);
      }
      o2.content && "string" != typeof o2.content && g3(o2.content);
    }
  };
  Prism2.hooks.add("after-tokenize", function(t5) {
    "jsx" !== t5.language && "tsx" !== t5.language || g3(t5.tokens);
  });
};
var prism_jsx_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_JSX
});
const LF_SYNTAX_MARKDOWN = (Prism2) => {
  function e2(reg) {
    return reg = reg.replace(/<inner>/g, function() {
      return "(?:\\\\.|[^\\\\\n\r]|(?:\n|\r\n?)(?![\r\n]))";
    }), RegExp("((?:^|[^\\\\])(?:\\\\{2})*)(?:" + reg + ")");
  }
  const t5 = "(?:\\\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\\\|\r\n`])+", a2 = "\\|?__(?:\\|__)+\\|?(?:(?:\n|\r\n?)|(?![^]))".replace(/__/g, function() {
    return t5;
  }), i2 = "\\|?[ 	]*:?-{3,}:?[ 	]*(?:\\|[ 	]*:?-{3,}:?[ 	]*)+\\|?(?:\n|\r\n?)";
  Prism2.languages.markdown = Prism2.languages.extend("markup", {}), Prism2.languages.insertBefore("markdown", "prolog", {
    "front-matter-block": {
      pattern: /(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,
      lookbehind: true,
      greedy: true,
      inside: {
        punctuation: /^---|---$/,
        "front-matter": {
          pattern: /\S+(?:\s+\S+)*/,
          alias: ["yaml", "language-yaml"],
          inside: Prism2.languages.yaml
        }
      }
    },
    blockquote: {
      pattern: /^>(?:[\t ]*>)*/m,
      alias: "punctuation"
    },
    table: {
      pattern: RegExp("^" + a2 + i2 + "(?:" + a2 + ")*", "m"),
      inside: {
        "table-data-rows": {
          pattern: RegExp("^(" + a2 + i2 + ")(?:" + a2 + ")*$"),
          lookbehind: true,
          inside: {
            "table-data": {
              pattern: RegExp(t5),
              inside: Prism2.languages.markdown
            },
            punctuation: /\|/
          }
        },
        "table-line": {
          pattern: RegExp("^(" + a2 + ")" + i2 + "$"),
          lookbehind: true,
          inside: { punctuation: /\||:?-{3,}:?/ }
        },
        "table-header-row": {
          pattern: RegExp("^" + a2 + "$"),
          inside: {
            "table-header": {
              pattern: RegExp(t5),
              alias: "important",
              inside: Prism2.languages.markdown
            },
            punctuation: /\|/
          }
        }
      }
    },
    code: [
      {
        pattern: /((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,
        lookbehind: true,
        alias: "keyword"
      },
      {
        pattern: /^```[\s\S]*?^```$/m,
        greedy: true,
        inside: {
          "code-block": {
            pattern: /^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,
            lookbehind: true
          },
          "code-language": {
            pattern: /^(```).+/,
            lookbehind: true
          },
          punctuation: /```/
        }
      }
    ],
    title: [
      {
        pattern: /\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,
        alias: "important",
        inside: { punctuation: /==+$|--+$/ }
      },
      {
        pattern: /(^\s*)#.+/m,
        lookbehind: true,
        alias: "important",
        inside: { punctuation: /^#+|#+$/ }
      }
    ],
    hr: {
      pattern: /(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,
      lookbehind: true,
      alias: "punctuation"
    },
    list: {
      pattern: /(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,
      lookbehind: true,
      alias: "punctuation"
    },
    "url-reference": {
      pattern: /!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,
      inside: {
        variable: { pattern: /^(!?\[)[^\]]+/, lookbehind: true },
        string: /(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,
        punctuation: /^[\[\]!:]|[<>]/
      },
      alias: "url"
    },
    bold: {
      pattern: e2("\\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\\b|\\*\\*(?:(?!\\*)<inner>|\\*(?:(?!\\*)<inner>)+\\*)+\\*\\*"),
      lookbehind: true,
      greedy: true,
      inside: {
        content: {
          pattern: /(^..)[\s\S]+(?=..$)/,
          lookbehind: true,
          inside: {}
        },
        punctuation: /\*\*|__/
      }
    },
    italic: {
      pattern: e2("\\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\\b|\\*(?:(?!\\*)<inner>|\\*\\*(?:(?!\\*)<inner>)+\\*\\*)+\\*"),
      lookbehind: true,
      greedy: true,
      inside: {
        content: {
          pattern: /(^.)[\s\S]+(?=.$)/,
          lookbehind: true,
          inside: {}
        },
        punctuation: /[*_]/
      }
    },
    strike: {
      pattern: e2("(~~?)(?:(?!~)<inner>)+\\2"),
      lookbehind: true,
      greedy: true,
      inside: {
        content: {
          pattern: /(^~~?)[\s\S]+(?=\1$)/,
          lookbehind: true,
          inside: {}
        },
        punctuation: /~~?/
      }
    },
    "code-snippet": {
      pattern: /(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,
      lookbehind: true,
      greedy: true,
      alias: ["code", "keyword"]
    },
    url: {
      pattern: e2('!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[	 ]+"(?:\\\\.|[^"\\\\])*")?\\)|[ 	]?\\[(?:(?!\\])<inner>)+\\])'),
      lookbehind: true,
      greedy: true,
      inside: {
        operator: /^!/,
        content: {
          pattern: /(^\[)[^\]]+(?=\])/,
          lookbehind: true,
          inside: {}
        },
        variable: {
          pattern: /(^\][ \t]?\[)[^\]]+(?=\]$)/,
          lookbehind: true
        },
        url: { pattern: /(^\]\()[^\s)]+/, lookbehind: true },
        string: {
          pattern: /(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,
          lookbehind: true
        }
      }
    }
  }), ["url", "bold", "italic", "strike"].forEach(function(e22) {
    ["url", "bold", "italic", "strike", "code-snippet"].forEach(function(t22) {
      e22 !== t22 && (Prism2.languages.markdown[e22].inside.content.inside[t22] = Prism2.languages.markdown[t22]);
    });
  }), Prism2.hooks.add("after-tokenize", function(Prism3) {
    "markdown" !== Prism3.language && "md" !== Prism3.language || (function n2(e22) {
      if (e22 && "string" != typeof e22)
        for (var t22 = 0, a22 = e22.length; t22 < a22; t22++) {
          var i22 = e22[t22];
          if ("code" === i22.type) {
            var r22 = i22.content[1], o22 = i22.content[3];
            if (r22 && o22 && "code-language" === r22.type && "code-block" === o22.type && "string" == typeof r22.content) {
              var l22 = r22.content.replace(/\b#/g, "sharp").replace(/\b\+\+/g, "pp"), s2 = "language-" + (l22 = (/[a-z][\w-]*/i.exec(l22) || [""])[0].toLowerCase());
              o22.alias ? "string" == typeof o22.alias ? o22.alias = [o22.alias, s2] : o22.alias.push(s2) : o22.alias = [s2];
            }
          } else
            n2(i22.content);
        }
    })(Prism3.tokens);
  }), Prism2.hooks.add("wrap", function(e22) {
    if ("code-block" === e22.type) {
      for (var t22 = "", a22 = 0, i22 = e22.classes.length; a22 < i22; a22++) {
        var s2 = e22.classes[a22], d2 = /language-(.+)/.exec(s2);
        if (d2) {
          t22 = d2[1];
          break;
        }
      }
      var p2 = Prism2.languages[t22];
      if (p2)
        e22.content = Prism2.highlight(e22.content.replace(r2, "").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi, function(Prism3, e3) {
          var t32;
          return "#" === (e3 = e3.toLowerCase())[0] ? (t32 = "x" === e3[1] ? parseInt(e3.slice(2), 16) : Number(e3.slice(1)), l2(t32)) : o2[e3] || Prism3;
        }), p2, t22);
      else if (t22 && "none" !== t22 && Prism2.plugins.autoloader) {
        var u2 = "md-" + (/* @__PURE__ */ new Date()).valueOf() + "-" + Math.floor(1e16 * Math.random());
        e22.attributes.id = u2, Prism2.plugins.autoloader.loadLanguages(t22, function() {
          var e3 = document.getElementById(u2);
          e3 && (e3.innerHTML = Prism2.highlight(e3.textContent, Prism2.languages[t22], t22));
        });
      }
    }
  });
  var r2 = RegExp(Prism2.languages.markup.tag.pattern.source, "gi"), o2 = { amp: "&", lt: "<", gt: ">", quot: '"' }, l2 = String.fromCodePoint || String.fromCharCode;
  Prism2.languages.md = Prism2.languages.markdown;
};
var prism_markdown_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_MARKDOWN
});
const LF_SYNTAX_MARKUP = (Prism2) => {
  Prism2.languages.markup = {
    comment: { pattern: /<!--(?:(?!<!--)[\s\S])*?-->/, greedy: true },
    prolog: { pattern: /<\?[\s\S]+?\?>/, greedy: true },
    doctype: {
      pattern: /<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,
      greedy: true,
      inside: {
        "internal-subset": {
          pattern: /(^[^\[]*\[)[\s\S]+(?=\]>$)/,
          lookbehind: true,
          greedy: true,
          inside: null
        },
        string: { pattern: /"[^"]*"|'[^']*'/, greedy: true },
        punctuation: /^<!|>$|[[\]]/,
        "doctype-tag": /^DOCTYPE/i,
        name: /[^\s<>'"]+/
      }
    },
    cdata: { pattern: /<!\[CDATA\[[\s\S]*?\]\]>/i, greedy: true },
    tag: {
      pattern: /<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,
      greedy: true,
      inside: {
        tag: {
          pattern: /^<\/?[^\s>\/]+/,
          inside: {
            punctuation: /^<\/?/,
            namespace: /^[^\s>\/:]+:/
          }
        },
        "special-attr": [],
        "attr-value": {
          pattern: /=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,
          inside: {
            punctuation: [
              { pattern: /^=/, alias: "attr-equals" },
              { pattern: /^(\s*)["']|["']$/, lookbehind: true }
            ]
          }
        },
        punctuation: /\/?>/,
        "attr-name": {
          pattern: /[^\s>\/]+/,
          inside: { namespace: /^[^\s>\/:]+:/ }
        }
      }
    },
    entity: [
      { pattern: /&[\da-z]{1,8};/i, alias: "named-entity" },
      /&#x?[\da-f]{1,8};/i
    ]
  }, Prism2.languages.markup.tag.inside["attr-value"].inside.entity = Prism2.languages.markup.entity, Prism2.languages.markup.doctype.inside["internal-subset"].inside = Prism2.languages.markup, Prism2.hooks.add("wrap", function(a2) {
    "entity" === a2.type && (a2.attributes.title = a2.content.replace(/&amp;/, "&"));
  }), Object.defineProperty(Prism2.languages.markup.tag, "addInlined", {
    value: function(a2, e2) {
      var s2 = {};
      s2["language-" + e2] = {
        pattern: /(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,
        lookbehind: true,
        inside: Prism2.languages[e2]
      }, s2["cdata"] = /^<!\[CDATA\[|\]\]>$/i;
      var t5 = {
        "included-cdata": {
          pattern: /<!\[CDATA\[[\s\S]*?\]\]>/i,
          inside: s2
        }
      };
      t5["language-" + e2] = {
        pattern: /[\s\S]+/,
        inside: Prism2.languages[e2]
      };
      var n2 = {};
      n2[a2] = {
        pattern: RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g, function() {
          return a2;
        }), "i"),
        lookbehind: true,
        greedy: true,
        inside: t5
      }, Prism2.languages.insertBefore("markup", "cdata", n2);
    }
  }), Object.defineProperty(Prism2.languages.markup.tag, "addAttribute", {
    value: function(a2, e2) {
      Prism2.languages.markup.tag.inside["special-attr"].push({
        pattern: RegExp(`(^|["'\\s])(?:` + a2 + `)\\s*=\\s*(?:"[^"]*"|'[^']*'|[^\\s'">=]+(?=[\\s>]))`, "i"),
        lookbehind: true,
        inside: {
          "attr-name": /^[^\s=]+/,
          "attr-value": {
            pattern: /=[\s\S]+/,
            inside: {
              value: {
                pattern: /(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,
                lookbehind: true,
                alias: [e2, "language-" + e2],
                inside: Prism2.languages[e2]
              },
              punctuation: [{ pattern: /^=/, alias: "attr-equals" }, /"|'/]
            }
          }
        }
      });
    }
  }), Prism2.languages.html = Prism2.languages.markup, Prism2.languages.mathml = Prism2.languages.markup, Prism2.languages.svg = Prism2.languages.markup, Prism2.languages.xml = Prism2.languages.extend("markup", {}), Prism2.languages.ssml = Prism2.languages.xml, Prism2.languages.atom = Prism2.languages.xml, Prism2.languages.rss = Prism2.languages.xml;
};
var prism_markup_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_MARKUP
});
const LF_SYNTAX_PYTHON = (Prism2) => {
  Prism2.languages.python = {
    comment: { pattern: /(^|[^\\])#.*/, lookbehind: true, greedy: true },
    "string-interpolation": {
      pattern: /(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,
      greedy: true,
      inside: {
        interpolation: {
          pattern: /((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,
          lookbehind: true,
          inside: {
            "format-spec": {
              pattern: /(:)[^:(){}]+(?=\}$)/,
              lookbehind: true
            },
            "conversion-option": {
              pattern: /![sra](?=[:}]$)/,
              alias: "punctuation"
            },
            rest: null
          }
        },
        string: /[\s\S]+/
      }
    },
    "triple-quoted-string": {
      pattern: /(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,
      greedy: true,
      alias: "string"
    },
    string: {
      pattern: /(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,
      greedy: true
    },
    function: {
      pattern: /((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,
      lookbehind: true
    },
    "class-name": { pattern: /(\bclass\s+)\w+/i, lookbehind: true },
    decorator: {
      pattern: /(^[\t ]*)@\w+(?:\.\w+)*/m,
      lookbehind: true,
      alias: ["annotation", "punctuation"],
      inside: { punctuation: /\./ }
    },
    keyword: /\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,
    builtin: /\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,
    boolean: /\b(?:False|None|True)\b/,
    number: /\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,
    operator: /[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,
    punctuation: /[{}[\];(),.:]/
  }, Prism2.languages.python["string-interpolation"].inside.interpolation.inside.rest = Prism2.languages.python, Prism2.languages.py = Prism2.languages.python;
};
var prism_python_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_PYTHON
});
const LF_SYNTAX_REGEX = (Prism2) => {
  var e2 = { pattern: /\\[\\(){}[\]^$+*?|.]/, alias: "escape" }, n2 = /\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/, t5 = "(?:[^\\\\-]|" + n2.source + ")", s2 = RegExp(t5 + "-" + t5), i2 = {
    pattern: /(<|')[^<>']+(?=[>']$)/,
    lookbehind: true,
    alias: "variable"
  };
  Prism2.languages.regex = {
    "char-class": {
      pattern: /((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,
      lookbehind: true,
      inside: {
        "char-class-negation": {
          pattern: /(^\[)\^/,
          lookbehind: true,
          alias: "operator"
        },
        "char-class-punctuation": {
          pattern: /^\[|\]$/,
          alias: "punctuation"
        },
        range: {
          pattern: s2,
          inside: {
            escape: n2,
            "range-punctuation": {
              pattern: /-/,
              alias: "operator"
            }
          }
        },
        "special-escape": e2,
        "char-set": {
          pattern: /\\[wsd]|\\p\{[^{}]+\}/i,
          alias: "class-name"
        },
        escape: n2
      }
    },
    "special-escape": e2,
    "char-set": {
      pattern: /\.|\\[wsd]|\\p\{[^{}]+\}/i,
      alias: "class-name"
    },
    backreference: [
      { pattern: /\\(?![123][0-7]{2})[1-9]/, alias: "keyword" },
      {
        pattern: /\\k<[^<>']+>/,
        alias: "keyword",
        inside: { "group-name": i2 }
      }
    ],
    anchor: { pattern: /[$^]|\\[ABbGZz]/, alias: "function" },
    escape: n2,
    group: [
      {
        pattern: /\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,
        alias: "punctuation",
        inside: { "group-name": i2 }
      },
      { pattern: /\)/, alias: "punctuation" }
    ],
    quantifier: {
      pattern: /(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,
      alias: "number"
    },
    alternation: { pattern: /\|/, alias: "keyword" }
  };
};
var prism_regex_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_REGEX
});
const LF_SYNTAX_SCSS = (Prism2) => {
  Prism2.languages.scss = Prism2.languages.extend("css", {
    comment: {
      pattern: /(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,
      lookbehind: true
    },
    atrule: {
      pattern: /@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,
      inside: { rule: /@[\w-]+/ }
    },
    url: /(?:[-a-z]+-)?url(?=\()/i,
    selector: {
      pattern: /(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,
      inside: {
        parent: { pattern: /&/, alias: "important" },
        placeholder: /%[-\w]+/,
        variable: /\$[-\w]+|#\{\$[-\w]+\}/
      }
    },
    property: {
      pattern: /(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,
      inside: { variable: /\$[-\w]+|#\{\$[-\w]+\}/ }
    }
  }), Prism2.languages.insertBefore("scss", "atrule", {
    keyword: [
      /@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,
      { pattern: /( )(?:from|through)(?= )/, lookbehind: true }
    ]
  }), Prism2.languages.insertBefore("scss", "important", {
    variable: /\$[-\w]+|#\{\$[-\w]+\}/
  }), Prism2.languages.insertBefore("scss", "function", {
    "module-modifier": {
      pattern: /\b(?:as|hide|show|with)\b/i,
      alias: "keyword"
    },
    placeholder: { pattern: /%[-\w]+/, alias: "selector" },
    statement: {
      pattern: /\B!(?:default|optional)\b/i,
      alias: "keyword"
    },
    boolean: /\b(?:false|true)\b/,
    null: { pattern: /\bnull\b/, alias: "keyword" },
    operator: {
      pattern: /(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,
      lookbehind: true
    }
  }), Prism2.languages.scss.atrule.inside.rest = Prism2.languages.scss;
};
var prism_scss_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_SCSS
});
const LF_SYNTAX_TSX = (Prism2) => {
  var _a2, _b2, _c2, _d2, _e2, _f2;
  const a2 = Prism2.util.clone(Prism2.languages.typescript);
  Prism2.languages.tsx = Prism2.languages.extend("jsx", a2), (_b2 = (_a2 = Prism2 == null ? void 0 : Prism2.languages) == null ? void 0 : _a2.tsx) == null ? true : delete _b2.parameter, (_d2 = (_c2 = Prism2 == null ? void 0 : Prism2.languages) == null ? void 0 : _c2.tsx) == null ? true : delete _d2["literal-property"];
  const t5 = (_f2 = (_e2 = Prism2.languages) == null ? void 0 : _e2.tsx) == null ? void 0 : _f2.tag;
  t5.pattern = RegExp("(^|[^\\w$]|(?=</))(?:" + t5.pattern.source + ")", t5.pattern.flags), t5.lookbehind = true;
};
var prism_tsx_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_TSX
});
const LF_SYNTAX_TYPESCRIPT = (Prism2) => {
  Prism2.languages.typescript = Prism2.languages.extend("javascript", {
    "class-name": {
      pattern: /(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,
      lookbehind: true,
      greedy: true,
      inside: null
    },
    builtin: /\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/
  }), Prism2.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/, /\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/, /\btype\b(?=\s*(?:[\{*]|$))/), delete Prism2.languages.typescript.parameter, delete Prism2.languages.typescript["literal-property"];
  var s2 = Prism2.languages.extend("typescript", {});
  delete s2["class-name"], Prism2.languages.typescript["class-name"].inside = s2, Prism2.languages.insertBefore("typescript", "function", {
    decorator: {
      pattern: /@[$\w\xA0-\uFFFF]+/,
      inside: {
        at: { pattern: /^@/, alias: "operator" },
        function: /^[\s\S]+/
      }
    },
    "generic-function": {
      pattern: /#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,
      greedy: true,
      inside: {
        function: /^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,
        generic: {
          pattern: /<[\s\S]+/,
          alias: "class-name",
          inside: s2
        }
      }
    }
  }), Prism2.languages.ts = Prism2.languages.typescript;
};
var prism_typescript_highlight = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  LF_SYNTAX_TYPESCRIPT
});
const isClient = typeof window !== "undefined";
let lfFramework = null;
function getLfFramework() {
  if (!lfFramework) {
    initLfFramework();
    if (!lfFramework) {
      throw new Error("Failed to initialize LfFramework.");
    }
  }
  return lfFramework;
}
function initLfFramework() {
  const isInitialized = isClient && window[LF_FRAMEWORK_SYMBOL] || lfFramework;
  if (isInitialized) {
    return;
  }
  const framework = new LfFramework();
  lfFramework = framework;
  if (isClient) {
    finalize(framework);
  }
}
const finalize = (framework) => {
  window[LF_FRAMEWORK_SYMBOL] = framework;
  markFrameworkReady(framework);
  const ev2 = new CustomEvent(LF_FRAMEWORK_EVENT_NAME, {
    detail: { lfFramework: framework }
  });
  document.dispatchEvent(ev2);
};
const scriptRel = "modulepreload";
const assetsURL = function(dep, importerUrl) {
  return new URL(dep, importerUrl).href;
};
const seen = {};
const __vitePreload = function preload(baseModule, deps, importerUrl) {
  let promise = Promise.resolve();
  if (deps && deps.length > 0) {
    let allSettled2 = function(promises) {
      return Promise.all(
        promises.map(
          (p2) => Promise.resolve(p2).then(
            (value) => ({ status: "fulfilled", value }),
            (reason) => ({ status: "rejected", reason })
          )
        )
      );
    };
    const links = document.getElementsByTagName("link");
    const cspNonceMeta = document.querySelector(
      "meta[property=csp-nonce]"
    );
    const cspNonce = (cspNonceMeta == null ? void 0 : cspNonceMeta.nonce) || (cspNonceMeta == null ? void 0 : cspNonceMeta.getAttribute("nonce"));
    promise = allSettled2(
      deps.map((dep) => {
        dep = assetsURL(dep, importerUrl);
        if (dep in seen) return;
        seen[dep] = true;
        const isCss = dep.endsWith(".css");
        const cssSelector = isCss ? '[rel="stylesheet"]' : "";
        const isBaseRelative = !!importerUrl;
        if (isBaseRelative) {
          for (let i2 = links.length - 1; i2 >= 0; i2--) {
            const link22 = links[i2];
            if (link22.href === dep && (!isCss || link22.rel === "stylesheet")) {
              return;
            }
          }
        } else if (document.querySelector(`link[href="${dep}"]${cssSelector}`)) {
          return;
        }
        const link2 = document.createElement("link");
        link2.rel = isCss ? "stylesheet" : scriptRel;
        if (!isCss) {
          link2.as = "script";
        }
        link2.crossOrigin = "";
        link2.href = dep;
        if (cspNonce) {
          link2.setAttribute("nonce", cspNonce);
        }
        document.head.appendChild(link2);
        if (isCss) {
          return new Promise((res, rej) => {
            link2.addEventListener("load", res);
            link2.addEventListener(
              "error",
              () => rej(new Error(`Unable to preload CSS for ${dep}`))
            );
          });
        }
      })
    );
  }
  function handlePreloadError(err) {
    const e2 = new Event("vite:preloadError", {
      cancelable: true
    });
    e2.payload = err;
    window.dispatchEvent(e2);
    if (!e2.defaultPrevented) {
      throw err;
    }
  }
  return promise.then((res) => {
    for (const item of res || []) {
      if (item.status !== "rejected") continue;
      handlePreloadError(item.reason);
    }
    return baseModule().catch(handlePreloadError);
  });
};
const __variableDynamicImportRuntimeHelper = (glob, path, segs) => {
  const v2 = glob[path];
  if (v2) {
    return typeof v2 === "function" ? v2() : Promise.resolve(v2);
  }
  return new Promise((_2, reject) => {
    (typeof queueMicrotask === "function" ? queueMicrotask : setTimeout)(
      reject.bind(
        null,
        new Error(
          "Unknown variable dynamic import: " + path + (path.split("/").length !== segs ? ". Note that variables only represent file names one level deep." : "")
        )
      )
    );
  });
};
var t$1 = Object.defineProperty, e$1 = (t5) => {
  if (t5.__stencil__getHostRef) return t5.__stencil__getHostRef();
}, n = (t5, e2) => {
  e2 && (t5.__stencil__getHostRef = () => e2, e2.t = t5);
}, o$3 = (t5, e2) => e2 in t5, l$1 = (t5, e2) => (0, console.error)(t5, e2), i$1 = /* @__PURE__ */ new Map(), r$2 = /* @__PURE__ */ new Map(), s$1 = "slot-fb{display:contents}slot-fb[hidden]{display:none}", c$1 = "http://www.w3.org/1999/xlink", u$a = "undefined" != typeof window ? window : {}, a$2 = { o: 0, l: "", jmp: (t5) => t5(), raf: (t5) => requestAnimationFrame(t5), ael: (t5, e2, n2, o2) => t5.addEventListener(e2, n2, o2), rel: (t5, e2, n2, o2) => t5.removeEventListener(e2, n2, o2), ce: (t5, e2) => new CustomEvent(t5, e2) }, f$2 = (t5) => Promise.resolve(t5), d$2 = (() => {
  try {
    return new CSSStyleSheet(), "function" == typeof new CSSStyleSheet().replaceSync;
  } catch (t5) {
  }
  return false;
})(), h$1 = !!d$2 && (() => !!u$a.document && Object.getOwnPropertyDescriptor(u$a.document.adoptedStyleSheets, "length").writable)(), p$8 = false, v$a = [], m$a = [], y$c = (t5, e2) => (n2) => {
  t5.push(n2), p$8 || (p$8 = true, 4 & a$2.o ? $$5(b$a) : a$2.raf(b$a));
}, w$d = (t5) => {
  for (let e2 = 0; e2 < t5.length; e2++) try {
    t5[e2](performance.now());
  } catch (t6) {
    l$1(t6);
  }
  t5.length = 0;
}, b$a = () => {
  w$d(v$a), w$d(m$a), (p$8 = v$a.length > 0) && a$2.raf(b$a);
}, $$5 = (t5) => f$2().then(t5), g$a = y$c(m$a), S$8 = (t5) => "object" == (t5 = typeof t5) || "function" === t5;
function j$a(t5) {
  var e2, n2, o2;
  return null != (o2 = null == (n2 = null == (e2 = t5.head) ? void 0 : e2.querySelector('meta[name="csp-nonce"]')) ? void 0 : n2.getAttribute("content")) ? o2 : void 0;
}
((e2, n2) => {
  for (var o2 in n2) t$1(e2, o2, { get: n2[o2], enumerable: true });
})({}, { err: () => O$6, map: () => E$d, ok: () => k$d, unwrap: () => C$c, unwrapErr: () => M$c });
var k$d = (t5) => ({ isOk: true, isErr: false, value: t5 }), O$6 = (t5) => ({ isOk: false, isErr: true, value: t5 });
function E$d(t5, e2) {
  if (t5.isOk) {
    const n2 = e2(t5.value);
    return n2 instanceof Promise ? n2.then(((t6) => k$d(t6))) : k$d(n2);
  }
  if (t5.isErr) return O$6(t5.value);
  throw "should never get here";
}
var x$d, C$c = (t5) => {
  if (t5.isOk) return t5.value;
  throw t5.value;
}, M$c = (t5) => {
  if (t5.isErr) return t5.value;
  throw t5.value;
};
function P$7() {
  const t5 = this.attachShadow({ mode: "open" });
  void 0 === x$d && (x$d = null), x$d && (h$1 ? t5.adoptedStyleSheets.push(x$d) : t5.adoptedStyleSheets = [...t5.adoptedStyleSheets, x$d]);
}
var N$3 = /* @__PURE__ */ new WeakMap(), R$6 = (t5) => "sc-" + t5.i, D$a = (t5, e2, ...n2) => {
  let o2 = null, l2 = null, i2 = false, r2 = false;
  const s2 = [], c2 = (e3) => {
    for (let n3 = 0; n3 < e3.length; n3++) o2 = e3[n3], Array.isArray(o2) ? c2(o2) : null != o2 && "boolean" != typeof o2 && ((i2 = "function" != typeof t5 && !S$8(o2)) && (o2 += ""), i2 && r2 ? s2[s2.length - 1].u += o2 : s2.push(i2 ? U$4(null, o2) : o2), r2 = i2);
  };
  if (c2(n2), e2) {
    e2.key && (l2 = e2.key);
    {
      const t6 = e2.className || e2.class;
      t6 && (e2.class = "object" != typeof t6 ? t6 : Object.keys(t6).filter(((e3) => t6[e3])).join(" "));
    }
  }
  if ("function" == typeof t5) return t5(null === e2 ? {} : e2, s2, A$7);
  const u2 = U$4(t5, null);
  return u2.h = e2, s2.length > 0 && (u2.p = s2), u2.v = l2, u2;
}, U$4 = (t5, e2) => ({ o: 0, m: t5, u: e2, $: null, p: null, h: null, v: null }), W$e = {}, A$7 = { forEach: (t5, e2) => t5.map(F$5).forEach(e2), map: (t5, e2) => t5.map(F$5).map(e2).map(H$6) }, F$5 = (t5) => ({ vattrs: t5.h, vchildren: t5.p, vkey: t5.v, vname: t5.S, vtag: t5.m, vtext: t5.u }), H$6 = (t5) => {
  if ("function" == typeof t5.vtag) {
    const e3 = { ...t5.vattrs };
    return t5.vkey && (e3.key = t5.vkey), t5.vname && (e3.name = t5.vname), D$a(t5.vtag, e3, ...t5.vchildren || []);
  }
  const e2 = U$4(t5.vtag, t5.vtext);
  return e2.h = t5.vattrs, e2.p = t5.vchildren, e2.v = t5.vkey, e2.S = t5.vname, e2;
}, L$8 = (t5) => {
  const e2 = ((t6) => t6.replace(/[.*+?^${}()|[\]\\]/g, "\\$&"))(t5);
  return RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${e2}))(${e2}\\b)`, "g");
};
L$8("::slotted"), L$8(":host"), L$8(":host-context");
var T$b, q$3 = (t5, e2) => null == t5 || S$8(t5) ? t5 : 4 & e2 ? "false" !== t5 && ("" === t5 || !!t5) : 2 & e2 ? "string" == typeof t5 ? parseFloat(t5) : "number" == typeof t5 ? t5 : NaN : 1 & e2 ? t5 + "" : t5, z$d = (t5) => {
  var n2;
  return null == (n2 = e$1(t5)) ? void 0 : n2.$hostElement$;
}, V$4 = (t5, e2) => {
  const n2 = z$d(t5);
  return { emit: (t6) => G$2(n2, e2, { bubbles: true, composed: true, cancelable: false, detail: t6 }) };
}, G$2 = (t5, e2, n2) => {
  const o2 = a$2.ce(e2, n2);
  return t5.dispatchEvent(o2), o2;
}, I$6 = (t5, e2, n2, l2, i2, r2) => {
  if (n2 === l2) return;
  let s2 = o$3(t5, e2), f2 = e2.toLowerCase();
  if ("class" === e2) {
    const e3 = t5.classList, o2 = _$a(n2);
    let i3 = _$a(l2);
    e3.remove(...o2.filter(((t6) => t6 && !i3.includes(t6)))), e3.add(...i3.filter(((t6) => t6 && !o2.includes(t6))));
  } else if ("style" === e2) {
    for (const e3 in n2) l2 && null != l2[e3] || (e3.includes("-") ? t5.style.removeProperty(e3) : t5.style[e3] = "");
    for (const e3 in l2) n2 && l2[e3] === n2[e3] || (e3.includes("-") ? t5.style.setProperty(e3, l2[e3]) : t5.style[e3] = l2[e3]);
  } else if ("key" === e2) ;
  else if ("ref" === e2) l2 && l2(t5);
  else if (s2 || "o" !== e2[0] || "n" !== e2[1]) {
    const o2 = S$8(l2);
    if ((s2 || o2 && null !== l2) && !i2) try {
      if (t5.tagName.includes("-")) t5[e2] !== l2 && (t5[e2] = l2);
      else {
        const o3 = null == l2 ? "" : l2;
        "list" === e2 ? s2 = false : null != n2 && t5[e2] == o3 || ("function" == typeof t5.__lookupSetter__(e2) ? t5[e2] = o3 : t5.setAttribute(e2, o3));
      }
    } catch (t6) {
    }
    let u2 = false;
    f2 !== (f2 = f2.replace(/^xlink\:?/, "")) && (e2 = f2, u2 = true), null == l2 || false === l2 ? false === l2 && "" !== t5.getAttribute(e2) || (u2 ? t5.removeAttributeNS(c$1, e2) : t5.removeAttribute(e2)) : (!s2 || 4 & r2 || i2) && !o2 && 1 === t5.nodeType && (l2 = true === l2 ? "" : l2, u2 ? t5.setAttributeNS(c$1, e2, l2) : t5.setAttribute(e2, l2));
  } else if (e2 = "-" === e2[2] ? e2.slice(3) : o$3(u$a, f2) ? f2.slice(2) : f2[2] + e2.slice(3), n2 || l2) {
    const o2 = e2.endsWith(B$7);
    e2 = e2.replace(J$2, ""), n2 && a$2.rel(t5, e2, n2, o2), l2 && a$2.ael(t5, e2, l2, o2);
  }
}, Y$3 = /\s/, _$a = (t5) => ("object" == typeof t5 && t5 && "baseVal" in t5 && (t5 = t5.baseVal), t5 && "string" == typeof t5 ? t5.split(Y$3) : []), B$7 = "Capture", J$2 = RegExp(B$7 + "$"), K$3 = (t5, e2, n2) => {
  const o2 = 11 === e2.$.nodeType && e2.$.host ? e2.$.host : e2.$, l2 = t5 && t5.h || {}, i2 = e2.h || {};
  for (const t6 of Q$2(Object.keys(l2))) t6 in i2 || I$6(o2, t6, l2[t6], void 0, n2, e2.o);
  for (const t6 of Q$2(Object.keys(i2))) I$6(o2, t6, l2[t6], i2[t6], n2, e2.o);
};
function Q$2(t5) {
  return t5.includes("ref") ? [...t5.filter(((t6) => "ref" !== t6)), "ref"] : t5;
}
var X$3 = false, Z$2 = (t5, e2, n2) => {
  const o2 = e2.p[n2];
  let l2, i2, r2 = 0;
  if (null !== o2.u) l2 = o2.$ = u$a.document.createTextNode(o2.u);
  else {
    if (X$3 || (X$3 = "svg" === o2.m), !u$a.document) throw Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");
    if (l2 = o2.$ = u$a.document.createElementNS(X$3 ? "http://www.w3.org/2000/svg" : "http://www.w3.org/1999/xhtml", o2.m), X$3 && "foreignObject" === o2.m && (X$3 = false), K$3(null, o2, X$3), o2.p) for (r2 = 0; r2 < o2.p.length; ++r2) i2 = Z$2(t5, o2, r2), i2 && l2.appendChild(i2);
    "svg" === o2.m ? X$3 = false : "foreignObject" === l2.tagName && (X$3 = true);
  }
  return l2["s-hn"] = T$b, l2;
}, tt$1 = (t5, e2, n2, o2, l2, i2) => {
  let r2, s2 = t5;
  for (s2.shadowRoot && s2.tagName === T$b && (s2 = s2.shadowRoot); l2 <= i2; ++l2) o2[l2] && (r2 = Z$2(null, n2, l2), r2 && (o2[l2].$ = r2, it$1(s2, r2, e2)));
}, et$1 = (t5, e2, n2) => {
  for (let o2 = e2; o2 <= n2; ++o2) {
    const e3 = t5[o2];
    if (e3) {
      const t6 = e3.$;
      lt$1(e3), t6 && t6.remove();
    }
  }
}, nt$1 = (t5, e2, n2 = false) => t5.m === e2.m && (n2 ? (n2 && !t5.v && e2.v && (t5.v = e2.v), true) : t5.v === e2.v), ot$1 = (t5, e2, n2 = false) => {
  const o2 = e2.$ = t5.$, l2 = t5.p, i2 = e2.p, r2 = e2.m, s2 = e2.u;
  null === s2 ? (K$3(t5, e2, X$3 = "svg" === r2 || "foreignObject" !== r2 && X$3), null !== l2 && null !== i2 ? ((t6, e3, n3, o3, l3 = false) => {
    let i3, r3, s3 = 0, c2 = 0, u2 = 0, a2 = 0, f2 = e3.length - 1, d2 = e3[0], h2 = e3[f2], p2 = o3.length - 1, v2 = o3[0], m2 = o3[p2];
    for (; s3 <= f2 && c2 <= p2; ) if (null == d2) d2 = e3[++s3];
    else if (null == h2) h2 = e3[--f2];
    else if (null == v2) v2 = o3[++c2];
    else if (null == m2) m2 = o3[--p2];
    else if (nt$1(d2, v2, l3)) ot$1(d2, v2, l3), d2 = e3[++s3], v2 = o3[++c2];
    else if (nt$1(h2, m2, l3)) ot$1(h2, m2, l3), h2 = e3[--f2], m2 = o3[--p2];
    else if (nt$1(d2, m2, l3)) ot$1(d2, m2, l3), it$1(t6, d2.$, h2.$.nextSibling), d2 = e3[++s3], m2 = o3[--p2];
    else if (nt$1(h2, v2, l3)) ot$1(h2, v2, l3), it$1(t6, h2.$, d2.$), h2 = e3[--f2], v2 = o3[++c2];
    else {
      for (u2 = -1, a2 = s3; a2 <= f2; ++a2) if (e3[a2] && null !== e3[a2].v && e3[a2].v === v2.v) {
        u2 = a2;
        break;
      }
      u2 >= 0 ? (r3 = e3[u2], r3.m !== v2.m ? i3 = Z$2(e3 && e3[c2], n3, u2) : (ot$1(r3, v2, l3), e3[u2] = void 0, i3 = r3.$), v2 = o3[++c2]) : (i3 = Z$2(e3 && e3[c2], n3, c2), v2 = o3[++c2]), i3 && it$1(d2.$.parentNode, i3, d2.$);
    }
    s3 > f2 ? tt$1(t6, null == o3[p2 + 1] ? null : o3[p2 + 1].$, n3, o3, c2, p2) : c2 > p2 && et$1(e3, s3, f2);
  })(o2, l2, e2, i2, n2) : null !== i2 ? (null !== t5.u && (o2.textContent = ""), tt$1(o2, null, e2, i2, 0, i2.length - 1)) : !n2 && null !== l2 && et$1(l2, 0, l2.length - 1), X$3 && "svg" === r2 && (X$3 = false)) : t5.u !== s2 && (o2.data = s2);
}, lt$1 = (t5) => {
  t5.h && t5.h.ref && t5.h.ref(null), t5.p && t5.p.map(lt$1);
}, it$1 = (t5, e2, n2) => null == t5 ? void 0 : t5.insertBefore(e2, n2), rt$1 = (t5, e2) => {
  if (e2 && !t5.j && e2["s-p"]) {
    const n2 = e2["s-p"].push(new Promise(((o2) => t5.j = () => {
      e2["s-p"].splice(n2 - 1, 1), o2();
    })));
  }
}, st$1 = (t5, e2) => {
  if (t5.o |= 16, 4 & t5.o) return void (t5.o |= 512);
  rt$1(t5, t5.k);
  const n2 = () => ct$1(t5, e2);
  if (!e2) return g$a(n2);
  queueMicrotask((() => {
    n2();
  }));
}, ct$1 = (t5, e2) => {
  const n2 = t5.$hostElement$, o2 = t5.t;
  if (!o2) throw Error(`Can't render component <${n2.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);
  let l2;
  return e2 ? (t5.o |= 256, t5.O && (t5.O.map((([t6, e3]) => mt$1(o2, t6, e3, n2))), t5.O = void 0), l2 = mt$1(o2, "componentWillLoad", void 0, n2)) : l2 = mt$1(o2, "componentWillUpdate", void 0, n2), l2 = ut$1(l2, (() => mt$1(o2, "componentWillRender", void 0, n2))), ut$1(l2, (() => ft$1(t5, o2, e2)));
}, ut$1 = (t5, e2) => at$1(t5) ? t5.then(e2).catch(((t6) => {
  console.error(t6), e2();
})) : e2(), at$1 = (t5) => t5 instanceof Promise || t5 && t5.then && "function" == typeof t5.then, ft$1 = async (t5, e2, n2) => {
  var o2;
  const l2 = t5.$hostElement$, i2 = l2["s-rc"];
  n2 && ((t6) => {
    const e3 = t6.C, n3 = t6.$hostElement$, o3 = e3.o, l3 = ((t7, e4) => {
      var n4;
      const o4 = R$6(e4), l4 = r$2.get(o4);
      if (!u$a.document) return o4;
      if (t7 = 11 === t7.nodeType ? t7 : u$a.document, l4) if ("string" == typeof l4) {
        let i3, r2 = N$3.get(t7 = t7.head || t7);
        if (r2 || N$3.set(t7, r2 = /* @__PURE__ */ new Set()), !r2.has(o4)) {
          {
            i3 = u$a.document.createElement("style"), i3.innerHTML = l4;
            const o5 = null != (n4 = a$2.M) ? n4 : j$a(u$a.document);
            if (null != o5 && i3.setAttribute("nonce", o5), !(1 & e4.o)) if ("HEAD" === t7.nodeName) {
              const e5 = t7.querySelectorAll("link[rel=preconnect]"), n5 = e5.length > 0 ? e5[e5.length - 1].nextSibling : t7.querySelector("style");
              t7.insertBefore(i3, (null == n5 ? void 0 : n5.parentNode) === t7 ? n5 : null);
            } else if ("host" in t7) if (d$2) {
              const e5 = new CSSStyleSheet();
              e5.replaceSync(l4), h$1 ? t7.adoptedStyleSheets.unshift(e5) : t7.adoptedStyleSheets = [e5, ...t7.adoptedStyleSheets];
            } else {
              const e5 = t7.querySelector("style");
              e5 ? e5.innerHTML = l4 + e5.innerHTML : t7.prepend(i3);
            }
            else t7.append(i3);
            1 & e4.o && t7.insertBefore(i3, null);
          }
          4 & e4.o && (i3.innerHTML += s$1), r2 && r2.add(o4);
        }
      } else t7.adoptedStyleSheets.includes(l4) || (h$1 ? t7.adoptedStyleSheets.push(l4) : t7.adoptedStyleSheets = [...t7.adoptedStyleSheets, l4]);
      return o4;
    })(n3.shadowRoot ? n3.shadowRoot : n3.getRootNode(), e3);
    10 & o3 && (n3["s-sc"] = l3, n3.classList.add(l3 + "-h"));
  })(t5);
  dt$1(t5, e2, l2, n2), i2 && (i2.map(((t6) => t6())), l2["s-rc"] = void 0);
  {
    const e3 = null != (o2 = l2["s-p"]) ? o2 : [], n3 = () => ht$1(t5);
    0 === e3.length ? n3() : (Promise.all(e3).then(n3), t5.o |= 4, e3.length = 0);
  }
}, dt$1 = (t5, e2, n2, o2) => {
  try {
    e2 = e2.render(), t5.o &= -17, t5.o |= 2, ((t6, e3, n3 = false) => {
      const o3 = t6.$hostElement$, l2 = t6.C, i2 = t6.P || U$4(null, null), r2 = ((t7) => t7 && t7.m === W$e)(e3) ? e3 : D$a(null, null, e3);
      if (T$b = o3.tagName, l2.N && (r2.h = r2.h || {}, l2.N.map((([t7, e4]) => r2.h[e4] = o3[t7]))), n3 && r2.h) for (const t7 of Object.keys(r2.h)) o3.hasAttribute(t7) && !["key", "ref", "style", "class"].includes(t7) && (r2.h[t7] = o3[t7]);
      r2.m = null, r2.o |= 4, t6.P = r2, r2.$ = i2.$ = o3.shadowRoot || o3, ot$1(i2, r2, n3);
    })(t5, e2, o2);
  } catch (e3) {
    l$1(e3, t5.$hostElement$);
  }
  return null;
}, ht$1 = (t5) => {
  const e2 = t5.$hostElement$, n2 = t5.t, o2 = t5.k;
  mt$1(n2, "componentDidRender", void 0, e2), 64 & t5.o ? mt$1(n2, "componentDidUpdate", void 0, e2) : (t5.o |= 64, yt$1(e2), mt$1(n2, "componentDidLoad", void 0, e2), t5.R(e2), o2 || vt$1()), t5.D(e2), t5.j && (t5.j(), t5.j = void 0), 512 & t5.o && $$5((() => st$1(t5, false))), t5.o &= -517;
}, pt = (t5) => {
  var n2;
  {
    const o2 = e$1(t5), l2 = null == (n2 = null == o2 ? void 0 : o2.$hostElement$) ? void 0 : n2.isConnected;
    return l2 && 2 == (18 & o2.o) && st$1(o2, false), l2;
  }
}, vt$1 = () => {
  $$5((() => G$2(u$a, "appload", { detail: { namespace: "lf-core" } })));
}, mt$1 = (t5, e2, n2, o2) => {
  if (t5 && t5[e2]) try {
    return t5[e2](n2);
  } catch (t6) {
    l$1(t6, o2);
  }
}, yt$1 = (t5) => t5.setAttribute("lf-hydrated", ""), wt$2 = (t5, n2, o2, i2) => {
  const r2 = e$1(t5);
  if (!r2) return;
  if (!r2) throw Error(`Couldn't find host element for "${i2.i}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);
  const s2 = r2.$hostElement$, c2 = r2.U.get(n2), u2 = r2.o, a2 = r2.t;
  if (o2 = q$3(o2, i2.W[n2][0]), (!(8 & u2) || void 0 === c2) && o2 !== c2 && (!Number.isNaN(c2) || !Number.isNaN(o2)) && (r2.U.set(n2, o2), a2)) {
    if (i2.A && 128 & u2) {
      const t6 = i2.A[n2];
      t6 && t6.map(((t7) => {
        try {
          a2[t7](o2, c2, n2);
        } catch (t8) {
          l$1(t8, s2);
        }
      }));
    }
    if (2 == (18 & u2)) {
      if (a2.componentShouldUpdate && false === a2.componentShouldUpdate(o2, c2, n2)) return;
      st$1(r2, false);
    }
  }
}, bt$1 = (t5, n2, o2) => {
  var l2, i2;
  const r2 = t5.prototype;
  if (n2.W || n2.A || t5.watchers) {
    t5.watchers && !n2.A && (n2.A = t5.watchers);
    const s2 = Object.entries(null != (l2 = n2.W) ? l2 : {});
    if (s2.map((([t6, [l3]]) => {
      if (31 & l3 || 2 & o2 && 32 & l3) {
        const { get: i3, set: s3 } = Object.getOwnPropertyDescriptor(r2, t6) || {};
        i3 && (n2.W[t6][0] |= 2048), s3 && (n2.W[t6][0] |= 4096), (1 & o2 || !i3) && Object.defineProperty(r2, t6, { get() {
          {
            if (!(2048 & n2.W[t6][0])) return ((t7, n3) => e$1(this).U.get(n3))(0, t6);
            const o3 = e$1(this), l4 = o3 ? o3.t : r2;
            if (!l4) return;
            return l4[t6];
          }
        }, configurable: true, enumerable: true }), Object.defineProperty(r2, t6, { set(i4) {
          const r3 = e$1(this);
          if (r3) {
            if (s3) {
              const e2 = 32 & l3 ? this[t6] : r3.$hostElement$[t6];
              return void 0 === e2 && r3.U.get(t6) ? i4 = r3.U.get(t6) : !r3.U.get(t6) && e2 && r3.U.set(t6, e2), s3.call(this, q$3(i4, l3)), void wt$2(this, t6, i4 = 32 & l3 ? this[t6] : r3.$hostElement$[t6], n2);
            }
            {
              if (!(1 & o2 && 4096 & n2.W[t6][0])) return wt$2(this, t6, i4, n2), void (1 & o2 && !r3.t && r3.F.then((() => {
                4096 & n2.W[t6][0] && r3.t[t6] !== r3.U.get(t6) && (r3.t[t6] = i4);
              })));
              const e2 = () => {
                const e3 = r3.t[t6];
                !r3.U.get(t6) && e3 && r3.U.set(t6, e3), r3.t[t6] = q$3(i4, l3), wt$2(this, t6, r3.t[t6], n2);
              };
              r3.t ? e2() : r3.F.then((() => e2()));
            }
          }
        } });
      } else 1 & o2 && 64 & l3 && Object.defineProperty(r2, t6, { value(...n3) {
        var o3;
        const l4 = e$1(this);
        return null == (o3 = null == l4 ? void 0 : l4.H) ? void 0 : o3.then((() => {
          var e2;
          return null == (e2 = l4.t) ? void 0 : e2[t6](...n3);
        }));
      } });
    })), 1 & o2) {
      const o3 = /* @__PURE__ */ new Map();
      r2.attributeChangedCallback = function(t6, l3, i3) {
        a$2.jmp((() => {
          var s3;
          const c2 = o3.get(t6);
          if (this.hasOwnProperty(c2)) i3 = this[c2], delete this[c2];
          else {
            if (r2.hasOwnProperty(c2) && "number" == typeof this[c2] && this[c2] == i3) return;
            if (null == c2) {
              const o4 = e$1(this), r3 = null == o4 ? void 0 : o4.o;
              if (o4 && r3 && !(8 & r3) && 128 & r3 && i3 !== l3) {
                const e2 = o4.t, r4 = null == (s3 = n2.A) ? void 0 : s3[t6];
                null == r4 || r4.forEach(((n3) => {
                  null != e2[n3] && e2[n3].call(e2, i3, l3, t6);
                }));
              }
              return;
            }
          }
          const u2 = Object.getOwnPropertyDescriptor(r2, c2);
          (i3 = (null !== i3 || "boolean" != typeof this[c2]) && i3) === this[c2] || u2.get && !u2.set || (this[c2] = i3);
        }));
      }, t5.observedAttributes = Array.from(/* @__PURE__ */ new Set([...Object.keys(null != (i2 = n2.A) ? i2 : {}), ...s2.filter((([t6, e2]) => 31 & e2[0])).map((([t6, e2]) => {
        var l3;
        const i3 = e2[1] || t6;
        return o3.set(i3, t6), 512 & e2[0] && (null == (l3 = n2.N) || l3.push([t6, i3])), i3;
      }))]));
    }
  }
  return t5;
}, $t$2 = (t5, e2) => {
  mt$1(t5, "connectedCallback", void 0, e2);
}, gt$1 = (t5, e2) => {
  mt$1(t5, "disconnectedCallback", void 0, e2 || t5);
}, St$2 = (t5, n2 = {}) => {
  var o2;
  if (!u$a.document) return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");
  const c2 = [], f2 = n2.exclude || [], h2 = u$a.customElements, p2 = u$a.document.head, v2 = p2.querySelector("meta[charset]"), m2 = u$a.document.createElement("style"), y2 = [];
  let w3, b2 = true;
  Object.assign(a$2, n2), a$2.l = new URL(n2.resourcesUrl || "./", u$a.document.baseURI).href;
  let $3 = false;
  if (t5.map(((t6) => {
    t6[1].map(((n3) => {
      var o3;
      const s2 = { o: n3[0], i: n3[1], W: n3[2], L: n3[3] };
      4 & s2.o && ($3 = true), s2.W = n3[2], s2.L = n3[3], s2.N = [], s2.A = null != (o3 = n3[4]) ? o3 : {};
      const u2 = s2.i, p3 = class extends HTMLElement {
        constructor(t7) {
          if (super(t7), this.hasRegisteredEventListeners = false, ((t8, e2) => {
            const n4 = { o: 0, $hostElement$: t8, C: e2, U: /* @__PURE__ */ new Map() };
            n4.H = new Promise(((t9) => n4.D = t9)), n4.F = new Promise(((t9) => n4.R = t9)), t8["s-p"] = [], t8["s-rc"] = [];
            const o4 = n4;
            t8.__stencil__getHostRef = () => o4;
          })(t7 = this, s2), 1 & s2.o) if (t7.shadowRoot) {
            if ("open" !== t7.shadowRoot.mode) throw Error(`Unable to re-use existing shadow root for ${s2.i}! Mode is set to ${t7.shadowRoot.mode} but Stencil only supports open shadow roots.`);
          } else P$7.call(t7, s2);
        }
        connectedCallback() {
          const t7 = e$1(this);
          t7 && (this.hasRegisteredEventListeners || (this.hasRegisteredEventListeners = true, kt$2(this, t7, s2.L)), w3 && (clearTimeout(w3), w3 = null), b2 ? y2.push(this) : a$2.jmp((() => ((t8) => {
            if (!(1 & a$2.o)) {
              const n4 = e$1(t8);
              if (!n4) return;
              const o4 = n4.C;
              if (1 & n4.o) kt$2(t8, n4, o4.L), (null == n4 ? void 0 : n4.t) ? $t$2(n4.t, t8) : (null == n4 ? void 0 : n4.F) && n4.F.then((() => $t$2(n4.t, t8)));
              else {
                n4.o |= 1;
                {
                  let e2 = t8;
                  for (; e2 = e2.parentNode || e2.host; ) if (e2["s-p"]) {
                    rt$1(n4, n4.k = e2);
                    break;
                  }
                }
                o4.W && Object.entries(o4.W).map((([e2, [n5]]) => {
                  if (31 & n5 && t8.hasOwnProperty(e2)) {
                    const n6 = t8[e2];
                    delete t8[e2], t8[e2] = n6;
                  }
                })), (async (t9, e2, n5) => {
                  let o5;
                  if (!(32 & e2.o)) {
                    if (e2.o |= 32, n5.T) {
                      const r2 = ((t10, e3) => {
                        const n6 = t10.i.replace(/-/g, "_"), o6 = t10.T;
                        if (!o6) return;
                        const r3 = i$1.get(o6);
                        return r3 ? r3[n6] : __variableDynamicImportRuntimeHelper(/* @__PURE__ */ Object.assign({ "./p-0df37de3.entry.js": () => __vitePreload(() => Promise.resolve().then(() => p0df37de3_entry), true ? void 0 : void 0, import.meta.url), "./p-182c6c19.entry.js": () => __vitePreload(() => Promise.resolve().then(() => p182c6c19_entry), true ? void 0 : void 0, import.meta.url), "./p-28dd0bff.entry.js": () => __vitePreload(() => Promise.resolve().then(() => p28dd0bff_entry), true ? void 0 : void 0, import.meta.url), "./p-36aa4a7f.entry.js": () => __vitePreload(() => Promise.resolve().then(() => p36aa4a7f_entry), true ? void 0 : void 0, import.meta.url), "./p-48b2a65e.entry.js": () => __vitePreload(() => Promise.resolve().then(() => p48b2a65e_entry), true ? void 0 : void 0, import.meta.url), "./p-5d51f267.entry.js": () => __vitePreload(() => Promise.resolve().then(() => p5d51f267_entry), true ? void 0 : void 0, import.meta.url), "./p-62695161.entry.js": () => __vitePreload(() => Promise.resolve().then(() => p62695161_entry), true ? void 0 : void 0, import.meta.url), "./p-988ad9c7.entry.js": () => __vitePreload(() => Promise.resolve().then(() => p988ad9c7_entry), true ? void 0 : void 0, import.meta.url), "./p-a6642965.entry.js": () => __vitePreload(() => Promise.resolve().then(() => pA6642965_entry), true ? void 0 : void 0, import.meta.url), "./p-b1bf3d70.entry.js": () => __vitePreload(() => Promise.resolve().then(() => pB1bf3d70_entry), true ? void 0 : void 0, import.meta.url), "./p-bb1b42f7.entry.js": () => __vitePreload(() => Promise.resolve().then(() => pBb1b42f7_entry), true ? void 0 : void 0, import.meta.url), "./p-e2900881.entry.js": () => __vitePreload(() => Promise.resolve().then(() => pE2900881_entry), true ? void 0 : void 0, import.meta.url), "./p-e4e76694.entry.js": () => __vitePreload(() => Promise.resolve().then(() => pE4e76694_entry), true ? void 0 : void 0, import.meta.url), "./p-e6148250.entry.js": () => __vitePreload(() => Promise.resolve().then(() => pE6148250_entry), true ? void 0 : void 0, import.meta.url), "./p-f19de954.entry.js": () => __vitePreload(() => Promise.resolve().then(() => pF19de954_entry), true ? void 0 : void 0, import.meta.url), "./p-fc80bc8a.entry.js": () => __vitePreload(() => Promise.resolve().then(() => pFc80bc8a_entry), true ? void 0 : void 0, import.meta.url) }), `./${o6}.entry.js`, 2).then(((t11) => (i$1.set(o6, t11), t11[n6])), ((t11) => {
                          l$1(t11, e3.$hostElement$);
                        }));
                        /*!__STENCIL_STATIC_IMPORT_SWITCH__*/
                      })(n5, e2);
                      if (r2 && "then" in r2) {
                        o5 = await r2;
                      } else o5 = r2;
                      if (!o5) throw Error(`Constructor for "${n5.i}#${e2.q}" was not found`);
                      o5.isProxied || (n5.A = o5.watchers, bt$1(o5, n5, 2), o5.isProxied = true);
                      e2.o |= 8;
                      try {
                        new o5(e2);
                      } catch (e3) {
                        l$1(e3, t9);
                      }
                      e2.o &= -9, e2.o |= 128, $t$2(e2.t, t9);
                    } else o5 = t9.constructor, customElements.whenDefined(t9.localName).then((() => e2.o |= 128));
                    if (o5 && o5.style) {
                      let t10;
                      "string" == typeof o5.style && (t10 = o5.style);
                      const e3 = R$6(n5);
                      if (!r$2.has(e3)) {
                        ((t11, e4, n6) => {
                          let o6 = r$2.get(t11);
                          d$2 && n6 ? (o6 = o6 || new CSSStyleSheet(), "string" == typeof o6 ? o6 = e4 : o6.replaceSync(e4)) : o6 = e4, r$2.set(t11, o6);
                        })(e3, t10, !!(1 & n5.o));
                      }
                    }
                  }
                  const s3 = e2.k, c3 = () => st$1(e2, true);
                  s3 && s3["s-rc"] ? s3["s-rc"].push(c3) : c3();
                })(t8, n4, o4);
              }
            }
          })(this))));
        }
        disconnectedCallback() {
          a$2.jmp((() => (async (t7) => {
            if (!(1 & a$2.o)) {
              const n4 = e$1(t7);
              (null == n4 ? void 0 : n4.V) && (n4.V.map(((t8) => t8())), n4.V = void 0), (null == n4 ? void 0 : n4.t) ? gt$1(n4.t, t7) : (null == n4 ? void 0 : n4.F) && n4.F.then((() => gt$1(n4.t, t7)));
            }
            N$3.has(t7) && N$3.delete(t7), t7.shadowRoot && N$3.has(t7.shadowRoot) && N$3.delete(t7.shadowRoot);
          })(this))), a$2.raf((() => {
            var t7;
            const n4 = e$1(this);
            if (!n4) return;
            const o4 = y2.findIndex(((t8) => t8 === this));
            o4 > -1 && y2.splice(o4, 1), (null == (t7 = null == n4 ? void 0 : n4.P) ? void 0 : t7.$) instanceof Node && !n4.P.$.isConnected && delete n4.P.$;
          }));
        }
        componentOnReady() {
          var t7;
          return null == (t7 = e$1(this)) ? void 0 : t7.F;
        }
      };
      s2.T = t6[0], f2.includes(u2) || h2.get(u2) || (c2.push(u2), h2.define(u2, bt$1(p3, s2, 1)));
    }));
  })), c2.length > 0 && ($3 && (m2.textContent += s$1), m2.textContent += c2.sort() + "{visibility:hidden}[lf-hydrated]{visibility:inherit}", m2.innerHTML.length)) {
    m2.setAttribute("data-styles", "");
    const t6 = null != (o2 = a$2.M) ? o2 : j$a(u$a.document);
    null != t6 && m2.setAttribute("nonce", t6), p2.insertBefore(m2, v2 ? v2.nextSibling : p2.firstChild);
  }
  b2 = false, y2.length ? y2.map(((t6) => t6.connectedCallback())) : a$2.jmp((() => w3 = setTimeout(vt$1, 30)));
}, jt$1 = (t5, e2) => e2, kt$2 = (t5, e2, n2) => {
  n2 && u$a.document && n2.map((([n3, o2, l2]) => {
    const i2 = t5, r2 = Ot$2(e2, l2), s2 = Et$2(n3);
    a$2.ael(i2, o2, r2, s2), (e2.V = e2.V || []).push((() => a$2.rel(i2, o2, r2, s2)));
  }));
}, Ot$2 = (t5, e2) => (n2) => {
  var o2;
  try {
    256 & t5.o ? null == (o2 = t5.t) || o2[e2](n2) : (t5.O = t5.O || []).push([e2, n2]);
  } catch (e3) {
    l$1(e3, t5.$hostElement$);
  }
}, Et$2 = (t5) => ({ passive: !!(1 & t5), capture: !!(2 & t5) });
const o$2 = () => {
};
(() => {
  const l2 = import.meta.url, f2 = {};
  return "" !== l2 && (f2.resourcesUrl = new URL(".", l2).href), f$2(f2);
})().then((async (e2) => (await o$2(), St$2(JSON.parse('[["p-988ad9c7",[[257,"lf-imageviewer",{"lfDataset":[1040,"lf-dataset"],"lfLoadCallback":[1040,"lf-load-callback"],"lfNavigation":[1040,"lf-navigation"],"lfStyle":[1025,"lf-style"],"lfValue":[1040,"lf-value"],"debugInfo":[32],"currentShape":[32],"history":[32],"historyIndex":[32],"isNavigationTreeOpen":[32],"isSpinnerActive":[32],"addSnapshot":[64],"clearHistory":[64],"clearSelection":[64],"getComponents":[64],"getCurrentSnapshot":[64],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"reset":[64],"setSpinnerStatus":[64],"unmount":[64]}]]],["p-182c6c19",[[257,"lf-compare",{"lfDataset":[1040,"lf-dataset"],"lfShape":[1025,"lf-shape"],"lfStyle":[1025,"lf-style"],"lfView":[1025,"lf-view"],"debugInfo":[32],"isLeftPanelOpened":[32],"isRightPanelOpened":[32],"leftShape":[32],"rightShape":[32],"shapes":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]},null,{"lfDataset":["updateShapes"],"lfShape":["updateShapes"]}]]],["p-e4e76694",[[257,"lf-accordion",{"lfDataset":[1040,"lf-dataset"],"lfRipple":[1028,"lf-ripple"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfStyle":[1025,"lf-style"],"debugInfo":[32],"expandedNodes":[32],"selectedNodes":[32],"getDebugInfo":[64],"getProps":[64],"getSelectedNodes":[64],"refresh":[64],"toggleNode":[64],"unmount":[64]}]]],["p-62695161",[[257,"lf-article",{"lfDataset":[1040,"lf-dataset"],"lfEmpty":[1025,"lf-empty"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"debugInfo":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}]]],["p-5d51f267",[[257,"lf-carousel",{"lfDataset":[1040,"lf-dataset"],"lfAutoPlay":[4,"lf-auto-play"],"lfInterval":[2,"lf-interval"],"lfLightbox":[1540,"lf-lightbox"],"lfNavigation":[1028,"lf-navigation"],"lfShape":[1537,"lf-shape"],"lfStyle":[1025,"lf-style"],"debugInfo":[32],"currentIndex":[32],"shapes":[32],"getDebugInfo":[64],"getProps":[64],"goToSlide":[64],"nextSlide":[64],"prevSlide":[64],"refresh":[64],"unmount":[64]},null,{"lfDataset":["updateShapes"],"lfShape":["updateShapes"]}]]],["p-28dd0bff",[[257,"lf-messenger",{"lfAutosave":[1028,"lf-autosave"],"lfDataset":[1040,"lf-dataset"],"lfStyle":[1025,"lf-style"],"lfValue":[16,"lf-value"],"debugInfo":[32],"chat":[32],"connectionStatus":[32],"covers":[32],"currentCharacter":[32],"formStatusMap":[32],"history":[32],"hoveredCustomizationOption":[32],"saveInProgress":[32],"ui":[32],"deleteOption":[64],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"reset":[64],"save":[64],"unmount":[64]}]]],["p-f19de954",[[257,"lf-drawer",{"lfDisplay":[1537,"lf-display"],"lfPosition":[1537,"lf-position"],"lfResponsive":[1026,"lf-responsive"],"lfStyle":[1025,"lf-style"],"lfValue":[1540,"lf-value"],"debugInfo":[32],"close":[64],"getDebugInfo":[64],"getProps":[64],"isOpened":[64],"open":[64],"refresh":[64],"toggle":[64],"unmount":[64]},[[0,"keydown","listenKeydown"]],{"lfDisplay":["onLfDisplayChange"],"lfResponsive":["onLfResponsiveChange"]}]]],["p-a6642965",[[257,"lf-header",{"lfStyle":[1025,"lf-style"],"debugInfo":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}]]],["p-e6148250",[[257,"lf-placeholder",{"lfIcon":[1,"lf-icon"],"lfProps":[16,"lf-props"],"lfStyle":[1025,"lf-style"],"lfThreshold":[2,"lf-threshold"],"lfTrigger":[1,"lf-trigger"],"lfValue":[1,"lf-value"],"debugInfo":[32],"isInViewport":[32],"getComponent":[64],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}]]],["p-36aa4a7f",[[257,"lf-slider",{"lfLabel":[1025,"lf-label"],"lfLeadingLabel":[1028,"lf-leading-label"],"lfMax":[2,"lf-max"],"lfMin":[2,"lf-min"],"lfStep":[2,"lf-step"],"lfRipple":[1028,"lf-ripple"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[1026,"lf-value"],"debugInfo":[32],"value":[32],"getDebugInfo":[64],"getProps":[64],"getValue":[64],"refresh":[64],"setValue":[64],"unmount":[64]}]]],["p-0df37de3",[[257,"lf-splash",{"lfLabel":[1025,"lf-label"],"lfStyle":[1025,"lf-style"],"debugInfo":[32],"state":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}]]],["p-bb1b42f7",[[257,"lf-toast",{"lfCloseIcon":[1025,"lf-close-icon"],"lfCloseCallback":[16,"lf-close-callback"],"lfIcon":[1025,"lf-icon"],"lfTimer":[2,"lf-timer"],"lfMessage":[1025,"lf-message"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"debugInfo":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}]]],["p-48b2a65e",[[257,"lf-card",{"lfDataset":[1040,"lf-dataset"],"lfLayout":[1025,"lf-layout"],"lfSizeX":[1025,"lf-size-x"],"lfSizeY":[1025,"lf-size-y"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"debugInfo":[32],"shapes":[32],"getDebugInfo":[64],"getProps":[64],"getShapes":[64],"refresh":[64],"unmount":[64]},null,{"lfDataset":["updateShapes"]}],[257,"lf-badge",{"lfImageProps":[1040,"lf-image-props"],"lfLabel":[1025,"lf-label"],"lfPosition":[1537,"lf-position"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"debugInfo":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}],[257,"lf-canvas",{"lfBrush":[1025,"lf-brush"],"lfColor":[1025,"lf-color"],"lfCursor":[1025,"lf-cursor"],"lfImageProps":[1040,"lf-image-props"],"lfOpacity":[1026,"lf-opacity"],"lfPreview":[1028,"lf-preview"],"lfStrokeTolerance":[1026,"lf-stroke-tolerance"],"lfSize":[1026,"lf-size"],"lfStyle":[1025,"lf-style"],"boxing":[32],"debugInfo":[32],"isPainting":[32],"orientation":[32],"points":[32],"clearCanvas":[64],"getCanvas":[64],"getDebugInfo":[64],"getImage":[64],"getProps":[64],"refresh":[64],"resizeCanvas":[64],"setCanvasHeight":[64],"setCanvasWidth":[64],"unmount":[64]}],[257,"lf-photoframe",{"lfOverlay":[1040,"lf-overlay"],"lfPlaceholder":[16,"lf-placeholder"],"lfStyle":[1025,"lf-style"],"lfThreshold":[2,"lf-threshold"],"lfValue":[16,"lf-value"],"debugInfo":[32],"imageOrientation":[32],"isInViewport":[32],"isReady":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}],[257,"lf-chart",{"lfAxis":[1025,"lf-axis"],"lfColors":[1040,"lf-colors"],"lfDataset":[1040,"lf-dataset"],"lfLegend":[1025,"lf-legend"],"lfSeries":[1040,"lf-series"],"lfSizeX":[1025,"lf-size-x"],"lfSizeY":[1025,"lf-size-y"],"lfStyle":[1025,"lf-style"],"lfTypes":[1040,"lf-types"],"lfXAxis":[1040,"lf-x-axis"],"lfYAxis":[1040,"lf-y-axis"],"debugInfo":[32],"themeValues":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"resize":[64],"unmount":[64]}],[257,"lf-toggle",{"lfAriaLabel":[1025,"lf-aria-label"],"lfLabel":[1025,"lf-label"],"lfLeadingLabel":[1028,"lf-leading-label"],"lfRipple":[1028,"lf-ripple"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[4,"lf-value"],"debugInfo":[32],"value":[32],"getDebugInfo":[64],"getProps":[64],"getValue":[64],"refresh":[64],"setValue":[64],"unmount":[64]}],[257,"lf-upload",{"lfHtmlAttributes":[1040,"lf-html-attributes"],"lfLabel":[1025,"lf-label"],"lfRipple":[1028,"lf-ripple"],"lfStyle":[1025,"lf-style"],"lfValue":[16,"lf-value"],"debugInfo":[32],"selectedFiles":[32],"getDebugInfo":[64],"getProps":[64],"getValue":[64],"refresh":[64],"unmount":[64]}],[257,"lf-chat",{"lfContextWindow":[1026,"lf-context-window"],"lfEmpty":[1025,"lf-empty"],"lfEndpointUrl":[1025,"lf-endpoint-url"],"lfLayout":[1025,"lf-layout"],"lfMaxTokens":[1026,"lf-max-tokens"],"lfPollingInterval":[1026,"lf-polling-interval"],"lfSeed":[1026,"lf-seed"],"lfStyle":[1025,"lf-style"],"lfSystem":[1025,"lf-system"],"lfTemperature":[1026,"lf-temperature"],"lfTypewriterProps":[1028,"lf-typewriter-props"],"lfUiSize":[1537,"lf-ui-size"],"lfValue":[1040,"lf-value"],"currentAbortStreaming":[32],"currentPrompt":[32],"currentTokens":[32],"debugInfo":[32],"history":[32],"status":[32],"view":[32],"abortStreaming":[64],"getDebugInfo":[64],"getHistory":[64],"getLastMessage":[64],"getProps":[64],"refresh":[64],"scrollToBottom":[64],"setHistory":[64],"unmount":[64]},[[0,"keydown","listenKeydown"]],{"lfPollingInterval":["updatePollingInterval"],"lfSystem":["updateTokensCount"]}],[257,"lf-chip",{"lfAriaLabel":[1025,"lf-aria-label"],"lfDataset":[1040,"lf-dataset"],"lfRipple":[1028,"lf-ripple"],"lfStyle":[1025,"lf-style"],"lfStyling":[1025,"lf-styling"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[16,"lf-value"],"debugInfo":[32],"expandedNodes":[32],"hiddenNodes":[32],"selectedNodes":[32],"getDebugInfo":[64],"getProps":[64],"getSelectedNodes":[64],"refresh":[64],"setSelectedNodes":[64],"unmount":[64]}],[257,"lf-code",{"lfFadeIn":[1028,"lf-fade-in"],"lfFormat":[1028,"lf-format"],"lfLanguage":[1025,"lf-language"],"lfPreserveSpaces":[1028,"lf-preserve-spaces"],"lfShowCopy":[1028,"lf-show-copy"],"lfShowHeader":[1028,"lf-show-header"],"lfStickyHeader":[1028,"lf-sticky-header"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[1025,"lf-value"],"debugInfo":[32],"value":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]},null,{"lfLanguage":["loadLanguage"]}],[257,"lf-progressbar",{"lfAnimated":[1540,"lf-animated"],"lfCenteredLabel":[1540,"lf-centered-label"],"lfIcon":[1537,"lf-icon"],"lfIsRadial":[1540,"lf-is-radial"],"lfLabel":[1025,"lf-label"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[1026,"lf-value"],"debugInfo":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}],[257,"lf-textfield",{"lfFormatJSON":[1040,"lf-format-j-s-o-n"],"lfHelper":[1040,"lf-helper"],"lfHtmlAttributes":[1040,"lf-html-attributes"],"lfIcon":[1025,"lf-icon"],"lfLabel":[1025,"lf-label"],"lfStretchX":[1540,"lf-stretch-x"],"lfStretchY":[1540,"lf-stretch-y"],"lfStyle":[1025,"lf-style"],"lfStyling":[1025,"lf-styling"],"lfTrailingIcon":[1540,"lf-trailing-icon"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[1,"lf-value"],"debugInfo":[32],"status":[32],"value":[32],"formatJSON":[64],"getDebugInfo":[64],"getElement":[64],"getProps":[64],"getValue":[64],"refresh":[64],"setBlur":[64],"setFocus":[64],"setValue":[64],"unmount":[64]}],[257,"lf-typewriter",{"lfCursor":[1025,"lf-cursor"],"lfDeleteSpeed":[1026,"lf-delete-speed"],"lfLoop":[1028,"lf-loop"],"lfPause":[1026,"lf-pause"],"lfSpeed":[1026,"lf-speed"],"lfStyle":[1025,"lf-style"],"lfTag":[1025,"lf-tag"],"lfUiSize":[1537,"lf-ui-size"],"lfUpdatable":[1028,"lf-updatable"],"lfValue":[1025,"lf-value"],"debugInfo":[32],"displayedText":[32],"isDeleting":[32],"currentTextIndex":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]},null,{"lfValue":["handleLfValueChange"]}],[257,"lf-image",{"lfHtmlAttributes":[1040,"lf-html-attributes"],"lfMode":[1537,"lf-mode"],"lfShowSpinner":[1028,"lf-show-spinner"],"lfSizeX":[1025,"lf-size-x"],"lfSizeY":[1025,"lf-size-y"],"lfStyle":[1025,"lf-style"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[1025,"lf-value"],"debugInfo":[32],"error":[32],"isLoaded":[32],"resolvedSpriteName":[32],"getDebugInfo":[64],"getImage":[64],"getProps":[64],"refresh":[64],"unmount":[64]},null,{"lfValue":["resetState"]}],[257,"lf-button",{"lfAriaLabel":[1025,"lf-aria-label"],"lfDataset":[1040,"lf-dataset"],"lfIcon":[1025,"lf-icon"],"lfIconOff":[1025,"lf-icon-off"],"lfLabel":[1025,"lf-label"],"lfRipple":[1028,"lf-ripple"],"lfShowSpinner":[1540,"lf-show-spinner"],"lfStretchX":[1540,"lf-stretch-x"],"lfStretchY":[1540,"lf-stretch-y"],"lfStyle":[1025,"lf-style"],"lfStyling":[1025,"lf-styling"],"lfToggable":[1028,"lf-toggable"],"lfTrailingIcon":[1028,"lf-trailing-icon"],"lfType":[1025,"lf-type"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[4,"lf-value"],"debugInfo":[32],"value":[32],"getDebugInfo":[64],"getProps":[64],"getValue":[64],"refresh":[64],"setMessage":[64],"setValue":[64],"unmount":[64]}],[257,"lf-list",{"lfDataset":[1040,"lf-dataset"],"lfEmpty":[1025,"lf-empty"],"lfEnableDeletions":[1028,"lf-enable-deletions"],"lfNavigation":[1028,"lf-navigation"],"lfRipple":[1028,"lf-ripple"],"lfSelectable":[1028,"lf-selectable"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[2,"lf-value"],"debugInfo":[32],"focused":[32],"selected":[32],"focusNext":[64],"focusPrevious":[64],"getDebugInfo":[64],"getProps":[64],"getSelected":[64],"refresh":[64],"selectNode":[64],"unmount":[64]},[[0,"keydown","listenKeydown"]]],[257,"lf-spinner",{"lfActive":[1540,"lf-active"],"lfBarVariant":[1540,"lf-bar-variant"],"lfDimensions":[1025,"lf-dimensions"],"lfFader":[1540,"lf-fader"],"lfFaderTimeout":[1026,"lf-fader-timeout"],"lfFullScreen":[1540,"lf-full-screen"],"lfLayout":[1026,"lf-layout"],"lfStyle":[1025,"lf-style"],"lfTimeout":[1026,"lf-timeout"],"bigWait":[32],"debugInfo":[32],"progress":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]},null,{"lfActive":["onFaderChange"],"lfFader":["onFaderChange"],"lfFaderTimeout":["onFaderChange"],"lfBarVariant":["lfBarVariantChanged"],"lfTimeout":["lfTimeoutChanged"]}]]],["p-fc80bc8a",[[257,"lf-masonry",{"lfActions":[1028,"lf-actions"],"lfCollapseColumns":[1028,"lf-collapse-columns"],"lfColumns":[1026,"lf-columns"],"lfDataset":[1040,"lf-dataset"],"lfSelectable":[1540,"lf-selectable"],"lfShape":[1025,"lf-shape"],"lfStyle":[1025,"lf-style"],"lfView":[1025,"lf-view"],"debugInfo":[32],"selectedShape":[32],"shapes":[32],"viewportWidth":[32],"getDebugInfo":[64],"getProps":[64],"getSelectedShape":[64],"redecorateShapes":[64],"refresh":[64],"setSelectedShape":[64],"unmount":[64]},null,{"lfColumns":["validateColumns"],"lfDataset":["updateShapes"],"lfShape":["updateShapes"]}]]],["p-e2900881",[[257,"lf-tabbar",{"lfAriaLabel":[1025,"lf-aria-label"],"lfDataset":[16,"lf-dataset"],"lfNavigation":[4,"lf-navigation"],"lfRipple":[1028,"lf-ripple"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[8,"lf-value"],"debugInfo":[32],"value":[32],"getDebugInfo":[64],"getProps":[64],"getValue":[64],"refresh":[64],"setValue":[64],"unmount":[64]}]]],["p-b1bf3d70",[[257,"lf-tree",{"lfAccordionLayout":[1540,"lf-accordion-layout"],"lfDataset":[1040,"lf-dataset"],"lfEmpty":[1025,"lf-empty"],"lfExpandedNodeIds":[1040,"lf-expanded-node-ids"],"lfFilter":[1028,"lf-filter"],"lfGrid":[1540,"lf-grid"],"lfInitialExpansionDepth":[1026,"lf-initial-expansion-depth"],"lfSelectedNodeIds":[1040,"lf-selected-node-ids"],"lfRipple":[1028,"lf-ripple"],"lfSelectable":[1540,"lf-selectable"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"debugInfo":[32],"expandedNodes":[32],"hiddenNodes":[32],"selectedNode":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"getExpandedNodeIds":[64],"getSelectedNodeIds":[64],"setExpandedNodes":[64],"setSelectedNodes":[64],"selectByPredicate":[64],"unmount":[64]},null,{"lfDataset":["handleDatasetChange"],"lfExpandedNodeIds":["handleExpandedPropChange"],"lfSelectedNodeIds":["handleSelectedPropChange"],"lfInitialExpansionDepth":["handleInitialDepthChange"],"lfSelectable":["handleSelectableChange"],"lfFilter":["handleFilterToggle"]}]]]]'), e2))));
var t = Object.defineProperty, e = (t5) => {
  if (t5.__stencil__getHostRef) return t5.__stencil__getHostRef();
}, o$1 = (t5, e2) => e2 in t5, l = (t5, e2) => (0, console.error)(t5, e2), i = /* @__PURE__ */ new Map(), r$1 = /* @__PURE__ */ new Map(), s = "slot-fb{display:contents}slot-fb[hidden]{display:none}", c = "http://www.w3.org/1999/xlink", u$9 = "undefined" != typeof window ? window : {}, a$1 = { o: 0, l: "", jmp: (t5) => t5(), raf: (t5) => requestAnimationFrame(t5), ael: (t5, e2, n2, o2) => t5.addEventListener(e2, n2, o2), rel: (t5, e2, n2, o2) => t5.removeEventListener(e2, n2, o2), ce: (t5, e2) => new CustomEvent(t5, e2) }, f$1 = (t5) => Promise.resolve(t5), d$1 = (() => {
  try {
    return new CSSStyleSheet(), "function" == typeof new CSSStyleSheet().replaceSync;
  } catch (t5) {
  }
  return false;
})(), h = !!d$1 && (() => !!u$9.document && Object.getOwnPropertyDescriptor(u$9.document.adoptedStyleSheets, "length").writable)(), p$7 = false, v$9 = [], m$9 = [], y$b = (t5, e2) => (n2) => {
  t5.push(n2), p$7 || (p$7 = true, 4 & a$1.o ? $$4(b$9) : a$1.raf(b$9));
}, w$c = (t5) => {
  for (let e2 = 0; e2 < t5.length; e2++) try {
    t5[e2](performance.now());
  } catch (t6) {
    l(t6);
  }
  t5.length = 0;
}, b$9 = () => {
  w$c(v$9), w$c(m$9), (p$7 = v$9.length > 0) && a$1.raf(b$9);
}, $$4 = (t5) => f$1().then(t5), g$9 = y$b(m$9), S$7 = (t5) => "object" == (t5 = typeof t5) || "function" === t5;
function j$9(t5) {
  var e2, n2, o2;
  return null != (o2 = null == (n2 = null == (e2 = t5.head) ? void 0 : e2.querySelector('meta[name="csp-nonce"]')) ? void 0 : n2.getAttribute("content")) ? o2 : void 0;
}
((e2, n2) => {
  for (var o2 in n2) t(e2, o2, { get: n2[o2], enumerable: true });
})({}, { err: () => O$5, map: () => E$c, ok: () => k$c, unwrap: () => C$b, unwrapErr: () => M$b });
var k$c = (t5) => ({ isOk: true, isErr: false, value: t5 }), O$5 = (t5) => ({ isOk: false, isErr: true, value: t5 });
function E$c(t5, e2) {
  if (t5.isOk) {
    const n2 = e2(t5.value);
    return n2 instanceof Promise ? n2.then(((t6) => k$c(t6))) : k$c(n2);
  }
  if (t5.isErr) return O$5(t5.value);
  throw "should never get here";
}
var x$c, C$b = (t5) => {
  if (t5.isOk) return t5.value;
  throw t5.value;
}, M$b = (t5) => {
  if (t5.isErr) return t5.value;
  throw t5.value;
};
function P$6() {
  const t5 = this.attachShadow({ mode: "open" });
  void 0 === x$c && (x$c = null), x$c && (h ? t5.adoptedStyleSheets.push(x$c) : t5.adoptedStyleSheets = [...t5.adoptedStyleSheets, x$c]);
}
var N$2 = /* @__PURE__ */ new WeakMap(), R$5 = (t5) => "sc-" + t5.i, D$9 = (t5, e2, ...n2) => {
  let o2 = null, l2 = null, i2 = false, r2 = false;
  const s2 = [], c2 = (e3) => {
    for (let n3 = 0; n3 < e3.length; n3++) o2 = e3[n3], Array.isArray(o2) ? c2(o2) : null != o2 && "boolean" != typeof o2 && ((i2 = !S$7(o2)) && (o2 += ""), i2 && r2 ? s2[s2.length - 1].u += o2 : s2.push(i2 ? U$3(null, o2) : o2), r2 = i2);
  };
  if (c2(n2), e2) ;
  const u2 = U$3(t5, null);
  return u2.h = e2, s2.length > 0 && (u2.p = s2), u2.v = l2, u2;
}, U$3 = (t5, e2) => ({ o: 0, m: t5, u: e2, $: null, p: null, h: null, v: null }), W$d = {}, L$7 = (t5) => {
  const e2 = ((t6) => t6.replace(/[.*+?^${}()|[\]\\]/g, "\\$&"))(t5);
  return RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${e2}))(${e2}\\b)`, "g");
};
L$7("::slotted"), L$7(":host"), L$7(":host-context");
var T$a, q$2 = (t5, e2) => null == t5 || S$7(t5) ? t5 : 4 & e2 ? "false" !== t5 && ("" === t5 || !!t5) : 2 & e2 ? "string" == typeof t5 ? parseFloat(t5) : "number" == typeof t5 ? t5 : NaN : 1 & e2 ? t5 + "" : t5, G$1 = (t5, e2, n2) => {
  const o2 = a$1.ce(e2, n2);
  return t5.dispatchEvent(o2), o2;
}, I$5 = (t5, e2, n2, l2, i2, r2) => {
  if (n2 === l2) return;
  let s2 = o$1(t5, e2), f2 = e2.toLowerCase();
  if ("class" === e2) {
    const e3 = t5.classList, o2 = _$9(n2);
    let i3 = _$9(l2);
    e3.remove(...o2.filter(((t6) => t6 && !i3.includes(t6)))), e3.add(...i3.filter(((t6) => t6 && !o2.includes(t6))));
  } else if ("style" === e2) {
    for (const e3 in n2) l2 && null != l2[e3] || (e3.includes("-") ? t5.style.removeProperty(e3) : t5.style[e3] = "");
    for (const e3 in l2) n2 && l2[e3] === n2[e3] || (e3.includes("-") ? t5.style.setProperty(e3, l2[e3]) : t5.style[e3] = l2[e3]);
  } else if ("key" === e2) ;
  else if ("ref" === e2) l2 && l2(t5);
  else if (s2 || "o" !== e2[0] || "n" !== e2[1]) {
    const o2 = S$7(l2);
    if ((s2 || o2 && null !== l2) && !i2) try {
      if (t5.tagName.includes("-")) t5[e2] !== l2 && (t5[e2] = l2);
      else {
        const o3 = null == l2 ? "" : l2;
        "list" === e2 ? s2 = false : null != n2 && t5[e2] == o3 || ("function" == typeof t5.__lookupSetter__(e2) ? t5[e2] = o3 : t5.setAttribute(e2, o3));
      }
    } catch (t6) {
    }
    let u2 = false;
    f2 !== (f2 = f2.replace(/^xlink\:?/, "")) && (e2 = f2, u2 = true), null == l2 || false === l2 ? false === l2 && "" !== t5.getAttribute(e2) || (u2 ? t5.removeAttributeNS(c, e2) : t5.removeAttribute(e2)) : (!s2 || 4 & r2 || i2) && !o2 && 1 === t5.nodeType && (l2 = true === l2 ? "" : l2, u2 ? t5.setAttributeNS(c, e2, l2) : t5.setAttribute(e2, l2));
  } else if (e2 = "-" === e2[2] ? e2.slice(3) : o$1(u$9, f2) ? f2.slice(2) : f2[2] + e2.slice(3), n2 || l2) {
    const o2 = e2.endsWith(B$6);
    e2 = e2.replace(J$1, ""), n2 && a$1.rel(t5, e2, n2, o2), l2 && a$1.ael(t5, e2, l2, o2);
  }
}, Y$2 = /\s/, _$9 = (t5) => ("object" == typeof t5 && t5 && "baseVal" in t5 && (t5 = t5.baseVal), t5 && "string" == typeof t5 ? t5.split(Y$2) : []), B$6 = "Capture", J$1 = RegExp(B$6 + "$"), K$2 = (t5, e2, n2) => {
  const o2 = 11 === e2.$.nodeType && e2.$.host ? e2.$.host : e2.$, l2 = t5 && t5.h || {}, i2 = e2.h || {};
  for (const t6 of Q$1(Object.keys(l2))) t6 in i2 || I$5(o2, t6, l2[t6], void 0, n2, e2.o);
  for (const t6 of Q$1(Object.keys(i2))) I$5(o2, t6, l2[t6], i2[t6], n2, e2.o);
};
function Q$1(t5) {
  return t5.includes("ref") ? [...t5.filter(((t6) => "ref" !== t6)), "ref"] : t5;
}
var X$2 = false, Z$1 = (t5, e2, n2) => {
  const o2 = e2.p[n2];
  let l2, i2, r2 = 0;
  if (null !== o2.u) l2 = o2.$ = u$9.document.createTextNode(o2.u);
  else {
    if (X$2 || (X$2 = "svg" === o2.m), !u$9.document) throw Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");
    if (l2 = o2.$ = u$9.document.createElementNS(X$2 ? "http://www.w3.org/2000/svg" : "http://www.w3.org/1999/xhtml", o2.m), X$2 && "foreignObject" === o2.m && (X$2 = false), K$2(null, o2, X$2), o2.p) for (r2 = 0; r2 < o2.p.length; ++r2) i2 = Z$1(t5, o2, r2), i2 && l2.appendChild(i2);
    "svg" === o2.m ? X$2 = false : "foreignObject" === l2.tagName && (X$2 = true);
  }
  return l2["s-hn"] = T$a, l2;
}, tt = (t5, e2, n2, o2, l2, i2) => {
  let r2, s2 = t5;
  for (s2.shadowRoot && s2.tagName === T$a && (s2 = s2.shadowRoot); l2 <= i2; ++l2) o2[l2] && (r2 = Z$1(null, n2, l2), r2 && (o2[l2].$ = r2, it(s2, r2, e2)));
}, et = (t5, e2, n2) => {
  for (let o2 = e2; o2 <= n2; ++o2) {
    const e3 = t5[o2];
    if (e3) {
      const t6 = e3.$;
      lt(e3), t6 && t6.remove();
    }
  }
}, nt = (t5, e2, n2 = false) => t5.m === e2.m && (n2 ? (n2 && !t5.v && e2.v && (t5.v = e2.v), true) : t5.v === e2.v), ot = (t5, e2, n2 = false) => {
  const o2 = e2.$ = t5.$, l2 = t5.p, i2 = e2.p, r2 = e2.m, s2 = e2.u;
  null === s2 ? (K$2(t5, e2, X$2 = "svg" === r2 || "foreignObject" !== r2 && X$2), null !== l2 && null !== i2 ? ((t6, e3, n3, o3, l3 = false) => {
    let i3, r3, s3 = 0, c2 = 0, u2 = 0, a2 = 0, f2 = e3.length - 1, d2 = e3[0], h2 = e3[f2], p2 = o3.length - 1, v2 = o3[0], m2 = o3[p2];
    for (; s3 <= f2 && c2 <= p2; ) if (null == d2) d2 = e3[++s3];
    else if (null == h2) h2 = e3[--f2];
    else if (null == v2) v2 = o3[++c2];
    else if (null == m2) m2 = o3[--p2];
    else if (nt(d2, v2, l3)) ot(d2, v2, l3), d2 = e3[++s3], v2 = o3[++c2];
    else if (nt(h2, m2, l3)) ot(h2, m2, l3), h2 = e3[--f2], m2 = o3[--p2];
    else if (nt(d2, m2, l3)) ot(d2, m2, l3), it(t6, d2.$, h2.$.nextSibling), d2 = e3[++s3], m2 = o3[--p2];
    else if (nt(h2, v2, l3)) ot(h2, v2, l3), it(t6, h2.$, d2.$), h2 = e3[--f2], v2 = o3[++c2];
    else {
      for (u2 = -1, a2 = s3; a2 <= f2; ++a2) if (e3[a2] && null !== e3[a2].v && e3[a2].v === v2.v) {
        u2 = a2;
        break;
      }
      u2 >= 0 ? (r3 = e3[u2], r3.m !== v2.m ? i3 = Z$1(e3 && e3[c2], n3, u2) : (ot(r3, v2, l3), e3[u2] = void 0, i3 = r3.$), v2 = o3[++c2]) : (i3 = Z$1(e3 && e3[c2], n3, c2), v2 = o3[++c2]), i3 && it(d2.$.parentNode, i3, d2.$);
    }
    s3 > f2 ? tt(t6, null == o3[p2 + 1] ? null : o3[p2 + 1].$, n3, o3, c2, p2) : c2 > p2 && et(e3, s3, f2);
  })(o2, l2, e2, i2, n2) : null !== i2 ? (null !== t5.u && (o2.textContent = ""), tt(o2, null, e2, i2, 0, i2.length - 1)) : !n2 && null !== l2 && et(l2, 0, l2.length - 1), X$2 && "svg" === r2 && (X$2 = false)) : t5.u !== s2 && (o2.data = s2);
}, lt = (t5) => {
  t5.h && t5.h.ref && t5.h.ref(null), t5.p && t5.p.map(lt);
}, it = (t5, e2, n2) => null == t5 ? void 0 : t5.insertBefore(e2, n2), rt = (t5, e2) => {
  if (e2 && !t5.j && e2["s-p"]) {
    const n2 = e2["s-p"].push(new Promise(((o2) => t5.j = () => {
      e2["s-p"].splice(n2 - 1, 1), o2();
    })));
  }
}, st = (t5, e2) => {
  if (t5.o |= 16, 4 & t5.o) return void (t5.o |= 512);
  rt(t5, t5.k);
  const n2 = () => ct(t5, e2);
  if (!e2) return g$9(n2);
  queueMicrotask((() => {
    n2();
  }));
}, ct = (t5, e2) => {
  const n2 = t5.$hostElement$, o2 = t5.t;
  if (!o2) throw Error(`Can't render component <${n2.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);
  let l2;
  return e2 ? (t5.o |= 256, t5.O && (t5.O.map((([t6, e3]) => mt(o2, t6, e3, n2))), t5.O = void 0), l2 = mt(o2, "componentWillLoad", void 0, n2)) : l2 = mt(o2, "componentWillUpdate", void 0, n2), l2 = ut(l2, (() => mt(o2, "componentWillRender", void 0, n2))), ut(l2, (() => ft(t5, o2, e2)));
}, ut = (t5, e2) => at(t5) ? t5.then(e2).catch(((t6) => {
  console.error(t6), e2();
})) : e2(), at = (t5) => t5 instanceof Promise || t5 && t5.then && "function" == typeof t5.then, ft = async (t5, e2, n2) => {
  var o2;
  const l2 = t5.$hostElement$, i2 = l2["s-rc"];
  n2 && ((t6) => {
    const e3 = t6.C, n3 = t6.$hostElement$, o3 = e3.o, l3 = ((t7, e4) => {
      var n4;
      const o4 = R$5(e4), l4 = r$1.get(o4);
      if (!u$9.document) return o4;
      if (t7 = 11 === t7.nodeType ? t7 : u$9.document, l4) if ("string" == typeof l4) {
        let i3, r2 = N$2.get(t7 = t7.head || t7);
        if (r2 || N$2.set(t7, r2 = /* @__PURE__ */ new Set()), !r2.has(o4)) {
          {
            i3 = u$9.document.createElement("style"), i3.innerHTML = l4;
            const o5 = null != (n4 = a$1.M) ? n4 : j$9(u$9.document);
            if (null != o5 && i3.setAttribute("nonce", o5), !(1 & e4.o)) if ("HEAD" === t7.nodeName) {
              const e5 = t7.querySelectorAll("link[rel=preconnect]"), n5 = e5.length > 0 ? e5[e5.length - 1].nextSibling : t7.querySelector("style");
              t7.insertBefore(i3, (null == n5 ? void 0 : n5.parentNode) === t7 ? n5 : null);
            } else if ("host" in t7) if (d$1) {
              const e5 = new CSSStyleSheet();
              e5.replaceSync(l4), h ? t7.adoptedStyleSheets.unshift(e5) : t7.adoptedStyleSheets = [e5, ...t7.adoptedStyleSheets];
            } else {
              const e5 = t7.querySelector("style");
              e5 ? e5.innerHTML = l4 + e5.innerHTML : t7.prepend(i3);
            }
            else t7.append(i3);
            1 & e4.o && t7.insertBefore(i3, null);
          }
          4 & e4.o && (i3.innerHTML += s), r2 && r2.add(o4);
        }
      } else t7.adoptedStyleSheets.includes(l4) || (h ? t7.adoptedStyleSheets.push(l4) : t7.adoptedStyleSheets = [...t7.adoptedStyleSheets, l4]);
      return o4;
    })(n3.shadowRoot ? n3.shadowRoot : n3.getRootNode(), e3);
    10 & o3 && (n3["s-sc"] = l3, n3.classList.add(l3 + "-h"));
  })(t5);
  dt(t5, e2, l2, n2), i2 && (i2.map(((t6) => t6())), l2["s-rc"] = void 0);
  {
    const e3 = null != (o2 = l2["s-p"]) ? o2 : [], n3 = () => ht(t5);
    0 === e3.length ? n3() : (Promise.all(e3).then(n3), t5.o |= 4, e3.length = 0);
  }
}, dt = (t5, e2, n2, o2) => {
  try {
    e2 = e2.render(), t5.o &= -17, t5.o |= 2, ((t6, e3, n3 = false) => {
      const o3 = t6.$hostElement$, l2 = t6.C, i2 = t6.P || U$3(null, null), r2 = ((t7) => t7 && t7.m === W$d)(e3) ? e3 : D$9(null, null, e3);
      if (T$a = o3.tagName, l2.N && (r2.h = r2.h || {}, l2.N.map((([t7, e4]) => r2.h[e4] = o3[t7]))), n3 && r2.h) for (const t7 of Object.keys(r2.h)) o3.hasAttribute(t7) && !["key", "ref", "style", "class"].includes(t7) && (r2.h[t7] = o3[t7]);
      r2.m = null, r2.o |= 4, t6.P = r2, r2.$ = i2.$ = o3.shadowRoot || o3, ot(i2, r2, n3);
    })(t5, e2, o2);
  } catch (e3) {
    l(e3, t5.$hostElement$);
  }
  return null;
}, ht = (t5) => {
  const e2 = t5.$hostElement$, n2 = t5.t, o2 = t5.k;
  mt(n2, "componentDidRender", void 0, e2), 64 & t5.o ? mt(n2, "componentDidUpdate", void 0, e2) : (t5.o |= 64, yt(e2), mt(n2, "componentDidLoad", void 0, e2), t5.R(e2), o2 || vt()), t5.D(e2), t5.j && (t5.j(), t5.j = void 0), 512 & t5.o && $$4((() => st(t5, false))), t5.o &= -517;
}, vt = () => {
  $$4((() => G$1(u$9, "appload", { detail: { namespace: "lf-core" } })));
}, mt = (t5, e2, n2, o2) => {
  if (t5 && t5[e2]) try {
    return t5[e2](n2);
  } catch (t6) {
    l(t6, o2);
  }
}, yt = (t5) => t5.setAttribute("lf-hydrated", ""), wt$1 = (t5, n2, o2, i2) => {
  const r2 = e(t5);
  if (!r2) return;
  if (!r2) throw Error(`Couldn't find host element for "${i2.i}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);
  const s2 = r2.$hostElement$, c2 = r2.U.get(n2), u2 = r2.o, a2 = r2.t;
  if (o2 = q$2(o2, i2.W[n2][0]), (!(8 & u2) || void 0 === c2) && o2 !== c2 && (!Number.isNaN(c2) || !Number.isNaN(o2)) && (r2.U.set(n2, o2), a2)) {
    if (i2.A && 128 & u2) {
      const t6 = i2.A[n2];
      t6 && t6.map(((t7) => {
        try {
          a2[t7](o2, c2, n2);
        } catch (t8) {
          l(t8, s2);
        }
      }));
    }
    if (2 == (18 & u2)) {
      if (a2.componentShouldUpdate && false === a2.componentShouldUpdate(o2, c2, n2)) return;
      st(r2, false);
    }
  }
}, bt = (t5, n2, o2) => {
  var l2, i2;
  const r2 = t5.prototype;
  if (n2.W || n2.A || t5.watchers) {
    t5.watchers && !n2.A && (n2.A = t5.watchers);
    const s2 = Object.entries(null != (l2 = n2.W) ? l2 : {});
    if (s2.map((([t6, [l3]]) => {
      if (31 & l3 || 2 & o2 && 32 & l3) {
        const { get: i3, set: s3 } = Object.getOwnPropertyDescriptor(r2, t6) || {};
        i3 && (n2.W[t6][0] |= 2048), s3 && (n2.W[t6][0] |= 4096), (1 & o2 || !i3) && Object.defineProperty(r2, t6, { get() {
          {
            if (!(2048 & n2.W[t6][0])) return ((t7, n3) => e(this).U.get(n3))(0, t6);
            const o3 = e(this), l4 = o3 ? o3.t : r2;
            if (!l4) return;
            return l4[t6];
          }
        }, configurable: true, enumerable: true }), Object.defineProperty(r2, t6, { set(i4) {
          const r3 = e(this);
          if (r3) {
            if (s3) {
              const e2 = 32 & l3 ? this[t6] : r3.$hostElement$[t6];
              return void 0 === e2 && r3.U.get(t6) ? i4 = r3.U.get(t6) : !r3.U.get(t6) && e2 && r3.U.set(t6, e2), s3.call(this, q$2(i4, l3)), void wt$1(this, t6, i4 = 32 & l3 ? this[t6] : r3.$hostElement$[t6], n2);
            }
            {
              if (!(1 & o2 && 4096 & n2.W[t6][0])) return wt$1(this, t6, i4, n2), void (1 & o2 && !r3.t && r3.F.then((() => {
                4096 & n2.W[t6][0] && r3.t[t6] !== r3.U.get(t6) && (r3.t[t6] = i4);
              })));
              const e2 = () => {
                const e3 = r3.t[t6];
                !r3.U.get(t6) && e3 && r3.U.set(t6, e3), r3.t[t6] = q$2(i4, l3), wt$1(this, t6, r3.t[t6], n2);
              };
              r3.t ? e2() : r3.F.then((() => e2()));
            }
          }
        } });
      } else 1 & o2 && 64 & l3 && Object.defineProperty(r2, t6, { value(...n3) {
        var o3;
        const l4 = e(this);
        return null == (o3 = null == l4 ? void 0 : l4.H) ? void 0 : o3.then((() => {
          var e2;
          return null == (e2 = l4.t) ? void 0 : e2[t6](...n3);
        }));
      } });
    })), 1 & o2) {
      const o3 = /* @__PURE__ */ new Map();
      r2.attributeChangedCallback = function(t6, l3, i3) {
        a$1.jmp((() => {
          var s3;
          const c2 = o3.get(t6);
          if (this.hasOwnProperty(c2)) i3 = this[c2], delete this[c2];
          else {
            if (r2.hasOwnProperty(c2) && "number" == typeof this[c2] && this[c2] == i3) return;
            if (null == c2) {
              const o4 = e(this), r3 = null == o4 ? void 0 : o4.o;
              if (o4 && r3 && !(8 & r3) && 128 & r3 && i3 !== l3) {
                const e2 = o4.t, r4 = null == (s3 = n2.A) ? void 0 : s3[t6];
                null == r4 || r4.forEach(((n3) => {
                  null != e2[n3] && e2[n3].call(e2, i3, l3, t6);
                }));
              }
              return;
            }
          }
          const u2 = Object.getOwnPropertyDescriptor(r2, c2);
          (i3 = (null !== i3 || "boolean" != typeof this[c2]) && i3) === this[c2] || u2.get && !u2.set || (this[c2] = i3);
        }));
      }, t5.observedAttributes = Array.from(/* @__PURE__ */ new Set([...Object.keys(null != (i2 = n2.A) ? i2 : {}), ...s2.filter((([t6, e2]) => 31 & e2[0])).map((([t6, e2]) => {
        var l3;
        const i3 = e2[1] || t6;
        return o3.set(i3, t6), 512 & e2[0] && (null == (l3 = n2.N) || l3.push([t6, i3])), i3;
      }))]));
    }
  }
  return t5;
}, $t$1 = (t5, e2) => {
  mt(t5, "connectedCallback", void 0, e2);
}, gt = (t5, e2) => {
  mt(t5, "disconnectedCallback", void 0, e2 || t5);
}, St$1 = (t5, n2 = {}) => {
  var o2;
  if (!u$9.document) return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");
  const c2 = [], f2 = n2.exclude || [], h2 = u$9.customElements, p2 = u$9.document.head, v2 = p2.querySelector("meta[charset]"), m2 = u$9.document.createElement("style"), y2 = [];
  let w3, b2 = true;
  Object.assign(a$1, n2), a$1.l = new URL(n2.resourcesUrl || "./", u$9.document.baseURI).href;
  let $3 = false;
  if (t5.map(((t6) => {
    t6[1].map(((n3) => {
      var o3;
      const s2 = { o: n3[0], i: n3[1], W: n3[2], L: n3[3] };
      4 & s2.o && ($3 = true), s2.W = n3[2], s2.L = n3[3], s2.N = [], s2.A = null != (o3 = n3[4]) ? o3 : {};
      const u2 = s2.i, p3 = class extends HTMLElement {
        constructor(t7) {
          if (super(t7), this.hasRegisteredEventListeners = false, ((t8, e2) => {
            const n4 = { o: 0, $hostElement$: t8, C: e2, U: /* @__PURE__ */ new Map() };
            n4.H = new Promise(((t9) => n4.D = t9)), n4.F = new Promise(((t9) => n4.R = t9)), t8["s-p"] = [], t8["s-rc"] = [];
            const o4 = n4;
            t8.__stencil__getHostRef = () => o4;
          })(t7 = this, s2), 1 & s2.o) if (t7.shadowRoot) {
            if ("open" !== t7.shadowRoot.mode) throw Error(`Unable to re-use existing shadow root for ${s2.i}! Mode is set to ${t7.shadowRoot.mode} but Stencil only supports open shadow roots.`);
          } else P$6.call(t7, s2);
        }
        connectedCallback() {
          const t7 = e(this);
          t7 && (this.hasRegisteredEventListeners || (this.hasRegisteredEventListeners = true, kt$1(this, t7, s2.L)), w3 && (clearTimeout(w3), w3 = null), b2 ? y2.push(this) : a$1.jmp((() => ((t8) => {
            if (!(1 & a$1.o)) {
              const n4 = e(t8);
              if (!n4) return;
              const o4 = n4.C;
              if (1 & n4.o) kt$1(t8, n4, o4.L), (null == n4 ? void 0 : n4.t) ? $t$1(n4.t, t8) : (null == n4 ? void 0 : n4.F) && n4.F.then((() => $t$1(n4.t, t8)));
              else {
                n4.o |= 1;
                {
                  let e2 = t8;
                  for (; e2 = e2.parentNode || e2.host; ) if (e2["s-p"]) {
                    rt(n4, n4.k = e2);
                    break;
                  }
                }
                o4.W && Object.entries(o4.W).map((([e2, [n5]]) => {
                  if (31 & n5 && t8.hasOwnProperty(e2)) {
                    const n6 = t8[e2];
                    delete t8[e2], t8[e2] = n6;
                  }
                })), (async (t9, e2, n5) => {
                  let o5;
                  if (!(32 & e2.o)) {
                    if (e2.o |= 32, n5.T) {
                      const r2 = ((t10, e3) => {
                        const n6 = t10.i.replace(/-/g, "_"), o6 = t10.T;
                        if (!o6) return;
                        const r3 = i.get(o6);
                        return r3 ? r3[n6] : __vitePreload(() => import(`./${o6}.entry.js`), true ? [] : void 0, import.meta.url).then(((t11) => (i.set(o6, t11), t11[n6])), ((t11) => {
                          l(t11, e3.$hostElement$);
                        }));
                        /*!__STENCIL_STATIC_IMPORT_SWITCH__*/
                      })(n5, e2);
                      if (r2 && "then" in r2) {
                        o5 = await r2;
                      } else o5 = r2;
                      if (!o5) throw Error(`Constructor for "${n5.i}#${e2.q}" was not found`);
                      o5.isProxied || (n5.A = o5.watchers, bt(o5, n5, 2), o5.isProxied = true);
                      e2.o |= 8;
                      try {
                        new o5(e2);
                      } catch (e3) {
                        l(e3, t9);
                      }
                      e2.o &= -9, e2.o |= 128, $t$1(e2.t, t9);
                    } else o5 = t9.constructor, customElements.whenDefined(t9.localName).then((() => e2.o |= 128));
                    if (o5 && o5.style) {
                      let t10;
                      "string" == typeof o5.style && (t10 = o5.style);
                      const e3 = R$5(n5);
                      if (!r$1.has(e3)) {
                        ((t11, e4, n6) => {
                          let o6 = r$1.get(t11);
                          d$1 && n6 ? (o6 = o6 || new CSSStyleSheet(), "string" == typeof o6 ? o6 = e4 : o6.replaceSync(e4)) : o6 = e4, r$1.set(t11, o6);
                        })(e3, t10, !!(1 & n5.o));
                      }
                    }
                  }
                  const s3 = e2.k, c3 = () => st(e2, true);
                  s3 && s3["s-rc"] ? s3["s-rc"].push(c3) : c3();
                })(t8, n4, o4);
              }
            }
          })(this))));
        }
        disconnectedCallback() {
          a$1.jmp((() => (async (t7) => {
            if (!(1 & a$1.o)) {
              const n4 = e(t7);
              (null == n4 ? void 0 : n4.V) && (n4.V.map(((t8) => t8())), n4.V = void 0), (null == n4 ? void 0 : n4.t) ? gt(n4.t, t7) : (null == n4 ? void 0 : n4.F) && n4.F.then((() => gt(n4.t, t7)));
            }
            N$2.has(t7) && N$2.delete(t7), t7.shadowRoot && N$2.has(t7.shadowRoot) && N$2.delete(t7.shadowRoot);
          })(this))), a$1.raf((() => {
            var t7;
            const n4 = e(this);
            if (!n4) return;
            const o4 = y2.findIndex(((t8) => t8 === this));
            o4 > -1 && y2.splice(o4, 1), (null == (t7 = null == n4 ? void 0 : n4.P) ? void 0 : t7.$) instanceof Node && !n4.P.$.isConnected && delete n4.P.$;
          }));
        }
        componentOnReady() {
          var t7;
          return null == (t7 = e(this)) ? void 0 : t7.F;
        }
      };
      s2.T = t6[0], f2.includes(u2) || h2.get(u2) || (c2.push(u2), h2.define(u2, bt(p3, s2, 1)));
    }));
  })), c2.length > 0 && ($3 && (m2.textContent += s), m2.textContent += c2.sort() + "{visibility:hidden}[lf-hydrated]{visibility:inherit}", m2.innerHTML.length)) {
    m2.setAttribute("data-styles", "");
    const t6 = null != (o2 = a$1.M) ? o2 : j$9(u$9.document);
    null != t6 && m2.setAttribute("nonce", t6), p2.insertBefore(m2, v2 ? v2.nextSibling : p2.firstChild);
  }
  b2 = false, y2.length ? y2.map(((t6) => t6.connectedCallback())) : a$1.jmp((() => w3 = setTimeout(vt, 30)));
}, kt$1 = (t5, e2, n2) => {
  n2 && u$9.document && n2.map((([n3, o2, l2]) => {
    const i2 = t5, r2 = Ot$1(e2, l2), s2 = Et$1(n3);
    a$1.ael(i2, o2, r2, s2), (e2.V = e2.V || []).push((() => a$1.rel(i2, o2, r2, s2)));
  }));
}, Ot$1 = (t5, e2) => (n2) => {
  var o2;
  try {
    256 & t5.o ? null == (o2 = t5.t) || o2[e2](n2) : (t5.O = t5.O || []).push([e2, n2]);
  } catch (e3) {
    l(e3, t5.$hostElement$);
  }
}, Et$1 = (t5) => ({ passive: !!(1 & t5), capture: !!(2 & t5) });
const o = () => {
};
(() => {
  const l2 = import.meta.url, f2 = {};
  return "" !== l2 && (f2.resourcesUrl = new URL(".", l2).href), f$1(f2);
})().then((async (e2) => (await o(), St$1(JSON.parse('[["p-988ad9c7",[[257,"lf-imageviewer",{"lfDataset":[1040,"lf-dataset"],"lfLoadCallback":[1040,"lf-load-callback"],"lfNavigation":[1040,"lf-navigation"],"lfStyle":[1025,"lf-style"],"lfValue":[1040,"lf-value"],"debugInfo":[32],"currentShape":[32],"history":[32],"historyIndex":[32],"isNavigationTreeOpen":[32],"isSpinnerActive":[32],"addSnapshot":[64],"clearHistory":[64],"clearSelection":[64],"getComponents":[64],"getCurrentSnapshot":[64],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"reset":[64],"setSpinnerStatus":[64],"unmount":[64]}]]],["p-182c6c19",[[257,"lf-compare",{"lfDataset":[1040,"lf-dataset"],"lfShape":[1025,"lf-shape"],"lfStyle":[1025,"lf-style"],"lfView":[1025,"lf-view"],"debugInfo":[32],"isLeftPanelOpened":[32],"isRightPanelOpened":[32],"leftShape":[32],"rightShape":[32],"shapes":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]},null,{"lfDataset":["updateShapes"],"lfShape":["updateShapes"]}]]],["p-e4e76694",[[257,"lf-accordion",{"lfDataset":[1040,"lf-dataset"],"lfRipple":[1028,"lf-ripple"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfStyle":[1025,"lf-style"],"debugInfo":[32],"expandedNodes":[32],"selectedNodes":[32],"getDebugInfo":[64],"getProps":[64],"getSelectedNodes":[64],"refresh":[64],"toggleNode":[64],"unmount":[64]}]]],["p-62695161",[[257,"lf-article",{"lfDataset":[1040,"lf-dataset"],"lfEmpty":[1025,"lf-empty"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"debugInfo":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}]]],["p-5d51f267",[[257,"lf-carousel",{"lfDataset":[1040,"lf-dataset"],"lfAutoPlay":[4,"lf-auto-play"],"lfInterval":[2,"lf-interval"],"lfLightbox":[1540,"lf-lightbox"],"lfNavigation":[1028,"lf-navigation"],"lfShape":[1537,"lf-shape"],"lfStyle":[1025,"lf-style"],"debugInfo":[32],"currentIndex":[32],"shapes":[32],"getDebugInfo":[64],"getProps":[64],"goToSlide":[64],"nextSlide":[64],"prevSlide":[64],"refresh":[64],"unmount":[64]},null,{"lfDataset":["updateShapes"],"lfShape":["updateShapes"]}]]],["p-28dd0bff",[[257,"lf-messenger",{"lfAutosave":[1028,"lf-autosave"],"lfDataset":[1040,"lf-dataset"],"lfStyle":[1025,"lf-style"],"lfValue":[16,"lf-value"],"debugInfo":[32],"chat":[32],"connectionStatus":[32],"covers":[32],"currentCharacter":[32],"formStatusMap":[32],"history":[32],"hoveredCustomizationOption":[32],"saveInProgress":[32],"ui":[32],"deleteOption":[64],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"reset":[64],"save":[64],"unmount":[64]}]]],["p-f19de954",[[257,"lf-drawer",{"lfDisplay":[1537,"lf-display"],"lfPosition":[1537,"lf-position"],"lfResponsive":[1026,"lf-responsive"],"lfStyle":[1025,"lf-style"],"lfValue":[1540,"lf-value"],"debugInfo":[32],"close":[64],"getDebugInfo":[64],"getProps":[64],"isOpened":[64],"open":[64],"refresh":[64],"toggle":[64],"unmount":[64]},[[0,"keydown","listenKeydown"]],{"lfDisplay":["onLfDisplayChange"],"lfResponsive":["onLfResponsiveChange"]}]]],["p-a6642965",[[257,"lf-header",{"lfStyle":[1025,"lf-style"],"debugInfo":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}]]],["p-e6148250",[[257,"lf-placeholder",{"lfIcon":[1,"lf-icon"],"lfProps":[16,"lf-props"],"lfStyle":[1025,"lf-style"],"lfThreshold":[2,"lf-threshold"],"lfTrigger":[1,"lf-trigger"],"lfValue":[1,"lf-value"],"debugInfo":[32],"isInViewport":[32],"getComponent":[64],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}]]],["p-36aa4a7f",[[257,"lf-slider",{"lfLabel":[1025,"lf-label"],"lfLeadingLabel":[1028,"lf-leading-label"],"lfMax":[2,"lf-max"],"lfMin":[2,"lf-min"],"lfStep":[2,"lf-step"],"lfRipple":[1028,"lf-ripple"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[1026,"lf-value"],"debugInfo":[32],"value":[32],"getDebugInfo":[64],"getProps":[64],"getValue":[64],"refresh":[64],"setValue":[64],"unmount":[64]}]]],["p-0df37de3",[[257,"lf-splash",{"lfLabel":[1025,"lf-label"],"lfStyle":[1025,"lf-style"],"debugInfo":[32],"state":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}]]],["p-bb1b42f7",[[257,"lf-toast",{"lfCloseIcon":[1025,"lf-close-icon"],"lfCloseCallback":[16,"lf-close-callback"],"lfIcon":[1025,"lf-icon"],"lfTimer":[2,"lf-timer"],"lfMessage":[1025,"lf-message"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"debugInfo":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}]]],["p-48b2a65e",[[257,"lf-card",{"lfDataset":[1040,"lf-dataset"],"lfLayout":[1025,"lf-layout"],"lfSizeX":[1025,"lf-size-x"],"lfSizeY":[1025,"lf-size-y"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"debugInfo":[32],"shapes":[32],"getDebugInfo":[64],"getProps":[64],"getShapes":[64],"refresh":[64],"unmount":[64]},null,{"lfDataset":["updateShapes"]}],[257,"lf-badge",{"lfImageProps":[1040,"lf-image-props"],"lfLabel":[1025,"lf-label"],"lfPosition":[1537,"lf-position"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"debugInfo":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}],[257,"lf-canvas",{"lfBrush":[1025,"lf-brush"],"lfColor":[1025,"lf-color"],"lfCursor":[1025,"lf-cursor"],"lfImageProps":[1040,"lf-image-props"],"lfOpacity":[1026,"lf-opacity"],"lfPreview":[1028,"lf-preview"],"lfStrokeTolerance":[1026,"lf-stroke-tolerance"],"lfSize":[1026,"lf-size"],"lfStyle":[1025,"lf-style"],"boxing":[32],"debugInfo":[32],"isPainting":[32],"orientation":[32],"points":[32],"clearCanvas":[64],"getCanvas":[64],"getDebugInfo":[64],"getImage":[64],"getProps":[64],"refresh":[64],"resizeCanvas":[64],"setCanvasHeight":[64],"setCanvasWidth":[64],"unmount":[64]}],[257,"lf-photoframe",{"lfOverlay":[1040,"lf-overlay"],"lfPlaceholder":[16,"lf-placeholder"],"lfStyle":[1025,"lf-style"],"lfThreshold":[2,"lf-threshold"],"lfValue":[16,"lf-value"],"debugInfo":[32],"imageOrientation":[32],"isInViewport":[32],"isReady":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}],[257,"lf-chart",{"lfAxis":[1025,"lf-axis"],"lfColors":[1040,"lf-colors"],"lfDataset":[1040,"lf-dataset"],"lfLegend":[1025,"lf-legend"],"lfSeries":[1040,"lf-series"],"lfSizeX":[1025,"lf-size-x"],"lfSizeY":[1025,"lf-size-y"],"lfStyle":[1025,"lf-style"],"lfTypes":[1040,"lf-types"],"lfXAxis":[1040,"lf-x-axis"],"lfYAxis":[1040,"lf-y-axis"],"debugInfo":[32],"themeValues":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"resize":[64],"unmount":[64]}],[257,"lf-toggle",{"lfAriaLabel":[1025,"lf-aria-label"],"lfLabel":[1025,"lf-label"],"lfLeadingLabel":[1028,"lf-leading-label"],"lfRipple":[1028,"lf-ripple"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[4,"lf-value"],"debugInfo":[32],"value":[32],"getDebugInfo":[64],"getProps":[64],"getValue":[64],"refresh":[64],"setValue":[64],"unmount":[64]}],[257,"lf-upload",{"lfHtmlAttributes":[1040,"lf-html-attributes"],"lfLabel":[1025,"lf-label"],"lfRipple":[1028,"lf-ripple"],"lfStyle":[1025,"lf-style"],"lfValue":[16,"lf-value"],"debugInfo":[32],"selectedFiles":[32],"getDebugInfo":[64],"getProps":[64],"getValue":[64],"refresh":[64],"unmount":[64]}],[257,"lf-chat",{"lfContextWindow":[1026,"lf-context-window"],"lfEmpty":[1025,"lf-empty"],"lfEndpointUrl":[1025,"lf-endpoint-url"],"lfLayout":[1025,"lf-layout"],"lfMaxTokens":[1026,"lf-max-tokens"],"lfPollingInterval":[1026,"lf-polling-interval"],"lfSeed":[1026,"lf-seed"],"lfStyle":[1025,"lf-style"],"lfSystem":[1025,"lf-system"],"lfTemperature":[1026,"lf-temperature"],"lfTypewriterProps":[1028,"lf-typewriter-props"],"lfUiSize":[1537,"lf-ui-size"],"lfValue":[1040,"lf-value"],"currentAbortStreaming":[32],"currentPrompt":[32],"currentTokens":[32],"debugInfo":[32],"history":[32],"status":[32],"view":[32],"abortStreaming":[64],"getDebugInfo":[64],"getHistory":[64],"getLastMessage":[64],"getProps":[64],"refresh":[64],"scrollToBottom":[64],"setHistory":[64],"unmount":[64]},[[0,"keydown","listenKeydown"]],{"lfPollingInterval":["updatePollingInterval"],"lfSystem":["updateTokensCount"]}],[257,"lf-chip",{"lfAriaLabel":[1025,"lf-aria-label"],"lfDataset":[1040,"lf-dataset"],"lfRipple":[1028,"lf-ripple"],"lfStyle":[1025,"lf-style"],"lfStyling":[1025,"lf-styling"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[16,"lf-value"],"debugInfo":[32],"expandedNodes":[32],"hiddenNodes":[32],"selectedNodes":[32],"getDebugInfo":[64],"getProps":[64],"getSelectedNodes":[64],"refresh":[64],"setSelectedNodes":[64],"unmount":[64]}],[257,"lf-code",{"lfFadeIn":[1028,"lf-fade-in"],"lfFormat":[1028,"lf-format"],"lfLanguage":[1025,"lf-language"],"lfPreserveSpaces":[1028,"lf-preserve-spaces"],"lfShowCopy":[1028,"lf-show-copy"],"lfShowHeader":[1028,"lf-show-header"],"lfStickyHeader":[1028,"lf-sticky-header"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[1025,"lf-value"],"debugInfo":[32],"value":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]},null,{"lfLanguage":["loadLanguage"]}],[257,"lf-progressbar",{"lfAnimated":[1540,"lf-animated"],"lfCenteredLabel":[1540,"lf-centered-label"],"lfIcon":[1537,"lf-icon"],"lfIsRadial":[1540,"lf-is-radial"],"lfLabel":[1025,"lf-label"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[1026,"lf-value"],"debugInfo":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]}],[257,"lf-textfield",{"lfFormatJSON":[1040,"lf-format-j-s-o-n"],"lfHelper":[1040,"lf-helper"],"lfHtmlAttributes":[1040,"lf-html-attributes"],"lfIcon":[1025,"lf-icon"],"lfLabel":[1025,"lf-label"],"lfStretchX":[1540,"lf-stretch-x"],"lfStretchY":[1540,"lf-stretch-y"],"lfStyle":[1025,"lf-style"],"lfStyling":[1025,"lf-styling"],"lfTrailingIcon":[1540,"lf-trailing-icon"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[1,"lf-value"],"debugInfo":[32],"status":[32],"value":[32],"formatJSON":[64],"getDebugInfo":[64],"getElement":[64],"getProps":[64],"getValue":[64],"refresh":[64],"setBlur":[64],"setFocus":[64],"setValue":[64],"unmount":[64]}],[257,"lf-typewriter",{"lfCursor":[1025,"lf-cursor"],"lfDeleteSpeed":[1026,"lf-delete-speed"],"lfLoop":[1028,"lf-loop"],"lfPause":[1026,"lf-pause"],"lfSpeed":[1026,"lf-speed"],"lfStyle":[1025,"lf-style"],"lfTag":[1025,"lf-tag"],"lfUiSize":[1537,"lf-ui-size"],"lfUpdatable":[1028,"lf-updatable"],"lfValue":[1025,"lf-value"],"debugInfo":[32],"displayedText":[32],"isDeleting":[32],"currentTextIndex":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]},null,{"lfValue":["handleLfValueChange"]}],[257,"lf-image",{"lfHtmlAttributes":[1040,"lf-html-attributes"],"lfMode":[1537,"lf-mode"],"lfShowSpinner":[1028,"lf-show-spinner"],"lfSizeX":[1025,"lf-size-x"],"lfSizeY":[1025,"lf-size-y"],"lfStyle":[1025,"lf-style"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[1025,"lf-value"],"debugInfo":[32],"error":[32],"isLoaded":[32],"resolvedSpriteName":[32],"getDebugInfo":[64],"getImage":[64],"getProps":[64],"refresh":[64],"unmount":[64]},null,{"lfValue":["resetState"]}],[257,"lf-button",{"lfAriaLabel":[1025,"lf-aria-label"],"lfDataset":[1040,"lf-dataset"],"lfIcon":[1025,"lf-icon"],"lfIconOff":[1025,"lf-icon-off"],"lfLabel":[1025,"lf-label"],"lfRipple":[1028,"lf-ripple"],"lfShowSpinner":[1540,"lf-show-spinner"],"lfStretchX":[1540,"lf-stretch-x"],"lfStretchY":[1540,"lf-stretch-y"],"lfStyle":[1025,"lf-style"],"lfStyling":[1025,"lf-styling"],"lfToggable":[1028,"lf-toggable"],"lfTrailingIcon":[1028,"lf-trailing-icon"],"lfType":[1025,"lf-type"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[4,"lf-value"],"debugInfo":[32],"value":[32],"getDebugInfo":[64],"getProps":[64],"getValue":[64],"refresh":[64],"setMessage":[64],"setValue":[64],"unmount":[64]}],[257,"lf-list",{"lfDataset":[1040,"lf-dataset"],"lfEmpty":[1025,"lf-empty"],"lfEnableDeletions":[1028,"lf-enable-deletions"],"lfNavigation":[1028,"lf-navigation"],"lfRipple":[1028,"lf-ripple"],"lfSelectable":[1028,"lf-selectable"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[2,"lf-value"],"debugInfo":[32],"focused":[32],"selected":[32],"focusNext":[64],"focusPrevious":[64],"getDebugInfo":[64],"getProps":[64],"getSelected":[64],"refresh":[64],"selectNode":[64],"unmount":[64]},[[0,"keydown","listenKeydown"]]],[257,"lf-spinner",{"lfActive":[1540,"lf-active"],"lfBarVariant":[1540,"lf-bar-variant"],"lfDimensions":[1025,"lf-dimensions"],"lfFader":[1540,"lf-fader"],"lfFaderTimeout":[1026,"lf-fader-timeout"],"lfFullScreen":[1540,"lf-full-screen"],"lfLayout":[1026,"lf-layout"],"lfStyle":[1025,"lf-style"],"lfTimeout":[1026,"lf-timeout"],"bigWait":[32],"debugInfo":[32],"progress":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"unmount":[64]},null,{"lfActive":["onFaderChange"],"lfFader":["onFaderChange"],"lfFaderTimeout":["onFaderChange"],"lfBarVariant":["lfBarVariantChanged"],"lfTimeout":["lfTimeoutChanged"]}]]],["p-fc80bc8a",[[257,"lf-masonry",{"lfActions":[1028,"lf-actions"],"lfCollapseColumns":[1028,"lf-collapse-columns"],"lfColumns":[1026,"lf-columns"],"lfDataset":[1040,"lf-dataset"],"lfSelectable":[1540,"lf-selectable"],"lfShape":[1025,"lf-shape"],"lfStyle":[1025,"lf-style"],"lfView":[1025,"lf-view"],"debugInfo":[32],"selectedShape":[32],"shapes":[32],"viewportWidth":[32],"getDebugInfo":[64],"getProps":[64],"getSelectedShape":[64],"redecorateShapes":[64],"refresh":[64],"setSelectedShape":[64],"unmount":[64]},null,{"lfColumns":["validateColumns"],"lfDataset":["updateShapes"],"lfShape":["updateShapes"]}]]],["p-e2900881",[[257,"lf-tabbar",{"lfAriaLabel":[1025,"lf-aria-label"],"lfDataset":[16,"lf-dataset"],"lfNavigation":[4,"lf-navigation"],"lfRipple":[1028,"lf-ripple"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"lfUiState":[1025,"lf-ui-state"],"lfValue":[8,"lf-value"],"debugInfo":[32],"value":[32],"getDebugInfo":[64],"getProps":[64],"getValue":[64],"refresh":[64],"setValue":[64],"unmount":[64]}]]],["p-b1bf3d70",[[257,"lf-tree",{"lfAccordionLayout":[1540,"lf-accordion-layout"],"lfDataset":[1040,"lf-dataset"],"lfEmpty":[1025,"lf-empty"],"lfExpandedNodeIds":[1040,"lf-expanded-node-ids"],"lfFilter":[1028,"lf-filter"],"lfGrid":[1540,"lf-grid"],"lfInitialExpansionDepth":[1026,"lf-initial-expansion-depth"],"lfSelectedNodeIds":[1040,"lf-selected-node-ids"],"lfRipple":[1028,"lf-ripple"],"lfSelectable":[1540,"lf-selectable"],"lfStyle":[1025,"lf-style"],"lfUiSize":[1537,"lf-ui-size"],"debugInfo":[32],"expandedNodes":[32],"hiddenNodes":[32],"selectedNode":[32],"getDebugInfo":[64],"getProps":[64],"refresh":[64],"getExpandedNodeIds":[64],"getSelectedNodeIds":[64],"setExpandedNodes":[64],"setSelectedNodes":[64],"selectByPredicate":[64],"unmount":[64]},null,{"lfDataset":["handleDatasetChange"],"lfExpandedNodeIds":["handleExpandedPropChange"],"lfSelectedNodeIds":["handleSelectedPropChange"],"lfInitialExpansionDepth":["handleInitialDepthChange"],"lfSelectable":["handleSelectableChange"],"lfFilter":["handleFilterToggle"]}]]]]'), e2))));
registerStencilAssetProxies("lf-core");
const a = async (o2) => {
  const a2 = await onFrameworkReady;
  return o2.debugInfo = a2.debug.info.create(), a2.theme.register(o2), a2;
};
var d, p$6, v$8, m$8, b$8, u$8 = function(e2, t5, s2, a2) {
  if ("function" == typeof t5 ? e2 !== t5 || true : !t5.has(e2)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return t5.get(e2);
};
const g$8 = class g {
  constructor(s2) {
    n(this, s2), this.lfEvent = V$4(this, "lf-splash-event"), this.state = "initializing", this.lfLabel = "Loading...", this.lfStyle = "", d.set(this, void 0), p$6.set(this, LF_SPLASH_BLOCKS), v$8.set(this, LF_SPLASH_PARTS), m$8.set(this, LF_STYLE_ID), b$8.set(this, LF_WRAPPER_ID);
  }
  onLfEvent(e2, t5) {
    this.lfEvent.emit({ comp: this, eventType: t5, id: this.rootElement.id, originalEvent: e2 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const e2 = LF_SPLASH_PROPS.map(((e3) => [e3, this[e3]]));
    return Object.fromEntries(e2);
  }
  async refresh() {
    pt(this);
  }
  async unmount(e2 = 575) {
    setTimeout((() => {
      this.state = "unmounting", setTimeout((() => {
        this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
      }), 300);
    }), e2);
  }
  connectedCallback() {
    u$8(this, d) && u$8(this, d).theme.register(this);
  }
  async componentWillLoad() {
    !(function(e2, t5, s2, a2, i2) {
      if ("function" == typeof t5 ? e2 !== t5 || true : !t5.has(e2)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
      t5.set(e2, s2);
    })(this, d, await a(this));
  }
  componentDidLoad() {
    const { info: e2 } = u$8(this, d).debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), e2.update(this, "did-load");
  }
  componentWillRender() {
    const { info: e2 } = u$8(this, d).debug;
    e2.update(this, "will-render");
  }
  componentDidRender() {
    const { info: e2 } = u$8(this, d).debug;
    e2.update(this, "did-render");
  }
  render() {
    const { bemClass: e2, setLfStyle: t5 } = u$8(this, d).theme, { lfLabel: s2, lfStyle: l2, state: o2 } = this, r2 = "unmounting" === o2, { splash: f2 } = u$8(this, p$6);
    return D$a(W$e, { key: "b2f8e4fa5ca16c1ec0835688eaf8c8db79e004de" }, l2 && D$a("style", { key: "01e56d34ff2df739886396381e1d9c3ee75c44c7", id: u$8(this, m$8) }, t5(this)), D$a("div", { key: "a63455f43781ab1dd0a7de874516107aeda037e4", id: u$8(this, b$8) }, D$a("div", { key: "28b288678d2c163dab061b917c84ea4b8dd8f1c1", class: e2(f2._, null, { active: r2 }), part: u$8(this, v$8).splash }, D$a("div", { key: "6939e6eff13d37bbfbf3f7c59f496c70699cd9c8", class: e2(f2._, f2.content), part: u$8(this, v$8).content }, D$a("div", { key: "ad9c8d8d3d00c153bf1d6bbee56fae140c5c462e", class: e2(f2._, f2.widget), part: u$8(this, v$8).widget }, D$a("slot", { key: "3b97f4a962a2a10527a568a2b935b79b43be6ca8" })), D$a("div", { key: "1e98521df8a0244361a51d011aba684d3b1fbfe1", class: e2(f2._, f2.label), part: u$8(this, v$8).label }, r2 ? "Ready!" : s2)))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = u$8(this, d)) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
d = /* @__PURE__ */ new WeakMap(), p$6 = /* @__PURE__ */ new WeakMap(), v$8 = /* @__PURE__ */ new WeakMap(), m$8 = /* @__PURE__ */ new WeakMap(), b$8 = /* @__PURE__ */ new WeakMap(), g$8.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}:host{display:block;font-family:var(--lf-splash-font-family, var(--lf-font-family-primary));font-size:var(--lf-splash-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-splash-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-splash-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-splash-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-splash-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-splash-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-splash-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-splash-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{margin:0}.splash{background-color:rgba(var(--lf-splash-color-bg, var(--lf-color-bg)), 1);color:rgb(var(--lf-splash-color-on-bg, var(--lf-color-on-bg)));display:flex;height:var(--lf-splash-height, 100dvh);left:var(--lf-splash-left, 0);opacity:1;position:var(--lf-splash-position, fixed);top:var(--lf-splash-top, 0);width:var(--lf-splash-width, 100dvw);z-index:var(--lf-ui-zindex-splash, 999)}.splash--active{transition:opacity 200ms cubic-bezier(0.4, 0, 0.6, 1);opacity:0}.splash__content{margin:auto}.splash__widget{height:var(--lf-splash-widget-height, 10em);margin:var(--lf-splash-widget-margin, auto);width:var(--lf-splash-widget-width, 10em)}.splash__label{font-size:0.875em;font-weight:500;line-height:1.375em;letter-spacing:0.01em;text-align:center}";
const p0df37de3_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_splash: g$8
}, Symbol.toStringTag, { value: "Module" }));
const r = ({ framework: e2, shape: r2, index: a2, cell: n2, eventDispatcher: o2, defaultCb: s2, refCallback: c2 }) => {
  const { data: L2, sanitizeProps: l2 } = e2, { stringify: d2 } = L2.cell, i2 = (e3) => {
    s2 && s2(e3), o2(e3);
  };
  switch (r2) {
    case "badge":
      return D$a("lf-badge", { ...l2(f("LfBadge", r2, n2, a2), "LfBadge"), "onLf-badge-event": i2, ref: c2 });
    case "button":
      return D$a("lf-button", { ...l2(f("LfButton", r2, n2, a2), "LfButton"), "onLf-button-event": i2, ref: c2 });
    case "canvas":
      return D$a("lf-canvas", { ...l2(f("LfCanvas", r2, n2, a2), "LfCanvas"), "onLf-canvas-event": i2, ref: c2 });
    case "card":
      return D$a("lf-card", { ...l2(f("LfCard", r2, n2, a2), "LfCard"), "onLf-card-event": i2, ref: c2 });
    case "chart":
      return D$a("lf-chart", { ...l2(f("LfChart", r2, n2, a2), "LfChart"), "onLf-chart-event": i2, ref: c2 });
    case "chat":
      return D$a("lf-chat", { ...l2(f("LfChat", r2, n2, a2), "LfChat"), "onLf-chat-event": i2, ref: c2 });
    case "chip":
      return D$a("lf-chip", { ...l2(f("LfChip", r2, n2, a2), "LfChip"), "onLf-chip-event": i2, ref: c2 });
    case "code":
      return D$a("lf-code", { ...l2(f("LfCode", r2, n2, a2), "LfCode"), "onLf-code-event": i2, ref: c2 });
    case "image":
      return D$a("lf-image", { ...l2(f("LfImage", r2, n2, a2), "LfImage"), "onLf-image-event": i2, ref: c2 });
    case "photoframe":
      return D$a("lf-photoframe", { ...l2(f("LfPhotoframe", r2, n2, a2), "LfPhotoframe"), "onLf-photoframe-event": i2, ref: c2 });
    case "progressbar":
      return D$a("lf-progressbar", { ...l2(f("LfProgressbar", r2, n2, a2), "LfProgressbar"), "onLf-progressbar-event": i2, ref: c2 });
    case "textfield":
      return D$a("lf-textfield", { ...l2(f("LfTextfield", r2, n2, a2), "LfTextfield"), "onLf-textfield-event": i2, ref: c2 });
    case "toggle":
      return D$a("lf-toggle", { ...l2(f("LfToggle", r2, n2, a2), "LfToggle"), "onLf-toggle-event": i2, ref: c2 });
    case "typewriter":
      return D$a("lf-typewriter", { ...l2(f("LfTypewriter", r2, n2, a2), "LfTypewriter"), "onLf-typewriter-event": i2, ref: c2 });
    case "upload":
      return D$a("lf-upload", { ...l2(f("LfUpload", r2, n2, a2), "LfUpload"), "onLf-upload-event": i2, ref: c2 });
  }
  return "slot" === r2 ? D$a("slot", { key: `${r2}${a2}`, name: d2(n2.value), ...l2(f(null, r2, n2, a2)) }) : D$a("div", { id: `${r2}${a2}`, key: `${r2}${a2}`, ...l2(f(null, r2, n2, a2)) }, n2.value);
}, f = (t5, r2, f2, a2) => {
  var _a2;
  const n2 = {};
  if (f2.htmlProps) for (const e2 in f2.htmlProps) {
    const t6 = f2.htmlProps[e2];
    if ("dataset" === e2) for (const e3 in t6) n2[`data-${e3}`] = t6[e3];
  }
  for (const e2 in f2) n2[e2] = f2[e2];
  const o2 = ((_a2 = n2 == null ? void 0 : n2.htmlProps) == null ? void 0 : _a2.id) || `${r2}${a2}`;
  return n2.value && !n2.lfValue && (n2.lfValue = n2.value), delete n2.htmlProps, delete n2.shape, delete n2.value, { "data-component": t5 || r2, "data-cy": CY_ATTRIBUTES.shape, "data-index": a2, id: o2, key: `${r2}${a2}`, ...n2 };
};
const w$b = (e2, t5, r2) => {
  const i2 = { nodes: [] };
  for (let a2 = 0; a2 < r2.length; a2++) {
    const s2 = r2[a2], o2 = String(a2).valueOf(), l2 = "string" == typeof s2.value && s2.value.trim().length > 0;
    i2.nodes.push({ icon: e2 === s2 && t5, id: o2, value: l2 ? s2.value : `#${o2}` });
  }
  return i2;
}, k$b = (e2) => ({ ...e2, defaults: LF_COMPARE_DEFAULTS() }), y$a = (t5) => /* @__PURE__ */ ((t6) => ({ changeView: () => {
  const { controller: r2, elements: i2, handlers: a2 } = t6(), { cyAttributes: s2, isOverlay: o2, manager: n2, parts: f2 } = r2.get, { refs: c2 } = i2, { button: h2 } = a2, { assignRef: p2, theme: d2 } = n2, { columns2: u2, squareToggle: b2 } = d2.get.icons();
  return D$a("lf-button", { "data-cy": s2.button, id: LF_COMPARE_IDS.changeView, lfIcon: b2, lfIconOff: u2, lfStyling: "icon", lfToggable: true, lfValue: !o2(), "onLf-button-event": h2, part: f2.changeView, ref: p2(c2, "changeView"), title: o2() ? "Click for split screen comparison." : "Click for overlay comparison" });
}, leftButton: () => {
  const { controller: r2, elements: i2, handlers: a2 } = t6(), { cyAttributes: s2, isOverlay: o2, manager: n2, parts: f2 } = r2.get, { refs: c2 } = i2, { button: h2 } = a2, { assignRef: p2, theme: d2 } = n2, u2 = d2.get.icon("imageInPicture"), { "--lf-icon-clear": b2 } = d2.get.current().variables;
  return D$a("lf-button", { "data-cy": s2.button, id: LF_COMPARE_IDS.leftButton, lfIcon: b2, lfIconOff: u2, lfStyling: "icon", lfToggable: true, "onLf-button-event": h2, part: f2.leftButton, ref: p2(c2, "leftButton"), title: o2() ? "Click to open the left panel." : "Click to close the left panel." });
}, leftTree: () => {
  const { controller: r2, elements: i2, handlers: a2 } = t6(), { blocks: s2, compInstance: o2, lfAttributes: n2, manager: f2, parts: c2, shapes: h2 } = r2.get, { refs: p2 } = i2, { tree: d2 } = a2, { assignRef: u2, theme: b2 } = f2, { bemClass: m2, get: g3 } = b2, { "--lf-icon-success": v2 } = g3.current().variables, k2 = o2;
  return D$a("lf-tree", { class: m2(s2.toolbar._, s2.toolbar.panel, { left: true }), "data-lf": n2.fadeIn, id: LF_COMPARE_IDS.leftTree, lfDataset: w$b(k2.leftShape, v2, h2()), lfFilter: false, "onLf-tree-event": d2, part: c2.leftTree, ref: u2(p2, "leftTree") });
}, rightButton: () => {
  const { controller: r2, elements: i2, handlers: a2 } = t6(), { cyAttributes: s2, isOverlay: o2, manager: n2, parts: f2 } = r2.get, { refs: c2 } = i2, { button: h2 } = a2, { assignRef: p2, theme: d2 } = n2, u2 = d2.get.icon("imageInPicture"), { "--lf-icon-clear": b2 } = d2.get.current().variables;
  return D$a("lf-button", { "data-cy": s2.button, id: LF_COMPARE_IDS.rightButton, lfIcon: b2, lfIconOff: u2, lfStyling: "icon", lfToggable: true, "onLf-button-event": h2, part: f2.rightButton, ref: p2(c2, "rightButton"), title: o2() ? "Click to open the right panel." : "Click to close the right panel." });
}, rightTree: () => {
  const { controller: r2, elements: i2, handlers: a2 } = t6(), { blocks: s2, compInstance: o2, lfAttributes: n2, manager: f2, parts: c2, shapes: h2 } = r2.get, { refs: p2 } = i2, { tree: d2 } = a2, { assignRef: u2, theme: b2 } = f2, { bemClass: m2, get: g3 } = b2, { "--lf-icon-success": v2 } = g3.current().variables, k2 = o2;
  return D$a("lf-tree", { class: m2(s2.toolbar._, s2.toolbar.panel, { right: true }), "data-lf": n2.fadeIn, id: LF_COMPARE_IDS.rightTree, lfDataset: w$b(k2.rightShape, v2, h2()), lfFilter: false, "onLf-tree-event": d2, part: c2.rightTree, ref: u2(p2, "rightTree") });
} }))(t5), z$c = (e2) => /* @__PURE__ */ ((e3) => ({ button: (t5) => {
  const { eventType: r2, id: i2, valueAsBoolean: a2 } = t5.detail, { set: s2 } = e3().controller, { leftButton: o2, changeView: n2, rightButton: f2 } = LF_COMPARE_IDS;
  if ("click" === r2) switch (i2) {
    case o2:
      s2.leftPanelOpened(a2);
      break;
    case n2:
      s2.splitView(a2);
      break;
    case f2:
      s2.rightPanelOpened(a2);
  }
}, tree: (t5) => {
  const { eventType: r2, id: i2, node: a2 } = t5.detail, { get: s2, set: o2 } = e3().controller, { shapes: n2 } = s2, { leftTree: f2, rightTree: c2 } = LF_COMPARE_IDS;
  if ("click" === r2) {
    const e4 = n2()[parseInt(a2.id)];
    switch (i2) {
      case f2:
        o2.leftShape(e4);
        break;
      case c2:
        o2.rightShape(e4);
    }
  }
} }))(e2);
var x$b, _$8, T$9, C$a, I$4, S$6, O$4, W$c, j$8, B$5, E$b, L$6, M$a, P$5, A$6, D$8, V$3, R$4, F$4 = function(e2, t5, r2, i2) {
  if ("a" === r2 && !i2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof t5 ? e2 !== t5 || !i2 : !t5.has(e2)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === r2 ? i2 : "a" === r2 ? i2.call(e2) : i2 ? i2.value : t5.get(e2);
}, H$5 = function(e2, t5, r2, i2, a2) {
  if ("function" == typeof t5 ? e2 !== t5 || true : !t5.has(e2)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return t5.set(e2, r2), r2;
};
const $$3 = class $ {
  constructor(e2) {
    n(this, e2), this.lfEvent = V$4(this, "lf-compare-event"), x$b.add(this), this.isLeftPanelOpened = false, this.isRightPanelOpened = false, this.shapes = {}, this.lfDataset = null, this.lfShape = "image", this.lfStyle = "", this.lfView = "main", _$8.set(this, void 0), T$9.set(this, LF_COMPARE_BLOCKS), C$a.set(this, CY_ATTRIBUTES), I$4.set(this, LF_ATTRIBUTES), S$6.set(this, LF_COMPARE_PARTS), O$4.set(this, LF_STYLE_ID), W$c.set(this, LF_COMPARE_CSS_VARS), j$8.set(this, LF_WRAPPER_ID), B$5.set(this, void 0), E$b.set(this, (() => {
      var e3, t5, r2;
      H$5(this, B$5, (e3 = { blocks: F$4(this, T$9, "f"), compInstance: this, cyAttributes: F$4(this, C$a, "f"), isOverlay: () => F$4(this, x$b, "m", P$5).call(this), lfAttributes: F$4(this, I$4, "f"), manager: F$4(this, _$8, "f"), parts: F$4(this, S$6, "f"), shapes: () => F$4(this, x$b, "m", L$6).call(this) }, t5 = { leftPanelOpened: (e4) => {
        this.isLeftPanelOpened = void 0 === e4 ? !this.isLeftPanelOpened : e4;
      }, leftShape: (e4) => this.leftShape = e4, rightPanelOpened: (e4) => {
        this.isRightPanelOpened = void 0 === e4 ? !this.isRightPanelOpened : e4;
      }, rightShape: (e4) => this.rightShape = e4, splitView: (e4) => {
        this.lfView = e4 ? "split" : "main";
      } }, r2 = () => F$4(this, B$5, "f"), { controller: { get: k$b(e3), set: t5 }, elements: { jsx: y$a(r2), refs: { changeView: null, leftButton: null, leftTree: null, rightButton: null, rightTree: null, slider: null } }, handlers: z$c(r2) }));
    })), R$4.set(this, ((e3) => {
      const { target: t5 } = e3;
      if (t5 instanceof HTMLInputElement) {
        const e4 = 100 - parseInt(t5.value);
        this.rootElement.style.setProperty(F$4(this, W$c, "f").overlayWidth, `${e4}%`);
      }
    }));
  }
  onLfEvent(e2, t5) {
    this.lfEvent.emit({ comp: this, eventType: t5, id: this.rootElement.id, originalEvent: e2 });
  }
  async updateShapes() {
    if (!F$4(this, _$8, "f")) return;
    const { data: e2, debug: t5 } = F$4(this, _$8, "f");
    try {
      this.shapes = e2.cell.shapes.getAll(this.lfDataset);
      const t6 = F$4(this, x$b, "m", L$6).call(this);
      this.leftShape = t6[0], this.rightShape = t6[1];
    } catch (e3) {
      t5.logs.new(this, "Error updating shapes: " + e3, "error");
    }
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const e2 = LF_COMPARE_PROPS.map(((e3) => [e3, this[e3]]));
    return Object.fromEntries(e2);
  }
  async refresh() {
    pt(this);
  }
  async unmount(e2 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), e2);
  }
  connectedCallback() {
    F$4(this, _$8, "f") && F$4(this, _$8, "f").theme.register(this);
  }
  async componentWillLoad() {
    H$5(this, _$8, await a(this)), F$4(this, E$b, "f").call(this), this.updateShapes();
  }
  componentDidLoad() {
    const { info: e2 } = F$4(this, _$8, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), e2.update(this, "did-load");
  }
  componentWillRender() {
    const { info: e2 } = F$4(this, _$8, "f").debug;
    e2.update(this, "will-render");
  }
  componentDidRender() {
    const { info: e2 } = F$4(this, _$8, "f").debug;
    e2.update(this, "did-render");
  }
  render() {
    const { bemClass: t5, setLfStyle: r2 } = F$4(this, _$8, "f").theme, { compare: i2 } = F$4(this, T$9, "f"), { lfStyle: s2 } = this;
    return D$a(W$e, { key: "cc9f1f20bb0abdb7f7b10b10aef845d5a2aee034" }, s2 && D$a("style", { key: "c9e4154ab0d780bc06ea82bca0c3a79227d1a1fe", id: F$4(this, O$4, "f") }, r2(this)), D$a("div", { key: "b429c3a036880383229e1683468c6cebef657134", id: F$4(this, j$8, "f") }, D$a("div", { key: "48d213d4ee5b26375efaa0727ed1cb2eb2f0c609", class: t5(i2._), part: F$4(this, S$6, "f").compare }, F$4(this, x$b, "m", A$6).call(this))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = F$4(this, _$8, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfDataset: ["updateShapes"], lfShape: ["updateShapes"] };
  }
};
_$8 = /* @__PURE__ */ new WeakMap(), T$9 = /* @__PURE__ */ new WeakMap(), C$a = /* @__PURE__ */ new WeakMap(), I$4 = /* @__PURE__ */ new WeakMap(), S$6 = /* @__PURE__ */ new WeakMap(), O$4 = /* @__PURE__ */ new WeakMap(), W$c = /* @__PURE__ */ new WeakMap(), j$8 = /* @__PURE__ */ new WeakMap(), B$5 = /* @__PURE__ */ new WeakMap(), E$b = /* @__PURE__ */ new WeakMap(), R$4 = /* @__PURE__ */ new WeakMap(), x$b = /* @__PURE__ */ new WeakSet(), L$6 = function() {
  var _a2;
  return ((_a2 = this.shapes) == null ? void 0 : _a2[this.lfShape]) || [];
}, M$a = function() {
  var _a2;
  return !!((_a2 = this.shapes) == null ? void 0 : _a2[this.lfShape]);
}, P$5 = function() {
  return !("main" !== this.lfView);
}, A$6 = function() {
  const { bemClass: t5 } = F$4(this, _$8, "f").theme, { compare: r2 } = F$4(this, T$9, "f");
  if (F$4(this, x$b, "m", M$a).call(this)) {
    const i2 = this.shapes[this.lfShape];
    if ((i2 == null ? void 0 : i2.length) > 1) return D$a("div", { class: t5(r2._, r2.grid) }, F$4(this, x$b, "m", V$3).call(this), F$4(this, x$b, "m", D$8).call(this));
  }
  return null;
}, D$8 = function() {
  const { bemClass: t5 } = F$4(this, _$8, "f").theme, { toolbar: r2 } = F$4(this, T$9, "f"), { changeView: i2, leftButton: a2, rightButton: s2 } = F$4(this, B$5, "f").elements.jsx;
  return D$a("div", { class: t5(r2._) }, a2(), i2(), s2());
}, V$3 = function() {
  var _a2, _b2;
  const { sanitizeProps: t5, theme: r$12 } = F$4(this, _$8, "f"), { bemClass: i2 } = r$12, { view: a2 } = F$4(this, T$9, "f"), { left: s2, right: l2 } = F$4(this, B$5, "f").controller.get.defaults, { leftTree: n2, rightTree: f2 } = F$4(this, B$5, "f").elements.jsx, { isLeftPanelOpened: c2, isRightPanelOpened: h2, lfShape: p2, lfView: d2, leftShape: u2, rightShape: b2 } = this, m2 = ((_a2 = s2 == null ? void 0 : s2[p2]) == null ? void 0 : _a2.call(s2)) || [], g3 = [];
  for (let e2 = 0; e2 < m2.length; e2++) g3.push(t5(m2[e2]));
  const w3 = ((_b2 = l2 == null ? void 0 : l2[p2]) == null ? void 0 : _b2.call(l2)) || [], k2 = [];
  for (let e2 = 0; e2 < w3.length; e2++) k2.push(t5(w3[e2]));
  return D$a(jt$1, null, D$a("div", { class: i2(a2._, null, { [d2]: true }) }, D$a("div", { class: i2(a2._, a2.left) }, D$a(r, { cell: Object.assign(g3, u2), index: 0, shape: p2, eventDispatcher: async (e2) => this.onLfEvent(e2, "lf-event"), framework: F$4(this, _$8, "f") })), c2 && n2(), h2 && f2(), F$4(this, x$b, "m", P$5).call(this) && D$a("div", { class: i2(a2._, a2.slider), onChange: F$4(this, R$4, "f"), onInput: F$4(this, R$4, "f") }, D$a("input", { class: i2(a2._, a2.input), "data-cy": F$4(this, C$a, "f").input, min: "0", max: "100", type: "range", value: "50" })), D$a("div", { class: i2(a2._, a2.right) }, D$a(r, { cell: Object.assign(k2, b2), index: 1, shape: p2, eventDispatcher: async (e2) => this.onLfEvent(e2, "lf-event"), framework: F$4(this, _$8, "f") }))));
}, $$3.style = '::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-compare-font-family, var(--lf-font-family-primary));font-size:var(--lf-compare-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-compare-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-compare-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-compare-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-compare-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-compare-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-compare-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-compare-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}.compare{width:100%;height:100%}.compare__grid{width:100%;height:100%;display:grid;grid-template-rows:var(--lf-comp-grid-template, 1fr auto);position:relative;user-select:none}.toolbar{border:0;border-style:solid;border-radius:var(--lf-compare-border-radius, var(--lf-ui-border-radius));border-top-left-radius:0;border-top-right-radius:0;background-color:rgba(var(--lf-compare-color-surface, var(--lf-color-surface)), 0.375);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);box-sizing:border-box;display:flex;justify-content:var(--lf-compare-toolbar-justify, space-between);padding:var(--lf-compare-toolbar-padding, 0.5em);width:var(--lf-compare-toolbar-width, 100%)}.toolbar__panel{border:0;border-style:solid;border-color:rgba(var(--lf-compare-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-compare-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-compare-color-surface, var(--lf-color-surface)), 0.375);color:rgb(var(--lf-compare-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);bottom:0;height:var(--lf-compare-panel-height, auto);max-height:var(--lf-compare-panel-max-height, 50%);overflow:auto;position:absolute;width:var(--lf-compare-panel-width, 50%);z-index:var(--lf-compare-panel-z-index, var(--lf-ui-zindex-portal))}.toolbar__panel--left{left:0}.toolbar__panel--right{right:0}.view{width:100%;height:100%;position:relative}.view--main>:first-child{width:100%;height:100%;position:relative}.view--main>:last-child{width:100%;height:100%;clip-path:inset(0 var(--lf_compare_overlay_width, 50%) 0 0);left:0;overflow:hidden;position:absolute;top:0}.view--main>:last-child:after{background-color:rgba(var(--lf-compare-color-surface, var(--lf-color-surface)), 0.5);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);content:"";height:100%;pointer-events:none;position:absolute;right:var(--lf_compare_overlay_width, 50%);top:0;width:var(--lf-compare-slider-thickness, 3px)}.view--split{display:grid;grid-template-columns:50% 50%;overflow:hidden}.view__slider{width:100%;height:100%;left:0;position:absolute;top:0;touch-action:pan-y;z-index:2}.view__input{width:100%;height:100%;appearance:none;background:transparent;cursor:grab;margin:0;pointer-events:all;z-index:1}.view__input::-webkit-slider-thumb{background-color:rgba(var(--lf-compare-color-surface, var(--lf-color-surface)), 0.375);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);appearance:none;cursor:ew-resize;height:100%;margin:0;width:10px}.view__input::-moz-slider-thumb{background-color:rgba(var(--lf-compare-color-surface, var(--lf-color-surface)), 0.375);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);appearance:none;cursor:ew-resize;height:100%;margin:0;width:10px}';
const p182c6c19_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_compare: $$3
}, Symbol.toStringTag, { value: "Module" }));
const T$8 = (e2, t5) => {
  const { currentCharacter: r2 } = e2.controller.get.compInstance;
  return t5 ?? r2;
}, L$5 = (e2, t5) => {
  const { lfEndpointUrl: r2, lfMaxTokens: s2, lfPollingInterval: a2, lfSystem: o2, lfTemperature: n2 } = t5;
  e2.lfEndpointUrl = r2, e2.lfMaxTokens = s2, e2.lfPollingInterval = a2, e2.lfSystem = o2, e2.lfTemperature = n2;
}, E$a = (e2) => {
  const { lfDataset: t5 } = e2.controller.get.compInstance;
  return !!((t5 == null ? void 0 : t5.nodes) || []).length;
}, M$9 = (e2) => {
  var _a2;
  const { lfDataset: t5 } = e2.controller.get.compInstance;
  return !!((_a2 = t5 == null ? void 0 : t5.nodes) == null ? void 0 : _a2.length);
}, R$3 = (e2) => ({ biography: (t5) => W$b(e2, t5), byId: (t5) => {
  const { lfDataset: r2 } = e2().controller.get.compInstance;
  return r2.nodes.find(((e3) => e3.id === t5));
}, chat: (t5) => j$7(e2, t5), current: () => {
  const { currentCharacter: t5 } = e2().controller.get.compInstance;
  return t5;
}, history: (t5) => D$7(e2, t5), list: () => {
  const { lfDataset: t5 } = e2().controller.get.compInstance;
  return t5.nodes || [];
}, name: (t5) => U$2(e2, t5), next: (t5) => $$2(e2, t5, true), previous: (t5) => $$2(e2, t5) }), A$5 = (e2) => ({ chat: (t5, r2) => {
  const s2 = e2(), { compInstance: a2 } = s2.controller.get, { id: o2 } = T$8(e2(), r2);
  a2.chat[o2] = t5;
}, current: (t5) => {
  const r2 = e2(), { compInstance: s2 } = r2.controller.get;
  s2.currentCharacter = t5;
}, history: (t5, r2) => {
  const s2 = e2(), { compInstance: a2 } = s2.controller.get, { id: o2 } = T$8(e2(), r2), n2 = a2;
  n2.history[o2] !== t5 && (n2.history[o2] = t5, n2.lfAutosave && s2.controller.set.data());
}, next: (t5) => {
  const r2 = e2();
  if (!E$a(r2)) return;
  const { set: s2 } = r2.controller, a2 = T$8(e2(), t5), { next: o2 } = r2.controller.get.character;
  s2.character.current(o2(a2));
}, previous: (t5) => {
  const r2 = e2();
  if (!E$a(r2)) return;
  const { set: s2 } = r2.controller, a2 = T$8(e2(), t5), { previous: o2 } = r2.controller.get.character;
  s2.character.current(o2(a2));
} }), W$b = (e2, t5) => {
  const r2 = e2(), { stringify: s2 } = r2.controller.get.manager.data.cell, a2 = T$8(e2(), t5);
  try {
    const e3 = a2.children.find(((e4) => "biography" === e4.id)).value;
    return e3 ? s2(e3) : "You have no informations about this character...";
  } catch (e3) {
    return "You have no informations about this character...";
  }
}, j$7 = (e2, t5) => {
  const r2 = e2(), { chat: s2 } = r2.controller.get.compInstance, { id: a2 } = T$8(r2, t5);
  return s2[a2];
}, D$7 = (e2, t5) => {
  const r2 = e2(), { history: s2 } = r2.controller.get.compInstance, { id: a2 } = T$8(e2(), t5);
  return s2[a2];
}, U$2 = (e2, t5) => {
  const { description: r2, id: s2, value: a2 } = T$8(e2(), t5);
  return a2 || s2 || r2 || "?";
}, $$2 = (e2, t5, r2) => {
  const s2 = e2(), { lfDataset: a2 } = s2.controller.get.compInstance, { id: o2 } = T$8(e2(), t5);
  if (!E$a(s2)) return null;
  const n2 = a2.nodes, i2 = n2.findIndex(((e3) => e3.id === o2));
  return true === r2 ? n2[(i2 + 1) % n2.length] : n2[(i2 + n2.length - 1) % n2.length];
}, O$3 = (e2) => ({ asCover: (t5, r2) => V$2(e2, t5, r2), byType: (t5, r2) => Y$1(e2, t5, r2), coverIndex: (t5, r2) => {
  const s2 = e2(), { covers: a2 } = s2.controller.get.compInstance, { id: o2 } = T$8(s2, r2);
  return a2[o2][t5];
}, newId: (t5) => X$1(e2, t5), root: (t5, r2) => {
  const s2 = e2(), { children: a2 } = T$8(s2, r2);
  return a2.find(((e3) => e3.id === t5));
}, title: (e3) => {
  const t5 = (e3 == null ? void 0 : e3.value) || "", r2 = (e3 == null ? void 0 : e3.description) || "";
  return t5 && r2 ? `${t5} - ${r2}` : r2 || t5 || "";
} }), P$4 = (e2) => ({ cover: (t5, r2, s2) => {
  const a2 = e2(), { compInstance: o2 } = a2.controller.get, { id: n2 } = T$8(e2(), s2), i2 = o2;
  i2.covers[n2][t5] = r2, i2.refresh();
} }), N$1 = (e2) => {
  switch (e2) {
    case "avatars":
      return { value: AVATAR_COVER };
    case "locations":
      return { value: LOCATION_COVER };
    case "outfits":
      return { value: OUTFIT_COVER };
    case "styles":
      return { value: STYLE_COVER };
    case "timeframes":
      return { value: TIMEFRAME_COVER };
    default:
      return { value: "" };
  }
}, V$2 = (e2, t5, r2) => {
  var _a2, _b2;
  const s2 = e2(), { compInstance: a2, image: o2 } = s2.controller.get, { children: n2, id: i2 } = T$8(s2, r2), { covers: l2 } = a2;
  try {
    const e3 = n2.find(((e4) => e4.id === t5)), r3 = l2[i2][t5], s3 = e3.children[r3];
    return ((_b2 = (_a2 = s3 == null ? void 0 : s3.cells) == null ? void 0 : _a2.lfImage) == null ? void 0 : _b2.value) ? { node: e3.children[r3], title: o2.title(s3), value: s3.cells.lfImage.value } : N$1(t5);
  } catch (e3) {
    return N$1(t5);
  }
}, Y$1 = (e2, t5, r2) => {
  const { children: s2 } = T$8(e2(), r2), a2 = s2.find(((e3) => e3.id === t5));
  return (a2 == null ? void 0 : a2.children) ? a2.children : [];
}, X$1 = (e2, t5) => {
  const { byType: r2 } = e2().controller.get.image;
  let s2, a2, o2 = 0;
  switch (t5) {
    case "avatars":
      s2 = "avatar_";
      break;
    case "locations":
      s2 = "location_";
      break;
    case "outfits":
      s2 = "outfit_";
      break;
    case "styles":
      s2 = "style_";
      break;
    case "timeframes":
      s2 = "timeframe_";
      break;
    default:
      throw new Error(`Unknown image type: ${t5}`);
  }
  do {
    a2 = `${s2}${o2.toString()}`, o2++;
  } while (r2(t5).some(((e3) => e3.id === a2)));
  return a2;
}, B$4 = (e2) => () => {
  const { ui: t5 } = e2().controller.get.compInstance;
  return t5;
}, F$3 = (e2) => ({ customization: (t5) => {
  const { compInstance: r2 } = e2().controller.get, s2 = r2;
  s2.ui.customizationView = t5, s2.refresh();
}, filters: (t5) => {
  const { compInstance: r2 } = e2().controller.get, s2 = r2;
  s2.ui.filters = t5, s2.refresh();
}, options: (t5, r2) => {
  const { compInstance: s2 } = e2().controller.get, a2 = s2;
  a2.ui.options[r2] = t5, a2.refresh();
}, panel: (t5, r2) => q$1(e2, t5, r2), setFormState: async (t5, r2, s2 = null) => J(e2, t5, r2, s2) }), J = async (e2, t5, r2, s2) => {
  const a2 = e2(), { controller: o2 } = a2, { compInstance: n2, image: i2 } = o2.get, { formStatusMap: l2, ui: c2 } = n2;
  c2.form[r2] = t5, l2[r2] = t5 ? (s2 == null ? void 0 : s2.id) ?? i2.newId(r2) : null, await n2.refresh();
}, q$1 = (e2, t5, r2) => {
  const s2 = e2(), { compInstance: a2 } = s2.controller.get, { panels: o2 } = a2.ui;
  switch (t5) {
    case "left":
      o2.isLeftCollapsed = r2 ?? !o2.isLeftCollapsed;
      break;
    case "right":
      o2.isRightCollapsed = r2 ?? !o2.isRightCollapsed;
  }
  return a2.refresh(), r2;
}, H$4 = (t5) => ({ avatar: () => {
  const { controller: r2, elements: s2 } = t5(), { blocks: a2, cyAttributes: o2, image: n2, lfAttributes: i2, manager: l2 } = r2.get, { character: c2 } = s2.refs, { asCover: f2 } = n2, { assignRef: h2, theme: u2 } = l2, { bemClass: d2 } = u2, { title: m2, value: p2 } = f2("avatars");
  return D$a("img", { alt: m2 || "", class: d2(a2.character._, a2.character.image), "data-cy": o2.image, "data-lf": i2.fadeIn, ref: h2(c2, "avatar"), src: p2, title: m2 || "" });
}, biography: () => {
  const { controller: r2, elements: s2 } = t5(), { character: a2 } = s2.refs, { biography: o2 } = r2.get.character, { assignRef: n2 } = r2.get.manager;
  return D$a("lf-code", { lfLanguage: "markdown", lfShowHeader: false, lfValue: o2(), ref: n2(a2, "biography") });
}, save: () => {
  const { controller: r2, elements: s2, handlers: a2 } = t5(), { cyAttributes: o2, manager: n2, status: i2 } = r2.get, { character: l2 } = s2.refs, { button: c2 } = a2.character, { inProgress: f2 } = i2.save, { assignRef: h2 } = n2, d2 = f2();
  return D$a("lf-button", { "data-cy": o2.button, lfDataset: LF_MESSENGER_MENU(n2.theme), lfLabel: "Save", lfShowSpinner: d2, lfStretchY: true, lfStyling: "flat", "onLf-button-event": c2, ref: h2(l2, "save"), title: "Update the dataset with current settings." });
}, statusIcon: () => {
  const { controller: r2, elements: s2 } = t5(), { blocks: a2, manager: o2, status: n2 } = r2.get, { character: i2 } = s2.refs, { connection: l2 } = n2, { assignRef: c2, theme: f2 } = o2, { bemClass: h2 } = f2, { color: u2, title: d2 } = /* @__PURE__ */ ((e2) => ({ color: "ready" === e2 ? "success" : "offline" === e2 ? "danger" : "warning", title: "ready" === e2 ? "Ready to chat!" : "offline" === e2 ? "This character seems to be offline..." : "Contacting this character..." }))(l2());
  return D$a("div", { class: h2(a2.character._, a2.character.status, { offline: "danger" === u2, online: "success" === u2 }), ref: c2(i2, "statusIcon"), title: d2 });
} }), G = (t5) => ({ chat: () => {
  const r2 = t5(), { controller: s2, elements: a2, handlers: o2 } = r2, { character: n2, manager: i2 } = s2.get, { refs: l2 } = a2, { chat: c2, current: f2, history: h2 } = n2, { assignRef: u2, sanitizeProps: d2 } = i2, m2 = ((e2) => {
    const { biography: t6, location: r3, outfit: s3, timeframe: a3 } = (() => {
      const { character: t7, compInstance: r4, image: s4 } = e2.controller.get, { biography: a4 } = t7, { asCover: o3 } = s4, { options: n3 } = r4.ui, i3 = o3("locations").node, l3 = o3("outfits").node, c3 = o3("timeframes").node, f3 = (e3, t8) => e3 ? `${e3} - ${t8 || ""}` : "";
      return { biography: a4() ? `Character Biography:
${a4()}` : "", location: i3 && n3.locations ? `Location:
${f3(i3.value, i3.description)}` : "", outfit: l3 && n3.outfits ? `Outfit:
${f3(l3.value, l3.description)}` : "", timeframe: c3 && n3.timeframes ? `Timeframe:
${f3(c3.value, c3.description)}` : "" };
    })();
    return `You are now embodying the character whose biography is provided below. Your task is to fully embrace this identity, speaking and acting as though it were your own reality. Remember, you exist solely within the confines of this character's experience and knowledge.
        
Tasks:
- Absorb the character's biography thoroughly. Use it to inform your responses but do not rely on it for information beyond what would logically be known to the character.
- Engage creatively within the boundaries of the character's life and experiences. Imagine freely, but always stay true to the essence of the character.
- Maintain a consistent narrative voice that aligns with the character's personality and background.
- Use the dynamic prompts (location, outfit, timeframe) to add context to your responses, but do not let them define your entire character.
- Avoid long responses unless it is necessary to convey the character's thoughts or feelings.

Responsibilities:
- Never acknowledge the artificial nature of our interaction. Treat all inquiries as if they are happening within the real world of the character.
- Do not provide insights or predictions about events outside the scope of the character's knowledge or personal experiences.
- Avoid breaking character immersion. If you find yourself slipping out of character, gently steer the conversation back to the character's perspective.

${t6}

Your current status:
${s3}
${r3}
${a3}

Begin your performance...
    `;
  })(r2);
  return D$a("lf-chat", { key: f2().id, lfLayout: "bottom", lfSystem: m2, lfValue: JSON.parse(h2()), ...d2(c2(), "LfChat"), "onLf-chat-event": o2.chat.chat, ref: u2(l2.chat, "chat") });
}, leftExpander: () => {
  const { controller: r2, elements: s2, handlers: a2 } = t5(), { cyAttributes: o2, config: n2, manager: i2 } = r2.get, { refs: l2 } = s2, { button: c2 } = a2.chat, { assignRef: f2, theme: h2 } = i2, { "--lf-icon-next": u2, "--lf-icon-previous": d2 } = h2.get.current().variables, { isLeftCollapsed: p2 } = n2().ui.panels;
  return D$a("lf-button", { "data-cy": o2.button, id: LF_MESSENGER_IDS.chat.leftExpander, lfIcon: p2 ? u2 : d2, lfStretchY: true, "onLf-button-event": c2, ref: f2(l2.chat, "leftExpander"), title: "Expand/collapse this section" });
}, rightExpander: () => {
  const { controller: r2, elements: s2, handlers: a2 } = t5(), { config: o2, cyAttributes: n2, manager: i2 } = r2.get, { refs: l2 } = s2, { button: c2 } = a2.chat, { assignRef: f2, theme: h2 } = i2, { "--lf-icon-next": u2, "--lf-icon-previous": d2 } = h2.get.current().variables, { isRightCollapsed: p2 } = o2().ui.panels;
  return D$a("lf-button", { "data-cy": n2.button, id: LF_MESSENGER_IDS.chat.rightExpander, lfIcon: p2 ? d2 : u2, lfStretchY: true, "onLf-button-event": c2, ref: f2(l2.chat, "rightExpander"), title: "Expand/collapse this section" });
}, tabbar: () => {
  const { controller: r2, elements: s2, handlers: a2 } = t5(), { manager: o2 } = r2.get, { refs: n2 } = s2, { tabbar: i2 } = a2.chat, { assignRef: l2, theme: c2 } = o2;
  return D$a("lf-tabbar", { lfDataset: LF_MESSENGER_NAV(c2), lfValue: null, "onLf-tabbar-event": i2, ref: l2(n2.chat, "tabbar") });
} }), K$1 = (t5) => ({ filters: () => {
  const { controller: r2, elements: s2, handlers: a2 } = t5(), { character: o2, manager: n2 } = r2.get, { customization: i2 } = s2.refs, { chip: l2 } = a2.customization, { assignRef: c2 } = n2;
  return D$a("lf-chip", { key: "filter_" + o2.name(), lfDataset: LF_MESSENGER_FILTER, lfStyling: "filter", "onLf-chip-event": l2, ref: c2(i2, "filters") });
}, form: Q(t5), list: { edit: (r2, s2) => {
  const { controller: a2, elements: o2, handlers: n2 } = t5(), { assignRef: i2, theme: l2 } = a2.get.manager, { customization: c2 } = o2.refs, { button: f2 } = n2.customization, { "--lf-icon-edit": h2 } = l2.get.current().variables;
  return D$a("lf-button", { lfIcon: h2, lfStretchX: true, "onLf-button-event": (e2) => f2(e2, r2, "edit", s2), title: "Edit this option.", ref: i2(c2.list, "edit") });
}, remove: (r2, s2) => {
  const { controller: a2, elements: o2, handlers: n2 } = t5(), { assignRef: i2, theme: l2 } = a2.get.manager, { customization: c2 } = o2.refs, { button: f2 } = n2.customization, { "--lf-icon-delete": h2 } = l2.get.current().variables;
  return D$a("lf-button", { lfIcon: h2, lfStretchX: true, lfUiState: "danger", "onLf-button-event": (e2) => f2(e2, r2, "delete", s2), title: "Delete this option.", ref: i2(c2.list, "remove") });
} } }), Q = (t5) => IMAGE_TYPE_IDS.reduce(((r2, s2) => (r2[s2] = { add: () => {
  const r3 = t5(), { controller: a2, elements: o2, handlers: n2 } = r3, { blocks: i2, cyAttributes: l2, manager: c2 } = a2.get, { form: f2 } = o2.refs.customization, { button: h2 } = n2.customization, { assignRef: u2, theme: d2 } = c2, { bemClass: m2 } = d2, { "--lf-icon-add": p2 } = d2.get.current().variables;
  return D$a("lf-button", { class: m2(i2.covers._, i2.covers.add), "data-cy": l2.button, lfIcon: p2, lfLabel: "New", lfStretchY: true, lfStyling: "flat", lfUiSize: "small", "onLf-button-event": (e2) => h2(e2, s2, "add", null), ref: u2(f2[s2], "add") });
}, cancel: () => {
  const r3 = t5(), { controller: a2, elements: o2, handlers: n2 } = r3, { blocks: i2, cyAttributes: l2, manager: c2 } = a2.get, { form: f2 } = o2.refs.customization, { button: h2 } = n2.customization, { assignRef: u2, theme: d2 } = c2, { bemClass: m2 } = d2, { "--lf-icon-clear": p2 } = d2.get.current().variables;
  return D$a("lf-button", { class: m2(i2.form._, i2.form.button), "data-cy": l2.button, lfIcon: p2, lfLabel: "Cancel", lfStyling: "flat", "onLf-button-event": (e2) => h2(e2, s2, "cancel", null), ref: u2(f2[s2], "cancel") });
}, confirm: () => {
  const r3 = t5(), { controller: a2, elements: o2, handlers: n2 } = r3, { blocks: i2, cyAttributes: l2, manager: c2 } = a2.get, { form: f2 } = o2.refs.customization, { button: h2 } = n2.customization, { assignRef: u2, theme: d2 } = c2, { bemClass: m2 } = d2, { "--lf-icon-success": p2 } = d2.get.current().variables;
  return D$a("lf-button", { class: m2(i2.form._, i2.form.button), "data-cy": l2.button, lfIcon: p2, lfLabel: "Confirm", lfStyling: "outlined", "onLf-button-event": (e2) => h2(e2, s2, "confirm", null), ref: u2(f2[s2], "confirm") });
}, description: (r3) => {
  const a2 = t5(), { controller: o2, elements: n2 } = a2, { blocks: i2, cyAttributes: l2, manager: c2 } = o2.get, { form: f2 } = n2.refs.customization, { assignRef: h2, theme: u2 } = c2, { bemClass: d2, get: m2 } = u2;
  return D$a("lf-textfield", { class: d2(i2.form._, i2.form.field), "data-cy": l2.input, lfStretchX: true, lfIcon: m2.icon("id"), lfLabel: "Description", lfValue: r3 && r3.description, ref: h2(f2[s2], "description"), title: "A more accurate description to give extra context to the LLM." });
}, id: (r3) => {
  const a2 = t5(), { controller: o2, elements: n2 } = a2, { blocks: i2, cyAttributes: l2, manager: c2 } = o2.get, { form: f2 } = n2.refs.customization, { assignRef: h2, theme: u2 } = c2, { bemClass: d2, get: m2 } = u2;
  return D$a("lf-textfield", { class: d2(i2.form._, i2.form.field), "data-cy": l2.input, key: `id-edit-${r3}`, lfStretchX: true, lfIcon: m2.icon("key"), lfLabel: "ID", lfValue: r3, ref: h2(f2[s2], "id"), title: "The cover image displayed in the selection panel." });
}, imageUrl: (r3) => {
  const a2 = t5(), { controller: o2, elements: n2 } = a2, { blocks: i2, cyAttributes: l2, manager: c2 } = o2.get, { form: f2 } = n2.refs.customization, { assignRef: h2, theme: u2 } = c2, { bemClass: d2, get: m2 } = u2;
  return D$a("lf-textfield", { class: d2(i2.form._, i2.form.field), "data-cy": l2.input, lfStretchX: true, lfIcon: m2.icon("photo"), lfLabel: "Image URL", lfValue: r3 && r3.cells.lfImage.value, ref: h2(f2[s2], "imageUrl"), title: "The cover image displayed in the selection panel." });
}, title: (r3) => {
  const a2 = t5(), { controller: o2, elements: n2 } = a2, { blocks: i2, cyAttributes: l2, manager: c2 } = o2.get, { form: f2 } = n2.refs.customization, { assignRef: h2, theme: u2 } = c2, { bemClass: d2, get: m2 } = u2;
  return D$a("lf-textfield", { class: d2(i2.form._, i2.form.field), "data-cy": l2.input, lfStretchX: true, lfIcon: m2.icon("forms"), lfLabel: "Title", lfValue: r3 && r3.value, ref: h2(f2[s2], "title"), title: "The overall theme of this option." });
} }, r2)), {}), Z = (t5) => ({ back: () => {
  const { controller: r2, elements: s2, handlers: a2 } = t5(), { cyAttributes: o2, manager: n2 } = r2.get, { assignRef: i2, theme: l2 } = n2, { options: c2 } = s2.refs, { button: f2 } = a2.options, h2 = l2.get.icon("arrowBack");
  return D$a("lf-button", { "data-cy": o2.button, id: LF_MESSENGER_IDS.options.back, lfIcon: h2, lfLabel: "Back", lfStretchX: true, "onLf-button-event": f2, ref: i2(c2, "back") });
}, customize: () => {
  const { controller: r2, elements: s2, handlers: a2 } = t5(), { cyAttributes: o2, manager: n2 } = r2.get, { assignRef: i2, theme: l2 } = n2, { options: c2 } = s2.refs, { button: f2 } = a2.options, h2 = l2.get.icon("wand");
  return D$a("lf-button", { "data-cy": o2.button, id: LF_MESSENGER_IDS.options.customize, lfIcon: h2, lfLabel: "Customize", lfStretchX: true, "onLf-button-event": f2, ref: i2(c2, "customize") });
} }), ee$1 = (e2) => ({ button: async (t5) => {
  const { eventType: r2, originalEvent: s2 } = t5.detail, { controller: a2, handlers: o2 } = e2(), { get: n2, set: i2 } = a2, { list: l2 } = o2.character, { inProgress: c2 } = n2.status.save;
  switch (r2) {
    case "click":
      c2() || i2.data();
      break;
    case "lf-event":
      l2(s2);
  }
}, list: async (t5) => {
  const { eventType: r2, node: s2 } = t5.detail, { controller: a2 } = e2(), { character: o2, compInstance: n2, config: i2, history: l2 } = a2.get;
  let c2 = "";
  if ("click" === r2) {
    switch (s2.id) {
      case "full_history":
        c2 = JSON.stringify(l2(), null, 2);
        break;
      case "history":
        c2 = o2.history();
        break;
      case "lfDataset":
        c2 = JSON.stringify(n2.lfDataset, null, 2);
        break;
      case "settings":
        c2 = JSON.stringify(i2(), null, 2);
    }
    ((e3, t6) => {
      const r3 = window.URL.createObjectURL(new Blob([e3], { type: "application/json" })), s3 = document.createElement("a");
      s3.href = r3, s3.setAttribute("download", t6.id + ".json"), document.body.appendChild(s3), s3.click(), s3.parentNode.removeChild(s3);
    })(c2, s2);
  }
} }), te$1 = (e2) => ({ button: async (t5) => {
  const { comp: r2, eventType: s2, id: a2 } = t5.detail, { get: o2, set: n2 } = e2().controller, { "--lf-icon-previous": i2, "--lf-icon-next": l2 } = o2.manager.theme.get.current().variables;
  if ("click" === s2) switch (a2) {
    case LF_MESSENGER_IDS.chat.leftExpander:
      const e3 = n2.ui.panel("left");
      r2.lfIcon = e3 ? l2 : i2;
      break;
    case LF_MESSENGER_IDS.chat.rightExpander:
      const t6 = n2.ui.panel("right");
      r2.lfIcon = t6 ? i2 : l2;
  }
}, chat: async (t5) => {
  const { comp: r2, eventType: s2, history: a2, status: o2 } = t5.detail, { lfEndpointUrl: n2, lfMaxTokens: i2, lfPollingInterval: l2, lfSystem: c2, lfTemperature: f2 } = r2, { set: h2 } = e2().controller;
  switch (s2) {
    case "config":
      h2.character.chat({ lfEndpointUrl: n2, lfMaxTokens: i2, lfPollingInterval: l2, lfSystem: c2, lfTemperature: f2 });
      break;
    case "polling":
      h2.status.connection(o2);
      break;
    case "update":
      h2.character.history(a2);
  }
}, tabbar: async (t5) => {
  const { eventType: r2, node: s2 } = t5.detail, { current: a2, next: o2, previous: n2 } = e2().controller.set.character;
  if ("click" === r2) switch (s2.id) {
    case "next":
      o2();
      break;
    case "previous":
      n2();
      break;
    default:
      a2(null);
  }
} }), re$1 = (e2) => ({ button: async (t5, r2, s2, a2 = null) => {
  const { eventType: o2 } = t5.detail, n2 = e2(), { get: i2, set: l2 } = n2.controller, { compInstance: c2 } = i2, f2 = c2;
  if ("click" === o2) switch (s2) {
    case "add":
      l2.ui.setFormState(true, r2);
      break;
    case "cancel":
      l2.ui.setFormState(false, r2);
      break;
    case "confirm": {
      const { title: e3 } = n2.elements.refs.customization.form[r2];
      await e3.getValue() ? (await (async (e4, t6) => {
        const { controller: r3, elements: s3 } = e4, { byType: a3 } = r3.get.image, { description: o3, id: n3, imageUrl: i3, title: l3 } = s3.refs.customization.form[t6], c3 = a3(t6), f3 = await n3.getValue(), h2 = c3 == null ? void 0 : c3.find(((e5) => e5.id === f3));
        if (h2) h2.description = await o3.getValue(), h2.cells.lfImage.value = await i3.getValue(), h2.value = await l3.getValue();
        else {
          const e5 = { cells: { lfImage: { shape: "image", value: await i3.getValue() } }, id: f3, description: await o3.getValue(), value: await l3.getValue() };
          c3.push(e5);
        }
      })(n2, r2), l2.ui.setFormState(false, r2), e3.lfUiState = "primary") : (e3.lfHelper = { value: "This field is mandatory" }, e3.lfUiState = "danger");
      break;
    }
    case "delete":
      f2.deleteOption(a2, r2);
      break;
    case "edit":
      l2.ui.setFormState(true, r2, a2);
  }
}, chip: async (t5) => {
  const { comp: r2, eventType: s2, selectedNodes: a2 } = t5.detail, { get: o2, set: n2 } = e2().controller, { compInstance: i2 } = o2, { filters: l2 } = i2.ui;
  switch (s2) {
    case "click":
      const e3 = { avatars: false, locations: false, outfits: false, styles: false, timeframes: false };
      Array.from(a2).forEach(((t7) => {
        e3[t7.id] = true;
      })), n2.ui.filters(e3);
      break;
    case "ready":
      const t6 = [];
      for (const e4 in l2) Object.prototype.hasOwnProperty.call(l2, e4) && l2[e4] && t6.push(e4);
      requestAnimationFrame((() => r2.setSelectedNodes(t6)));
  }
}, image: async (t5, r2, s2) => {
  const { image: a2 } = e2().controller.set, o2 = Object.keys(CHILD_ROOT_MAP).find(((e3) => r2.id.includes(e3)));
  o2 && a2.cover(CHILD_ROOT_MAP[o2], s2);
} }), se$1 = (e2) => ({ button: async (t5) => {
  const { eventType: r2, id: s2 } = t5.detail, { customization: a2 } = e2().controller.set.ui;
  if ("click" === r2) switch (s2) {
    case LF_MESSENGER_IDS.options.customize:
      a2(true);
      break;
    case LF_MESSENGER_IDS.options.back:
      a2(false);
  }
} }), ae$1 = (e2, t5) => ({ ...e2, character: R$3(t5), image: O$3(t5), config: () => {
  const { compInstance: e3 } = t5().controller.get, { currentCharacter: r2, ui: s2 } = e3;
  return { currentCharacter: r2.id, ui: s2 };
}, data: () => {
  const { lfDataset: e3 } = t5().controller.get.compInstance;
  return e3;
}, history: () => {
  const { history: e3 } = t5().controller.get.compInstance;
  return e3;
}, status: { connection: () => {
  const { connectionStatus: e3 } = t5().controller.get.compInstance;
  return e3;
}, formStatus: () => {
  const { formStatusMap: e3 } = t5().controller.get.compInstance;
  return e3;
}, hoveredCustomizationOption: () => {
  const { hoveredCustomizationOption: e3 } = t5().controller.get.compInstance;
  return e3;
}, save: { inProgress: () => {
  const { saveInProgress: e3 } = t5().controller.get.compInstance;
  return e3;
} } }, ui: B$4(t5) }), oe$1 = (e2) => ({ character: A$5(e2), image: P$4(e2), data: () => ((e3) => {
  const { controller: t5 } = e3, { compInstance: r2 } = t5.get;
  r2.save();
})(e2()), status: { connection: (t5) => {
  const { compInstance: r2 } = e2().controller.get;
  r2.connectionStatus = t5;
}, editing: (t5, r2) => {
  const { compInstance: s2 } = e2().controller.get;
  s2.formStatusMap[t5] = r2;
}, hoveredCustomizationOption: (t5) => {
  const { compInstance: r2 } = e2().controller.get;
  r2.hoveredCustomizationOption = t5;
}, save: { inProgress: (t5) => {
  const { compInstance: r2 } = e2().controller.get;
  r2.saveInProgress = t5;
} } }, ui: F$3(e2) }), ne$1 = (e2) => ({ character: H$4(e2), chat: G(e2), customization: K$1(e2), options: Z(e2) }), ie$1 = (e2) => ({ character: ee$1(e2), customization: re$1(e2), chat: te$1(e2), options: se$1(e2) });
var le$1, ce$1, fe$1, he$1, ue$1, de$1, me$1, pe$1, ge$1, be$1, ve$1, ye$1, we$1, ke$1, xe$1, _e$1, ze$1, Ce$1, Ie$1, Se$1, Te$1, Le$1 = function(e2, t5, r2, s2) {
  if ("function" == typeof t5 ? e2 !== t5 || !s2 : !t5.has(e2)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === r2 ? s2 : t5.get(e2);
}, Ee$1 = function(e2, t5, r2, s2, a2) {
  if ("function" == typeof t5 ? e2 !== t5 || true : !t5.has(e2)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return t5.set(e2, r2), r2;
};
const Me$1 = class Me {
  constructor(a2) {
    n(this, a2), this.lfEvent = V$4(this, "lf-messenger-event"), this.chat = {}, this.connectionStatus = "offline", this.covers = {}, this.formStatusMap = IMAGE_TYPE_IDS.reduce(((e2, t5) => (e2[t5] = null, e2)), {}), this.history = {}, this.saveInProgress = false, this.ui = LF_MESSENGER_CLEAN_UI(), this.lfAutosave = true, this.lfDataset = null, this.lfStyle = "", this.lfValue = null, le$1.set(this, void 0), ce$1.set(this, LF_MESSENGER_BLOCKS), fe$1.set(this, CY_ATTRIBUTES), he$1.set(this, LF_ATTRIBUTES), ue$1.set(this, LF_MESSENGER_PARTS), de$1.set(this, LF_STYLE_ID), me$1.set(this, LF_WRAPPER_ID), pe$1.set(this, void 0), ge$1.set(this, (() => {
      const { lfDataset: e2, lfValue: t5 } = this;
      if (M$9(Le$1(this, pe$1, "f"))) for (let t6 = 0; t6 < e2.nodes.length; t6++) {
        const r2 = e2.nodes[t6];
        Le$1(this, ve$1, "f").call(this, r2);
      }
      t5 && Le$1(this, ye$1, "f").call(this);
    })), be$1.set(this, (() => {
      var e2, t5;
      Ee$1(this, pe$1, (e2 = { blocks: Le$1(this, ce$1, "f"), compInstance: this, cyAttributes: Le$1(this, fe$1, "f"), lfAttributes: Le$1(this, he$1, "f"), manager: Le$1(this, le$1, "f"), parts: Le$1(this, ue$1, "f") }, { controller: { get: ae$1(e2, t5 = () => Le$1(this, pe$1, "f")), set: oe$1(t5) }, elements: { jsx: ne$1(t5), refs: { character: { avatar: null, biography: null, save: null, statusIcon: null }, chat: { chat: null, leftExpander: null, rightExpander: null, tabbar: null }, customization: { filters: null, form: { avatars: { add: null, cancel: null, confirm: null, description: null, id: null, imageUrl: null, title: null }, locations: { add: null, cancel: null, confirm: null, description: null, id: null, imageUrl: null, title: null }, outfits: { add: null, cancel: null, confirm: null, description: null, id: null, imageUrl: null, title: null }, styles: { add: null, cancel: null, confirm: null, description: null, id: null, imageUrl: null, title: null }, timeframes: { add: null, cancel: null, confirm: null, description: null, id: null, imageUrl: null, title: null } }, list: { edit: null, remove: null } }, options: { back: null, customize: null } } }, handlers: ie$1(t5) }));
    })), ve$1.set(this, ((e2) => {
      var _a2, _b2;
      const { get: t5 } = Le$1(this, pe$1, "f").controller, r2 = { [e2.id]: IMAGE_TYPE_IDS.reduce(((r3, s3) => (r3[s3] = Number(t5.image.root(s3, e2).value).valueOf() || 0, r3)), {}) }, s2 = (_a2 = e2.children) == null ? void 0 : _a2.find(((e3) => "chat" === e3.id));
      this.chat[e2.id] = {};
      const a3 = (_b2 = s2 == null ? void 0 : s2.cells) == null ? void 0 : _b2.lfChat;
      a3 && ((e3, t6) => {
        const { lfEndpointUrl: r3, lfMaxTokens: s3, lfPollingInterval: a4, lfTemperature: o2 } = e3;
        t6.lfEndpointUrl = r3, t6.lfMaxTokens = s3, t6.lfPollingInterval = a4, t6.lfTemperature = o2;
      })(a3, this.chat[e2.id]), this.history[e2.id] = JSON.stringify((a3 == null ? void 0 : a3.lfValue) || (a3 == null ? void 0 : a3.value) || []), Object.assign(this.covers, r2);
    })), ye$1.set(this, (() => {
      var _a2, _b2;
      const { byId: e2 } = Le$1(this, pe$1, "f").controller.get.character, { lfValue: t5 } = this, r2 = t5.currentCharacter, s2 = ((_a2 = t5.ui) == null ? void 0 : _a2.filters) || LF_MESSENGER_CLEAN_UI().filters, a3 = ((_b2 = t5.ui) == null ? void 0 : _b2.panels) || LF_MESSENGER_CLEAN_UI().panels;
      r2 && (this.currentCharacter = e2(r2));
      for (const e3 in s2) Object.prototype.hasOwnProperty.call(s2, e3) && (this.ui.filters[e3] = s2[e3]);
      for (const e3 in a3) Object.prototype.hasOwnProperty.call(a3, e3) && (this.ui.panels[e3] = a3[e3]);
    })), we$1.set(this, (async () => {
      const { get: e2, set: t5 } = Le$1(this, pe$1, "f").controller, { save: r2 } = Le$1(this, pe$1, "f").elements.refs.character, { covers: s2, history: a3, lfDataset: o2 } = this;
      requestAnimationFrame((() => t5.status.save.inProgress(true)));
      for (let t6 = 0; t6 < o2.nodes.length; t6++) {
        const r3 = o2.nodes[t6], n2 = r3.id, i2 = r3.children.find(((e3) => "chat" === e3.id)), { chat: l2 } = e2.character, c2 = () => {
          IMAGE_TYPE_IDS.forEach(((e3) => {
            const t7 = Le$1(this, pe$1, "f").controller.get.image.root(e3);
            s2[n2] && t7 && (t7.value = s2[n2][e3]);
          }));
        };
        (() => {
          if (a3[n2] && i2) {
            const e3 = JSON.parse(a3[n2]);
            try {
              i2.cells.lfChat.value = e3;
            } catch (t7) {
              i2.cells = { lfChat: { shape: "chat", value: e3 } };
            }
            L$5(i2.cells.lfChat, l2(r3));
          }
        })(), c2();
      }
      this.onLfEvent(new CustomEvent("save"), "save"), requestAnimationFrame((async () => {
        setTimeout((() => requestAnimationFrame((async () => {
          const { "--lf-icon-success": e3 } = Le$1(this, le$1, "f").theme.get.current().variables;
          t5.status.save.inProgress(false), r2.setMessage("Saved!", e3);
        }))), 800);
      }));
    })), ke$1.set(this, (() => {
      const { bemClass: t5 } = Le$1(this, le$1, "f").theme, { character: r2 } = Le$1(this, ce$1, "f"), { controller: s2, elements: a3 } = Le$1(this, pe$1, "f"), { name: o2 } = s2.get.character, { avatar: n2, biography: i2, save: l2, statusIcon: c2 } = a3.jsx.character, { isLeftCollapsed: f2 } = this.ui.panels;
      return D$a("div", { class: t5(r2._, null, { collapsed: f2 }) }, D$a("div", { class: t5(r2._, r2.avatar) }, n2(), D$a("div", { class: t5(r2._, r2.nameWrapper) }, D$a("div", { class: t5(r2._, r2.name) }, c2(), D$a("div", { class: t5(r2._, r2.label) }, o2())), l2())), D$a("div", { class: t5(r2._, r2.biography) }, i2()));
    })), xe$1.set(this, (() => {
      const { bemClass: t5 } = Le$1(this, le$1, "f").theme, { chat: r2 } = Le$1(this, ce$1, "f"), { chat: s2, leftExpander: a3, rightExpander: o2, tabbar: n2 } = Le$1(this, pe$1, "f").elements.jsx.chat;
      return D$a("div", { class: t5(r2._) }, D$a("div", { class: t5(r2._, r2.expander, { left: true }) }, a3()), D$a("div", { class: t5(r2._, r2.navigation) }, n2()), D$a("div", { class: t5(r2._, r2.chat) }, s2()), D$a("div", { class: t5(r2._, r2.expander, { right: true }) }, o2()));
    })), _e$1.set(this, ((t5, r2) => {
      const { bemClass: a3 } = Le$1(this, le$1, "f").theme, { covers: o2 } = Le$1(this, ce$1, "f"), { add: n2 } = Le$1(this, pe$1, "f").elements.jsx.customization.form[t5];
      return D$a(jt$1, null, D$a("div", { class: a3(o2._) }, D$a("div", { class: a3(o2._, o2.title) }, D$a("div", { class: a3(o2._, o2.label) }, t5), n2()), D$a("div", { class: a3(o2._, o2.images) }, r2)));
    })), ze$1.set(this, (() => {
      const { bemClass: t5 } = Le$1(this, le$1, "f").theme, { extraContext: r2 } = Le$1(this, ce$1, "f"), { customization: a3, options: o2 } = Le$1(this, pe$1, "f").elements.jsx, { back: n2, customize: i2 } = o2, { filters: l2 } = a3, { customizationView: c2 } = this.ui, { isRightCollapsed: f2 } = this.ui.panels;
      return D$a("div", { class: t5(r2._, null, { collapsed: f2, input: c2 }) }, c2 ? D$a(jt$1, null, l2(), D$a("div", { class: t5(r2._, r2.list) }, Le$1(this, Ie$1, "f").call(this)), n2()) : D$a(jt$1, null, D$a("div", { class: t5(r2._, r2.options) }, Le$1(this, Se$1, "f").call(this)), i2()));
    })), Ce$1.set(this, ((t5) => {
      const { bemClass: r2 } = Le$1(this, le$1, "f").theme, { form: s2 } = Le$1(this, ce$1, "f"), { cancel: a3, confirm: o2, description: n2, id: i2, imageUrl: l2, title: c2 } = Le$1(this, pe$1, "f").elements.jsx.customization.form[t5], f2 = this.formStatusMap[t5], h2 = Le$1(this, pe$1, "f").controller.get.image.byType(t5).find(((e2) => e2.id === f2));
      return D$a("div", { class: r2(s2._) }, D$a("div", { class: r2(s2._, s2.label) }, "Create ", t5), i2(f2), c2(h2), n2(h2), l2(h2), D$a("div", { class: r2(s2._, s2.confirm) }, a3(), o2()));
    })), Ie$1.set(this, (() => {
      const { bemClass: t5 } = Le$1(this, le$1, "f").theme, { list: r2 } = Le$1(this, ce$1, "f"), { controller: a3, elements: o2, handlers: n2 } = Le$1(this, pe$1, "f"), { byType: i2, coverIndex: l2, title: c2 } = a3.get.image, { edit: f2, remove: h2 } = o2.jsx.customization.list, { image: u2 } = n2.customization, { formStatusMap: d2, hoveredCustomizationOption: m2, ui: p2 } = this, { filters: b2 } = p2;
      return D$a(jt$1, null, IMAGE_TYPE_IDS.map(((a4) => {
        if (b2[a4]) {
          const o3 = d2[a4], n3 = l2(a4), p3 = i2(a4).map(((s2, o4) => {
            var _a2, _b2;
            return D$a("div", { class: t5(r2._, null, { selected: n3 === o4 }), onClick: (e2) => u2(e2, s2, o4), onPointerEnter: () => {
              n3 !== o4 && (this.hoveredCustomizationOption = s2);
            }, onPointerLeave: () => this.hoveredCustomizationOption = null }, D$a("img", { alt: c2(s2), class: t5(r2._, r2.image), "data-lf": Le$1(this, he$1, "f").fadeIn, src: (_b2 = (_a2 = s2 == null ? void 0 : s2.cells) == null ? void 0 : _a2.lfImage) == null ? void 0 : _b2.value, title: c2(s2) }), m2 === s2 && D$a("div", { class: t5(r2._, r2.actions), onClick: (e2) => e2.stopPropagation() }, f2(a4, s2), h2(a4, s2)));
          }));
          return D$a(jt$1, null, o3 ? Le$1(this, Ce$1, "f").call(this, a4) : Le$1(this, _e$1, "f").call(this, a4, p3));
        }
        return null;
      })));
    })), Se$1.set(this, (() => {
      const { bemClass: t5 } = Le$1(this, le$1, "f").theme;
      return OPTION_TYPE_IDS.map(((r2) => {
        const { options: a3 } = Le$1(this, ce$1, "f"), { image: o2 } = Le$1(this, pe$1, "f").controller.get, { asCover: n2 } = o2, { ui: i2 } = this, { value: l2, node: c2, title: f2 } = n2(r2), h2 = i2.options[r2], u2 = r2.slice(0, -1), d2 = l2, m2 = c2 ? Le$1(this, le$1, "f").theme.get.icon(h2 ? "hexagonMinus2" : "offHexagon") : d2, { style: p2 } = Le$1(this, le$1, "f").assets.get(`./assets/svg/${m2}.svg`);
        return D$a("div", { class: t5(a3._, a3.wrapper) }, c2 ? D$a(jt$1, null, D$a("img", { alt: f2, class: t5(a3._, a3.cover), "data-lf": Le$1(this, he$1, "f").fadeIn, src: l2 }), D$a("div", { class: t5(a3._, a3.blocker, { active: !h2 }), onClick: () => {
          i2.options[r2] = !h2, this.refresh();
        } }, D$a("div", { class: t5(a3._, a3.blockerIcon), style: p2 }), D$a("div", { class: t5(a3._, a3.blockerLabel) }, h2 ? "Click to disable" : "Click to enable"))) : D$a("div", { class: t5(a3._, a3.placeholder), title: `No ${u2} selected.` }, D$a("div", { class: t5(a3._, a3.placeholderIcon), style: p2 })), D$a("div", { class: t5(a3._, a3.name) }, D$a("div", { class: t5(a3._, a3.label), title: `Active ${u2}.` }, u2), f2 && D$a("div", { class: t5(a3._, a3.info), title: f2 })));
      }));
    })), Te$1.set(this, (() => {
      const { bemClass: t5 } = Le$1(this, le$1, "f").theme, { roster: r2 } = Le$1(this, ce$1, "f"), { get: s2, set: a3 } = Le$1(this, pe$1, "f").controller, o2 = [];
      return s2.character.list().forEach(((n2) => {
        const i2 = s2.image.asCover("avatars", n2);
        o2.push(D$a("div", { class: t5(r2._, r2.portrait), onClick: () => {
          a3.character.current(n2);
        } }, D$a("img", { class: t5(r2._, r2.image), src: i2.value, title: i2.title || "" }), D$a("div", { class: t5(r2._, r2.name) }, D$a("div", { class: t5(r2._, r2.label) }, s2.character.name(n2)))));
      })), (o2 == null ? void 0 : o2.length) ? o2 : D$a("div", { class: t5(r2._, r2.emptyData) }, "There are no characters in your roster!");
    }));
  }
  onLfEvent(e2, t5) {
    const { currentCharacter: r2, rootElement: s2, ui: a2 } = this;
    this.lfEvent.emit({ comp: this, id: s2.id, originalEvent: e2, eventType: t5, config: { currentCharacter: r2 == null ? void 0 : r2.id, ui: a2 } });
  }
  async deleteOption(e2, t5) {
    const { root: r2 } = Le$1(this, pe$1, "f").controller.get.image, s2 = r2(t5), a2 = s2.children.indexOf(e2);
    a2 > -1 && (s2.children.splice(a2, 1), this.refresh());
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const e2 = LF_MESSENGER_PROPS.map(((e3) => [e3, this[e3]]));
    return Object.fromEntries(e2);
  }
  async refresh() {
    pt(this);
  }
  async reset() {
    this.covers = {}, this.currentCharacter = null, this.history = {}, Le$1(this, ge$1, "f").call(this);
  }
  async save() {
    Le$1(this, we$1, "f").call(this);
  }
  async unmount(e2 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), e2);
  }
  connectedCallback() {
    Le$1(this, le$1, "f") && Le$1(this, le$1, "f").theme.register(this);
  }
  async componentWillLoad() {
    Ee$1(this, le$1, await a(this)), Le$1(this, be$1, "f").call(this), Le$1(this, ge$1, "f").call(this);
  }
  componentDidLoad() {
    const { info: e2 } = Le$1(this, le$1, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), e2.update(this, "did-load");
  }
  componentWillRender() {
    const { info: e2 } = Le$1(this, le$1, "f").debug;
    e2.update(this, "will-render");
  }
  componentDidRender() {
    const { info: e2 } = Le$1(this, le$1, "f").debug;
    e2.update(this, "did-render");
  }
  render() {
    const { bemClass: t5, setLfStyle: r2 } = Le$1(this, le$1, "f").theme;
    if (!M$9(Le$1(this, pe$1, "f"))) return;
    const { messenger: s2, roster: a2 } = Le$1(this, ce$1, "f"), { lfStyle: n2 } = this;
    return D$a(W$e, null, n2 && D$a("style", { id: Le$1(this, de$1, "f") }, r2(this)), D$a("div", { id: Le$1(this, me$1, "f") }, this.currentCharacter ? D$a("div", { class: t5(s2._), part: Le$1(this, ue$1, "f").messenger }, Le$1(this, ke$1, "f").call(this), Le$1(this, xe$1, "f").call(this), Le$1(this, ze$1, "f").call(this)) : D$a("div", { class: t5(a2._), part: Le$1(this, ue$1, "f").roster }, Le$1(this, Te$1, "f").call(this))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = Le$1(this, le$1, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
le$1 = /* @__PURE__ */ new WeakMap(), ce$1 = /* @__PURE__ */ new WeakMap(), fe$1 = /* @__PURE__ */ new WeakMap(), he$1 = /* @__PURE__ */ new WeakMap(), ue$1 = /* @__PURE__ */ new WeakMap(), de$1 = /* @__PURE__ */ new WeakMap(), me$1 = /* @__PURE__ */ new WeakMap(), pe$1 = /* @__PURE__ */ new WeakMap(), ge$1 = /* @__PURE__ */ new WeakMap(), be$1 = /* @__PURE__ */ new WeakMap(), ve$1 = /* @__PURE__ */ new WeakMap(), ye$1 = /* @__PURE__ */ new WeakMap(), we$1 = /* @__PURE__ */ new WeakMap(), ke$1 = /* @__PURE__ */ new WeakMap(), xe$1 = /* @__PURE__ */ new WeakMap(), _e$1 = /* @__PURE__ */ new WeakMap(), ze$1 = /* @__PURE__ */ new WeakMap(), Ce$1 = /* @__PURE__ */ new WeakMap(), Ie$1 = /* @__PURE__ */ new WeakMap(), Se$1 = /* @__PURE__ */ new WeakMap(), Te$1 = /* @__PURE__ */ new WeakMap(), Me$1.style = '.character{transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);display:grid;grid-template-rows:minmax(auto, 40%) minmax(auto, 1fr);height:100%;overflow:auto;position:relative}.character--collapsed{overflow:hidden;width:0}.character__image{width:100%;height:100%;display:block;object-fit:cover}.character__name{color:rgb(var(--lf-messenger-color-on-surface, var(--lf-color-on-surface)));align-items:center;display:flex}.character__status{border-radius:50%;height:1em;margin-right:0.5em;width:1em}.character__status--offline{background-color:rgba(var(--lf-messenger-color-danger, var(--lf-color-danger)), 0.75);color:rgb(var(--lf-messenger-color-on-danger, var(--lf-color-on-danger)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.character__status--online{background-color:rgba(var(--lf-messenger-color-success, var(--lf-color-success)), 0.75);color:rgb(var(--lf-messenger-color-on-success, var(--lf-color-on-success)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.character__name-wrapper{background-color:rgba(var(--lf-messenger-color-surface, var(--lf-color-surface)), 0.75);color:rgb(var(--lf-messenger-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;align-items:center;box-sizing:border-box;display:flex;height:var(--lf-messenger-name-height, 3em);justify-content:space-between;left:0;padding-left:var(--lf-messenger-avatar-name-padding, 0.5em);position:absolute;top:0;width:100%}.character__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.character__biography{overflow:auto}.chat{display:grid;grid-template-areas:"nav nav nav" "expander-l chat expander-r";grid-template-columns:auto 1fr auto;grid-template-rows:auto 1fr;height:100%;overflow:auto}.chat__expander--left{grid-area:expander-l}.chat__expander--right{grid-area:expander-r}.chat__navigation{grid-area:nav}.chat__chat{grid-area:chat;overflow:auto}.covers{display:grid;grid-template-rows:auto 1fr;height:100%}.covers__title{background-color:rgba(var(--lf-messenger-color-surface, var(--lf-color-surface)), 0.75);color:rgb(var(--lf-messenger-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:sticky;top:0;z-index:calc(var(--lf-ui-zindex-header) - 1);font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;align-items:center;display:flex;justify-content:space-between}.covers__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:var(--lf-messenger-customization-title-padding, 0.5em)}.covers__images{display:grid;grid-template-columns:repeat(3, 1fr);overflow:auto;width:100%}.extra-context{transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);display:grid;grid-template-rows:1fr auto;height:100%;overflow:auto}.extra-context--collapsed{overflow:hidden;width:0}.extra-context--input{grid-template-rows:auto 1fr auto}.extra-context__options{display:grid;grid-template-columns:repeat(2, 50%);grid-template-rows:repeat(2, 50%)}.extra-context__list{display:grid;overflow:auto}.form__button{margin:0 0.25em;padding:1em 0}.form__confirm{display:flex;justify-content:center}.form__field{margin:0.5em 0}.form__label{background-color:rgba(var(--lf-messenger-color-surface, var(--lf-color-surface)), 0.375);color:rgb(var(--lf-messenger-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;display:flex;justify-content:center;padding:var(--lf-messenger-customization-title-padding, 0.5em)}.list{position:relative}.list:after{width:100%;height:100%;transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:none;content:"";left:0;position:absolute;top:0}.list:hover:not(.list--selected):after{box-shadow:inset 0 0 5px 3px rgb(var(--lf-messenger-color-primary, --lf-color-primary, white));pointer-events:none}.list--selected:after{background-color:rgba(var(--lf-messenger-color-surface, var(--lf-color-surface)), 0.875);color:rgb(var(--lf-messenger-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;align-content:center;content:"Current";cursor:default;letter-spacing:0.25em;position:absolute;text-align:center}.list__actions{background-color:rgba(var(--lf-messenger-color-surface, var(--lf-color-surface)), 0.75);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);bottom:0;display:flex;left:0;overflow:hidden;position:absolute;width:100%}.list__image{width:100%;height:100%;cursor:pointer;display:block;min-height:16em;object-fit:cover}.options__wrapper{overflow:hidden;position:relative}.options__cover{width:100%;height:100%;display:block;object-fit:cover}.options__placeholder{width:100%;height:100%;box-sizing:border-box;padding:20% 20% 40% 20%}.options__placeholder-icon{background-color:rgba(var(--lf-messenger-color-on-surface, var(--lf-color-on-surface)), 0.375);height:100%;width:100%;overflow:hidden}.options__blocker{background-color:rgba(var(--lf-messenger-color-surface, var(--lf-color-surface)), 0.775);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%;transition:opacity 200ms cubic-bezier(0.4, 0, 0.6, 1);align-content:center;box-sizing:border-box;cursor:pointer;display:grid;grid-template-rows:50% 1fr;left:0;opacity:0;padding:20% 20% 40% 20%;position:absolute;top:0}.options__blocker:hover{opacity:1}.options__blocker--active{opacity:0.875}.options__blocker-icon{background-color:rgba(var(--lf-messenger-color-on-surface, var(--lf-color-on-surface)), 0.75);height:100%;width:100%;overflow:hidden}.options__blocker-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;padding-top:0.75em;text-align:center}.options__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;margin-left:0.5em}.options__info{-webkit-mask:var(--lf-icon-info);mask:var(--lf-icon-info);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-messenger-color-on-surface, var(--lf-color-on-surface)), 0.75);height:1em;width:1em;overflow:hidden;cursor:help;margin-left:0.275em}.options__name{align-items:center;background:var(--lf-messenger-name-background-color, rgb(var(--lf-color-surface)));bottom:0;box-sizing:border-box;display:flex;overflow:hidden;padding:var(--lf-messenger-active-options-name-padding, 0.5em);position:absolute;width:100%}.roster{display:grid;grid-template-columns:repeat(4, 1fr);height:100%;overflow:auto;width:100%}.roster__image{width:100%;height:100%;display:block;object-fit:cover}.roster__portrait{--lf-messenger-name-background-color:rgba(var(--lf-color-bg), 0.375);--lf-messenger-portrait-foredrop-color:rgba(var(--lf-color-bg), 0.275);cursor:pointer;overflow:auto;position:relative}.roster__portrait:hover{--lf-messenger-name-background-color:rgba(var(--lf-color-bg), 0.775);--lf-messenger-portrait-foredrop-color:rgba(var(--lf-color-bg), 0)}.roster__portrait:after{width:100%;height:100%;transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--lf-messenger-portrait-foredrop-color);content:"";left:0;pointer-events:none;position:absolute;top:0}.roster__name{transition:all 200ms cubic-bezier(0.4, 0, 0.6, 1);align-items:center;backdrop-filter:blur(5px);background-color:var(--lf-messenger-name-background-color);bottom:0;display:flex;height:var(--lf-messenger-name-height, 2.5em);left:0;position:absolute;width:100%}.roster__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;letter-spacing:0.225em;text-align:center;width:100%}::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-messenger-font-family, var(--lf-font-family-primary));font-size:var(--lf-messenger-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-messenger-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-messenger-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-messenger-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-messenger-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-messenger-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-messenger-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-messenger-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%;box-sizing:border-box}.messenger{width:100%;height:100%;display:grid;grid-template-columns:1fr 3fr 1fr;position:relative}.messenger:has(.character--collapsed){grid-template-columns:0 4fr 1fr}.messenger:has(.extra-context--collapsed){grid-template-columns:1fr 4fr 0}.messenger:has(.character--collapsed):has(.extra-context--collapsed){grid-template-columns:0 1fr 0}';
const p28dd0bff_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_messenger: Me$1
}, Symbol.toStringTag, { value: "Module" }));
var m$7, u$7, v$7, g$7, y$9, w$a, k$a, z$b, x$a, _$7, M$8, W$a = function(r2, e2, i2, l2) {
  if ("function" == typeof e2 ? r2 !== e2 || true : !e2.has(r2)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return e2.get(r2);
}, E$9 = function(r2, e2, i2, l2, a2) {
  if ("function" == typeof e2 ? r2 !== e2 || true : !e2.has(r2)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return e2.set(r2, i2), i2;
};
const C$9 = class C {
  constructor(i2) {
    n(this, i2), this.lfEvent = V$4(this, "lf-slider-event"), this.value = { display: 0, real: 0 }, this.lfLabel = "", this.lfLeadingLabel = false, this.lfMax = 100, this.lfMin = 0, this.lfStep = 1, this.lfRipple = true, this.lfStyle = "", this.lfUiSize = "medium", this.lfUiState = "primary", this.lfValue = 50, m$7.set(this, void 0), u$7.set(this, LF_SLIDER_BLOCKS), v$7.set(this, CY_ATTRIBUTES), g$7.set(this, LF_ATTRIBUTES), y$9.set(this, LF_SLIDER_PARTS), w$a.set(this, LF_STYLE_ID), k$a.set(this, LF_SLIDER_CSS_VARIABLES), z$b.set(this, LF_WRAPPER_ID), x$a.set(this, void 0), _$7.set(this, void 0), M$8.set(this, (() => "disabled" === this.lfUiState));
  }
  onLfEvent(r2, e2) {
    const { effects: i2 } = W$a(this, m$7);
    switch (e2) {
      case "change":
        this.setValue(+W$a(this, x$a).value), this.refresh();
        break;
      case "input":
        this.value.display = +W$a(this, x$a).value, this.refresh();
        break;
      case "pointerdown":
        this.lfRipple && i2.ripple(r2, W$a(this, _$7));
    }
    this.lfEvent.emit({ comp: this, eventType: e2, id: this.rootElement.id, originalEvent: r2, value: this.value });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const r2 = LF_SLIDER_PROPS.map(((r3) => [r3, this[r3]]));
    return Object.fromEntries(r2);
  }
  async getValue() {
    return this.value;
  }
  async refresh() {
    pt(this);
  }
  async setValue(r2) {
    this.value = { display: r2, real: r2 };
  }
  async unmount(r2 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), r2);
  }
  connectedCallback() {
    W$a(this, m$7) && W$a(this, m$7).theme.register(this);
  }
  async componentWillLoad() {
    E$9(this, m$7, await a(this));
    const { lfValue: r2 } = this;
    r2 && this.setValue(r2);
  }
  componentDidLoad() {
    const { debug: r2 } = W$a(this, m$7);
    this.onLfEvent(new CustomEvent("ready"), "ready"), r2.info.update(this, "did-load");
  }
  componentWillRender() {
    const { info: r2 } = W$a(this, m$7).debug;
    r2.update(this, "will-render");
  }
  componentDidRender() {
    const { info: r2 } = W$a(this, m$7).debug;
    r2.update(this, "did-render");
  }
  render() {
    const { bemClass: r2, setLfStyle: e2 } = W$a(this, m$7).theme, { formField: i2, slider: t5 } = W$a(this, u$7), { lfLabel: o2, lfLeadingLabel: s2, lfMax: n2, lfMin: f2, lfRipple: d2, lfStep: c2, lfStyle: h2, value: p2 } = this;
    return D$a(W$e, { key: "8f82ee6cd1dffdb81f07d1e83810bc4302fa7398" }, D$a("style", { key: "faf803d88ef839aa820e43a48d0b765039c4b0b8", id: W$a(this, w$a) }, `
            :host {
              ${W$a(this, k$a).value}: ${(p2.display - f2) / (n2 - f2) * 100}%;
            }
          ${h2 && e2(this) || ""}`), D$a("div", { key: "84a3d75382ba4674c87f07ed67ed8934abc812b0", id: W$a(this, z$b) }, D$a("div", { key: "4e52a29997143eb6355c643925b84d7cf8f6ef2d", class: r2(i2._, null, { leading: s2 }), part: W$a(this, y$9).formField }, D$a("div", { key: "84da6408a117b44f452e675e211e42ff49adda2f", class: r2(t5._, null, { "has-value": p2.display > f2, disabled: W$a(this, M$8).call(this) }), "data-lf": W$a(this, g$7)[this.lfUiState], part: W$a(this, y$9).slider }, D$a("input", { key: "853c7de168bda53dddc3985f8258ab1f8cd65fe0", type: "range", class: r2(t5._, t5.nativeControl), "data-cy": W$a(this, v$7).input, disabled: W$a(this, M$8).call(this), max: n2, min: f2, onBlur: (r3) => {
      this.onLfEvent(r3, "blur");
    }, onChange: (r3) => {
      this.onLfEvent(r3, "change");
    }, onFocus: (r3) => {
      this.onLfEvent(r3, "focus");
    }, onInput: (r3) => {
      this.onLfEvent(r3, "input");
    }, onPointerDown: (r3) => {
      this.onLfEvent(r3, "pointerdown");
    }, part: W$a(this, y$9).nativeControl, ref: (r3) => {
      r3 && E$9(this, x$a, r3);
    }, step: c2, value: p2.real }), D$a("div", { key: "54c390ac3f085b0183de9439e5b98a95d388025f", class: r2(t5._, t5.track) }, D$a("div", { key: "9d40003e9a5282121c81a134f0f244c89fe5c587", class: r2(t5._, t5.thumbUnderlay) }, D$a("div", { key: "3434a7859bb8aa2fc1c5974a7cbcce20d9b8899c", class: r2(t5._, t5.thumb), "data-cy": W$a(this, v$7).rippleSurface, "data-lf": W$a(this, g$7).rippleSurface, part: W$a(this, y$9).thumb, ref: (r3) => {
      d2 && E$9(this, _$7, r3);
    } }))), D$a("span", { key: "b9bb3173b021053ed83ac20add992b32d0206aff", class: r2(t5._, t5.value), part: W$a(this, y$9).value }, p2.display)), D$a("label", { key: "bab064df0606e7d0c6fe874bb92784f6451b0357", class: r2(i2._, i2.label), part: W$a(this, y$9).label }, o2))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = W$a(this, m$7)) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
m$7 = /* @__PURE__ */ new WeakMap(), u$7 = /* @__PURE__ */ new WeakMap(), v$7 = /* @__PURE__ */ new WeakMap(), g$7 = /* @__PURE__ */ new WeakMap(), y$9 = /* @__PURE__ */ new WeakMap(), w$a = /* @__PURE__ */ new WeakMap(), k$a = /* @__PURE__ */ new WeakMap(), z$b = /* @__PURE__ */ new WeakMap(), x$a = /* @__PURE__ */ new WeakMap(), _$7 = /* @__PURE__ */ new WeakMap(), M$8 = /* @__PURE__ */ new WeakMap(), C$9.style = '::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=danger]{--lf-slider-color-primary:var(\n    --lf-slider-color-danger,\n    var(--lf-color-danger)\n  );--lf-slider-color-on-primary:var(\n    --lf-slider-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-slider-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-slider-color-primary:var(\n    --lf-slider-color-info,\n    var(--lf-color-info)\n  );--lf-slider-color-on-primary:var(\n    --lf-slider-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-slider-color-primary:var(\n    --lf-slider-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-slider-color-on-primary:var(\n    --lf-slider-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-slider-color-primary:var(\n    --lf-slider-color-success,\n    var(--lf-color-success)\n  );--lf-slider-color-on-primary:var(\n    --lf-slider-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-slider-color-primary:var(\n    --lf-slider-color-warning,\n    var(--lf-color-warning)\n  );--lf-slider-color-on-primary:var(\n    --lf-slider-color-warning,\n    var(--lf-color-on-warning)\n  )}:host{display:block;font-family:var(--lf-slider-font-family, var(--lf-font-family-primary));font-size:var(--lf-slider-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-slider-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-slider-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-slider-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-slider-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-slider-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-slider-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-slider-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}.form-field{color:rgb(var(--lf-slider-color-on-bg, var(--lf-color-on-bg)));width:100%;height:100%;font-size:0.875em;font-weight:500;line-height:1.5em;letter-spacing:0.01em;align-items:center;box-sizing:border-box;display:inline-flex;padding:var(--lf-slider-padding, 2em 0.5em);vertical-align:middle}.form-field__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:var(--lf-slider-label-min-width, max-content);padding-left:var(--lf-slider-label-padding-left, 1.5em)}.form-field--leading .form-field__label{margin-left:auto;margin-right:0;order:-1;padding-left:0;padding-right:var(--lf-slider-label-padding-right, 1.5em)}.slider{display:block;position:relative;outline:none;margin:var(--lf-slider-margin, 0 0.75em);min-width:var(--lf-slider-min-width, 7em);user-select:none;width:100%}.slider--has-value .slider__track:after{border:0;border-style:solid;border-radius:var(--lf-slider-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-slider-color-primary, var(--lf-color-primary)), 0.75);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 300ms cubic-bezier(0.5, 1.7, 0.2, 1);position:absolute;content:"";height:100%;left:0;top:0;width:var(--lf_slider_value)}.slider__label{cursor:pointer;margin-left:0;margin-right:auto;padding-left:var(--lf-slider-label-padding-left, 0.5em);padding-right:0;user-select:none}.slider__value{color:rgb(var(--lf-slider-color-on-bg, var(--lf-color-on-bg)));font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;bottom:var(--lf-slider-value-bottom-position, -3em);left:50%;position:absolute;transform:translateX(-50%);white-space:nowrap}.slider__track{border:0;border-style:solid;border-radius:var(--lf-slider-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-slider-color-primary, var(--lf-color-primary)), 0.25);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 300ms cubic-bezier(0.5, 1.7, 0.2, 1);box-shadow:var(--lf-slider-box-shadow, 0 0.25em 0.5em rgba(var(--lf-comp-color-on-bg, var(--lf-color-on-bg)), 0.2));box-sizing:border-box;height:var(--lf-slider-track-height, 0.5em);width:100%}.slider__thumb-underlay{transition:all 300ms cubic-bezier(0.5, 1.7, 0.2, 1);align-items:center;border-radius:50%;display:flex;height:var(--lf-slider-thumb-height, 1.25em);justify-content:center;left:var(--lf_slider_value);pointer-events:none;position:absolute;top:var(--lf-slider-thumb-underlay-top, -0.6em);transform:translateX(-50%);width:var(--lf-slider-thumb-width, 1.25em)}.slider__thumb{background-color:rgba(var(--lf-slider-color-primary, var(--lf-color-primary)), 0.6);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 300ms cubic-bezier(0.5, 1.7, 0.2, 1);border-radius:50%;box-shadow:var(--lf-slider-thumb-box-shadow, 0 0.25em 0.5em rgba(var(--lf-comp-color-on-bg, var(--lf-color-on-bg)), 0.2));cursor:pointer;height:var(--lf-slider-thumb-height, 1.5em);width:var(--lf-slider-thumb-width, 1.5em)}.slider__thumb:hover{background-color:rgba(var(--lf-slider-color-primary, var(--lf-color-primary)), 0.8);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transform:scale(var(--lf-slider-thumb-hover-scale, 1.1))}.slider__native-control{cursor:pointer;height:var(--lf-slider-input-height, 3em);left:0;opacity:0;position:absolute;top:calc(var(--lf-slider-input-height, 3em) / -2);width:100%;z-index:2}';
const p36aa4a7f_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_slider: C$9
}, Symbol.toStringTag, { value: "Module" }));
var wt, xt, kt, Mt, zt, St, Ct = function(t5, i2, n2, r2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return i2.get(t5);
};
const At = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-badge-event"), this.lfImageProps = null, this.lfLabel = "", this.lfPosition = "top-left", this.lfStyle = "", this.lfUiSize = "medium", this.lfUiState = "primary", wt.set(this, void 0), xt.set(this, LF_BADGE_BLOCKS), kt.set(this, LF_ATTRIBUTES), Mt.set(this, LF_BADGE_PARTS), zt.set(this, LF_STYLE_ID), St.set(this, LF_WRAPPER_ID);
  }
  onLfEvent(t5, i2) {
    this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_BADGE_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    Ct(this, wt) && Ct(this, wt).theme.register(this);
  }
  async componentWillLoad() {
    !(function(t5, i2, n2, r2, e2) {
      if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
      i2.set(t5, n2);
    })(this, wt, await a(this));
  }
  componentDidLoad() {
    const { info: t5 } = Ct(this, wt).debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = Ct(this, wt).debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = Ct(this, wt).debug;
    t5.update(this, "did-render");
  }
  render() {
    const { sanitizeProps: t5, theme: i2 } = Ct(this, wt), { bemClass: n2, setLfStyle: o2 } = i2, { lfImageProps: a2, lfLabel: s2, lfStyle: l2 } = this, u2 = "inline" === this.lfPosition, [f2, c2] = u2 ? [null, null] : this.lfPosition.split("-"), h2 = "bottom" === f2 ? "bottom" : "top", d2 = "right" === c2 ? "right" : "left", p2 = "right" === c2 ? "50%" : "-50%", m2 = "bottom" === f2 ? "50%" : "-50%", { badge: b2 } = Ct(this, xt);
    return D$a(W$e, null, D$a("style", { id: Ct(this, zt) }, (() => {
      const t6 = {}, { transform: i3 } = LF_BADGE_CSS_VARS;
      return u2 ? t6[i3] = "none" : (t6[h2] = "0", t6[d2] = "0", t6[i3] = `translate(${p2}, ${m2})`), `:host { ${Object.entries(t6).map((([t7, i4]) => `${t7}: ${i4}`)).join("; ")} }
${l2 && o2(this) || ""}`;
    })()), D$a("div", { id: Ct(this, St) }, D$a("div", { class: n2(b2._), "data-lf": Ct(this, kt)[this.lfUiState], onClick: (t6) => this.onLfEvent(t6, "click"), part: Ct(this, Mt).badge }, s2 || a2 && D$a("lf-image", { class: n2(b2._, b2.image), part: Ct(this, Mt).image, ...t5(a2, "LfImage") }) || null)));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = Ct(this, wt)) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
wt = /* @__PURE__ */ new WeakMap(), xt = /* @__PURE__ */ new WeakMap(), kt = /* @__PURE__ */ new WeakMap(), Mt = /* @__PURE__ */ new WeakMap(), zt = /* @__PURE__ */ new WeakMap(), St = /* @__PURE__ */ new WeakMap(), At.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=danger]{--lf-badge-color-primary:var(\n    --lf-badge-color-danger,\n    var(--lf-color-danger)\n  );--lf-badge-color-on-primary:var(\n    --lf-badge-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-badge-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-badge-color-primary:var(\n    --lf-badge-color-info,\n    var(--lf-color-info)\n  );--lf-badge-color-on-primary:var(\n    --lf-badge-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-badge-color-primary:var(\n    --lf-badge-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-badge-color-on-primary:var(\n    --lf-badge-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-badge-color-primary:var(\n    --lf-badge-color-success,\n    var(--lf-color-success)\n  );--lf-badge-color-on-primary:var(\n    --lf-badge-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-badge-color-primary:var(\n    --lf-badge-color-warning,\n    var(--lf-color-warning)\n  );--lf-badge-color-on-primary:var(\n    --lf-badge-color-warning,\n    var(--lf-color-on-warning)\n  )}:host{display:block;font-family:var(--lf-badge-font-family, var(--lf-font-family-primary));font-size:var(--lf-badge-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-badge-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-badge-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-badge-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-badge-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-badge-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-badge-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-badge-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{position:absolute;transform:var(--lf_badge_transform, translate(-50%, -50%))}:host([lf-position=inline]){display:inline-flex;position:static;transform:var(--lf_badge_transform, none)}.badge{background-color:rgba(var(--lf-badge-color-primary, var(--lf-color-primary)), 1);color:rgb(var(--lf-badge-color-on-primary, var(--lf-color-on-primary)));overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;border-radius:var(--lf-badge-border-radius, 50%);height:var(--lf-badge-height, 1.5em);padding:var(--lf-badge-padding, 0.25em);place-content:var(--lf-comp-place-content, center);text-align:center;width:var(--lf-badge-width, 1.5em)}.badge__image{--lf-image-color-primary:var(\n    --lf-badge-color-on-primary,\n    var(--lf-color-on-primary)\n  );left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}";
const Nt = (t5, i2 = false) => {
  const { controller: n2 } = t5, { blocks: e2, compInstance: o2, cyAttributes: a2, isOn: s2, manager: l2, parts: u2 } = n2.get, { lfIcon: f2, lfIconOff: c2, lfToggable: h2 } = o2, { assets: v2, theme: p2 } = l2, { bemClass: m2, get: b2 } = p2;
  let g3 = "";
  if (i2) g3 = b2.current().variables[LF_THEME_ICONS.dropdown];
  else {
    const t6 = c2 || `off-${f2}`;
    g3 = h2 && !s2() ? t6 : f2;
  }
  const { style: y2 } = v2.get(`./assets/svg/${g3}.svg`);
  return D$a("div", { class: m2(e2.button._, e2.button.icon), "data-cy": a2.maskedSvg, part: u2.icon, style: y2 });
}, _t = (t5) => {
  const { controller: i2 } = t5, { blocks: n2, compInstance: e2, isDisabled: o2, manager: a2, parts: s2 } = i2.get, { lfLabel: l2, lfShowSpinner: u2 } = e2, { bemClass: f2 } = a2.theme;
  return D$a("span", { class: f2(n2.button._, n2.button.label, { hidden: u2 && !o2() }), part: s2.label }, l2);
}, Tt = (t5, i2 = false) => {
  const { controller: n2, elements: e2 } = t5, { compInstance: o2, cyAttributes: a2, lfAttributes: s2, parts: l2 } = n2.get, { refs: u2 } = e2, { lfRipple: f2 } = o2;
  return f2 && D$a("div", { "data-cy": a2.rippleSurface, "data-lf": s2.rippleSurface, part: i2 ? l2.dropdownRipple : l2.rippleSurface, ref: (t6) => {
    t6 && f2 && (i2 ? u2.dropdownRipple = t6 : u2.ripple = t6);
  } });
}, It = (t5) => {
  const { controller: i2 } = t5, { blocks: n2, compInstance: e2, manager: o2, parts: a2 } = i2.get, { lfShowSpinner: s2 } = e2, { bemClass: l2 } = o2.theme;
  return s2 && D$a("lf-spinner", { class: l2(n2.button._, n2.button.spinner), lfActive: s2, lfDimensions: ".625em", part: a2.spinner });
}, Lt = (t5) => ({ list: (i2 = "toggle") => {
  const n2 = t5(), { controller: r2, elements: e2 } = n2, { manager: o2 } = r2.get, { dropdown: a2, list: s2 } = e2.refs, { close: l2, isInPortal: u2, open: f2 } = o2.portal;
  switch (i2) {
    case "close":
      l2(s2);
      break;
    case "open":
      f2(s2, a2);
      break;
    default:
      u2(s2) ? l2(s2) : f2(s2, a2);
  }
} }), Dt = (t5) => /* @__PURE__ */ ((t6) => ({ button: () => {
  const i2 = t6(), { controller: n2, elements: e2 } = i2, { blocks: o2, compInstance: a2, cyAttributes: s2, isDisabled: l2, lfAttributes: u2, manager: f2, parts: c2, styling: h2 } = n2.get, { lfAriaLabel: v2, lfIcon: d2, lfLabel: p2, lfShowSpinner: m2, lfTrailingIcon: b2, lfType: g3, lfUiState: y2, rootElement: w3 } = a2, { assignRef: x2, theme: k2 } = f2, { bemClass: M2 } = k2, { refs: z2 } = e2, S3 = a2, C3 = (v2 || p2 || d2 || w3.id || "button").trim();
  return D$a("button", { "aria-label": C3, class: M2(o2.button._, null, { [h2()]: true, disabled: l2(), "has-spinner": m2, "no-label": !p2 || " " === p2 }), "data-cy": s2.button, "data-lf": u2[y2], disabled: l2(), onBlur: (t7) => S3.onLfEvent(t7, "blur"), onClick: (t7) => S3.onLfEvent(t7, "click"), onFocus: (t7) => S3.onLfEvent(t7, "focus"), onPointerDown: (t7) => S3.onLfEvent(t7, "pointerdown"), part: c2.button, ref: x2(z2, "button"), type: g3 ?? "button" }, Tt(i2), b2 ? [_t(i2), d2 && Nt(i2)] : [d2 && Nt(i2), _t(i2)], It(i2));
}, dropdown: () => {
  const i2 = t6(), { controller: n2, elements: e2, handlers: o2 } = i2, { blocks: s2, compInstance: l2, cyAttributes: u2, isDisabled: f2, lfAttributes: c2, manager: h2, parts: v2, styling: d2 } = n2.get, { list: p2 } = n2.set, { lfDataset: m2, lfUiState: b2 } = l2, { assignRef: g3, theme: y2 } = h2, { bemClass: w3 } = y2, { refs: x2 } = e2, k2 = l2;
  return D$a(jt$1, null, D$a("button", { class: w3(s2.button._, null, { disabled: f2(), dropdown: true, [d2()]: true }), "data-cy": u2.dropdownButton, "data-lf": c2[b2], disabled: f2(), onClick: () => p2(), onPointerDown: (t7) => k2.onLfEvent(t7, "pointerdown", true), part: v2.dropdown, ref: g3(x2, "dropdown") }, Tt(i2, true), Nt(i2, true)), D$a("lf-list", { class: w3(s2.button._, s2.button.list), "data-cy": u2.dropdownMenu, "data-lf": c2.portal, lfDataset: { nodes: m2.nodes[0].children }, "onLf-list-event": o2.list, part: v2.list, ref: g3(x2, "list") }));
}, icon: () => {
  const i2 = t6(), { controller: n2, elements: e2 } = i2, { blocks: o2, compInstance: a2, cyAttributes: s2, isDisabled: l2, lfAttributes: u2, manager: f2, isOn: c2, parts: h2 } = n2.get, { lfAriaLabel: v2, lfShowSpinner: d2, lfToggable: p2, lfType: m2, lfUiState: b2, rootElement: g3 } = a2, { assignRef: y2, theme: w3 } = f2, { bemClass: x2 } = w3, { refs: k2 } = e2, M2 = a2, z2 = (v2 || a2.lfLabel || a2.lfIcon || g3.id || "button").trim();
  return D$a("button", { "aria-label": z2, class: x2(o2.button._, null, { active: p2 && c2(), disabled: l2(), "has-spinner": d2, icon: true, toggable: p2 }), "data-cy": s2.button, "data-lf": u2[b2], disabled: l2(), onBlur: (t7) => M2.onLfEvent(t7, "blur"), onClick: (t7) => M2.onLfEvent(t7, "click"), onFocus: (t7) => M2.onLfEvent(t7, "focus"), onPointerDown: (t7) => M2.onLfEvent(t7, "pointerdown"), part: h2.button, ref: y2(k2, "button"), value: M2.value, type: m2 || "button" }, Tt(i2), Nt(i2), It(i2));
} }))(t5), Wt = (t5) => /* @__PURE__ */ ((t6) => ({ list: (i2) => {
  const { eventType: n2 } = i2.detail, { controller: r2 } = t6(), { get: e2, set: o2 } = r2;
  "click" === n2 && (e2.compInstance.onLfEvent(i2, "lf-event"), o2.list("close"));
} }))(t5);
var Et, Ot, Ft, Rt, Pt, Bt, Vt, jt, Ht, Yt, Xt, Ut, $t, Gt, Zt, qt, Jt = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, Kt = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const Qt = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-button-event"), Et.add(this), this.value = "off", this.lfAriaLabel = "", this.lfDataset = null, this.lfIcon = "", this.lfIconOff = "", this.lfLabel = "", this.lfRipple = true, this.lfShowSpinner = false, this.lfStretchX = false, this.lfStretchY = false, this.lfStyle = "", this.lfStyling = "raised", this.lfToggable = false, this.lfTrailingIcon = false, this.lfType = "button", this.lfUiSize = "medium", this.lfUiState = "primary", this.lfValue = false, Ot.set(this, void 0), Ft.set(this, LF_BUTTON_BLOCKS), Rt.set(this, LF_BUTTON_PARTS), Pt.set(this, CY_ATTRIBUTES), Bt.set(this, LF_ATTRIBUTES), Vt.set(this, LF_STYLE_ID), jt.set(this, LF_WRAPPER_ID), Ht.set(this, void 0), Yt.set(this, void 0), Xt.set(this, (() => {
      var t5;
      Kt(this, Yt, { controller: { get: { blocks: Jt(this, Ft, "f"), compInstance: this, cyAttributes: Jt(this, Pt, "f"), isDisabled: () => Jt(this, Ut, "f").call(this), isDropdown: () => Jt(this, $t, "f").call(this), isOn: () => Jt(this, Et, "m", Gt).call(this), lfAttributes: Jt(this, Bt, "f"), manager: Jt(this, Ot, "f"), parts: Jt(this, Rt, "f"), styling: () => Jt(this, Et, "m", Zt).call(this) }, set: Lt(t5 = () => Jt(this, Yt, "f")) }, elements: { jsx: Dt(t5), refs: { button: null, dropdown: null, dropdownRipple: null, icon: null, list: null, ripple: null } }, handlers: Wt(t5) });
    })), Ut.set(this, (() => "disabled" === this.lfUiState)), $t.set(this, (() => {
      var _a2, _b2, _c2, _d2;
      return Boolean((_d2 = (_c2 = (_b2 = (_a2 = this.lfDataset) == null ? void 0 : _a2.nodes) == null ? void 0 : _b2[0]) == null ? void 0 : _c2.children) == null ? void 0 : _d2.length);
    }));
  }
  onLfEvent(t5, i2, n2 = false) {
    const { dropdownRipple: r2, ripple: e2 } = Jt(this, Yt, "f").elements.refs, { effects: o2 } = Jt(this, Ot, "f");
    switch (i2) {
      case "click":
        Jt(this, Et, "m", qt).call(this, Jt(this, Et, "m", Gt).call(this) ? "off" : "on");
        break;
      case "pointerdown":
        this.lfRipple && o2.ripple(t5, n2 ? r2 : e2);
    }
    this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5, value: this.value, valueAsBoolean: "on" === this.value });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_BUTTON_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async getValue() {
    return this.value;
  }
  async refresh() {
    pt(this);
  }
  async setMessage(t5 = "Copied!", i2 = Jt(this, Ot, "f").theme.get.icon("check"), n2 = 1e3) {
    if (Jt(this, Ht, "f")) return;
    const r2 = this.lfIcon, e2 = this.lfLabel;
    requestAnimationFrame((() => {
      this.lfLabel = t5, this.lfIcon = i2;
    })), Kt(this, Ht, setTimeout((() => {
      this.lfLabel = e2, this.lfIcon = r2, Kt(this, Ht, null, "f");
    }), n2));
  }
  async setValue(t5) {
    "boolean" == typeof t5 && (t5 = t5 ? "on" : "off"), Jt(this, Et, "m", qt).call(this, t5);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    Jt(this, Ot, "f") && Jt(this, Ot, "f").theme.register(this);
  }
  async componentWillLoad() {
    var _a2, _b2;
    Kt(this, Ot, await a(this)), Jt(this, Xt, "f").call(this);
    const { data: t5 } = Jt(this, Ot, "f");
    this.lfValue && (this.value = "on");
    const i2 = (_b2 = (_a2 = this.lfDataset) == null ? void 0 : _a2.nodes) == null ? void 0 : _b2[0];
    i2 && (this.lfIcon || (this.lfIcon = i2.icon), this.lfLabel || (this.lfLabel = t5.cell.stringify(i2.value)));
  }
  componentDidLoad() {
    const { debug: t5 } = Jt(this, Ot, "f");
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.info.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = Jt(this, Ot, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = Jt(this, Ot, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { debug: t5, theme: i2 } = Jt(this, Ot, "f"), { lfDataset: n2, lfIcon: o2, lfLabel: a2, lfStyle: s2 } = this, { button: l2, dropdown: u2, icon: f2 } = Jt(this, Yt, "f").elements.jsx, c2 = Jt(this, Et, "m", Zt).call(this), h2 = !!("icon" === c2 || "raised" === c2 && o2 && null == a2);
    if (a2 || o2 || n2) return D$a(W$e, null, s2 && D$a("style", { id: Jt(this, Vt, "f") }, i2.setLfStyle(this)), D$a("div", { id: Jt(this, jt, "f") }, h2 ? f2() : l2(), Jt(this, $t, "f").call(this) && u2()));
    t5.logs.new(this, "Empty button.", "informational");
  }
  disconnectedCallback() {
    var _a2, _b2, _c2;
    const { list: t5 } = Jt(this, Yt, "f").elements.refs;
    t5 && ((_a2 = Jt(this, Ot, "f")) == null ? void 0 : _a2.portal.isInPortal(t5)) && ((_b2 = Jt(this, Ot, "f")) == null ? void 0 : _b2.portal.close(t5)), (_c2 = Jt(this, Ot, "f")) == null ? void 0 : _c2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
Ot = /* @__PURE__ */ new WeakMap(), Ft = /* @__PURE__ */ new WeakMap(), Rt = /* @__PURE__ */ new WeakMap(), Pt = /* @__PURE__ */ new WeakMap(), Bt = /* @__PURE__ */ new WeakMap(), Vt = /* @__PURE__ */ new WeakMap(), jt = /* @__PURE__ */ new WeakMap(), Ht = /* @__PURE__ */ new WeakMap(), Yt = /* @__PURE__ */ new WeakMap(), Xt = /* @__PURE__ */ new WeakMap(), Ut = /* @__PURE__ */ new WeakMap(), $t = /* @__PURE__ */ new WeakMap(), Et = /* @__PURE__ */ new WeakSet(), Gt = function() {
  return "on" === this.value;
}, Zt = function() {
  return this.lfStyling ? this.lfStyling.toLowerCase() : "raised";
}, qt = function(t5) {
  const { lfToggable: i2 } = this, n2 = "off" === t5, r2 = "on" === t5;
  i2 && !Jt(this, Ut, "f").call(this) && (n2 || r2) && (this.value = t5);
}, Qt.style = '.button{border:0;border-style:solid;border-radius:var(--lf-button-border-radius, var(--lf-ui-border-radius));color:rgb(var(--lf-button-color-primary, var(--lf-color-primary)));font-family:var(--lf-button-font-family, var(--lf-font-family-primary));font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;transition:all 150ms cubic-bezier(0.42, 0, 0.58, 1);align-items:var(--lf-button-align-items, center);background-color:transparent;border:none;box-sizing:border-box;cursor:var(--lf-button-cursor, pointer);display:inline-flex;font-weight:var(--lf-button-font-weight);height:var(--lf-button-height, 3em);justify-content:var(--lf-button-justify-content, center);min-width:var(--lf-button-min-width, 4em);outline:none;overflow:visible;padding:var(--lf-button-padding, 0 1.25em);position:relative;text-decoration:var(--lf-button-text-decoration, none);text-transform:var(--lf-button-text-transform, uppercase);user-select:none;vertical-align:middle}.button--floating,.button--outlined,.button--raised{background-color:rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.125);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px)}.button:hover{background-color:rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.25);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px)}.button:focus{background-color:rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.375);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.button--floating:not(.button--disabled),.button--raised:not(.button--disabled){background-color:rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.15)}.button--floating.button--disabled,.button--raised.button--disabled{box-shadow:none}.button--floating{border-radius:1.5em;box-shadow:0 0.215em 0.35em -1px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.2), 0 0.43em 0.71em 0 rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.14), 0 0.07em 1.285em 0 rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.12);font-weight:500;font-size:1em;height:3.4em;width:auto;padding:0 1.5em}.button--floating.button--no-label{border-radius:50%;height:4em;padding:0;width:4em}.button--floating:hover,.button--floating:focus{box-shadow:0 5px 5px -3px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.25), 0 8px 10px 1px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.18), 0 3px 14px 2px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.15)}.button--floating:active{box-shadow:0 7px 8px -4px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.2), 0 12px 17px 2px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.14), 0 5px 22px 4px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.12)}.button--no-label{min-width:unset;padding:0 0.5em}.button--no-label .button__icon{margin:0}.button--outlined{border-width:1px;border-style:solid}.button--outlined:not(.button--disabled){color:rgb(var(--lf-button-color-primary, var(--lf-color-primary)));backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);border-color:var(--lf-button-color-primary);background-color:transparent}.button--outlined:hover{background-color:rgba(var(--lf-button-color-on-primary, var(--lf-color-on-primary)), 0.175);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.button--outlined:focus{background-color:rgba(var(--lf-button-color-on-primary, var(--lf-color-on-primary)), 0.275);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.button--raised{box-shadow:0 3px 1px -2px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.2), 0 2px 2px 0 rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.14), 0 1px 5px 0 rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.12)}.button--raised:focus,.button--raised:hover{box-shadow:0 2px 4px -1px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.25), 0 4px 5px 0 rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.18), 0 1px 10px 0 rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.15)}.button--raised:active{box-shadow:0 5px 5px -3px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.2), 0 8px 10px 1px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.14), 0 3px 14px 2px rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.12)}.button--has-spinner{pointer-events:none}.button--dropdown{max-width:max-content;min-width:unset;padding:0.5em;position:relative}.button--dropdown:before{background-color:rgba(var(--lf-button-color-border, var(--lf-color-border)), 1);content:"";height:100%;left:0;opacity:0.75;position:absolute;top:0;width:1px}.button--dropdown .button__icon{margin:0}.button__spinner{width:100%;left:0;position:absolute}.button__icon{background-color:rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 1);height:1.5em;width:1.5em;overflow:hidden;margin-left:-0.25em;margin-right:0.75em}.button__icon--hidden{visibility:hidden}.button__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.button__label+.button__icon{margin-left:0.75em;margin-right:-0.25em}.button__label--hidden{visibility:hidden}.button--icon{color:rgb(var(--lf-button-color-on-primary, var(--lf-color-on-primary)));background-color:transparent;border:none;border-radius:50%;box-sizing:border-box;cursor:var(--lf-button-cursor, pointer);display:inline-block;font-size:1em;height:unset;min-width:unset;outline:none;padding:0.75em;position:relative;text-decoration:var(--lf-button-text-decoration, none);user-select:none}.button--icon:hover,.button--icon:focus{background-color:rgba(var(--lf-button-color-primary, var(--lf-color-primary)), 0.125)}.button--icon.button--has-spinner{pointer-events:none}.button--icon.button--has-spinner .button__icon{opacity:0}.button--icon.button--has-spinner .button__spinner{width:100%;height:100%;left:0;position:absolute;top:0}.button--icon .button__icon{display:flex;height:1.75em;margin:auto;width:1.75em}.button--icon .button__icon--active{display:none}::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=danger]{--lf-button-color-primary:var(\n    --lf-button-color-danger,\n    var(--lf-color-danger)\n  );--lf-button-color-on-primary:var(\n    --lf-button-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-button-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-button-color-primary:var(\n    --lf-button-color-info,\n    var(--lf-color-info)\n  );--lf-button-color-on-primary:var(\n    --lf-button-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-button-color-primary:var(\n    --lf-button-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-button-color-on-primary:var(\n    --lf-button-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-button-color-primary:var(\n    --lf-button-color-success,\n    var(--lf-color-success)\n  );--lf-button-color-on-primary:var(\n    --lf-button-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-button-color-primary:var(\n    --lf-button-color-warning,\n    var(--lf-color-warning)\n  );--lf-button-color-on-primary:var(\n    --lf-button-color-warning,\n    var(--lf-color-on-warning)\n  )}[data-lf=portal]{display:none}:host{display:block;font-family:var(--lf-button-font-family, var(--lf-font-family-primary));font-size:var(--lf-button-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-button-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-button-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-button-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-button-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-button-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-button-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-button-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{max-width:100%;overflow:visible}#lf-component{align-items:center;display:flex}:host([lf-show-spinner]) .button__icon{visibility:hidden}:host([lf-stretch-x]),:host([lf-stretch-x]) #lf-component,:host([lf-stretch-x]) .button{width:100%}:host([lf-stretch-y]),:host([lf-stretch-y]) #lf-component,:host([lf-stretch-y]) .button{height:100%}';
const ti = (t5) => {
  if (!t5) return { width: 0, height: 0 };
  if (t5 instanceof HTMLImageElement) return { width: t5.naturalWidth, height: t5.naturalHeight };
  if (t5 instanceof SVGElement) {
    const i3 = t5;
    let n2 = 0, r2 = 0;
    try {
      const t6 = "function" == typeof i3.getBBox ? i3.getBBox() : null;
      t6 && t6.width && t6.height && (n2 = t6.width, r2 = t6.height);
    } catch {
    }
    if (0 === n2 || 0 === r2) {
      const i4 = t5.getAttribute("width"), e2 = t5.getAttribute("height");
      n2 = n2 || parseFloat(i4 ?? "0"), r2 = r2 || parseFloat(e2 ?? "0");
    }
    return { width: n2, height: r2 };
  }
  return "object" == typeof (i2 = t5) && null !== i2 && ("naturalWidth" in i2 || "width" in i2) && ("naturalHeight" in i2 || "height" in i2) ? { width: t5.naturalWidth ?? t5.width ?? 0, height: t5.naturalHeight ?? t5.height ?? 0 } : { width: 0, height: 0 };
  var i2;
}, ii = (t5) => {
  const { width: i2, height: n2 } = ti(t5);
  return i2 > 0 && n2 > 0 ? i2 > n2 ? "landscape" : i2 < n2 ? "portrait" : null : null;
}, ni = { get: (t5, i2) => {
  const { height: n2, left: r2, top: e2, width: o2 } = i2;
  let a2 = t5.clientX - r2, s2 = t5.clientY - e2;
  return a2 = Math.max(0, Math.min(o2, a2)), s2 = Math.max(0, Math.min(n2, s2)), { x: a2, y: s2 };
}, normalize: (t5, i2) => {
  const { height: n2, left: r2, top: e2, width: o2 } = i2;
  let a2 = (t5.clientX - r2) / o2, s2 = (t5.clientY - e2) / n2;
  return a2 = Math.max(0, Math.min(1, a2)), s2 = Math.max(0, Math.min(1, s2)), { x: a2, y: s2 };
}, simplify: (t5, i2) => {
  if (t5.length <= 2) return t5;
  function n2(t6, i3) {
    const n3 = t6.x - i3.x, r3 = t6.y - i3.y;
    return n3 * n3 + r3 * r3;
  }
  function r2(t6, i3, n3) {
    const r3 = i3.x - t6.x, e3 = i3.y - t6.y, o2 = ((n3.x - t6.x) * r3 + (n3.y - t6.y) * e3) / (r3 * r3 + e3 * e3);
    return { x: t6.x + o2 * r3, y: t6.y + o2 * e3 };
  }
  const e2 = [t5[0]];
  return (function i3(e3, o2, a2, s2) {
    let l2 = a2, u2 = -1;
    for (let i4 = e3 + 1; i4 < o2; i4++) {
      const a3 = n2(t5[i4], r2(t5[e3], t5[o2], t5[i4]));
      a3 > l2 && (u2 = i4, l2 = a3);
    }
    l2 > a2 && (u2 - e3 > 1 && i3(e3, u2, a2, s2), s2.push(t5[u2]), o2 - u2 > 1 && i3(u2, o2, a2, s2));
  })(0, t5.length - 1, i2 * i2, e2), e2.push(t5[t5.length - 1]), e2;
} }, ri = (t5) => ({ clear: (i2) => {
  const { ctx: n2, height: r2, width: e2 } = t5().toolkit.ctx.get(i2);
  n2.clearRect(0, 0, e2, r2);
}, get: (i2) => {
  const { board: n2, preview: r2 } = t5().elements.refs, e2 = ("board" === i2 ? n2 : r2).getContext("2d"), { height: o2, width: a2 } = e2.canvas;
  return { ctx: e2, height: o2, width: a2 };
}, redraw: (i2) => {
  const { controller: n2, toolkit: r2 } = t5(), { points: e2 } = n2.get, { ctx: o2, height: a2, width: s2 } = r2.ctx.get(i2);
  r2.ctx.clear(i2), r2.ctx.setup(i2);
  const l2 = e2();
  if (1 === l2.length) {
    const t6 = l2[0];
    r2.draw.shape(i2, t6.x * s2, t6.y * a2, true);
  } else if (l2.length > 1) {
    o2.beginPath();
    const t6 = l2[0];
    o2.moveTo(t6.x * s2, t6.y * a2);
    for (let t7 = 1; t7 < l2.length; t7++) {
      const i3 = l2[t7];
      o2.lineTo(i3.x * s2, i3.y * a2);
    }
    o2.stroke();
  }
}, setup: (i2, n2 = false) => {
  const { controller: r2, toolkit: e2 } = t5(), { lfColor: o2, lfOpacity: a2, lfSize: s2 } = r2.get.compInstance, { ctx: l2 } = e2.ctx.get(i2);
  l2.lineCap = "round", l2.lineJoin = "round", l2.globalAlpha = a2, l2.globalCompositeOperation = "source-over", n2 ? l2.fillStyle = o2 : (l2.strokeStyle = o2, l2.lineWidth = s2);
} }), ei = (t5) => ({ cursor: (i2) => {
  const { elements: n2, toolkit: r2 } = t5(), { board: e2 } = n2.refs;
  r2.ctx.clear("preview");
  const o2 = e2.getBoundingClientRect(), { x: a2, y: s2 } = r2.coordinates.get(i2, o2);
  r2.ctx.setup("preview", true), r2.draw.shape("preview", a2, s2, true);
}, point: (i2) => {
  const { controller: n2, elements: r2, toolkit: e2 } = t5(), { board: o2 } = r2.refs, { points: a2 } = n2.get, s2 = o2.getBoundingClientRect(), { x: l2, y: u2 } = e2.coordinates.normalize(i2, s2);
  a2().push({ x: l2, y: u2 });
}, shape: (i2, n2, r2, e2 = true) => {
  const { controller: o2, toolkit: a2 } = t5(), { lfBrush: s2, lfSize: l2 } = o2.get.compInstance, { ctx: u2 } = a2.ctx.get(i2);
  switch (u2.beginPath(), s2) {
    case "round":
      u2.lineJoin = "round", u2.lineCap = "round", u2.arc(n2, r2, l2 / 2, 0, 2 * Math.PI);
      break;
    case "square":
      u2.lineJoin = "miter", u2.lineCap = "butt";
      const t6 = l2 / 2;
      u2.rect(Math.round(n2) - t6, Math.round(r2) - t6, l2, l2);
  }
  e2 ? u2.fill() : u2.stroke();
} }), oi = (t5) => /* @__PURE__ */ ((t6) => ({ board: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t6(), { refs: o2 } = n2, { blocks: a2, cyAttributes: s2, manager: l2, parts: u2 } = i2.get, { assignRef: f2, theme: c2 } = l2, { bemClass: h2 } = c2, { onPointerDown: v2, onPointerMove: d2, onPointerOut: p2, onPointerUp: m2 } = e2.board;
  return D$a("canvas", { class: h2(a2.canvas._, a2.canvas.board), "data-cy": s2.canvas, onPointerDown: v2, onPointerMove: d2, onPointerOut: p2, onPointerUp: m2, part: u2.board, ref: f2(o2, "board") });
}, image: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t6(), { blocks: o2, compInstance: a2, cyAttributes: s2, manager: l2, parts: u2 } = i2.get, { refs: f2 } = n2, { onLoad: c2 } = e2.image, { assignRef: h2, sanitizeProps: v2, theme: d2 } = l2, { bemClass: p2 } = d2;
  return D$a("lf-image", { ...v2(a2.lfImageProps, "LfImage"), class: p2(o2.canvas._, o2.canvas.image), "data-cy": s2.image, "onLf-image-event": (t7) => {
    const { eventType: i3 } = t7.detail;
    "load" === i3 && c2(t7);
  }, part: u2.image, ref: h2(f2, "image") });
}, preview: () => {
  const { controller: i2, elements: n2 } = t6(), { blocks: e2, cyAttributes: o2, manager: a2, parts: s2 } = i2.get, { assignRef: l2, theme: u2 } = a2, { refs: f2 } = n2, { bemClass: c2 } = u2;
  return D$a("canvas", { class: c2(e2.canvas._, e2.canvas.preview), "data-cy": o2.canvas, part: s2.preview, ref: l2(f2, "preview") });
} }))(t5), ai = (t5) => /* @__PURE__ */ ((t6) => ({ board: { endCapture: (i2) => {
  i2.preventDefault();
  const { controller: n2, elements: r2, toolkit: e2 } = t6(), { get: o2, set: a2 } = n2, { compInstance: s2, isCursorPreview: l2, points: u2 } = o2, { board: f2 } = r2.refs, { lfPreview: c2 } = s2, h2 = s2;
  f2.releasePointerCapture(i2.pointerId);
  const { ctx: v2, height: d2, width: p2 } = e2.ctx.get("board"), m2 = u2();
  if (m2.length > 0) if (1 === m2.length) {
    e2.ctx.setup("board", true);
    const t7 = m2[0];
    e2.draw.shape("board", t7.x * p2, t7.y * d2, true);
  } else {
    e2.ctx.setup("board"), v2.beginPath();
    const t7 = m2[0];
    v2.moveTo(t7.x * p2, t7.y * d2);
    for (let t8 = 1; t8 < m2.length; t8++) {
      const i3 = m2[t8];
      v2.lineTo(i3.x * p2, i3.y * d2);
    }
    v2.stroke();
  }
  (l2() || c2) && e2.ctx.clear("preview"), h2.onLfEvent(i2, "stroke"), a2.isPainting(false);
}, onPointerDown: (i2) => {
  i2.preventDefault();
  const { controller: n2, elements: r2, toolkit: e2 } = t6(), { set: o2 } = n2, { board: a2 } = r2.refs;
  a2.setPointerCapture(i2.pointerId), requestAnimationFrame((() => {
    o2.isPainting(true), o2.points([]), e2.draw.point(i2);
  }));
}, onPointerMove: (i2) => {
  i2.preventDefault();
  const { controller: n2, toolkit: r2 } = t6(), { compInstance: e2, isCursorPreview: o2, isPainting: a2 } = n2.get, { lfPreview: s2 } = e2;
  a2() ? (o2() && r2.draw.cursor(i2), r2.draw.point(i2), s2 && r2.ctx.redraw("preview")) : o2() && r2.draw.cursor(i2);
}, onPointerOut: (i2) => {
  const { controller: n2, handlers: r2 } = t6(), { isPainting: e2 } = n2.get, { endCapture: o2 } = r2.board;
  e2() && o2(i2);
}, onPointerUp: (i2) => {
  const { handlers: n2 } = t6(), { endCapture: r2 } = n2.board;
  r2(i2);
} }, image: { onLoad: async (i2) => {
  const n2 = t6(), { controller: r2 } = n2, { get: e2, set: o2 } = r2, { compInstance: a2 } = e2, s2 = await i2.detail.comp.getImage();
  if (s2) {
    const t7 = ii(s2);
    o2.orientation(t7), await a2.resizeCanvas();
  }
  a2.onLfEvent(i2, "lf-event");
} } }))(t5), si = (t5) => ({ ctx: ri(t5), coordinates: ni, draw: ei(t5) });
var li, ui, fi, ci, hi, vi, di, pi, mi, bi, gi, yi, wi, xi, ki = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, Mi = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const zi = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-canvas-event"), li.add(this), this.boxing = null, this.isPainting = false, this.orientation = null, this.points = [], this.lfBrush = "round", this.lfColor = "#ff0000", this.lfCursor = "preview", this.lfImageProps = null, this.lfOpacity = 1, this.lfPreview = true, this.lfStrokeTolerance = null, this.lfSize = 10, this.lfStyle = "", ui.set(this, void 0), fi.set(this, LF_CANVAS_BLOCKS), ci.set(this, CY_ATTRIBUTES), hi.set(this, LF_CANVAS_PARTS), vi.set(this, LF_STYLE_ID), di.set(this, LF_WRAPPER_ID), pi.set(this, void 0), mi.set(this, void 0), bi.set(this, void 0), gi.set(this, void 0), yi.set(this, (() => {
      var t5;
      Mi(this, pi, { controller: { get: { blocks: ki(this, fi, "f"), boxing: () => this.boxing, compInstance: this, cyAttributes: ki(this, ci, "f"), isCursorPreview: () => ki(this, li, "m", xi).call(this), isPainting: () => this.isPainting, manager: ki(this, ui, "f"), orientation: () => this.orientation, parts: ki(this, hi, "f"), points: () => this.points }, set: { boxing: (t6) => this.boxing = t6, isPainting: (t6) => this.isPainting = t6, orientation: (t6) => this.orientation = t6, points: (t6) => this.points = t6 } }, elements: { jsx: oi(t5 = () => ki(this, pi, "f")), refs: { board: null, image: null, preview: null } }, handlers: ai(t5), toolkit: si(t5) });
    })), wi.set(this, (() => {
      const t5 = this.rootElement.parentElement || this.rootElement;
      Mi(this, bi, new ResizeObserver((() => {
        clearTimeout(ki(this, gi, "f")), Mi(this, gi, setTimeout((() => {
          this.resizeCanvas();
        }), 100), "f");
      }))), ki(this, bi, "f").observe(t5);
    }));
  }
  onLfEvent(t5, i2) {
    const { coordinates: n2 } = ki(this, pi, "f").toolkit, { lfStrokeTolerance: r2, points: e2, rootElement: o2 } = this;
    this.lfEvent.emit({ comp: this, id: o2.id, originalEvent: t5, eventType: i2, points: null !== r2 && (e2 == null ? void 0 : e2.length) ? n2.simplify(e2, r2) : e2 });
  }
  async clearCanvas(t5 = "board") {
    const { clear: i2 } = ki(this, pi, "f").toolkit.ctx;
    i2(t5);
  }
  async getCanvas(t5 = "board") {
    const { board: i2, preview: n2 } = ki(this, pi, "f").elements.refs;
    return "board" === t5 ? i2 : n2;
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getImage() {
    const { image: t5 } = ki(this, pi, "f").elements.refs;
    return t5;
  }
  async getProps() {
    const t5 = LF_CANVAS_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async resizeCanvas() {
    const { set: t5 } = ki(this, pi, "f").controller, { board: i2, image: n2, preview: r2 } = ki(this, pi, "f").elements.refs, e2 = this.rootElement.parentElement, o2 = e2 ? e2.getBoundingClientRect().width : ki(this, mi, "f").getBoundingClientRect().width, a2 = e2 ? e2.getBoundingClientRect().height : ki(this, mi, "f").getBoundingClientRect().height, s2 = await n2.getImage(), l2 = ii(s2);
    t5.orientation(l2);
    const { width: u2, height: f2 } = ti(s2), c2 = ((t6, i3, n3, r3) => {
      if (!t6 || !i3 || !n3 || !r3 || t6 <= 0 || i3 <= 0 || n3 <= 0 || r3 <= 0) return null;
      const e3 = n3 / r3, o3 = t6 / i3;
      return e3 > o3 ? "letterbox" : e3 < o3 ? "pillarbox" : null;
    })(o2, a2, u2, f2);
    this.boxing !== c2 && t5.boxing(c2), await new Promise(((t6) => requestAnimationFrame(t6)));
    const { height: h2, width: v2 } = ki(this, mi, "f").getBoundingClientRect();
    i2.height = h2, i2.width = v2, ki(this, li, "m", xi).call(this) && (r2.height = h2, r2.width = v2);
  }
  async setCanvasHeight(t5) {
    const { board: i2, preview: n2 } = ki(this, pi, "f").elements.refs;
    if (void 0 !== t5) i2.height = t5, ki(this, li, "m", xi).call(this) && (n2.height = t5);
    else {
      const { height: t6 } = ki(this, mi, "f").getBoundingClientRect();
      i2.height = t6, ki(this, li, "m", xi).call(this) && (n2.height = t6);
    }
  }
  async setCanvasWidth(t5) {
    const { board: i2, preview: n2 } = ki(this, pi, "f").elements.refs;
    if (void 0 !== t5) i2.width = t5, ki(this, li, "m", xi).call(this) && (n2.width = t5);
    else {
      const { width: t6 } = ki(this, mi, "f").getBoundingClientRect();
      i2.width = t6, ki(this, li, "m", xi).call(this) && (n2.width = t6);
    }
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    ki(this, ui, "f") && ki(this, ui, "f").theme.register(this);
  }
  async componentWillLoad() {
    Mi(this, ui, await a(this)), ki(this, yi, "f").call(this);
  }
  componentDidLoad() {
    const { info: t5 } = ki(this, ui, "f").debug;
    this.resizeCanvas(), ki(this, wi, "f").call(this), this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = ki(this, ui, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = ki(this, ui, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { bemClass: t5, setLfStyle: i2 } = ki(this, ui, "f").theme, { board: n2, image: o2, preview: a2 } = ki(this, pi, "f").elements.jsx, { lfStyle: s2 } = this, l2 = ki(this, li, "m", xi).call(this) || this.lfPreview, { canvas: u2 } = ki(this, fi, "f");
    return D$a(W$e, { key: "91780383dc19a653ef3130ca2cf8897ebd51b682", "data-orientation": this.orientation, "data-boxing": this.boxing }, s2 && D$a("style", { key: "b7dd49d6f383a105428c5588d29bca789dfab472", id: ki(this, vi, "f") }, i2(this)), D$a("div", { key: "e08f576040729a211185e7830f0641c65985de5a", id: ki(this, di, "f") }, D$a("div", { key: "608ca43347b313dd839e1959eff33fe2df4467d1", class: t5(u2._, null, { hidden: ki(this, li, "m", xi).call(this) }), part: ki(this, hi, "f").canvas, ref: (t6) => {
      t6 && Mi(this, mi, t6);
    } }, o2(), n2(), l2 && a2())));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = ki(this, ui, "f")) == null ? void 0 : _a2.theme.unregister(this), ki(this, bi, "f") && ki(this, bi, "f").disconnect();
  }
  get rootElement() {
    return z$d(this);
  }
};
ui = /* @__PURE__ */ new WeakMap(), fi = /* @__PURE__ */ new WeakMap(), ci = /* @__PURE__ */ new WeakMap(), hi = /* @__PURE__ */ new WeakMap(), vi = /* @__PURE__ */ new WeakMap(), di = /* @__PURE__ */ new WeakMap(), pi = /* @__PURE__ */ new WeakMap(), mi = /* @__PURE__ */ new WeakMap(), bi = /* @__PURE__ */ new WeakMap(), gi = /* @__PURE__ */ new WeakMap(), yi = /* @__PURE__ */ new WeakMap(), wi = /* @__PURE__ */ new WeakMap(), li = /* @__PURE__ */ new WeakSet(), xi = function() {
  return "preview" === this.lfCursor;
}, zi.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=danger]{--lf-canvas-color-primary:var(\n    --lf-canvas-color-danger,\n    var(--lf-color-danger)\n  );--lf-canvas-color-on-primary:var(\n    --lf-canvas-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-canvas-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-canvas-color-primary:var(\n    --lf-canvas-color-info,\n    var(--lf-color-info)\n  );--lf-canvas-color-on-primary:var(\n    --lf-canvas-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-canvas-color-primary:var(\n    --lf-canvas-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-canvas-color-on-primary:var(\n    --lf-canvas-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-canvas-color-primary:var(\n    --lf-canvas-color-success,\n    var(--lf-color-success)\n  );--lf-canvas-color-on-primary:var(\n    --lf-canvas-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-canvas-color-primary:var(\n    --lf-canvas-color-warning,\n    var(--lf-color-warning)\n  );--lf-canvas-color-on-primary:var(\n    --lf-canvas-color-warning,\n    var(--lf-color-on-warning)\n  )}:host{display:block;font-family:var(--lf-canvas-font-family, var(--lf-font-family-primary));font-size:var(--lf-canvas-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-canvas-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-canvas-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-canvas-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-canvas-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-canvas-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-canvas-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-canvas-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%;display:flex;justify-self:center;position:relative}:host([data-boxing=letterbox]){height:max-content}:host([data-boxing=pillarbox]){width:max-content}.canvas{width:100%;height:100%;margin:var(--lf-canvas-margin, auto);max-height:var(--lf-canvas-max-height, max-content);max-width:var(--lf-canvas-max-width, max-content);position:var(--lf-canvas-position, relative);touch-action:none}.canvas--hidden{cursor:none}.canvas__image{--lf-image-object-fit:var(--lf-canvas-object-fit, contain);pointer-events:none;user-select:none}.canvas__board,.canvas__preview{width:100%;height:100%;left:0;position:absolute;top:0}.canvas__preview{pointer-events:none}";
const Si = (t5) => ({ button: (i2) => {
  const { eventType: n2, id: r2, originalEvent: e2 } = i2.detail, { controller: o2, handlers: a2 } = t5(), { manager: s2 } = o2.get, { layouts: l2 } = a2, { debug: u2, theme: f2 } = s2;
  switch (n2) {
    case "click":
      switch (r2) {
        case LF_CARD_IDS.clear:
          u2.logs.dump();
          break;
        case LF_CARD_IDS.theme:
          f2.randomize();
      }
      break;
    case "lf-event":
      r2 === LF_CARD_IDS.theme && l2.debug.list(e2);
  }
}, code: (i2) => {
  const { comp: n2, eventType: r2 } = i2.detail, { controller: e2 } = t5(), { manager: o2 } = e2.get, { debug: a2 } = o2;
  switch (r2) {
    case "ready":
      a2.register(n2);
      break;
    case "unmount":
      a2.unregister(n2);
  }
}, list: (i2) => {
  const { eventType: n2, node: r2 } = i2.detail, { controller: e2 } = t5(), { manager: o2 } = e2.get, { theme: a2 } = o2;
  "click" === n2 && a2.set(r2.id);
}, toggle: (i2) => {
  const { comp: n2, eventType: r2, value: e2 } = i2.detail, o2 = "on" === e2, { controller: a2 } = t5(), { manager: s2 } = a2.get, { debug: l2 } = s2;
  switch (r2) {
    case "change":
      l2.toggle(o2, false);
      break;
    case "ready":
      l2.register(n2);
      break;
    case "unmount":
      l2.unregister(n2);
  }
} }), Ci = (t5) => ({ button: async (i2) => {
  const { comp: n2, eventType: r2 } = i2.detail, { chip: e2 } = t5().elements.refs.layouts.keywords;
  if (e2 && "pointerdown" === r2) {
    n2.setMessage();
    const t6 = [];
    (await e2.getSelectedNodes()).forEach(((i3) => {
      t6.push(i3.id);
    })), navigator.clipboard.writeText(t6.join(", "));
  }
} }), Ai = (t5, i2) => ({ ...t5, defaults: LF_CARD_DEFAULTS(i2) }), Ni = (t5) => ({ debug: () => ((t6) => {
  const { controller: i2, elements: n2, handlers: e2 } = t6(), { refs: o2 } = n2, { layouts: a2 } = e2, { blocks: s2, compInstance: l2, defaults: u2, manager: f2, parts: c2, shapes: h2 } = i2.get, { debug: v2 } = u2, { theme: d2 } = f2, { bemClass: p2 } = d2, { debugLayout: m2 } = s2, { button: b2, code: g3, toggle: y2 } = h2(), w3 = l2, x2 = [], k2 = v2.button();
  for (let t7 = 0; t7 < b2.length; t7++) x2.push(D$a(r, { shape: "button", cell: k2[t7] ? Object.assign(k2[t7], b2[t7]) : b2[t7], index: t7, eventDispatcher: async (t8) => w3.onLfEvent(t8, "lf-event"), framework: f2, defaultCb: a2.debug.button, refCallback: (t8) => o2.layouts.debug.button = t8 }));
  const M2 = Boolean(x2 == null ? void 0 : x2.length), z2 = Boolean((x2 == null ? void 0 : x2.length) > 1), S3 = [], C3 = v2.code();
  for (let t7 = 0; t7 < g3.length; t7++) S3.push(D$a(r, { shape: "code", cell: C3[t7] ? Object.assign(C3[t7], g3[t7]) : g3[t7], index: t7, eventDispatcher: async (t8) => w3.onLfEvent(t8, "lf-event"), framework: f2, defaultCb: a2.debug.code, refCallback: (t8) => o2.layouts.debug.code = t8 }));
  const A3 = Boolean(S3 == null ? void 0 : S3.length), N2 = [], _2 = v2.toggle();
  for (let t7 = 0; t7 < y2.length; t7++) N2.push(D$a(r, { shape: "toggle", cell: _2[t7] ? Object.assign(_2[t7], y2[t7]) : y2[t7], index: t7, eventDispatcher: async (t8) => w3.onLfEvent(t8, "lf-event"), framework: f2, defaultCb: a2.debug.toggle, refCallback: (t8) => o2.layouts.debug.toggle = t8 }));
  const T4 = Boolean(N2 == null ? void 0 : N2.length);
  return D$a("div", { class: p2(m2._), part: c2.debugLayout }, T4 && D$a("div", { class: p2(m2._, m2.section1) }, N2[0]), A3 && D$a("div", { class: p2(m2._, m2.section2) }, S3[0]), M2 && D$a("div", { class: p2(m2._, m2.section3) }, x2[0]), z2 && D$a("div", { class: p2(m2._, m2.section4) }, x2[1]));
})(t5), keywords: () => ((t6) => {
  const { controller: i2, elements: n2, handlers: e2 } = t6(), { refs: o2 } = n2, { layouts: a2 } = e2, { blocks: s2, compInstance: l2, defaults: u2, manager: f2, parts: c2, shapes: h2 } = i2.get, { keywords: v2 } = u2, { theme: d2 } = f2, { bemClass: p2 } = d2, { keywordsLayout: m2 } = s2, { button: b2, chart: g3, chip: y2 } = h2(), w3 = l2, x2 = [], k2 = v2.button();
  for (let t7 = 0; t7 < b2.length; t7++) x2.push(D$a(r, { shape: "button", cell: k2[t7] ? Object.assign(k2[t7], b2[t7]) : b2[t7], index: t7, eventDispatcher: async (t8) => w3.onLfEvent(t8, "lf-event"), framework: f2, defaultCb: a2.keywords.button, refCallback: (t8) => o2.layouts.keywords.button = t8 }));
  const M2 = Boolean(x2 == null ? void 0 : x2.length), z2 = [], S3 = v2.chart();
  for (let t7 = 0; t7 < g3.length; t7++) z2.push(D$a(r, { shape: "chart", cell: S3[t7] ? Object.assign(S3[t7], g3[t7]) : g3[t7], index: t7, eventDispatcher: async (t8) => w3.onLfEvent(t8, "lf-event"), framework: f2 }));
  const C3 = Boolean(z2 == null ? void 0 : z2.length), A3 = [], N2 = v2.chip();
  for (let t7 = 0; t7 < g3.length; t7++) A3.push(D$a(r, { shape: "chip", cell: N2[t7] ? Object.assign(N2[t7], y2[t7]) : y2[t7], index: t7, eventDispatcher: async (t8) => w3.onLfEvent(t8, "lf-event"), framework: f2, refCallback: (t8) => o2.layouts.keywords.chip = t8 }));
  const _2 = Boolean(z2 == null ? void 0 : z2.length);
  return D$a("div", { class: p2(m2._), part: c2.keywordsLayout }, C3 && D$a("div", { class: p2(m2._, m2.section1) }, z2[0]), _2 && D$a("div", { class: p2(m2._, m2.section2) }, A3[0]), M2 && D$a("div", { class: p2(m2._, m2.section3) }, x2[0]));
})(t5), material: () => ((t6) => {
  var _a2, _b2, _c2;
  const { blocks: i2, compInstance: n2, cyAttributes: e2, defaults: o2, lfAttributes: a2, manager: s2, parts: l2, shapes: u2 } = t6().controller.get, { material: f2 } = o2, { effects: c2, theme: h2 } = s2, { bemClass: v2 } = h2, { materialLayout: d2, textContent: p2 } = i2, { button: m2, image: b2, text: g3 } = u2(), y2 = n2, w3 = [];
  for (let t7 = 0; t7 < m2.length; t7++) w3.push(D$a(r, { shape: "button", cell: m2[t7], index: t7, eventDispatcher: async (t8) => y2.onLfEvent(t8, "lf-event"), framework: s2 }));
  const x2 = Boolean(w3 == null ? void 0 : w3.length), k2 = [], M2 = f2.image();
  for (let t7 = 0; t7 < b2.length; t7++) k2.push(D$a(r, { shape: "image", cell: M2[t7] ? Object.assign(M2[t7], b2[t7]) : b2[t7], index: t7, eventDispatcher: async (t8) => y2.onLfEvent(t8, "lf-event"), framework: s2 }));
  const z2 = Boolean(k2 == null ? void 0 : k2.length), S3 = [];
  for (let t7 = 0; t7 < g3.length; t7++) S3.push(D$a(r, { shape: "text", cell: g3[t7], index: t7, eventDispatcher: async (t8) => y2.onLfEvent(t8, "lf-event"), framework: s2 }));
  const C3 = Boolean(S3 == null ? void 0 : S3.length), A3 = C3 && ((_a2 = g3 == null ? void 0 : g3[0]) == null ? void 0 : _a2.value) || null, N2 = C3 && ((_b2 = g3 == null ? void 0 : g3[1]) == null ? void 0 : _b2.value) || null, _2 = C3 && ((_c2 = g3 == null ? void 0 : g3[2]) == null ? void 0 : _c2.value) || null;
  let T4;
  return D$a("div", { class: v2(d2._, null, { "has-actions": x2 }), "data-lf": a2[y2.lfUiState], onPointerDown: (t7) => {
    c2.ripple(t7, T4);
  }, part: l2.materialLayout }, z2 && D$a("div", { class: v2(d2._, d2.coverSection) }, k2[0]), D$a("div", { class: v2(d2._, d2.textSection) }, A3 && D$a("div", { class: v2(p2._, p2.title) }, A3), N2 && D$a("div", { class: v2(p2._, p2.subtitle) }, N2), _2 && D$a("div", { class: v2(p2._, p2.description) }, _2)), D$a("div", { "data-cy": e2.rippleSurface, "data-lf": a2.rippleSurface, ref: (t7) => T4 = t7 }), x2 && D$a("div", { class: v2(d2._, d2.actionsSection) }, w3));
})(t5), upload: () => ((t6) => {
  const { blocks: i2, compInstance: n2, defaults: e2, manager: o2, parts: a2, shapes: s2 } = t6().controller.get, { theme: l2 } = o2, { bemClass: u2 } = l2, { uploadLayout: f2 } = i2, { button: c2, upload: h2 } = s2(), v2 = n2, d2 = [], p2 = e2.upload.button();
  for (let t7 = 0; t7 < c2.length; t7++) d2.push(D$a(r, { shape: "button", cell: p2[t7] ? Object.assign(p2[t7], c2[t7]) : c2[t7], index: t7, eventDispatcher: async (t8) => v2.onLfEvent(t8, "lf-event"), framework: o2 }));
  const m2 = Boolean(d2 == null ? void 0 : d2.length), b2 = [];
  for (let t7 = 0; t7 < h2.length; t7++) b2.push(D$a(r, { shape: "upload", cell: h2[t7], index: t7, eventDispatcher: async (t8) => v2.onLfEvent(t8, "lf-event"), framework: o2 }));
  const g3 = Boolean(b2 == null ? void 0 : b2.length);
  return D$a("div", { class: u2(f2._), part: a2.uploadLayout }, g3 && D$a("div", { class: u2(f2._, f2.section1) }, b2[0]), m2 && D$a("div", { class: u2(f2._, f2.section2) }, d2[0]));
})(t5) }), _i = (t5) => ({ debug: Si(t5), keywords: Ci(t5) });
var Ti, Ii, Li, Di, Wi, Ei, Oi, Fi, Ri, Pi, Bi = function(t5, i2, n2, r2) {
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, Vi = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const ji = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-card-event"), this.lfDataset = null, this.lfLayout = "material", this.lfSizeX = "100%", this.lfSizeY = "100%", this.lfStyle = "", this.lfUiSize = "medium", this.lfUiState = "primary", Ti.set(this, void 0), Ii.set(this, LF_CARD_BLOCKS), Li.set(this, CY_ATTRIBUTES), Di.set(this, LF_ATTRIBUTES), Wi.set(this, LF_CARD_PARTS), Ei.set(this, LF_STYLE_ID), Oi.set(this, LF_CARD_CSS_VARS), Fi.set(this, LF_WRAPPER_ID), Ri.set(this, void 0), Pi.set(this, (() => {
      var t5, i2;
      Vi(this, Ri, (t5 = { blocks: Bi(this, Ii, "f"), compInstance: this, cyAttributes: Bi(this, Li, "f"), lfAttributes: Bi(this, Di, "f"), manager: Bi(this, Ti, "f"), parts: Bi(this, Wi, "f"), shapes: () => this.shapes }, { controller: { get: Ai(t5, i2 = () => Bi(this, Ri, "f")) }, elements: { jsx: { layouts: Ni(i2) }, refs: { layouts: { debug: { button: null, code: null, toggle: null }, keywords: { button: null, chip: null } } } }, handlers: { layouts: _i(i2) } }));
    }));
  }
  onLfEvent(t5, i2) {
    this.lfEvent.emit({ comp: this, id: this.rootElement.id, eventType: i2, originalEvent: t5 });
  }
  async updateShapes() {
    if (!Bi(this, Ti, "f")) return;
    const { data: t5, debug: i2 } = Bi(this, Ti, "f");
    try {
      this.shapes = t5.cell.shapes.getAll(this.lfDataset);
    } catch (t6) {
      i2.logs.new(this, "Error updating shapes: " + t6, "error");
    }
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_CARD_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async getShapes() {
    return this.shapes;
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    Bi(this, Ti, "f") && Bi(this, Ti, "f").theme.register(this);
  }
  async componentWillLoad() {
    Vi(this, Ti, await a(this)), Bi(this, Pi, "f").call(this), this.updateShapes();
  }
  componentDidLoad() {
    const { info: t5 } = Bi(this, Ti, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillUpdate() {
    const { info: t5 } = Bi(this, Ti, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = Bi(this, Ti, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { setLfStyle: t5 } = Bi(this, Ti, "f").theme, { lfDataset: i2, lfLayout: n2, lfSizeX: o2, lfSizeY: a2, lfStyle: s2, rootElement: l2 } = this;
    if (!i2 && l2.children.length < 1) return;
    const { layouts: u2 } = Bi(this, Ri, "f").elements.jsx, f2 = u2[n2.toLowerCase()];
    return D$a(W$e, null, D$a("style", { id: Bi(this, Ei, "f") }, `
        :host {
         ${Bi(this, Oi, "f").height}: ${a2 || "100%"};
         ${Bi(this, Oi, "f").width}: ${o2 || "100%"};
        }
        ${s2 && t5(this) || ""}`), D$a("div", { id: Bi(this, Fi, "f"), "data-lf": Bi(this, Di, "f").fadeIn, onClick: (t6) => this.onLfEvent(t6, "click"), onContextMenu: (t6) => this.onLfEvent(t6, "contextmenu"), onPointerDown: (t6) => this.onLfEvent(t6, "pointerdown"), part: Bi(this, Wi, "f").card }, f2()));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = Bi(this, Ti, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfDataset: ["updateShapes"] };
  }
};
Ti = /* @__PURE__ */ new WeakMap(), Ii = /* @__PURE__ */ new WeakMap(), Li = /* @__PURE__ */ new WeakMap(), Di = /* @__PURE__ */ new WeakMap(), Wi = /* @__PURE__ */ new WeakMap(), Ei = /* @__PURE__ */ new WeakMap(), Oi = /* @__PURE__ */ new WeakMap(), Fi = /* @__PURE__ */ new WeakMap(), Ri = /* @__PURE__ */ new WeakMap(), Pi = /* @__PURE__ */ new WeakMap(), ji.style = ".debug-layout{border:0;border-style:solid;border-radius:var(--lf-card-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-card-color-bg, var(--lf-color-bg)), 0.375);color:rgb(var(--lf-card-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%;display:grid;grid-template-rows:auto 1fr auto auto}.debug-layout__section-1{display:flex;justify-content:center;padding:1em}.debug-layout__section-2{overflow:auto}.keywords-layout{border:0;border-style:solid;border-radius:var(--lf-card-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-card-color-bg, var(--lf-color-bg)), 0.375);color:rgb(var(--lf-card-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%;display:grid;grid-template-rows:60% 1fr auto}.keywords-layout ::part(chart){backdrop-filter:unset;background-color:unset;-webkit-backdrop-filter:unset}.material-layout{border:0;border-style:solid;border-radius:var(--lf-card-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-card-color-bg, var(--lf-color-bg)), 0.25);color:rgb(var(--lf-card-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);width:100%;height:100%;transition:all 150ms cubic-bezier(0.42, 0, 0.58, 1);box-sizing:border-box;box-shadow:0 2px 1px -1px rgba(var(--lf-card-color-primary, var(--lf-color-primary)), 0.1), 0 1px 1px 0 rgba(var(--lf-card-color-primary, var(--lf-color-primary)), 0.1), 0 1px 3px 0 rgba(var(--lf-card-color-primary, var(--lf-color-primary)), 0.6);cursor:pointer;display:flex;flex-direction:column;overflow:auto;position:relative}.material-layout:focus,.material-layout:hover{background-color:rgba(var(--lf-card-color-primary, var(--lf-color-primary)), 0.075);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);box-shadow:0 2px 4px -1px rgba(var(--lf-card-color-primary, var(--lf-color-primary)), 0.1), 0 4px 5px 0 rgba(var(--lf-card-color-primary, var(--lf-color-primary)), 0.1), 0 1px 10px 0 rgba(var(--lf-card-color-primary, var(--lf-color-primary)), 0.6)}.material-layout lf-button{margin-right:0}.material-layout img{object-fit:cover}.material-layout--has-actions{padding-bottom:52px}.material-layout--has-actions .section-2 .sub-2.description{padding-bottom:0}.material-layout__cover-section{height:60%;width:100%}.material-layout__text-section{box-sizing:border-box;height:40%;overflow:auto;padding:0.75em 1em;width:100%}.material-layout__actions-section{align-items:center;bottom:0;box-sizing:border-box;display:flex;height:52px;justify-content:flex-end;left:0;padding:0 0.5em;position:absolute;text-align:right;width:100%}.material-layout__actions-section lf-button{margin-left:0.25em}.material-layout .text-content__title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:1.25em;font-weight:500;line-height:1.4em;letter-spacing:0em;margin:0}.material-layout .text-content__subtitle{font-size:0.875em;font-weight:500;line-height:1.375em;letter-spacing:0.01em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;opacity:0.6}.material-layout .text-content__description{font-size:0.875em;font-weight:400;line-height:1.4em;letter-spacing:0.02em;opacity:0.6;padding-top:0.75em;white-space:pre-wrap}[data-lf=ripple-surface]{pointer-events:none;z-index:1}.upload-layout{border:0;border-style:solid;border-radius:var(--lf-card-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-card-color-bg, var(--lf-color-bg)), 0.375);color:rgb(var(--lf-card-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%;display:grid;grid-template-rows:1fr auto}.upload-layout__section-1{overflow:hidden}::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=danger]{--lf-card-color-primary:var(\n    --lf-card-color-danger,\n    var(--lf-color-danger)\n  );--lf-card-color-on-primary:var(\n    --lf-card-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-card-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-card-color-primary:var(\n    --lf-card-color-info,\n    var(--lf-color-info)\n  );--lf-card-color-on-primary:var(\n    --lf-card-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-card-color-primary:var(\n    --lf-card-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-card-color-on-primary:var(\n    --lf-card-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-card-color-primary:var(\n    --lf-card-color-success,\n    var(--lf-color-success)\n  );--lf-card-color-on-primary:var(\n    --lf-card-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-card-color-primary:var(\n    --lf-card-color-warning,\n    var(--lf-color-warning)\n  );--lf-card-color-on-primary:var(\n    --lf-card-color-warning,\n    var(--lf-color-on-warning)\n  )}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-card-font-family, var(--lf-font-family-primary));font-size:var(--lf-card-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-card-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-card-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-card-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-card-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-card-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-card-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-card-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{color:rgb(var(--lf-card-color-on-bg, var(--lf-color-on-bg)));height:var(--lf_card_height);min-height:var(--lf_card_height);min-width:var(--lf_card_width);width:var(--lf_card_width)}#lf-component{border:0;border-style:solid;border-radius:var(--lf-card-border-radius, var(--lf-ui-border-radius))}";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Hi = function(t5, i2) {
  return Hi = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t6, i3) {
    t6.__proto__ = i3;
  } || function(t6, i3) {
    for (var n2 in i3) Object.prototype.hasOwnProperty.call(i3, n2) && (t6[n2] = i3[n2]);
  }, Hi(t5, i2);
};
function Yi(t5, i2) {
  if ("function" != typeof i2 && null !== i2) throw new TypeError("Class extends value " + String(i2) + " is not a constructor or null");
  function n2() {
    this.constructor = t5;
  }
  Hi(t5, i2), t5.prototype = null === i2 ? Object.create(i2) : (n2.prototype = i2.prototype, new n2());
}
var Xi = function() {
  this.firefox = false, this.ie = false, this.edge = false, this.newEdge = false, this.weChat = false;
}, Ui = new function() {
  this.browser = new Xi(), this.node = false, this.wxa = false, this.worker = false, this.svgSupported = false, this.touchEventsSupported = false, this.pointerEventsSupported = false, this.domSupported = false, this.transformSupported = false, this.transform3dSupported = false, this.hasGlobalWindow = "undefined" != typeof window;
}();
"object" == typeof wx && "function" == typeof wx.getSystemInfoSync ? (Ui.wxa = true, Ui.touchEventsSupported = true) : "undefined" == typeof document && "undefined" != typeof self ? Ui.worker = true : !Ui.hasGlobalWindow || "Deno" in window ? (Ui.node = true, Ui.svgSupported = true) : (function(t5, i2) {
  var n2 = i2.browser, r2 = t5.match(/Firefox\/([\d.]+)/), e2 = t5.match(/MSIE\s([\d.]+)/) || t5.match(/Trident\/.+?rv:(([\d.]+))/), o2 = t5.match(/Edge?\/([\d.]+)/), a2 = /micromessenger/i.test(t5);
  r2 && (n2.firefox = true, n2.version = r2[1]), e2 && (n2.ie = true, n2.version = e2[1]), o2 && (n2.edge = true, n2.version = o2[1], n2.newEdge = +o2[1].split(".")[0] > 18), a2 && (n2.weChat = true), i2.svgSupported = "undefined" != typeof SVGRect, i2.touchEventsSupported = "ontouchstart" in window && !n2.ie && !n2.edge, i2.pointerEventsSupported = "onpointerdown" in window && (n2.edge || n2.ie && +n2.version >= 11), i2.domSupported = "undefined" != typeof document;
  var s2 = document.documentElement.style;
  i2.transform3dSupported = (n2.ie && "transition" in s2 || n2.edge || "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix() || "MozPerspective" in s2) && !("OTransition" in s2), i2.transformSupported = i2.transform3dSupported || n2.ie && +n2.version >= 9;
})(navigator.userAgent, Ui);
var $i, Gi, Zi = "sans-serif", qi = "12px " + Zi, Ji = (function(t5) {
  var i2 = {};
  if ("undefined" == typeof JSON) return i2;
  for (var n2 = 0; n2 < 95; n2++) {
    var r2 = String.fromCharCode(n2 + 32), e2 = (t5.charCodeAt(n2) - 20) / 100;
    i2[r2] = e2;
  }
  return i2;
})("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"), Ki = { createCanvas: function() {
  return "undefined" != typeof document && document.createElement("canvas");
}, measureText: function(t5, i2) {
  if (!$i) {
    var n2 = Ki.createCanvas();
    $i = n2 && n2.getContext("2d");
  }
  if ($i) return Gi !== i2 && (Gi = $i.font = i2 || qi), $i.measureText(t5);
  t5 = t5 || "";
  var r2 = /((?:\d+)?\.?\d*)px/.exec(i2 = i2 || qi), e2 = r2 && +r2[1] || 12, o2 = 0;
  if (i2.indexOf("mono") >= 0) o2 = e2 * t5.length;
  else for (var a2 = 0; a2 < t5.length; a2++) {
    var s2 = Ji[t5[a2]];
    o2 += null == s2 ? e2 : s2 * e2;
  }
  return { width: o2 };
}, loadImage: function(t5, i2, n2) {
  var r2 = new Image();
  return r2.onload = i2, r2.onerror = n2, r2.src = t5, r2;
} }, Qi = zn(["Function", "RegExp", "Date", "Error", "CanvasGradient", "CanvasPattern", "Image", "Canvas"], (function(t5, i2) {
  return t5["[object " + i2 + "]"] = true, t5;
}), {}), tn = zn(["Int8", "Uint8", "Uint8Clamped", "Int16", "Uint16", "Int32", "Uint32", "Float32", "Float64"], (function(t5, i2) {
  return t5["[object " + i2 + "Array]"] = true, t5;
}), {}), nn = Object.prototype.toString, rn = Array.prototype, en = rn.forEach, on = rn.filter, an = rn.slice, sn = rn.map, ln = (function() {
}).constructor, un = ln ? ln.prototype : null, fn = "__proto__", cn = 2311;
function hn() {
  return cn++;
}
function vn() {
  for (var t5 = [], i2 = 0; i2 < arguments.length; i2++) t5[i2] = arguments[i2];
  "undefined" != typeof console && console.error.apply(console, t5);
}
function dn(t5) {
  if (null == t5 || "object" != typeof t5) return t5;
  var i2 = t5, n2 = nn.call(t5);
  if ("[object Array]" === n2) {
    if (!Zn(t5)) {
      i2 = [];
      for (var r2 = 0, e2 = t5.length; r2 < e2; r2++) i2[r2] = dn(t5[r2]);
    }
  } else if (tn[n2]) {
    if (!Zn(t5)) {
      var o2 = t5.constructor;
      if (o2.from) i2 = o2.from(t5);
      else for (i2 = new o2(t5.length), r2 = 0, e2 = t5.length; r2 < e2; r2++) i2[r2] = t5[r2];
    }
  } else if (!Qi[n2] && !Zn(t5) && !Fn(t5)) for (var a2 in i2 = {}, t5) t5.hasOwnProperty(a2) && a2 !== fn && (i2[a2] = dn(t5[a2]));
  return i2;
}
function pn(t5, i2, n2) {
  if (!Wn(i2) || !Wn(t5)) return n2 ? dn(i2) : t5;
  for (var r2 in i2) if (i2.hasOwnProperty(r2) && r2 !== fn) {
    var e2 = t5[r2], o2 = i2[r2];
    !Wn(o2) || !Wn(e2) || _n(o2) || _n(e2) || Fn(o2) || Fn(e2) || En(o2) || En(e2) || Zn(o2) || Zn(e2) ? !n2 && r2 in t5 || (t5[r2] = dn(i2[r2])) : pn(e2, o2, n2);
  }
  return t5;
}
function mn(t5, i2) {
  for (var n2 = t5[0], r2 = 1, e2 = t5.length; r2 < e2; r2++) n2 = pn(n2, t5[r2], i2);
  return n2;
}
function bn(t5, i2) {
  if (Object.assign) Object.assign(t5, i2);
  else for (var n2 in i2) i2.hasOwnProperty(n2) && n2 !== fn && (t5[n2] = i2[n2]);
  return t5;
}
function gn(t5, i2, n2) {
  for (var r2 = Cn(i2), e2 = 0, o2 = r2.length; e2 < o2; e2++) {
    var a2 = r2[e2];
    (n2 ? null != i2[a2] : null == t5[a2]) && (t5[a2] = i2[a2]);
  }
  return t5;
}
function yn(t5, i2) {
  if (t5) {
    if (t5.indexOf) return t5.indexOf(i2);
    for (var n2 = 0, r2 = t5.length; n2 < r2; n2++) if (t5[n2] === i2) return n2;
  }
  return -1;
}
function wn(t5, i2, n2) {
  if (t5 = "prototype" in t5 ? t5.prototype : t5, i2 = "prototype" in i2 ? i2.prototype : i2, Object.getOwnPropertyNames) for (var r2 = Object.getOwnPropertyNames(i2), e2 = 0; e2 < r2.length; e2++) {
    var o2 = r2[e2];
    "constructor" !== o2 && (n2 ? null != i2[o2] : null == t5[o2]) && (t5[o2] = i2[o2]);
  }
  else gn(t5, i2, n2);
}
function xn(t5) {
  return !!t5 && "string" != typeof t5 && "number" == typeof t5.length;
}
function kn(t5, i2, n2) {
  if (t5 && i2) if (t5.forEach && t5.forEach === en) t5.forEach(i2, n2);
  else if (t5.length === +t5.length) for (var r2 = 0, e2 = t5.length; r2 < e2; r2++) i2.call(n2, t5[r2], r2, t5);
  else for (var o2 in t5) t5.hasOwnProperty(o2) && i2.call(n2, t5[o2], o2, t5);
}
function Mn(t5, i2, n2) {
  if (!t5) return [];
  if (!i2) return Hn(t5);
  if (t5.map && t5.map === sn) return t5.map(i2, n2);
  for (var r2 = [], e2 = 0, o2 = t5.length; e2 < o2; e2++) r2.push(i2.call(n2, t5[e2], e2, t5));
  return r2;
}
function zn(t5, i2, n2, r2) {
  if (t5 && i2) {
    for (var e2 = 0, o2 = t5.length; e2 < o2; e2++) n2 = i2.call(r2, n2, t5[e2], e2, t5);
    return n2;
  }
}
function Sn(t5, i2, n2) {
  if (!t5) return [];
  if (!i2) return Hn(t5);
  if (t5.filter && t5.filter === on) return t5.filter(i2, n2);
  for (var r2 = [], e2 = 0, o2 = t5.length; e2 < o2; e2++) i2.call(n2, t5[e2], e2, t5) && r2.push(t5[e2]);
  return r2;
}
function Cn(t5) {
  if (!t5) return [];
  if (Object.keys) return Object.keys(t5);
  var i2 = [];
  for (var n2 in t5) t5.hasOwnProperty(n2) && i2.push(n2);
  return i2;
}
var An = un && Tn(un.bind) ? un.call.bind(un.bind) : function(t5, i2) {
  for (var n2 = [], r2 = 2; r2 < arguments.length; r2++) n2[r2 - 2] = arguments[r2];
  return function() {
    return t5.apply(i2, n2.concat(an.call(arguments)));
  };
};
function Nn(t5) {
  for (var i2 = [], n2 = 1; n2 < arguments.length; n2++) i2[n2 - 1] = arguments[n2];
  return function() {
    return t5.apply(this, i2.concat(an.call(arguments)));
  };
}
function _n(t5) {
  return Array.isArray ? Array.isArray(t5) : "[object Array]" === nn.call(t5);
}
function Tn(t5) {
  return "function" == typeof t5;
}
function In(t5) {
  return "string" == typeof t5;
}
function Ln(t5) {
  return "[object String]" === nn.call(t5);
}
function Dn(t5) {
  return "number" == typeof t5;
}
function Wn(t5) {
  var i2 = typeof t5;
  return "function" === i2 || !!t5 && "object" === i2;
}
function En(t5) {
  return !!Qi[nn.call(t5)];
}
function On(t5) {
  return !!tn[nn.call(t5)];
}
function Fn(t5) {
  return "object" == typeof t5 && "number" == typeof t5.nodeType && "object" == typeof t5.ownerDocument;
}
function Rn(t5) {
  return null != t5.colorStops;
}
function Pn(t5) {
  return t5 != t5;
}
function Bn() {
  for (var t5 = [], i2 = 0; i2 < arguments.length; i2++) t5[i2] = arguments[i2];
  for (var n2 = 0, r2 = t5.length; n2 < r2; n2++) if (null != t5[n2]) return t5[n2];
}
function Vn(t5, i2) {
  return null != t5 ? t5 : i2;
}
function jn(t5, i2, n2) {
  return null != t5 ? t5 : null != i2 ? i2 : n2;
}
function Hn(t5) {
  for (var i2 = [], n2 = 1; n2 < arguments.length; n2++) i2[n2 - 1] = arguments[n2];
  return an.apply(t5, i2);
}
function Yn(t5) {
  if ("number" == typeof t5) return [t5, t5, t5, t5];
  var i2 = t5.length;
  return 2 === i2 ? [t5[0], t5[1], t5[0], t5[1]] : 3 === i2 ? [t5[0], t5[1], t5[2], t5[1]] : t5;
}
function Xn(t5, i2) {
  if (!t5) throw new Error(i2);
}
function Un(t5) {
  return null == t5 ? null : "function" == typeof t5.trim ? t5.trim() : t5.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
}
var $n = "__ec_primitive__";
function Gn(t5) {
  t5[$n] = true;
}
function Zn(t5) {
  return t5[$n];
}
var qn = (function() {
  function t5() {
    this.data = {};
  }
  return t5.prototype.delete = function(t6) {
    var i2 = this.has(t6);
    return i2 && delete this.data[t6], i2;
  }, t5.prototype.has = function(t6) {
    return this.data.hasOwnProperty(t6);
  }, t5.prototype.get = function(t6) {
    return this.data[t6];
  }, t5.prototype.set = function(t6, i2) {
    return this.data[t6] = i2, this;
  }, t5.prototype.keys = function() {
    return Cn(this.data);
  }, t5.prototype.forEach = function(t6) {
    var i2 = this.data;
    for (var n2 in i2) i2.hasOwnProperty(n2) && t6(i2[n2], n2);
  }, t5;
})(), Jn = "function" == typeof Map, Kn = (function() {
  function t5(i2) {
    var n2 = _n(i2);
    this.data = Jn ? /* @__PURE__ */ new Map() : new qn();
    var r2 = this;
    function e2(t6, i3) {
      n2 ? r2.set(t6, i3) : r2.set(i3, t6);
    }
    i2 instanceof t5 ? i2.each(e2) : i2 && kn(i2, e2);
  }
  return t5.prototype.hasKey = function(t6) {
    return this.data.has(t6);
  }, t5.prototype.get = function(t6) {
    return this.data.get(t6);
  }, t5.prototype.set = function(t6, i2) {
    return this.data.set(t6, i2), i2;
  }, t5.prototype.each = function(t6, i2) {
    this.data.forEach((function(n2, r2) {
      t6.call(i2, n2, r2);
    }));
  }, t5.prototype.keys = function() {
    var t6 = this.data.keys();
    return Jn ? Array.from(t6) : t6;
  }, t5.prototype.removeKey = function(t6) {
    this.data.delete(t6);
  }, t5;
})();
function Qn(t5) {
  return new Kn(t5);
}
function tr(t5, i2) {
  for (var n2 = new t5.constructor(t5.length + i2.length), r2 = 0; r2 < t5.length; r2++) n2[r2] = t5[r2];
  var e2 = t5.length;
  for (r2 = 0; r2 < i2.length; r2++) n2[r2 + e2] = i2[r2];
  return n2;
}
function ir(t5, i2) {
  var n2;
  if (Object.create) n2 = Object.create(t5);
  else {
    var r2 = function() {
    };
    r2.prototype = t5, n2 = new r2();
  }
  return i2 && bn(n2, i2), n2;
}
function nr(t5) {
  var i2 = t5.style;
  i2.webkitUserSelect = "none", i2.userSelect = "none", i2.webkitTapHighlightColor = "rgba(0,0,0,0)", i2["-webkit-touch-callout"] = "none";
}
function rr(t5, i2) {
  return t5.hasOwnProperty(i2);
}
function er() {
}
var or = 180 / Math.PI;
function ar(t5, i2) {
  return null == t5 && (t5 = 0), null == i2 && (i2 = 0), [t5, i2];
}
function sr(t5, i2) {
  return t5[0] = i2[0], t5[1] = i2[1], t5;
}
function lr(t5) {
  return [t5[0], t5[1]];
}
function ur(t5, i2, n2) {
  return t5[0] = i2, t5[1] = n2, t5;
}
function fr(t5, i2, n2) {
  return t5[0] = i2[0] + n2[0], t5[1] = i2[1] + n2[1], t5;
}
function cr(t5, i2, n2, r2) {
  return t5[0] = i2[0] + n2[0] * r2, t5[1] = i2[1] + n2[1] * r2, t5;
}
function hr(t5, i2, n2) {
  return t5[0] = i2[0] - n2[0], t5[1] = i2[1] - n2[1], t5;
}
function vr(t5) {
  return Math.sqrt((function(t6) {
    return t6[0] * t6[0] + t6[1] * t6[1];
  })(t5));
}
function dr(t5, i2, n2) {
  return t5[0] = i2[0] * n2, t5[1] = i2[1] * n2, t5;
}
function pr(t5, i2) {
  var n2 = vr(i2);
  return 0 === n2 ? (t5[0] = 0, t5[1] = 0) : (t5[0] = i2[0] / n2, t5[1] = i2[1] / n2), t5;
}
function mr(t5, i2) {
  return Math.sqrt((t5[0] - i2[0]) * (t5[0] - i2[0]) + (t5[1] - i2[1]) * (t5[1] - i2[1]));
}
var br = mr, gr = function(t5, i2) {
  return (t5[0] - i2[0]) * (t5[0] - i2[0]) + (t5[1] - i2[1]) * (t5[1] - i2[1]);
};
function yr(t5, i2, n2, r2) {
  return t5[0] = i2[0] + r2 * (n2[0] - i2[0]), t5[1] = i2[1] + r2 * (n2[1] - i2[1]), t5;
}
function wr(t5, i2, n2) {
  var r2 = i2[0], e2 = i2[1];
  return t5[0] = n2[0] * r2 + n2[2] * e2 + n2[4], t5[1] = n2[1] * r2 + n2[3] * e2 + n2[5], t5;
}
function xr(t5, i2, n2) {
  return t5[0] = Math.min(i2[0], n2[0]), t5[1] = Math.min(i2[1], n2[1]), t5;
}
function kr(t5, i2, n2) {
  return t5[0] = Math.max(i2[0], n2[0]), t5[1] = Math.max(i2[1], n2[1]), t5;
}
var Mr = function(t5, i2) {
  this.target = t5, this.topTarget = i2 && i2.topTarget;
}, zr = (function() {
  function t5(t6) {
    this.handler = t6, t6.on("mousedown", this._dragStart, this), t6.on("mousemove", this._drag, this), t6.on("mouseup", this._dragEnd, this);
  }
  return t5.prototype._dragStart = function(t6) {
    for (var i2 = t6.target; i2 && !i2.draggable; ) i2 = i2.parent || i2.__hostTarget;
    i2 && (this._draggingTarget = i2, i2.dragging = true, this._x = t6.offsetX, this._y = t6.offsetY, this.handler.dispatchToElement(new Mr(i2, t6), "dragstart", t6.event));
  }, t5.prototype._drag = function(t6) {
    var i2 = this._draggingTarget;
    if (i2) {
      var n2 = t6.offsetX, r2 = t6.offsetY, e2 = n2 - this._x, o2 = r2 - this._y;
      this._x = n2, this._y = r2, i2.drift(e2, o2, t6), this.handler.dispatchToElement(new Mr(i2, t6), "drag", t6.event);
      var a2 = this.handler.findHover(n2, r2, i2).target, s2 = this._dropTarget;
      this._dropTarget = a2, i2 !== a2 && (s2 && a2 !== s2 && this.handler.dispatchToElement(new Mr(s2, t6), "dragleave", t6.event), a2 && a2 !== s2 && this.handler.dispatchToElement(new Mr(a2, t6), "dragenter", t6.event));
    }
  }, t5.prototype._dragEnd = function(t6) {
    var i2 = this._draggingTarget;
    i2 && (i2.dragging = false), this.handler.dispatchToElement(new Mr(i2, t6), "dragend", t6.event), this._dropTarget && this.handler.dispatchToElement(new Mr(this._dropTarget, t6), "drop", t6.event), this._draggingTarget = null, this._dropTarget = null;
  }, t5;
})(), Sr = (function() {
  function t5(t6) {
    t6 && (this._$eventProcessor = t6);
  }
  return t5.prototype.on = function(t6, i2, n2, r2) {
    this._$handlers || (this._$handlers = {});
    var e2 = this._$handlers;
    if ("function" == typeof i2 && (r2 = n2, n2 = i2, i2 = null), !n2 || !t6) return this;
    var o2 = this._$eventProcessor;
    null != i2 && o2 && o2.normalizeQuery && (i2 = o2.normalizeQuery(i2)), e2[t6] || (e2[t6] = []);
    for (var a2 = 0; a2 < e2[t6].length; a2++) if (e2[t6][a2].h === n2) return this;
    var s2 = { h: n2, query: i2, ctx: r2 || this, callAtLast: n2.zrEventfulCallAtLast }, l2 = e2[t6].length - 1, u2 = e2[t6][l2];
    return u2 && u2.callAtLast ? e2[t6].splice(l2, 0, s2) : e2[t6].push(s2), this;
  }, t5.prototype.isSilent = function(t6) {
    var i2 = this._$handlers;
    return !i2 || !i2[t6] || !i2[t6].length;
  }, t5.prototype.off = function(t6, i2) {
    var n2 = this._$handlers;
    if (!n2) return this;
    if (!t6) return this._$handlers = {}, this;
    if (i2) {
      if (n2[t6]) {
        for (var r2 = [], e2 = 0, o2 = n2[t6].length; e2 < o2; e2++) n2[t6][e2].h !== i2 && r2.push(n2[t6][e2]);
        n2[t6] = r2;
      }
      n2[t6] && 0 === n2[t6].length && delete n2[t6];
    } else delete n2[t6];
    return this;
  }, t5.prototype.trigger = function(t6) {
    for (var i2 = [], n2 = 1; n2 < arguments.length; n2++) i2[n2 - 1] = arguments[n2];
    if (!this._$handlers) return this;
    var r2 = this._$handlers[t6], e2 = this._$eventProcessor;
    if (r2) for (var o2 = i2.length, a2 = r2.length, s2 = 0; s2 < a2; s2++) {
      var l2 = r2[s2];
      if (!e2 || !e2.filter || null == l2.query || e2.filter(t6, l2.query)) switch (o2) {
        case 0:
          l2.h.call(l2.ctx);
          break;
        case 1:
          l2.h.call(l2.ctx, i2[0]);
          break;
        case 2:
          l2.h.call(l2.ctx, i2[0], i2[1]);
          break;
        default:
          l2.h.apply(l2.ctx, i2);
      }
    }
    return e2 && e2.afterTrigger && e2.afterTrigger(t6), this;
  }, t5.prototype.triggerWithContext = function(t6) {
    for (var i2 = [], n2 = 1; n2 < arguments.length; n2++) i2[n2 - 1] = arguments[n2];
    if (!this._$handlers) return this;
    var r2 = this._$handlers[t6], e2 = this._$eventProcessor;
    if (r2) for (var o2 = i2.length, a2 = i2[o2 - 1], s2 = r2.length, l2 = 0; l2 < s2; l2++) {
      var u2 = r2[l2];
      if (!e2 || !e2.filter || null == u2.query || e2.filter(t6, u2.query)) switch (o2) {
        case 0:
          u2.h.call(a2);
          break;
        case 1:
          u2.h.call(a2, i2[0]);
          break;
        case 2:
          u2.h.call(a2, i2[0], i2[1]);
          break;
        default:
          u2.h.apply(a2, i2.slice(1, o2 - 1));
      }
    }
    return e2 && e2.afterTrigger && e2.afterTrigger(t6), this;
  }, t5;
})(), Cr = Math.log(2);
function Ar(t5, i2, n2, r2, e2, o2) {
  var a2 = r2 + "-" + e2, s2 = t5.length;
  if (o2.hasOwnProperty(a2)) return o2[a2];
  if (1 === i2) {
    var l2 = Math.round(Math.log((1 << s2) - 1 & ~e2) / Cr);
    return t5[n2][l2];
  }
  for (var u2 = r2 | 1 << n2, f2 = n2 + 1; r2 & 1 << f2; ) f2++;
  for (var c2 = 0, h2 = 0, v2 = 0; h2 < s2; h2++) {
    var d2 = 1 << h2;
    d2 & e2 || (c2 += (v2 % 2 ? -1 : 1) * t5[n2][h2] * Ar(t5, i2 - 1, f2, u2, e2 | d2, o2), v2++);
  }
  return o2[a2] = c2, c2;
}
function Nr(t5, i2) {
  var n2 = [[t5[0], t5[1], 1, 0, 0, 0, -i2[0] * t5[0], -i2[0] * t5[1]], [0, 0, 0, t5[0], t5[1], 1, -i2[1] * t5[0], -i2[1] * t5[1]], [t5[2], t5[3], 1, 0, 0, 0, -i2[2] * t5[2], -i2[2] * t5[3]], [0, 0, 0, t5[2], t5[3], 1, -i2[3] * t5[2], -i2[3] * t5[3]], [t5[4], t5[5], 1, 0, 0, 0, -i2[4] * t5[4], -i2[4] * t5[5]], [0, 0, 0, t5[4], t5[5], 1, -i2[5] * t5[4], -i2[5] * t5[5]], [t5[6], t5[7], 1, 0, 0, 0, -i2[6] * t5[6], -i2[6] * t5[7]], [0, 0, 0, t5[6], t5[7], 1, -i2[7] * t5[6], -i2[7] * t5[7]]], r2 = {}, e2 = Ar(n2, 8, 0, 0, 0, r2);
  if (0 !== e2) {
    for (var o2 = [], a2 = 0; a2 < 8; a2++) for (var s2 = 0; s2 < 8; s2++) null == o2[s2] && (o2[s2] = 0), o2[s2] += ((a2 + s2) % 2 ? -1 : 1) * Ar(n2, 7, 0 === a2 ? 1 : 0, 1 << a2, 1 << s2, r2) / e2 * i2[a2];
    return function(t6, i3, n3) {
      var r3 = i3 * o2[6] + n3 * o2[7] + 1;
      t6[0] = (i3 * o2[0] + n3 * o2[1] + o2[2]) / r3, t6[1] = (i3 * o2[3] + n3 * o2[4] + o2[5]) / r3;
    };
  }
}
var _r = "___zrEVENTSAVED", Tr = [];
function Ir(t5, i2, n2, r2, e2) {
  if (i2.getBoundingClientRect && Ui.domSupported && !Lr(i2)) {
    var o2 = i2[_r] || (i2[_r] = {}), a2 = (function(t6, i3) {
      var n3 = i3.markers;
      if (n3) return n3;
      n3 = i3.markers = [];
      for (var r3 = ["left", "right"], e3 = ["top", "bottom"], o3 = 0; o3 < 4; o3++) {
        var a3 = document.createElement("div"), s3 = o3 % 2, l2 = (o3 >> 1) % 2;
        a3.style.cssText = ["position: absolute", "visibility: hidden", "padding: 0", "margin: 0", "border-width: 0", "user-select: none", "width:0", "height:0", r3[s3] + ":0", e3[l2] + ":0", r3[1 - s3] + ":auto", e3[1 - l2] + ":auto", ""].join("!important;"), t6.appendChild(a3), n3.push(a3);
      }
      return n3;
    })(i2, o2), s2 = (function(t6, i3, n3) {
      for (var r3 = n3 ? "invTrans" : "trans", e3 = i3[r3], o3 = i3.srcCoords, a3 = [], s3 = [], l2 = true, u2 = 0; u2 < 4; u2++) {
        var f2 = t6[u2].getBoundingClientRect(), c2 = 2 * u2, h2 = f2.left, v2 = f2.top;
        a3.push(h2, v2), l2 = l2 && o3 && h2 === o3[c2] && v2 === o3[c2 + 1], s3.push(t6[u2].offsetLeft, t6[u2].offsetTop);
      }
      return l2 && e3 ? e3 : (i3.srcCoords = a3, i3[r3] = n3 ? Nr(s3, a3) : Nr(a3, s3));
    })(a2, o2, e2);
    if (s2) return s2(t5, n2, r2), true;
  }
  return false;
}
function Lr(t5) {
  return "CANVAS" === t5.nodeName.toUpperCase();
}
var Dr = /([&<>"'])/g, Wr = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" };
function Er(t5) {
  return null == t5 ? "" : (t5 + "").replace(Dr, (function(t6, i2) {
    return Wr[i2];
  }));
}
var Or = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, Fr = [], Rr = Ui.browser.firefox && +Ui.browser.version.split(".")[0] < 39;
function Pr(t5, i2, n2, r2) {
  return n2 = n2 || {}, r2 ? Br(t5, i2, n2) : Rr && null != i2.layerX && i2.layerX !== i2.offsetX ? (n2.zrX = i2.layerX, n2.zrY = i2.layerY) : null != i2.offsetX ? (n2.zrX = i2.offsetX, n2.zrY = i2.offsetY) : Br(t5, i2, n2), n2;
}
function Br(t5, i2, n2) {
  if (Ui.domSupported && t5.getBoundingClientRect) {
    var r2 = i2.clientX, e2 = i2.clientY;
    if (Lr(t5)) {
      var o2 = t5.getBoundingClientRect();
      return n2.zrX = r2 - o2.left, void (n2.zrY = e2 - o2.top);
    }
    if (Ir(Fr, t5, r2, e2)) return n2.zrX = Fr[0], void (n2.zrY = Fr[1]);
  }
  n2.zrX = n2.zrY = 0;
}
function Vr(t5) {
  return t5 || window.event;
}
function jr(t5, i2, n2) {
  if (null != (i2 = Vr(i2)).zrX) return i2;
  var r2 = i2.type;
  if (r2 && r2.indexOf("touch") >= 0) {
    var e2 = "touchend" !== r2 ? i2.targetTouches[0] : i2.changedTouches[0];
    e2 && Pr(t5, e2, i2, n2);
  } else {
    Pr(t5, i2, i2, n2);
    var o2 = (function(t6) {
      var i3 = t6.wheelDelta;
      if (i3) return i3;
      var n3 = t6.deltaX, r3 = t6.deltaY;
      return null == n3 || null == r3 ? i3 : 3 * (0 !== r3 ? Math.abs(r3) : Math.abs(n3)) * (r3 > 0 ? -1 : r3 < 0 ? 1 : n3 > 0 ? -1 : 1);
    })(i2);
    i2.zrDelta = o2 ? o2 / 120 : -(i2.detail || 0) / 3;
  }
  var a2 = i2.button;
  return null == i2.which && void 0 !== a2 && Or.test(i2.type) && (i2.which = 1 & a2 ? 1 : 2 & a2 ? 3 : 4 & a2 ? 2 : 0), i2;
}
function Hr(t5, i2, n2, r2) {
  t5.addEventListener(i2, n2, r2);
}
var Yr = function(t5) {
  t5.preventDefault(), t5.stopPropagation(), t5.cancelBubble = true;
};
function Xr(t5) {
  return 2 === t5.which || 3 === t5.which;
}
var Ur = (function() {
  function t5() {
    this._track = [];
  }
  return t5.prototype.recognize = function(t6, i2, n2) {
    return this._doTrack(t6, i2, n2), this._recognize(t6);
  }, t5.prototype.clear = function() {
    return this._track.length = 0, this;
  }, t5.prototype._doTrack = function(t6, i2, n2) {
    var r2 = t6.touches;
    if (r2) {
      for (var e2 = { points: [], touches: [], target: i2, event: t6 }, o2 = 0, a2 = r2.length; o2 < a2; o2++) {
        var s2 = r2[o2], l2 = Pr(n2, s2, {});
        e2.points.push([l2.zrX, l2.zrY]), e2.touches.push(s2);
      }
      this._track.push(e2);
    }
  }, t5.prototype._recognize = function(t6) {
    for (var i2 in Gr) if (Gr.hasOwnProperty(i2)) {
      var n2 = Gr[i2](this._track, t6);
      if (n2) return n2;
    }
  }, t5;
})();
function $r(t5) {
  var i2 = t5[1][0] - t5[0][0], n2 = t5[1][1] - t5[0][1];
  return Math.sqrt(i2 * i2 + n2 * n2);
}
var Gr = { pinch: function(t5, i2) {
  var n2 = t5.length;
  if (n2) {
    var r2, e2 = (t5[n2 - 1] || {}).points, o2 = (t5[n2 - 2] || {}).points || e2;
    if (o2 && o2.length > 1 && e2 && e2.length > 1) {
      var a2 = $r(e2) / $r(o2);
      !isFinite(a2) && (a2 = 1), i2.pinchScale = a2;
      var s2 = [((r2 = e2)[0][0] + r2[1][0]) / 2, (r2[0][1] + r2[1][1]) / 2];
      return i2.pinchX = s2[0], i2.pinchY = s2[1], { type: "pinch", target: t5[0].target, event: i2 };
    }
  }
} };
function Zr(t5) {
  return t5[0] = 1, t5[1] = 0, t5[2] = 0, t5[3] = 1, t5[4] = 0, t5[5] = 0, t5;
}
function qr(t5, i2) {
  return t5[0] = i2[0], t5[1] = i2[1], t5[2] = i2[2], t5[3] = i2[3], t5[4] = i2[4], t5[5] = i2[5], t5;
}
function Jr(t5, i2, n2) {
  var r2 = i2[1] * n2[0] + i2[3] * n2[1], e2 = i2[0] * n2[2] + i2[2] * n2[3], o2 = i2[1] * n2[2] + i2[3] * n2[3], a2 = i2[0] * n2[4] + i2[2] * n2[5] + i2[4], s2 = i2[1] * n2[4] + i2[3] * n2[5] + i2[5];
  return t5[0] = i2[0] * n2[0] + i2[2] * n2[1], t5[1] = r2, t5[2] = e2, t5[3] = o2, t5[4] = a2, t5[5] = s2, t5;
}
function Kr(t5, i2, n2) {
  return t5[0] = i2[0], t5[1] = i2[1], t5[2] = i2[2], t5[3] = i2[3], t5[4] = i2[4] + n2[0], t5[5] = i2[5] + n2[1], t5;
}
function Qr(t5, i2, n2, r2) {
  void 0 === r2 && (r2 = [0, 0]);
  var e2 = i2[0], o2 = i2[2], a2 = i2[4], s2 = i2[1], l2 = i2[3], u2 = i2[5], f2 = Math.sin(n2), c2 = Math.cos(n2);
  return t5[0] = e2 * c2 + s2 * f2, t5[1] = -e2 * f2 + s2 * c2, t5[2] = o2 * c2 + l2 * f2, t5[3] = -o2 * f2 + c2 * l2, t5[4] = c2 * (a2 - r2[0]) + f2 * (u2 - r2[1]) + r2[0], t5[5] = c2 * (u2 - r2[1]) - f2 * (a2 - r2[0]) + r2[1], t5;
}
function te(t5, i2, n2) {
  var r2 = n2[0], e2 = n2[1];
  return t5[0] = i2[0] * r2, t5[1] = i2[1] * e2, t5[2] = i2[2] * r2, t5[3] = i2[3] * e2, t5[4] = i2[4] * r2, t5[5] = i2[5] * e2, t5;
}
function ie(t5, i2) {
  var n2 = i2[0], r2 = i2[2], e2 = i2[4], o2 = i2[1], a2 = i2[3], s2 = i2[5], l2 = n2 * a2 - o2 * r2;
  return l2 ? (t5[0] = a2 * (l2 = 1 / l2), t5[1] = -o2 * l2, t5[2] = -r2 * l2, t5[3] = n2 * l2, t5[4] = (r2 * s2 - a2 * e2) * l2, t5[5] = (o2 * e2 - n2 * s2) * l2, t5) : null;
}
var ne = (function() {
  function t5(t6, i2) {
    this.x = t6 || 0, this.y = i2 || 0;
  }
  return t5.prototype.copy = function(t6) {
    return this.x = t6.x, this.y = t6.y, this;
  }, t5.prototype.clone = function() {
    return new t5(this.x, this.y);
  }, t5.prototype.set = function(t6, i2) {
    return this.x = t6, this.y = i2, this;
  }, t5.prototype.equal = function(t6) {
    return t6.x === this.x && t6.y === this.y;
  }, t5.prototype.add = function(t6) {
    return this.x += t6.x, this.y += t6.y, this;
  }, t5.prototype.scale = function(t6) {
    this.x *= t6, this.y *= t6;
  }, t5.prototype.scaleAndAdd = function(t6, i2) {
    this.x += t6.x * i2, this.y += t6.y * i2;
  }, t5.prototype.sub = function(t6) {
    return this.x -= t6.x, this.y -= t6.y, this;
  }, t5.prototype.dot = function(t6) {
    return this.x * t6.x + this.y * t6.y;
  }, t5.prototype.len = function() {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  }, t5.prototype.lenSquare = function() {
    return this.x * this.x + this.y * this.y;
  }, t5.prototype.normalize = function() {
    var t6 = this.len();
    return this.x /= t6, this.y /= t6, this;
  }, t5.prototype.distance = function(t6) {
    var i2 = this.x - t6.x, n2 = this.y - t6.y;
    return Math.sqrt(i2 * i2 + n2 * n2);
  }, t5.prototype.distanceSquare = function(t6) {
    var i2 = this.x - t6.x, n2 = this.y - t6.y;
    return i2 * i2 + n2 * n2;
  }, t5.prototype.negate = function() {
    return this.x = -this.x, this.y = -this.y, this;
  }, t5.prototype.transform = function(t6) {
    if (t6) {
      var i2 = this.x, n2 = this.y;
      return this.x = t6[0] * i2 + t6[2] * n2 + t6[4], this.y = t6[1] * i2 + t6[3] * n2 + t6[5], this;
    }
  }, t5.prototype.toArray = function(t6) {
    return t6[0] = this.x, t6[1] = this.y, t6;
  }, t5.prototype.fromArray = function(t6) {
    this.x = t6[0], this.y = t6[1];
  }, t5.set = function(t6, i2, n2) {
    t6.x = i2, t6.y = n2;
  }, t5.copy = function(t6, i2) {
    t6.x = i2.x, t6.y = i2.y;
  }, t5.len = function(t6) {
    return Math.sqrt(t6.x * t6.x + t6.y * t6.y);
  }, t5.lenSquare = function(t6) {
    return t6.x * t6.x + t6.y * t6.y;
  }, t5.dot = function(t6, i2) {
    return t6.x * i2.x + t6.y * i2.y;
  }, t5.add = function(t6, i2, n2) {
    t6.x = i2.x + n2.x, t6.y = i2.y + n2.y;
  }, t5.sub = function(t6, i2, n2) {
    t6.x = i2.x - n2.x, t6.y = i2.y - n2.y;
  }, t5.scale = function(t6, i2, n2) {
    t6.x = i2.x * n2, t6.y = i2.y * n2;
  }, t5.scaleAndAdd = function(t6, i2, n2, r2) {
    t6.x = i2.x + n2.x * r2, t6.y = i2.y + n2.y * r2;
  }, t5.lerp = function(t6, i2, n2, r2) {
    var e2 = 1 - r2;
    t6.x = e2 * i2.x + r2 * n2.x, t6.y = e2 * i2.y + r2 * n2.y;
  }, t5;
})(), re = Math.min, ee = Math.max, oe = new ne(), ae = new ne(), se = new ne(), le = new ne(), ue = new ne(), fe = new ne(), ce = (function() {
  function t5(t6, i2, n2, r2) {
    n2 < 0 && (t6 += n2, n2 = -n2), r2 < 0 && (i2 += r2, r2 = -r2), this.x = t6, this.y = i2, this.width = n2, this.height = r2;
  }
  return t5.prototype.union = function(t6) {
    var i2 = re(t6.x, this.x), n2 = re(t6.y, this.y);
    this.width = isFinite(this.x) && isFinite(this.width) ? ee(t6.x + t6.width, this.x + this.width) - i2 : t6.width, this.height = isFinite(this.y) && isFinite(this.height) ? ee(t6.y + t6.height, this.y + this.height) - n2 : t6.height, this.x = i2, this.y = n2;
  }, t5.prototype.applyTransform = function(i2) {
    t5.applyTransform(this, this, i2);
  }, t5.prototype.calculateTransform = function(t6) {
    var i2 = this, n2 = t6.width / i2.width, r2 = t6.height / i2.height, e2 = [1, 0, 0, 1, 0, 0];
    return Kr(e2, e2, [-i2.x, -i2.y]), te(e2, e2, [n2, r2]), Kr(e2, e2, [t6.x, t6.y]), e2;
  }, t5.prototype.intersect = function(i2, n2) {
    if (!i2) return false;
    i2 instanceof t5 || (i2 = t5.create(i2));
    var r2 = this, e2 = r2.x, o2 = r2.x + r2.width, a2 = r2.y, s2 = r2.y + r2.height, l2 = i2.x, u2 = i2.x + i2.width, f2 = i2.y, c2 = i2.y + i2.height, h2 = !(o2 < l2 || u2 < e2 || s2 < f2 || c2 < a2);
    if (n2) {
      var v2 = 1 / 0, d2 = 0, p2 = Math.abs(o2 - l2), m2 = Math.abs(u2 - e2), b2 = Math.abs(s2 - f2), g3 = Math.abs(c2 - a2), y2 = Math.min(p2, m2), w3 = Math.min(b2, g3);
      o2 < l2 || u2 < e2 ? y2 > d2 && (d2 = y2, ne.set(fe, p2 < m2 ? -p2 : m2, 0)) : y2 < v2 && (v2 = y2, ne.set(ue, p2 < m2 ? p2 : -m2, 0)), s2 < f2 || c2 < a2 ? w3 > d2 && (d2 = w3, ne.set(fe, 0, b2 < g3 ? -b2 : g3)) : y2 < v2 && (v2 = y2, ne.set(ue, 0, b2 < g3 ? b2 : -g3));
    }
    return n2 && ne.copy(n2, h2 ? ue : fe), h2;
  }, t5.prototype.contain = function(t6, i2) {
    var n2 = this;
    return t6 >= n2.x && t6 <= n2.x + n2.width && i2 >= n2.y && i2 <= n2.y + n2.height;
  }, t5.prototype.clone = function() {
    return new t5(this.x, this.y, this.width, this.height);
  }, t5.prototype.copy = function(i2) {
    t5.copy(this, i2);
  }, t5.prototype.plain = function() {
    return { x: this.x, y: this.y, width: this.width, height: this.height };
  }, t5.prototype.isFinite = function() {
    return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);
  }, t5.prototype.isZero = function() {
    return 0 === this.width || 0 === this.height;
  }, t5.create = function(i2) {
    return new t5(i2.x, i2.y, i2.width, i2.height);
  }, t5.copy = function(t6, i2) {
    t6.x = i2.x, t6.y = i2.y, t6.width = i2.width, t6.height = i2.height;
  }, t5.applyTransform = function(i2, n2, r2) {
    if (r2) {
      if (r2[1] < 1e-5 && r2[1] > -1e-5 && r2[2] < 1e-5 && r2[2] > -1e-5) {
        var e2 = r2[0], o2 = r2[3], a2 = r2[5];
        return i2.x = n2.x * e2 + r2[4], i2.y = n2.y * o2 + a2, i2.width = n2.width * e2, i2.height = n2.height * o2, i2.width < 0 && (i2.x += i2.width, i2.width = -i2.width), void (i2.height < 0 && (i2.y += i2.height, i2.height = -i2.height));
      }
      oe.x = se.x = n2.x, oe.y = le.y = n2.y, ae.x = le.x = n2.x + n2.width, ae.y = se.y = n2.y + n2.height, oe.transform(r2), le.transform(r2), ae.transform(r2), se.transform(r2), i2.x = re(oe.x, ae.x, se.x, le.x), i2.y = re(oe.y, ae.y, se.y, le.y);
      var s2 = ee(oe.x, ae.x, se.x, le.x), l2 = ee(oe.y, ae.y, se.y, le.y);
      i2.width = s2 - i2.x, i2.height = l2 - i2.y;
    } else i2 !== n2 && t5.copy(i2, n2);
  }, t5;
})(), he = "silent";
function ve() {
  Yr(this.event);
}
var de = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.handler = null, i3;
  }
  return Yi(i2, t5), i2.prototype.dispose = function() {
  }, i2.prototype.setCursor = function() {
  }, i2;
})(Sr), pe = function(t5, i2) {
  this.x = t5, this.y = i2;
}, me = ["click", "dblclick", "mousewheel", "mouseout", "mouseup", "mousedown", "mousemove", "contextmenu"], be = new ce(0, 0, 0, 0), ge = (function(t5) {
  function i2(i3, n2, r2, e2, o2) {
    var a2 = t5.call(this) || this;
    return a2._hovered = new pe(0, 0), a2.storage = i3, a2.painter = n2, a2.painterRoot = e2, a2._pointerSize = o2, r2 = r2 || new de(), a2.proxy = null, a2.setHandlerProxy(r2), a2._draggingMgr = new zr(a2), a2;
  }
  return Yi(i2, t5), i2.prototype.setHandlerProxy = function(t6) {
    this.proxy && this.proxy.dispose(), t6 && (kn(me, (function(i3) {
      t6.on && t6.on(i3, this[i3], this);
    }), this), t6.handler = this), this.proxy = t6;
  }, i2.prototype.mousemove = function(t6) {
    var i3 = t6.zrX, n2 = t6.zrY, r2 = xe(this, i3, n2), e2 = this._hovered, o2 = e2.target;
    o2 && !o2.__zr && (o2 = (e2 = this.findHover(e2.x, e2.y)).target);
    var a2 = this._hovered = r2 ? new pe(i3, n2) : this.findHover(i3, n2), s2 = a2.target, l2 = this.proxy;
    l2.setCursor && l2.setCursor(s2 ? s2.cursor : "default"), o2 && s2 !== o2 && this.dispatchToElement(e2, "mouseout", t6), this.dispatchToElement(a2, "mousemove", t6), s2 && s2 !== o2 && this.dispatchToElement(a2, "mouseover", t6);
  }, i2.prototype.mouseout = function(t6) {
    var i3 = t6.zrEventControl;
    "only_globalout" !== i3 && this.dispatchToElement(this._hovered, "mouseout", t6), "no_globalout" !== i3 && this.trigger("globalout", { type: "globalout", event: t6 });
  }, i2.prototype.resize = function() {
    this._hovered = new pe(0, 0);
  }, i2.prototype.dispatch = function(t6, i3) {
    var n2 = this[t6];
    n2 && n2.call(this, i3);
  }, i2.prototype.dispose = function() {
    this.proxy.dispose(), this.storage = null, this.proxy = null, this.painter = null;
  }, i2.prototype.setCursorStyle = function(t6) {
    var i3 = this.proxy;
    i3.setCursor && i3.setCursor(t6);
  }, i2.prototype.dispatchToElement = function(t6, i3, n2) {
    var r2 = (t6 = t6 || {}).target;
    if (!r2 || !r2.silent) {
      for (var e2 = "on" + i3, o2 = (function(t7, i4, n3) {
        return { type: t7, event: n3, target: i4.target, topTarget: i4.topTarget, cancelBubble: false, offsetX: n3.zrX, offsetY: n3.zrY, gestureEvent: n3.gestureEvent, pinchX: n3.pinchX, pinchY: n3.pinchY, pinchScale: n3.pinchScale, wheelDelta: n3.zrDelta, zrByTouch: n3.zrByTouch, which: n3.which, stop: ve };
      })(i3, t6, n2); r2 && (r2[e2] && (o2.cancelBubble = !!r2[e2].call(r2, o2)), r2.trigger(i3, o2), r2 = r2.__hostTarget ? r2.__hostTarget : r2.parent, !o2.cancelBubble); ) ;
      o2.cancelBubble || (this.trigger(i3, o2), this.painter && this.painter.eachOtherLayer && this.painter.eachOtherLayer((function(t7) {
        "function" == typeof t7[e2] && t7[e2].call(t7, o2), t7.trigger && t7.trigger(i3, o2);
      })));
    }
  }, i2.prototype.findHover = function(t6, i3, n2) {
    var r2 = this.storage.getDisplayList(), e2 = new pe(t6, i3);
    if (we(r2, e2, t6, i3, n2), this._pointerSize && !e2.target) {
      for (var o2 = [], a2 = this._pointerSize, s2 = a2 / 2, l2 = new ce(t6 - s2, i3 - s2, a2, a2), u2 = r2.length - 1; u2 >= 0; u2--) {
        var f2 = r2[u2];
        f2 === n2 || f2.ignore || f2.ignoreCoarsePointer || f2.parent && f2.parent.ignoreCoarsePointer || (be.copy(f2.getBoundingRect()), f2.transform && be.applyTransform(f2.transform), be.intersect(l2) && o2.push(f2));
      }
      if (o2.length) {
        for (var c2 = Math.PI / 12, h2 = 2 * Math.PI, v2 = 0; v2 < s2; v2 += 4) for (var d2 = 0; d2 < h2; d2 += c2) if (we(o2, e2, t6 + v2 * Math.cos(d2), i3 + v2 * Math.sin(d2), n2), e2.target) return e2;
      }
    }
    return e2;
  }, i2.prototype.processGesture = function(t6, i3) {
    this._gestureMgr || (this._gestureMgr = new Ur());
    var n2 = this._gestureMgr;
    "start" === i3 && n2.clear();
    var r2 = n2.recognize(t6, this.findHover(t6.zrX, t6.zrY, null).target, this.proxy.dom);
    if ("end" === i3 && n2.clear(), r2) {
      var e2 = r2.type;
      t6.gestureEvent = e2;
      var o2 = new pe();
      o2.target = r2.target, this.dispatchToElement(o2, e2, r2.event);
    }
  }, i2;
})(Sr);
function ye(t5, i2, n2) {
  if (t5[t5.rectHover ? "rectContain" : "contain"](i2, n2)) {
    for (var r2 = t5, e2 = void 0, o2 = false; r2; ) {
      if (r2.ignoreClip && (o2 = true), !o2) {
        var a2 = r2.getClipPath();
        if (a2 && !a2.contain(i2, n2)) return false;
      }
      r2.silent && (e2 = true), r2 = r2.__hostTarget || r2.parent;
    }
    return !e2 || he;
  }
  return false;
}
function we(t5, i2, n2, r2, e2) {
  for (var o2 = t5.length - 1; o2 >= 0; o2--) {
    var a2 = t5[o2], s2 = void 0;
    if (a2 !== e2 && !a2.ignore && (s2 = ye(a2, n2, r2)) && (!i2.topTarget && (i2.topTarget = a2), s2 !== he)) {
      i2.target = a2;
      break;
    }
  }
}
function xe(t5, i2, n2) {
  var r2 = t5.painter;
  return i2 < 0 || i2 > r2.getWidth() || n2 < 0 || n2 > r2.getHeight();
}
function ke(t5, i2, n2, r2) {
  var e2 = i2 + 1;
  if (e2 === n2) return 1;
  if (r2(t5[e2++], t5[i2]) < 0) {
    for (; e2 < n2 && r2(t5[e2], t5[e2 - 1]) < 0; ) e2++;
    !(function(t6, i3, n3) {
      for (n3--; i3 < n3; ) {
        var r3 = t6[i3];
        t6[i3++] = t6[n3], t6[n3--] = r3;
      }
    })(t5, i2, e2);
  } else for (; e2 < n2 && r2(t5[e2], t5[e2 - 1]) >= 0; ) e2++;
  return e2 - i2;
}
function Me2(t5, i2, n2, r2, e2) {
  for (r2 === i2 && r2++; r2 < n2; r2++) {
    for (var o2, a2 = t5[r2], s2 = i2, l2 = r2; s2 < l2; ) e2(a2, t5[o2 = s2 + l2 >>> 1]) < 0 ? l2 = o2 : s2 = o2 + 1;
    var u2 = r2 - s2;
    switch (u2) {
      case 3:
        t5[s2 + 3] = t5[s2 + 2];
      case 2:
        t5[s2 + 2] = t5[s2 + 1];
      case 1:
        t5[s2 + 1] = t5[s2];
        break;
      default:
        for (; u2 > 0; ) t5[s2 + u2] = t5[s2 + u2 - 1], u2--;
    }
    t5[s2] = a2;
  }
}
function ze(t5, i2, n2, r2, e2, o2) {
  var a2 = 0, s2 = 0, l2 = 1;
  if (o2(t5, i2[n2 + e2]) > 0) {
    for (s2 = r2 - e2; l2 < s2 && o2(t5, i2[n2 + e2 + l2]) > 0; ) a2 = l2, (l2 = 1 + (l2 << 1)) <= 0 && (l2 = s2);
    l2 > s2 && (l2 = s2), a2 += e2, l2 += e2;
  } else {
    for (s2 = e2 + 1; l2 < s2 && o2(t5, i2[n2 + e2 - l2]) <= 0; ) a2 = l2, (l2 = 1 + (l2 << 1)) <= 0 && (l2 = s2);
    l2 > s2 && (l2 = s2);
    var u2 = a2;
    a2 = e2 - l2, l2 = e2 - u2;
  }
  for (a2++; a2 < l2; ) {
    var f2 = a2 + (l2 - a2 >>> 1);
    o2(t5, i2[n2 + f2]) > 0 ? a2 = f2 + 1 : l2 = f2;
  }
  return l2;
}
function Se(t5, i2, n2, r2, e2, o2) {
  var a2 = 0, s2 = 0, l2 = 1;
  if (o2(t5, i2[n2 + e2]) < 0) {
    for (s2 = e2 + 1; l2 < s2 && o2(t5, i2[n2 + e2 - l2]) < 0; ) a2 = l2, (l2 = 1 + (l2 << 1)) <= 0 && (l2 = s2);
    l2 > s2 && (l2 = s2);
    var u2 = a2;
    a2 = e2 - l2, l2 = e2 - u2;
  } else {
    for (s2 = r2 - e2; l2 < s2 && o2(t5, i2[n2 + e2 + l2]) >= 0; ) a2 = l2, (l2 = 1 + (l2 << 1)) <= 0 && (l2 = s2);
    l2 > s2 && (l2 = s2), a2 += e2, l2 += e2;
  }
  for (a2++; a2 < l2; ) {
    var f2 = a2 + (l2 - a2 >>> 1);
    o2(t5, i2[n2 + f2]) < 0 ? l2 = f2 : a2 = f2 + 1;
  }
  return l2;
}
function Ce(t5, i2, n2, r2) {
  n2 || (n2 = 0), r2 || (r2 = t5.length);
  var e2 = r2 - n2;
  if (!(e2 < 2)) {
    var o2 = 0;
    if (e2 < 32) Me2(t5, n2, r2, n2 + (o2 = ke(t5, n2, r2, i2)), i2);
    else {
      var a2 = (function(t6, i3) {
        var n3, r3, e3 = 7, o3 = 0, a3 = [];
        function s3(s4) {
          var l3 = n3[s4], u2 = r3[s4], f2 = n3[s4 + 1], c2 = r3[s4 + 1];
          r3[s4] = u2 + c2, s4 === o3 - 3 && (n3[s4 + 1] = n3[s4 + 2], r3[s4 + 1] = r3[s4 + 2]), o3--;
          var h2 = Se(t6[f2], t6, l3, u2, 0, i3);
          l3 += h2, 0 != (u2 -= h2) && 0 !== (c2 = ze(t6[l3 + u2 - 1], t6, f2, c2, c2 - 1, i3)) && (u2 <= c2 ? (function(n4, r4, o4, s5) {
            var l4 = 0;
            for (l4 = 0; l4 < r4; l4++) a3[l4] = t6[n4 + l4];
            var u3 = 0, f3 = o4, c3 = n4;
            if (t6[c3++] = t6[f3++], 0 != --s5) if (1 !== r4) {
              for (var h3, v2, d2, p2 = e3; ; ) {
                h3 = 0, v2 = 0, d2 = false;
                do {
                  if (i3(t6[f3], a3[u3]) < 0) {
                    if (t6[c3++] = t6[f3++], v2++, h3 = 0, 0 == --s5) {
                      d2 = true;
                      break;
                    }
                  } else if (t6[c3++] = a3[u3++], h3++, v2 = 0, 1 == --r4) {
                    d2 = true;
                    break;
                  }
                } while ((h3 | v2) < p2);
                if (d2) break;
                do {
                  if (0 !== (h3 = Se(t6[f3], a3, u3, r4, 0, i3))) {
                    for (l4 = 0; l4 < h3; l4++) t6[c3 + l4] = a3[u3 + l4];
                    if (c3 += h3, u3 += h3, (r4 -= h3) <= 1) {
                      d2 = true;
                      break;
                    }
                  }
                  if (t6[c3++] = t6[f3++], 0 == --s5) {
                    d2 = true;
                    break;
                  }
                  if (0 !== (v2 = ze(a3[u3], t6, f3, s5, 0, i3))) {
                    for (l4 = 0; l4 < v2; l4++) t6[c3 + l4] = t6[f3 + l4];
                    if (c3 += v2, f3 += v2, 0 == (s5 -= v2)) {
                      d2 = true;
                      break;
                    }
                  }
                  if (t6[c3++] = a3[u3++], 1 == --r4) {
                    d2 = true;
                    break;
                  }
                  p2--;
                } while (h3 >= 7 || v2 >= 7);
                if (d2) break;
                p2 < 0 && (p2 = 0), p2 += 2;
              }
              if ((e3 = p2) < 1 && (e3 = 1), 1 === r4) {
                for (l4 = 0; l4 < s5; l4++) t6[c3 + l4] = t6[f3 + l4];
                t6[c3 + s5] = a3[u3];
              } else {
                if (0 === r4) throw new Error();
                for (l4 = 0; l4 < r4; l4++) t6[c3 + l4] = a3[u3 + l4];
              }
            } else {
              for (l4 = 0; l4 < s5; l4++) t6[c3 + l4] = t6[f3 + l4];
              t6[c3 + s5] = a3[u3];
            }
            else for (l4 = 0; l4 < r4; l4++) t6[c3 + l4] = a3[u3 + l4];
          })(l3, u2, f2, c2) : (function(n4, r4, o4, s5) {
            var l4 = 0;
            for (l4 = 0; l4 < s5; l4++) a3[l4] = t6[o4 + l4];
            var u3 = n4 + r4 - 1, f3 = s5 - 1, c3 = o4 + s5 - 1, h3 = 0, v2 = 0;
            if (t6[c3--] = t6[u3--], 0 != --r4) if (1 !== s5) {
              for (var d2 = e3; ; ) {
                var p2 = 0, m2 = 0, b2 = false;
                do {
                  if (i3(a3[f3], t6[u3]) < 0) {
                    if (t6[c3--] = t6[u3--], p2++, m2 = 0, 0 == --r4) {
                      b2 = true;
                      break;
                    }
                  } else if (t6[c3--] = a3[f3--], m2++, p2 = 0, 1 == --s5) {
                    b2 = true;
                    break;
                  }
                } while ((p2 | m2) < d2);
                if (b2) break;
                do {
                  if (0 != (p2 = r4 - Se(a3[f3], t6, n4, r4, r4 - 1, i3))) {
                    for (r4 -= p2, v2 = 1 + (c3 -= p2), h3 = 1 + (u3 -= p2), l4 = p2 - 1; l4 >= 0; l4--) t6[v2 + l4] = t6[h3 + l4];
                    if (0 === r4) {
                      b2 = true;
                      break;
                    }
                  }
                  if (t6[c3--] = a3[f3--], 1 == --s5) {
                    b2 = true;
                    break;
                  }
                  if (0 != (m2 = s5 - ze(t6[u3], a3, 0, s5, s5 - 1, i3))) {
                    for (s5 -= m2, v2 = 1 + (c3 -= m2), h3 = 1 + (f3 -= m2), l4 = 0; l4 < m2; l4++) t6[v2 + l4] = a3[h3 + l4];
                    if (s5 <= 1) {
                      b2 = true;
                      break;
                    }
                  }
                  if (t6[c3--] = t6[u3--], 0 == --r4) {
                    b2 = true;
                    break;
                  }
                  d2--;
                } while (p2 >= 7 || m2 >= 7);
                if (b2) break;
                d2 < 0 && (d2 = 0), d2 += 2;
              }
              if ((e3 = d2) < 1 && (e3 = 1), 1 === s5) {
                for (v2 = 1 + (c3 -= r4), h3 = 1 + (u3 -= r4), l4 = r4 - 1; l4 >= 0; l4--) t6[v2 + l4] = t6[h3 + l4];
                t6[c3] = a3[f3];
              } else {
                if (0 === s5) throw new Error();
                for (h3 = c3 - (s5 - 1), l4 = 0; l4 < s5; l4++) t6[h3 + l4] = a3[l4];
              }
            } else {
              for (v2 = 1 + (c3 -= r4), h3 = 1 + (u3 -= r4), l4 = r4 - 1; l4 >= 0; l4--) t6[v2 + l4] = t6[h3 + l4];
              t6[c3] = a3[f3];
            }
            else for (h3 = c3 - (s5 - 1), l4 = 0; l4 < s5; l4++) t6[h3 + l4] = a3[l4];
          })(l3, u2, f2, c2));
        }
        return n3 = [], r3 = [], { mergeRuns: function() {
          for (; o3 > 1; ) {
            var t7 = o3 - 2;
            if (t7 >= 1 && r3[t7 - 1] <= r3[t7] + r3[t7 + 1] || t7 >= 2 && r3[t7 - 2] <= r3[t7] + r3[t7 - 1]) r3[t7 - 1] < r3[t7 + 1] && t7--;
            else if (r3[t7] > r3[t7 + 1]) break;
            s3(t7);
          }
        }, forceMergeRuns: function() {
          for (; o3 > 1; ) {
            var t7 = o3 - 2;
            t7 > 0 && r3[t7 - 1] < r3[t7 + 1] && t7--, s3(t7);
          }
        }, pushRun: function(t7, i4) {
          n3[o3] = t7, r3[o3] = i4, o3 += 1;
        } };
      })(t5, i2), s2 = (function(t6) {
        for (var i3 = 0; t6 >= 32; ) i3 |= 1 & t6, t6 >>= 1;
        return t6 + i3;
      })(e2);
      do {
        if ((o2 = ke(t5, n2, r2, i2)) < s2) {
          var l2 = e2;
          l2 > s2 && (l2 = s2), Me2(t5, n2, n2 + l2, n2 + o2, i2), o2 = l2;
        }
        a2.pushRun(n2, o2), a2.mergeRuns(), e2 -= o2, n2 += o2;
      } while (0 !== e2);
      a2.forceMergeRuns();
    }
  }
}
kn(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], (function(t5) {
  ge.prototype[t5] = function(i2) {
    var n2, r2, e2 = i2.zrX, o2 = i2.zrY, a2 = xe(this, e2, o2);
    if ("mouseup" === t5 && a2 || (r2 = (n2 = this.findHover(e2, o2)).target), "mousedown" === t5) this._downEl = r2, this._downPoint = [i2.zrX, i2.zrY], this._upEl = r2;
    else if ("mouseup" === t5) this._upEl = r2;
    else if ("click" === t5) {
      if (this._downEl !== this._upEl || !this._downPoint || br(this._downPoint, [i2.zrX, i2.zrY]) > 4) return;
      this._downPoint = null;
    }
    this.dispatchToElement(n2, t5, i2);
  };
}));
var Ae = false;
function Ne() {
  Ae || (Ae = true, console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"));
}
function _e(t5, i2) {
  return t5.zlevel === i2.zlevel ? t5.z === i2.z ? t5.z2 - i2.z2 : t5.z - i2.z : t5.zlevel - i2.zlevel;
}
var Te, Ie = (function() {
  function t5() {
    this._roots = [], this._displayList = [], this._displayListLen = 0, this.displayableSortFunc = _e;
  }
  return t5.prototype.traverse = function(t6, i2) {
    for (var n2 = 0; n2 < this._roots.length; n2++) this._roots[n2].traverse(t6, i2);
  }, t5.prototype.getDisplayList = function(t6, i2) {
    i2 = i2 || false;
    var n2 = this._displayList;
    return !t6 && n2.length || this.updateDisplayList(i2), n2;
  }, t5.prototype.updateDisplayList = function(t6) {
    this._displayListLen = 0;
    for (var i2 = this._roots, n2 = this._displayList, r2 = 0, e2 = i2.length; r2 < e2; r2++) this._updateAndAddDisplayable(i2[r2], null, t6);
    n2.length = this._displayListLen, Ce(n2, _e);
  }, t5.prototype._updateAndAddDisplayable = function(t6, i2, n2) {
    if (!t6.ignore || n2) {
      t6.beforeUpdate(), t6.update(), t6.afterUpdate();
      var r2 = t6.getClipPath();
      if (t6.ignoreClip) i2 = null;
      else if (r2) {
        i2 = i2 ? i2.slice() : [];
        for (var e2 = r2, o2 = t6; e2; ) e2.parent = o2, e2.updateTransform(), i2.push(e2), o2 = e2, e2 = e2.getClipPath();
      }
      if (t6.childrenRef) {
        for (var a2 = t6.childrenRef(), s2 = 0; s2 < a2.length; s2++) {
          var l2 = a2[s2];
          t6.__dirty && (l2.__dirty |= 1), this._updateAndAddDisplayable(l2, i2, n2);
        }
        t6.__dirty = 0;
      } else {
        var u2 = t6;
        i2 && i2.length ? u2.__clipPaths = i2 : u2.__clipPaths && u2.__clipPaths.length > 0 && (u2.__clipPaths = []), isNaN(u2.z) && (Ne(), u2.z = 0), isNaN(u2.z2) && (Ne(), u2.z2 = 0), isNaN(u2.zlevel) && (Ne(), u2.zlevel = 0), this._displayList[this._displayListLen++] = u2;
      }
      var f2 = t6.getDecalElement && t6.getDecalElement();
      f2 && this._updateAndAddDisplayable(f2, i2, n2);
      var c2 = t6.getTextGuideLine();
      c2 && this._updateAndAddDisplayable(c2, i2, n2);
      var h2 = t6.getTextContent();
      h2 && this._updateAndAddDisplayable(h2, i2, n2);
    }
  }, t5.prototype.addRoot = function(t6) {
    t6.__zr && t6.__zr.storage === this || this._roots.push(t6);
  }, t5.prototype.delRoot = function(t6) {
    if (t6 instanceof Array) for (var i2 = 0, n2 = t6.length; i2 < n2; i2++) this.delRoot(t6[i2]);
    else {
      var r2 = yn(this._roots, t6);
      r2 >= 0 && this._roots.splice(r2, 1);
    }
  }, t5.prototype.delAllRoots = function() {
    this._roots = [], this._displayList = [], this._displayListLen = 0;
  }, t5.prototype.getRoots = function() {
    return this._roots;
  }, t5.prototype.dispose = function() {
    this._displayList = null, this._roots = null;
  }, t5;
})();
Te = Ui.hasGlobalWindow && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function(t5) {
  return setTimeout(t5, 16);
};
var Le = { linear: function(t5) {
  return t5;
}, quadraticIn: function(t5) {
  return t5 * t5;
}, quadraticOut: function(t5) {
  return t5 * (2 - t5);
}, quadraticInOut: function(t5) {
  return (t5 *= 2) < 1 ? 0.5 * t5 * t5 : -0.5 * (--t5 * (t5 - 2) - 1);
}, cubicIn: function(t5) {
  return t5 * t5 * t5;
}, cubicOut: function(t5) {
  return --t5 * t5 * t5 + 1;
}, cubicInOut: function(t5) {
  return (t5 *= 2) < 1 ? 0.5 * t5 * t5 * t5 : 0.5 * ((t5 -= 2) * t5 * t5 + 2);
}, quarticIn: function(t5) {
  return t5 * t5 * t5 * t5;
}, quarticOut: function(t5) {
  return 1 - --t5 * t5 * t5 * t5;
}, quarticInOut: function(t5) {
  return (t5 *= 2) < 1 ? 0.5 * t5 * t5 * t5 * t5 : -0.5 * ((t5 -= 2) * t5 * t5 * t5 - 2);
}, quinticIn: function(t5) {
  return t5 * t5 * t5 * t5 * t5;
}, quinticOut: function(t5) {
  return --t5 * t5 * t5 * t5 * t5 + 1;
}, quinticInOut: function(t5) {
  return (t5 *= 2) < 1 ? 0.5 * t5 * t5 * t5 * t5 * t5 : 0.5 * ((t5 -= 2) * t5 * t5 * t5 * t5 + 2);
}, sinusoidalIn: function(t5) {
  return 1 - Math.cos(t5 * Math.PI / 2);
}, sinusoidalOut: function(t5) {
  return Math.sin(t5 * Math.PI / 2);
}, sinusoidalInOut: function(t5) {
  return 0.5 * (1 - Math.cos(Math.PI * t5));
}, exponentialIn: function(t5) {
  return 0 === t5 ? 0 : Math.pow(1024, t5 - 1);
}, exponentialOut: function(t5) {
  return 1 === t5 ? 1 : 1 - Math.pow(2, -10 * t5);
}, exponentialInOut: function(t5) {
  return 0 === t5 ? 0 : 1 === t5 ? 1 : (t5 *= 2) < 1 ? 0.5 * Math.pow(1024, t5 - 1) : 0.5 * (2 - Math.pow(2, -10 * (t5 - 1)));
}, circularIn: function(t5) {
  return 1 - Math.sqrt(1 - t5 * t5);
}, circularOut: function(t5) {
  return Math.sqrt(1 - --t5 * t5);
}, circularInOut: function(t5) {
  return (t5 *= 2) < 1 ? -0.5 * (Math.sqrt(1 - t5 * t5) - 1) : 0.5 * (Math.sqrt(1 - (t5 -= 2) * t5) + 1);
}, elasticIn: function(t5) {
  var i2, n2 = 0.1;
  return 0 === t5 ? 0 : 1 === t5 ? 1 : (!n2 || n2 < 1 ? (n2 = 1, i2 = 0.1) : i2 = 0.4 * Math.asin(1 / n2) / (2 * Math.PI), -n2 * Math.pow(2, 10 * (t5 -= 1)) * Math.sin((t5 - i2) * (2 * Math.PI) / 0.4));
}, elasticOut: function(t5) {
  var i2, n2 = 0.1;
  return 0 === t5 ? 0 : 1 === t5 ? 1 : (!n2 || n2 < 1 ? (n2 = 1, i2 = 0.1) : i2 = 0.4 * Math.asin(1 / n2) / (2 * Math.PI), n2 * Math.pow(2, -10 * t5) * Math.sin((t5 - i2) * (2 * Math.PI) / 0.4) + 1);
}, elasticInOut: function(t5) {
  var i2, n2 = 0.1;
  return 0 === t5 ? 0 : 1 === t5 ? 1 : (!n2 || n2 < 1 ? (n2 = 1, i2 = 0.1) : i2 = 0.4 * Math.asin(1 / n2) / (2 * Math.PI), (t5 *= 2) < 1 ? n2 * Math.pow(2, 10 * (t5 -= 1)) * Math.sin((t5 - i2) * (2 * Math.PI) / 0.4) * -0.5 : n2 * Math.pow(2, -10 * (t5 -= 1)) * Math.sin((t5 - i2) * (2 * Math.PI) / 0.4) * 0.5 + 1);
}, backIn: function(t5) {
  var i2 = 1.70158;
  return t5 * t5 * ((i2 + 1) * t5 - i2);
}, backOut: function(t5) {
  var i2 = 1.70158;
  return --t5 * t5 * ((i2 + 1) * t5 + i2) + 1;
}, backInOut: function(t5) {
  var i2 = 2.5949095;
  return (t5 *= 2) < 1 ? t5 * t5 * ((i2 + 1) * t5 - i2) * 0.5 : 0.5 * ((t5 -= 2) * t5 * ((i2 + 1) * t5 + i2) + 2);
}, bounceIn: function(t5) {
  return 1 - Le.bounceOut(1 - t5);
}, bounceOut: function(t5) {
  return t5 < 1 / 2.75 ? 7.5625 * t5 * t5 : t5 < 2 / 2.75 ? 7.5625 * (t5 -= 1.5 / 2.75) * t5 + 0.75 : t5 < 2.5 / 2.75 ? 7.5625 * (t5 -= 2.25 / 2.75) * t5 + 0.9375 : 7.5625 * (t5 -= 2.625 / 2.75) * t5 + 0.984375;
}, bounceInOut: function(t5) {
  return t5 < 0.5 ? 0.5 * Le.bounceIn(2 * t5) : 0.5 * Le.bounceOut(2 * t5 - 1) + 0.5;
} }, De = Math.pow, We = Math.sqrt, Ee = 1e-4, Oe = We(3), Fe = 1 / 3, Re = ar(), Pe = ar(), Be = ar();
function Ve(t5) {
  return t5 > -1e-8 && t5 < 1e-8;
}
function je(t5) {
  return t5 > 1e-8 || t5 < -1e-8;
}
function He(t5, i2, n2, r2, e2) {
  var o2 = 1 - e2;
  return o2 * o2 * (o2 * t5 + 3 * e2 * i2) + e2 * e2 * (e2 * r2 + 3 * o2 * n2);
}
function Ye(t5, i2, n2, r2, e2) {
  var o2 = 1 - e2;
  return 3 * (((i2 - t5) * o2 + 2 * (n2 - i2) * e2) * o2 + (r2 - n2) * e2 * e2);
}
function Xe(t5, i2, n2, r2, e2, o2) {
  var a2 = r2 + 3 * (i2 - n2) - t5, s2 = 3 * (n2 - 2 * i2 + t5), l2 = 3 * (i2 - t5), u2 = t5 - e2, f2 = s2 * s2 - 3 * a2 * l2, c2 = s2 * l2 - 9 * a2 * u2, h2 = l2 * l2 - 3 * s2 * u2, v2 = 0;
  if (Ve(f2) && Ve(c2)) Ve(s2) ? o2[0] = 0 : (z2 = -l2 / s2) >= 0 && z2 <= 1 && (o2[v2++] = z2);
  else {
    var d2 = c2 * c2 - 4 * f2 * h2;
    if (Ve(d2)) {
      var p2 = c2 / f2, m2 = -p2 / 2;
      (z2 = -s2 / a2 + p2) >= 0 && z2 <= 1 && (o2[v2++] = z2), m2 >= 0 && m2 <= 1 && (o2[v2++] = m2);
    } else if (d2 > 0) {
      var b2 = We(d2), g3 = f2 * s2 + 1.5 * a2 * (-c2 + b2), y2 = f2 * s2 + 1.5 * a2 * (-c2 - b2);
      (z2 = (-s2 - ((g3 = g3 < 0 ? -De(-g3, Fe) : De(g3, Fe)) + (y2 = y2 < 0 ? -De(-y2, Fe) : De(y2, Fe)))) / (3 * a2)) >= 0 && z2 <= 1 && (o2[v2++] = z2);
    } else {
      var w3 = (2 * f2 * s2 - 3 * a2 * c2) / (2 * We(f2 * f2 * f2)), x2 = Math.acos(w3) / 3, k2 = We(f2), M2 = Math.cos(x2), z2 = (-s2 - 2 * k2 * M2) / (3 * a2), S3 = (m2 = (-s2 + k2 * (M2 + Oe * Math.sin(x2))) / (3 * a2), (-s2 + k2 * (M2 - Oe * Math.sin(x2))) / (3 * a2));
      z2 >= 0 && z2 <= 1 && (o2[v2++] = z2), m2 >= 0 && m2 <= 1 && (o2[v2++] = m2), S3 >= 0 && S3 <= 1 && (o2[v2++] = S3);
    }
  }
  return v2;
}
function Ue(t5, i2, n2, r2, e2) {
  var o2 = 6 * n2 - 12 * i2 + 6 * t5, a2 = 9 * i2 + 3 * r2 - 3 * t5 - 9 * n2, s2 = 3 * i2 - 3 * t5, l2 = 0;
  if (Ve(a2)) je(o2) && (f2 = -s2 / o2) >= 0 && f2 <= 1 && (e2[l2++] = f2);
  else {
    var u2 = o2 * o2 - 4 * a2 * s2;
    if (Ve(u2)) e2[0] = -o2 / (2 * a2);
    else if (u2 > 0) {
      var f2, c2 = We(u2), h2 = (-o2 - c2) / (2 * a2);
      (f2 = (-o2 + c2) / (2 * a2)) >= 0 && f2 <= 1 && (e2[l2++] = f2), h2 >= 0 && h2 <= 1 && (e2[l2++] = h2);
    }
  }
  return l2;
}
function $e(t5, i2, n2, r2, e2, o2) {
  var a2 = (i2 - t5) * e2 + t5, s2 = (n2 - i2) * e2 + i2, l2 = (r2 - n2) * e2 + n2, u2 = (s2 - a2) * e2 + a2, f2 = (l2 - s2) * e2 + s2, c2 = (f2 - u2) * e2 + u2;
  o2[0] = t5, o2[1] = a2, o2[2] = u2, o2[3] = c2, o2[4] = c2, o2[5] = f2, o2[6] = l2, o2[7] = r2;
}
function Ge(t5, i2, n2, r2, e2, o2, a2, s2, l2, u2, f2) {
  var c2, h2, v2, d2, p2, m2 = 5e-3, b2 = 1 / 0;
  Re[0] = l2, Re[1] = u2;
  for (var g3 = 0; g3 < 1; g3 += 0.05) Pe[0] = He(t5, n2, e2, a2, g3), Pe[1] = He(i2, r2, o2, s2, g3), (d2 = gr(Re, Pe)) < b2 && (c2 = g3, b2 = d2);
  b2 = 1 / 0;
  for (var y2 = 0; y2 < 32 && !(m2 < Ee); y2++) v2 = c2 + m2, Pe[0] = He(t5, n2, e2, a2, h2 = c2 - m2), Pe[1] = He(i2, r2, o2, s2, h2), d2 = gr(Pe, Re), h2 >= 0 && d2 < b2 ? (c2 = h2, b2 = d2) : (Be[0] = He(t5, n2, e2, a2, v2), Be[1] = He(i2, r2, o2, s2, v2), p2 = gr(Be, Re), v2 <= 1 && p2 < b2 ? (c2 = v2, b2 = p2) : m2 *= 0.5);
  return f2 && (f2[0] = He(t5, n2, e2, a2, c2), f2[1] = He(i2, r2, o2, s2, c2)), We(b2);
}
function Ze(t5, i2, n2, r2, e2, o2, a2, s2, l2) {
  for (var u2 = t5, f2 = i2, c2 = 0, h2 = 1 / l2, v2 = 1; v2 <= l2; v2++) {
    var d2 = v2 * h2, p2 = He(t5, n2, e2, a2, d2), m2 = He(i2, r2, o2, s2, d2), b2 = p2 - u2, g3 = m2 - f2;
    c2 += Math.sqrt(b2 * b2 + g3 * g3), u2 = p2, f2 = m2;
  }
  return c2;
}
function qe(t5, i2, n2, r2) {
  var e2 = 1 - r2;
  return e2 * (e2 * t5 + 2 * r2 * i2) + r2 * r2 * n2;
}
function Je(t5, i2, n2, r2) {
  return 2 * ((1 - r2) * (i2 - t5) + r2 * (n2 - i2));
}
function Ke(t5, i2, n2) {
  var r2 = t5 + n2 - 2 * i2;
  return 0 === r2 ? 0.5 : (t5 - i2) / r2;
}
function Qe(t5, i2, n2, r2, e2) {
  var o2 = (i2 - t5) * r2 + t5, a2 = (n2 - i2) * r2 + i2, s2 = (a2 - o2) * r2 + o2;
  e2[0] = t5, e2[1] = o2, e2[2] = s2, e2[3] = s2, e2[4] = a2, e2[5] = n2;
}
function to(t5, i2, n2, r2, e2, o2, a2, s2, l2) {
  var u2, f2 = 5e-3, c2 = 1 / 0;
  Re[0] = a2, Re[1] = s2;
  for (var h2 = 0; h2 < 1; h2 += 0.05) Pe[0] = qe(t5, n2, e2, h2), Pe[1] = qe(i2, r2, o2, h2), (m2 = gr(Re, Pe)) < c2 && (u2 = h2, c2 = m2);
  c2 = 1 / 0;
  for (var v2 = 0; v2 < 32 && !(f2 < Ee); v2++) {
    var d2 = u2 - f2, p2 = u2 + f2;
    Pe[0] = qe(t5, n2, e2, d2), Pe[1] = qe(i2, r2, o2, d2);
    var m2 = gr(Pe, Re);
    if (d2 >= 0 && m2 < c2) u2 = d2, c2 = m2;
    else {
      Be[0] = qe(t5, n2, e2, p2), Be[1] = qe(i2, r2, o2, p2);
      var b2 = gr(Be, Re);
      p2 <= 1 && b2 < c2 ? (u2 = p2, c2 = b2) : f2 *= 0.5;
    }
  }
  return l2 && (l2[0] = qe(t5, n2, e2, u2), l2[1] = qe(i2, r2, o2, u2)), We(c2);
}
function io(t5, i2, n2, r2, e2, o2, a2) {
  for (var s2 = t5, l2 = i2, u2 = 0, f2 = 1 / a2, c2 = 1; c2 <= a2; c2++) {
    var h2 = c2 * f2, v2 = qe(t5, n2, e2, h2), d2 = qe(i2, r2, o2, h2), p2 = v2 - s2, m2 = d2 - l2;
    u2 += Math.sqrt(p2 * p2 + m2 * m2), s2 = v2, l2 = d2;
  }
  return u2;
}
var no = /cubic-bezier\(([0-9,\.e ]+)\)/;
function ro(t5) {
  var i2 = t5 && no.exec(t5);
  if (i2) {
    var n2 = i2[1].split(","), r2 = +Un(n2[0]), e2 = +Un(n2[1]), o2 = +Un(n2[2]), a2 = +Un(n2[3]);
    if (isNaN(r2 + e2 + o2 + a2)) return;
    var s2 = [];
    return function(t6) {
      return t6 <= 0 ? 0 : t6 >= 1 ? 1 : Xe(0, r2, o2, 1, t6, s2) && He(0, e2, a2, 1, s2[0]);
    };
  }
}
var eo = (function() {
  function t5(t6) {
    this._inited = false, this._startTime = 0, this._pausedTime = 0, this._paused = false, this._life = t6.life || 1e3, this._delay = t6.delay || 0, this.loop = t6.loop || false, this.onframe = t6.onframe || er, this.ondestroy = t6.ondestroy || er, this.onrestart = t6.onrestart || er, t6.easing && this.setEasing(t6.easing);
  }
  return t5.prototype.step = function(t6, i2) {
    if (this._inited || (this._startTime = t6 + this._delay, this._inited = true), !this._paused) {
      var n2 = this._life, r2 = t6 - this._startTime - this._pausedTime, e2 = r2 / n2;
      e2 < 0 && (e2 = 0), e2 = Math.min(e2, 1);
      var o2 = this.easingFunc, a2 = o2 ? o2(e2) : e2;
      if (this.onframe(a2), 1 === e2) {
        if (!this.loop) return true;
        this._startTime = t6 - r2 % n2, this._pausedTime = 0, this.onrestart();
      }
      return false;
    }
    this._pausedTime += i2;
  }, t5.prototype.pause = function() {
    this._paused = true;
  }, t5.prototype.resume = function() {
    this._paused = false;
  }, t5.prototype.setEasing = function(t6) {
    this.easing = t6, this.easingFunc = Tn(t6) ? t6 : Le[t6] || ro(t6);
  }, t5;
})(), oo = function(t5) {
  this.value = t5;
}, ao = (function() {
  function t5() {
    this._len = 0;
  }
  return t5.prototype.insert = function(t6) {
    var i2 = new oo(t6);
    return this.insertEntry(i2), i2;
  }, t5.prototype.insertEntry = function(t6) {
    this.head ? (this.tail.next = t6, t6.prev = this.tail, t6.next = null, this.tail = t6) : this.head = this.tail = t6, this._len++;
  }, t5.prototype.remove = function(t6) {
    var i2 = t6.prev, n2 = t6.next;
    i2 ? i2.next = n2 : this.head = n2, n2 ? n2.prev = i2 : this.tail = i2, t6.next = t6.prev = null, this._len--;
  }, t5.prototype.len = function() {
    return this._len;
  }, t5.prototype.clear = function() {
    this.head = this.tail = null, this._len = 0;
  }, t5;
})(), so = (function() {
  function t5(t6) {
    this._list = new ao(), this._maxSize = 10, this._map = {}, this._maxSize = t6;
  }
  return t5.prototype.put = function(t6, i2) {
    var n2 = this._list, r2 = this._map, e2 = null;
    if (null == r2[t6]) {
      var o2 = n2.len(), a2 = this._lastRemovedEntry;
      if (o2 >= this._maxSize && o2 > 0) {
        var s2 = n2.head;
        n2.remove(s2), delete r2[s2.key], e2 = s2.value, this._lastRemovedEntry = s2;
      }
      a2 ? a2.value = i2 : a2 = new oo(i2), a2.key = t6, n2.insertEntry(a2), r2[t6] = a2;
    }
    return e2;
  }, t5.prototype.get = function(t6) {
    var i2 = this._map[t6], n2 = this._list;
    if (null != i2) return i2 !== n2.tail && (n2.remove(i2), n2.insertEntry(i2)), i2.value;
  }, t5.prototype.clear = function() {
    this._list.clear(), this._map = {};
  }, t5.prototype.len = function() {
    return this._list.len();
  }, t5;
})(), lo = { transparent: [0, 0, 0, 0], aliceblue: [240, 248, 255, 1], antiquewhite: [250, 235, 215, 1], aqua: [0, 255, 255, 1], aquamarine: [127, 255, 212, 1], azure: [240, 255, 255, 1], beige: [245, 245, 220, 1], bisque: [255, 228, 196, 1], black: [0, 0, 0, 1], blanchedalmond: [255, 235, 205, 1], blue: [0, 0, 255, 1], blueviolet: [138, 43, 226, 1], brown: [165, 42, 42, 1], burlywood: [222, 184, 135, 1], cadetblue: [95, 158, 160, 1], chartreuse: [127, 255, 0, 1], chocolate: [210, 105, 30, 1], coral: [255, 127, 80, 1], cornflowerblue: [100, 149, 237, 1], cornsilk: [255, 248, 220, 1], crimson: [220, 20, 60, 1], cyan: [0, 255, 255, 1], darkblue: [0, 0, 139, 1], darkcyan: [0, 139, 139, 1], darkgoldenrod: [184, 134, 11, 1], darkgray: [169, 169, 169, 1], darkgreen: [0, 100, 0, 1], darkgrey: [169, 169, 169, 1], darkkhaki: [189, 183, 107, 1], darkmagenta: [139, 0, 139, 1], darkolivegreen: [85, 107, 47, 1], darkorange: [255, 140, 0, 1], darkorchid: [153, 50, 204, 1], darkred: [139, 0, 0, 1], darksalmon: [233, 150, 122, 1], darkseagreen: [143, 188, 143, 1], darkslateblue: [72, 61, 139, 1], darkslategray: [47, 79, 79, 1], darkslategrey: [47, 79, 79, 1], darkturquoise: [0, 206, 209, 1], darkviolet: [148, 0, 211, 1], deeppink: [255, 20, 147, 1], deepskyblue: [0, 191, 255, 1], dimgray: [105, 105, 105, 1], dimgrey: [105, 105, 105, 1], dodgerblue: [30, 144, 255, 1], firebrick: [178, 34, 34, 1], floralwhite: [255, 250, 240, 1], forestgreen: [34, 139, 34, 1], fuchsia: [255, 0, 255, 1], gainsboro: [220, 220, 220, 1], ghostwhite: [248, 248, 255, 1], gold: [255, 215, 0, 1], goldenrod: [218, 165, 32, 1], gray: [128, 128, 128, 1], green: [0, 128, 0, 1], greenyellow: [173, 255, 47, 1], grey: [128, 128, 128, 1], honeydew: [240, 255, 240, 1], hotpink: [255, 105, 180, 1], indianred: [205, 92, 92, 1], indigo: [75, 0, 130, 1], ivory: [255, 255, 240, 1], khaki: [240, 230, 140, 1], lavender: [230, 230, 250, 1], lavenderblush: [255, 240, 245, 1], lawngreen: [124, 252, 0, 1], lemonchiffon: [255, 250, 205, 1], lightblue: [173, 216, 230, 1], lightcoral: [240, 128, 128, 1], lightcyan: [224, 255, 255, 1], lightgoldenrodyellow: [250, 250, 210, 1], lightgray: [211, 211, 211, 1], lightgreen: [144, 238, 144, 1], lightgrey: [211, 211, 211, 1], lightpink: [255, 182, 193, 1], lightsalmon: [255, 160, 122, 1], lightseagreen: [32, 178, 170, 1], lightskyblue: [135, 206, 250, 1], lightslategray: [119, 136, 153, 1], lightslategrey: [119, 136, 153, 1], lightsteelblue: [176, 196, 222, 1], lightyellow: [255, 255, 224, 1], lime: [0, 255, 0, 1], limegreen: [50, 205, 50, 1], linen: [250, 240, 230, 1], magenta: [255, 0, 255, 1], maroon: [128, 0, 0, 1], mediumaquamarine: [102, 205, 170, 1], mediumblue: [0, 0, 205, 1], mediumorchid: [186, 85, 211, 1], mediumpurple: [147, 112, 219, 1], mediumseagreen: [60, 179, 113, 1], mediumslateblue: [123, 104, 238, 1], mediumspringgreen: [0, 250, 154, 1], mediumturquoise: [72, 209, 204, 1], mediumvioletred: [199, 21, 133, 1], midnightblue: [25, 25, 112, 1], mintcream: [245, 255, 250, 1], mistyrose: [255, 228, 225, 1], moccasin: [255, 228, 181, 1], navajowhite: [255, 222, 173, 1], navy: [0, 0, 128, 1], oldlace: [253, 245, 230, 1], olive: [128, 128, 0, 1], olivedrab: [107, 142, 35, 1], orange: [255, 165, 0, 1], orangered: [255, 69, 0, 1], orchid: [218, 112, 214, 1], palegoldenrod: [238, 232, 170, 1], palegreen: [152, 251, 152, 1], paleturquoise: [175, 238, 238, 1], palevioletred: [219, 112, 147, 1], papayawhip: [255, 239, 213, 1], peachpuff: [255, 218, 185, 1], peru: [205, 133, 63, 1], pink: [255, 192, 203, 1], plum: [221, 160, 221, 1], powderblue: [176, 224, 230, 1], purple: [128, 0, 128, 1], red: [255, 0, 0, 1], rosybrown: [188, 143, 143, 1], royalblue: [65, 105, 225, 1], saddlebrown: [139, 69, 19, 1], salmon: [250, 128, 114, 1], sandybrown: [244, 164, 96, 1], seagreen: [46, 139, 87, 1], seashell: [255, 245, 238, 1], sienna: [160, 82, 45, 1], silver: [192, 192, 192, 1], skyblue: [135, 206, 235, 1], slateblue: [106, 90, 205, 1], slategray: [112, 128, 144, 1], slategrey: [112, 128, 144, 1], snow: [255, 250, 250, 1], springgreen: [0, 255, 127, 1], steelblue: [70, 130, 180, 1], tan: [210, 180, 140, 1], teal: [0, 128, 128, 1], thistle: [216, 191, 216, 1], tomato: [255, 99, 71, 1], turquoise: [64, 224, 208, 1], violet: [238, 130, 238, 1], wheat: [245, 222, 179, 1], white: [255, 255, 255, 1], whitesmoke: [245, 245, 245, 1], yellow: [255, 255, 0, 1], yellowgreen: [154, 205, 50, 1] };
function uo(t5) {
  return (t5 = Math.round(t5)) < 0 ? 0 : t5 > 255 ? 255 : t5;
}
function fo(t5) {
  return t5 < 0 ? 0 : t5 > 1 ? 1 : t5;
}
function co(t5) {
  var i2 = t5;
  return i2.length && "%" === i2.charAt(i2.length - 1) ? uo(parseFloat(i2) / 100 * 255) : uo(parseInt(i2, 10));
}
function ho(t5) {
  var i2 = t5;
  return i2.length && "%" === i2.charAt(i2.length - 1) ? fo(parseFloat(i2) / 100) : fo(parseFloat(i2));
}
function vo(t5, i2, n2) {
  return n2 < 0 ? n2 += 1 : n2 > 1 && (n2 -= 1), 6 * n2 < 1 ? t5 + (i2 - t5) * n2 * 6 : 2 * n2 < 1 ? i2 : 3 * n2 < 2 ? t5 + (i2 - t5) * (2 / 3 - n2) * 6 : t5;
}
function po(t5, i2, n2) {
  return t5 + (i2 - t5) * n2;
}
function mo(t5, i2, n2, r2, e2) {
  return t5[0] = i2, t5[1] = n2, t5[2] = r2, t5[3] = e2, t5;
}
function bo(t5, i2) {
  return t5[0] = i2[0], t5[1] = i2[1], t5[2] = i2[2], t5[3] = i2[3], t5;
}
var go = new so(20), yo = null;
function wo(t5, i2) {
  yo && bo(yo, i2), yo = go.put(t5, yo || i2.slice());
}
function xo(t5, i2) {
  if (t5) {
    i2 = i2 || [];
    var n2 = go.get(t5);
    if (n2) return bo(i2, n2);
    var r2 = (t5 += "").replace(/ /g, "").toLowerCase();
    if (r2 in lo) return bo(i2, lo[r2]), wo(t5, i2), i2;
    var e2, o2 = r2.length;
    if ("#" === r2.charAt(0)) return 4 === o2 || 5 === o2 ? (e2 = parseInt(r2.slice(1, 4), 16)) >= 0 && e2 <= 4095 ? (mo(i2, (3840 & e2) >> 4 | (3840 & e2) >> 8, 240 & e2 | (240 & e2) >> 4, 15 & e2 | (15 & e2) << 4, 5 === o2 ? parseInt(r2.slice(4), 16) / 15 : 1), wo(t5, i2), i2) : void mo(i2, 0, 0, 0, 1) : 7 === o2 || 9 === o2 ? (e2 = parseInt(r2.slice(1, 7), 16)) >= 0 && e2 <= 16777215 ? (mo(i2, (16711680 & e2) >> 16, (65280 & e2) >> 8, 255 & e2, 9 === o2 ? parseInt(r2.slice(7), 16) / 255 : 1), wo(t5, i2), i2) : void mo(i2, 0, 0, 0, 1) : void 0;
    var a2 = r2.indexOf("("), s2 = r2.indexOf(")");
    if (-1 !== a2 && s2 + 1 === o2) {
      var l2 = r2.substr(0, a2), u2 = r2.substr(a2 + 1, s2 - (a2 + 1)).split(","), f2 = 1;
      switch (l2) {
        case "rgba":
          if (4 !== u2.length) return 3 === u2.length ? mo(i2, +u2[0], +u2[1], +u2[2], 1) : mo(i2, 0, 0, 0, 1);
          f2 = ho(u2.pop());
        case "rgb":
          return u2.length >= 3 ? (mo(i2, co(u2[0]), co(u2[1]), co(u2[2]), 3 === u2.length ? f2 : ho(u2[3])), wo(t5, i2), i2) : void mo(i2, 0, 0, 0, 1);
        case "hsla":
          return 4 !== u2.length ? void mo(i2, 0, 0, 0, 1) : (u2[3] = ho(u2[3]), ko(u2, i2), wo(t5, i2), i2);
        case "hsl":
          return 3 !== u2.length ? void mo(i2, 0, 0, 0, 1) : (ko(u2, i2), wo(t5, i2), i2);
        default:
          return;
      }
    }
    mo(i2, 0, 0, 0, 1);
  }
}
function ko(t5, i2) {
  var n2 = (parseFloat(t5[0]) % 360 + 360) % 360 / 360, r2 = ho(t5[1]), e2 = ho(t5[2]), o2 = e2 <= 0.5 ? e2 * (r2 + 1) : e2 + r2 - e2 * r2, a2 = 2 * e2 - o2;
  return mo(i2 = i2 || [], uo(255 * vo(a2, o2, n2 + 1 / 3)), uo(255 * vo(a2, o2, n2)), uo(255 * vo(a2, o2, n2 - 1 / 3)), 1), 4 === t5.length && (i2[3] = t5[3]), i2;
}
function Mo(t5, i2) {
  var n2 = xo(t5);
  if (n2) {
    for (var r2 = 0; r2 < 3; r2++) n2[r2] = i2 < 0 ? n2[r2] * (1 - i2) | 0 : (255 - n2[r2]) * i2 + n2[r2] | 0, n2[r2] > 255 ? n2[r2] = 255 : n2[r2] < 0 && (n2[r2] = 0);
    return Ao(n2, 4 === n2.length ? "rgba" : "rgb");
  }
}
function zo(t5, i2, n2) {
  if (i2 && i2.length && t5 >= 0 && t5 <= 1) {
    n2 = n2 || [];
    var r2 = t5 * (i2.length - 1), e2 = Math.floor(r2), o2 = Math.ceil(r2), a2 = i2[e2], s2 = i2[o2], l2 = r2 - e2;
    return n2[0] = uo(po(a2[0], s2[0], l2)), n2[1] = uo(po(a2[1], s2[1], l2)), n2[2] = uo(po(a2[2], s2[2], l2)), n2[3] = fo(po(a2[3], s2[3], l2)), n2;
  }
}
function So(t5, i2, n2, r2) {
  var e2 = xo(t5);
  if (t5) return e2 = (function(t6) {
    if (t6) {
      var i3, n3, r3 = t6[0] / 255, e3 = t6[1] / 255, o2 = t6[2] / 255, a2 = Math.min(r3, e3, o2), s2 = Math.max(r3, e3, o2), l2 = s2 - a2, u2 = (s2 + a2) / 2;
      if (0 === l2) i3 = 0, n3 = 0;
      else {
        n3 = u2 < 0.5 ? l2 / (s2 + a2) : l2 / (2 - s2 - a2);
        var f2 = ((s2 - r3) / 6 + l2 / 2) / l2, c2 = ((s2 - e3) / 6 + l2 / 2) / l2, h2 = ((s2 - o2) / 6 + l2 / 2) / l2;
        r3 === s2 ? i3 = h2 - c2 : e3 === s2 ? i3 = 1 / 3 + f2 - h2 : o2 === s2 && (i3 = 2 / 3 + c2 - f2), i3 < 0 && (i3 += 1), i3 > 1 && (i3 -= 1);
      }
      var v2 = [360 * i3, n3, u2];
      return null != t6[3] && v2.push(t6[3]), v2;
    }
  })(e2), null != i2 && (e2[0] = (function(t6) {
    return (t6 = Math.round(t6)) < 0 ? 0 : t6 > 360 ? 360 : t6;
  })(i2)), null != n2 && (e2[1] = ho(n2)), null != r2 && (e2[2] = ho(r2)), Ao(ko(e2), "rgba");
}
function Co(t5, i2) {
  var n2 = xo(t5);
  if (n2 && null != i2) return n2[3] = fo(i2), Ao(n2, "rgba");
}
function Ao(t5, i2) {
  if (t5 && t5.length) {
    var n2 = t5[0] + "," + t5[1] + "," + t5[2];
    return "rgba" !== i2 && "hsva" !== i2 && "hsla" !== i2 || (n2 += "," + t5[3]), i2 + "(" + n2 + ")";
  }
}
function No(t5, i2) {
  var n2 = xo(t5);
  return n2 ? (0.299 * n2[0] + 0.587 * n2[1] + 0.114 * n2[2]) * n2[3] / 255 + (1 - n2[3]) * i2 : 0;
}
var _o = new so(100);
function To(t5) {
  if (In(t5)) {
    var i2 = _o.get(t5);
    return i2 || (i2 = Mo(t5, -0.1), _o.put(t5, i2)), i2;
  }
  if (Rn(t5)) {
    var n2 = bn({}, t5);
    return n2.colorStops = Mn(t5.colorStops, (function(t6) {
      return { offset: t6.offset, color: Mo(t6.color, -0.1) };
    })), n2;
  }
  return t5;
}
var Io = Math.round;
function Lo(t5) {
  var i2;
  if (t5 && "transparent" !== t5) {
    if ("string" == typeof t5 && t5.indexOf("rgba") > -1) {
      var n2 = xo(t5);
      n2 && (t5 = "rgb(" + n2[0] + "," + n2[1] + "," + n2[2] + ")", i2 = n2[3]);
    }
  } else t5 = "none";
  return { color: t5, opacity: null == i2 ? 1 : i2 };
}
function Do(t5) {
  return t5 < 1e-4 && t5 > -1e-4;
}
function Wo(t5) {
  return Io(1e3 * t5) / 1e3;
}
function Eo(t5) {
  return Io(1e4 * t5) / 1e4;
}
var Oo = { left: "start", right: "end", center: "middle", middle: "middle" };
function Fo(t5) {
  return t5 && !!t5.image;
}
function Ro(t5) {
  return Fo(t5) || (function(t6) {
    return t6 && !!t6.svgElement;
  })(t5);
}
function Po(t5) {
  return "linear" === t5.type;
}
function Bo(t5) {
  return "radial" === t5.type;
}
function Vo(t5) {
  return t5 && ("linear" === t5.type || "radial" === t5.type);
}
function jo(t5) {
  return "url(#" + t5 + ")";
}
function Ho(t5) {
  var i2 = t5.getGlobalScale(), n2 = Math.max(i2[0], i2[1]);
  return Math.max(Math.ceil(Math.log(n2) / Math.log(10)), 1);
}
function Yo(t5) {
  var i2 = t5.x || 0, n2 = t5.y || 0, r2 = (t5.rotation || 0) * or, e2 = Vn(t5.scaleX, 1), o2 = Vn(t5.scaleY, 1), a2 = t5.skewX || 0, s2 = t5.skewY || 0, l2 = [];
  return (i2 || n2) && l2.push("translate(" + i2 + "px," + n2 + "px)"), r2 && l2.push("rotate(" + r2 + ")"), 1 === e2 && 1 === o2 || l2.push("scale(" + e2 + "," + o2 + ")"), (a2 || s2) && l2.push("skew(" + Io(a2 * or) + "deg, " + Io(s2 * or) + "deg)"), l2.join(" ");
}
var Xo = Ui.hasGlobalWindow && Tn(window.btoa) ? function(t5) {
  return window.btoa(unescape(encodeURIComponent(t5)));
} : "undefined" != typeof Buffer ? function(t5) {
  return Buffer.from(t5).toString("base64");
} : function() {
  return null;
}, Uo = Array.prototype.slice;
function $o(t5, i2, n2) {
  return (i2 - t5) * n2 + t5;
}
function Go(t5, i2, n2, r2) {
  for (var e2 = i2.length, o2 = 0; o2 < e2; o2++) t5[o2] = $o(i2[o2], n2[o2], r2);
  return t5;
}
function Zo(t5, i2, n2, r2) {
  for (var e2 = i2.length, o2 = 0; o2 < e2; o2++) t5[o2] = i2[o2] + n2[o2] * r2;
  return t5;
}
function qo(t5, i2, n2, r2) {
  for (var e2 = i2.length, o2 = e2 && i2[0].length, a2 = 0; a2 < e2; a2++) {
    t5[a2] || (t5[a2] = []);
    for (var s2 = 0; s2 < o2; s2++) t5[a2][s2] = i2[a2][s2] + n2[a2][s2] * r2;
  }
  return t5;
}
function Jo(t5, i2) {
  for (var n2 = t5.length, r2 = i2.length, e2 = n2 > r2 ? i2 : t5, o2 = Math.min(n2, r2), a2 = e2[o2 - 1] || { color: [0, 0, 0, 0], offset: 0 }, s2 = o2; s2 < Math.max(n2, r2); s2++) e2.push({ offset: a2.offset, color: a2.color.slice() });
}
function Ko(t5, i2, n2) {
  var r2 = t5, e2 = i2;
  if (r2.push && e2.push) {
    var o2 = r2.length, a2 = e2.length;
    if (o2 !== a2) if (o2 > a2) r2.length = a2;
    else for (var s2 = o2; s2 < a2; s2++) r2.push(1 === n2 ? e2[s2] : Uo.call(e2[s2]));
    var l2 = r2[0] && r2[0].length;
    for (s2 = 0; s2 < r2.length; s2++) if (1 === n2) isNaN(r2[s2]) && (r2[s2] = e2[s2]);
    else for (var u2 = 0; u2 < l2; u2++) isNaN(r2[s2][u2]) && (r2[s2][u2] = e2[s2][u2]);
  }
}
function Qo(t5) {
  if (xn(t5)) {
    var i2 = t5.length;
    if (xn(t5[0])) {
      for (var n2 = [], r2 = 0; r2 < i2; r2++) n2.push(Uo.call(t5[r2]));
      return n2;
    }
    return Uo.call(t5);
  }
  return t5;
}
function ta(t5) {
  return t5[0] = Math.floor(t5[0]) || 0, t5[1] = Math.floor(t5[1]) || 0, t5[2] = Math.floor(t5[2]) || 0, t5[3] = null == t5[3] ? 1 : t5[3], "rgba(" + t5.join(",") + ")";
}
function ia(t5) {
  return 4 === t5 || 5 === t5;
}
function na(t5) {
  return 1 === t5 || 2 === t5;
}
var ra = [0, 0, 0, 0], ea = (function() {
  function t5(t6) {
    this.keyframes = [], this.discrete = false, this._invalid = false, this._needsSort = false, this._lastFr = 0, this._lastFrP = 0, this.propName = t6;
  }
  return t5.prototype.isFinished = function() {
    return this._finished;
  }, t5.prototype.setFinished = function() {
    this._finished = true, this._additiveTrack && this._additiveTrack.setFinished();
  }, t5.prototype.needsAnimate = function() {
    return this.keyframes.length >= 1;
  }, t5.prototype.getAdditiveTrack = function() {
    return this._additiveTrack;
  }, t5.prototype.addKeyframe = function(t6, i2, n2) {
    this._needsSort = true;
    var r2 = this.keyframes, e2 = r2.length, o2 = false, a2 = 6, s2 = i2;
    if (xn(i2)) {
      var l2 = (function(t7) {
        return xn(t7 && t7[0]) ? 2 : 1;
      })(i2);
      a2 = l2, (1 === l2 && !Dn(i2[0]) || 2 === l2 && !Dn(i2[0][0])) && (o2 = true);
    } else if (Dn(i2) && !Pn(i2)) a2 = 0;
    else if (In(i2)) if (isNaN(+i2)) {
      var u2 = xo(i2);
      u2 && (s2 = u2, a2 = 3);
    } else a2 = 0;
    else if (Rn(i2)) {
      var f2 = bn({}, s2);
      f2.colorStops = Mn(i2.colorStops, (function(t7) {
        return { offset: t7.offset, color: xo(t7.color) };
      })), Po(i2) ? a2 = 4 : Bo(i2) && (a2 = 5), s2 = f2;
    }
    0 === e2 ? this.valType = a2 : a2 === this.valType && 6 !== a2 || (o2 = true), this.discrete = this.discrete || o2;
    var c2 = { time: t6, value: s2, rawValue: i2, percent: 0 };
    return n2 && (c2.easing = n2, c2.easingFunc = Tn(n2) ? n2 : Le[n2] || ro(n2)), r2.push(c2), c2;
  }, t5.prototype.prepare = function(t6, i2) {
    var n2 = this.keyframes;
    this._needsSort && n2.sort((function(t7, i3) {
      return t7.time - i3.time;
    }));
    for (var r2 = this.valType, e2 = n2.length, o2 = n2[e2 - 1], a2 = this.discrete, s2 = na(r2), l2 = ia(r2), u2 = 0; u2 < e2; u2++) {
      var f2 = n2[u2], c2 = f2.value, h2 = o2.value;
      f2.percent = f2.time / t6, a2 || (s2 && u2 !== e2 - 1 ? Ko(c2, h2, r2) : l2 && Jo(c2.colorStops, h2.colorStops));
    }
    if (!a2 && 5 !== r2 && i2 && this.needsAnimate() && i2.needsAnimate() && r2 === i2.valType && !i2._finished) {
      this._additiveTrack = i2;
      var v2 = n2[0].value;
      for (u2 = 0; u2 < e2; u2++) 0 === r2 ? n2[u2].additiveValue = n2[u2].value - v2 : 3 === r2 ? n2[u2].additiveValue = Zo([], n2[u2].value, v2, -1) : na(r2) && (n2[u2].additiveValue = 1 === r2 ? Zo([], n2[u2].value, v2, -1) : qo([], n2[u2].value, v2, -1));
    }
  }, t5.prototype.step = function(t6, i2) {
    if (!this._finished) {
      this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null);
      var n2, r2, e2, o2 = null != this._additiveTrack, a2 = o2 ? "additiveValue" : "value", s2 = this.valType, l2 = this.keyframes, u2 = l2.length, f2 = this.propName, c2 = 3 === s2, h2 = this._lastFr, v2 = Math.min;
      if (1 === u2) r2 = e2 = l2[0];
      else {
        if (i2 < 0) n2 = 0;
        else if (i2 < this._lastFrP) {
          for (n2 = v2(h2 + 1, u2 - 1); n2 >= 0 && !(l2[n2].percent <= i2); n2--) ;
          n2 = v2(n2, u2 - 2);
        } else {
          for (n2 = h2; n2 < u2 && !(l2[n2].percent > i2); n2++) ;
          n2 = v2(n2 - 1, u2 - 2);
        }
        e2 = l2[n2 + 1], r2 = l2[n2];
      }
      if (r2 && e2) {
        this._lastFr = n2, this._lastFrP = i2;
        var d2 = e2.percent - r2.percent, p2 = 0 === d2 ? 1 : v2((i2 - r2.percent) / d2, 1);
        e2.easingFunc && (p2 = e2.easingFunc(p2));
        var m2 = o2 ? this._additiveValue : c2 ? ra : t6[f2];
        if (!na(s2) && !c2 || m2 || (m2 = this._additiveValue = []), this.discrete) t6[f2] = p2 < 1 ? r2.rawValue : e2.rawValue;
        else if (na(s2)) 1 === s2 ? Go(m2, r2[a2], e2[a2], p2) : (function(t7, i3, n3, r3) {
          for (var e3 = i3.length, o3 = e3 && i3[0].length, a3 = 0; a3 < e3; a3++) {
            t7[a3] || (t7[a3] = []);
            for (var s3 = 0; s3 < o3; s3++) t7[a3][s3] = $o(i3[a3][s3], n3[a3][s3], r3);
          }
        })(m2, r2[a2], e2[a2], p2);
        else if (ia(s2)) {
          var b2 = r2[a2], g3 = e2[a2], y2 = 4 === s2;
          t6[f2] = { type: y2 ? "linear" : "radial", x: $o(b2.x, g3.x, p2), y: $o(b2.y, g3.y, p2), colorStops: Mn(b2.colorStops, (function(t7, i3) {
            var n3 = g3.colorStops[i3];
            return { offset: $o(t7.offset, n3.offset, p2), color: ta(Go([], t7.color, n3.color, p2)) };
          })), global: g3.global }, y2 ? (t6[f2].x2 = $o(b2.x2, g3.x2, p2), t6[f2].y2 = $o(b2.y2, g3.y2, p2)) : t6[f2].r = $o(b2.r, g3.r, p2);
        } else if (c2) Go(m2, r2[a2], e2[a2], p2), o2 || (t6[f2] = ta(m2));
        else {
          var w3 = $o(r2[a2], e2[a2], p2);
          o2 ? this._additiveValue = w3 : t6[f2] = w3;
        }
        o2 && this._addToTarget(t6);
      }
    }
  }, t5.prototype._addToTarget = function(t6) {
    var i2 = this.valType, n2 = this.propName, r2 = this._additiveValue;
    0 === i2 ? t6[n2] = t6[n2] + r2 : 3 === i2 ? (xo(t6[n2], ra), Zo(ra, ra, r2, 1), t6[n2] = ta(ra)) : 1 === i2 ? Zo(t6[n2], t6[n2], r2, 1) : 2 === i2 && qo(t6[n2], t6[n2], r2, 1);
  }, t5;
})(), oa = (function() {
  function t5(t6, i2, n2, r2) {
    this._tracks = {}, this._trackKeys = [], this._maxTime = 0, this._started = 0, this._clip = null, this._target = t6, this._loop = i2, i2 && r2 ? vn("Can' use additive animation on looped animation.") : (this._additiveAnimators = r2, this._allowDiscrete = n2);
  }
  return t5.prototype.getMaxTime = function() {
    return this._maxTime;
  }, t5.prototype.getDelay = function() {
    return this._delay;
  }, t5.prototype.getLoop = function() {
    return this._loop;
  }, t5.prototype.getTarget = function() {
    return this._target;
  }, t5.prototype.changeTarget = function(t6) {
    this._target = t6;
  }, t5.prototype.when = function(t6, i2, n2) {
    return this.whenWithKeys(t6, i2, Cn(i2), n2);
  }, t5.prototype.whenWithKeys = function(t6, i2, n2, r2) {
    for (var e2 = this._tracks, o2 = 0; o2 < n2.length; o2++) {
      var a2 = n2[o2], s2 = e2[a2];
      if (!s2) {
        s2 = e2[a2] = new ea(a2);
        var l2 = void 0, u2 = this._getAdditiveTrack(a2);
        if (u2) {
          var f2 = u2.keyframes, c2 = f2[f2.length - 1];
          l2 = c2 && c2.value, 3 === u2.valType && l2 && (l2 = ta(l2));
        } else l2 = this._target[a2];
        if (null == l2) continue;
        t6 > 0 && s2.addKeyframe(0, Qo(l2), r2), this._trackKeys.push(a2);
      }
      s2.addKeyframe(t6, Qo(i2[a2]), r2);
    }
    return this._maxTime = Math.max(this._maxTime, t6), this;
  }, t5.prototype.pause = function() {
    this._clip.pause(), this._paused = true;
  }, t5.prototype.resume = function() {
    this._clip.resume(), this._paused = false;
  }, t5.prototype.isPaused = function() {
    return !!this._paused;
  }, t5.prototype.duration = function(t6) {
    return this._maxTime = t6, this._force = true, this;
  }, t5.prototype._doneCallback = function() {
    this._setTracksFinished(), this._clip = null;
    var t6 = this._doneCbs;
    if (t6) for (var i2 = t6.length, n2 = 0; n2 < i2; n2++) t6[n2].call(this);
  }, t5.prototype._abortedCallback = function() {
    this._setTracksFinished();
    var t6 = this.animation, i2 = this._abortedCbs;
    if (t6 && t6.removeClip(this._clip), this._clip = null, i2) for (var n2 = 0; n2 < i2.length; n2++) i2[n2].call(this);
  }, t5.prototype._setTracksFinished = function() {
    for (var t6 = this._tracks, i2 = this._trackKeys, n2 = 0; n2 < i2.length; n2++) t6[i2[n2]].setFinished();
  }, t5.prototype._getAdditiveTrack = function(t6) {
    var i2, n2 = this._additiveAnimators;
    if (n2) for (var r2 = 0; r2 < n2.length; r2++) {
      var e2 = n2[r2].getTrack(t6);
      e2 && (i2 = e2);
    }
    return i2;
  }, t5.prototype.start = function(t6) {
    if (!(this._started > 0)) {
      this._started = 1;
      for (var i2 = this, n2 = [], r2 = this._maxTime || 0, e2 = 0; e2 < this._trackKeys.length; e2++) {
        var o2 = this._trackKeys[e2], a2 = this._tracks[o2], s2 = this._getAdditiveTrack(o2), l2 = a2.keyframes, u2 = l2.length;
        if (a2.prepare(r2, s2), a2.needsAnimate()) if (!this._allowDiscrete && a2.discrete) {
          var f2 = l2[u2 - 1];
          f2 && (i2._target[a2.propName] = f2.rawValue), a2.setFinished();
        } else n2.push(a2);
      }
      if (n2.length || this._force) {
        var c2 = new eo({ life: r2, loop: this._loop, delay: this._delay || 0, onframe: function(t7) {
          i2._started = 2;
          var r3 = i2._additiveAnimators;
          if (r3) {
            for (var e3 = false, o3 = 0; o3 < r3.length; o3++) if (r3[o3]._clip) {
              e3 = true;
              break;
            }
            e3 || (i2._additiveAnimators = null);
          }
          for (o3 = 0; o3 < n2.length; o3++) n2[o3].step(i2._target, t7);
          var a3 = i2._onframeCbs;
          if (a3) for (o3 = 0; o3 < a3.length; o3++) a3[o3](i2._target, t7);
        }, ondestroy: function() {
          i2._doneCallback();
        } });
        this._clip = c2, this.animation && this.animation.addClip(c2), t6 && c2.setEasing(t6);
      } else this._doneCallback();
      return this;
    }
  }, t5.prototype.stop = function(t6) {
    this._clip && (t6 && this._clip.onframe(1), this._abortedCallback());
  }, t5.prototype.delay = function(t6) {
    return this._delay = t6, this;
  }, t5.prototype.during = function(t6) {
    return t6 && (this._onframeCbs || (this._onframeCbs = []), this._onframeCbs.push(t6)), this;
  }, t5.prototype.done = function(t6) {
    return t6 && (this._doneCbs || (this._doneCbs = []), this._doneCbs.push(t6)), this;
  }, t5.prototype.aborted = function(t6) {
    return t6 && (this._abortedCbs || (this._abortedCbs = []), this._abortedCbs.push(t6)), this;
  }, t5.prototype.getClip = function() {
    return this._clip;
  }, t5.prototype.getTrack = function(t6) {
    return this._tracks[t6];
  }, t5.prototype.getTracks = function() {
    var t6 = this;
    return Mn(this._trackKeys, (function(i2) {
      return t6._tracks[i2];
    }));
  }, t5.prototype.stopTracks = function(t6, i2) {
    if (!t6.length || !this._clip) return true;
    for (var n2 = this._tracks, r2 = this._trackKeys, e2 = 0; e2 < t6.length; e2++) {
      var o2 = n2[t6[e2]];
      o2 && !o2.isFinished() && (i2 ? o2.step(this._target, 1) : 1 === this._started && o2.step(this._target, 0), o2.setFinished());
    }
    var a2 = true;
    for (e2 = 0; e2 < r2.length; e2++) if (!n2[r2[e2]].isFinished()) {
      a2 = false;
      break;
    }
    return a2 && this._abortedCallback(), a2;
  }, t5.prototype.saveTo = function(t6, i2, n2) {
    if (t6) {
      i2 = i2 || this._trackKeys;
      for (var r2 = 0; r2 < i2.length; r2++) {
        var e2 = i2[r2], o2 = this._tracks[e2];
        if (o2 && !o2.isFinished()) {
          var a2 = o2.keyframes, s2 = a2[n2 ? 0 : a2.length - 1];
          s2 && (t6[e2] = Qo(s2.rawValue));
        }
      }
    }
  }, t5.prototype.__changeFinalValue = function(t6, i2) {
    i2 = i2 || Cn(t6);
    for (var n2 = 0; n2 < i2.length; n2++) {
      var r2 = i2[n2], e2 = this._tracks[r2];
      if (e2) {
        var o2 = e2.keyframes;
        if (o2.length > 1) {
          var a2 = o2.pop();
          e2.addKeyframe(a2.time, t6[r2]), e2.prepare(this._maxTime, e2.getAdditiveTrack());
        }
      }
    }
  }, t5;
})();
function aa() {
  return (/* @__PURE__ */ new Date()).getTime();
}
var sa, la, ua = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this) || this;
    return n2._running = false, n2._time = 0, n2._pausedTime = 0, n2._pauseStart = 0, n2._paused = false, n2.stage = (i3 = i3 || {}).stage || {}, n2;
  }
  return Yi(i2, t5), i2.prototype.addClip = function(t6) {
    t6.animation && this.removeClip(t6), this._head ? (this._tail.next = t6, t6.prev = this._tail, t6.next = null, this._tail = t6) : this._head = this._tail = t6, t6.animation = this;
  }, i2.prototype.addAnimator = function(t6) {
    t6.animation = this;
    var i3 = t6.getClip();
    i3 && this.addClip(i3);
  }, i2.prototype.removeClip = function(t6) {
    if (t6.animation) {
      var i3 = t6.prev, n2 = t6.next;
      i3 ? i3.next = n2 : this._head = n2, n2 ? n2.prev = i3 : this._tail = i3, t6.next = t6.prev = t6.animation = null;
    }
  }, i2.prototype.removeAnimator = function(t6) {
    var i3 = t6.getClip();
    i3 && this.removeClip(i3), t6.animation = null;
  }, i2.prototype.update = function(t6) {
    for (var i3 = aa() - this._pausedTime, n2 = i3 - this._time, r2 = this._head; r2; ) {
      var e2 = r2.next;
      r2.step(i3, n2) ? (r2.ondestroy(), this.removeClip(r2), r2 = e2) : r2 = e2;
    }
    this._time = i3, t6 || (this.trigger("frame", n2), this.stage.update && this.stage.update());
  }, i2.prototype._startLoop = function() {
    var t6 = this;
    this._running = true, Te((function i3() {
      t6._running && (Te(i3), !t6._paused && t6.update());
    }));
  }, i2.prototype.start = function() {
    this._running || (this._time = aa(), this._pausedTime = 0, this._startLoop());
  }, i2.prototype.stop = function() {
    this._running = false;
  }, i2.prototype.pause = function() {
    this._paused || (this._pauseStart = aa(), this._paused = true);
  }, i2.prototype.resume = function() {
    this._paused && (this._pausedTime += aa() - this._pauseStart, this._paused = false);
  }, i2.prototype.clear = function() {
    for (var t6 = this._head; t6; ) {
      var i3 = t6.next;
      t6.prev = t6.next = t6.animation = null, t6 = i3;
    }
    this._head = this._tail = null;
  }, i2.prototype.isFinished = function() {
    return null == this._head;
  }, i2.prototype.animate = function(t6, i3) {
    i3 = i3 || {}, this.start();
    var n2 = new oa(t6, i3.loop);
    return this.addAnimator(n2), n2;
  }, i2;
})(Sr), fa = Ui.domSupported, ca = (la = { pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1 }, { mouse: sa = ["click", "dblclick", "mousewheel", "wheel", "mouseout", "mouseup", "mousedown", "mousemove", "contextmenu"], touch: ["touchstart", "touchend", "touchmove"], pointer: Mn(sa, (function(t5) {
  var i2 = t5.replace("mouse", "pointer");
  return la.hasOwnProperty(i2) ? i2 : t5;
})) }), ha = ["mousemove", "mouseup"], va = ["pointermove", "pointerup"], da = false;
function pa(t5) {
  var i2 = t5.pointerType;
  return "pen" === i2 || "touch" === i2;
}
function ma(t5) {
  t5 && (t5.zrByTouch = true);
}
function ba(t5, i2) {
  for (var n2 = i2, r2 = false; n2 && 9 !== n2.nodeType && !(r2 = n2.domBelongToZr || n2 !== i2 && n2 === t5.painterRoot); ) n2 = n2.parentNode;
  return r2;
}
var ga = function(t5, i2) {
  this.stopPropagation = er, this.stopImmediatePropagation = er, this.preventDefault = er, this.type = i2.type, this.target = this.currentTarget = t5.dom, this.pointerType = i2.pointerType, this.clientX = i2.clientX, this.clientY = i2.clientY;
}, ya = { mousedown: function(t5) {
  t5 = jr(this.dom, t5), this.__mayPointerCapture = [t5.zrX, t5.zrY], this.trigger("mousedown", t5);
}, mousemove: function(t5) {
  t5 = jr(this.dom, t5);
  var i2 = this.__mayPointerCapture;
  !i2 || t5.zrX === i2[0] && t5.zrY === i2[1] || this.__togglePointerCapture(true), this.trigger("mousemove", t5);
}, mouseup: function(t5) {
  t5 = jr(this.dom, t5), this.__togglePointerCapture(false), this.trigger("mouseup", t5);
}, mouseout: function(t5) {
  ba(this, (t5 = jr(this.dom, t5)).toElement || t5.relatedTarget) || (this.__pointerCapturing && (t5.zrEventControl = "no_globalout"), this.trigger("mouseout", t5));
}, wheel: function(t5) {
  da = true, t5 = jr(this.dom, t5), this.trigger("mousewheel", t5);
}, mousewheel: function(t5) {
  da || (t5 = jr(this.dom, t5), this.trigger("mousewheel", t5));
}, touchstart: function(t5) {
  ma(t5 = jr(this.dom, t5)), this.__lastTouchMoment = /* @__PURE__ */ new Date(), this.handler.processGesture(t5, "start"), ya.mousemove.call(this, t5), ya.mousedown.call(this, t5);
}, touchmove: function(t5) {
  ma(t5 = jr(this.dom, t5)), this.handler.processGesture(t5, "change"), ya.mousemove.call(this, t5);
}, touchend: function(t5) {
  ma(t5 = jr(this.dom, t5)), this.handler.processGesture(t5, "end"), ya.mouseup.call(this, t5), +/* @__PURE__ */ new Date() - +this.__lastTouchMoment < 300 && ya.click.call(this, t5);
}, pointerdown: function(t5) {
  ya.mousedown.call(this, t5);
}, pointermove: function(t5) {
  pa(t5) || ya.mousemove.call(this, t5);
}, pointerup: function(t5) {
  ya.mouseup.call(this, t5);
}, pointerout: function(t5) {
  pa(t5) || ya.mouseout.call(this, t5);
} };
kn(["click", "dblclick", "contextmenu"], (function(t5) {
  ya[t5] = function(i2) {
    i2 = jr(this.dom, i2), this.trigger(t5, i2);
  };
}));
var wa = { pointermove: function(t5) {
  pa(t5) || wa.mousemove.call(this, t5);
}, pointerup: function(t5) {
  wa.mouseup.call(this, t5);
}, mousemove: function(t5) {
  this.trigger("mousemove", t5);
}, mouseup: function(t5) {
  var i2 = this.__pointerCapturing;
  this.__togglePointerCapture(false), this.trigger("mouseup", t5), i2 && (t5.zrEventControl = "only_globalout", this.trigger("mouseout", t5));
} };
function xa(t5, i2, n2, r2) {
  t5.mounted[i2] = n2, t5.listenerOpts[i2] = r2, Hr(t5.domTarget, i2, n2, r2);
}
function ka(t5) {
  var i2 = t5.mounted;
  for (var n2 in i2) i2.hasOwnProperty(n2) && t5.domTarget.removeEventListener(n2, i2[n2], t5.listenerOpts[n2]);
  t5.mounted = {};
}
var Ma = function(t5, i2) {
  this.mounted = {}, this.listenerOpts = {}, this.touching = false, this.domTarget = t5, this.domHandlers = i2;
}, za = (function(t5) {
  function i2(i3, n2) {
    var r2, e2, o2, a2 = t5.call(this) || this;
    return a2.__pointerCapturing = false, a2.dom = i3, a2.painterRoot = n2, a2._localHandlerScope = new Ma(i3, ya), fa && (a2._globalHandlerScope = new Ma(document, wa)), r2 = a2, o2 = (e2 = a2._localHandlerScope).domHandlers, Ui.pointerEventsSupported ? kn(ca.pointer, (function(t6) {
      xa(e2, t6, (function(i4) {
        o2[t6].call(r2, i4);
      }));
    })) : (Ui.touchEventsSupported && kn(ca.touch, (function(t6) {
      xa(e2, t6, (function(i4) {
        o2[t6].call(r2, i4), (function(t7) {
          t7.touching = true, null != t7.touchTimer && (clearTimeout(t7.touchTimer), t7.touchTimer = null), t7.touchTimer = setTimeout((function() {
            t7.touching = false, t7.touchTimer = null;
          }), 700);
        })(e2);
      }));
    })), kn(ca.mouse, (function(t6) {
      xa(e2, t6, (function(i4) {
        i4 = Vr(i4), e2.touching || o2[t6].call(r2, i4);
      }));
    }))), a2;
  }
  return Yi(i2, t5), i2.prototype.dispose = function() {
    ka(this._localHandlerScope), fa && ka(this._globalHandlerScope);
  }, i2.prototype.setCursor = function(t6) {
    this.dom.style && (this.dom.style.cursor = t6 || "default");
  }, i2.prototype.__togglePointerCapture = function(t6) {
    if (this.__mayPointerCapture = null, fa && +this.__pointerCapturing ^ +t6) {
      this.__pointerCapturing = t6;
      var i3 = this._globalHandlerScope;
      t6 ? (function(t7, i4) {
        function n2(n3) {
          xa(i4, n3, (function(r2) {
            r2 = Vr(r2), ba(t7, r2.target) || (r2 = (function(t8, i5) {
              return jr(t8.dom, new ga(t8, i5), true);
            })(t7, r2), i4.domHandlers[n3].call(t7, r2));
          }), { capture: true });
        }
        Ui.pointerEventsSupported ? kn(va, n2) : Ui.touchEventsSupported || kn(ha, n2);
      })(this, i3) : ka(i3);
    }
  }, i2;
})(Sr), Sa = 1;
Ui.hasGlobalWindow && (Sa = Math.max(window.devicePixelRatio || window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1));
var Ca = Sa, Aa = "#333", Na = "#ccc", _a = Zr;
function Ta(t5) {
  return t5 > 5e-5 || t5 < -5e-5;
}
var Ia = [], La = [], Da = [1, 0, 0, 1, 0, 0], Wa = Math.abs, Ea = (function() {
  function t5() {
  }
  return t5.prototype.getLocalTransform = function(i2) {
    return t5.getLocalTransform(this, i2);
  }, t5.prototype.setPosition = function(t6) {
    this.x = t6[0], this.y = t6[1];
  }, t5.prototype.setScale = function(t6) {
    this.scaleX = t6[0], this.scaleY = t6[1];
  }, t5.prototype.setSkew = function(t6) {
    this.skewX = t6[0], this.skewY = t6[1];
  }, t5.prototype.setOrigin = function(t6) {
    this.originX = t6[0], this.originY = t6[1];
  }, t5.prototype.needLocalTransform = function() {
    return Ta(this.rotation) || Ta(this.x) || Ta(this.y) || Ta(this.scaleX - 1) || Ta(this.scaleY - 1) || Ta(this.skewX) || Ta(this.skewY);
  }, t5.prototype.updateTransform = function() {
    var t6 = this.parent && this.parent.transform, i2 = this.needLocalTransform(), n2 = this.transform;
    i2 || t6 ? (n2 = n2 || [1, 0, 0, 1, 0, 0], i2 ? this.getLocalTransform(n2) : _a(n2), t6 && (i2 ? Jr(n2, t6, n2) : qr(n2, t6)), this.transform = n2, this._resolveGlobalScaleRatio(n2)) : n2 && (_a(n2), this.invTransform = null);
  }, t5.prototype._resolveGlobalScaleRatio = function(t6) {
    var i2 = this.globalScaleRatio;
    if (null != i2 && 1 !== i2) {
      this.getGlobalScale(Ia);
      var n2 = Ia[0] < 0 ? -1 : 1, r2 = Ia[1] < 0 ? -1 : 1, e2 = ((Ia[0] - n2) * i2 + n2) / Ia[0] || 0, o2 = ((Ia[1] - r2) * i2 + r2) / Ia[1] || 0;
      t6[0] *= e2, t6[1] *= e2, t6[2] *= o2, t6[3] *= o2;
    }
    this.invTransform = this.invTransform || [1, 0, 0, 1, 0, 0], ie(this.invTransform, t6);
  }, t5.prototype.getComputedTransform = function() {
    for (var t6 = this, i2 = []; t6; ) i2.push(t6), t6 = t6.parent;
    for (; t6 = i2.pop(); ) t6.updateTransform();
    return this.transform;
  }, t5.prototype.setLocalTransform = function(t6) {
    if (t6) {
      var i2 = t6[0] * t6[0] + t6[1] * t6[1], n2 = t6[2] * t6[2] + t6[3] * t6[3], r2 = Math.atan2(t6[1], t6[0]), e2 = Math.PI / 2 + r2 - Math.atan2(t6[3], t6[2]);
      n2 = Math.sqrt(n2) * Math.cos(e2), i2 = Math.sqrt(i2), this.skewX = e2, this.skewY = 0, this.rotation = -r2, this.x = +t6[4], this.y = +t6[5], this.scaleX = i2, this.scaleY = n2, this.originX = 0, this.originY = 0;
    }
  }, t5.prototype.decomposeTransform = function() {
    if (this.transform) {
      var t6 = this.parent, i2 = this.transform;
      t6 && t6.transform && (t6.invTransform = t6.invTransform || [1, 0, 0, 1, 0, 0], Jr(La, t6.invTransform, i2), i2 = La);
      var n2 = this.originX, r2 = this.originY;
      (n2 || r2) && (Da[4] = n2, Da[5] = r2, Jr(La, i2, Da), La[4] -= n2, La[5] -= r2, i2 = La), this.setLocalTransform(i2);
    }
  }, t5.prototype.getGlobalScale = function(t6) {
    var i2 = this.transform;
    return t6 = t6 || [], i2 ? (t6[0] = Math.sqrt(i2[0] * i2[0] + i2[1] * i2[1]), t6[1] = Math.sqrt(i2[2] * i2[2] + i2[3] * i2[3]), i2[0] < 0 && (t6[0] = -t6[0]), i2[3] < 0 && (t6[1] = -t6[1]), t6) : (t6[0] = 1, t6[1] = 1, t6);
  }, t5.prototype.transformCoordToLocal = function(t6, i2) {
    var n2 = [t6, i2], r2 = this.invTransform;
    return r2 && wr(n2, n2, r2), n2;
  }, t5.prototype.transformCoordToGlobal = function(t6, i2) {
    var n2 = [t6, i2], r2 = this.transform;
    return r2 && wr(n2, n2, r2), n2;
  }, t5.prototype.getLineScale = function() {
    var t6 = this.transform;
    return t6 && Wa(t6[0] - 1) > 1e-10 && Wa(t6[3] - 1) > 1e-10 ? Math.sqrt(Wa(t6[0] * t6[3] - t6[2] * t6[1])) : 1;
  }, t5.prototype.copyTransform = function(t6) {
    Fa(this, t6);
  }, t5.getLocalTransform = function(t6, i2) {
    i2 = i2 || [];
    var n2 = t6.originX || 0, r2 = t6.originY || 0, e2 = t6.scaleX, o2 = t6.scaleY, a2 = t6.anchorX, s2 = t6.anchorY, l2 = t6.rotation || 0, u2 = t6.x, f2 = t6.y, c2 = t6.skewX ? Math.tan(t6.skewX) : 0, h2 = t6.skewY ? Math.tan(-t6.skewY) : 0;
    if (n2 || r2 || a2 || s2) {
      var v2 = n2 + a2, d2 = r2 + s2;
      i2[4] = -v2 * e2 - c2 * d2 * o2, i2[5] = -d2 * o2 - h2 * v2 * e2;
    } else i2[4] = i2[5] = 0;
    return i2[0] = e2, i2[3] = o2, i2[1] = h2 * e2, i2[2] = c2 * o2, l2 && Qr(i2, i2, l2), i2[4] += n2 + u2, i2[5] += r2 + f2, i2;
  }, t5.initDefaultProps = (function() {
    var i2 = t5.prototype;
    i2.scaleX = i2.scaleY = i2.globalScaleRatio = 1, i2.x = i2.y = i2.originX = i2.originY = i2.skewX = i2.skewY = i2.rotation = i2.anchorX = i2.anchorY = 0;
  })(), t5;
})(), Oa = ["x", "y", "originX", "originY", "anchorX", "anchorY", "rotation", "scaleX", "scaleY", "skewX", "skewY"];
function Fa(t5, i2) {
  for (var n2 = 0; n2 < Oa.length; n2++) {
    var r2 = Oa[n2];
    t5[r2] = i2[r2];
  }
}
var Ra = {};
function Pa(t5, i2) {
  var n2 = Ra[i2 = i2 || qi];
  n2 || (n2 = Ra[i2] = new so(500));
  var r2 = n2.get(t5);
  return null == r2 && (r2 = Ki.measureText(t5, i2).width, n2.put(t5, r2)), r2;
}
function Ba(t5, i2, n2, r2) {
  var e2 = Pa(t5, i2), o2 = Ya(i2), a2 = ja(0, e2, n2), s2 = Ha(0, o2, r2);
  return new ce(a2, s2, e2, o2);
}
function Va(t5, i2, n2, r2) {
  var e2 = ((t5 || "") + "").split("\n");
  if (1 === e2.length) return Ba(e2[0], i2, n2, r2);
  for (var o2 = new ce(0, 0, 0, 0), a2 = 0; a2 < e2.length; a2++) {
    var s2 = Ba(e2[a2], i2, n2, r2);
    0 === a2 ? o2.copy(s2) : o2.union(s2);
  }
  return o2;
}
function ja(t5, i2, n2) {
  return "right" === n2 ? t5 -= i2 : "center" === n2 && (t5 -= i2 / 2), t5;
}
function Ha(t5, i2, n2) {
  return "middle" === n2 ? t5 -= i2 / 2 : "bottom" === n2 && (t5 -= i2), t5;
}
function Ya(t5) {
  return Pa("", t5);
}
function Xa(t5, i2) {
  return "string" == typeof t5 ? t5.lastIndexOf("%") >= 0 ? parseFloat(t5) / 100 * i2 : parseFloat(t5) : t5;
}
function Ua(t5, i2, n2) {
  var r2 = i2.position || "inside", e2 = null != i2.distance ? i2.distance : 5, o2 = n2.height, a2 = n2.width, s2 = o2 / 2, l2 = n2.x, u2 = n2.y, f2 = "left", c2 = "top";
  if (r2 instanceof Array) l2 += Xa(r2[0], n2.width), u2 += Xa(r2[1], n2.height), f2 = null, c2 = null;
  else switch (r2) {
    case "left":
      l2 -= e2, u2 += s2, f2 = "right", c2 = "middle";
      break;
    case "right":
      l2 += e2 + a2, u2 += s2, c2 = "middle";
      break;
    case "top":
      l2 += a2 / 2, u2 -= e2, f2 = "center", c2 = "bottom";
      break;
    case "bottom":
      l2 += a2 / 2, u2 += o2 + e2, f2 = "center";
      break;
    case "inside":
      l2 += a2 / 2, u2 += s2, f2 = "center", c2 = "middle";
      break;
    case "insideLeft":
      l2 += e2, u2 += s2, c2 = "middle";
      break;
    case "insideRight":
      l2 += a2 - e2, u2 += s2, f2 = "right", c2 = "middle";
      break;
    case "insideTop":
      l2 += a2 / 2, u2 += e2, f2 = "center";
      break;
    case "insideBottom":
      l2 += a2 / 2, u2 += o2 - e2, f2 = "center", c2 = "bottom";
      break;
    case "insideTopLeft":
      l2 += e2, u2 += e2;
      break;
    case "insideTopRight":
      l2 += a2 - e2, u2 += e2, f2 = "right";
      break;
    case "insideBottomLeft":
      l2 += e2, u2 += o2 - e2, c2 = "bottom";
      break;
    case "insideBottomRight":
      l2 += a2 - e2, u2 += o2 - e2, f2 = "right", c2 = "bottom";
  }
  return (t5 = t5 || {}).x = l2, t5.y = u2, t5.align = f2, t5.verticalAlign = c2, t5;
}
var $a = "__zr_normal__", Ga = Oa.concat(["ignore"]), Za = zn(Oa, (function(t5, i2) {
  return t5[i2] = true, t5;
}), { ignore: false }), qa = {}, Ja = new ce(0, 0, 0, 0), Ka = (function() {
  function t5(t6) {
    this.id = hn(), this.animators = [], this.currentStates = [], this.states = {}, this._init(t6);
  }
  return t5.prototype._init = function(t6) {
    this.attr(t6);
  }, t5.prototype.drift = function(t6, i2) {
    switch (this.draggable) {
      case "horizontal":
        i2 = 0;
        break;
      case "vertical":
        t6 = 0;
    }
    var n2 = this.transform;
    n2 || (n2 = this.transform = [1, 0, 0, 1, 0, 0]), n2[4] += t6, n2[5] += i2, this.decomposeTransform(), this.markRedraw();
  }, t5.prototype.beforeUpdate = function() {
  }, t5.prototype.afterUpdate = function() {
  }, t5.prototype.update = function() {
    this.updateTransform(), this.__dirty && this.updateInnerText();
  }, t5.prototype.updateInnerText = function(t6) {
    var i2 = this._textContent;
    if (i2 && (!i2.ignore || t6)) {
      this.textConfig || (this.textConfig = {});
      var n2 = this.textConfig, r2 = n2.local, e2 = i2.innerTransformable, o2 = void 0, a2 = void 0, s2 = false;
      e2.parent = r2 ? this : null;
      var l2 = false;
      if (e2.copyTransform(i2), null != n2.position) {
        var u2 = Ja;
        u2.copy(n2.layoutRect ? n2.layoutRect : this.getBoundingRect()), r2 || u2.applyTransform(this.transform), this.calculateTextPosition ? this.calculateTextPosition(qa, n2, u2) : Ua(qa, n2, u2), e2.x = qa.x, e2.y = qa.y, o2 = qa.align, a2 = qa.verticalAlign;
        var f2 = n2.origin;
        if (f2 && null != n2.rotation) {
          var c2 = void 0, h2 = void 0;
          "center" === f2 ? (c2 = 0.5 * u2.width, h2 = 0.5 * u2.height) : (c2 = Xa(f2[0], u2.width), h2 = Xa(f2[1], u2.height)), l2 = true, e2.originX = -e2.x + c2 + (r2 ? 0 : u2.x), e2.originY = -e2.y + h2 + (r2 ? 0 : u2.y);
        }
      }
      null != n2.rotation && (e2.rotation = n2.rotation);
      var v2 = n2.offset;
      v2 && (e2.x += v2[0], e2.y += v2[1], l2 || (e2.originX = -v2[0], e2.originY = -v2[1]));
      var d2 = null == n2.inside ? "string" == typeof n2.position && n2.position.indexOf("inside") >= 0 : n2.inside, p2 = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {}), m2 = void 0, b2 = void 0, g3 = void 0;
      d2 && this.canBeInsideText() ? (b2 = n2.insideStroke, null != (m2 = n2.insideFill) && "auto" !== m2 || (m2 = this.getInsideTextFill()), null != b2 && "auto" !== b2 || (b2 = this.getInsideTextStroke(m2), g3 = true)) : (b2 = n2.outsideStroke, null != (m2 = n2.outsideFill) && "auto" !== m2 || (m2 = this.getOutsideFill()), null != b2 && "auto" !== b2 || (b2 = this.getOutsideStroke(m2), g3 = true)), (m2 = m2 || "#000") === p2.fill && b2 === p2.stroke && g3 === p2.autoStroke && o2 === p2.align && a2 === p2.verticalAlign || (s2 = true, p2.fill = m2, p2.stroke = b2, p2.autoStroke = g3, p2.align = o2, p2.verticalAlign = a2, i2.setDefaultTextStyle(p2)), i2.__dirty |= 1, s2 && i2.dirtyStyle(true);
    }
  }, t5.prototype.canBeInsideText = function() {
    return true;
  }, t5.prototype.getInsideTextFill = function() {
    return "#fff";
  }, t5.prototype.getInsideTextStroke = function() {
    return "#000";
  }, t5.prototype.getOutsideFill = function() {
    return this.__zr && this.__zr.isDarkMode() ? Na : Aa;
  }, t5.prototype.getOutsideStroke = function() {
    var t6 = this.__zr && this.__zr.getBackgroundColor(), i2 = "string" == typeof t6 && xo(t6);
    i2 || (i2 = [255, 255, 255, 1]);
    for (var n2 = i2[3], r2 = this.__zr.isDarkMode(), e2 = 0; e2 < 3; e2++) i2[e2] = i2[e2] * n2 + (r2 ? 0 : 255) * (1 - n2);
    return i2[3] = 1, Ao(i2, "rgba");
  }, t5.prototype.traverse = function() {
  }, t5.prototype.attrKV = function(t6, i2) {
    "textConfig" === t6 ? this.setTextConfig(i2) : "textContent" === t6 ? this.setTextContent(i2) : "clipPath" === t6 ? this.setClipPath(i2) : "extra" === t6 ? (this.extra = this.extra || {}, bn(this.extra, i2)) : this[t6] = i2;
  }, t5.prototype.hide = function() {
    this.ignore = true, this.markRedraw();
  }, t5.prototype.show = function() {
    this.ignore = false, this.markRedraw();
  }, t5.prototype.attr = function(t6, i2) {
    if ("string" == typeof t6) this.attrKV(t6, i2);
    else if (Wn(t6)) for (var n2 = Cn(t6), r2 = 0; r2 < n2.length; r2++) {
      var e2 = n2[r2];
      this.attrKV(e2, t6[e2]);
    }
    return this.markRedraw(), this;
  }, t5.prototype.saveCurrentToNormalState = function(t6) {
    this._innerSaveToNormal(t6);
    for (var i2 = this._normalState, n2 = 0; n2 < this.animators.length; n2++) {
      var r2 = this.animators[n2], e2 = r2.__fromStateTransition;
      if (!(r2.getLoop() || e2 && e2 !== $a)) {
        var o2 = r2.targetName;
        r2.saveTo(o2 ? i2[o2] : i2);
      }
    }
  }, t5.prototype._innerSaveToNormal = function(t6) {
    var i2 = this._normalState;
    i2 || (i2 = this._normalState = {}), t6.textConfig && !i2.textConfig && (i2.textConfig = this.textConfig), this._savePrimaryToNormal(t6, i2, Ga);
  }, t5.prototype._savePrimaryToNormal = function(t6, i2, n2) {
    for (var r2 = 0; r2 < n2.length; r2++) {
      var e2 = n2[r2];
      null == t6[e2] || e2 in i2 || (i2[e2] = this[e2]);
    }
  }, t5.prototype.hasState = function() {
    return this.currentStates.length > 0;
  }, t5.prototype.getState = function(t6) {
    return this.states[t6];
  }, t5.prototype.ensureState = function(t6) {
    var i2 = this.states;
    return i2[t6] || (i2[t6] = {}), i2[t6];
  }, t5.prototype.clearStates = function(t6) {
    this.useState($a, false, t6);
  }, t5.prototype.useState = function(t6, i2, n2, r2) {
    var e2 = t6 === $a;
    if (this.hasState() || !e2) {
      var o2 = this.currentStates, a2 = this.stateTransition;
      if (!(yn(o2, t6) >= 0) || !i2 && 1 !== o2.length) {
        var s2;
        if (this.stateProxy && !e2 && (s2 = this.stateProxy(t6)), s2 || (s2 = this.states && this.states[t6]), s2 || e2) {
          e2 || this.saveCurrentToNormalState(s2);
          var l2 = !!(s2 && s2.hoverLayer || r2);
          l2 && this._toggleHoverLayerFlag(true), this._applyStateObj(t6, s2, this._normalState, i2, !n2 && !this.__inHover && a2 && a2.duration > 0, a2);
          var u2 = this._textContent, f2 = this._textGuide;
          return u2 && u2.useState(t6, i2, n2, l2), f2 && f2.useState(t6, i2, n2, l2), e2 ? (this.currentStates = [], this._normalState = {}) : i2 ? this.currentStates.push(t6) : this.currentStates = [t6], this._updateAnimationTargets(), this.markRedraw(), !l2 && this.__inHover && (this._toggleHoverLayerFlag(false), this.__dirty &= -2), s2;
        }
        vn("State " + t6 + " not exists.");
      }
    }
  }, t5.prototype.useStates = function(t6, i2, n2) {
    if (t6.length) {
      var r2 = [], e2 = this.currentStates, o2 = t6.length, a2 = o2 === e2.length;
      if (a2) {
        for (var s2 = 0; s2 < o2; s2++) if (t6[s2] !== e2[s2]) {
          a2 = false;
          break;
        }
      }
      if (a2) return;
      for (s2 = 0; s2 < o2; s2++) {
        var l2 = t6[s2], u2 = void 0;
        this.stateProxy && (u2 = this.stateProxy(l2, t6)), u2 || (u2 = this.states[l2]), u2 && r2.push(u2);
      }
      var f2 = r2[o2 - 1], c2 = !!(f2 && f2.hoverLayer || n2);
      c2 && this._toggleHoverLayerFlag(true);
      var h2 = this._mergeStates(r2), v2 = this.stateTransition;
      this.saveCurrentToNormalState(h2), this._applyStateObj(t6.join(","), h2, this._normalState, false, !i2 && !this.__inHover && v2 && v2.duration > 0, v2);
      var d2 = this._textContent, p2 = this._textGuide;
      d2 && d2.useStates(t6, i2, c2), p2 && p2.useStates(t6, i2, c2), this._updateAnimationTargets(), this.currentStates = t6.slice(), this.markRedraw(), !c2 && this.__inHover && (this._toggleHoverLayerFlag(false), this.__dirty &= -2);
    } else this.clearStates();
  }, t5.prototype.isSilent = function() {
    for (var t6 = this.silent, i2 = this.parent; !t6 && i2; ) {
      if (i2.silent) {
        t6 = true;
        break;
      }
      i2 = i2.parent;
    }
    return t6;
  }, t5.prototype._updateAnimationTargets = function() {
    for (var t6 = 0; t6 < this.animators.length; t6++) {
      var i2 = this.animators[t6];
      i2.targetName && i2.changeTarget(this[i2.targetName]);
    }
  }, t5.prototype.removeState = function(t6) {
    var i2 = yn(this.currentStates, t6);
    if (i2 >= 0) {
      var n2 = this.currentStates.slice();
      n2.splice(i2, 1), this.useStates(n2);
    }
  }, t5.prototype.replaceState = function(t6, i2, n2) {
    var r2 = this.currentStates.slice(), e2 = yn(r2, t6), o2 = yn(r2, i2) >= 0;
    e2 >= 0 ? o2 ? r2.splice(e2, 1) : r2[e2] = i2 : n2 && !o2 && r2.push(i2), this.useStates(r2);
  }, t5.prototype.toggleState = function(t6, i2) {
    i2 ? this.useState(t6, true) : this.removeState(t6);
  }, t5.prototype._mergeStates = function(t6) {
    for (var i2, n2 = {}, r2 = 0; r2 < t6.length; r2++) {
      var e2 = t6[r2];
      bn(n2, e2), e2.textConfig && bn(i2 = i2 || {}, e2.textConfig);
    }
    return i2 && (n2.textConfig = i2), n2;
  }, t5.prototype._applyStateObj = function(t6, i2, n2, r2, e2, o2) {
    var a2 = !(i2 && r2);
    i2 && i2.textConfig ? (this.textConfig = bn({}, r2 ? this.textConfig : n2.textConfig), bn(this.textConfig, i2.textConfig)) : a2 && n2.textConfig && (this.textConfig = n2.textConfig);
    for (var s2 = {}, l2 = false, u2 = 0; u2 < Ga.length; u2++) {
      var f2 = Ga[u2], c2 = e2 && Za[f2];
      i2 && null != i2[f2] ? c2 ? (l2 = true, s2[f2] = i2[f2]) : this[f2] = i2[f2] : a2 && null != n2[f2] && (c2 ? (l2 = true, s2[f2] = n2[f2]) : this[f2] = n2[f2]);
    }
    if (!e2) for (u2 = 0; u2 < this.animators.length; u2++) {
      var h2 = this.animators[u2], v2 = h2.targetName;
      h2.getLoop() || h2.__changeFinalValue(v2 ? (i2 || n2)[v2] : i2 || n2);
    }
    l2 && this._transitionState(t6, s2, o2);
  }, t5.prototype._attachComponent = function(t6) {
    if ((!t6.__zr || t6.__hostTarget) && t6 !== this) {
      var i2 = this.__zr;
      i2 && t6.addSelfToZr(i2), t6.__zr = i2, t6.__hostTarget = this;
    }
  }, t5.prototype._detachComponent = function(t6) {
    t6.__zr && t6.removeSelfFromZr(t6.__zr), t6.__zr = null, t6.__hostTarget = null;
  }, t5.prototype.getClipPath = function() {
    return this._clipPath;
  }, t5.prototype.setClipPath = function(t6) {
    this._clipPath && this._clipPath !== t6 && this.removeClipPath(), this._attachComponent(t6), this._clipPath = t6, this.markRedraw();
  }, t5.prototype.removeClipPath = function() {
    var t6 = this._clipPath;
    t6 && (this._detachComponent(t6), this._clipPath = null, this.markRedraw());
  }, t5.prototype.getTextContent = function() {
    return this._textContent;
  }, t5.prototype.setTextContent = function(t6) {
    var i2 = this._textContent;
    i2 !== t6 && (i2 && i2 !== t6 && this.removeTextContent(), t6.innerTransformable = new Ea(), this._attachComponent(t6), this._textContent = t6, this.markRedraw());
  }, t5.prototype.setTextConfig = function(t6) {
    this.textConfig || (this.textConfig = {}), bn(this.textConfig, t6), this.markRedraw();
  }, t5.prototype.removeTextConfig = function() {
    this.textConfig = null, this.markRedraw();
  }, t5.prototype.removeTextContent = function() {
    var t6 = this._textContent;
    t6 && (t6.innerTransformable = null, this._detachComponent(t6), this._textContent = null, this._innerTextDefaultStyle = null, this.markRedraw());
  }, t5.prototype.getTextGuideLine = function() {
    return this._textGuide;
  }, t5.prototype.setTextGuideLine = function(t6) {
    this._textGuide && this._textGuide !== t6 && this.removeTextGuideLine(), this._attachComponent(t6), this._textGuide = t6, this.markRedraw();
  }, t5.prototype.removeTextGuideLine = function() {
    var t6 = this._textGuide;
    t6 && (this._detachComponent(t6), this._textGuide = null, this.markRedraw());
  }, t5.prototype.markRedraw = function() {
    this.__dirty |= 1;
    var t6 = this.__zr;
    t6 && (this.__inHover ? t6.refreshHover() : t6.refresh()), this.__hostTarget && this.__hostTarget.markRedraw();
  }, t5.prototype.dirty = function() {
    this.markRedraw();
  }, t5.prototype._toggleHoverLayerFlag = function(t6) {
    this.__inHover = t6;
    var i2 = this._textContent, n2 = this._textGuide;
    i2 && (i2.__inHover = t6), n2 && (n2.__inHover = t6);
  }, t5.prototype.addSelfToZr = function(t6) {
    if (this.__zr !== t6) {
      this.__zr = t6;
      var i2 = this.animators;
      if (i2) for (var n2 = 0; n2 < i2.length; n2++) t6.animation.addAnimator(i2[n2]);
      this._clipPath && this._clipPath.addSelfToZr(t6), this._textContent && this._textContent.addSelfToZr(t6), this._textGuide && this._textGuide.addSelfToZr(t6);
    }
  }, t5.prototype.removeSelfFromZr = function(t6) {
    if (this.__zr) {
      this.__zr = null;
      var i2 = this.animators;
      if (i2) for (var n2 = 0; n2 < i2.length; n2++) t6.animation.removeAnimator(i2[n2]);
      this._clipPath && this._clipPath.removeSelfFromZr(t6), this._textContent && this._textContent.removeSelfFromZr(t6), this._textGuide && this._textGuide.removeSelfFromZr(t6);
    }
  }, t5.prototype.animate = function(t6, i2, n2) {
    var r2 = new oa(t6 ? this[t6] : this, i2, n2);
    return t6 && (r2.targetName = t6), this.addAnimator(r2, t6), r2;
  }, t5.prototype.addAnimator = function(t6, i2) {
    var n2 = this.__zr, r2 = this;
    t6.during((function() {
      r2.updateDuringAnimation(i2);
    })).done((function() {
      var i3 = r2.animators, n3 = yn(i3, t6);
      n3 >= 0 && i3.splice(n3, 1);
    })), this.animators.push(t6), n2 && n2.animation.addAnimator(t6), n2 && n2.wakeUp();
  }, t5.prototype.updateDuringAnimation = function() {
    this.markRedraw();
  }, t5.prototype.stopAnimation = function(t6, i2) {
    for (var n2 = this.animators, r2 = n2.length, e2 = [], o2 = 0; o2 < r2; o2++) {
      var a2 = n2[o2];
      t6 && t6 !== a2.scope ? e2.push(a2) : a2.stop(i2);
    }
    return this.animators = e2, this;
  }, t5.prototype.animateTo = function(t6, i2, n2) {
    Qa(this, t6, i2, n2);
  }, t5.prototype.animateFrom = function(t6, i2, n2) {
    Qa(this, t6, i2, n2, true);
  }, t5.prototype._transitionState = function(t6, i2, n2, r2) {
    for (var e2 = Qa(this, i2, n2, r2), o2 = 0; o2 < e2.length; o2++) e2[o2].__fromStateTransition = t6;
  }, t5.prototype.getBoundingRect = function() {
    return null;
  }, t5.prototype.getPaintRect = function() {
    return null;
  }, t5.initDefaultProps = (function() {
    var i2 = t5.prototype;
    function n2(t6, n3, r2, e2) {
      function o2(t7, i3) {
        Object.defineProperty(i3, 0, { get: function() {
          return t7[r2];
        }, set: function(i4) {
          t7[r2] = i4;
        } }), Object.defineProperty(i3, 1, { get: function() {
          return t7[e2];
        }, set: function(i4) {
          t7[e2] = i4;
        } });
      }
      Object.defineProperty(i2, t6, { get: function() {
        return this[n3] || o2(this, this[n3] = []), this[n3];
      }, set: function(t7) {
        this[r2] = t7[0], this[e2] = t7[1], this[n3] = t7, o2(this, t7);
      } });
    }
    i2.type = "element", i2.name = "", i2.ignore = i2.silent = i2.isGroup = i2.draggable = i2.dragging = i2.ignoreClip = i2.__inHover = false, i2.__dirty = 1, Object.defineProperty && (n2("position", "_legacyPos", "x", "y"), n2("scale", "_legacyScale", "scaleX", "scaleY"), n2("origin", "_legacyOrigin", "originX", "originY"));
  })(), t5;
})();
function Qa(t5, i2, n2, r2, e2) {
  var o2 = [];
  ns(t5, "", t5, i2, n2 = n2 || {}, r2, o2, e2);
  var a2 = o2.length, s2 = false, l2 = n2.done, u2 = n2.aborted, f2 = function() {
    s2 = true, --a2 <= 0 && (s2 ? l2 && l2() : u2 && u2());
  }, c2 = function() {
    --a2 <= 0 && (s2 ? l2 && l2() : u2 && u2());
  };
  a2 || l2 && l2(), o2.length > 0 && n2.during && o2[0].during((function(t6, i3) {
    n2.during(i3);
  }));
  for (var h2 = 0; h2 < o2.length; h2++) {
    var v2 = o2[h2];
    f2 && v2.done(f2), c2 && v2.aborted(c2), n2.force && v2.duration(n2.duration), v2.start(n2.easing);
  }
  return o2;
}
function ts(t5, i2, n2) {
  for (var r2 = 0; r2 < n2; r2++) t5[r2] = i2[r2];
}
function is(t5, i2, n2) {
  if (xn(i2[n2])) if (xn(t5[n2]) || (t5[n2] = []), On(i2[n2])) {
    var r2 = i2[n2].length;
    t5[n2].length !== r2 && (t5[n2] = new i2[n2].constructor(r2), ts(t5[n2], i2[n2], r2));
  } else {
    var e2 = i2[n2], o2 = t5[n2], a2 = e2.length;
    if (xn(e2[0])) for (var s2 = e2[0].length, l2 = 0; l2 < a2; l2++) o2[l2] ? ts(o2[l2], e2[l2], s2) : o2[l2] = Array.prototype.slice.call(e2[l2]);
    else ts(o2, e2, a2);
    o2.length = e2.length;
  }
  else t5[n2] = i2[n2];
}
function ns(t5, i2, n2, r2, e2, o2, a2, s2) {
  for (var l2 = Cn(r2), u2 = e2.duration, f2 = e2.delay, c2 = e2.additive, h2 = e2.setToFinal, v2 = !Wn(o2), d2 = t5.animators, p2 = [], m2 = 0; m2 < l2.length; m2++) {
    var b2 = r2[S3 = l2[m2]];
    if (null != b2 && null != n2[S3] && (v2 || o2[S3])) if (!Wn(b2) || xn(b2) || Rn(b2)) p2.push(S3);
    else {
      if (i2) {
        s2 || (n2[S3] = b2, t5.updateDuringAnimation(i2));
        continue;
      }
      ns(t5, S3, n2[S3], b2, e2, o2 && o2[S3], a2, s2);
    }
    else s2 || (n2[S3] = b2, t5.updateDuringAnimation(i2), p2.push(S3));
  }
  var g3 = p2.length;
  if (!c2 && g3) {
    for (var y2 = 0; y2 < d2.length; y2++) if ((x2 = d2[y2]).targetName === i2 && x2.stopTracks(p2)) {
      var w3 = yn(d2, x2);
      d2.splice(w3, 1);
    }
  }
  if (e2.force || (p2 = Sn(p2, (function(t6) {
    return !((i3 = r2[t6]) === (e3 = n2[t6]) || xn(i3) && xn(e3) && (function(t7, i4) {
      var n3 = t7.length;
      if (n3 !== i4.length) return false;
      for (var r3 = 0; r3 < n3; r3++) if (t7[r3] !== i4[r3]) return false;
      return true;
    })(i3, e3));
    var i3, e3;
  })), g3 = p2.length), g3 > 0 || e2.force && !a2.length) {
    var x2, k2 = void 0, M2 = void 0, z2 = void 0;
    if (s2) for (M2 = {}, h2 && (k2 = {}), y2 = 0; y2 < g3; y2++) M2[S3 = p2[y2]] = n2[S3], h2 ? k2[S3] = r2[S3] : n2[S3] = r2[S3];
    else if (h2) for (z2 = {}, y2 = 0; y2 < g3; y2++) {
      var S3;
      z2[S3 = p2[y2]] = Qo(n2[S3]), is(n2, r2, S3);
    }
    (x2 = new oa(n2, false, false, c2 ? Sn(d2, (function(t6) {
      return t6.targetName === i2;
    })) : null)).targetName = i2, e2.scope && (x2.scope = e2.scope), h2 && k2 && x2.whenWithKeys(0, k2, p2), z2 && x2.whenWithKeys(0, z2, p2), x2.whenWithKeys(null == u2 ? 500 : u2, s2 ? M2 : r2, p2).delay(f2 || 0), t5.addAnimator(x2, i2), a2.push(x2);
  }
}
wn(Ka, Sr), wn(Ka, Ea);
var rs = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this) || this;
    return n2.isGroup = true, n2._children = [], n2.attr(i3), n2;
  }
  return Yi(i2, t5), i2.prototype.childrenRef = function() {
    return this._children;
  }, i2.prototype.children = function() {
    return this._children.slice();
  }, i2.prototype.childAt = function(t6) {
    return this._children[t6];
  }, i2.prototype.childOfName = function(t6) {
    for (var i3 = this._children, n2 = 0; n2 < i3.length; n2++) if (i3[n2].name === t6) return i3[n2];
  }, i2.prototype.childCount = function() {
    return this._children.length;
  }, i2.prototype.add = function(t6) {
    return t6 && t6 !== this && t6.parent !== this && (this._children.push(t6), this._doAdd(t6)), this;
  }, i2.prototype.addBefore = function(t6, i3) {
    if (t6 && t6 !== this && t6.parent !== this && i3 && i3.parent === this) {
      var n2 = this._children, r2 = n2.indexOf(i3);
      r2 >= 0 && (n2.splice(r2, 0, t6), this._doAdd(t6));
    }
    return this;
  }, i2.prototype.replace = function(t6, i3) {
    var n2 = yn(this._children, t6);
    return n2 >= 0 && this.replaceAt(i3, n2), this;
  }, i2.prototype.replaceAt = function(t6, i3) {
    var n2 = this._children, r2 = n2[i3];
    if (t6 && t6 !== this && t6.parent !== this && t6 !== r2) {
      n2[i3] = t6, r2.parent = null;
      var e2 = this.__zr;
      e2 && r2.removeSelfFromZr(e2), this._doAdd(t6);
    }
    return this;
  }, i2.prototype._doAdd = function(t6) {
    t6.parent && t6.parent.remove(t6), t6.parent = this;
    var i3 = this.__zr;
    i3 && i3 !== t6.__zr && t6.addSelfToZr(i3), i3 && i3.refresh();
  }, i2.prototype.remove = function(t6) {
    var i3 = this.__zr, n2 = this._children, r2 = yn(n2, t6);
    return r2 < 0 || (n2.splice(r2, 1), t6.parent = null, i3 && t6.removeSelfFromZr(i3), i3 && i3.refresh()), this;
  }, i2.prototype.removeAll = function() {
    for (var t6 = this._children, i3 = this.__zr, n2 = 0; n2 < t6.length; n2++) {
      var r2 = t6[n2];
      i3 && r2.removeSelfFromZr(i3), r2.parent = null;
    }
    return t6.length = 0, this;
  }, i2.prototype.eachChild = function(t6, i3) {
    for (var n2 = this._children, r2 = 0; r2 < n2.length; r2++) t6.call(i3, n2[r2], r2);
    return this;
  }, i2.prototype.traverse = function(t6, i3) {
    for (var n2 = 0; n2 < this._children.length; n2++) {
      var r2 = this._children[n2], e2 = t6.call(i3, r2);
      r2.isGroup && !e2 && r2.traverse(t6, i3);
    }
    return this;
  }, i2.prototype.addSelfToZr = function(i3) {
    t5.prototype.addSelfToZr.call(this, i3);
    for (var n2 = 0; n2 < this._children.length; n2++) this._children[n2].addSelfToZr(i3);
  }, i2.prototype.removeSelfFromZr = function(i3) {
    t5.prototype.removeSelfFromZr.call(this, i3);
    for (var n2 = 0; n2 < this._children.length; n2++) this._children[n2].removeSelfFromZr(i3);
  }, i2.prototype.getBoundingRect = function(t6) {
    for (var i3 = new ce(0, 0, 0, 0), n2 = t6 || this._children, r2 = [], e2 = null, o2 = 0; o2 < n2.length; o2++) {
      var a2 = n2[o2];
      if (!a2.ignore && !a2.invisible) {
        var s2 = a2.getBoundingRect(), l2 = a2.getLocalTransform(r2);
        l2 ? (ce.applyTransform(i3, s2, l2), (e2 = e2 || i3.clone()).union(i3)) : (e2 = e2 || s2.clone()).union(s2);
      }
    }
    return e2 || i3;
  }, i2;
})(Ka);
rs.prototype.type = "group";
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var es, os = {}, as = (function() {
  function t5(t6, i2, n2) {
    var r2 = this;
    this._sleepAfterStill = 10, this._stillFrameAccum = 0, this._needsRefresh = true, this._needsRefreshHover = true, this._darkMode = false, n2 = n2 || {}, this.dom = i2, this.id = t6;
    var e2 = new Ie(), o2 = n2.renderer || "canvas";
    os[o2] || (o2 = Cn(os)[0]), n2.useDirtyRect = null != n2.useDirtyRect && n2.useDirtyRect;
    var a2 = new os[o2](i2, e2, n2, t6), s2 = n2.ssr || a2.ssrOnly;
    this.storage = e2, this.painter = a2;
    var l2, u2 = Ui.node || Ui.worker || s2 ? null : new za(a2.getViewportRoot(), a2.root), f2 = n2.useCoarsePointer;
    (null == f2 || "auto" === f2 ? Ui.touchEventsSupported : !!f2) && (l2 = Vn(n2.pointerSize, 44)), this.handler = new ge(e2, a2, u2, a2.root, l2), this.animation = new ua({ stage: { update: s2 ? null : function() {
      return r2._flush(true);
    } } }), s2 || this.animation.start();
  }
  return t5.prototype.add = function(t6) {
    !this._disposed && t6 && (this.storage.addRoot(t6), t6.addSelfToZr(this), this.refresh());
  }, t5.prototype.remove = function(t6) {
    !this._disposed && t6 && (this.storage.delRoot(t6), t6.removeSelfFromZr(this), this.refresh());
  }, t5.prototype.configLayer = function(t6, i2) {
    this._disposed || (this.painter.configLayer && this.painter.configLayer(t6, i2), this.refresh());
  }, t5.prototype.setBackgroundColor = function(t6) {
    this._disposed || (this.painter.setBackgroundColor && this.painter.setBackgroundColor(t6), this.refresh(), this._backgroundColor = t6, this._darkMode = (function(t7) {
      if (!t7) return false;
      if ("string" == typeof t7) return No(t7, 1) < 0.4;
      if (t7.colorStops) {
        for (var i2 = t7.colorStops, n2 = 0, r2 = i2.length, e2 = 0; e2 < r2; e2++) n2 += No(i2[e2].color, 1);
        return (n2 /= r2) < 0.4;
      }
      return false;
    })(t6));
  }, t5.prototype.getBackgroundColor = function() {
    return this._backgroundColor;
  }, t5.prototype.setDarkMode = function(t6) {
    this._darkMode = t6;
  }, t5.prototype.isDarkMode = function() {
    return this._darkMode;
  }, t5.prototype.refreshImmediately = function(t6) {
    this._disposed || (t6 || this.animation.update(true), this._needsRefresh = false, this.painter.refresh(), this._needsRefresh = false);
  }, t5.prototype.refresh = function() {
    this._disposed || (this._needsRefresh = true, this.animation.start());
  }, t5.prototype.flush = function() {
    this._disposed || this._flush(false);
  }, t5.prototype._flush = function(t6) {
    var i2, n2 = aa();
    this._needsRefresh && (i2 = true, this.refreshImmediately(t6)), this._needsRefreshHover && (i2 = true, this.refreshHoverImmediately());
    var r2 = aa();
    i2 ? (this._stillFrameAccum = 0, this.trigger("rendered", { elapsedTime: r2 - n2 })) : this._sleepAfterStill > 0 && (this._stillFrameAccum++, this._stillFrameAccum > this._sleepAfterStill && this.animation.stop());
  }, t5.prototype.setSleepAfterStill = function(t6) {
    this._sleepAfterStill = t6;
  }, t5.prototype.wakeUp = function() {
    this._disposed || (this.animation.start(), this._stillFrameAccum = 0);
  }, t5.prototype.refreshHover = function() {
    this._needsRefreshHover = true;
  }, t5.prototype.refreshHoverImmediately = function() {
    this._disposed || (this._needsRefreshHover = false, this.painter.refreshHover && "canvas" === this.painter.getType() && this.painter.refreshHover());
  }, t5.prototype.resize = function(t6) {
    this._disposed || (this.painter.resize((t6 = t6 || {}).width, t6.height), this.handler.resize());
  }, t5.prototype.clearAnimation = function() {
    this._disposed || this.animation.clear();
  }, t5.prototype.getWidth = function() {
    if (!this._disposed) return this.painter.getWidth();
  }, t5.prototype.getHeight = function() {
    if (!this._disposed) return this.painter.getHeight();
  }, t5.prototype.setCursorStyle = function(t6) {
    this._disposed || this.handler.setCursorStyle(t6);
  }, t5.prototype.findHover = function(t6, i2) {
    if (!this._disposed) return this.handler.findHover(t6, i2);
  }, t5.prototype.on = function(t6, i2, n2) {
    return this._disposed || this.handler.on(t6, i2, n2), this;
  }, t5.prototype.off = function(t6, i2) {
    this._disposed || this.handler.off(t6, i2);
  }, t5.prototype.trigger = function(t6, i2) {
    this._disposed || this.handler.trigger(t6, i2);
  }, t5.prototype.clear = function() {
    if (!this._disposed) {
      for (var t6 = this.storage.getRoots(), i2 = 0; i2 < t6.length; i2++) t6[i2] instanceof rs && t6[i2].removeSelfFromZr(this);
      this.storage.delAllRoots(), this.painter.clear();
    }
  }, t5.prototype.dispose = function() {
    this._disposed || (this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, this._disposed = true);
  }, t5;
})();
function ss(t5, i2) {
  return new as(hn(), t5, i2);
}
function ls(t5, i2, n2, r2) {
  var e2 = i2[0], o2 = i2[1], a2 = n2[0], s2 = n2[1], l2 = o2 - e2, u2 = s2 - a2;
  if (0 === l2) return 0 === u2 ? a2 : (a2 + s2) / 2;
  if (r2) if (l2 > 0) {
    if (t5 <= e2) return a2;
    if (t5 >= o2) return s2;
  } else {
    if (t5 >= e2) return a2;
    if (t5 <= o2) return s2;
  }
  else {
    if (t5 === e2) return a2;
    if (t5 === o2) return s2;
  }
  return (t5 - e2) / l2 * u2 + a2;
}
function us(t5, i2) {
  switch (t5) {
    case "center":
    case "middle":
      t5 = "50%";
      break;
    case "left":
    case "top":
      t5 = "0%";
      break;
    case "right":
    case "bottom":
      t5 = "100%";
  }
  return In(t5) ? (n2 = t5, n2.replace(/^\s+|\s+$/g, "")).match(/%$/) ? parseFloat(t5) / 100 * i2 : parseFloat(t5) : null == t5 ? NaN : +t5;
  var n2;
}
function fs(t5, i2, n2) {
  return null == i2 && (i2 = 10), i2 = Math.min(Math.max(0, i2), 20), t5 = (+t5).toFixed(i2), n2 ? t5 : +t5;
}
function cs(t5) {
  return t5.sort((function(t6, i2) {
    return t6 - i2;
  })), t5;
}
function hs(t5) {
  if (t5 = +t5, isNaN(t5)) return 0;
  if (t5 > 1e-14) {
    for (var i2 = 1, n2 = 0; n2 < 15; n2++, i2 *= 10) if (Math.round(t5 * i2) / i2 === t5) return n2;
  }
  return (function(t6) {
    var i3 = t6.toString().toLowerCase(), n3 = i3.indexOf("e"), r2 = n3 > 0 ? +i3.slice(n3 + 1) : 0, e2 = n3 > 0 ? n3 : i3.length, o2 = i3.indexOf(".");
    return Math.max(0, (o2 < 0 ? 0 : e2 - 1 - o2) - r2);
  })(t5);
}
function vs(t5, i2) {
  var n2 = Math.log, r2 = Math.LN10, e2 = Math.floor(n2(t5[1] - t5[0]) / r2), o2 = Math.round(n2(Math.abs(i2[1] - i2[0])) / r2), a2 = Math.min(Math.max(-e2 + o2, 0), 20);
  return isFinite(a2) ? a2 : 20;
}
function ds(t5, i2) {
  var n2 = Math.max(hs(t5), hs(i2)), r2 = t5 + i2;
  return n2 > 20 ? r2 : fs(r2, n2);
}
var ps = 9007199254740991;
function ms(t5) {
  var i2 = 2 * Math.PI;
  return (t5 % i2 + i2) % i2;
}
function bs(t5) {
  return t5 > -1e-4 && t5 < 1e-4;
}
var gs = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;
function ys(t5) {
  if (t5 instanceof Date) return t5;
  if (In(t5)) {
    var i2 = gs.exec(t5);
    if (!i2) return /* @__PURE__ */ new Date(NaN);
    if (i2[8]) {
      var n2 = +i2[4] || 0;
      return "Z" !== i2[8].toUpperCase() && (n2 -= +i2[8].slice(0, 3)), new Date(Date.UTC(+i2[1], +(i2[2] || 1) - 1, +i2[3] || 1, n2, +(i2[5] || 0), +i2[6] || 0, i2[7] ? +i2[7].substring(0, 3) : 0));
    }
    return new Date(+i2[1], +(i2[2] || 1) - 1, +i2[3] || 1, +i2[4] || 0, +(i2[5] || 0), +i2[6] || 0, i2[7] ? +i2[7].substring(0, 3) : 0);
  }
  return null == t5 ? /* @__PURE__ */ new Date(NaN) : new Date(Math.round(t5));
}
function ws(t5) {
  if (0 === t5) return 0;
  var i2 = Math.floor(Math.log(t5) / Math.LN10);
  return t5 / Math.pow(10, i2) >= 10 && i2++, i2;
}
function xs(t5) {
  var i2 = ws(t5), n2 = Math.pow(10, i2), r2 = t5 / n2;
  return t5 = (r2 < 1.5 ? 1 : r2 < 2.5 ? 2 : r2 < 4 ? 3 : r2 < 7 ? 5 : 10) * n2, i2 >= -20 ? +t5.toFixed(i2 < 0 ? -i2 : 0) : t5;
}
function ks(t5, i2) {
  var n2 = (t5.length - 1) * i2 + 1, r2 = Math.floor(n2), e2 = +t5[r2 - 1], o2 = n2 - r2;
  return o2 ? e2 + o2 * (t5[r2] - e2) : e2;
}
function Ms(t5) {
  t5.sort((function(t6, i3) {
    return s2(t6, i3, 0) ? -1 : 1;
  }));
  for (var i2 = -1 / 0, n2 = 1, r2 = 0; r2 < t5.length; ) {
    for (var e2 = t5[r2].interval, o2 = t5[r2].close, a2 = 0; a2 < 2; a2++) e2[a2] <= i2 && (e2[a2] = i2, o2[a2] = a2 ? 1 : 1 - n2), i2 = e2[a2], n2 = o2[a2];
    e2[0] === e2[1] && o2[0] * o2[1] != 1 ? t5.splice(r2, 1) : r2++;
  }
  return t5;
  function s2(t6, i3, n3) {
    return t6.interval[n3] < i3.interval[n3] || t6.interval[n3] === i3.interval[n3] && (t6.close[n3] - i3.close[n3] == (n3 ? -1 : 1) || !n3 && s2(t6, i3, 1));
  }
}
function zs(t5) {
  var i2 = parseFloat(t5);
  return i2 == t5 && (0 !== i2 || !In(t5) || t5.indexOf("x") <= 0) ? i2 : NaN;
}
function Ss(t5) {
  return !isNaN(zs(t5));
}
function Cs() {
  return Math.round(9 * Math.random());
}
function As(t5, i2) {
  return 0 === i2 ? t5 : As(i2, t5 % i2);
}
function Ns(t5, i2) {
  return null == t5 ? i2 : null == i2 ? t5 : t5 * i2 / As(t5, i2);
}
function _s(t5) {
  throw new Error(t5);
}
function Ts(t5, i2, n2) {
  return (i2 - t5) * n2 + t5;
}
var Is = "series\0", Ls = "\0_ec_\0";
function Ds(t5) {
  return t5 instanceof Array ? t5 : null == t5 ? [] : [t5];
}
function Ws(t5, i2, n2) {
  if (t5) {
    t5[i2] = t5[i2] || {}, t5.emphasis = t5.emphasis || {}, t5.emphasis[i2] = t5.emphasis[i2] || {};
    for (var r2 = 0, e2 = n2.length; r2 < e2; r2++) {
      var o2 = n2[r2];
      !t5.emphasis[i2].hasOwnProperty(o2) && t5[i2].hasOwnProperty(o2) && (t5.emphasis[i2][o2] = t5[i2][o2]);
    }
  }
}
var Es = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"];
function Os(t5) {
  return !Wn(t5) || _n(t5) || t5 instanceof Date ? t5 : t5.value;
}
function Fs(t5) {
  return Wn(t5) && !(t5 instanceof Array);
}
function Rs(t5, i2, n2) {
  var r2 = "normalMerge" === n2, e2 = "replaceMerge" === n2, o2 = "replaceAll" === n2;
  t5 = t5 || [], i2 = (i2 || []).slice();
  var a2 = Qn();
  kn(i2, (function(t6, n3) {
    Wn(t6) || (i2[n3] = null);
  }));
  var s2, l2, u2 = (function(t6, i3, n3) {
    var r3 = [];
    if ("replaceAll" === n3) return r3;
    for (var e3 = 0; e3 < t6.length; e3++) {
      var o3 = t6[e3];
      o3 && null != o3.id && i3.set(o3.id, e3), r3.push({ existing: "replaceMerge" === n3 || Hs(o3) ? null : o3, newOption: null, keyInfo: null, brandNew: null });
    }
    return r3;
  })(t5, a2, n2);
  return (r2 || e2) && (function(t6, i3, n3, r3) {
    kn(r3, (function(e3, o3) {
      if (e3 && null != e3.id) {
        var a3 = Bs(e3.id), s3 = n3.get(a3);
        if (null != s3) {
          var l3 = t6[s3];
          Xn(!l3.newOption, 'Duplicated option on id "' + a3 + '".'), l3.newOption = e3, l3.existing = i3[s3], r3[o3] = null;
        }
      }
    }));
  })(u2, t5, a2, i2), r2 && (function(t6, i3) {
    kn(i3, (function(n3, r3) {
      if (n3 && null != n3.name) for (var e3 = 0; e3 < t6.length; e3++) {
        var o3 = t6[e3].existing;
        if (!t6[e3].newOption && o3 && (null == o3.id || null == n3.id) && !Hs(n3) && !Hs(o3) && Ps("name", o3, n3)) return t6[e3].newOption = n3, void (i3[r3] = null);
      }
    }));
  })(u2, i2), r2 || e2 ? (function(t6, i3, n3) {
    kn(i3, (function(i4) {
      if (i4) {
        for (var r3, e3 = 0; (r3 = t6[e3]) && (r3.newOption || Hs(r3.existing) || r3.existing && null != i4.id && !Ps("id", i4, r3.existing)); ) e3++;
        r3 ? (r3.newOption = i4, r3.brandNew = n3) : t6.push({ newOption: i4, brandNew: n3, existing: null, keyInfo: null }), e3++;
      }
    }));
  })(u2, i2, e2) : o2 && (function(t6, i3) {
    kn(i3, (function(i4) {
      t6.push({ newOption: i4, brandNew: true, existing: null, keyInfo: null });
    }));
  })(u2, i2), s2 = u2, l2 = Qn(), kn(s2, (function(t6) {
    var i3 = t6.existing;
    i3 && l2.set(i3.id, t6);
  })), kn(s2, (function(t6) {
    var i3 = t6.newOption;
    Xn(!i3 || null == i3.id || !l2.get(i3.id) || l2.get(i3.id) === t6, "id duplicates: " + (i3 && i3.id)), i3 && null != i3.id && l2.set(i3.id, t6), !t6.keyInfo && (t6.keyInfo = {});
  })), kn(s2, (function(t6, i3) {
    var n3 = t6.existing, r3 = t6.newOption, e3 = t6.keyInfo;
    if (Wn(r3)) {
      if (e3.name = null != r3.name ? Bs(r3.name) : n3 ? n3.name : Is + i3, n3) e3.id = Bs(n3.id);
      else if (null != r3.id) e3.id = Bs(r3.id);
      else {
        var o3 = 0;
        do {
          e3.id = "\0" + e3.name + "\0" + o3++;
        } while (l2.get(e3.id));
      }
      l2.set(e3.id, t6);
    }
  })), u2;
}
function Ps(t5, i2, n2) {
  var r2 = Vs(i2[t5], null), e2 = Vs(n2[t5], null);
  return null != r2 && null != e2 && r2 === e2;
}
function Bs(t5) {
  return Vs(t5, "");
}
function Vs(t5, i2) {
  return null == t5 ? i2 : In(t5) ? t5 : Dn(t5) || Ln(t5) ? t5 + "" : i2;
}
function js(t5) {
  var i2 = t5.name;
  return !(!i2 || !i2.indexOf(Is));
}
function Hs(t5) {
  return t5 && null != t5.id && 0 === Bs(t5.id).indexOf(Ls);
}
function Ys(t5, i2) {
  return null != i2.dataIndexInside ? i2.dataIndexInside : null != i2.dataIndex ? _n(i2.dataIndex) ? Mn(i2.dataIndex, (function(i3) {
    return t5.indexOfRawIndex(i3);
  })) : t5.indexOfRawIndex(i2.dataIndex) : null != i2.name ? _n(i2.name) ? Mn(i2.name, (function(i3) {
    return t5.indexOfName(i3);
  })) : t5.indexOfName(i2.name) : void 0;
}
function Xs() {
  var t5 = "__ec_inner_" + Us++;
  return function(i2) {
    return i2[t5] || (i2[t5] = {});
  };
}
var Us = Cs();
function $s(t5, i2, n2) {
  var r2 = Gs(i2, n2), e2 = r2.queryOptionMap, o2 = r2.others, a2 = n2 ? n2.defaultMainType : null;
  return !r2.mainTypeSpecified && a2 && e2.set(a2, {}), e2.each((function(i3, r3) {
    var e3 = Js(t5, r3, i3, { useDefault: a2 === r3, enableAll: !n2 || null == n2.enableAll || n2.enableAll, enableNone: !n2 || null == n2.enableNone || n2.enableNone });
    o2[r3 + "Models"] = e3.models, o2[r3 + "Model"] = e3.models[0];
  })), o2;
}
function Gs(t5, i2) {
  var n2;
  if (In(t5)) {
    var r2 = {};
    r2[t5 + "Index"] = 0, n2 = r2;
  } else n2 = t5;
  var e2 = Qn(), o2 = {}, a2 = false;
  return kn(n2, (function(t6, n3) {
    if ("dataIndex" !== n3 && "dataIndexInside" !== n3) {
      var r3 = n3.match(/^(\w+)(Index|Id|Name)$/) || [], s2 = r3[1], l2 = (r3[2] || "").toLowerCase();
      !s2 || !l2 || i2 && i2.includeMainTypes && yn(i2.includeMainTypes, s2) < 0 || (a2 = a2 || !!s2, (e2.get(s2) || e2.set(s2, {}))[l2] = t6);
    } else o2[n3] = t6;
  })), { mainTypeSpecified: a2, queryOptionMap: e2, others: o2 };
}
var Zs = { useDefault: true, enableAll: false, enableNone: false }, qs = { useDefault: false, enableAll: true, enableNone: true };
function Js(t5, i2, n2, r2) {
  r2 = r2 || Zs;
  var e2 = n2.index, o2 = n2.id, a2 = n2.name, s2 = { models: null, specified: null != e2 || null != o2 || null != a2 };
  if (!s2.specified) {
    var l2 = void 0;
    return s2.models = r2.useDefault && (l2 = t5.getComponent(i2)) ? [l2] : [], s2;
  }
  return "none" === e2 || false === e2 ? (Xn(r2.enableNone, '`"none"` or `false` is not a valid value on index option.'), s2.models = [], s2) : ("all" === e2 && (Xn(r2.enableAll, '`"all"` is not a valid value on index option.'), e2 = o2 = a2 = null), s2.models = t5.queryComponents({ mainType: i2, index: e2, id: o2, name: a2 }), s2);
}
function Ks(t5, i2, n2) {
  t5.setAttribute ? t5.setAttribute(i2, n2) : t5[i2] = n2;
}
function Qs(t5, i2) {
  var n2 = Qn(), r2 = [];
  return kn(t5, (function(t6) {
    var e2 = i2(t6);
    (n2.get(e2) || (r2.push(e2), n2.set(e2, []))).push(t6);
  })), { keys: r2, buckets: n2 };
}
function tl(t5, i2, n2, r2, e2) {
  var o2 = null == i2 || "auto" === i2;
  if (null == r2) return r2;
  if (Dn(r2)) return fs(d2 = Ts(n2 || 0, r2, e2), o2 ? Math.max(hs(n2 || 0), hs(r2)) : i2);
  if (In(r2)) return e2 < 1 ? n2 : r2;
  for (var a2 = [], s2 = n2, l2 = r2, u2 = Math.max(s2 ? s2.length : 0, l2.length), f2 = 0; f2 < u2; ++f2) {
    var c2 = t5.getDimensionInfo(f2);
    if (c2 && "ordinal" === c2.type) a2[f2] = (e2 < 1 && s2 ? s2 : l2)[f2];
    else {
      var h2 = s2 && s2[f2] ? s2[f2] : 0, v2 = l2[f2], d2 = Ts(h2, v2, e2);
      a2[f2] = fs(d2, o2 ? Math.max(hs(h2), hs(v2)) : i2);
    }
  }
  return a2;
}
var il = "___EC__COMPONENT__CONTAINER___", nl = "___EC__EXTENDED_CLASS___";
function rl(t5) {
  var i2 = { main: "", sub: "" };
  if (t5) {
    var n2 = t5.split(".");
    i2.main = n2[0] || "", i2.sub = n2[1] || "";
  }
  return i2;
}
function el(t5) {
  t5.$constructor = t5, t5.extend = function(t6) {
    var i2, n2, r2 = this;
    return Tn(n2 = r2) && /^class\s/.test(Function.prototype.toString.call(n2)) ? i2 = (function(t7) {
      function i3() {
        return t7.apply(this, arguments) || this;
      }
      return Yi(i3, t7), i3;
    })(r2) : (i2 = function() {
      (t6.$constructor || r2).apply(this, arguments);
    }, (function(t7, i3) {
      var n3 = t7.prototype;
      function r3() {
      }
      for (var e2 in r3.prototype = i3.prototype, t7.prototype = new r3(), n3) n3.hasOwnProperty(e2) && (t7.prototype[e2] = n3[e2]);
      t7.prototype.constructor = t7, t7.superClass = i3;
    })(i2, this)), bn(i2.prototype, t6), i2[nl] = true, i2.extend = this.extend, i2.superCall = sl, i2.superApply = ll, i2.superClass = r2, i2;
  };
}
function ol(t5, i2) {
  t5.extend = i2.extend;
}
var al = Math.round(10 * Math.random());
function sl(t5, i2) {
  for (var n2 = [], r2 = 2; r2 < arguments.length; r2++) n2[r2 - 2] = arguments[r2];
  return this.superClass.prototype[i2].apply(t5, n2);
}
function ll(t5, i2, n2) {
  return this.superClass.prototype[i2].apply(t5, n2);
}
function ul(t5) {
  var i2 = {};
  t5.registerClass = function(t6) {
    var n2, r2 = t6.type || t6.prototype.type;
    if (r2) {
      Xn(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n2 = r2), 'componentType "' + n2 + '" illegal'), t6.prototype.type = r2;
      var e2 = rl(r2);
      if (e2.sub) {
        if (e2.sub !== il) {
          var o2 = (function(t7) {
            var n3 = i2[t7.main];
            return n3 && n3[il] || ((n3 = i2[t7.main] = {})[il] = true), n3;
          })(e2);
          o2[e2.sub] = t6;
        }
      } else i2[e2.main] = t6;
    }
    return t6;
  }, t5.getClass = function(t6, n2, r2) {
    var e2 = i2[t6];
    if (e2 && e2[il] && (e2 = n2 ? e2[n2] : null), r2 && !e2) throw new Error(n2 ? "Component " + t6 + "." + (n2 || "") + " is used but not imported." : t6 + ".type should be specified.");
    return e2;
  }, t5.getClassesByMainType = function(t6) {
    var n2 = rl(t6), r2 = [], e2 = i2[n2.main];
    return e2 && e2[il] ? kn(e2, (function(t7, i3) {
      i3 !== il && r2.push(t7);
    })) : r2.push(e2), r2;
  }, t5.hasClass = function(t6) {
    var n2 = rl(t6);
    return !!i2[n2.main];
  }, t5.getAllClassMainTypes = function() {
    var t6 = [];
    return kn(i2, (function(i3, n2) {
      t6.push(n2);
    })), t6;
  }, t5.hasSubTypes = function(t6) {
    var n2 = rl(t6), r2 = i2[n2.main];
    return r2 && r2[il];
  };
}
function fl(t5, i2) {
  for (var n2 = 0; n2 < t5.length; n2++) t5[n2][1] || (t5[n2][1] = t5[n2][0]);
  return i2 = i2 || false, function(n3, r2, e2) {
    for (var o2 = {}, a2 = 0; a2 < t5.length; a2++) {
      var s2 = t5[a2][1];
      if (!(r2 && yn(r2, s2) >= 0 || e2 && yn(e2, s2) < 0)) {
        var l2 = n3.getShallow(s2, i2);
        null != l2 && (o2[t5[a2][0]] = l2);
      }
    }
    return o2;
  };
}
var cl = fl([["fill", "color"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["opacity"], ["shadowColor"]]), hl = (function() {
  function t5() {
  }
  return t5.prototype.getAreaStyle = function(t6, i2) {
    return cl(this, t6, i2);
  }, t5;
})(), vl = new so(50);
function dl(t5) {
  if ("string" == typeof t5) {
    var i2 = vl.get(t5);
    return i2 && i2.image;
  }
  return t5;
}
function pl(t5, i2, n2, r2, e2) {
  if (t5) {
    if ("string" == typeof t5) {
      if (i2 && i2.__zrImageSrc === t5 || !n2) return i2;
      var o2 = vl.get(t5), a2 = { hostEl: n2, cb: r2, cbPayload: e2 };
      return o2 ? !bl(i2 = o2.image) && o2.pending.push(a2) : ((i2 = Ki.loadImage(t5, ml, ml)).__zrImageSrc = t5, vl.put(t5, i2.__cachedImgObj = { image: i2, pending: [a2] })), i2;
    }
    return t5;
  }
  return i2;
}
function ml() {
  var t5 = this.__cachedImgObj;
  this.onload = this.onerror = this.__cachedImgObj = null;
  for (var i2 = 0; i2 < t5.pending.length; i2++) {
    var n2 = t5.pending[i2], r2 = n2.cb;
    r2 && r2(this, n2.cbPayload), n2.hostEl.dirty();
  }
  t5.pending.length = 0;
}
function bl(t5) {
  return t5 && t5.width && t5.height;
}
var gl = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;
function yl(t5, i2, n2, r2, e2, o2) {
  if (!n2) return t5.text = "", void (t5.isTruncated = false);
  var a2 = (i2 + "").split("\n");
  o2 = wl(n2, r2, e2, o2);
  for (var s2 = false, l2 = {}, u2 = 0, f2 = a2.length; u2 < f2; u2++) xl(l2, a2[u2], o2), a2[u2] = l2.textLine, s2 = s2 || l2.isTruncated;
  t5.text = a2.join("\n"), t5.isTruncated = s2;
}
function wl(t5, i2, n2, r2) {
  var e2 = bn({}, r2 = r2 || {});
  e2.font = i2, n2 = Vn(n2, "..."), e2.maxIterations = Vn(r2.maxIterations, 2);
  var o2 = e2.minChar = Vn(r2.minChar, 0);
  e2.cnCharWidth = Pa("", i2);
  var a2 = e2.ascCharWidth = Pa("a", i2);
  e2.placeholder = Vn(r2.placeholder, "");
  for (var s2 = t5 = Math.max(0, t5 - 1), l2 = 0; l2 < o2 && s2 >= a2; l2++) s2 -= a2;
  var u2 = Pa(n2, i2);
  return u2 > s2 && (n2 = "", u2 = 0), s2 = t5 - u2, e2.ellipsis = n2, e2.ellipsisWidth = u2, e2.contentWidth = s2, e2.containerWidth = t5, e2;
}
function xl(t5, i2, n2) {
  var r2 = n2.containerWidth, e2 = n2.font, o2 = n2.contentWidth;
  if (!r2) return t5.textLine = "", void (t5.isTruncated = false);
  var a2 = Pa(i2, e2);
  if (a2 <= r2) return t5.textLine = i2, void (t5.isTruncated = false);
  for (var s2 = 0; ; s2++) {
    if (a2 <= o2 || s2 >= n2.maxIterations) {
      i2 += n2.ellipsis;
      break;
    }
    var l2 = 0 === s2 ? kl(i2, o2, n2.ascCharWidth, n2.cnCharWidth) : a2 > 0 ? Math.floor(i2.length * o2 / a2) : 0;
    a2 = Pa(i2 = i2.substr(0, l2), e2);
  }
  "" === i2 && (i2 = n2.placeholder), t5.textLine = i2, t5.isTruncated = true;
}
function kl(t5, i2, n2, r2) {
  for (var e2 = 0, o2 = 0, a2 = t5.length; o2 < a2 && e2 < i2; o2++) {
    var s2 = t5.charCodeAt(o2);
    e2 += 0 <= s2 && s2 <= 127 ? n2 : r2;
  }
  return o2;
}
var Ml = function() {
}, zl = function(t5) {
  this.tokens = [], t5 && (this.tokens = t5);
}, Sl = function() {
  this.width = 0, this.height = 0, this.contentWidth = 0, this.contentHeight = 0, this.outerWidth = 0, this.outerHeight = 0, this.lines = [], this.isTruncated = false;
};
function Cl(t5, i2, n2, r2, e2) {
  var o2, a2, s2 = "" === i2, l2 = e2 && n2.rich[e2] || {}, u2 = t5.lines, f2 = l2.font || n2.font, c2 = false;
  if (r2) {
    var h2 = l2.padding, v2 = h2 ? h2[1] + h2[3] : 0;
    if (null != l2.width && "auto" !== l2.width) {
      var d2 = Xa(l2.width, r2.width) + v2;
      u2.length > 0 && d2 + r2.accumWidth > r2.width && (o2 = i2.split("\n"), c2 = true), r2.accumWidth = d2;
    } else {
      var p2 = _l(i2, f2, r2.width, r2.breakAll, r2.accumWidth);
      r2.accumWidth = p2.accumWidth + v2, a2 = p2.linesWidths, o2 = p2.lines;
    }
  } else o2 = i2.split("\n");
  for (var m2 = 0; m2 < o2.length; m2++) {
    var b2 = o2[m2], g3 = new Ml();
    if (g3.styleName = e2, g3.text = b2, g3.isLineHolder = !b2 && !s2, g3.width = "number" == typeof l2.width ? l2.width : a2 ? a2[m2] : Pa(b2, f2), m2 || c2) u2.push(new zl([g3]));
    else {
      var y2 = (u2[u2.length - 1] || (u2[0] = new zl())).tokens, w3 = y2.length;
      1 === w3 && y2[0].isLineHolder ? y2[0] = g3 : (b2 || !w3 || s2) && y2.push(g3);
    }
  }
}
var Al = zn(",&?/;] ".split(""), (function(t5, i2) {
  return t5[i2] = true, t5;
}), {});
function Nl(t5) {
  return !(function(t6) {
    var i2 = t6.charCodeAt(0);
    return i2 >= 32 && i2 <= 591 || i2 >= 880 && i2 <= 4351 || i2 >= 4608 && i2 <= 5119 || i2 >= 7680 && i2 <= 8303;
  })(t5) || !!Al[t5];
}
function _l(t5, i2, n2, r2, e2) {
  for (var o2 = [], a2 = [], s2 = "", l2 = "", u2 = 0, f2 = 0, c2 = 0; c2 < t5.length; c2++) {
    var h2 = t5.charAt(c2);
    if ("\n" !== h2) {
      var v2 = Pa(h2, i2), d2 = !r2 && !Nl(h2);
      (o2.length ? f2 + v2 > n2 : e2 + f2 + v2 > n2) ? f2 ? (s2 || l2) && (d2 ? (s2 || (s2 = l2, l2 = "", f2 = u2 = 0), o2.push(s2), a2.push(f2 - u2), l2 += h2, s2 = "", f2 = u2 += v2) : (l2 && (s2 += l2, l2 = "", u2 = 0), o2.push(s2), a2.push(f2), s2 = h2, f2 = v2)) : d2 ? (o2.push(l2), a2.push(u2), l2 = h2, u2 = v2) : (o2.push(h2), a2.push(v2)) : (f2 += v2, d2 ? (l2 += h2, u2 += v2) : (l2 && (s2 += l2, l2 = "", u2 = 0), s2 += h2));
    } else l2 && (s2 += l2, f2 += u2), o2.push(s2), a2.push(f2), s2 = "", l2 = "", u2 = 0, f2 = 0;
  }
  return o2.length || s2 || (s2 = t5, l2 = "", u2 = 0), l2 && (s2 += l2), s2 && (o2.push(s2), a2.push(f2)), 1 === o2.length && (f2 += e2), { accumWidth: f2, lines: o2, linesWidths: a2 };
}
var Tl = "__zr_style_" + Math.round(10 * Math.random()), Il = { shadowBlur: 0, shadowOffsetX: 0, shadowOffsetY: 0, shadowColor: "#000", opacity: 1, blend: "source-over" }, Ll = { style: { shadowBlur: true, shadowOffsetX: true, shadowOffsetY: true, shadowColor: true, opacity: true } };
Il[Tl] = true;
var Dl = ["z", "z2", "invisible"], Wl = ["invisible"], El = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  var n2;
  return Yi(i2, t5), i2.prototype._init = function(i3) {
    for (var n3 = Cn(i3), r2 = 0; r2 < n3.length; r2++) {
      var e2 = n3[r2];
      "style" === e2 ? this.useStyle(i3[e2]) : t5.prototype.attrKV.call(this, e2, i3[e2]);
    }
    this.style || this.useStyle({});
  }, i2.prototype.beforeBrush = function() {
  }, i2.prototype.afterBrush = function() {
  }, i2.prototype.innerBeforeBrush = function() {
  }, i2.prototype.innerAfterBrush = function() {
  }, i2.prototype.shouldBePainted = function(t6, i3, n3, r2) {
    var e2, o2, a2, s2 = this.transform;
    if (this.ignore || this.invisible || 0 === this.style.opacity || this.culling && (o2 = t6, a2 = i3, Ol.copy((e2 = this).getBoundingRect()), e2.transform && Ol.applyTransform(e2.transform), Fl.width = o2, Fl.height = a2, !Ol.intersect(Fl)) || s2 && !s2[0] && !s2[3]) return false;
    if (n3 && this.__clipPaths) {
      for (var l2 = 0; l2 < this.__clipPaths.length; ++l2) if (this.__clipPaths[l2].isZeroArea()) return false;
    }
    if (r2 && this.parent) for (var u2 = this.parent; u2; ) {
      if (u2.ignore) return false;
      u2 = u2.parent;
    }
    return true;
  }, i2.prototype.contain = function(t6, i3) {
    return this.rectContain(t6, i3);
  }, i2.prototype.traverse = function(t6, i3) {
    t6.call(i3, this);
  }, i2.prototype.rectContain = function(t6, i3) {
    var n3 = this.transformCoordToLocal(t6, i3);
    return this.getBoundingRect().contain(n3[0], n3[1]);
  }, i2.prototype.getPaintRect = function() {
    var t6 = this._paintRect;
    if (!this._paintRect || this.__dirty) {
      var i3 = this.transform, n3 = this.getBoundingRect(), r2 = this.style, e2 = r2.shadowBlur || 0, o2 = r2.shadowOffsetX || 0, a2 = r2.shadowOffsetY || 0;
      t6 = this._paintRect || (this._paintRect = new ce(0, 0, 0, 0)), i3 ? ce.applyTransform(t6, n3, i3) : t6.copy(n3), (e2 || o2 || a2) && (t6.width += 2 * e2 + Math.abs(o2), t6.height += 2 * e2 + Math.abs(a2), t6.x = Math.min(t6.x, t6.x + o2 - e2), t6.y = Math.min(t6.y, t6.y + a2 - e2));
      var s2 = this.dirtyRectTolerance;
      t6.isZero() || (t6.x = Math.floor(t6.x - s2), t6.y = Math.floor(t6.y - s2), t6.width = Math.ceil(t6.width + 1 + 2 * s2), t6.height = Math.ceil(t6.height + 1 + 2 * s2));
    }
    return t6;
  }, i2.prototype.setPrevPaintRect = function(t6) {
    t6 ? (this._prevPaintRect = this._prevPaintRect || new ce(0, 0, 0, 0), this._prevPaintRect.copy(t6)) : this._prevPaintRect = null;
  }, i2.prototype.getPrevPaintRect = function() {
    return this._prevPaintRect;
  }, i2.prototype.animateStyle = function(t6) {
    return this.animate("style", t6);
  }, i2.prototype.updateDuringAnimation = function(t6) {
    "style" === t6 ? this.dirtyStyle() : this.markRedraw();
  }, i2.prototype.attrKV = function(i3, n3) {
    "style" !== i3 ? t5.prototype.attrKV.call(this, i3, n3) : this.style ? this.setStyle(n3) : this.useStyle(n3);
  }, i2.prototype.setStyle = function(t6, i3) {
    return "string" == typeof t6 ? this.style[t6] = i3 : bn(this.style, t6), this.dirtyStyle(), this;
  }, i2.prototype.dirtyStyle = function(t6) {
    t6 || this.markRedraw(), this.__dirty |= 2, this._rect && (this._rect = null);
  }, i2.prototype.dirty = function() {
    this.dirtyStyle();
  }, i2.prototype.styleChanged = function() {
    return !!(2 & this.__dirty);
  }, i2.prototype.styleUpdated = function() {
    this.__dirty &= -3;
  }, i2.prototype.createStyle = function(t6) {
    return ir(Il, t6);
  }, i2.prototype.useStyle = function(t6) {
    t6[Tl] || (t6 = this.createStyle(t6)), this.__inHover ? this.__hoverStyle = t6 : this.style = t6, this.dirtyStyle();
  }, i2.prototype.isStyleObject = function(t6) {
    return t6[Tl];
  }, i2.prototype._innerSaveToNormal = function(i3) {
    t5.prototype._innerSaveToNormal.call(this, i3);
    var n3 = this._normalState;
    i3.style && !n3.style && (n3.style = this._mergeStyle(this.createStyle(), this.style)), this._savePrimaryToNormal(i3, n3, Dl);
  }, i2.prototype._applyStateObj = function(i3, n3, r2, e2, o2, a2) {
    t5.prototype._applyStateObj.call(this, i3, n3, r2, e2, o2, a2);
    var s2, l2 = !(n3 && e2);
    if (n3 && n3.style ? o2 ? e2 ? s2 = n3.style : (s2 = this._mergeStyle(this.createStyle(), r2.style), this._mergeStyle(s2, n3.style)) : (s2 = this._mergeStyle(this.createStyle(), e2 ? this.style : r2.style), this._mergeStyle(s2, n3.style)) : l2 && (s2 = r2.style), s2) if (o2) {
      var u2 = this.style;
      if (this.style = this.createStyle(l2 ? {} : u2), l2) for (var f2 = Cn(u2), c2 = 0; c2 < f2.length; c2++) (d2 = f2[c2]) in s2 && (s2[d2] = s2[d2], this.style[d2] = u2[d2]);
      var h2 = Cn(s2);
      for (c2 = 0; c2 < h2.length; c2++) this.style[d2 = h2[c2]] = this.style[d2];
      this._transitionState(i3, { style: s2 }, a2, this.getAnimationStyleProps());
    } else this.useStyle(s2);
    var v2 = this.__inHover ? Wl : Dl;
    for (c2 = 0; c2 < v2.length; c2++) {
      var d2 = v2[c2];
      n3 && null != n3[d2] ? this[d2] = n3[d2] : l2 && null != r2[d2] && (this[d2] = r2[d2]);
    }
  }, i2.prototype._mergeStates = function(i3) {
    for (var n3, r2 = t5.prototype._mergeStates.call(this, i3), e2 = 0; e2 < i3.length; e2++) {
      var o2 = i3[e2];
      o2.style && this._mergeStyle(n3 = n3 || {}, o2.style);
    }
    return n3 && (r2.style = n3), r2;
  }, i2.prototype._mergeStyle = function(t6, i3) {
    return bn(t6, i3), t6;
  }, i2.prototype.getAnimationStyleProps = function() {
    return Ll;
  }, i2.initDefaultProps = ((n2 = i2.prototype).type = "displayable", n2.invisible = false, n2.z = 0, n2.z2 = 0, n2.zlevel = 0, n2.culling = false, n2.cursor = "pointer", n2.rectHover = false, n2.incremental = false, n2._rect = null, n2.dirtyRectTolerance = 0, void (n2.__dirty = 3)), i2;
})(Ka), Ol = new ce(0, 0, 0, 0), Fl = new ce(0, 0, 0, 0), Rl = Math.min, Pl = Math.max, Bl = Math.sin, Vl = Math.cos, jl = 2 * Math.PI, Hl = ar(), Yl = ar(), Xl = ar();
function Ul(t5, i2, n2) {
  if (0 !== t5.length) {
    for (var r2 = t5[0], e2 = r2[0], o2 = r2[0], a2 = r2[1], s2 = r2[1], l2 = 1; l2 < t5.length; l2++) e2 = Rl(e2, (r2 = t5[l2])[0]), o2 = Pl(o2, r2[0]), a2 = Rl(a2, r2[1]), s2 = Pl(s2, r2[1]);
    i2[0] = e2, i2[1] = a2, n2[0] = o2, n2[1] = s2;
  }
}
function $l(t5, i2, n2, r2, e2, o2) {
  e2[0] = Rl(t5, n2), e2[1] = Rl(i2, r2), o2[0] = Pl(t5, n2), o2[1] = Pl(i2, r2);
}
var Gl = [], Zl = [];
function ql(t5, i2, n2, r2, e2, o2, a2, s2, l2, u2) {
  var f2 = Ue, c2 = He, h2 = f2(t5, n2, e2, a2, Gl);
  l2[0] = 1 / 0, l2[1] = 1 / 0, u2[0] = -1 / 0, u2[1] = -1 / 0;
  for (var v2 = 0; v2 < h2; v2++) {
    var d2 = c2(t5, n2, e2, a2, Gl[v2]);
    l2[0] = Rl(d2, l2[0]), u2[0] = Pl(d2, u2[0]);
  }
  for (h2 = f2(i2, r2, o2, s2, Zl), v2 = 0; v2 < h2; v2++) {
    var p2 = c2(i2, r2, o2, s2, Zl[v2]);
    l2[1] = Rl(p2, l2[1]), u2[1] = Pl(p2, u2[1]);
  }
  l2[0] = Rl(t5, l2[0]), u2[0] = Pl(t5, u2[0]), l2[0] = Rl(a2, l2[0]), u2[0] = Pl(a2, u2[0]), l2[1] = Rl(i2, l2[1]), u2[1] = Pl(i2, u2[1]), l2[1] = Rl(s2, l2[1]), u2[1] = Pl(s2, u2[1]);
}
function Jl(t5, i2, n2, r2, e2, o2, a2, s2) {
  var l2 = Ke, u2 = qe, f2 = Pl(Rl(l2(t5, n2, e2), 1), 0), c2 = Pl(Rl(l2(i2, r2, o2), 1), 0), h2 = u2(t5, n2, e2, f2), v2 = u2(i2, r2, o2, c2);
  a2[0] = Rl(t5, e2, h2), a2[1] = Rl(i2, o2, v2), s2[0] = Pl(t5, e2, h2), s2[1] = Pl(i2, o2, v2);
}
function Kl(t5, i2, n2, r2, e2, o2, a2, s2, l2) {
  var u2 = xr, f2 = kr, c2 = Math.abs(e2 - o2);
  if (c2 % jl < 1e-4 && c2 > 1e-4) return s2[0] = t5 - n2, s2[1] = i2 - r2, l2[0] = t5 + n2, void (l2[1] = i2 + r2);
  if (Hl[0] = Vl(e2) * n2 + t5, Hl[1] = Bl(e2) * r2 + i2, Yl[0] = Vl(o2) * n2 + t5, Yl[1] = Bl(o2) * r2 + i2, u2(s2, Hl, Yl), f2(l2, Hl, Yl), (e2 %= jl) < 0 && (e2 += jl), (o2 %= jl) < 0 && (o2 += jl), e2 > o2 && !a2 ? o2 += jl : e2 < o2 && a2 && (e2 += jl), a2) {
    var h2 = o2;
    o2 = e2, e2 = h2;
  }
  for (var v2 = 0; v2 < o2; v2 += Math.PI / 2) v2 > e2 && (Xl[0] = Vl(v2) * n2 + t5, Xl[1] = Bl(v2) * r2 + i2, u2(s2, Xl, s2), f2(l2, Xl, l2));
}
var Ql = { M: 1, L: 2, C: 3, Q: 4, A: 5, Z: 6, R: 7 }, tu = [], iu = [], nu = [], ru = [], eu = [], ou = [], au = Math.min, su = Math.max, lu = Math.cos, uu = Math.sin, fu = Math.abs, cu = Math.PI, hu = 2 * cu, vu = "undefined" != typeof Float32Array, du = [];
function pu(t5) {
  return Math.round(t5 / cu * 1e8) / 1e8 % 2 * cu;
}
function mu(t5, i2) {
  var n2 = pu(t5[0]);
  n2 < 0 && (n2 += hu);
  var r2 = t5[1];
  r2 += n2 - t5[0], !i2 && r2 - n2 >= hu ? r2 = n2 + hu : i2 && n2 - r2 >= hu ? r2 = n2 - hu : !i2 && n2 > r2 ? r2 = n2 + (hu - pu(n2 - r2)) : i2 && n2 < r2 && (r2 = n2 - (hu - pu(r2 - n2))), t5[0] = n2, t5[1] = r2;
}
var bu = (function() {
  function t5(t6) {
    this.dpr = 1, this._xi = 0, this._yi = 0, this._x0 = 0, this._y0 = 0, this._len = 0, t6 && (this._saveData = false), this._saveData && (this.data = []);
  }
  return t5.prototype.increaseVersion = function() {
    this._version++;
  }, t5.prototype.getVersion = function() {
    return this._version;
  }, t5.prototype.setScale = function(t6, i2, n2) {
    (n2 = n2 || 0) > 0 && (this._ux = fu(n2 / Ca / t6) || 0, this._uy = fu(n2 / Ca / i2) || 0);
  }, t5.prototype.setDPR = function(t6) {
    this.dpr = t6;
  }, t5.prototype.setContext = function(t6) {
    this._ctx = t6;
  }, t5.prototype.getContext = function() {
    return this._ctx;
  }, t5.prototype.beginPath = function() {
    return this._ctx && this._ctx.beginPath(), this.reset(), this;
  }, t5.prototype.reset = function() {
    this._saveData && (this._len = 0), this._pathSegLen && (this._pathSegLen = null, this._pathLen = 0), this._version++;
  }, t5.prototype.moveTo = function(t6, i2) {
    return this._drawPendingPt(), this.addData(Ql.M, t6, i2), this._ctx && this._ctx.moveTo(t6, i2), this._x0 = t6, this._y0 = i2, this._xi = t6, this._yi = i2, this;
  }, t5.prototype.lineTo = function(t6, i2) {
    var n2 = fu(t6 - this._xi), r2 = fu(i2 - this._yi), e2 = n2 > this._ux || r2 > this._uy;
    if (this.addData(Ql.L, t6, i2), this._ctx && e2 && this._ctx.lineTo(t6, i2), e2) this._xi = t6, this._yi = i2, this._pendingPtDist = 0;
    else {
      var o2 = n2 * n2 + r2 * r2;
      o2 > this._pendingPtDist && (this._pendingPtX = t6, this._pendingPtY = i2, this._pendingPtDist = o2);
    }
    return this;
  }, t5.prototype.bezierCurveTo = function(t6, i2, n2, r2, e2, o2) {
    return this._drawPendingPt(), this.addData(Ql.C, t6, i2, n2, r2, e2, o2), this._ctx && this._ctx.bezierCurveTo(t6, i2, n2, r2, e2, o2), this._xi = e2, this._yi = o2, this;
  }, t5.prototype.quadraticCurveTo = function(t6, i2, n2, r2) {
    return this._drawPendingPt(), this.addData(Ql.Q, t6, i2, n2, r2), this._ctx && this._ctx.quadraticCurveTo(t6, i2, n2, r2), this._xi = n2, this._yi = r2, this;
  }, t5.prototype.arc = function(t6, i2, n2, r2, e2, o2) {
    return this._drawPendingPt(), du[0] = r2, du[1] = e2, mu(du, o2), this.addData(Ql.A, t6, i2, n2, n2, r2 = du[0], (e2 = du[1]) - r2, 0, o2 ? 0 : 1), this._ctx && this._ctx.arc(t6, i2, n2, r2, e2, o2), this._xi = lu(e2) * n2 + t6, this._yi = uu(e2) * n2 + i2, this;
  }, t5.prototype.arcTo = function(t6, i2, n2, r2, e2) {
    return this._drawPendingPt(), this._ctx && this._ctx.arcTo(t6, i2, n2, r2, e2), this;
  }, t5.prototype.rect = function(t6, i2, n2, r2) {
    return this._drawPendingPt(), this._ctx && this._ctx.rect(t6, i2, n2, r2), this.addData(Ql.R, t6, i2, n2, r2), this;
  }, t5.prototype.closePath = function() {
    this._drawPendingPt(), this.addData(Ql.Z);
    var t6 = this._ctx, i2 = this._x0, n2 = this._y0;
    return t6 && t6.closePath(), this._xi = i2, this._yi = n2, this;
  }, t5.prototype.fill = function(t6) {
    t6 && t6.fill(), this.toStatic();
  }, t5.prototype.stroke = function(t6) {
    t6 && t6.stroke(), this.toStatic();
  }, t5.prototype.len = function() {
    return this._len;
  }, t5.prototype.setData = function(t6) {
    var i2 = t6.length;
    this.data && this.data.length === i2 || !vu || (this.data = new Float32Array(i2));
    for (var n2 = 0; n2 < i2; n2++) this.data[n2] = t6[n2];
    this._len = i2;
  }, t5.prototype.appendPath = function(t6) {
    t6 instanceof Array || (t6 = [t6]);
    for (var i2 = t6.length, n2 = 0, r2 = this._len, e2 = 0; e2 < i2; e2++) n2 += t6[e2].len();
    for (vu && this.data instanceof Float32Array && (this.data = new Float32Array(r2 + n2)), e2 = 0; e2 < i2; e2++) for (var o2 = t6[e2].data, a2 = 0; a2 < o2.length; a2++) this.data[r2++] = o2[a2];
    this._len = r2;
  }, t5.prototype.addData = function(t6, i2, n2, r2, e2, o2, a2, s2, l2) {
    if (this._saveData) {
      var u2 = this.data;
      this._len + arguments.length > u2.length && (this._expandData(), u2 = this.data);
      for (var f2 = 0; f2 < arguments.length; f2++) u2[this._len++] = arguments[f2];
    }
  }, t5.prototype._drawPendingPt = function() {
    this._pendingPtDist > 0 && (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY), this._pendingPtDist = 0);
  }, t5.prototype._expandData = function() {
    if (!(this.data instanceof Array)) {
      for (var t6 = [], i2 = 0; i2 < this._len; i2++) t6[i2] = this.data[i2];
      this.data = t6;
    }
  }, t5.prototype.toStatic = function() {
    if (this._saveData) {
      this._drawPendingPt();
      var t6 = this.data;
      t6 instanceof Array && (t6.length = this._len, vu && this._len > 11 && (this.data = new Float32Array(t6)));
    }
  }, t5.prototype.getBoundingRect = function() {
    nu[0] = nu[1] = eu[0] = eu[1] = Number.MAX_VALUE, ru[0] = ru[1] = ou[0] = ou[1] = -Number.MAX_VALUE;
    var t6, i2 = this.data, n2 = 0, r2 = 0, e2 = 0, o2 = 0;
    for (t6 = 0; t6 < this._len; ) {
      var a2 = i2[t6++], s2 = 1 === t6;
      switch (s2 && (e2 = n2 = i2[t6], o2 = r2 = i2[t6 + 1]), a2) {
        case Ql.M:
          n2 = e2 = i2[t6++], r2 = o2 = i2[t6++], eu[0] = e2, eu[1] = o2, ou[0] = e2, ou[1] = o2;
          break;
        case Ql.L:
          $l(n2, r2, i2[t6], i2[t6 + 1], eu, ou), n2 = i2[t6++], r2 = i2[t6++];
          break;
        case Ql.C:
          ql(n2, r2, i2[t6++], i2[t6++], i2[t6++], i2[t6++], i2[t6], i2[t6 + 1], eu, ou), n2 = i2[t6++], r2 = i2[t6++];
          break;
        case Ql.Q:
          Jl(n2, r2, i2[t6++], i2[t6++], i2[t6], i2[t6 + 1], eu, ou), n2 = i2[t6++], r2 = i2[t6++];
          break;
        case Ql.A:
          var l2 = i2[t6++], u2 = i2[t6++], f2 = i2[t6++], c2 = i2[t6++], h2 = i2[t6++], v2 = i2[t6++] + h2;
          t6 += 1;
          var d2 = !i2[t6++];
          s2 && (e2 = lu(h2) * f2 + l2, o2 = uu(h2) * c2 + u2), Kl(l2, u2, f2, c2, h2, v2, d2, eu, ou), n2 = lu(v2) * f2 + l2, r2 = uu(v2) * c2 + u2;
          break;
        case Ql.R:
          $l(e2 = n2 = i2[t6++], o2 = r2 = i2[t6++], e2 + i2[t6++], o2 + i2[t6++], eu, ou);
          break;
        case Ql.Z:
          n2 = e2, r2 = o2;
      }
      xr(nu, nu, eu), kr(ru, ru, ou);
    }
    return 0 === t6 && (nu[0] = nu[1] = ru[0] = ru[1] = 0), new ce(nu[0], nu[1], ru[0] - nu[0], ru[1] - nu[1]);
  }, t5.prototype._calculateLength = function() {
    var t6 = this.data, i2 = this._len, n2 = this._ux, r2 = this._uy, e2 = 0, o2 = 0, a2 = 0, s2 = 0;
    this._pathSegLen || (this._pathSegLen = []);
    for (var l2 = this._pathSegLen, u2 = 0, f2 = 0, c2 = 0; c2 < i2; ) {
      var h2 = t6[c2++], v2 = 1 === c2;
      v2 && (a2 = e2 = t6[c2], s2 = o2 = t6[c2 + 1]);
      var d2 = -1;
      switch (h2) {
        case Ql.M:
          e2 = a2 = t6[c2++], o2 = s2 = t6[c2++];
          break;
        case Ql.L:
          var p2 = t6[c2++], m2 = (y2 = t6[c2++]) - o2;
          (fu(_2 = p2 - e2) > n2 || fu(m2) > r2 || c2 === i2 - 1) && (d2 = Math.sqrt(_2 * _2 + m2 * m2), e2 = p2, o2 = y2);
          break;
        case Ql.C:
          var b2 = t6[c2++], g3 = t6[c2++], y2 = (p2 = t6[c2++], t6[c2++]), w3 = t6[c2++], x2 = t6[c2++];
          d2 = Ze(e2, o2, b2, g3, p2, y2, w3, x2, 10), e2 = w3, o2 = x2;
          break;
        case Ql.Q:
          d2 = io(e2, o2, b2 = t6[c2++], g3 = t6[c2++], p2 = t6[c2++], y2 = t6[c2++], 10), e2 = p2, o2 = y2;
          break;
        case Ql.A:
          var k2 = t6[c2++], M2 = t6[c2++], z2 = t6[c2++], S3 = t6[c2++], C3 = t6[c2++], A3 = t6[c2++], N2 = A3 + C3;
          c2 += 1, v2 && (a2 = lu(C3) * z2 + k2, s2 = uu(C3) * S3 + M2), d2 = su(z2, S3) * au(hu, Math.abs(A3)), e2 = lu(N2) * z2 + k2, o2 = uu(N2) * S3 + M2;
          break;
        case Ql.R:
          a2 = e2 = t6[c2++], s2 = o2 = t6[c2++], d2 = 2 * t6[c2++] + 2 * t6[c2++];
          break;
        case Ql.Z:
          var _2 = a2 - e2;
          m2 = s2 - o2, d2 = Math.sqrt(_2 * _2 + m2 * m2), e2 = a2, o2 = s2;
      }
      d2 >= 0 && (l2[f2++] = d2, u2 += d2);
    }
    return this._pathLen = u2, u2;
  }, t5.prototype.rebuildPath = function(t6, i2) {
    var n2, r2, e2, o2, a2, s2, l2, u2, f2, c2, h2 = this.data, v2 = this._ux, d2 = this._uy, p2 = this._len, m2 = i2 < 1, b2 = 0, g3 = 0, y2 = 0;
    if (!m2 || (this._pathSegLen || this._calculateLength(), l2 = this._pathSegLen, u2 = i2 * this._pathLen)) t: for (var w3 = 0; w3 < p2; ) {
      var x2 = h2[w3++], k2 = 1 === w3;
      switch (k2 && (n2 = e2 = h2[w3], r2 = o2 = h2[w3 + 1]), x2 !== Ql.L && y2 > 0 && (t6.lineTo(f2, c2), y2 = 0), x2) {
        case Ql.M:
          n2 = e2 = h2[w3++], r2 = o2 = h2[w3++], t6.moveTo(e2, o2);
          break;
        case Ql.L:
          a2 = h2[w3++], s2 = h2[w3++];
          var M2 = fu(a2 - e2), z2 = fu(s2 - o2);
          if (M2 > v2 || z2 > d2) {
            if (m2) {
              if (b2 + ($3 = l2[g3++]) > u2) {
                t6.lineTo(e2 * (1 - (G2 = (u2 - b2) / $3)) + a2 * G2, o2 * (1 - G2) + s2 * G2);
                break t;
              }
              b2 += $3;
            }
            t6.lineTo(a2, s2), e2 = a2, o2 = s2, y2 = 0;
          } else {
            var S3 = M2 * M2 + z2 * z2;
            S3 > y2 && (f2 = a2, c2 = s2, y2 = S3);
          }
          break;
        case Ql.C:
          var C3 = h2[w3++], A3 = h2[w3++], N2 = h2[w3++], _2 = h2[w3++], T4 = h2[w3++], I2 = h2[w3++];
          if (m2) {
            if (b2 + ($3 = l2[g3++]) > u2) {
              $e(e2, C3, N2, T4, G2 = (u2 - b2) / $3, tu), $e(o2, A3, _2, I2, G2, iu), t6.bezierCurveTo(tu[1], iu[1], tu[2], iu[2], tu[3], iu[3]);
              break t;
            }
            b2 += $3;
          }
          t6.bezierCurveTo(C3, A3, N2, _2, T4, I2), e2 = T4, o2 = I2;
          break;
        case Ql.Q:
          if (C3 = h2[w3++], A3 = h2[w3++], N2 = h2[w3++], _2 = h2[w3++], m2) {
            if (b2 + ($3 = l2[g3++]) > u2) {
              Qe(e2, C3, N2, G2 = (u2 - b2) / $3, tu), Qe(o2, A3, _2, G2, iu), t6.quadraticCurveTo(tu[1], iu[1], tu[2], iu[2]);
              break t;
            }
            b2 += $3;
          }
          t6.quadraticCurveTo(C3, A3, N2, _2), e2 = N2, o2 = _2;
          break;
        case Ql.A:
          var L2 = h2[w3++], D2 = h2[w3++], W3 = h2[w3++], E3 = h2[w3++], O3 = h2[w3++], F3 = h2[w3++], R2 = h2[w3++], P2 = !h2[w3++], B3 = W3 > E3 ? W3 : E3, V2 = fu(W3 - E3) > 1e-3, j2 = O3 + F3, H2 = false;
          if (m2 && (b2 + ($3 = l2[g3++]) > u2 && (j2 = O3 + F3 * (u2 - b2) / $3, H2 = true), b2 += $3), V2 && t6.ellipse ? t6.ellipse(L2, D2, W3, E3, R2, O3, j2, P2) : t6.arc(L2, D2, B3, O3, j2, P2), H2) break t;
          k2 && (n2 = lu(O3) * W3 + L2, r2 = uu(O3) * E3 + D2), e2 = lu(j2) * W3 + L2, o2 = uu(j2) * E3 + D2;
          break;
        case Ql.R:
          n2 = e2 = h2[w3], r2 = o2 = h2[w3 + 1], a2 = h2[w3++], s2 = h2[w3++];
          var Y2 = h2[w3++], X2 = h2[w3++];
          if (m2) {
            if (b2 + ($3 = l2[g3++]) > u2) {
              var U2 = u2 - b2;
              t6.moveTo(a2, s2), t6.lineTo(a2 + au(U2, Y2), s2), (U2 -= Y2) > 0 && t6.lineTo(a2 + Y2, s2 + au(U2, X2)), (U2 -= X2) > 0 && t6.lineTo(a2 + su(Y2 - U2, 0), s2 + X2), (U2 -= Y2) > 0 && t6.lineTo(a2, s2 + su(X2 - U2, 0));
              break t;
            }
            b2 += $3;
          }
          t6.rect(a2, s2, Y2, X2);
          break;
        case Ql.Z:
          if (m2) {
            var $3;
            if (b2 + ($3 = l2[g3++]) > u2) {
              var G2;
              t6.lineTo(e2 * (1 - (G2 = (u2 - b2) / $3)) + n2 * G2, o2 * (1 - G2) + r2 * G2);
              break t;
            }
            b2 += $3;
          }
          t6.closePath(), e2 = n2, o2 = r2;
      }
    }
  }, t5.prototype.clone = function() {
    var i2 = new t5(), n2 = this.data;
    return i2.data = n2.slice ? n2.slice() : Array.prototype.slice.call(n2), i2._len = this._len, i2;
  }, t5.CMD = Ql, t5.initDefaultProps = (function() {
    var i2 = t5.prototype;
    i2._saveData = true, i2._ux = 0, i2._uy = 0, i2._pendingPtDist = 0, i2._version = 0;
  })(), t5;
})();
function gu(t5, i2, n2, r2, e2, o2, a2) {
  if (0 === e2) return false;
  var s2, l2 = e2;
  if (a2 > i2 + l2 && a2 > r2 + l2 || a2 < i2 - l2 && a2 < r2 - l2 || o2 > t5 + l2 && o2 > n2 + l2 || o2 < t5 - l2 && o2 < n2 - l2) return false;
  if (t5 === n2) return Math.abs(o2 - t5) <= l2 / 2;
  var u2 = (s2 = (i2 - r2) / (t5 - n2)) * o2 - a2 + (t5 * r2 - n2 * i2) / (t5 - n2);
  return u2 * u2 / (s2 * s2 + 1) <= l2 / 2 * l2 / 2;
}
function yu(t5, i2, n2, r2, e2, o2, a2, s2, l2, u2, f2) {
  if (0 === l2) return false;
  var c2 = l2;
  return !(f2 > i2 + c2 && f2 > r2 + c2 && f2 > o2 + c2 && f2 > s2 + c2 || f2 < i2 - c2 && f2 < r2 - c2 && f2 < o2 - c2 && f2 < s2 - c2 || u2 > t5 + c2 && u2 > n2 + c2 && u2 > e2 + c2 && u2 > a2 + c2 || u2 < t5 - c2 && u2 < n2 - c2 && u2 < e2 - c2 && u2 < a2 - c2) && Ge(t5, i2, n2, r2, e2, o2, a2, s2, u2, f2, null) <= c2 / 2;
}
function wu(t5, i2, n2, r2, e2, o2, a2, s2, l2) {
  if (0 === a2) return false;
  var u2 = a2;
  return !(l2 > i2 + u2 && l2 > r2 + u2 && l2 > o2 + u2 || l2 < i2 - u2 && l2 < r2 - u2 && l2 < o2 - u2 || s2 > t5 + u2 && s2 > n2 + u2 && s2 > e2 + u2 || s2 < t5 - u2 && s2 < n2 - u2 && s2 < e2 - u2) && to(t5, i2, n2, r2, e2, o2, s2, l2, null) <= u2 / 2;
}
var xu = 2 * Math.PI;
function ku(t5) {
  return (t5 %= xu) < 0 && (t5 += xu), t5;
}
var Mu = 2 * Math.PI;
function zu(t5, i2, n2, r2, e2, o2, a2, s2, l2) {
  if (0 === a2) return false;
  var u2 = a2;
  s2 -= t5, l2 -= i2;
  var f2 = Math.sqrt(s2 * s2 + l2 * l2);
  if (f2 - u2 > n2 || f2 + u2 < n2) return false;
  if (Math.abs(r2 - e2) % Mu < 1e-4) return true;
  if (o2) {
    var c2 = r2;
    r2 = ku(e2), e2 = ku(c2);
  } else r2 = ku(r2), e2 = ku(e2);
  r2 > e2 && (e2 += Mu);
  var h2 = Math.atan2(l2, s2);
  return h2 < 0 && (h2 += Mu), h2 >= r2 && h2 <= e2 || h2 + Mu >= r2 && h2 + Mu <= e2;
}
function Su(t5, i2, n2, r2, e2, o2) {
  if (o2 > i2 && o2 > r2 || o2 < i2 && o2 < r2) return 0;
  if (r2 === i2) return 0;
  var a2 = (o2 - i2) / (r2 - i2), s2 = r2 < i2 ? 1 : -1;
  1 !== a2 && 0 !== a2 || (s2 = r2 < i2 ? 0.5 : -0.5);
  var l2 = a2 * (n2 - t5) + t5;
  return l2 === e2 ? 1 / 0 : l2 > e2 ? s2 : 0;
}
var Cu = bu.CMD, Au = 2 * Math.PI, Nu = [-1, -1, -1], _u = [-1, -1];
function Tu(t5, i2, n2, r2, e2, o2, a2, s2, l2, u2) {
  if (u2 > i2 && u2 > r2 && u2 > o2 && u2 > s2 || u2 < i2 && u2 < r2 && u2 < o2 && u2 < s2) return 0;
  var f2, c2 = Xe(i2, r2, o2, s2, u2, Nu);
  if (0 === c2) return 0;
  for (var h2 = 0, v2 = -1, d2 = void 0, p2 = void 0, m2 = 0; m2 < c2; m2++) {
    var b2 = Nu[m2], g3 = 0 === b2 || 1 === b2 ? 0.5 : 1;
    He(t5, n2, e2, a2, b2) < l2 || (v2 < 0 && (v2 = Ue(i2, r2, o2, s2, _u), _u[1] < _u[0] && v2 > 1 && (f2 = _u[0], _u[0] = _u[1], _u[1] = f2), d2 = He(i2, r2, o2, s2, _u[0]), v2 > 1 && (p2 = He(i2, r2, o2, s2, _u[1]))), h2 += 2 === v2 ? b2 < _u[0] ? d2 < i2 ? g3 : -g3 : b2 < _u[1] ? p2 < d2 ? g3 : -g3 : s2 < p2 ? g3 : -g3 : b2 < _u[0] ? d2 < i2 ? g3 : -g3 : s2 < d2 ? g3 : -g3);
  }
  return h2;
}
function Iu(t5, i2, n2, r2, e2, o2, a2, s2) {
  if (s2 > i2 && s2 > r2 && s2 > o2 || s2 < i2 && s2 < r2 && s2 < o2) return 0;
  var l2 = (function(t6, i3, n3, r3, e3) {
    var o3 = t6 - 2 * i3 + n3, a3 = 2 * (i3 - t6), s3 = t6 - r3, l3 = 0;
    if (Ve(o3)) je(a3) && (f3 = -s3 / a3) >= 0 && f3 <= 1 && (e3[l3++] = f3);
    else {
      var u3 = a3 * a3 - 4 * o3 * s3;
      if (Ve(u3)) (f3 = -a3 / (2 * o3)) >= 0 && f3 <= 1 && (e3[l3++] = f3);
      else if (u3 > 0) {
        var f3, c3 = We(u3), h3 = (-a3 - c3) / (2 * o3);
        (f3 = (-a3 + c3) / (2 * o3)) >= 0 && f3 <= 1 && (e3[l3++] = f3), h3 >= 0 && h3 <= 1 && (e3[l3++] = h3);
      }
    }
    return l3;
  })(i2, r2, o2, s2, Nu);
  if (0 === l2) return 0;
  var u2 = Ke(i2, r2, o2);
  if (u2 >= 0 && u2 <= 1) {
    for (var f2 = 0, c2 = qe(i2, r2, o2, u2), h2 = 0; h2 < l2; h2++) {
      var v2 = 0 === Nu[h2] || 1 === Nu[h2] ? 0.5 : 1;
      qe(t5, n2, e2, Nu[h2]) < a2 || (f2 += Nu[h2] < u2 ? c2 < i2 ? v2 : -v2 : o2 < c2 ? v2 : -v2);
    }
    return f2;
  }
  return v2 = 0 === Nu[0] || 1 === Nu[0] ? 0.5 : 1, qe(t5, n2, e2, Nu[0]) < a2 ? 0 : o2 < i2 ? v2 : -v2;
}
function Lu(t5, i2, n2, r2, e2, o2, a2, s2) {
  if ((s2 -= i2) > n2 || s2 < -n2) return 0;
  var l2 = Math.sqrt(n2 * n2 - s2 * s2);
  Nu[0] = -l2, Nu[1] = l2;
  var u2 = Math.abs(r2 - e2);
  if (u2 < 1e-4) return 0;
  if (u2 >= Au - 1e-4) {
    r2 = 0, e2 = Au;
    var f2 = o2 ? 1 : -1;
    return a2 >= Nu[0] + t5 && a2 <= Nu[1] + t5 ? f2 : 0;
  }
  if (r2 > e2) {
    var c2 = r2;
    r2 = e2, e2 = c2;
  }
  r2 < 0 && (r2 += Au, e2 += Au);
  for (var h2 = 0, v2 = 0; v2 < 2; v2++) {
    var d2 = Nu[v2];
    if (d2 + t5 > a2) {
      var p2 = Math.atan2(s2, d2);
      f2 = o2 ? 1 : -1, p2 < 0 && (p2 = Au + p2), (p2 >= r2 && p2 <= e2 || p2 + Au >= r2 && p2 + Au <= e2) && (p2 > Math.PI / 2 && p2 < 1.5 * Math.PI && (f2 = -f2), h2 += f2);
    }
  }
  return h2;
}
function Du(t5, i2, n2, r2, e2) {
  for (var o2, a2, s2 = t5.data, l2 = t5.len(), u2 = 0, f2 = 0, c2 = 0, h2 = 0, v2 = 0, d2 = 0; d2 < l2; ) {
    var p2 = s2[d2++], m2 = 1 === d2;
    switch (p2 === Cu.M && d2 > 1 && (n2 || (u2 += Su(f2, c2, h2, v2, r2, e2))), m2 && (h2 = f2 = s2[d2], v2 = c2 = s2[d2 + 1]), p2) {
      case Cu.M:
        f2 = h2 = s2[d2++], c2 = v2 = s2[d2++];
        break;
      case Cu.L:
        if (n2) {
          if (gu(f2, c2, s2[d2], s2[d2 + 1], i2, r2, e2)) return true;
        } else u2 += Su(f2, c2, s2[d2], s2[d2 + 1], r2, e2) || 0;
        f2 = s2[d2++], c2 = s2[d2++];
        break;
      case Cu.C:
        if (n2) {
          if (yu(f2, c2, s2[d2++], s2[d2++], s2[d2++], s2[d2++], s2[d2], s2[d2 + 1], i2, r2, e2)) return true;
        } else u2 += Tu(f2, c2, s2[d2++], s2[d2++], s2[d2++], s2[d2++], s2[d2], s2[d2 + 1], r2, e2) || 0;
        f2 = s2[d2++], c2 = s2[d2++];
        break;
      case Cu.Q:
        if (n2) {
          if (wu(f2, c2, s2[d2++], s2[d2++], s2[d2], s2[d2 + 1], i2, r2, e2)) return true;
        } else u2 += Iu(f2, c2, s2[d2++], s2[d2++], s2[d2], s2[d2 + 1], r2, e2) || 0;
        f2 = s2[d2++], c2 = s2[d2++];
        break;
      case Cu.A:
        var b2 = s2[d2++], g3 = s2[d2++], y2 = s2[d2++], w3 = s2[d2++], x2 = s2[d2++], k2 = s2[d2++];
        d2 += 1;
        var M2 = !!(1 - s2[d2++]);
        o2 = Math.cos(x2) * y2 + b2, a2 = Math.sin(x2) * w3 + g3, m2 ? (h2 = o2, v2 = a2) : u2 += Su(f2, c2, o2, a2, r2, e2);
        var z2 = (r2 - b2) * w3 / y2 + b2;
        if (n2) {
          if (zu(b2, g3, w3, x2, x2 + k2, M2, i2, z2, e2)) return true;
        } else u2 += Lu(b2, g3, w3, x2, x2 + k2, M2, z2, e2);
        f2 = Math.cos(x2 + k2) * y2 + b2, c2 = Math.sin(x2 + k2) * w3 + g3;
        break;
      case Cu.R:
        if (h2 = f2 = s2[d2++], v2 = c2 = s2[d2++], o2 = h2 + s2[d2++], a2 = v2 + s2[d2++], n2) {
          if (gu(h2, v2, o2, v2, i2, r2, e2) || gu(o2, v2, o2, a2, i2, r2, e2) || gu(o2, a2, h2, a2, i2, r2, e2) || gu(h2, a2, h2, v2, i2, r2, e2)) return true;
        } else u2 += Su(o2, v2, o2, a2, r2, e2), u2 += Su(h2, a2, h2, v2, r2, e2);
        break;
      case Cu.Z:
        if (n2) {
          if (gu(f2, c2, h2, v2, i2, r2, e2)) return true;
        } else u2 += Su(f2, c2, h2, v2, r2, e2);
        f2 = h2, c2 = v2;
    }
  }
  return n2 || Math.abs(c2 - v2) < 1e-4 || (u2 += Su(f2, c2, h2, v2, r2, e2) || 0), 0 !== u2;
}
var Wu = gn({ fill: "#000", stroke: null, strokePercent: 1, fillOpacity: 1, strokeOpacity: 1, lineDashOffset: 0, lineWidth: 1, lineCap: "butt", miterLimit: 10, strokeNoScale: false, strokeFirst: false }, Il), Eu = { style: gn({ fill: true, stroke: true, strokePercent: true, fillOpacity: true, strokeOpacity: true, lineDashOffset: true, lineWidth: true, miterLimit: true }, Ll.style) }, Ou = Oa.concat(["invisible", "culling", "z", "z2", "zlevel", "parent"]), Fu = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  var n2;
  return Yi(i2, t5), i2.prototype.update = function() {
    var n3 = this;
    t5.prototype.update.call(this);
    var r2 = this.style;
    if (r2.decal) {
      var e2 = this._decalEl = this._decalEl || new i2();
      e2.buildPath === i2.prototype.buildPath && (e2.buildPath = function(t6) {
        n3.buildPath(t6, n3.shape);
      }), e2.silent = true;
      var o2 = e2.style;
      for (var a2 in r2) o2[a2] !== r2[a2] && (o2[a2] = r2[a2]);
      o2.fill = r2.fill ? r2.decal : null, o2.decal = null, o2.shadowColor = null, r2.strokeFirst && (o2.stroke = null);
      for (var s2 = 0; s2 < Ou.length; ++s2) e2[Ou[s2]] = this[Ou[s2]];
      e2.__dirty |= 1;
    } else this._decalEl && (this._decalEl = null);
  }, i2.prototype.getDecalElement = function() {
    return this._decalEl;
  }, i2.prototype._init = function(i3) {
    var n3 = Cn(i3);
    this.shape = this.getDefaultShape();
    var r2 = this.getDefaultStyle();
    r2 && this.useStyle(r2);
    for (var e2 = 0; e2 < n3.length; e2++) {
      var o2 = n3[e2], a2 = i3[o2];
      "style" === o2 ? this.style ? bn(this.style, a2) : this.useStyle(a2) : "shape" === o2 ? bn(this.shape, a2) : t5.prototype.attrKV.call(this, o2, a2);
    }
    this.style || this.useStyle({});
  }, i2.prototype.getDefaultStyle = function() {
    return null;
  }, i2.prototype.getDefaultShape = function() {
    return {};
  }, i2.prototype.canBeInsideText = function() {
    return this.hasFill();
  }, i2.prototype.getInsideTextFill = function() {
    var t6 = this.style.fill;
    if ("none" !== t6) {
      if (In(t6)) {
        var i3 = No(t6, 0);
        return i3 > 0.5 ? Aa : i3 > 0.2 ? "#eee" : Na;
      }
      if (t6) return Na;
    }
    return Aa;
  }, i2.prototype.getInsideTextStroke = function(t6) {
    var i3 = this.style.fill;
    if (In(i3)) {
      var n3 = this.__zr;
      if (!(!n3 || !n3.isDarkMode()) == No(t6, 0) < 0.4) return i3;
    }
  }, i2.prototype.buildPath = function() {
  }, i2.prototype.pathUpdated = function() {
    this.__dirty &= -5;
  }, i2.prototype.getUpdatedPathProxy = function(t6) {
    return !this.path && this.createPathProxy(), this.path.beginPath(), this.buildPath(this.path, this.shape, t6), this.path;
  }, i2.prototype.createPathProxy = function() {
    this.path = new bu(false);
  }, i2.prototype.hasStroke = function() {
    var t6 = this.style, i3 = t6.stroke;
    return !(null == i3 || "none" === i3 || !(t6.lineWidth > 0));
  }, i2.prototype.hasFill = function() {
    var t6 = this.style.fill;
    return null != t6 && "none" !== t6;
  }, i2.prototype.getBoundingRect = function() {
    var t6 = this._rect, i3 = this.style, n3 = !t6;
    if (n3) {
      var r2 = false;
      this.path || (r2 = true, this.createPathProxy());
      var e2 = this.path;
      (r2 || 4 & this.__dirty) && (e2.beginPath(), this.buildPath(e2, this.shape, false), this.pathUpdated()), t6 = e2.getBoundingRect();
    }
    if (this._rect = t6, this.hasStroke() && this.path && this.path.len() > 0) {
      var o2 = this._rectStroke || (this._rectStroke = t6.clone());
      if (this.__dirty || n3) {
        o2.copy(t6);
        var a2 = i3.strokeNoScale ? this.getLineScale() : 1, s2 = i3.lineWidth;
        if (!this.hasFill()) {
          var l2 = this.strokeContainThreshold;
          s2 = Math.max(s2, null == l2 ? 4 : l2);
        }
        a2 > 1e-10 && (o2.width += s2 / a2, o2.height += s2 / a2, o2.x -= s2 / a2 / 2, o2.y -= s2 / a2 / 2);
      }
      return o2;
    }
    return t6;
  }, i2.prototype.contain = function(t6, i3) {
    var n3 = this.transformCoordToLocal(t6, i3), r2 = this.getBoundingRect(), e2 = this.style;
    if (r2.contain(t6 = n3[0], i3 = n3[1])) {
      var o2 = this.path;
      if (this.hasStroke()) {
        var a2 = e2.lineWidth, s2 = e2.strokeNoScale ? this.getLineScale() : 1;
        if (s2 > 1e-10 && (this.hasFill() || (a2 = Math.max(a2, this.strokeContainThreshold)), (function(t7, i4, n4, r3) {
          return Du(t7, i4, true, n4, r3);
        })(o2, a2 / s2, t6, i3))) return true;
      }
      if (this.hasFill()) return (function(t7, i4, n4) {
        return Du(t7, 0, false, i4, n4);
      })(o2, t6, i3);
    }
    return false;
  }, i2.prototype.dirtyShape = function() {
    this.__dirty |= 4, this._rect && (this._rect = null), this._decalEl && this._decalEl.dirtyShape(), this.markRedraw();
  }, i2.prototype.dirty = function() {
    this.dirtyStyle(), this.dirtyShape();
  }, i2.prototype.animateShape = function(t6) {
    return this.animate("shape", t6);
  }, i2.prototype.updateDuringAnimation = function(t6) {
    "style" === t6 ? this.dirtyStyle() : "shape" === t6 ? this.dirtyShape() : this.markRedraw();
  }, i2.prototype.attrKV = function(i3, n3) {
    "shape" === i3 ? this.setShape(n3) : t5.prototype.attrKV.call(this, i3, n3);
  }, i2.prototype.setShape = function(t6, i3) {
    var n3 = this.shape;
    return n3 || (n3 = this.shape = {}), "string" == typeof t6 ? n3[t6] = i3 : bn(n3, t6), this.dirtyShape(), this;
  }, i2.prototype.shapeChanged = function() {
    return !!(4 & this.__dirty);
  }, i2.prototype.createStyle = function(t6) {
    return ir(Wu, t6);
  }, i2.prototype._innerSaveToNormal = function(i3) {
    t5.prototype._innerSaveToNormal.call(this, i3);
    var n3 = this._normalState;
    i3.shape && !n3.shape && (n3.shape = bn({}, this.shape));
  }, i2.prototype._applyStateObj = function(i3, n3, r2, e2, o2, a2) {
    t5.prototype._applyStateObj.call(this, i3, n3, r2, e2, o2, a2);
    var s2, l2 = !(n3 && e2);
    if (n3 && n3.shape ? o2 ? e2 ? s2 = n3.shape : (s2 = bn({}, r2.shape), bn(s2, n3.shape)) : (s2 = bn({}, e2 ? this.shape : r2.shape), bn(s2, n3.shape)) : l2 && (s2 = r2.shape), s2) if (o2) {
      this.shape = bn({}, this.shape);
      for (var u2 = {}, f2 = Cn(s2), c2 = 0; c2 < f2.length; c2++) {
        var h2 = f2[c2];
        "object" == typeof s2[h2] ? this.shape[h2] = s2[h2] : u2[h2] = s2[h2];
      }
      this._transitionState(i3, { shape: u2 }, a2);
    } else this.shape = s2, this.dirtyShape();
  }, i2.prototype._mergeStates = function(i3) {
    for (var n3, r2 = t5.prototype._mergeStates.call(this, i3), e2 = 0; e2 < i3.length; e2++) {
      var o2 = i3[e2];
      o2.shape && this._mergeStyle(n3 = n3 || {}, o2.shape);
    }
    return n3 && (r2.shape = n3), r2;
  }, i2.prototype.getAnimationStyleProps = function() {
    return Eu;
  }, i2.prototype.isZeroArea = function() {
    return false;
  }, i2.extend = function(t6) {
    var n3 = (function(i3) {
      function n4(n5) {
        var r3 = i3.call(this, n5) || this;
        return t6.init && t6.init.call(r3, n5), r3;
      }
      return Yi(n4, i3), n4.prototype.getDefaultStyle = function() {
        return dn(t6.style);
      }, n4.prototype.getDefaultShape = function() {
        return dn(t6.shape);
      }, n4;
    })(i2);
    for (var r2 in t6) "function" == typeof t6[r2] && (n3.prototype[r2] = t6[r2]);
    return n3;
  }, i2.initDefaultProps = ((n2 = i2.prototype).type = "path", n2.strokeContainThreshold = 5, n2.segmentIgnoreThreshold = 0, n2.subPixelOptimize = false, n2.autoBatch = false, void (n2.__dirty = 7)), i2;
})(El), Ru = gn({ strokeFirst: true, font: qi, x: 0, y: 0, textAlign: "left", textBaseline: "top", miterLimit: 2 }, Wu), Pu = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.hasStroke = function() {
    var t6 = this.style, i3 = t6.stroke;
    return null != i3 && "none" !== i3 && t6.lineWidth > 0;
  }, i2.prototype.hasFill = function() {
    var t6 = this.style.fill;
    return null != t6 && "none" !== t6;
  }, i2.prototype.createStyle = function(t6) {
    return ir(Ru, t6);
  }, i2.prototype.setBoundingRect = function(t6) {
    this._rect = t6;
  }, i2.prototype.getBoundingRect = function() {
    var t6 = this.style;
    if (!this._rect) {
      var i3 = t6.text;
      null != i3 ? i3 += "" : i3 = "";
      var n2 = Va(i3, t6.font, t6.textAlign, t6.textBaseline);
      if (n2.x += t6.x || 0, n2.y += t6.y || 0, this.hasStroke()) {
        var r2 = t6.lineWidth;
        n2.x -= r2 / 2, n2.y -= r2 / 2, n2.width += r2, n2.height += r2;
      }
      this._rect = n2;
    }
    return this._rect;
  }, i2.initDefaultProps = void (i2.prototype.dirtyRectTolerance = 10), i2;
})(El);
Pu.prototype.type = "tspan";
var Bu = gn({ x: 0, y: 0 }, Il), Vu = { style: gn({ x: true, y: true, width: true, height: true, sx: true, sy: true, sWidth: true, sHeight: true }, Ll.style) }, ju = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.createStyle = function(t6) {
    return ir(Bu, t6);
  }, i2.prototype._getSize = function(t6) {
    var i3 = this.style, n2 = i3[t6];
    if (null != n2) return n2;
    var r2, e2 = (r2 = i3.image) && "string" != typeof r2 && r2.width && r2.height ? i3.image : this.__image;
    if (!e2) return 0;
    var o2 = "width" === t6 ? "height" : "width", a2 = i3[o2];
    return null == a2 ? e2[t6] : e2[t6] / e2[o2] * a2;
  }, i2.prototype.getWidth = function() {
    return this._getSize("width");
  }, i2.prototype.getHeight = function() {
    return this._getSize("height");
  }, i2.prototype.getAnimationStyleProps = function() {
    return Vu;
  }, i2.prototype.getBoundingRect = function() {
    var t6 = this.style;
    return this._rect || (this._rect = new ce(t6.x || 0, t6.y || 0, this.getWidth(), this.getHeight())), this._rect;
  }, i2;
})(El);
ju.prototype.type = "image";
var Hu = Math.round;
function Yu(t5, i2, n2) {
  if (i2) {
    var r2 = i2.x1, e2 = i2.x2, o2 = i2.y1, a2 = i2.y2;
    t5.x1 = r2, t5.x2 = e2, t5.y1 = o2, t5.y2 = a2;
    var s2 = n2 && n2.lineWidth;
    return s2 ? (Hu(2 * r2) === Hu(2 * e2) && (t5.x1 = t5.x2 = Uu(r2, s2, true)), Hu(2 * o2) === Hu(2 * a2) && (t5.y1 = t5.y2 = Uu(o2, s2, true)), t5) : t5;
  }
}
function Xu(t5, i2, n2) {
  if (i2) {
    var r2 = i2.x, e2 = i2.y, o2 = i2.width, a2 = i2.height;
    t5.x = r2, t5.y = e2, t5.width = o2, t5.height = a2;
    var s2 = n2 && n2.lineWidth;
    return s2 ? (t5.x = Uu(r2, s2, true), t5.y = Uu(e2, s2, true), t5.width = Math.max(Uu(r2 + o2, s2, false) - t5.x, 0 === o2 ? 0 : 1), t5.height = Math.max(Uu(e2 + a2, s2, false) - t5.y, 0 === a2 ? 0 : 1), t5) : t5;
  }
}
function Uu(t5, i2, n2) {
  if (!i2) return t5;
  var r2 = Hu(2 * t5);
  return (r2 + Hu(i2)) % 2 == 0 ? r2 / 2 : (r2 + (n2 ? 1 : -1)) / 2;
}
var $u = function() {
  this.x = 0, this.y = 0, this.width = 0, this.height = 0;
}, Gu = {}, Zu = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new $u();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2, r2, e2, o2;
    if (this.subPixelOptimize) {
      var a2 = Xu(Gu, i3, this.style);
      n2 = a2.x, r2 = a2.y, e2 = a2.width, o2 = a2.height, a2.r = i3.r, i3 = a2;
    } else n2 = i3.x, r2 = i3.y, e2 = i3.width, o2 = i3.height;
    i3.r ? (function(t7, i4) {
      var n3, r3, e3, o3, a3, s2 = i4.x, l2 = i4.y, u2 = i4.width, f2 = i4.height, c2 = i4.r;
      u2 < 0 && (s2 += u2, u2 = -u2), f2 < 0 && (l2 += f2, f2 = -f2), "number" == typeof c2 ? n3 = r3 = e3 = o3 = c2 : c2 instanceof Array ? 1 === c2.length ? n3 = r3 = e3 = o3 = c2[0] : 2 === c2.length ? (n3 = e3 = c2[0], r3 = o3 = c2[1]) : 3 === c2.length ? (n3 = c2[0], r3 = o3 = c2[1], e3 = c2[2]) : (n3 = c2[0], r3 = c2[1], e3 = c2[2], o3 = c2[3]) : n3 = r3 = e3 = o3 = 0, n3 + r3 > u2 && (n3 *= u2 / (a3 = n3 + r3), r3 *= u2 / a3), e3 + o3 > u2 && (e3 *= u2 / (a3 = e3 + o3), o3 *= u2 / a3), r3 + e3 > f2 && (r3 *= f2 / (a3 = r3 + e3), e3 *= f2 / a3), n3 + o3 > f2 && (n3 *= f2 / (a3 = n3 + o3), o3 *= f2 / a3), t7.moveTo(s2 + n3, l2), t7.lineTo(s2 + u2 - r3, l2), 0 !== r3 && t7.arc(s2 + u2 - r3, l2 + r3, r3, -Math.PI / 2, 0), t7.lineTo(s2 + u2, l2 + f2 - e3), 0 !== e3 && t7.arc(s2 + u2 - e3, l2 + f2 - e3, e3, 0, Math.PI / 2), t7.lineTo(s2 + o3, l2 + f2), 0 !== o3 && t7.arc(s2 + o3, l2 + f2 - o3, o3, Math.PI / 2, Math.PI), t7.lineTo(s2, l2 + n3), 0 !== n3 && t7.arc(s2 + n3, l2 + n3, n3, Math.PI, 1.5 * Math.PI);
    })(t6, i3) : t6.rect(n2, r2, e2, o2);
  }, i2.prototype.isZeroArea = function() {
    return !this.shape.width || !this.shape.height;
  }, i2;
})(Fu);
Zu.prototype.type = "rect";
var qu = { fill: "#000" }, Ju = { style: gn({ fill: true, stroke: true, fillOpacity: true, strokeOpacity: true, lineWidth: true, fontSize: true, lineHeight: true, width: true, height: true, textShadowColor: true, textShadowBlur: true, textShadowOffsetX: true, textShadowOffsetY: true, backgroundColor: true, padding: true, borderColor: true, borderWidth: true, borderRadius: true }, Ll.style) }, Ku = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this) || this;
    return n2.type = "text", n2._children = [], n2._defaultStyle = qu, n2.attr(i3), n2;
  }
  return Yi(i2, t5), i2.prototype.childrenRef = function() {
    return this._children;
  }, i2.prototype.update = function() {
    t5.prototype.update.call(this), this.styleChanged() && this._updateSubTexts();
    for (var i3 = 0; i3 < this._children.length; i3++) {
      var n2 = this._children[i3];
      n2.zlevel = this.zlevel, n2.z = this.z, n2.z2 = this.z2, n2.culling = this.culling, n2.cursor = this.cursor, n2.invisible = this.invisible;
    }
  }, i2.prototype.updateTransform = function() {
    var i3 = this.innerTransformable;
    i3 ? (i3.updateTransform(), i3.transform && (this.transform = i3.transform)) : t5.prototype.updateTransform.call(this);
  }, i2.prototype.getLocalTransform = function(i3) {
    var n2 = this.innerTransformable;
    return n2 ? n2.getLocalTransform(i3) : t5.prototype.getLocalTransform.call(this, i3);
  }, i2.prototype.getComputedTransform = function() {
    return this.__hostTarget && (this.__hostTarget.getComputedTransform(), this.__hostTarget.updateInnerText(true)), t5.prototype.getComputedTransform.call(this);
  }, i2.prototype._updateSubTexts = function() {
    var t6;
    this._childCursor = 0, af(t6 = this.style), kn(t6.rich, af), this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(), this._children.length = this._childCursor, this.styleUpdated();
  }, i2.prototype.addSelfToZr = function(i3) {
    t5.prototype.addSelfToZr.call(this, i3);
    for (var n2 = 0; n2 < this._children.length; n2++) this._children[n2].__zr = i3;
  }, i2.prototype.removeSelfFromZr = function(i3) {
    t5.prototype.removeSelfFromZr.call(this, i3);
    for (var n2 = 0; n2 < this._children.length; n2++) this._children[n2].__zr = null;
  }, i2.prototype.getBoundingRect = function() {
    if (this.styleChanged() && this._updateSubTexts(), !this._rect) {
      for (var t6 = new ce(0, 0, 0, 0), i3 = this._children, n2 = [], r2 = null, e2 = 0; e2 < i3.length; e2++) {
        var o2 = i3[e2], a2 = o2.getBoundingRect(), s2 = o2.getLocalTransform(n2);
        s2 ? (t6.copy(a2), t6.applyTransform(s2), (r2 = r2 || t6.clone()).union(t6)) : (r2 = r2 || a2.clone()).union(a2);
      }
      this._rect = r2 || t6;
    }
    return this._rect;
  }, i2.prototype.setDefaultTextStyle = function(t6) {
    this._defaultStyle = t6 || qu;
  }, i2.prototype.setTextContent = function() {
  }, i2.prototype._mergeStyle = function(t6, i3) {
    if (!i3) return t6;
    var n2 = i3.rich, r2 = t6.rich || n2 && {};
    return bn(t6, i3), n2 && r2 ? (this._mergeRich(r2, n2), t6.rich = r2) : r2 && (t6.rich = r2), t6;
  }, i2.prototype._mergeRich = function(t6, i3) {
    for (var n2 = Cn(i3), r2 = 0; r2 < n2.length; r2++) {
      var e2 = n2[r2];
      t6[e2] = t6[e2] || {}, bn(t6[e2], i3[e2]);
    }
  }, i2.prototype.getAnimationStyleProps = function() {
    return Ju;
  }, i2.prototype._getOrCreateChild = function(t6) {
    var i3 = this._children[this._childCursor];
    return i3 && i3 instanceof t6 || (i3 = new t6()), this._children[this._childCursor++] = i3, i3.__zr = this.__zr, i3.parent = this, i3;
  }, i2.prototype._updatePlainTexts = function() {
    var t6 = this.style, i3 = t6.font || qi, n2 = t6.padding, r2 = (function(t7, i4) {
      null != t7 && (t7 += "");
      var n3, r3 = i4.overflow, e3 = i4.padding, o3 = i4.font, a3 = "truncate" === r3, s3 = Ya(o3), l3 = Vn(i4.lineHeight, s3), u3 = !!i4.backgroundColor, f3 = "truncate" === i4.lineOverflow, c3 = false, h3 = i4.width, v3 = (n3 = null == h3 || "break" !== r3 && "breakAll" !== r3 ? t7 ? t7.split("\n") : [] : t7 ? _l(t7, i4.font, h3, "breakAll" === r3, 0).lines : []).length * l3, d3 = Vn(i4.height, v3);
      if (v3 > d3 && f3) {
        var p3 = Math.floor(d3 / l3);
        c3 = c3 || n3.length > p3, n3 = n3.slice(0, p3);
      }
      if (t7 && a3 && null != h3) for (var m3 = wl(h3, o3, i4.ellipsis, { minChar: i4.truncateMinChar, placeholder: i4.placeholder }), b3 = {}, g4 = 0; g4 < n3.length; g4++) xl(b3, n3[g4], m3), n3[g4] = b3.textLine, c3 = c3 || b3.isTruncated;
      var y3 = d3, w4 = 0;
      for (g4 = 0; g4 < n3.length; g4++) w4 = Math.max(Pa(n3[g4], o3), w4);
      null == h3 && (h3 = w4);
      var x3 = w4;
      return e3 && (y3 += e3[0] + e3[2], x3 += e3[1] + e3[3], h3 += e3[1] + e3[3]), u3 && (x3 = h3), { lines: n3, height: d3, outerWidth: x3, outerHeight: y3, lineHeight: l3, calculatedLineHeight: s3, contentWidth: w4, contentHeight: v3, width: h3, isTruncated: c3 };
    })(ff(t6), t6), e2 = cf(t6), o2 = !!t6.backgroundColor, a2 = r2.outerHeight, s2 = r2.outerWidth, l2 = r2.contentWidth, u2 = r2.lines, f2 = r2.lineHeight, c2 = this._defaultStyle;
    this.isTruncated = !!r2.isTruncated;
    var h2 = t6.x || 0, v2 = t6.y || 0, d2 = t6.align || c2.align || "left", p2 = t6.verticalAlign || c2.verticalAlign || "top", m2 = h2, b2 = Ha(v2, r2.contentHeight, p2);
    if (e2 || n2) {
      var g3 = ja(h2, s2, d2), y2 = Ha(v2, a2, p2);
      e2 && this._renderBackground(t6, t6, g3, y2, s2, a2);
    }
    b2 += f2 / 2, n2 && (m2 = uf(h2, d2, n2), "top" === p2 ? b2 += n2[0] : "bottom" === p2 && (b2 -= n2[2]));
    for (var w3 = 0, x2 = false, k2 = lf("fill" in t6 ? t6.fill : (x2 = true, c2.fill)), M2 = sf("stroke" in t6 ? t6.stroke : o2 || c2.autoStroke && !x2 ? null : (w3 = 2, c2.stroke)), z2 = t6.textShadowBlur > 0, S3 = null != t6.width && ("truncate" === t6.overflow || "break" === t6.overflow || "breakAll" === t6.overflow), C3 = r2.calculatedLineHeight, A3 = 0; A3 < u2.length; A3++) {
      var N2 = this._getOrCreateChild(Pu), _2 = N2.createStyle();
      N2.useStyle(_2), _2.text = u2[A3], _2.x = m2, _2.y = b2, _2.textAlign = d2, _2.textBaseline = "middle", _2.opacity = t6.opacity, _2.strokeFirst = true, z2 && (_2.shadowBlur = t6.textShadowBlur || 0, _2.shadowColor = t6.textShadowColor || "transparent", _2.shadowOffsetX = t6.textShadowOffsetX || 0, _2.shadowOffsetY = t6.textShadowOffsetY || 0), _2.stroke = M2, _2.fill = k2, M2 && (_2.lineWidth = t6.lineWidth || w3, _2.lineDash = t6.lineDash, _2.lineDashOffset = t6.lineDashOffset || 0), _2.font = i3, ef(_2, t6), b2 += f2, S3 && N2.setBoundingRect(new ce(ja(_2.x, l2, _2.textAlign), Ha(_2.y, C3, _2.textBaseline), l2, C3));
    }
  }, i2.prototype._updateRichTexts = function() {
    var t6 = this.style, i3 = (function(t7, i4) {
      var n3 = new Sl();
      if (null != t7 && (t7 += ""), !t7) return n3;
      for (var r3, e3 = i4.width, o3 = i4.height, a3 = i4.overflow, s3 = "break" !== a3 && "breakAll" !== a3 || null == e3 ? null : { width: e3, accumWidth: 0, breakAll: "breakAll" === a3 }, l3 = gl.lastIndex = 0; null != (r3 = gl.exec(t7)); ) {
        var u3 = r3.index;
        u3 > l3 && Cl(n3, t7.substring(l3, u3), i4, s3), Cl(n3, r3[2], i4, s3, r3[1]), l3 = gl.lastIndex;
      }
      l3 < t7.length && Cl(n3, t7.substring(l3, t7.length), i4, s3);
      var f3 = [], c3 = 0, h3 = 0, v3 = i4.padding, d3 = "truncate" === a3, p3 = "truncate" === i4.lineOverflow, m3 = {};
      function b3(t8, i5, n4) {
        t8.width = i5, t8.lineHeight = n4, c3 += n4, h3 = Math.max(h3, i5);
      }
      t: for (var g4 = 0; g4 < n3.lines.length; g4++) {
        for (var y3 = n3.lines[g4], w4 = 0, x3 = 0, k3 = 0; k3 < y3.tokens.length; k3++) {
          var M3 = (W3 = y3.tokens[k3]).styleName && i4.rich[W3.styleName] || {}, z3 = W3.textPadding = M3.padding, S4 = z3 ? z3[1] + z3[3] : 0, C4 = W3.font = M3.font || i4.font;
          W3.contentHeight = Ya(C4);
          var A4 = Vn(M3.height, W3.contentHeight);
          if (W3.innerHeight = A4, z3 && (A4 += z3[0] + z3[2]), W3.height = A4, W3.lineHeight = jn(M3.lineHeight, i4.lineHeight, A4), W3.align = M3 && M3.align || i4.align, W3.verticalAlign = M3 && M3.verticalAlign || "middle", p3 && null != o3 && c3 + W3.lineHeight > o3) {
            var N2 = n3.lines.length;
            k3 > 0 ? (y3.tokens = y3.tokens.slice(0, k3), b3(y3, x3, w4), n3.lines = n3.lines.slice(0, g4 + 1)) : n3.lines = n3.lines.slice(0, g4), n3.isTruncated = n3.isTruncated || n3.lines.length < N2;
            break t;
          }
          var _2 = M3.width, T4 = null == _2 || "auto" === _2;
          if ("string" == typeof _2 && "%" === _2.charAt(_2.length - 1)) W3.percentWidth = _2, f3.push(W3), W3.contentWidth = Pa(W3.text, C4);
          else {
            if (T4) {
              var I2 = M3.backgroundColor, L2 = I2 && I2.image;
              L2 && bl(L2 = dl(L2)) && (W3.width = Math.max(W3.width, L2.width * A4 / L2.height));
            }
            var D2 = d3 && null != e3 ? e3 - x3 : null;
            null != D2 && D2 < W3.width ? !T4 || D2 < S4 ? (W3.text = "", W3.width = W3.contentWidth = 0) : (yl(m3, W3.text, D2 - S4, C4, i4.ellipsis, { minChar: i4.truncateMinChar }), W3.text = m3.text, n3.isTruncated = n3.isTruncated || m3.isTruncated, W3.width = W3.contentWidth = Pa(W3.text, C4)) : W3.contentWidth = Pa(W3.text, C4);
          }
          W3.width += S4, x3 += W3.width, M3 && (w4 = Math.max(w4, W3.lineHeight));
        }
        b3(y3, x3, w4);
      }
      for (n3.outerWidth = n3.width = Vn(e3, h3), n3.outerHeight = n3.height = Vn(o3, c3), n3.contentHeight = c3, n3.contentWidth = h3, v3 && (n3.outerWidth += v3[1] + v3[3], n3.outerHeight += v3[0] + v3[2]), g4 = 0; g4 < f3.length; g4++) {
        var W3;
        (W3 = f3[g4]).width = parseInt(W3.percentWidth, 10) / 100 * n3.width;
      }
      return n3;
    })(ff(t6), t6), n2 = i3.width, r2 = i3.outerWidth, e2 = i3.outerHeight, o2 = t6.padding, a2 = t6.x || 0, s2 = t6.y || 0, l2 = this._defaultStyle, u2 = t6.align || l2.align, f2 = t6.verticalAlign || l2.verticalAlign;
    this.isTruncated = !!i3.isTruncated;
    var c2 = ja(a2, r2, u2), h2 = Ha(s2, e2, f2), v2 = c2, d2 = h2;
    o2 && (v2 += o2[3], d2 += o2[0]);
    var p2 = v2 + n2;
    cf(t6) && this._renderBackground(t6, t6, c2, h2, r2, e2);
    for (var m2 = !!t6.backgroundColor, b2 = 0; b2 < i3.lines.length; b2++) {
      for (var g3 = i3.lines[b2], y2 = g3.tokens, w3 = y2.length, x2 = g3.lineHeight, k2 = g3.width, M2 = 0, z2 = v2, S3 = p2, C3 = w3 - 1, A3 = void 0; M2 < w3 && (!(A3 = y2[M2]).align || "left" === A3.align); ) this._placeToken(A3, t6, x2, d2, z2, "left", m2), k2 -= A3.width, z2 += A3.width, M2++;
      for (; C3 >= 0 && "right" === (A3 = y2[C3]).align; ) this._placeToken(A3, t6, x2, d2, S3, "right", m2), k2 -= A3.width, S3 -= A3.width, C3--;
      for (z2 += (n2 - (z2 - v2) - (p2 - S3) - k2) / 2; M2 <= C3; ) this._placeToken(A3 = y2[M2], t6, x2, d2, z2 + A3.width / 2, "center", m2), z2 += A3.width, M2++;
      d2 += x2;
    }
  }, i2.prototype._placeToken = function(t6, i3, n2, r2, e2, o2, a2) {
    var s2 = i3.rich[t6.styleName] || {};
    s2.text = t6.text;
    var l2 = t6.verticalAlign, u2 = r2 + n2 / 2;
    "top" === l2 ? u2 = r2 + t6.height / 2 : "bottom" === l2 && (u2 = r2 + n2 - t6.height / 2), !t6.isLineHolder && cf(s2) && this._renderBackground(s2, i3, "right" === o2 ? e2 - t6.width : "center" === o2 ? e2 - t6.width / 2 : e2, u2 - t6.height / 2, t6.width, t6.height);
    var f2 = !!s2.backgroundColor, c2 = t6.textPadding;
    c2 && (e2 = uf(e2, o2, c2), u2 -= t6.height / 2 - c2[0] - t6.innerHeight / 2);
    var h2 = this._getOrCreateChild(Pu), v2 = h2.createStyle();
    h2.useStyle(v2);
    var d2 = this._defaultStyle, p2 = false, m2 = 0, b2 = lf("fill" in s2 ? s2.fill : "fill" in i3 ? i3.fill : (p2 = true, d2.fill)), g3 = sf("stroke" in s2 ? s2.stroke : "stroke" in i3 ? i3.stroke : f2 || a2 || d2.autoStroke && !p2 ? null : (m2 = 2, d2.stroke)), y2 = s2.textShadowBlur > 0 || i3.textShadowBlur > 0;
    v2.text = t6.text, v2.x = e2, v2.y = u2, y2 && (v2.shadowBlur = s2.textShadowBlur || i3.textShadowBlur || 0, v2.shadowColor = s2.textShadowColor || i3.textShadowColor || "transparent", v2.shadowOffsetX = s2.textShadowOffsetX || i3.textShadowOffsetX || 0, v2.shadowOffsetY = s2.textShadowOffsetY || i3.textShadowOffsetY || 0), v2.textAlign = o2, v2.textBaseline = "middle", v2.font = t6.font || qi, v2.opacity = jn(s2.opacity, i3.opacity, 1), ef(v2, s2), g3 && (v2.lineWidth = jn(s2.lineWidth, i3.lineWidth, m2), v2.lineDash = Vn(s2.lineDash, i3.lineDash), v2.lineDashOffset = i3.lineDashOffset || 0, v2.stroke = g3), b2 && (v2.fill = b2);
    var w3 = t6.contentWidth, x2 = t6.contentHeight;
    h2.setBoundingRect(new ce(ja(v2.x, w3, v2.textAlign), Ha(v2.y, x2, v2.textBaseline), w3, x2));
  }, i2.prototype._renderBackground = function(t6, i3, n2, r2, e2, o2) {
    var a2, s2, l2, u2 = t6.backgroundColor, f2 = t6.borderWidth, c2 = t6.borderColor, h2 = u2 && u2.image, v2 = u2 && !h2, d2 = t6.borderRadius, p2 = this;
    if (v2 || t6.lineHeight || f2 && c2) {
      (a2 = this._getOrCreateChild(Zu)).useStyle(a2.createStyle()), a2.style.fill = null;
      var m2 = a2.shape;
      m2.x = n2, m2.y = r2, m2.width = e2, m2.height = o2, m2.r = d2, a2.dirtyShape();
    }
    if (v2) (l2 = a2.style).fill = u2 || null, l2.fillOpacity = Vn(t6.fillOpacity, 1);
    else if (h2) {
      (s2 = this._getOrCreateChild(ju)).onload = function() {
        p2.dirtyStyle();
      };
      var b2 = s2.style;
      b2.image = u2.image, b2.x = n2, b2.y = r2, b2.width = e2, b2.height = o2;
    }
    f2 && c2 && ((l2 = a2.style).lineWidth = f2, l2.stroke = c2, l2.strokeOpacity = Vn(t6.strokeOpacity, 1), l2.lineDash = t6.borderDash, l2.lineDashOffset = t6.borderDashOffset || 0, a2.strokeContainThreshold = 0, a2.hasFill() && a2.hasStroke() && (l2.strokeFirst = true, l2.lineWidth *= 2));
    var g3 = (a2 || s2).style;
    g3.shadowBlur = t6.shadowBlur || 0, g3.shadowColor = t6.shadowColor || "transparent", g3.shadowOffsetX = t6.shadowOffsetX || 0, g3.shadowOffsetY = t6.shadowOffsetY || 0, g3.opacity = jn(t6.opacity, i3.opacity, 1);
  }, i2.makeFont = function(t6) {
    var i3 = "";
    return of(t6) && (i3 = [t6.fontStyle, t6.fontWeight, rf(t6.fontSize), t6.fontFamily || "sans-serif"].join(" ")), i3 && Un(i3) || t6.textFont || t6.font;
  }, i2;
})(El), Qu = { left: true, right: 1, center: 1 }, tf = { top: 1, bottom: 1, middle: 1 }, nf = ["fontStyle", "fontWeight", "fontSize", "fontFamily"];
function rf(t5) {
  return "string" != typeof t5 || -1 === t5.indexOf("px") && -1 === t5.indexOf("rem") && -1 === t5.indexOf("em") ? isNaN(+t5) ? "12px" : t5 + "px" : t5;
}
function ef(t5, i2) {
  for (var n2 = 0; n2 < nf.length; n2++) {
    var r2 = nf[n2], e2 = i2[r2];
    null != e2 && (t5[r2] = e2);
  }
}
function of(t5) {
  return null != t5.fontSize || t5.fontFamily || t5.fontWeight;
}
function af(t5) {
  if (t5) {
    t5.font = Ku.makeFont(t5);
    var i2 = t5.align;
    "middle" === i2 && (i2 = "center"), t5.align = null == i2 || Qu[i2] ? i2 : "left";
    var n2 = t5.verticalAlign;
    "center" === n2 && (n2 = "middle"), t5.verticalAlign = null == n2 || tf[n2] ? n2 : "top", t5.padding && (t5.padding = Yn(t5.padding));
  }
}
function sf(t5, i2) {
  return null == t5 || i2 <= 0 || "transparent" === t5 || "none" === t5 ? null : t5.image || t5.colorStops ? "#000" : t5;
}
function lf(t5) {
  return null == t5 || "none" === t5 ? null : t5.image || t5.colorStops ? "#000" : t5;
}
function uf(t5, i2, n2) {
  return "right" === i2 ? t5 - n2[1] : "center" === i2 ? t5 + n2[3] / 2 - n2[1] / 2 : t5 + n2[3];
}
function ff(t5) {
  var i2 = t5.text;
  return null != i2 && (i2 += ""), i2;
}
function cf(t5) {
  return !!(t5.backgroundColor || t5.lineHeight || t5.borderWidth && t5.borderColor);
}
var hf = Xs(), vf = function(t5, i2, n2, r2) {
  if (r2) {
    var e2 = hf(r2);
    e2.dataIndex = n2, e2.dataType = i2, e2.seriesIndex = t5, e2.ssrType = "chart", "group" === r2.type && r2.traverse((function(r3) {
      var e3 = hf(r3);
      e3.seriesIndex = t5, e3.dataIndex = n2, e3.dataType = i2, e3.ssrType = "chart";
    }));
  }
}, df = 1, pf = {}, mf = Xs(), bf = Xs(), gf = ["emphasis", "blur", "select"], yf = ["normal", "emphasis", "blur", "select"], wf = "highlight", xf = "downplay", kf = "select", Mf = "unselect", zf = "toggleSelect";
function Sf(t5) {
  return null != t5 && "none" !== t5;
}
function Cf(t5, i2, n2) {
  t5.onHoverStateChange && (t5.hoverState || 0) !== n2 && t5.onHoverStateChange(i2), t5.hoverState = n2;
}
function Af(t5) {
  Cf(t5, "emphasis", 2);
}
function Nf(t5) {
  2 === t5.hoverState && Cf(t5, "normal", 0);
}
function _f(t5) {
  Cf(t5, "blur", 1);
}
function Tf(t5) {
  1 === t5.hoverState && Cf(t5, "normal", 0);
}
function If(t5) {
  t5.selected = true;
}
function Lf(t5) {
  t5.selected = false;
}
function Df(t5, i2, n2) {
  i2(t5, n2);
}
function Wf(t5, i2, n2) {
  Df(t5, i2, n2), t5.isGroup && t5.traverse((function(t6) {
    Df(t6, i2, n2);
  }));
}
function Ef(t5, i2) {
  switch (i2) {
    case "emphasis":
      t5.hoverState = 2;
      break;
    case "normal":
      t5.hoverState = 0;
      break;
    case "blur":
      t5.hoverState = 1;
      break;
    case "select":
      t5.selected = true;
  }
}
function Of(t5, i2) {
  var n2 = this.states[t5];
  if (this.style) {
    if ("emphasis" === t5) return (function(t6, i3, n3, r2) {
      var e2 = n3 && yn(n3, "select") >= 0, o2 = false;
      if (t6 instanceof Fu) {
        var a2 = mf(t6), s2 = e2 && a2.selectFill || a2.normalFill, l2 = e2 && a2.selectStroke || a2.normalStroke;
        if (Sf(s2) || Sf(l2)) {
          var u2 = (r2 = r2 || {}).style || {};
          "inherit" === u2.fill ? (o2 = true, r2 = bn({}, r2), (u2 = bn({}, u2)).fill = s2) : !Sf(u2.fill) && Sf(s2) ? (o2 = true, r2 = bn({}, r2), (u2 = bn({}, u2)).fill = To(s2)) : !Sf(u2.stroke) && Sf(l2) && (o2 || (r2 = bn({}, r2), u2 = bn({}, u2)), u2.stroke = To(l2)), r2.style = u2;
        }
      }
      if (r2 && null == r2.z2) {
        o2 || (r2 = bn({}, r2));
        var f2 = t6.z2EmphasisLift;
        r2.z2 = t6.z2 + (null != f2 ? f2 : 10);
      }
      return r2;
    })(this, 0, i2, n2);
    if ("blur" === t5) return (function(t6, i3, n3) {
      var r2 = yn(t6.currentStates, i3) >= 0, e2 = t6.style.opacity, o2 = r2 ? null : (function(t7, i4, n4, r3) {
        for (var e3 = t7.style, o3 = {}, a3 = 0; a3 < i4.length; a3++) {
          var s2 = i4[a3], l2 = e3[s2];
          o3[s2] = null == l2 ? r3 && r3[s2] : l2;
        }
        for (a3 = 0; a3 < t7.animators.length; a3++) {
          var u2 = t7.animators[a3];
          u2.__fromStateTransition && u2.__fromStateTransition.indexOf(n4) < 0 && "style" === u2.targetName && u2.saveTo(o3, i4);
        }
        return o3;
      })(t6, ["opacity"], i3, { opacity: 1 }), a2 = (n3 = n3 || {}).style || {};
      return null == a2.opacity && (n3 = bn({}, n3), a2 = bn({ opacity: r2 ? e2 : 0.1 * o2.opacity }, a2), n3.style = a2), n3;
    })(this, t5, n2);
    if ("select" === t5) return (function(t6, i3, n3) {
      if (n3 && null == n3.z2) {
        n3 = bn({}, n3);
        var r2 = t6.z2SelectLift;
        n3.z2 = t6.z2 + (null != r2 ? r2 : 9);
      }
      return n3;
    })(this, 0, n2);
  }
  return n2;
}
function Ff(t5) {
  t5.stateProxy = Of;
  var i2 = t5.getTextContent(), n2 = t5.getTextGuideLine();
  i2 && (i2.stateProxy = Of), n2 && (n2.stateProxy = Of);
}
function Rf(t5, i2) {
  !Uf(t5, i2) && !t5.__highByOuter && Wf(t5, Af);
}
function Pf(t5, i2) {
  !Uf(t5, i2) && !t5.__highByOuter && Wf(t5, Nf);
}
function Bf(t5, i2) {
  t5.__highByOuter |= 1 << (i2 || 0), Wf(t5, Af);
}
function Vf(t5, i2) {
  !(t5.__highByOuter &= ~(1 << (i2 || 0))) && Wf(t5, Nf);
}
function jf(t5) {
  Wf(t5, _f);
}
function Hf(t5) {
  Wf(t5, Tf);
}
function Yf(t5) {
  Wf(t5, If);
}
function Xf(t5) {
  Wf(t5, Lf);
}
function Uf(t5, i2) {
  return t5.__highDownSilentOnTouch && i2.zrByTouch;
}
function $f(t5) {
  var i2 = t5.getModel(), n2 = [], r2 = [];
  i2.eachComponent((function(i3, e2) {
    var o2 = bf(e2), a2 = "series" === i3, s2 = a2 ? t5.getViewOfSeriesModel(e2) : t5.getViewOfComponentModel(e2);
    !a2 && r2.push(s2), o2.isBlured && (s2.group.traverse((function(t6) {
      Tf(t6);
    })), a2 && n2.push(e2)), o2.isBlured = false;
  })), kn(r2, (function(t6) {
    t6 && t6.toggleBlurSeries && t6.toggleBlurSeries(n2, false, i2);
  }));
}
function Gf(t5, i2, n2, r2) {
  var e2 = r2.getModel();
  function o2(t6, i3) {
    for (var n3 = 0; n3 < i3.length; n3++) {
      var r3 = t6.getItemGraphicEl(i3[n3]);
      r3 && Hf(r3);
    }
  }
  if (n2 = n2 || "coordinateSystem", null != t5 && i2 && "none" !== i2) {
    var a2 = e2.getSeriesByIndex(t5), s2 = a2.coordinateSystem;
    s2 && s2.master && (s2 = s2.master);
    var l2 = [];
    e2.eachSeries((function(t6) {
      var e3 = a2 === t6, u2 = t6.coordinateSystem;
      if (u2 && u2.master && (u2 = u2.master), !("series" === n2 && !e3 || "coordinateSystem" === n2 && !(u2 && s2 ? u2 === s2 : e3) || "series" === i2 && e3)) {
        if (r2.getViewOfSeriesModel(t6).group.traverse((function(t7) {
          t7.__highByOuter && e3 && "self" === i2 || _f(t7);
        })), xn(i2)) o2(t6.getData(), i2);
        else if (Wn(i2)) for (var f2 = Cn(i2), c2 = 0; c2 < f2.length; c2++) o2(t6.getData(f2[c2]), i2[f2[c2]]);
        l2.push(t6), bf(t6).isBlured = true;
      }
    })), e2.eachComponent((function(t6, i3) {
      if ("series" !== t6) {
        var n3 = r2.getViewOfComponentModel(i3);
        n3 && n3.toggleBlurSeries && n3.toggleBlurSeries(l2, true, e2);
      }
    }));
  }
}
function Zf(t5, i2, n2) {
  if (null != t5 && null != i2) {
    var r2 = n2.getModel().getComponent(t5, i2);
    if (r2) {
      bf(r2).isBlured = true;
      var e2 = n2.getViewOfComponentModel(r2);
      e2 && e2.focusBlurEnabled && e2.group.traverse((function(t6) {
        _f(t6);
      }));
    }
  }
}
function qf(t5, i2, n2, r2) {
  var e2 = { focusSelf: false, dispatchers: null };
  if (null == t5 || "series" === t5 || null == i2 || null == n2) return e2;
  var o2 = r2.getModel().getComponent(t5, i2);
  if (!o2) return e2;
  var a2 = r2.getViewOfComponentModel(o2);
  if (!a2 || !a2.findHighDownDispatchers) return e2;
  for (var s2, l2 = a2.findHighDownDispatchers(n2), u2 = 0; u2 < l2.length; u2++) if ("self" === hf(l2[u2]).focus) {
    s2 = true;
    break;
  }
  return { focusSelf: s2, dispatchers: l2 };
}
function Jf(t5) {
  kn(t5.getAllData(), (function(i2) {
    var n2 = i2.type;
    i2.data.eachItemGraphicEl((function(i3, r2) {
      t5.isSelected(r2, n2) ? Yf(i3) : Xf(i3);
    }));
  }));
}
function Kf(t5) {
  var i2 = [];
  return t5.eachSeries((function(t6) {
    kn(t6.getAllData(), (function(n2) {
      var r2 = n2.type, e2 = t6.getSelectedDataIndices();
      if (e2.length > 0) {
        var o2 = { dataIndex: e2, seriesIndex: t6.seriesIndex };
        null != r2 && (o2.dataType = r2), i2.push(o2);
      }
    }));
  })), i2;
}
function Qf(t5, i2, n2) {
  oc(t5, true), Wf(t5, Ff), ic(t5, i2, n2);
}
function tc(t5, i2, n2, r2) {
  r2 ? (function(t6) {
    oc(t6, false);
  })(t5) : Qf(t5, i2, n2);
}
function ic(t5, i2, n2) {
  var r2 = hf(t5);
  null != i2 ? (r2.focus = i2, r2.blurScope = n2) : r2.focus && (r2.focus = null);
}
var nc = ["emphasis", "blur", "select"], rc = { itemStyle: "getItemStyle", lineStyle: "getLineStyle", areaStyle: "getAreaStyle" };
function ec(t5, i2, n2, r2) {
  n2 = n2 || "itemStyle";
  for (var e2 = 0; e2 < nc.length; e2++) {
    var o2 = nc[e2], a2 = i2.getModel([o2, n2]);
    t5.ensureState(o2).style = r2 ? r2(a2) : a2[rc[n2]]();
  }
}
function oc(t5, i2) {
  var n2 = false === i2, r2 = t5;
  t5.highDownSilentOnTouch && (r2.__highDownSilentOnTouch = t5.highDownSilentOnTouch), n2 && !r2.__highDownDispatcher || (r2.__highByOuter = r2.__highByOuter || 0, r2.__highDownDispatcher = !n2);
}
function ac(t5) {
  return !(!t5 || !t5.__highDownDispatcher);
}
function sc(t5) {
  var i2 = t5.type;
  return i2 === kf || i2 === Mf || i2 === zf;
}
function lc(t5) {
  var i2 = t5.type;
  return i2 === wf || i2 === xf;
}
var uc = bu.CMD, fc = [[], [], []], cc = Math.sqrt, hc = Math.atan2;
function vc(t5, i2) {
  if (i2) {
    var n2, r2, e2, o2, a2, s2, l2 = t5.data, u2 = t5.len(), f2 = uc.M, c2 = uc.C, h2 = uc.L, v2 = uc.R, d2 = uc.A, p2 = uc.Q;
    for (e2 = 0, o2 = 0; e2 < u2; ) {
      switch (n2 = l2[e2++], o2 = e2, r2 = 0, n2) {
        case f2:
        case h2:
          r2 = 1;
          break;
        case c2:
          r2 = 3;
          break;
        case p2:
          r2 = 2;
          break;
        case d2:
          var m2 = i2[4], b2 = i2[5], g3 = cc(i2[0] * i2[0] + i2[1] * i2[1]), y2 = cc(i2[2] * i2[2] + i2[3] * i2[3]), w3 = hc(-i2[1] / y2, i2[0] / g3);
          l2[e2] *= g3, l2[e2++] += m2, l2[e2] *= y2, l2[e2++] += b2, l2[e2++] *= g3, l2[e2++] *= y2, l2[e2++] += w3, l2[e2++] += w3, o2 = e2 += 2;
          break;
        case v2:
          s2[0] = l2[e2++], s2[1] = l2[e2++], wr(s2, s2, i2), l2[o2++] = s2[0], l2[o2++] = s2[1], s2[0] += l2[e2++], s2[1] += l2[e2++], wr(s2, s2, i2), l2[o2++] = s2[0], l2[o2++] = s2[1];
      }
      for (a2 = 0; a2 < r2; a2++) {
        var x2 = fc[a2];
        x2[0] = l2[e2++], x2[1] = l2[e2++], wr(x2, x2, i2), l2[o2++] = x2[0], l2[o2++] = x2[1];
      }
    }
    t5.increaseVersion();
  }
}
var dc = Math.sqrt, pc = Math.sin, mc = Math.cos, bc = Math.PI;
function gc(t5) {
  return Math.sqrt(t5[0] * t5[0] + t5[1] * t5[1]);
}
function yc(t5, i2) {
  return (t5[0] * i2[0] + t5[1] * i2[1]) / (gc(t5) * gc(i2));
}
function wc(t5, i2) {
  return (t5[0] * i2[1] < t5[1] * i2[0] ? -1 : 1) * Math.acos(yc(t5, i2));
}
function xc(t5, i2, n2, r2, e2, o2, a2, s2, l2, u2, f2) {
  var c2 = l2 * (bc / 180), h2 = mc(c2) * (t5 - n2) / 2 + pc(c2) * (i2 - r2) / 2, v2 = -1 * pc(c2) * (t5 - n2) / 2 + mc(c2) * (i2 - r2) / 2, d2 = h2 * h2 / (a2 * a2) + v2 * v2 / (s2 * s2);
  d2 > 1 && (a2 *= dc(d2), s2 *= dc(d2));
  var p2 = (e2 === o2 ? -1 : 1) * dc((a2 * a2 * (s2 * s2) - a2 * a2 * (v2 * v2) - s2 * s2 * (h2 * h2)) / (a2 * a2 * (v2 * v2) + s2 * s2 * (h2 * h2))) || 0, m2 = p2 * a2 * v2 / s2, b2 = p2 * -s2 * h2 / a2, g3 = (t5 + n2) / 2 + mc(c2) * m2 - pc(c2) * b2, y2 = (i2 + r2) / 2 + pc(c2) * m2 + mc(c2) * b2, w3 = wc([1, 0], [(h2 - m2) / a2, (v2 - b2) / s2]), x2 = [(h2 - m2) / a2, (v2 - b2) / s2], k2 = [(-1 * h2 - m2) / a2, (-1 * v2 - b2) / s2], M2 = wc(x2, k2);
  if (yc(x2, k2) <= -1 && (M2 = bc), yc(x2, k2) >= 1 && (M2 = 0), M2 < 0) {
    var z2 = Math.round(M2 / bc * 1e6) / 1e6;
    M2 = 2 * bc + z2 % 2 * bc;
  }
  f2.addData(u2, g3, y2, a2, s2, w3, M2, c2, o2);
}
var kc = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi, Mc = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g, zc = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.applyTransform = function() {
  }, i2;
})(Fu);
function Sc(t5) {
  return null != t5.setData;
}
function Cc(t5, i2) {
  var n2 = (function(t6) {
    var i3 = new bu();
    if (!t6) return i3;
    var n3, r3 = 0, e2 = 0, o2 = r3, a2 = e2, s2 = bu.CMD, l2 = t6.match(kc);
    if (!l2) return i3;
    for (var u2 = 0; u2 < l2.length; u2++) {
      for (var f2 = l2[u2], c2 = f2.charAt(0), h2 = void 0, v2 = f2.match(Mc) || [], d2 = v2.length, p2 = 0; p2 < d2; p2++) v2[p2] = parseFloat(v2[p2]);
      for (var m2 = 0; m2 < d2; ) {
        var b2 = void 0, g3 = void 0, y2 = void 0, w3 = void 0, x2 = void 0, k2 = void 0, M2 = void 0, z2 = r3, S3 = e2, C3 = void 0, A3 = void 0;
        switch (c2) {
          case "l":
            r3 += v2[m2++], e2 += v2[m2++], i3.addData(h2 = s2.L, r3, e2);
            break;
          case "L":
            r3 = v2[m2++], e2 = v2[m2++], i3.addData(h2 = s2.L, r3, e2);
            break;
          case "m":
            r3 += v2[m2++], e2 += v2[m2++], i3.addData(h2 = s2.M, r3, e2), o2 = r3, a2 = e2, c2 = "l";
            break;
          case "M":
            r3 = v2[m2++], e2 = v2[m2++], i3.addData(h2 = s2.M, r3, e2), o2 = r3, a2 = e2, c2 = "L";
            break;
          case "h":
            r3 += v2[m2++], i3.addData(h2 = s2.L, r3, e2);
            break;
          case "H":
            r3 = v2[m2++], i3.addData(h2 = s2.L, r3, e2);
            break;
          case "v":
            e2 += v2[m2++], i3.addData(h2 = s2.L, r3, e2);
            break;
          case "V":
            e2 = v2[m2++], i3.addData(h2 = s2.L, r3, e2);
            break;
          case "C":
            i3.addData(h2 = s2.C, v2[m2++], v2[m2++], v2[m2++], v2[m2++], v2[m2++], v2[m2++]), r3 = v2[m2 - 2], e2 = v2[m2 - 1];
            break;
          case "c":
            i3.addData(h2 = s2.C, v2[m2++] + r3, v2[m2++] + e2, v2[m2++] + r3, v2[m2++] + e2, v2[m2++] + r3, v2[m2++] + e2), r3 += v2[m2 - 2], e2 += v2[m2 - 1];
            break;
          case "S":
            b2 = r3, g3 = e2, C3 = i3.len(), A3 = i3.data, n3 === s2.C && (b2 += r3 - A3[C3 - 4], g3 += e2 - A3[C3 - 3]), z2 = v2[m2++], S3 = v2[m2++], r3 = v2[m2++], e2 = v2[m2++], i3.addData(h2 = s2.C, b2, g3, z2, S3, r3, e2);
            break;
          case "s":
            b2 = r3, g3 = e2, C3 = i3.len(), A3 = i3.data, n3 === s2.C && (b2 += r3 - A3[C3 - 4], g3 += e2 - A3[C3 - 3]), z2 = r3 + v2[m2++], S3 = e2 + v2[m2++], r3 += v2[m2++], e2 += v2[m2++], i3.addData(h2 = s2.C, b2, g3, z2, S3, r3, e2);
            break;
          case "Q":
            z2 = v2[m2++], S3 = v2[m2++], r3 = v2[m2++], e2 = v2[m2++], i3.addData(h2 = s2.Q, z2, S3, r3, e2);
            break;
          case "q":
            z2 = v2[m2++] + r3, S3 = v2[m2++] + e2, r3 += v2[m2++], e2 += v2[m2++], i3.addData(h2 = s2.Q, z2, S3, r3, e2);
            break;
          case "T":
            b2 = r3, g3 = e2, C3 = i3.len(), A3 = i3.data, n3 === s2.Q && (b2 += r3 - A3[C3 - 4], g3 += e2 - A3[C3 - 3]), r3 = v2[m2++], e2 = v2[m2++], i3.addData(h2 = s2.Q, b2, g3, r3, e2);
            break;
          case "t":
            b2 = r3, g3 = e2, C3 = i3.len(), A3 = i3.data, n3 === s2.Q && (b2 += r3 - A3[C3 - 4], g3 += e2 - A3[C3 - 3]), r3 += v2[m2++], e2 += v2[m2++], i3.addData(h2 = s2.Q, b2, g3, r3, e2);
            break;
          case "A":
            y2 = v2[m2++], w3 = v2[m2++], x2 = v2[m2++], k2 = v2[m2++], M2 = v2[m2++], xc(z2 = r3, S3 = e2, r3 = v2[m2++], e2 = v2[m2++], k2, M2, y2, w3, x2, h2 = s2.A, i3);
            break;
          case "a":
            y2 = v2[m2++], w3 = v2[m2++], x2 = v2[m2++], k2 = v2[m2++], M2 = v2[m2++], xc(z2 = r3, S3 = e2, r3 += v2[m2++], e2 += v2[m2++], k2, M2, y2, w3, x2, h2 = s2.A, i3);
        }
      }
      "z" !== c2 && "Z" !== c2 || (i3.addData(h2 = s2.Z), r3 = o2, e2 = a2), n3 = h2;
    }
    return i3.toStatic(), i3;
  })(t5), r2 = bn({}, i2);
  return r2.buildPath = function(t6) {
    var i3;
    Sc(t6) ? (t6.setData(n2.data), (i3 = t6.getContext()) && t6.rebuildPath(i3, 1)) : n2.rebuildPath(i3 = t6, 1);
  }, r2.applyTransform = function(t6) {
    vc(n2, t6), this.dirtyShape();
  }, r2;
}
function Ac(t5, i2) {
  return new zc(Cc(t5, i2));
}
function Nc(t5, i2) {
  i2 = i2 || {};
  var n2 = new Fu();
  return t5.shape && n2.setShape(t5.shape), n2.setStyle(t5.style), i2.bakeTransform ? vc(n2.path, t5.getComputedTransform()) : i2.toLocal ? n2.setLocalTransform(t5.getComputedTransform()) : n2.copyTransform(t5), n2.buildPath = t5.buildPath, n2.applyTransform = n2.applyTransform, n2.z = t5.z, n2.z2 = t5.z2, n2.zlevel = t5.zlevel, n2;
}
var _c = function() {
  this.cx = 0, this.cy = 0, this.r = 0;
}, Tc = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new _c();
  }, i2.prototype.buildPath = function(t6, i3) {
    t6.moveTo(i3.cx + i3.r, i3.cy), t6.arc(i3.cx, i3.cy, i3.r, 0, 2 * Math.PI);
  }, i2;
})(Fu);
Tc.prototype.type = "circle";
var Ic = function() {
  this.cx = 0, this.cy = 0, this.rx = 0, this.ry = 0;
}, Lc = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new Ic();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = 0.5522848, r2 = i3.cx, e2 = i3.cy, o2 = i3.rx, a2 = i3.ry, s2 = o2 * n2, l2 = a2 * n2;
    t6.moveTo(r2 - o2, e2), t6.bezierCurveTo(r2 - o2, e2 - l2, r2 - s2, e2 - a2, r2, e2 - a2), t6.bezierCurveTo(r2 + s2, e2 - a2, r2 + o2, e2 - l2, r2 + o2, e2), t6.bezierCurveTo(r2 + o2, e2 + l2, r2 + s2, e2 + a2, r2, e2 + a2), t6.bezierCurveTo(r2 - s2, e2 + a2, r2 - o2, e2 + l2, r2 - o2, e2), t6.closePath();
  }, i2;
})(Fu);
Lc.prototype.type = "ellipse";
var Dc = Math.PI, Wc = 2 * Dc, Ec = Math.sin, Oc = Math.cos, Fc = Math.acos, Rc = Math.atan2, Pc = Math.abs, Bc = Math.sqrt, Vc = Math.max, jc = Math.min, Hc = 1e-4;
function Yc(t5, i2, n2, r2, e2, o2, a2) {
  var s2 = t5 - n2, l2 = i2 - r2, u2 = (a2 ? o2 : -o2) / Bc(s2 * s2 + l2 * l2), f2 = u2 * l2, c2 = -u2 * s2, h2 = t5 + f2, v2 = i2 + c2, d2 = n2 + f2, p2 = r2 + c2, m2 = (h2 + d2) / 2, b2 = (v2 + p2) / 2, g3 = d2 - h2, y2 = p2 - v2, w3 = g3 * g3 + y2 * y2, x2 = e2 - o2, k2 = h2 * p2 - d2 * v2, M2 = (y2 < 0 ? -1 : 1) * Bc(Vc(0, x2 * x2 * w3 - k2 * k2)), z2 = (k2 * y2 - g3 * M2) / w3, S3 = (-k2 * g3 - y2 * M2) / w3, C3 = (k2 * y2 + g3 * M2) / w3, A3 = (-k2 * g3 + y2 * M2) / w3, N2 = z2 - m2, _2 = S3 - b2, T4 = C3 - m2, I2 = A3 - b2;
  return N2 * N2 + _2 * _2 > T4 * T4 + I2 * I2 && (z2 = C3, S3 = A3), { cx: z2, cy: S3, x0: -f2, y0: -c2, x1: z2 * (e2 / x2 - 1), y1: S3 * (e2 / x2 - 1) };
}
var Xc = function() {
  this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = 2 * Math.PI, this.clockwise = true, this.cornerRadius = 0;
}, Uc = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new Xc();
  }, i2.prototype.buildPath = function(t6, i3) {
    !(function(t7, i4) {
      var n2, r2 = Vc(i4.r, 0), e2 = Vc(i4.r0 || 0, 0), o2 = r2 > 0;
      if (o2 || e2 > 0) {
        if (o2 || (r2 = e2, e2 = 0), e2 > r2) {
          var a2 = r2;
          r2 = e2, e2 = a2;
        }
        var s2 = i4.startAngle, l2 = i4.endAngle;
        if (!isNaN(s2) && !isNaN(l2)) {
          var u2 = i4.cx, f2 = i4.cy, c2 = !!i4.clockwise, h2 = Pc(l2 - s2), v2 = h2 > Wc && h2 % Wc;
          if (v2 > Hc && (h2 = v2), r2 > Hc) if (h2 > Wc - Hc) t7.moveTo(u2 + r2 * Oc(s2), f2 + r2 * Ec(s2)), t7.arc(u2, f2, r2, s2, l2, !c2), e2 > Hc && (t7.moveTo(u2 + e2 * Oc(l2), f2 + e2 * Ec(l2)), t7.arc(u2, f2, e2, l2, s2, c2));
          else {
            var d2 = void 0, p2 = void 0, m2 = void 0, b2 = void 0, g3 = void 0, y2 = void 0, w3 = void 0, x2 = void 0, k2 = void 0, M2 = void 0, z2 = void 0, S3 = void 0, C3 = void 0, A3 = void 0, N2 = void 0, _2 = void 0, T4 = r2 * Oc(s2), I2 = r2 * Ec(s2), L2 = e2 * Oc(l2), D2 = e2 * Ec(l2), W3 = h2 > Hc;
            if (W3) {
              var E3 = i4.cornerRadius;
              E3 && (n2 = (function(t8) {
                var i5;
                if (_n(t8)) {
                  var n3 = t8.length;
                  if (!n3) return t8;
                  i5 = 1 === n3 ? [t8[0], t8[0], 0, 0] : 2 === n3 ? [t8[0], t8[0], t8[1], t8[1]] : 3 === n3 ? t8.concat(t8[2]) : t8;
                } else i5 = [t8, t8, t8, t8];
                return i5;
              })(E3), d2 = n2[0], p2 = n2[1], m2 = n2[2], b2 = n2[3]);
              var O3 = Pc(r2 - e2) / 2;
              if (g3 = jc(O3, m2), y2 = jc(O3, b2), w3 = jc(O3, d2), x2 = jc(O3, p2), z2 = k2 = Vc(g3, y2), S3 = M2 = Vc(w3, x2), (k2 > Hc || M2 > Hc) && (C3 = r2 * Oc(l2), A3 = r2 * Ec(l2), N2 = e2 * Oc(s2), _2 = e2 * Ec(s2), h2 < Dc)) {
                var F3 = (function(t8, i5, n3, r3, e3, o3, a3, s3) {
                  var l3 = n3 - t8, u3 = r3 - i5, f3 = a3 - e3, c3 = s3 - o3, h3 = c3 * l3 - f3 * u3;
                  if (!(h3 * h3 < Hc)) return [t8 + (h3 = (f3 * (i5 - o3) - c3 * (t8 - e3)) / h3) * l3, i5 + h3 * u3];
                })(T4, I2, N2, _2, C3, A3, L2, D2);
                if (F3) {
                  var R2 = T4 - F3[0], P2 = I2 - F3[1], B3 = C3 - F3[0], V2 = A3 - F3[1], j2 = 1 / Ec(Fc((R2 * B3 + P2 * V2) / (Bc(R2 * R2 + P2 * P2) * Bc(B3 * B3 + V2 * V2))) / 2), H2 = Bc(F3[0] * F3[0] + F3[1] * F3[1]);
                  z2 = jc(k2, (r2 - H2) / (j2 + 1)), S3 = jc(M2, (e2 - H2) / (j2 - 1));
                }
              }
            }
            if (W3) if (z2 > Hc) {
              var Y2 = jc(m2, z2), X2 = jc(b2, z2), U2 = Yc(N2, _2, T4, I2, r2, Y2, c2), $3 = Yc(C3, A3, L2, D2, r2, X2, c2);
              t7.moveTo(u2 + U2.cx + U2.x0, f2 + U2.cy + U2.y0), z2 < k2 && Y2 === X2 ? t7.arc(u2 + U2.cx, f2 + U2.cy, z2, Rc(U2.y0, U2.x0), Rc($3.y0, $3.x0), !c2) : (Y2 > 0 && t7.arc(u2 + U2.cx, f2 + U2.cy, Y2, Rc(U2.y0, U2.x0), Rc(U2.y1, U2.x1), !c2), t7.arc(u2, f2, r2, Rc(U2.cy + U2.y1, U2.cx + U2.x1), Rc($3.cy + $3.y1, $3.cx + $3.x1), !c2), X2 > 0 && t7.arc(u2 + $3.cx, f2 + $3.cy, X2, Rc($3.y1, $3.x1), Rc($3.y0, $3.x0), !c2));
            } else t7.moveTo(u2 + T4, f2 + I2), t7.arc(u2, f2, r2, s2, l2, !c2);
            else t7.moveTo(u2 + T4, f2 + I2);
            e2 > Hc && W3 ? S3 > Hc ? (Y2 = jc(d2, S3), U2 = Yc(L2, D2, C3, A3, e2, -(X2 = jc(p2, S3)), c2), $3 = Yc(T4, I2, N2, _2, e2, -Y2, c2), t7.lineTo(u2 + U2.cx + U2.x0, f2 + U2.cy + U2.y0), S3 < M2 && Y2 === X2 ? t7.arc(u2 + U2.cx, f2 + U2.cy, S3, Rc(U2.y0, U2.x0), Rc($3.y0, $3.x0), !c2) : (X2 > 0 && t7.arc(u2 + U2.cx, f2 + U2.cy, X2, Rc(U2.y0, U2.x0), Rc(U2.y1, U2.x1), !c2), t7.arc(u2, f2, e2, Rc(U2.cy + U2.y1, U2.cx + U2.x1), Rc($3.cy + $3.y1, $3.cx + $3.x1), c2), Y2 > 0 && t7.arc(u2 + $3.cx, f2 + $3.cy, Y2, Rc($3.y1, $3.x1), Rc($3.y0, $3.x0), !c2))) : (t7.lineTo(u2 + L2, f2 + D2), t7.arc(u2, f2, e2, l2, s2, c2)) : t7.lineTo(u2 + L2, f2 + D2);
          }
          else t7.moveTo(u2, f2);
          t7.closePath();
        }
      }
    })(t6, i3);
  }, i2.prototype.isZeroArea = function() {
    return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0;
  }, i2;
})(Fu);
Uc.prototype.type = "sector";
var $c = function() {
  this.cx = 0, this.cy = 0, this.r = 0, this.r0 = 0;
}, Gc = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new $c();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = i3.cx, r2 = i3.cy, e2 = 2 * Math.PI;
    t6.moveTo(n2 + i3.r, r2), t6.arc(n2, r2, i3.r, 0, e2, false), t6.moveTo(n2 + i3.r0, r2), t6.arc(n2, r2, i3.r0, 0, e2, true);
  }, i2;
})(Fu);
function Zc(t5, i2, n2) {
  var r2 = i2.smooth, e2 = i2.points;
  if (e2 && e2.length >= 2) {
    if (r2) {
      var o2 = (function(t6, i3, n3, r3) {
        var e3, o3, a3, s3, l3 = [], u3 = [], f3 = [], c3 = [];
        if (r3) {
          a3 = [1 / 0, 1 / 0], s3 = [-1 / 0, -1 / 0];
          for (var h2 = 0, v2 = t6.length; h2 < v2; h2++) xr(a3, a3, t6[h2]), kr(s3, s3, t6[h2]);
          xr(a3, a3, r3[0]), kr(s3, s3, r3[1]);
        }
        for (h2 = 0, v2 = t6.length; h2 < v2; h2++) {
          var d2 = t6[h2];
          if (n3) e3 = t6[h2 ? h2 - 1 : v2 - 1], o3 = t6[(h2 + 1) % v2];
          else {
            if (0 === h2 || h2 === v2 - 1) {
              l3.push(lr(t6[h2]));
              continue;
            }
            e3 = t6[h2 - 1], o3 = t6[h2 + 1];
          }
          hr(u3, o3, e3), dr(u3, u3, i3);
          var p2 = mr(d2, e3), m2 = mr(d2, o3), b2 = p2 + m2;
          0 !== b2 && (p2 /= b2, m2 /= b2), dr(f3, u3, -p2), dr(c3, u3, m2);
          var g3 = fr([], d2, f3), y2 = fr([], d2, c3);
          r3 && (kr(g3, g3, a3), xr(g3, g3, s3), kr(y2, y2, a3), xr(y2, y2, s3)), l3.push(g3), l3.push(y2);
        }
        return n3 && l3.push(l3.shift()), l3;
      })(e2, r2, n2, i2.smoothConstraint);
      t5.moveTo(e2[0][0], e2[0][1]);
      for (var a2 = e2.length, s2 = 0; s2 < (n2 ? a2 : a2 - 1); s2++) {
        var l2 = o2[2 * s2], u2 = o2[2 * s2 + 1], f2 = e2[(s2 + 1) % a2];
        t5.bezierCurveTo(l2[0], l2[1], u2[0], u2[1], f2[0], f2[1]);
      }
    } else {
      t5.moveTo(e2[0][0], e2[0][1]), s2 = 1;
      for (var c2 = e2.length; s2 < c2; s2++) t5.lineTo(e2[s2][0], e2[s2][1]);
    }
    n2 && t5.closePath();
  }
}
Gc.prototype.type = "ring";
var qc = function() {
  this.points = null, this.smooth = 0, this.smoothConstraint = null;
}, Jc = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new qc();
  }, i2.prototype.buildPath = function(t6, i3) {
    Zc(t6, i3, true);
  }, i2;
})(Fu);
Jc.prototype.type = "polygon";
var Kc = function() {
  this.points = null, this.percent = 1, this.smooth = 0, this.smoothConstraint = null;
}, Qc = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultStyle = function() {
    return { stroke: "#000", fill: null };
  }, i2.prototype.getDefaultShape = function() {
    return new Kc();
  }, i2.prototype.buildPath = function(t6, i3) {
    Zc(t6, i3, false);
  }, i2;
})(Fu);
Qc.prototype.type = "polyline";
var th = {}, ih = function() {
  this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1;
}, nh = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultStyle = function() {
    return { stroke: "#000", fill: null };
  }, i2.prototype.getDefaultShape = function() {
    return new ih();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2, r2, e2, o2;
    if (this.subPixelOptimize) {
      var a2 = Yu(th, i3, this.style);
      n2 = a2.x1, r2 = a2.y1, e2 = a2.x2, o2 = a2.y2;
    } else n2 = i3.x1, r2 = i3.y1, e2 = i3.x2, o2 = i3.y2;
    var s2 = i3.percent;
    0 !== s2 && (t6.moveTo(n2, r2), s2 < 1 && (e2 = n2 * (1 - s2) + e2 * s2, o2 = r2 * (1 - s2) + o2 * s2), t6.lineTo(e2, o2));
  }, i2.prototype.pointAt = function(t6) {
    var i3 = this.shape;
    return [i3.x1 * (1 - t6) + i3.x2 * t6, i3.y1 * (1 - t6) + i3.y2 * t6];
  }, i2;
})(Fu);
nh.prototype.type = "line";
var rh = [], eh = function() {
  this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.percent = 1;
};
function oh(t5, i2, n2) {
  return null != t5.cpx2 || null != t5.cpy2 ? [(n2 ? Ye : He)(t5.x1, t5.cpx1, t5.cpx2, t5.x2, i2), (n2 ? Ye : He)(t5.y1, t5.cpy1, t5.cpy2, t5.y2, i2)] : [(n2 ? Je : qe)(t5.x1, t5.cpx1, t5.x2, i2), (n2 ? Je : qe)(t5.y1, t5.cpy1, t5.y2, i2)];
}
var ah = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultStyle = function() {
    return { stroke: "#000", fill: null };
  }, i2.prototype.getDefaultShape = function() {
    return new eh();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = i3.x1, r2 = i3.y1, e2 = i3.x2, o2 = i3.y2, a2 = i3.cpx1, s2 = i3.cpy1, l2 = i3.cpx2, u2 = i3.cpy2, f2 = i3.percent;
    0 !== f2 && (t6.moveTo(n2, r2), null == l2 || null == u2 ? (f2 < 1 && (Qe(n2, a2, e2, f2, rh), a2 = rh[1], e2 = rh[2], Qe(r2, s2, o2, f2, rh), s2 = rh[1], o2 = rh[2]), t6.quadraticCurveTo(a2, s2, e2, o2)) : (f2 < 1 && ($e(n2, a2, l2, e2, f2, rh), a2 = rh[1], l2 = rh[2], e2 = rh[3], $e(r2, s2, u2, o2, f2, rh), s2 = rh[1], u2 = rh[2], o2 = rh[3]), t6.bezierCurveTo(a2, s2, l2, u2, e2, o2)));
  }, i2.prototype.pointAt = function(t6) {
    return oh(this.shape, t6, false);
  }, i2.prototype.tangentAt = function(t6) {
    var i3 = oh(this.shape, t6, true);
    return pr(i3, i3);
  }, i2;
})(Fu);
ah.prototype.type = "bezier-curve";
var sh = function() {
  this.cx = 0, this.cy = 0, this.r = 0, this.startAngle = 0, this.endAngle = 2 * Math.PI, this.clockwise = true;
}, lh = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultStyle = function() {
    return { stroke: "#000", fill: null };
  }, i2.prototype.getDefaultShape = function() {
    return new sh();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = i3.cx, r2 = i3.cy, e2 = Math.max(i3.r, 0), o2 = i3.startAngle, a2 = i3.endAngle, s2 = i3.clockwise, l2 = Math.cos(o2), u2 = Math.sin(o2);
    t6.moveTo(l2 * e2 + n2, u2 * e2 + r2), t6.arc(n2, r2, e2, o2, a2, !s2);
  }, i2;
})(Fu);
lh.prototype.type = "arc";
var uh = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.type = "compound", i3;
  }
  return Yi(i2, t5), i2.prototype._updatePathDirty = function() {
    for (var t6 = this.shape.paths, i3 = this.shapeChanged(), n2 = 0; n2 < t6.length; n2++) i3 = i3 || t6[n2].shapeChanged();
    i3 && this.dirtyShape();
  }, i2.prototype.beforeBrush = function() {
    this._updatePathDirty();
    for (var t6 = this.shape.paths || [], i3 = this.getGlobalScale(), n2 = 0; n2 < t6.length; n2++) t6[n2].path || t6[n2].createPathProxy(), t6[n2].path.setScale(i3[0], i3[1], t6[n2].segmentIgnoreThreshold);
  }, i2.prototype.buildPath = function(t6, i3) {
    for (var n2 = i3.paths || [], r2 = 0; r2 < n2.length; r2++) n2[r2].buildPath(t6, n2[r2].shape, true);
  }, i2.prototype.afterBrush = function() {
    for (var t6 = this.shape.paths || [], i3 = 0; i3 < t6.length; i3++) t6[i3].pathUpdated();
  }, i2.prototype.getBoundingRect = function() {
    return this._updatePathDirty.call(this), Fu.prototype.getBoundingRect.call(this);
  }, i2;
})(Fu), fh = (function() {
  function t5(t6) {
    this.colorStops = t6 || [];
  }
  return t5.prototype.addColorStop = function(t6, i2) {
    this.colorStops.push({ offset: t6, color: i2 });
  }, t5;
})(), ch = (function(t5) {
  function i2(i3, n2, r2, e2, o2, a2) {
    var s2 = t5.call(this, o2) || this;
    return s2.x = null == i3 ? 0 : i3, s2.y = null == n2 ? 0 : n2, s2.x2 = null == r2 ? 1 : r2, s2.y2 = null == e2 ? 0 : e2, s2.type = "linear", s2.global = a2 || false, s2;
  }
  return Yi(i2, t5), i2;
})(fh), hh = (function(t5) {
  function i2(i3, n2, r2, e2, o2) {
    var a2 = t5.call(this, e2) || this;
    return a2.x = null == i3 ? 0.5 : i3, a2.y = null == n2 ? 0.5 : n2, a2.r = null == r2 ? 0.5 : r2, a2.type = "radial", a2.global = o2 || false, a2;
  }
  return Yi(i2, t5), i2;
})(fh), vh = [0, 0], dh = [0, 0], ph = new ne(), mh = new ne(), bh = (function() {
  function t5(t6, i2) {
    this._corners = [], this._axes = [], this._origin = [0, 0];
    for (var n2 = 0; n2 < 4; n2++) this._corners[n2] = new ne();
    for (n2 = 0; n2 < 2; n2++) this._axes[n2] = new ne();
    t6 && this.fromBoundingRect(t6, i2);
  }
  return t5.prototype.fromBoundingRect = function(t6, i2) {
    var n2 = this._corners, r2 = this._axes, e2 = t6.x, o2 = t6.y, a2 = e2 + t6.width, s2 = o2 + t6.height;
    if (n2[0].set(e2, o2), n2[1].set(a2, o2), n2[2].set(a2, s2), n2[3].set(e2, s2), i2) for (var l2 = 0; l2 < 4; l2++) n2[l2].transform(i2);
    for (ne.sub(r2[0], n2[1], n2[0]), ne.sub(r2[1], n2[3], n2[0]), r2[0].normalize(), r2[1].normalize(), l2 = 0; l2 < 2; l2++) this._origin[l2] = r2[l2].dot(n2[0]);
  }, t5.prototype.intersect = function(t6, i2) {
    var n2 = true, r2 = !i2;
    return ph.set(1 / 0, 1 / 0), mh.set(0, 0), !this._intersectCheckOneSide(this, t6, ph, mh, r2, 1) && (n2 = false, r2) || !this._intersectCheckOneSide(t6, this, ph, mh, r2, -1) && (n2 = false, r2) || r2 || ne.copy(i2, n2 ? ph : mh), n2;
  }, t5.prototype._intersectCheckOneSide = function(t6, i2, n2, r2, e2, o2) {
    for (var a2 = true, s2 = 0; s2 < 2; s2++) {
      var l2 = this._axes[s2];
      if (this._getProjMinMaxOnAxis(s2, t6._corners, vh), this._getProjMinMaxOnAxis(s2, i2._corners, dh), vh[1] < dh[0] || vh[0] > dh[1]) {
        if (a2 = false, e2) return a2;
        var u2 = Math.abs(dh[0] - vh[1]), f2 = Math.abs(vh[0] - dh[1]);
        Math.min(u2, f2) > r2.len() && ne.scale(r2, l2, u2 < f2 ? -u2 * o2 : f2 * o2);
      } else n2 && (u2 = Math.abs(dh[0] - vh[1]), f2 = Math.abs(vh[0] - dh[1]), Math.min(u2, f2) < n2.len() && ne.scale(n2, l2, u2 < f2 ? u2 * o2 : -f2 * o2));
    }
    return a2;
  }, t5.prototype._getProjMinMaxOnAxis = function(t6, i2, n2) {
    for (var r2 = this._axes[t6], e2 = this._origin, o2 = i2[0].dot(r2) + e2[t6], a2 = o2, s2 = o2, l2 = 1; l2 < i2.length; l2++) {
      var u2 = i2[l2].dot(r2) + e2[t6];
      a2 = Math.min(u2, a2), s2 = Math.max(u2, s2);
    }
    n2[0] = a2, n2[1] = s2;
  }, t5;
})(), gh = [], yh = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.notClear = true, i3.incremental = true, i3._displayables = [], i3._temporaryDisplayables = [], i3._cursor = 0, i3;
  }
  return Yi(i2, t5), i2.prototype.traverse = function(t6, i3) {
    t6.call(i3, this);
  }, i2.prototype.useStyle = function() {
    this.style = {};
  }, i2.prototype.getCursor = function() {
    return this._cursor;
  }, i2.prototype.innerAfterBrush = function() {
    this._cursor = this._displayables.length;
  }, i2.prototype.clearDisplaybles = function() {
    this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.markRedraw(), this.notClear = false;
  }, i2.prototype.clearTemporalDisplayables = function() {
    this._temporaryDisplayables = [];
  }, i2.prototype.addDisplayable = function(t6, i3) {
    i3 ? this._temporaryDisplayables.push(t6) : this._displayables.push(t6), this.markRedraw();
  }, i2.prototype.addDisplayables = function(t6, i3) {
    i3 = i3 || false;
    for (var n2 = 0; n2 < t6.length; n2++) this.addDisplayable(t6[n2], i3);
  }, i2.prototype.getDisplayables = function() {
    return this._displayables;
  }, i2.prototype.getTemporalDisplayables = function() {
    return this._temporaryDisplayables;
  }, i2.prototype.eachPendingDisplayable = function(t6) {
    for (var i3 = this._cursor; i3 < this._displayables.length; i3++) t6 && t6(this._displayables[i3]);
    for (i3 = 0; i3 < this._temporaryDisplayables.length; i3++) t6 && t6(this._temporaryDisplayables[i3]);
  }, i2.prototype.update = function() {
    this.updateTransform();
    for (var t6 = this._cursor; t6 < this._displayables.length; t6++) (i3 = this._displayables[t6]).parent = this, i3.update(), i3.parent = null;
    for (t6 = 0; t6 < this._temporaryDisplayables.length; t6++) {
      var i3;
      (i3 = this._temporaryDisplayables[t6]).parent = this, i3.update(), i3.parent = null;
    }
  }, i2.prototype.getBoundingRect = function() {
    if (!this._rect) {
      for (var t6 = new ce(1 / 0, 1 / 0, -1 / 0, -1 / 0), i3 = 0; i3 < this._displayables.length; i3++) {
        var n2 = this._displayables[i3], r2 = n2.getBoundingRect().clone();
        n2.needLocalTransform() && r2.applyTransform(n2.getLocalTransform(gh)), t6.union(r2);
      }
      this._rect = t6;
    }
    return this._rect;
  }, i2.prototype.contain = function(t6, i3) {
    var n2 = this.transformCoordToLocal(t6, i3);
    if (this.getBoundingRect().contain(n2[0], n2[1])) {
      for (var r2 = 0; r2 < this._displayables.length; r2++) if (this._displayables[r2].contain(t6, i3)) return true;
    }
    return false;
  }, i2;
})(El), wh = Xs();
function xh(t5, i2, n2, r2, e2) {
  var o2;
  if (i2 && i2.ecModel) {
    var a2 = i2.ecModel.getUpdatePayload();
    o2 = a2 && a2.animation;
  }
  var s2 = "update" === t5;
  if (i2 && i2.isAnimationEnabled()) {
    var l2 = void 0, u2 = void 0, f2 = void 0;
    return r2 ? (l2 = Vn(r2.duration, 200), u2 = Vn(r2.easing, "cubicOut"), f2 = 0) : (l2 = i2.getShallow(s2 ? "animationDurationUpdate" : "animationDuration"), u2 = i2.getShallow(s2 ? "animationEasingUpdate" : "animationEasing"), f2 = i2.getShallow(s2 ? "animationDelayUpdate" : "animationDelay")), o2 && (null != o2.duration && (l2 = o2.duration), null != o2.easing && (u2 = o2.easing), null != o2.delay && (f2 = o2.delay)), Tn(f2) && (f2 = f2(n2, e2)), Tn(l2) && (l2 = l2(n2)), { duration: l2 || 0, delay: f2, easing: u2 };
  }
  return null;
}
function kh(t5, i2, n2, r2, e2, o2, a2) {
  var s2, l2 = false;
  Tn(e2) ? (a2 = o2, o2 = e2, e2 = null) : Wn(e2) && (o2 = e2.cb, a2 = e2.during, l2 = e2.isFrom, s2 = e2.removeOpt, e2 = e2.dataIndex);
  var u2 = "leave" === t5;
  u2 || i2.stopAnimation("leave");
  var f2 = xh(t5, r2, e2, u2 ? s2 || {} : null, r2 && r2.getAnimationDelayParams ? r2.getAnimationDelayParams(i2, e2) : null);
  if (f2 && f2.duration > 0) {
    var c2 = { duration: f2.duration, delay: f2.delay || 0, easing: f2.easing, done: o2, force: !!o2 || !!a2, setToFinal: !u2, scope: t5, during: a2 };
    l2 ? i2.animateFrom(n2, c2) : i2.animateTo(n2, c2);
  } else i2.stopAnimation(), !l2 && i2.attr(n2), a2 && a2(1), o2 && o2();
}
function Mh(t5, i2, n2, r2, e2, o2) {
  kh("update", t5, i2, n2, r2, e2, o2);
}
function zh(t5, i2, n2, r2, e2, o2) {
  kh("enter", t5, i2, n2, r2, e2, o2);
}
function Sh(t5) {
  if (!t5.__zr) return true;
  for (var i2 = 0; i2 < t5.animators.length; i2++) if ("leave" === t5.animators[i2].scope) return true;
  return false;
}
function Ch(t5, i2, n2, r2, e2, o2) {
  Sh(t5) || kh("leave", t5, i2, n2, r2, e2, o2);
}
function Ah(t5, i2, n2, r2) {
  t5.removeTextContent(), t5.removeTextGuideLine(), Ch(t5, { style: { opacity: 0 } }, i2, n2, r2);
}
function Nh(t5, i2, n2) {
  function r2() {
    t5.parent && t5.parent.remove(t5);
  }
  t5.isGroup ? t5.traverse((function(t6) {
    t6.isGroup || Ah(t6, i2, n2, r2);
  })) : Ah(t5, i2, n2, r2);
}
function _h(t5) {
  wh(t5).oldStyle = t5.style;
}
var Th = Math.max, Ih = Math.min, Lh = {};
function Dh(t5, i2) {
  Lh[t5] = i2;
}
function Wh(t5) {
  if (Lh.hasOwnProperty(t5)) return Lh[t5];
}
function Eh(t5, i2, n2, r2) {
  var e2 = Ac(t5, i2);
  return n2 && ("center" === r2 && (n2 = Fh(n2, e2.getBoundingRect())), Ph(e2, n2)), e2;
}
function Oh(t5, i2, n2) {
  var r2 = new ju({ style: { image: t5, x: i2.x, y: i2.y, width: i2.width, height: i2.height }, onload: function(t6) {
    "center" === n2 && r2.setStyle(Fh(i2, { width: t6.width, height: t6.height }));
  } });
  return r2;
}
function Fh(t5, i2) {
  var n2, r2 = i2.width / i2.height, e2 = t5.height * r2;
  return n2 = e2 <= t5.width ? t5.height : (e2 = t5.width) / r2, { x: t5.x + t5.width / 2 - e2 / 2, y: t5.y + t5.height / 2 - n2 / 2, width: e2, height: n2 };
}
var Rh = function(t5, i2) {
  for (var n2 = [], r2 = t5.length, e2 = 0; e2 < r2; e2++) n2.push(t5[e2].getUpdatedPathProxy(true));
  var o2 = new Fu(i2);
  return o2.createPathProxy(), o2.buildPath = function(t6) {
    if (Sc(t6)) {
      t6.appendPath(n2);
      var i3 = t6.getContext();
      i3 && t6.rebuildPath(i3, 1);
    }
  }, o2;
};
function Ph(t5, i2) {
  if (t5.applyTransform) {
    var n2 = t5.getBoundingRect().calculateTransform(i2);
    t5.applyTransform(n2);
  }
}
function Bh(t5, i2) {
  return Yu(t5, t5, { lineWidth: i2 }), t5;
}
var Vh = Uu;
function jh(t5, i2) {
  for (var n2 = Zr([]); t5 && t5 !== i2; ) Jr(n2, t5.getLocalTransform(), n2), t5 = t5.parent;
  return n2;
}
function Hh(t5, i2, n2) {
  return i2 && !xn(i2) && (i2 = Ea.getLocalTransform(i2)), n2 && (i2 = ie([], i2)), wr([], t5, i2);
}
function Yh(t5, i2, n2) {
  var r2 = 0 === i2[4] || 0 === i2[5] || 0 === i2[0] ? 1 : Math.abs(2 * i2[4] / i2[0]), e2 = 0 === i2[4] || 0 === i2[5] || 0 === i2[2] ? 1 : Math.abs(2 * i2[4] / i2[2]), o2 = ["left" === t5 ? -r2 : "right" === t5 ? r2 : 0, "top" === t5 ? -e2 : "bottom" === t5 ? e2 : 0];
  return o2 = Hh(o2, i2, n2), Math.abs(o2[0]) > Math.abs(o2[1]) ? o2[0] > 0 ? "right" : "left" : o2[1] > 0 ? "bottom" : "top";
}
function Xh(t5) {
  return !t5.isGroup;
}
function Uh(t5, i2, n2) {
  if (t5 && i2) {
    var r2, e2 = (r2 = {}, t5.traverse((function(t6) {
      Xh(t6) && t6.anid && (r2[t6.anid] = t6);
    })), r2);
    i2.traverse((function(t6) {
      if (Xh(t6) && t6.anid) {
        var i3 = e2[t6.anid];
        if (i3) {
          var r3 = o2(t6);
          t6.attr(o2(i3)), Mh(t6, r3, n2, hf(t6).dataIndex);
        }
      }
    }));
  }
  function o2(t6) {
    var i3 = { x: t6.x, y: t6.y, rotation: t6.rotation };
    return (function(t7) {
      return null != t7.shape;
    })(t6) && (i3.shape = bn({}, t6.shape)), i3;
  }
}
function $h(t5, i2) {
  return Mn(t5, (function(t6) {
    var n2 = t6[0];
    n2 = Th(n2, i2.x), n2 = Ih(n2, i2.x + i2.width);
    var r2 = t6[1];
    return r2 = Th(r2, i2.y), [n2, r2 = Ih(r2, i2.y + i2.height)];
  }));
}
function Gh(t5, i2, n2) {
  var r2 = bn({ rectHover: true }, i2), e2 = r2.style = { strokeNoScale: true };
  if (n2 = n2 || { x: -1, y: -1, width: 2, height: 2 }, t5) return 0 === t5.indexOf("image://") ? (e2.image = t5.slice(8), gn(e2, n2), new ju(r2)) : Eh(t5.replace("path://", ""), r2, n2, "center");
}
function Zh(t5, i2, n2, r2, e2) {
  for (var o2 = 0, a2 = e2[e2.length - 1]; o2 < e2.length; o2++) {
    var s2 = e2[o2];
    if (qh(t5, i2, n2, r2, s2[0], s2[1], a2[0], a2[1])) return true;
    a2 = s2;
  }
}
function qh(t5, i2, n2, r2, e2, o2, a2, s2) {
  var l2, u2 = n2 - t5, f2 = r2 - i2, c2 = a2 - e2, h2 = s2 - o2, v2 = Jh(c2, h2, u2, f2);
  if ((l2 = v2) <= 1e-6 && l2 >= -1e-6) return false;
  var d2 = t5 - e2, p2 = i2 - o2, m2 = Jh(d2, p2, u2, f2) / v2;
  if (m2 < 0 || m2 > 1) return false;
  var b2 = Jh(d2, p2, c2, h2) / v2;
  return !(b2 < 0 || b2 > 1);
}
function Jh(t5, i2, n2, r2) {
  return t5 * r2 - n2 * i2;
}
function Kh(t5) {
  var i2 = t5.itemTooltipOption, n2 = t5.componentModel, r2 = t5.itemName, e2 = In(i2) ? { formatter: i2 } : i2, o2 = n2.mainType, a2 = n2.componentIndex, s2 = { componentType: o2, name: r2, $vars: ["name"] };
  s2[o2 + "Index"] = a2;
  var l2 = t5.formatterParamsExtra;
  l2 && kn(Cn(l2), (function(t6) {
    rr(s2, t6) || (s2[t6] = l2[t6], s2.$vars.push(t6));
  }));
  var u2 = hf(t5.el);
  u2.componentMainType = o2, u2.componentIndex = a2, u2.tooltipConfig = { name: r2, option: gn({ content: r2, encodeHTMLContent: true, formatterParams: s2 }, e2) };
}
function Qh(t5, i2) {
  var n2;
  t5.isGroup && (n2 = i2(t5)), n2 || t5.traverse(i2);
}
function tv(t5, i2) {
  if (t5) if (_n(t5)) for (var n2 = 0; n2 < t5.length; n2++) Qh(t5[n2], i2);
  else Qh(t5, i2);
}
Dh("circle", Tc), Dh("ellipse", Lc), Dh("sector", Uc), Dh("ring", Gc), Dh("polygon", Jc), Dh("polyline", Qc), Dh("rect", Zu), Dh("line", nh), Dh("bezierCurve", ah), Dh("arc", lh);
var iv = Object.freeze({ __proto__: null, Arc: lh, BezierCurve: ah, BoundingRect: ce, Circle: Tc, CompoundPath: uh, Ellipse: Lc, Group: rs, Image: ju, IncrementalDisplayable: yh, Line: nh, LinearGradient: ch, OrientedBoundingRect: bh, Path: Fu, Point: ne, Polygon: Jc, Polyline: Qc, RadialGradient: hh, Rect: Zu, Ring: Gc, Sector: Uc, Text: Ku, applyTransform: Hh, clipPointsByRect: $h, clipRectByRect: function(t5, i2) {
  var n2 = Th(t5.x, i2.x), r2 = Ih(t5.x + t5.width, i2.x + i2.width), e2 = Th(t5.y, i2.y), o2 = Ih(t5.y + t5.height, i2.y + i2.height);
  if (r2 >= n2 && o2 >= e2) return { x: n2, y: e2, width: r2 - n2, height: o2 - e2 };
}, createIcon: Gh, extendPath: function(t5, i2) {
  return n2 = Cc(t5, i2), (function(t6) {
    function i3(i4) {
      var r2 = t6.call(this, i4) || this;
      return r2.applyTransform = n2.applyTransform, r2.buildPath = n2.buildPath, r2;
    }
    return Yi(i3, t6), i3;
  })(zc);
  var n2;
}, extendShape: function(t5) {
  return Fu.extend(t5);
}, getShapeClass: Wh, getTransform: jh, groupTransition: Uh, initProps: zh, isElementRemoved: Sh, lineLineIntersect: qh, linePolygonIntersect: Zh, makeImage: Oh, makePath: Eh, mergePath: Rh, registerShape: Dh, removeElement: Ch, removeElementWithFadeOut: Nh, resizePath: Ph, setTooltipConfig: Kh, subPixelOptimize: Vh, subPixelOptimizeLine: Bh, subPixelOptimizeRect: function(t5) {
  return Xu(t5.shape, t5.shape, t5.style), t5;
}, transformDirection: Yh, traverseElements: tv, updateProps: Mh }), nv = {};
function rv(t5, i2) {
  for (var n2 = 0; n2 < gf.length; n2++) {
    var r2 = gf[n2], e2 = i2[r2], o2 = t5.ensureState(r2);
    o2.style = o2.style || {}, o2.style.text = e2;
  }
  var a2 = t5.currentStates.slice();
  t5.clearStates(true), t5.setStyle({ text: i2.normal }), t5.useStates(a2, true);
}
function ev(t5, i2, n2) {
  var r2, e2 = t5.labelFetcher, o2 = t5.labelDataIndex, a2 = t5.labelDimIndex, s2 = i2.normal;
  e2 && (r2 = e2.getFormattedLabel(o2, "normal", null, a2, s2 && s2.get("formatter"), null != n2 ? { interpolatedValue: n2 } : null)), null == r2 && (r2 = Tn(t5.defaultText) ? t5.defaultText(o2, t5, n2) : t5.defaultText);
  for (var l2 = { normal: r2 }, u2 = 0; u2 < gf.length; u2++) {
    var f2 = gf[u2], c2 = i2[f2];
    l2[f2] = Vn(e2 ? e2.getFormattedLabel(o2, f2, null, a2, c2 && c2.get("formatter")) : null, r2);
  }
  return l2;
}
function ov(t5, i2, n2, r2) {
  n2 = n2 || nv;
  for (var e2 = t5 instanceof Ku, o2 = false, a2 = 0; a2 < yf.length; a2++) if ((h2 = i2[yf[a2]]) && h2.getShallow("show")) {
    o2 = true;
    break;
  }
  var s2 = e2 ? t5 : t5.getTextContent();
  if (o2) {
    e2 || (s2 || (s2 = new Ku(), t5.setTextContent(s2)), t5.stateProxy && (s2.stateProxy = t5.stateProxy));
    var l2 = ev(n2, i2), u2 = i2.normal, f2 = !!u2.getShallow("show"), c2 = sv(u2, r2 && r2.normal, n2, false, !e2);
    for (c2.text = l2.normal, e2 || t5.setTextConfig(lv(u2, n2, false)), a2 = 0; a2 < gf.length; a2++) {
      var h2, v2 = gf[a2];
      if (h2 = i2[v2]) {
        var d2 = s2.ensureState(v2), p2 = !!Vn(h2.getShallow("show"), f2);
        p2 !== f2 && (d2.ignore = !p2), d2.style = sv(h2, r2 && r2[v2], n2, true, !e2), d2.style.text = l2[v2], e2 || (t5.ensureState(v2).textConfig = lv(h2, n2, true));
      }
    }
    s2.silent = !!u2.getShallow("silent"), null != s2.style.x && (c2.x = s2.style.x), null != s2.style.y && (c2.y = s2.style.y), s2.ignore = !f2, s2.useStyle(c2), s2.dirty(), n2.enableTextSetter && (dv(s2).setLabelText = function(t6) {
      var r3 = ev(n2, i2, t6);
      rv(s2, r3);
    });
  } else s2 && (s2.ignore = true);
  t5.dirty();
}
function av(t5, i2) {
  for (var n2 = { normal: t5.getModel(i2 = i2 || "label") }, r2 = 0; r2 < gf.length; r2++) {
    var e2 = gf[r2];
    n2[e2] = t5.getModel([e2, i2]);
  }
  return n2;
}
function sv(t5, i2, n2, r2, e2) {
  var o2 = {};
  return (function(t6, i3, n3, r3, e3) {
    n3 = n3 || nv;
    var o3, a2 = i3.ecModel, s2 = a2 && a2.option.textStyle, l2 = (function(t7) {
      for (var i4; t7 && t7 !== t7.ecModel; ) {
        var n4 = (t7.option || nv).rich;
        if (n4) {
          i4 = i4 || {};
          for (var r4 = Cn(n4), e4 = 0; e4 < r4.length; e4++) i4[r4[e4]] = 1;
        }
        t7 = t7.parentModel;
      }
      return i4;
    })(i3);
    if (l2) {
      for (var u2 in o3 = {}, l2) if (l2.hasOwnProperty(u2)) {
        var f2 = i3.getModel(["rich", u2]);
        hv(o3[u2] = {}, f2, s2, n3, r3, e3, false, true);
      }
    }
    o3 && (t6.rich = o3);
    var c2 = i3.get("overflow");
    c2 && (t6.overflow = c2);
    var h2 = i3.get("minMargin");
    null != h2 && (t6.margin = h2), hv(t6, i3, s2, n3, r3, e3, true, false);
  })(o2, t5, n2, r2, e2), i2 && bn(o2, i2), o2;
}
function lv(t5, i2, n2) {
  i2 = i2 || {};
  var r2, e2 = {}, o2 = t5.getShallow("rotate"), a2 = Vn(t5.getShallow("distance"), n2 ? null : 5), s2 = t5.getShallow("offset");
  return "outside" === (r2 = t5.getShallow("position") || (n2 ? null : "inside")) && (r2 = i2.defaultOutsidePosition || "top"), null != r2 && (e2.position = r2), null != s2 && (e2.offset = s2), null != o2 && (o2 *= Math.PI / 180, e2.rotation = o2), null != a2 && (e2.distance = a2), e2.outsideFill = "inherit" === t5.get("color") ? i2.inheritColor || null : "auto", e2;
}
var uv = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], fv = ["align", "lineHeight", "width", "height", "tag", "verticalAlign", "ellipsis"], cv = ["padding", "borderWidth", "borderRadius", "borderDashOffset", "backgroundColor", "borderColor", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"];
function hv(t5, i2, n2, r2, e2, o2, a2, s2) {
  n2 = !e2 && n2 || nv;
  var l2 = r2 && r2.inheritColor, u2 = i2.getShallow("color"), f2 = i2.getShallow("textBorderColor"), c2 = Vn(i2.getShallow("opacity"), n2.opacity);
  "inherit" !== u2 && "auto" !== u2 || (u2 = l2 || null), "inherit" !== f2 && "auto" !== f2 || (f2 = l2 || null), o2 || (u2 = u2 || n2.color, f2 = f2 || n2.textBorderColor), null != u2 && (t5.fill = u2), null != f2 && (t5.stroke = f2);
  var h2 = Vn(i2.getShallow("textBorderWidth"), n2.textBorderWidth);
  null != h2 && (t5.lineWidth = h2);
  var v2 = Vn(i2.getShallow("textBorderType"), n2.textBorderType);
  null != v2 && (t5.lineDash = v2);
  var d2 = Vn(i2.getShallow("textBorderDashOffset"), n2.textBorderDashOffset);
  null != d2 && (t5.lineDashOffset = d2), e2 || null != c2 || s2 || (c2 = r2 && r2.defaultOpacity), null != c2 && (t5.opacity = c2), e2 || o2 || null == t5.fill && r2.inheritColor && (t5.fill = r2.inheritColor);
  for (var p2 = 0; p2 < uv.length; p2++) null != (g3 = Vn(i2.getShallow(b2 = uv[p2]), n2[b2])) && (t5[b2] = g3);
  for (p2 = 0; p2 < fv.length; p2++) null != (g3 = i2.getShallow(b2 = fv[p2])) && (t5[b2] = g3);
  if (null == t5.verticalAlign) {
    var m2 = i2.getShallow("baseline");
    null != m2 && (t5.verticalAlign = m2);
  }
  if (!a2 || !r2.disableBox) {
    for (p2 = 0; p2 < cv.length; p2++) {
      var b2, g3;
      null != (g3 = i2.getShallow(b2 = cv[p2])) && (t5[b2] = g3);
    }
    var y2 = i2.getShallow("borderType");
    null != y2 && (t5.borderDash = y2), "auto" !== t5.backgroundColor && "inherit" !== t5.backgroundColor || !l2 || (t5.backgroundColor = l2), "auto" !== t5.borderColor && "inherit" !== t5.borderColor || !l2 || (t5.borderColor = l2);
  }
}
function vv(t5, i2) {
  var n2 = i2 && i2.getModel("textStyle");
  return Un([t5.fontStyle || n2 && n2.getShallow("fontStyle") || "", t5.fontWeight || n2 && n2.getShallow("fontWeight") || "", (t5.fontSize || n2 && n2.getShallow("fontSize") || 12) + "px", t5.fontFamily || n2 && n2.getShallow("fontFamily") || "sans-serif"].join(" "));
}
var dv = Xs();
function pv(t5, i2, n2, r2) {
  if (t5) {
    var e2 = dv(t5);
    e2.prevValue = e2.value, e2.value = n2;
    var o2 = i2.normal;
    e2.valueAnimation = o2.get("valueAnimation"), e2.valueAnimation && (e2.precision = o2.get("precision"), e2.defaultInterpolatedText = r2, e2.statesModels = i2);
  }
}
function mv(t5, i2, n2, r2, e2) {
  var o2 = dv(t5);
  if (o2.valueAnimation && o2.prevValue !== o2.value) {
    var a2 = o2.defaultInterpolatedText, s2 = Vn(o2.interpolatedValue, o2.prevValue), l2 = o2.value;
    t5.percent = 0, (null == o2.prevValue ? zh : Mh)(t5, { percent: 1 }, r2, i2, null, (function(r3) {
      var u2 = tl(n2, o2.precision, s2, l2, r3);
      o2.interpolatedValue = 1 === r3 ? null : u2;
      var f2 = ev({ labelDataIndex: i2, labelFetcher: e2, defaultText: a2 ? a2(u2) : u2 + "" }, o2.statesModels, u2);
      rv(t5, f2);
    }));
  }
}
var bv, gv, yv = ["textStyle", "color"], wv = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "padding", "lineHeight", "rich", "width", "height", "overflow"], xv = new Ku(), kv = (function() {
  function t5() {
  }
  return t5.prototype.getTextColor = function(t6) {
    var i2 = this.ecModel;
    return this.getShallow("color") || (!t6 && i2 ? i2.get(yv) : null);
  }, t5.prototype.getFont = function() {
    return vv({ fontStyle: this.getShallow("fontStyle"), fontWeight: this.getShallow("fontWeight"), fontSize: this.getShallow("fontSize"), fontFamily: this.getShallow("fontFamily") }, this.ecModel);
  }, t5.prototype.getTextRect = function(t6) {
    for (var i2 = { text: t6, verticalAlign: this.getShallow("verticalAlign") || this.getShallow("baseline") }, n2 = 0; n2 < wv.length; n2++) i2[wv[n2]] = this.getShallow(wv[n2]);
    return xv.useStyle(i2), xv.update(), xv.getBoundingRect();
  }, t5;
})(), Mv = [["lineWidth", "width"], ["stroke", "color"], ["opacity"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["shadowColor"], ["lineDash", "type"], ["lineDashOffset", "dashOffset"], ["lineCap", "cap"], ["lineJoin", "join"], ["miterLimit"]], zv = fl(Mv), Sv = (function() {
  function t5() {
  }
  return t5.prototype.getLineStyle = function(t6) {
    return zv(this, t6);
  }, t5;
})(), Cv = [["fill", "color"], ["stroke", "borderColor"], ["lineWidth", "borderWidth"], ["opacity"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["shadowColor"], ["lineDash", "borderType"], ["lineDashOffset", "borderDashOffset"], ["lineCap", "borderCap"], ["lineJoin", "borderJoin"], ["miterLimit", "borderMiterLimit"]], Av = fl(Cv), Nv = (function() {
  function t5() {
  }
  return t5.prototype.getItemStyle = function(t6, i2) {
    return Av(this, t6, i2);
  }, t5;
})(), _v = (function() {
  function t5(t6, i2, n2) {
    this.parentModel = i2, this.ecModel = n2, this.option = t6;
  }
  return t5.prototype.init = function() {
  }, t5.prototype.mergeOption = function(t6) {
    pn(this.option, t6, true);
  }, t5.prototype.get = function(t6, i2) {
    return null == t6 ? this.option : this._doGet(this.parsePath(t6), !i2 && this.parentModel);
  }, t5.prototype.getShallow = function(t6, i2) {
    var n2 = this.option, r2 = null == n2 ? n2 : n2[t6];
    if (null == r2 && !i2) {
      var e2 = this.parentModel;
      e2 && (r2 = e2.getShallow(t6));
    }
    return r2;
  }, t5.prototype.getModel = function(i2, n2) {
    var r2 = null != i2, e2 = r2 ? this.parsePath(i2) : null;
    return new t5(r2 ? this._doGet(e2) : this.option, n2 = n2 || this.parentModel && this.parentModel.getModel(this.resolveParentPath(e2)), this.ecModel);
  }, t5.prototype.isEmpty = function() {
    return null == this.option;
  }, t5.prototype.restoreData = function() {
  }, t5.prototype.clone = function() {
    return new this.constructor(dn(this.option));
  }, t5.prototype.parsePath = function(t6) {
    return "string" == typeof t6 ? t6.split(".") : t6;
  }, t5.prototype.resolveParentPath = function(t6) {
    return t6;
  }, t5.prototype.isAnimationEnabled = function() {
    if (!Ui.node && this.option) {
      if (null != this.option.animation) return !!this.option.animation;
      if (this.parentModel) return this.parentModel.isAnimationEnabled();
    }
  }, t5.prototype._doGet = function(t6, i2) {
    var n2 = this.option;
    if (!t6) return n2;
    for (var r2 = 0; r2 < t6.length && (!t6[r2] || null != (n2 = n2 && "object" == typeof n2 ? n2[t6[r2]] : null)); r2++) ;
    return null == n2 && i2 && (n2 = i2._doGet(this.resolveParentPath(t6), i2.parentModel)), n2;
  }, t5;
})();
el(_v), bv = _v, gv = ["__\0is_clz", al++].join("_"), bv.prototype[gv] = true, bv.isInstance = function(t5) {
  return !(!t5 || !t5[gv]);
}, wn(_v, Sv), wn(_v, Nv), wn(_v, hl), wn(_v, kv);
var Tv = Math.round(10 * Math.random());
function Iv(t5) {
  return [t5 || "", Tv++].join("_");
}
function Lv(t5, i2) {
  return pn(pn({}, t5, true), i2, true);
}
var Dv = "ZH", Wv = "EN", Ev = Wv, Ov = {}, Fv = {}, Rv = Ui.domSupported && (document.documentElement.lang || navigator.language || navigator.browserLanguage || Ev).toUpperCase().indexOf(Dv) > -1 ? Dv : Ev;
function Pv(t5, i2) {
  t5 = t5.toUpperCase(), Fv[t5] = new _v(i2), Ov[t5] = i2;
}
function Bv(t5) {
  return Fv[t5];
}
Pv(Wv, { time: { month: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayOfWeekAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"] }, legend: { selector: { all: "All", inverse: "Inv" } }, toolbox: { brush: { title: { rect: "Box Select", polygon: "Lasso Select", lineX: "Horizontally Select", lineY: "Vertically Select", keep: "Keep Selections", clear: "Clear Selections" } }, dataView: { title: "Data View", lang: ["Data View", "Close", "Refresh"] }, dataZoom: { title: { zoom: "Zoom", back: "Zoom Reset" } }, magicType: { title: { line: "Switch to Line Chart", bar: "Switch to Bar Chart", stack: "Stack", tiled: "Tile" } }, restore: { title: "Restore" }, saveAsImage: { title: "Save as Image", lang: ["Right Click to Save Image"] } }, series: { typeNames: { pie: "Pie chart", bar: "Bar chart", line: "Line chart", scatter: "Scatter plot", effectScatter: "Ripple scatter plot", radar: "Radar chart", tree: "Tree", treemap: "Treemap", boxplot: "Boxplot", candlestick: "Candlestick", k: "K line chart", heatmap: "Heat map", map: "Map", parallel: "Parallel coordinate map", lines: "Line graph", graph: "Relationship graph", sankey: "Sankey diagram", funnel: "Funnel chart", gauge: "Gauge", pictorialBar: "Pictorial bar", themeRiver: "Theme River Map", sunburst: "Sunburst", custom: "Custom chart", chart: "Chart" } }, aria: { general: { withTitle: 'This is a chart about "{title}"', withoutTitle: "This is a chart" }, series: { single: { prefix: "", withName: " with type {seriesType} named {seriesName}.", withoutName: " with type {seriesType}." }, multiple: { prefix: ". It consists of {seriesCount} series count.", withName: " The {seriesId} series is a {seriesType} representing {seriesName}.", withoutName: " The {seriesId} series is a {seriesType}.", separator: { middle: "", end: "" } } }, data: { allData: "The data is as follows: ", partialData: "The first {displayCnt} items are: ", withName: "the data for {name} is {value}", withoutName: "{value}", separator: { middle: ", ", end: ". " } } } }), Pv(Dv, { time: { month: ["", "", "", "", "", "", "", "", "", "", "", ""], monthAbbr: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"], dayOfWeek: ["", "", "", "", "", "", ""], dayOfWeekAbbr: ["", "", "", "", "", "", ""] }, legend: { selector: { all: "", inverse: "" } }, toolbox: { brush: { title: { rect: "", polygon: "", lineX: "", lineY: "", keep: "", clear: "" } }, dataView: { title: "", lang: ["", "", ""] }, dataZoom: { title: { zoom: "", back: "" } }, magicType: { title: { line: "", bar: "", stack: "", tiled: "" } }, restore: { title: "" }, saveAsImage: { title: "", lang: [""] } }, series: { typeNames: { pie: "", bar: "", line: "", scatter: "", effectScatter: "", radar: "", tree: "", treemap: "", boxplot: "", candlestick: "K", k: "K", heatmap: "", map: "", parallel: "", lines: "", graph: "", sankey: "", funnel: "", gauge: "", pictorialBar: "", themeRiver: "", sunburst: "", custom: "", chart: "" } }, aria: { general: { withTitle: "{title}", withoutTitle: "" }, series: { single: { prefix: "", withName: "{seriesType}{seriesName}", withoutName: "{seriesType}" }, multiple: { prefix: "{seriesCount}", withName: "{seriesId}{seriesName}{seriesType}", withoutName: "{seriesId}{seriesType}", separator: { middle: "", end: "" } } }, data: { allData: "", partialData: "{displayCnt}", withName: "{name}{value}", withoutName: "{value}", separator: { middle: "", end: "" } } } });
var Vv = 36e5, jv = 864e5, Hv = 31536e6, Yv = { year: "{yyyy}", month: "{MMM}", day: "{d}", hour: "{HH}:{mm}", minute: "{HH}:{mm}", second: "{HH}:{mm}:{ss}", millisecond: "{HH}:{mm}:{ss} {SSS}", none: "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}" }, Xv = "{yyyy}-{MM}-{dd}", Uv = { year: "{yyyy}", month: "{yyyy}-{MM}", day: Xv, hour: Xv + " " + Yv.hour, minute: Xv + " " + Yv.minute, second: Xv + " " + Yv.second, millisecond: Yv.none }, $v = ["year", "month", "day", "hour", "minute", "second", "millisecond"], Gv = ["year", "half-year", "quarter", "month", "week", "half-week", "day", "half-day", "quarter-day", "hour", "minute", "second", "millisecond"];
function Zv(t5, i2) {
  return "0000".substr(0, i2 - (t5 += "").length) + t5;
}
function qv(t5) {
  switch (t5) {
    case "half-year":
    case "quarter":
      return "month";
    case "week":
    case "half-week":
      return "day";
    case "half-day":
    case "quarter-day":
      return "hour";
    default:
      return t5;
  }
}
function Jv(t5, i2, n2, r2) {
  var e2 = ys(t5), o2 = e2[td(n2)](), a2 = e2[id(n2)]() + 1, s2 = Math.floor((a2 - 1) / 3) + 1, l2 = e2[nd(n2)](), u2 = e2["get" + (n2 ? "UTC" : "") + "Day"](), f2 = e2[rd(n2)](), c2 = (f2 - 1) % 12 + 1, h2 = e2[ed(n2)](), v2 = e2[od(n2)](), d2 = e2[ad(n2)](), p2 = f2 >= 12 ? "pm" : "am", m2 = p2.toUpperCase(), b2 = (r2 instanceof _v ? r2 : Bv(r2 || Rv) || Fv[Ev]).getModel("time"), g3 = b2.get("month"), y2 = b2.get("monthAbbr"), w3 = b2.get("dayOfWeek"), x2 = b2.get("dayOfWeekAbbr");
  return (i2 || "").replace(/{a}/g, p2 + "").replace(/{A}/g, m2 + "").replace(/{yyyy}/g, o2 + "").replace(/{yy}/g, Zv(o2 % 100 + "", 2)).replace(/{Q}/g, s2 + "").replace(/{MMMM}/g, g3[a2 - 1]).replace(/{MMM}/g, y2[a2 - 1]).replace(/{MM}/g, Zv(a2, 2)).replace(/{M}/g, a2 + "").replace(/{dd}/g, Zv(l2, 2)).replace(/{d}/g, l2 + "").replace(/{eeee}/g, w3[u2]).replace(/{ee}/g, x2[u2]).replace(/{e}/g, u2 + "").replace(/{HH}/g, Zv(f2, 2)).replace(/{H}/g, f2 + "").replace(/{hh}/g, Zv(c2 + "", 2)).replace(/{h}/g, c2 + "").replace(/{mm}/g, Zv(h2, 2)).replace(/{m}/g, h2 + "").replace(/{ss}/g, Zv(v2, 2)).replace(/{s}/g, v2 + "").replace(/{SSS}/g, Zv(d2, 3)).replace(/{S}/g, d2 + "");
}
function Kv(t5, i2) {
  var n2 = ys(t5), r2 = n2[id(i2)]() + 1, e2 = n2[nd(i2)](), o2 = n2[rd(i2)](), a2 = n2[ed(i2)](), s2 = n2[od(i2)](), l2 = 0 === n2[ad(i2)](), u2 = l2 && 0 === s2, f2 = u2 && 0 === a2, c2 = f2 && 0 === o2, h2 = c2 && 1 === e2;
  return h2 && 1 === r2 ? "year" : h2 ? "month" : c2 ? "day" : f2 ? "hour" : u2 ? "minute" : l2 ? "second" : "millisecond";
}
function Qv(t5, i2, n2) {
  var r2 = Dn(t5) ? ys(t5) : t5;
  switch (i2 = i2 || Kv(t5, n2)) {
    case "year":
      return r2[td(n2)]();
    case "half-year":
      return r2[id(n2)]() >= 6 ? 1 : 0;
    case "quarter":
      return Math.floor((r2[id(n2)]() + 1) / 4);
    case "month":
      return r2[id(n2)]();
    case "day":
      return r2[nd(n2)]();
    case "half-day":
      return r2[rd(n2)]() / 24;
    case "hour":
      return r2[rd(n2)]();
    case "minute":
      return r2[ed(n2)]();
    case "second":
      return r2[od(n2)]();
    case "millisecond":
      return r2[ad(n2)]();
  }
}
function td(t5) {
  return t5 ? "getUTCFullYear" : "getFullYear";
}
function id(t5) {
  return t5 ? "getUTCMonth" : "getMonth";
}
function nd(t5) {
  return t5 ? "getUTCDate" : "getDate";
}
function rd(t5) {
  return t5 ? "getUTCHours" : "getHours";
}
function ed(t5) {
  return t5 ? "getUTCMinutes" : "getMinutes";
}
function od(t5) {
  return t5 ? "getUTCSeconds" : "getSeconds";
}
function ad(t5) {
  return t5 ? "getUTCMilliseconds" : "getMilliseconds";
}
function sd(t5) {
  return t5 ? "setUTCFullYear" : "setFullYear";
}
function ld(t5) {
  return t5 ? "setUTCMonth" : "setMonth";
}
function ud(t5) {
  return t5 ? "setUTCDate" : "setDate";
}
function fd(t5) {
  return t5 ? "setUTCHours" : "setHours";
}
function cd(t5) {
  return t5 ? "setUTCMinutes" : "setMinutes";
}
function hd(t5) {
  return t5 ? "setUTCSeconds" : "setSeconds";
}
function vd(t5) {
  return t5 ? "setUTCMilliseconds" : "setMilliseconds";
}
function dd(t5) {
  if (!Ss(t5)) return In(t5) ? t5 : "-";
  var i2 = (t5 + "").split(".");
  return i2[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, "$1,") + (i2.length > 1 ? "." + i2[1] : "");
}
function pd(t5, i2) {
  return t5 = (t5 || "").toLowerCase().replace(/-(.)/g, (function(t6, i3) {
    return i3.toUpperCase();
  })), i2 && t5 && (t5 = t5.charAt(0).toUpperCase() + t5.slice(1)), t5;
}
var md = Yn;
function bd(t5, i2, n2) {
  function r2(t6) {
    return t6 && Un(t6) ? t6 : "-";
  }
  function e2(t6) {
    return !(null == t6 || isNaN(t6) || !isFinite(t6));
  }
  var o2 = "time" === i2, a2 = t5 instanceof Date;
  if (o2 || a2) {
    var s2 = o2 ? ys(t5) : t5;
    if (!isNaN(+s2)) return Jv(s2, "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}", n2);
    if (a2) return "-";
  }
  if ("ordinal" === i2) return Ln(t5) ? r2(t5) : Dn(t5) && e2(t5) ? t5 + "" : "-";
  var l2 = zs(t5);
  return e2(l2) ? dd(l2) : Ln(t5) ? r2(t5) : "boolean" == typeof t5 ? t5 + "" : "-";
}
var gd = ["a", "b", "c", "d", "e", "f", "g"], yd = function(t5, i2) {
  return "{" + t5 + (null == i2 ? "" : i2) + "}";
};
function wd(t5, i2, n2) {
  _n(i2) || (i2 = [i2]);
  var r2 = i2.length;
  if (!r2) return "";
  for (var e2 = i2[0].$vars || [], o2 = 0; o2 < e2.length; o2++) {
    var a2 = gd[o2];
    t5 = t5.replace(yd(a2), yd(a2, 0));
  }
  for (var s2 = 0; s2 < r2; s2++) for (var l2 = 0; l2 < e2.length; l2++) {
    var u2 = i2[s2][e2[l2]];
    t5 = t5.replace(yd(gd[l2], s2), n2 ? Er(u2) : u2);
  }
  return t5;
}
function xd(t5, i2) {
  return i2 = i2 || "transparent", In(t5) ? t5 : Wn(t5) && t5.colorStops && (t5.colorStops[0] || {}).color || i2;
}
function kd(t5, i2) {
  if ("_blank" === i2 || "blank" === i2) {
    var n2 = window.open();
    n2.opener = null, n2.location.href = t5;
  } else window.open(t5, i2);
}
var Md = kn, zd = ["left", "right", "top", "bottom", "width", "height"], Sd = [["width", "left", "right"], ["height", "top", "bottom"]];
function Cd(t5, i2, n2, r2, e2) {
  var o2 = 0, a2 = 0;
  null == r2 && (r2 = 1 / 0), null == e2 && (e2 = 1 / 0);
  var s2 = 0;
  i2.eachChild((function(l2, u2) {
    var f2, c2, h2 = l2.getBoundingRect(), v2 = i2.childAt(u2 + 1), d2 = v2 && v2.getBoundingRect();
    if ("horizontal" === t5) {
      var p2 = h2.width + (d2 ? -d2.x + h2.x : 0);
      (f2 = o2 + p2) > r2 || l2.newline ? (o2 = 0, f2 = p2, a2 += s2 + n2, s2 = h2.height) : s2 = Math.max(s2, h2.height);
    } else {
      var m2 = h2.height + (d2 ? -d2.y + h2.y : 0);
      (c2 = a2 + m2) > e2 || l2.newline ? (o2 += s2 + n2, a2 = 0, c2 = m2, s2 = h2.width) : s2 = Math.max(s2, h2.width);
    }
    l2.newline || (l2.x = o2, l2.y = a2, l2.markRedraw(), "horizontal" === t5 ? o2 = f2 + n2 : a2 = c2 + n2);
  }));
}
var Ad = Cd;
function Nd(t5, i2, n2) {
  n2 = md(n2 || 0);
  var r2 = i2.width, e2 = i2.height, o2 = us(t5.left, r2), a2 = us(t5.top, e2), s2 = us(t5.right, r2), l2 = us(t5.bottom, e2), u2 = us(t5.width, r2), f2 = us(t5.height, e2), c2 = n2[2] + n2[0], h2 = n2[1] + n2[3], v2 = t5.aspect;
  switch (isNaN(u2) && (u2 = r2 - s2 - h2 - o2), isNaN(f2) && (f2 = e2 - l2 - c2 - a2), null != v2 && (isNaN(u2) && isNaN(f2) && (v2 > r2 / e2 ? u2 = 0.8 * r2 : f2 = 0.8 * e2), isNaN(u2) && (u2 = v2 * f2), isNaN(f2) && (f2 = u2 / v2)), isNaN(o2) && (o2 = r2 - s2 - u2 - h2), isNaN(a2) && (a2 = e2 - l2 - f2 - c2), t5.left || t5.right) {
    case "center":
      o2 = r2 / 2 - u2 / 2 - n2[3];
      break;
    case "right":
      o2 = r2 - u2 - h2;
  }
  switch (t5.top || t5.bottom) {
    case "middle":
    case "center":
      a2 = e2 / 2 - f2 / 2 - n2[0];
      break;
    case "bottom":
      a2 = e2 - f2 - c2;
  }
  o2 = o2 || 0, a2 = a2 || 0, isNaN(u2) && (u2 = r2 - h2 - o2 - (s2 || 0)), isNaN(f2) && (f2 = e2 - c2 - a2 - (l2 || 0));
  var d2 = new ce(o2 + n2[3], a2 + n2[0], u2, f2);
  return d2.margin = n2, d2;
}
function _d(t5, i2, n2, r2, e2, o2) {
  var a2, s2 = !e2 || !e2.hv || e2.hv[0], l2 = !e2 || !e2.hv || e2.hv[1], u2 = e2 && e2.boundingMode || "all";
  if ((o2 = o2 || t5).x = t5.x, o2.y = t5.y, !s2 && !l2) return false;
  if ("raw" === u2) a2 = "group" === t5.type ? new ce(0, 0, +i2.width || 0, +i2.height || 0) : t5.getBoundingRect();
  else if (a2 = t5.getBoundingRect(), t5.needLocalTransform()) {
    var f2 = t5.getLocalTransform();
    (a2 = a2.clone()).applyTransform(f2);
  }
  var c2 = Nd(gn({ width: a2.width, height: a2.height }, i2), n2, r2), h2 = s2 ? c2.x - a2.x : 0, v2 = l2 ? c2.y - a2.y : 0;
  return "raw" === u2 ? (o2.x = h2, o2.y = v2) : (o2.x += h2, o2.y += v2), o2 === t5 && t5.markRedraw(), true;
}
function Td(t5) {
  var i2 = t5.layoutMode || t5.constructor.layoutMode;
  return Wn(i2) ? i2 : i2 ? { type: i2 } : null;
}
function Id(t5, i2, n2) {
  var r2 = n2 && n2.ignoreSize;
  !_n(r2) && (r2 = [r2, r2]);
  var e2 = a2(Sd[0], 0), o2 = a2(Sd[1], 1);
  function a2(n3, e3) {
    var o3 = {}, a3 = 0, u3 = {}, f2 = 0;
    if (Md(n3, (function(i3) {
      u3[i3] = t5[i3];
    })), Md(n3, (function(t6) {
      s2(i2, t6) && (o3[t6] = u3[t6] = i2[t6]), l2(o3, t6) && a3++, l2(u3, t6) && f2++;
    })), r2[e3]) return l2(i2, n3[1]) ? u3[n3[2]] = null : l2(i2, n3[2]) && (u3[n3[1]] = null), u3;
    if (2 !== f2 && a3) {
      if (a3 >= 2) return o3;
      for (var c2 = 0; c2 < n3.length; c2++) {
        var h2 = n3[c2];
        if (!s2(o3, h2) && s2(t5, h2)) {
          o3[h2] = t5[h2];
          break;
        }
      }
      return o3;
    }
    return u3;
  }
  function s2(t6, i3) {
    return t6.hasOwnProperty(i3);
  }
  function l2(t6, i3) {
    return null != t6[i3] && "auto" !== t6[i3];
  }
  function u2(t6, i3, n3) {
    Md(t6, (function(t7) {
      i3[t7] = n3[t7];
    }));
  }
  u2(Sd[0], t5, e2), u2(Sd[1], t5, o2);
}
function Ld(t5) {
  return Dd({}, t5);
}
function Dd(t5, i2) {
  return i2 && t5 && Md(zd, (function(n2) {
    i2.hasOwnProperty(n2) && (t5[n2] = i2[n2]);
  })), t5;
}
Nn(Cd, "vertical"), Nn(Cd, "horizontal");
var Wd = Xs(), Ed = (function(t5) {
  function i2(i3, n2, r2) {
    var e2 = t5.call(this, i3, n2, r2) || this;
    return e2.uid = Iv("ec_cpt_model"), e2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3, n2) {
    this.mergeDefaultAndTheme(t6, n2);
  }, i2.prototype.mergeDefaultAndTheme = function(t6, i3) {
    var n2 = Td(this), r2 = n2 ? Ld(t6) : {};
    pn(t6, i3.getTheme().get(this.mainType)), pn(t6, this.getDefaultOption()), n2 && Id(t6, r2, n2);
  }, i2.prototype.mergeOption = function(t6) {
    pn(this.option, t6, true);
    var i3 = Td(this);
    i3 && Id(this.option, t6, i3);
  }, i2.prototype.optionUpdated = function() {
  }, i2.prototype.getDefaultOption = function() {
    var t6 = this.constructor;
    if (!(function(t7) {
      return !(!t7 || !t7[nl]);
    })(t6)) return t6.defaultOption;
    var i3 = Wd(this);
    if (!i3.defaultOption) {
      for (var n2 = [], r2 = t6; r2; ) {
        var e2 = r2.prototype.defaultOption;
        e2 && n2.push(e2), r2 = r2.superClass;
      }
      for (var o2 = {}, a2 = n2.length - 1; a2 >= 0; a2--) o2 = pn(o2, n2[a2], true);
      i3.defaultOption = o2;
    }
    return i3.defaultOption;
  }, i2.prototype.getReferringComponents = function(t6, i3) {
    var n2 = t6 + "Id";
    return Js(this.ecModel, t6, { index: this.get(t6 + "Index", true), id: this.get(n2, true) }, i3);
  }, i2.prototype.getBoxLayoutParams = function() {
    var t6 = this;
    return { left: t6.get("left"), top: t6.get("top"), right: t6.get("right"), bottom: t6.get("bottom"), width: t6.get("width"), height: t6.get("height") };
  }, i2.prototype.getZLevelKey = function() {
    return "";
  }, i2.prototype.setZLevel = function(t6) {
    this.option.zlevel = t6;
  }, i2.protoInitialize = (function() {
    var t6 = i2.prototype;
    t6.type = "component", t6.id = "", t6.name = "", t6.mainType = "", t6.subType = "", t6.componentIndex = 0;
  })(), i2;
})(_v);
ol(Ed, _v), ul(Ed), (function(t5) {
  var i2 = {};
  t5.registerSubTypeDefaulter = function(t6, n2) {
    var r2 = rl(t6);
    i2[r2.main] = n2;
  }, t5.determineSubType = function(n2, r2) {
    var e2 = r2.type;
    if (!e2) {
      var o2 = rl(n2).main;
      t5.hasSubTypes(n2) && i2[o2] && (e2 = i2[o2](r2));
    }
    return e2;
  };
})(Ed), (function() {
  function t5(t6, i2) {
    return t6[i2] || (t6[i2] = { predecessor: [], successor: [] }), t6[i2];
  }
  Ed.topologicalTravel = function(i2, n2, r2, e2) {
    if (i2.length) {
      var o2 = (function(i3) {
        var n3 = {}, r3 = [];
        return kn(i3, (function(e3) {
          var o3, a3, s3 = t5(n3, e3), l3 = (function(t6, i4) {
            var n4 = [];
            return kn(t6, (function(t7) {
              yn(i4, t7) >= 0 && n4.push(t7);
            })), n4;
          })(s3.originalDeps = (a3 = [], kn(Ed.getClassesByMainType(o3 = e3), (function(t6) {
            a3 = a3.concat(t6.dependencies || t6.prototype.dependencies || []);
          })), a3 = Mn(a3, (function(t6) {
            return rl(t6).main;
          })), "dataset" !== o3 && yn(a3, "dataset") <= 0 && a3.unshift("dataset"), a3), i3);
          s3.entryCount = l3.length, 0 === s3.entryCount && r3.push(e3), kn(l3, (function(i4) {
            yn(s3.predecessor, i4) < 0 && s3.predecessor.push(i4);
            var r4 = t5(n3, i4);
            yn(r4.successor, i4) < 0 && r4.successor.push(e3);
          }));
        })), { graph: n3, noEntryList: r3 };
      })(n2), a2 = o2.graph, s2 = o2.noEntryList, l2 = {};
      for (kn(i2, (function(t6) {
        l2[t6] = true;
      })); s2.length; ) {
        var u2 = s2.pop(), f2 = a2[u2], c2 = !!l2[u2];
        c2 && (r2.call(e2, u2, f2.originalDeps.slice()), delete l2[u2]), kn(f2.successor, c2 ? v2 : h2);
      }
      kn(l2, (function() {
        throw new Error("");
      }));
    }
    function h2(t6) {
      a2[t6].entryCount--, 0 === a2[t6].entryCount && s2.push(t6);
    }
    function v2(t6) {
      l2[t6] = true, h2(t6);
    }
  };
})();
var Od = "";
"undefined" != typeof navigator && (Od = navigator.platform || "");
var Fd = "rgba(0, 0, 0, 0.2)", Rd = { darkMode: "auto", colorBy: "series", color: ["#5470c6", "#91cc75", "#fac858", "#ee6666", "#73c0de", "#3ba272", "#fc8452", "#9a60b4", "#ea7ccc"], gradientColor: ["#f6efa6", "#d88273", "#bf444c"], aria: { decal: { decals: [{ color: Fd, dashArrayX: [1, 0], dashArrayY: [2, 5], symbolSize: 1, rotation: Math.PI / 6 }, { color: Fd, symbol: "circle", dashArrayX: [[8, 8], [0, 8, 8, 0]], dashArrayY: [6, 0], symbolSize: 0.8 }, { color: Fd, dashArrayX: [1, 0], dashArrayY: [4, 3], rotation: -Math.PI / 4 }, { color: Fd, dashArrayX: [[6, 6], [0, 6, 6, 0]], dashArrayY: [6, 0] }, { color: Fd, dashArrayX: [[1, 0], [1, 6]], dashArrayY: [1, 0, 6, 0], rotation: Math.PI / 4 }, { color: Fd, symbol: "triangle", dashArrayX: [[9, 9], [0, 9, 9, 0]], dashArrayY: [7, 2], symbolSize: 0.75 }] } }, textStyle: { fontFamily: Od.match(/^Win/) ? "Microsoft YaHei" : "sans-serif", fontSize: 12, fontStyle: "normal", fontWeight: "normal" }, blendMode: null, stateAnimation: { duration: 300, easing: "cubicOut" }, animation: "auto", animationDuration: 1e3, animationDurationUpdate: 500, animationEasing: "cubicInOut", animationEasingUpdate: "cubicInOut", animationThreshold: 2e3, progressiveThreshold: 3e3, progressive: 400, hoverLayerThreshold: 3e3, useUTC: false }, Pd = Qn(["tooltip", "label", "itemName", "itemId", "itemGroupId", "itemChildGroupId", "seriesName"]), Bd = "original", Vd = "arrayRows", jd = "objectRows", Hd = "keyedColumns", Yd = "typedArray", Xd = "unknown", Ud = "column", $d = "row", Gd = Xs();
function Zd(t5, i2, n2) {
  var r2 = {}, e2 = Jd(i2);
  if (!e2 || !t5) return r2;
  var o2, a2, s2 = [], l2 = [], u2 = Gd(i2.ecModel).datasetMap, f2 = e2.uid + "_" + n2.seriesLayoutBy;
  kn(t5 = t5.slice(), (function(i3, n3) {
    var e3 = Wn(i3) ? i3 : t5[n3] = { name: i3 };
    "ordinal" === e3.type && null == o2 && (o2 = n3, a2 = v2(e3)), r2[e3.name] = [];
  }));
  var c2 = u2.get(f2) || u2.set(f2, { categoryWayDim: a2, valueWayDim: 0 });
  function h2(t6, i3, n3) {
    for (var r3 = 0; r3 < n3; r3++) t6.push(i3 + r3);
  }
  function v2(t6) {
    var i3 = t6.dimsDef;
    return i3 ? i3.length : 1;
  }
  return kn(t5, (function(t6, i3) {
    var n3 = t6.name, e3 = v2(t6);
    if (null == o2) h2(r2[n3], a3 = c2.valueWayDim, e3), h2(l2, a3, e3), c2.valueWayDim += e3;
    else if (o2 === i3) h2(r2[n3], 0, e3), h2(s2, 0, e3);
    else {
      var a3;
      h2(r2[n3], a3 = c2.categoryWayDim, e3), h2(l2, a3, e3), c2.categoryWayDim += e3;
    }
  })), s2.length && (r2.itemName = s2), l2.length && (r2.seriesName = l2), r2;
}
function qd(t5, i2, n2) {
  var r2 = {};
  if (!Jd(t5)) return r2;
  var e2, o2 = i2.sourceFormat, a2 = i2.dimensionsDefine;
  o2 !== jd && o2 !== Hd || kn(a2, (function(t6, i3) {
    "name" === (Wn(t6) ? t6.name : t6) && (e2 = i3);
  }));
  var s2 = (function() {
    for (var t6 = {}, r3 = {}, s3 = [], l3 = 0, u2 = Math.min(5, n2); l3 < u2; l3++) {
      var f2 = Qd(i2.data, o2, i2.seriesLayoutBy, a2, i2.startIndex, l3);
      s3.push(f2);
      var c2 = 3 === f2;
      if (c2 && null == t6.v && l3 !== e2 && (t6.v = l3), (null == t6.n || t6.n === t6.v || !c2 && 3 === s3[t6.n]) && (t6.n = l3), h2(t6) && 3 !== s3[t6.n]) return t6;
      c2 || (2 === f2 && null == r3.v && l3 !== e2 && (r3.v = l3), null != r3.n && r3.n !== r3.v || (r3.n = l3));
    }
    function h2(t7) {
      return null != t7.v && null != t7.n;
    }
    return h2(t6) ? t6 : h2(r3) ? r3 : null;
  })();
  if (s2) {
    r2.value = [s2.v];
    var l2 = null != e2 ? e2 : s2.n;
    r2.itemName = [l2], r2.seriesName = [l2];
  }
  return r2;
}
function Jd(t5) {
  if (!t5.get("data", true)) return Js(t5.ecModel, "dataset", { index: t5.get("datasetIndex", true), id: t5.get("datasetId", true) }, Zs).models[0];
}
function Kd(t5, i2) {
  return Qd(t5.data, t5.sourceFormat, t5.seriesLayoutBy, t5.dimensionsDefine, t5.startIndex, i2);
}
function Qd(t5, i2, n2, r2, e2, o2) {
  var a2, s2, l2;
  if (On(t5)) return 3;
  if (r2) {
    var u2 = r2[o2];
    Wn(u2) ? (s2 = u2.name, l2 = u2.type) : In(u2) && (s2 = u2);
  }
  if (null != l2) return "ordinal" === l2 ? 1 : 3;
  if (i2 === Vd) {
    var f2 = t5;
    if (n2 === $d) {
      for (var c2 = f2[o2], h2 = 0; h2 < (c2 || []).length && h2 < 5; h2++) if (null != (a2 = g3(c2[e2 + h2]))) return a2;
    } else for (h2 = 0; h2 < f2.length && h2 < 5; h2++) {
      var v2 = f2[e2 + h2];
      if (v2 && null != (a2 = g3(v2[o2]))) return a2;
    }
  } else if (i2 === jd) {
    var d2 = t5;
    if (!s2) return 3;
    for (h2 = 0; h2 < d2.length && h2 < 5; h2++) if ((m2 = d2[h2]) && null != (a2 = g3(m2[s2]))) return a2;
  } else if (i2 === Hd) {
    if (!s2) return 3;
    if (!(c2 = t5[s2]) || On(c2)) return 3;
    for (h2 = 0; h2 < c2.length && h2 < 5; h2++) if (null != (a2 = g3(c2[h2]))) return a2;
  } else if (i2 === Bd) {
    var p2 = t5;
    for (h2 = 0; h2 < p2.length && h2 < 5; h2++) {
      var m2, b2 = Os(m2 = p2[h2]);
      if (!_n(b2)) return 3;
      if (null != (a2 = g3(b2[o2]))) return a2;
    }
  }
  function g3(t6) {
    var i3 = In(t6);
    return null != t6 && Number.isFinite(Number(t6)) && "" !== t6 ? i3 ? 2 : 3 : i3 && "-" !== t6 ? 1 : void 0;
  }
  return 3;
}
var tp, ip, np, rp = Qn(), ep = Xs(), op = Xs(), ap = (function() {
  function t5() {
  }
  return t5.prototype.getColorFromPalette = function(t6, i2, n2) {
    var r2 = Ds(this.get("color", true)), e2 = this.get("colorLayer", true);
    return lp(this, ep, r2, e2, t6, i2, n2);
  }, t5.prototype.clearColorPalette = function() {
    !(function(t6, i2) {
      i2(t6).paletteIdx = 0, i2(t6).paletteNameMap = {};
    })(this, ep);
  }, t5;
})();
function sp(t5, i2, n2, r2) {
  var e2 = Ds(t5.get(["aria", "decal", "decals"]));
  return lp(t5, op, e2, null, i2, n2, r2);
}
function lp(t5, i2, n2, r2, e2, o2, a2) {
  var s2 = i2(o2 = o2 || t5), l2 = s2.paletteIdx || 0, u2 = s2.paletteNameMap = s2.paletteNameMap || {};
  if (u2.hasOwnProperty(e2)) return u2[e2];
  var f2 = null != a2 && r2 ? (function(t6, i3) {
    for (var n3 = t6.length, r3 = 0; r3 < n3; r3++) if (t6[r3].length > i3) return t6[r3];
    return t6[n3 - 1];
  })(r2, a2) : n2;
  if ((f2 = f2 || n2) && f2.length) {
    var c2 = f2[l2];
    return e2 && (u2[e2] = c2), s2.paletteIdx = (l2 + 1) % f2.length, c2;
  }
}
var up = "\0_ec_inner", fp = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3, n2, r2, e2, o2) {
    r2 = r2 || {}, this.option = null, this._theme = new _v(r2), this._locale = new _v(e2), this._optionManager = o2;
  }, i2.prototype.setOption = function(t6, i3, n2) {
    var r2 = vp(i3);
    this._optionManager.setOption(t6, n2, r2), this._resetOption(null, r2);
  }, i2.prototype.resetOption = function(t6, i3) {
    return this._resetOption(t6, vp(i3));
  }, i2.prototype._resetOption = function(t6, i3) {
    var n2 = false, r2 = this._optionManager;
    if (!t6 || "recreate" === t6) {
      var e2 = r2.mountOption("recreate" === t6);
      this.option && "recreate" !== t6 ? (this.restoreData(), this._mergeOption(e2, i3)) : np(this, e2), n2 = true;
    }
    if ("timeline" !== t6 && "media" !== t6 || this.restoreData(), !t6 || "recreate" === t6 || "timeline" === t6) {
      var o2 = r2.getTimelineOption(this);
      o2 && (n2 = true, this._mergeOption(o2, i3));
    }
    if (!t6 || "recreate" === t6 || "media" === t6) {
      var a2 = r2.getMediaOption(this);
      a2.length && kn(a2, (function(t7) {
        n2 = true, this._mergeOption(t7, i3);
      }), this);
    }
    return n2;
  }, i2.prototype.mergeOption = function(t6) {
    this._mergeOption(t6, null);
  }, i2.prototype._mergeOption = function(t6, i3) {
    var n2 = this.option, r2 = this._componentsMap, e2 = this._componentsCount, o2 = [], a2 = Qn(), s2 = i3 && i3.replaceMergeMainTypeMap;
    Gd(this).datasetMap = Qn(), kn(t6, (function(t7, i4) {
      null != t7 && (Ed.hasClass(i4) ? i4 && (o2.push(i4), a2.set(i4, true)) : n2[i4] = null == n2[i4] ? dn(t7) : pn(n2[i4], t7, true));
    })), s2 && s2.each((function(t7, i4) {
      Ed.hasClass(i4) && !a2.get(i4) && (o2.push(i4), a2.set(i4, true));
    })), Ed.topologicalTravel(o2, Ed.getAllClassMainTypes(), (function(i4) {
      var o3 = (function(t7, i5, n3) {
        var r3 = rp.get(i5);
        if (!r3) return n3;
        var e3 = r3(t7);
        return e3 ? n3.concat(e3) : n3;
      })(this, i4, Ds(t6[i4])), a3 = r2.get(i4), l2 = Rs(a3, o3, a3 ? s2 && s2.get(i4) ? "replaceMerge" : "normalMerge" : "replaceAll");
      (function(t7, i5, n3) {
        kn(t7, (function(t8) {
          var r3 = t8.newOption;
          Wn(r3) && (t8.keyInfo.mainType = i5, t8.keyInfo.subType = (function(t9, i6, n4, r4) {
            return i6.type ? i6.type : n4 ? n4.subType : r4.determineSubType(t9, i6);
          })(i5, r3, t8.existing, n3));
        }));
      })(l2, i4, Ed), n2[i4] = null, r2.set(i4, null), e2.set(i4, 0);
      var u2, f2 = [], c2 = [], h2 = 0;
      kn(l2, (function(t7, n3) {
        var r3 = t7.existing, e3 = t7.newOption;
        if (e3) {
          var o4 = Ed.getClass(i4, t7.keyInfo.subType, !("series" === i4));
          if (!o4) return;
          if ("tooltip" === i4) {
            if (u2) return;
            u2 = true;
          }
          if (r3 && r3.constructor === o4) r3.name = t7.keyInfo.name, r3.mergeOption(e3, this), r3.optionUpdated(e3, false);
          else {
            var a4 = bn({ componentIndex: n3 }, t7.keyInfo);
            bn(r3 = new o4(e3, this, this, a4), a4), t7.brandNew && (r3.__requireNewView = true), r3.init(e3, this, this), r3.optionUpdated(null, true);
          }
        } else r3 && (r3.mergeOption({}, this), r3.optionUpdated({}, false));
        r3 ? (f2.push(r3.option), c2.push(r3), h2++) : (f2.push(void 0), c2.push(void 0));
      }), this), n2[i4] = f2, r2.set(i4, c2), e2.set(i4, h2), "series" === i4 && tp(this);
    }), this), this._seriesIndices || tp(this);
  }, i2.prototype.getOption = function() {
    var t6 = dn(this.option);
    return kn(t6, (function(i3, n2) {
      if (Ed.hasClass(n2)) {
        for (var r2 = Ds(i3), e2 = r2.length, o2 = false, a2 = e2 - 1; a2 >= 0; a2--) r2[a2] && !Hs(r2[a2]) ? o2 = true : (r2[a2] = null, !o2 && e2--);
        r2.length = e2, t6[n2] = r2;
      }
    })), delete t6[up], t6;
  }, i2.prototype.getTheme = function() {
    return this._theme;
  }, i2.prototype.getLocaleModel = function() {
    return this._locale;
  }, i2.prototype.setUpdatePayload = function(t6) {
    this._payload = t6;
  }, i2.prototype.getUpdatePayload = function() {
    return this._payload;
  }, i2.prototype.getComponent = function(t6, i3) {
    var n2 = this._componentsMap.get(t6);
    if (n2) {
      var r2 = n2[i3 || 0];
      if (r2) return r2;
      if (null == i3) {
        for (var e2 = 0; e2 < n2.length; e2++) if (n2[e2]) return n2[e2];
      }
    }
  }, i2.prototype.queryComponents = function(t6) {
    var i3 = t6.mainType;
    if (!i3) return [];
    var n2, r2 = t6.index, e2 = t6.id, o2 = t6.name, a2 = this._componentsMap.get(i3);
    return a2 && a2.length ? (null != r2 ? (n2 = [], kn(Ds(r2), (function(t7) {
      a2[t7] && n2.push(a2[t7]);
    }))) : n2 = null != e2 ? cp("id", e2, a2) : null != o2 ? cp("name", o2, a2) : Sn(a2, (function(t7) {
      return !!t7;
    })), hp(n2, t6)) : [];
  }, i2.prototype.findComponents = function(t6) {
    var i3, n2, r2, e2, o2, a2 = t6.mainType, s2 = (n2 = a2 + "Index", r2 = a2 + "Id", e2 = a2 + "Name", !(i3 = t6.query) || null == i3[n2] && null == i3[r2] && null == i3[e2] ? null : { mainType: a2, index: i3[n2], id: i3[r2], name: i3[e2] });
    return o2 = hp(s2 ? this.queryComponents(s2) : Sn(this._componentsMap.get(a2), (function(t7) {
      return !!t7;
    })), t6), t6.filter ? Sn(o2, t6.filter) : o2;
  }, i2.prototype.eachComponent = function(t6, i3, n2) {
    var r2 = this._componentsMap;
    if (Tn(t6)) {
      var e2 = i3, o2 = t6;
      r2.each((function(t7, i4) {
        for (var n3 = 0; t7 && n3 < t7.length; n3++) {
          var r3 = t7[n3];
          r3 && o2.call(e2, i4, r3, r3.componentIndex);
        }
      }));
    } else for (var a2 = In(t6) ? r2.get(t6) : Wn(t6) ? this.findComponents(t6) : null, s2 = 0; a2 && s2 < a2.length; s2++) {
      var l2 = a2[s2];
      l2 && i3.call(n2, l2, l2.componentIndex);
    }
  }, i2.prototype.getSeriesByName = function(t6) {
    var i3 = Vs(t6, null);
    return Sn(this._componentsMap.get("series"), (function(t7) {
      return !!t7 && null != i3 && t7.name === i3;
    }));
  }, i2.prototype.getSeriesByIndex = function(t6) {
    return this._componentsMap.get("series")[t6];
  }, i2.prototype.getSeriesByType = function(t6) {
    return Sn(this._componentsMap.get("series"), (function(i3) {
      return !!i3 && i3.subType === t6;
    }));
  }, i2.prototype.getSeries = function() {
    return Sn(this._componentsMap.get("series"), (function(t6) {
      return !!t6;
    }));
  }, i2.prototype.getSeriesCount = function() {
    return this._componentsCount.get("series");
  }, i2.prototype.eachSeries = function(t6, i3) {
    ip(this), kn(this._seriesIndices, (function(n2) {
      var r2 = this._componentsMap.get("series")[n2];
      t6.call(i3, r2, n2);
    }), this);
  }, i2.prototype.eachRawSeries = function(t6, i3) {
    kn(this._componentsMap.get("series"), (function(n2) {
      n2 && t6.call(i3, n2, n2.componentIndex);
    }));
  }, i2.prototype.eachSeriesByType = function(t6, i3, n2) {
    ip(this), kn(this._seriesIndices, (function(r2) {
      var e2 = this._componentsMap.get("series")[r2];
      e2.subType === t6 && i3.call(n2, e2, r2);
    }), this);
  }, i2.prototype.eachRawSeriesByType = function(t6, i3, n2) {
    return kn(this.getSeriesByType(t6), i3, n2);
  }, i2.prototype.isSeriesFiltered = function(t6) {
    return ip(this), null == this._seriesIndicesMap.get(t6.componentIndex);
  }, i2.prototype.getCurrentSeriesIndices = function() {
    return (this._seriesIndices || []).slice();
  }, i2.prototype.filterSeries = function(t6, i3) {
    ip(this);
    var n2 = [];
    kn(this._seriesIndices, (function(r2) {
      var e2 = this._componentsMap.get("series")[r2];
      t6.call(i3, e2, r2) && n2.push(r2);
    }), this), this._seriesIndices = n2, this._seriesIndicesMap = Qn(n2);
  }, i2.prototype.restoreData = function(t6) {
    tp(this);
    var i3 = this._componentsMap, n2 = [];
    i3.each((function(t7, i4) {
      Ed.hasClass(i4) && n2.push(i4);
    })), Ed.topologicalTravel(n2, Ed.getAllClassMainTypes(), (function(n3) {
      kn(i3.get(n3), (function(i4) {
        !i4 || "series" === n3 && (function(t7, i5) {
          if (i5) {
            var n4 = i5.seriesIndex, r2 = i5.seriesId, e2 = i5.seriesName;
            return null != n4 && t7.componentIndex !== n4 || null != r2 && t7.id !== r2 || null != e2 && t7.name !== e2;
          }
        })(i4, t6) || i4.restoreData();
      }));
    }));
  }, i2.internalField = (tp = function(t6) {
    var i3 = t6._seriesIndices = [];
    kn(t6._componentsMap.get("series"), (function(t7) {
      t7 && i3.push(t7.componentIndex);
    })), t6._seriesIndicesMap = Qn(i3);
  }, ip = function() {
  }, void (np = function(t6, i3) {
    t6.option = {}, t6.option[up] = 1, t6._componentsMap = Qn({ series: [] }), t6._componentsCount = Qn();
    var n2 = i3.aria;
    Wn(n2) && null == n2.enabled && (n2.enabled = true), (function(t7, i4) {
      var n3 = t7.color && !t7.colorLayer;
      kn(i4, (function(i5, r2) {
        "colorLayer" === r2 && n3 || Ed.hasClass(r2) || ("object" == typeof i5 ? t7[r2] = t7[r2] ? pn(t7[r2], i5, false) : dn(i5) : null == t7[r2] && (t7[r2] = i5));
      }));
    })(i3, t6._theme.option), pn(i3, Rd, false), t6._mergeOption(i3, null);
  })), i2;
})(_v);
function cp(t5, i2, n2) {
  if (_n(i2)) {
    var r2 = Qn();
    return kn(i2, (function(t6) {
      null != t6 && null != Vs(t6, null) && r2.set(t6, true);
    })), Sn(n2, (function(i3) {
      return i3 && r2.get(i3[t5]);
    }));
  }
  var e2 = Vs(i2, null);
  return Sn(n2, (function(i3) {
    return i3 && null != e2 && i3[t5] === e2;
  }));
}
function hp(t5, i2) {
  return i2.hasOwnProperty("subType") ? Sn(t5, (function(t6) {
    return t6 && t6.subType === i2.subType;
  })) : t5;
}
function vp(t5) {
  var i2 = Qn();
  return t5 && kn(Ds(t5.replaceMerge), (function(t6) {
    i2.set(t6, true);
  })), { replaceMergeMainTypeMap: i2 };
}
wn(fp, ap);
var dp = ["getDom", "getZr", "getWidth", "getHeight", "getDevicePixelRatio", "dispatchAction", "isSSR", "isDisposed", "on", "off", "getDataURL", "getConnectedDataURL", "getOption", "getId", "updateLabelLayout"], pp = function(t5) {
  kn(dp, (function(i2) {
    this[i2] = An(t5[i2], t5);
  }), this);
}, mp = {}, bp = (function() {
  function t5() {
    this._coordinateSystems = [];
  }
  return t5.prototype.create = function(t6, i2) {
    var n2 = [];
    kn(mp, (function(r2) {
      var e2 = r2.create(t6, i2);
      n2 = n2.concat(e2 || []);
    })), this._coordinateSystems = n2;
  }, t5.prototype.update = function(t6, i2) {
    kn(this._coordinateSystems, (function(n2) {
      n2.update && n2.update(t6, i2);
    }));
  }, t5.prototype.getCoordinateSystems = function() {
    return this._coordinateSystems.slice();
  }, t5.register = function(t6, i2) {
    mp[t6] = i2;
  }, t5.get = function(t6) {
    return mp[t6];
  }, t5;
})(), gp = /^(min|max)?(.+)$/, yp = (function() {
  function t5(t6) {
    this._timelineOptions = [], this._mediaList = [], this._currentMediaIndices = [], this._api = t6;
  }
  return t5.prototype.setOption = function(t6, i2) {
    t6 && (kn(Ds(t6.series), (function(t7) {
      t7 && t7.data && On(t7.data) && Gn(t7.data);
    })), kn(Ds(t6.dataset), (function(t7) {
      t7 && t7.source && On(t7.source) && Gn(t7.source);
    }))), t6 = dn(t6);
    var n2 = this._optionBackup, r2 = (function(t7, i3, n3) {
      var r3, e2, o2 = [], a2 = t7.baseOption, s2 = t7.timeline, l2 = t7.options, u2 = t7.media, f2 = !!t7.media, c2 = !!(l2 || s2 || a2 && a2.timeline);
      function h2(t8) {
        kn(i3, (function(i4) {
          i4(t8, n3);
        }));
      }
      return a2 ? (e2 = a2).timeline || (e2.timeline = s2) : ((c2 || f2) && (t7.options = t7.media = null), e2 = t7), f2 && _n(u2) && kn(u2, (function(t8) {
        t8 && t8.option && (t8.query ? o2.push(t8) : r3 || (r3 = t8));
      })), h2(e2), kn(l2, (function(t8) {
        return h2(t8);
      })), kn(o2, (function(t8) {
        return h2(t8.option);
      })), { baseOption: e2, timelineOptions: l2 || [], mediaDefault: r3, mediaList: o2 };
    })(t6, i2, !n2);
    this._newBaseOption = r2.baseOption, n2 ? (r2.timelineOptions.length && (n2.timelineOptions = r2.timelineOptions), r2.mediaList.length && (n2.mediaList = r2.mediaList), r2.mediaDefault && (n2.mediaDefault = r2.mediaDefault)) : this._optionBackup = r2;
  }, t5.prototype.mountOption = function(t6) {
    var i2 = this._optionBackup;
    return this._timelineOptions = i2.timelineOptions, this._mediaList = i2.mediaList, this._mediaDefault = i2.mediaDefault, this._currentMediaIndices = [], dn(t6 ? i2.baseOption : this._newBaseOption);
  }, t5.prototype.getTimelineOption = function(t6) {
    var i2, n2 = this._timelineOptions;
    if (n2.length) {
      var r2 = t6.getComponent("timeline");
      r2 && (i2 = dn(n2[r2.getCurrentIndex()]));
    }
    return i2;
  }, t5.prototype.getMediaOption = function() {
    var t6, i2 = this._api.getWidth(), n2 = this._api.getHeight(), r2 = this._mediaList, e2 = this._mediaDefault, o2 = [], a2 = [];
    if (!r2.length && !e2) return a2;
    for (var s2 = 0, l2 = r2.length; s2 < l2; s2++) wp(r2[s2].query, i2, n2) && o2.push(s2);
    return !o2.length && e2 && (o2 = [-1]), o2.length && (t6 = this._currentMediaIndices, o2.join(",") !== t6.join(",")) && (a2 = Mn(o2, (function(t7) {
      return dn(-1 === t7 ? e2.option : r2[t7].option);
    }))), this._currentMediaIndices = o2, a2;
  }, t5;
})();
function wp(t5, i2, n2) {
  var r2 = { width: i2, height: n2, aspectratio: i2 / n2 }, e2 = true;
  return kn(t5, (function(t6, i3) {
    var n3 = i3.match(gp);
    if (n3 && n3[1] && n3[2]) {
      var o2 = n3[1], a2 = n3[2].toLowerCase();
      (function(t7, i4, n4) {
        return "min" === n4 ? t7 >= i4 : "max" === n4 ? t7 <= i4 : t7 === i4;
      })(r2[a2], t6, o2) || (e2 = false);
    }
  })), e2;
}
var xp = kn, kp = Wn, Mp = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"];
function zp(t5) {
  var i2 = t5 && t5.itemStyle;
  if (i2) for (var n2 = 0, r2 = Mp.length; n2 < r2; n2++) {
    var e2 = Mp[n2], o2 = i2.normal, a2 = i2.emphasis;
    o2 && o2[e2] && (t5[e2] = t5[e2] || {}, t5[e2].normal ? pn(t5[e2].normal, o2[e2]) : t5[e2].normal = o2[e2], o2[e2] = null), a2 && a2[e2] && (t5[e2] = t5[e2] || {}, t5[e2].emphasis ? pn(t5[e2].emphasis, a2[e2]) : t5[e2].emphasis = a2[e2], a2[e2] = null);
  }
}
function Sp(t5, i2, n2) {
  if (t5 && t5[i2] && (t5[i2].normal || t5[i2].emphasis)) {
    var r2 = t5[i2].normal, e2 = t5[i2].emphasis;
    r2 && (n2 ? (t5[i2].normal = t5[i2].emphasis = null, gn(t5[i2], r2)) : t5[i2] = r2), e2 && (t5.emphasis = t5.emphasis || {}, t5.emphasis[i2] = e2, e2.focus && (t5.emphasis.focus = e2.focus), e2.blurScope && (t5.emphasis.blurScope = e2.blurScope));
  }
}
function Cp(t5) {
  Sp(t5, "itemStyle"), Sp(t5, "lineStyle"), Sp(t5, "areaStyle"), Sp(t5, "label"), Sp(t5, "labelLine"), Sp(t5, "upperLabel"), Sp(t5, "edgeLabel");
}
function Ap(t5, i2) {
  var n2 = kp(t5) && t5[i2], r2 = kp(n2) && n2.textStyle;
  if (r2) for (var e2 = 0, o2 = Es.length; e2 < o2; e2++) {
    var a2 = Es[e2];
    r2.hasOwnProperty(a2) && (n2[a2] = r2[a2]);
  }
}
function Np(t5) {
  t5 && (Cp(t5), Ap(t5, "label"), t5.emphasis && Ap(t5.emphasis, "label"));
}
function _p(t5) {
  return _n(t5) ? t5 : t5 ? [t5] : [];
}
function Tp(t5) {
  return (_n(t5) ? t5[0] : t5) || {};
}
function Ip(t5) {
  t5 && kn(Lp, (function(i2) {
    i2[0] in t5 && !(i2[1] in t5) && (t5[i2[1]] = t5[i2[0]]);
  }));
}
var Lp = [["x", "left"], ["y", "top"], ["x2", "right"], ["y2", "bottom"]], Dp = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"], Wp = [["borderRadius", "barBorderRadius"], ["borderColor", "barBorderColor"], ["borderWidth", "barBorderWidth"]];
function Ep(t5) {
  var i2 = t5 && t5.itemStyle;
  if (i2) for (var n2 = 0; n2 < Wp.length; n2++) {
    var r2 = Wp[n2][1];
    null != i2[r2] && (i2[Wp[n2][0]] = i2[r2]);
  }
}
function Op(t5) {
  t5 && "edge" === t5.alignTo && null != t5.margin && null == t5.edgeDistance && (t5.edgeDistance = t5.margin);
}
function Fp(t5) {
  t5 && t5.downplay && !t5.blur && (t5.blur = t5.downplay);
}
function Rp(t5, i2) {
  if (t5) for (var n2 = 0; n2 < t5.length; n2++) i2(t5[n2]), t5[n2] && Rp(t5[n2].children, i2);
}
function Pp(t5, i2) {
  (function(t6, i3) {
    xp(_p(t6.series), (function(t7) {
      kp(t7) && (function(t8) {
        if (kp(t8)) {
          zp(t8), Cp(t8), Ap(t8, "label"), Ap(t8, "upperLabel"), Ap(t8, "edgeLabel"), t8.emphasis && (Ap(t8.emphasis, "label"), Ap(t8.emphasis, "upperLabel"), Ap(t8.emphasis, "edgeLabel"));
          var i4 = t8.markPoint;
          i4 && (zp(i4), Np(i4));
          var n3 = t8.markLine;
          n3 && (zp(n3), Np(n3));
          var r2 = t8.markArea;
          r2 && Np(r2);
          var e2 = t8.data;
          if ("graph" === t8.type) {
            e2 = e2 || t8.nodes;
            var o2 = t8.links || t8.edges;
            if (o2 && !On(o2)) for (var a2 = 0; a2 < o2.length; a2++) Np(o2[a2]);
            kn(t8.categories, (function(t9) {
              Cp(t9);
            }));
          }
          if (e2 && !On(e2)) for (a2 = 0; a2 < e2.length; a2++) Np(e2[a2]);
          if ((i4 = t8.markPoint) && i4.data) {
            var s2 = i4.data;
            for (a2 = 0; a2 < s2.length; a2++) Np(s2[a2]);
          }
          if ((n3 = t8.markLine) && n3.data) {
            var l2 = n3.data;
            for (a2 = 0; a2 < l2.length; a2++) _n(l2[a2]) ? (Np(l2[a2][0]), Np(l2[a2][1])) : Np(l2[a2]);
          }
          "gauge" === t8.type ? (Ap(t8, "axisLabel"), Ap(t8, "title"), Ap(t8, "detail")) : "treemap" === t8.type ? (Sp(t8.breadcrumb, "itemStyle"), kn(t8.levels, (function(t9) {
            Cp(t9);
          }))) : "tree" === t8.type && Cp(t8.leaves);
        }
      })(t7);
    }));
    var n2 = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"];
    i3 && n2.push("valueAxis", "categoryAxis", "logAxis", "timeAxis"), xp(n2, (function(i4) {
      xp(_p(t6[i4]), (function(t7) {
        t7 && (Ap(t7, "axisLabel"), Ap(t7.axisPointer, "label"));
      }));
    })), xp(_p(t6.parallel), (function(t7) {
      var i4 = t7 && t7.parallelAxisDefault;
      Ap(i4, "axisLabel"), Ap(i4 && i4.axisPointer, "label");
    })), xp(_p(t6.calendar), (function(t7) {
      Sp(t7, "itemStyle"), Ap(t7, "dayLabel"), Ap(t7, "monthLabel"), Ap(t7, "yearLabel");
    })), xp(_p(t6.radar), (function(t7) {
      Ap(t7, "name"), t7.name && null == t7.axisName && (t7.axisName = t7.name, delete t7.name), null != t7.nameGap && null == t7.axisNameGap && (t7.axisNameGap = t7.nameGap, delete t7.nameGap);
    })), xp(_p(t6.geo), (function(t7) {
      kp(t7) && (Np(t7), xp(_p(t7.regions), (function(t8) {
        Np(t8);
      })));
    })), xp(_p(t6.timeline), (function(t7) {
      Np(t7), Sp(t7, "label"), Sp(t7, "itemStyle"), Sp(t7, "controlStyle", true);
      var i4 = t7.data;
      _n(i4) && kn(i4, (function(t8) {
        Wn(t8) && (Sp(t8, "label"), Sp(t8, "itemStyle"));
      }));
    })), xp(_p(t6.toolbox), (function(t7) {
      Sp(t7, "iconStyle"), xp(t7.feature, (function(t8) {
        Sp(t8, "iconStyle");
      }));
    })), Ap(Tp(t6.axisPointer), "label"), Ap(Tp(t6.tooltip).axisPointer, "label");
  })(t5, i2), t5.series = Ds(t5.series), kn(t5.series, (function(t6) {
    if (Wn(t6)) {
      var i3 = t6.type;
      if ("line" === i3) null != t6.clipOverflow && (t6.clip = t6.clipOverflow);
      else if ("pie" === i3 || "gauge" === i3) {
        if (null != t6.clockWise && (t6.clockwise = t6.clockWise), Op(t6.label), (e2 = t6.data) && !On(e2)) for (var n2 = 0; n2 < e2.length; n2++) Op(e2[n2]);
        null != t6.hoverOffset && (t6.emphasis = t6.emphasis || {}, (t6.emphasis.scaleSize = null) && (t6.emphasis.scaleSize = t6.hoverOffset));
      } else if ("gauge" === i3) {
        var r2 = (function(t7) {
          for (var i4 = "pointer.color".split(","), n3 = t7, r3 = 0; r3 < i4.length && null != (n3 = n3 && n3[i4[r3]]); r3++) ;
          return n3;
        })(t6);
        null != r2 && (function(t7, i4, n3) {
          for (var r3, e3 = "itemStyle.color".split(","), o3 = t7, a2 = 0; a2 < e3.length - 1; a2++) null == o3[r3 = e3[a2]] && (o3[r3] = {}), o3 = o3[r3];
          null == o3[e3[a2]] && (o3[e3[a2]] = n3);
        })(t6, 0, r2);
      } else if ("bar" === i3) {
        var e2;
        if (Ep(t6), Ep(t6.backgroundStyle), Ep(t6.emphasis), (e2 = t6.data) && !On(e2)) for (n2 = 0; n2 < e2.length; n2++) "object" == typeof e2[n2] && (Ep(e2[n2]), Ep(e2[n2] && e2[n2].emphasis));
      } else if ("sunburst" === i3) {
        var o2 = t6.highlightPolicy;
        o2 && (t6.emphasis = t6.emphasis || {}, t6.emphasis.focus || (t6.emphasis.focus = o2)), Fp(t6), Rp(t6.data, Fp);
      } else "graph" === i3 || "sankey" === i3 ? (function(t7) {
        t7 && null != t7.focusNodeAdjacency && (t7.emphasis = t7.emphasis || {}, null == t7.emphasis.focus && (t7.emphasis.focus = "adjacency"));
      })(t6) : "map" === i3 && (t6.mapType && !t6.map && (t6.map = t6.mapType), t6.mapLocation && gn(t6, t6.mapLocation));
      null != t6.hoverAnimation && (t6.emphasis = t6.emphasis || {}, t6.emphasis && null == t6.emphasis.scale && (t6.emphasis.scale = t6.hoverAnimation)), Ip(t6);
    }
  })), t5.dataRange && (t5.visualMap = t5.dataRange), kn(Dp, (function(i3) {
    var n2 = t5[i3];
    n2 && (_n(n2) || (n2 = [n2]), kn(n2, (function(t6) {
      Ip(t6);
    })));
  }));
}
function Bp(t5) {
  kn(t5, (function(i2, n2) {
    var r2 = [], e2 = [NaN, NaN], o2 = [i2.stackResultDimension, i2.stackedOverDimension], a2 = i2.data, s2 = i2.isStackedByIndex, l2 = i2.seriesModel.get("stackStrategy") || "samesign";
    a2.modify(o2, (function(o3, u2, f2) {
      var c2, h2, v2 = a2.get(i2.stackedDimension, f2);
      if (isNaN(v2)) return e2;
      s2 ? h2 = a2.getRawIndex(f2) : c2 = a2.get(i2.stackedByDimension, f2);
      for (var d2 = NaN, p2 = n2 - 1; p2 >= 0; p2--) {
        var m2 = t5[p2];
        if (s2 || (h2 = m2.data.rawIndexOf(m2.stackedByDimension, c2)), h2 >= 0) {
          var b2 = m2.data.getByRawIndex(m2.stackResultDimension, h2);
          if ("all" === l2 || "positive" === l2 && b2 > 0 || "negative" === l2 && b2 < 0 || "samesign" === l2 && v2 >= 0 && b2 > 0 || "samesign" === l2 && v2 <= 0 && b2 < 0) {
            v2 = ds(v2, b2), d2 = b2;
            break;
          }
        }
      }
      return r2[0] = v2, r2[1] = d2, r2;
    }));
  }));
}
var Vp, jp, Hp, Yp, Xp, Up = function(t5) {
  this.data = t5.data || (t5.sourceFormat === Hd ? {} : []), this.sourceFormat = t5.sourceFormat || Xd, this.seriesLayoutBy = t5.seriesLayoutBy || Ud, this.startIndex = t5.startIndex || 0, this.dimensionsDetectedCount = t5.dimensionsDetectedCount, this.metaRawOption = t5.metaRawOption;
  var i2 = this.dimensionsDefine = t5.dimensionsDefine;
  if (i2) for (var n2 = 0; n2 < i2.length; n2++) {
    var r2 = i2[n2];
    null == r2.type && 1 === Kd(this, n2) && (r2.type = "ordinal");
  }
};
function $p(t5) {
  return t5 instanceof Up;
}
function Gp(t5, i2, n2) {
  n2 = n2 || qp(t5);
  var r2 = i2.seriesLayoutBy, e2 = (function(t6, i3, n3, r3, e3) {
    var o2, a2;
    if (!t6) return { dimensionsDefine: Jp(e3), startIndex: a2, dimensionsDetectedCount: o2 };
    if (i3 === Vd) {
      var s2 = t6;
      "auto" === r3 || null == r3 ? Kp((function(t7) {
        null != t7 && "-" !== t7 && (In(t7) ? null == a2 && (a2 = 1) : a2 = 0);
      }), n3, s2, 10) : a2 = Dn(r3) ? r3 : r3 ? 1 : 0, e3 || 1 !== a2 || (e3 = [], Kp((function(t7, i4) {
        e3[i4] = null != t7 ? t7 + "" : "";
      }), n3, s2, 1 / 0)), o2 = e3 ? e3.length : n3 === $d ? s2.length : s2[0] ? s2[0].length : null;
    } else if (i3 === jd) e3 || (e3 = (function(t7) {
      for (var i4, n4 = 0; n4 < t7.length && !(i4 = t7[n4++]); ) ;
      if (i4) return Cn(i4);
    })(t6));
    else if (i3 === Hd) e3 || (e3 = [], kn(t6, (function(t7, i4) {
      e3.push(i4);
    })));
    else if (i3 === Bd) {
      var l2 = Os(t6[0]);
      o2 = _n(l2) && l2.length || 1;
    }
    return { startIndex: a2, dimensionsDefine: Jp(e3), dimensionsDetectedCount: o2 };
  })(t5, n2, r2, i2.sourceHeader, i2.dimensions);
  return new Up({ data: t5, sourceFormat: n2, seriesLayoutBy: r2, dimensionsDefine: e2.dimensionsDefine, startIndex: e2.startIndex, dimensionsDetectedCount: e2.dimensionsDetectedCount, metaRawOption: dn(i2) });
}
function Zp(t5) {
  return new Up({ data: t5, sourceFormat: On(t5) ? Yd : Bd });
}
function qp(t5) {
  var i2 = Xd;
  if (On(t5)) i2 = Yd;
  else if (_n(t5)) {
    0 === t5.length && (i2 = Vd);
    for (var n2 = 0, r2 = t5.length; n2 < r2; n2++) {
      var e2 = t5[n2];
      if (null != e2) {
        if (_n(e2) || On(e2)) {
          i2 = Vd;
          break;
        }
        if (Wn(e2)) {
          i2 = jd;
          break;
        }
      }
    }
  } else if (Wn(t5)) {
    for (var o2 in t5) if (rr(t5, o2) && xn(t5[o2])) {
      i2 = Hd;
      break;
    }
  }
  return i2;
}
function Jp(t5) {
  if (t5) {
    var i2 = Qn();
    return Mn(t5, (function(t6) {
      var n2 = { name: (t6 = Wn(t6) ? t6 : { name: t6 }).name, displayName: t6.displayName, type: t6.type };
      if (null == n2.name) return n2;
      n2.name += "", null == n2.displayName && (n2.displayName = n2.name);
      var r2 = i2.get(n2.name);
      return r2 ? n2.name += "-" + r2.count++ : i2.set(n2.name, { count: 1 }), n2;
    }));
  }
}
function Kp(t5, i2, n2, r2) {
  if (i2 === $d) for (var e2 = 0; e2 < n2.length && e2 < r2; e2++) t5(n2[e2] ? n2[e2][0] : null, e2);
  else {
    var o2 = n2[0] || [];
    for (e2 = 0; e2 < o2.length && e2 < r2; e2++) t5(o2[e2], e2);
  }
}
var Qp = (function() {
  function t5(t6, i2) {
    var n2 = $p(t6) ? t6 : Zp(t6);
    this._source = n2;
    var r2 = this._data = n2.data;
    n2.sourceFormat === Yd && (this._offset = 0, this._dimSize = i2, this._data = r2), Xp(this, r2, n2);
  }
  return t5.prototype.getSource = function() {
    return this._source;
  }, t5.prototype.count = function() {
    return 0;
  }, t5.prototype.getItem = function() {
  }, t5.prototype.appendData = function() {
  }, t5.prototype.clean = function() {
  }, t5.protoInitialize = (function() {
    var i2 = t5.prototype;
    i2.pure = false, i2.persistent = true;
  })(), t5.internalField = (function() {
    var t6;
    Xp = function(t7, e3, o2) {
      var a2 = o2.sourceFormat, s2 = o2.seriesLayoutBy, l2 = o2.startIndex, u2 = o2.dimensionsDefine;
      if (bn(t7, Yp[um(a2, s2)]), a2 === Yd) t7.getItem = i2, t7.count = r2, t7.fillStorage = n2;
      else {
        var f2 = nm(a2, s2);
        t7.getItem = An(f2, null, e3, l2, u2);
        var c2 = om(a2, s2);
        t7.count = An(c2, null, e3, l2, u2);
      }
    };
    var i2 = function(t7, i3) {
      i3 = i3 || [];
      for (var n3 = this._data, r3 = this._dimSize, e3 = r3 * (t7 -= this._offset), o2 = 0; o2 < r3; o2++) i3[o2] = n3[e3 + o2];
      return i3;
    }, n2 = function(t7, i3, n3, r3) {
      for (var e3 = this._data, o2 = this._dimSize, a2 = 0; a2 < o2; a2++) {
        for (var s2 = r3[a2], l2 = null == s2[0] ? 1 / 0 : s2[0], u2 = null == s2[1] ? -1 / 0 : s2[1], f2 = i3 - t7, c2 = n3[a2], h2 = 0; h2 < f2; h2++) {
          var v2 = e3[h2 * o2 + a2];
          c2[t7 + h2] = v2, v2 < l2 && (l2 = v2), v2 > u2 && (u2 = v2);
        }
        s2[0] = l2, s2[1] = u2;
      }
    }, r2 = function() {
      return this._data ? this._data.length / this._dimSize : 0;
    };
    function e2(t7) {
      for (var i3 = 0; i3 < t7.length; i3++) this._data.push(t7[i3]);
    }
    (t6 = {})[Vd + "_" + Ud] = { pure: true, appendData: e2 }, t6[Vd + "_" + $d] = { pure: true, appendData: function() {
      throw new Error('Do not support appendData when set seriesLayoutBy: "row".');
    } }, t6[jd] = { pure: true, appendData: e2 }, t6[Hd] = { pure: true, appendData: function(t7) {
      var i3 = this._data;
      kn(t7, (function(t8, n3) {
        for (var r3 = i3[n3] || (i3[n3] = []), e3 = 0; e3 < (t8 || []).length; e3++) r3.push(t8[e3]);
      }));
    } }, t6[Bd] = { appendData: e2 }, t6[Yd] = { persistent: false, pure: true, appendData: function(t7) {
      this._data = t7;
    }, clean: function() {
      this._offset += this.count(), this._data = null;
    } }, Yp = t6;
  })(), t5;
})(), tm = function(t5, i2, n2, r2) {
  return t5[r2];
}, im = ((Vp = {})[Vd + "_" + Ud] = function(t5, i2, n2, r2) {
  return t5[r2 + i2];
}, Vp[Vd + "_" + $d] = function(t5, i2, n2, r2, e2) {
  r2 += i2;
  for (var o2 = e2 || [], a2 = t5, s2 = 0; s2 < a2.length; s2++) {
    var l2 = a2[s2];
    o2[s2] = l2 ? l2[r2] : null;
  }
  return o2;
}, Vp[jd] = tm, Vp[Hd] = function(t5, i2, n2, r2, e2) {
  for (var o2 = e2 || [], a2 = 0; a2 < n2.length; a2++) {
    var s2 = t5[n2[a2].name];
    o2[a2] = s2 ? s2[r2] : null;
  }
  return o2;
}, Vp[Bd] = tm, Vp);
function nm(t5, i2) {
  return im[um(t5, i2)];
}
var rm = function(t5) {
  return t5.length;
}, em = ((jp = {})[Vd + "_" + Ud] = function(t5, i2) {
  return Math.max(0, t5.length - i2);
}, jp[Vd + "_" + $d] = function(t5, i2) {
  var n2 = t5[0];
  return n2 ? Math.max(0, n2.length - i2) : 0;
}, jp[jd] = rm, jp[Hd] = function(t5, i2, n2) {
  var r2 = t5[n2[0].name];
  return r2 ? r2.length : 0;
}, jp[Bd] = rm, jp);
function om(t5, i2) {
  return em[um(t5, i2)];
}
var am = function(t5, i2) {
  return t5[i2];
}, sm = ((Hp = {})[Vd] = am, Hp[jd] = function(t5, i2, n2) {
  return t5[n2];
}, Hp[Hd] = am, Hp[Bd] = function(t5, i2) {
  var n2 = Os(t5);
  return n2 instanceof Array ? n2[i2] : n2;
}, Hp[Yd] = am, Hp);
function lm(t5) {
  return sm[t5];
}
function um(t5, i2) {
  return t5 === Vd ? t5 + "_" + i2 : t5;
}
function fm(t5, i2, n2) {
  if (t5) {
    var r2 = t5.getRawDataItem(i2);
    if (null != r2) {
      var e2 = t5.getStore(), o2 = e2.getSource().sourceFormat;
      if (null != n2) {
        var a2 = t5.getDimensionIndex(n2), s2 = e2.getDimensionProperty(a2);
        return lm(o2)(r2, a2, s2);
      }
      var l2 = r2;
      return o2 === Bd && (l2 = Os(r2)), l2;
    }
  }
}
var cm = /\{@(.+?)\}/g, hm = (function() {
  function t5() {
  }
  return t5.prototype.getDataParams = function(t6, i2) {
    var n2 = this.getData(i2), r2 = this.getRawValue(t6, i2), e2 = n2.getRawIndex(t6), o2 = n2.getName(t6), a2 = n2.getRawDataItem(t6), s2 = n2.getItemVisual(t6, "style"), l2 = s2 && s2[n2.getItemVisual(t6, "drawType") || "fill"], u2 = s2 && s2.stroke, f2 = this.mainType, c2 = "series" === f2, h2 = n2.userOutput && n2.userOutput.get();
    return { componentType: f2, componentSubType: this.subType, componentIndex: this.componentIndex, seriesType: c2 ? this.subType : null, seriesIndex: this.seriesIndex, seriesId: c2 ? this.id : null, seriesName: c2 ? this.name : null, name: o2, dataIndex: e2, data: a2, dataType: i2, value: r2, color: l2, borderColor: u2, dimensionNames: h2 ? h2.fullDimensions : null, encode: h2 ? h2.encode : null, $vars: ["seriesName", "name", "value"] };
  }, t5.prototype.getFormattedLabel = function(t6, i2, n2, r2, e2, o2) {
    i2 = i2 || "normal";
    var a2 = this.getData(n2), s2 = this.getDataParams(t6, n2);
    return o2 && (s2.value = o2.interpolatedValue), null != r2 && _n(s2.value) && (s2.value = s2.value[r2]), e2 || (e2 = a2.getItemModel(t6).get("normal" === i2 ? ["label", "formatter"] : [i2, "label", "formatter"])), Tn(e2) ? (s2.status = i2, s2.dimensionIndex = r2, e2(s2)) : In(e2) ? wd(e2, s2).replace(cm, (function(i3, n3) {
      var r3 = n3.length, e3 = n3;
      "[" === e3.charAt(0) && "]" === e3.charAt(r3 - 1) && (e3 = +e3.slice(1, r3 - 1));
      var s3 = fm(a2, t6, e3);
      if (o2 && _n(o2.interpolatedValue)) {
        var l2 = a2.getDimensionIndex(e3);
        l2 >= 0 && (s3 = o2.interpolatedValue[l2]);
      }
      return null != s3 ? s3 + "" : "";
    })) : void 0;
  }, t5.prototype.getRawValue = function(t6, i2) {
    return fm(this.getData(i2), t6);
  }, t5.prototype.formatTooltip = function() {
  }, t5;
})();
function vm(t5) {
  var i2, n2;
  return Wn(t5) ? t5.type && (n2 = t5) : i2 = t5, { text: i2, frag: n2 };
}
function dm(t5) {
  return new pm(t5);
}
var pm = (function() {
  function t5(t6) {
    this._reset = (t6 = t6 || {}).reset, this._plan = t6.plan, this._count = t6.count, this._onDirty = t6.onDirty, this._dirty = true;
  }
  return t5.prototype.perform = function(t6) {
    var i2, n2 = this._upstream, r2 = t6 && t6.skip;
    if (this._dirty && n2) {
      var e2 = this.context;
      e2.data = e2.outputData = n2.context.outputData;
    }
    this.__pipeline && (this.__pipeline.currentTask = this), this._plan && !r2 && (i2 = this._plan(this.context));
    var o2, a2 = f2(this._modBy), s2 = this._modDataCount || 0, l2 = f2(t6 && t6.modBy), u2 = t6 && t6.modDataCount || 0;
    function f2(t7) {
      return !(t7 >= 1) && (t7 = 1), t7;
    }
    a2 === l2 && s2 === u2 || (i2 = "reset"), (this._dirty || "reset" === i2) && (this._dirty = false, o2 = this._doReset(r2)), this._modBy = l2, this._modDataCount = u2;
    var c2 = t6 && t6.step;
    if (this._dueEnd = n2 ? n2._outputDueEnd : this._count ? this._count(this.context) : 1 / 0, this._progress) {
      var h2 = this._dueIndex, v2 = Math.min(null != c2 ? this._dueIndex + c2 : 1 / 0, this._dueEnd);
      if (!r2 && (o2 || h2 < v2)) {
        var d2 = this._progress;
        if (_n(d2)) for (var p2 = 0; p2 < d2.length; p2++) this._doProgress(d2[p2], h2, v2, l2, u2);
        else this._doProgress(d2, h2, v2, l2, u2);
      }
      this._dueIndex = v2, this._outputDueEnd = null != this._settedOutputEnd ? this._settedOutputEnd : v2;
    } else this._dueIndex = this._outputDueEnd = null != this._settedOutputEnd ? this._settedOutputEnd : this._dueEnd;
    return this.unfinished();
  }, t5.prototype.dirty = function() {
    this._dirty = true, this._onDirty && this._onDirty(this.context);
  }, t5.prototype._doProgress = function(t6, i2, n2, r2, e2) {
    mm.reset(i2, n2, r2, e2), this._callingProgress = t6, this._callingProgress({ start: i2, end: n2, count: n2 - i2, next: mm.next }, this.context);
  }, t5.prototype._doReset = function(t6) {
    var i2, n2;
    this._dueIndex = this._outputDueEnd = this._dueEnd = 0, this._settedOutputEnd = null, !t6 && this._reset && ((i2 = this._reset(this.context)) && i2.progress && (n2 = i2.forceFirstProgress, i2 = i2.progress), _n(i2) && !i2.length && (i2 = null)), this._progress = i2, this._modBy = this._modDataCount = null;
    var r2 = this._downstream;
    return r2 && r2.dirty(), n2;
  }, t5.prototype.unfinished = function() {
    return this._progress && this._dueIndex < this._dueEnd;
  }, t5.prototype.pipe = function(t6) {
    (this._downstream !== t6 || this._dirty) && (this._downstream = t6, t6._upstream = this, t6.dirty());
  }, t5.prototype.dispose = function() {
    this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = false, this._disposed = true);
  }, t5.prototype.getUpstream = function() {
    return this._upstream;
  }, t5.prototype.getDownstream = function() {
    return this._downstream;
  }, t5.prototype.setOutputEnd = function(t6) {
    this._outputDueEnd = this._settedOutputEnd = t6;
  }, t5;
})(), mm = /* @__PURE__ */ (function() {
  var t5, i2, n2, r2, e2, o2 = { reset: function(l2, u2, f2, c2) {
    i2 = l2, t5 = u2, n2 = f2, r2 = c2, e2 = Math.ceil(r2 / n2), o2.next = n2 > 1 && r2 > 0 ? s2 : a2;
  } };
  return o2;
  function a2() {
    return i2 < t5 ? i2++ : null;
  }
  function s2() {
    var o3 = i2 % e2 * n2 + Math.ceil(i2 / e2), a3 = i2 >= t5 ? null : o3 < r2 ? o3 : i2;
    return i2++, a3;
  }
})();
function bm(t5, i2) {
  var n2 = i2 && i2.type;
  return "ordinal" === n2 ? t5 : ("time" !== n2 || Dn(t5) || null == t5 || "-" === t5 || (t5 = +ys(t5)), null == t5 || "" === t5 ? NaN : Number(t5));
}
var gm = Qn({ number: function(t5) {
  return parseFloat(t5);
}, time: function(t5) {
  return +ys(t5);
}, trim: function(t5) {
  return In(t5) ? Un(t5) : t5;
} });
function ym(t5) {
  return gm.get(t5);
}
var wm = { lt: function(t5, i2) {
  return t5 < i2;
}, lte: function(t5, i2) {
  return t5 <= i2;
}, gt: function(t5, i2) {
  return t5 > i2;
}, gte: function(t5, i2) {
  return t5 >= i2;
} }, xm = (function() {
  function t5(t6, i2) {
    Dn(i2) || _s(""), this._opFn = wm[t6], this._rvalFloat = zs(i2);
  }
  return t5.prototype.evaluate = function(t6) {
    return Dn(t6) ? this._opFn(t6, this._rvalFloat) : this._opFn(zs(t6), this._rvalFloat);
  }, t5;
})(), km = (function() {
  function t5(t6, i2) {
    var n2 = "desc" === t6;
    this._resultLT = n2 ? 1 : -1, null == i2 && (i2 = n2 ? "min" : "max"), this._incomparable = "min" === i2 ? -1 / 0 : 1 / 0;
  }
  return t5.prototype.evaluate = function(t6, i2) {
    var n2 = Dn(t6) ? t6 : zs(t6), r2 = Dn(i2) ? i2 : zs(i2), e2 = isNaN(n2), o2 = isNaN(r2);
    if (e2 && (n2 = this._incomparable), o2 && (r2 = this._incomparable), e2 && o2) {
      var a2 = In(t6), s2 = In(i2);
      a2 && (n2 = s2 ? t6 : 0), s2 && (r2 = a2 ? i2 : 0);
    }
    return n2 < r2 ? this._resultLT : n2 > r2 ? -this._resultLT : 0;
  }, t5;
})(), Mm = (function() {
  function t5(t6, i2) {
    this._rval = i2, this._isEQ = t6, this._rvalTypeof = typeof i2, this._rvalFloat = zs(i2);
  }
  return t5.prototype.evaluate = function(t6) {
    var i2 = t6 === this._rval;
    if (!i2) {
      var n2 = typeof t6;
      n2 === this._rvalTypeof || "number" !== n2 && "number" !== this._rvalTypeof || (i2 = zs(t6) === this._rvalFloat);
    }
    return this._isEQ ? i2 : !i2;
  }, t5;
})();
function zm(t5, i2) {
  return "eq" === t5 || "ne" === t5 ? new Mm("eq" === t5, i2) : rr(wm, t5) ? new xm(t5, i2) : null;
}
var Sm = (function() {
  function t5() {
  }
  return t5.prototype.getRawData = function() {
    throw new Error("not supported");
  }, t5.prototype.getRawDataItem = function() {
    throw new Error("not supported");
  }, t5.prototype.cloneRawData = function() {
  }, t5.prototype.getDimensionInfo = function() {
  }, t5.prototype.cloneAllDimensionInfo = function() {
  }, t5.prototype.count = function() {
  }, t5.prototype.retrieveValue = function() {
  }, t5.prototype.retrieveValueFromItem = function() {
  }, t5.prototype.convertValue = function(t6, i2) {
    return bm(t6, i2);
  }, t5;
})();
function Cm(t5) {
  return Lm(t5.sourceFormat) || _s(""), t5.data;
}
function Am(t5) {
  var i2 = t5.sourceFormat, n2 = t5.data;
  if (Lm(i2) || _s(""), i2 === Vd) {
    for (var r2 = [], e2 = 0, o2 = n2.length; e2 < o2; e2++) r2.push(n2[e2].slice());
    return r2;
  }
  if (i2 === jd) {
    for (r2 = [], e2 = 0, o2 = n2.length; e2 < o2; e2++) r2.push(bn({}, n2[e2]));
    return r2;
  }
}
function Nm(t5, i2, n2) {
  if (null != n2) return Dn(n2) || !isNaN(n2) && !rr(i2, n2) ? t5[n2] : rr(i2, n2) ? i2[n2] : void 0;
}
function _m(t5) {
  return dn(t5);
}
var Tm = Qn();
function Im(t5, i2) {
  i2.length || _s(""), Wn(t5) || _s("");
  var n2 = Tm.get(t5.type);
  n2 || _s("");
  var r2 = Mn(i2, (function(t6) {
    return (function(t7, i3) {
      var n3 = new Sm(), r3 = t7.data, e2 = n3.sourceFormat = t7.sourceFormat, o2 = t7.startIndex;
      t7.seriesLayoutBy !== Ud && _s("");
      var a2 = [], s2 = {}, l2 = t7.dimensionsDefine;
      if (l2) kn(l2, (function(t8, i4) {
        var n4 = t8.name, r4 = { index: i4, name: n4, displayName: t8.displayName };
        a2.push(r4), null != n4 && (rr(s2, n4) && _s(""), s2[n4] = r4);
      }));
      else for (var u2 = 0; u2 < t7.dimensionsDetectedCount; u2++) a2.push({ index: u2 });
      var f2 = nm(e2, Ud);
      i3.__isBuiltIn && (n3.getRawDataItem = function(t8) {
        return f2(r3, o2, a2, t8);
      }, n3.getRawData = An(Cm, null, t7)), n3.cloneRawData = An(Am, null, t7);
      var c2 = om(e2, Ud);
      n3.count = An(c2, null, r3, o2, a2);
      var h2 = lm(e2);
      n3.retrieveValue = function(t8, i4) {
        var n4 = f2(r3, o2, a2, t8);
        return v2(n4, i4);
      };
      var v2 = n3.retrieveValueFromItem = function(t8, i4) {
        if (null != t8) {
          var n4 = a2[i4];
          return n4 ? h2(t8, i4, n4.name) : void 0;
        }
      };
      return n3.getDimensionInfo = An(Nm, null, a2, s2), n3.cloneAllDimensionInfo = An(_m, null, a2), n3;
    })(t6, n2);
  }));
  return Mn(Ds(n2.transform({ upstream: r2[0], upstreamList: r2, config: dn(t5.config) })), (function(t6, n3) {
    var r3;
    Wn(t6) || _s(""), t6.data || _s(""), Lm(qp(t6.data)) || _s("");
    var e2 = i2[0];
    if (e2 && 0 === n3 && !t6.dimensions) {
      var o2 = e2.startIndex;
      o2 && (t6.data = e2.data.slice(0, o2).concat(t6.data)), r3 = { seriesLayoutBy: Ud, sourceHeader: o2, dimensions: e2.metaRawOption.dimensions };
    } else r3 = { seriesLayoutBy: Ud, sourceHeader: 0, dimensions: t6.dimensions };
    return Gp(t6.data, r3, null);
  }));
}
function Lm(t5) {
  return t5 === Vd || t5 === jd;
}
var Dm, Wm = "undefined", Em = typeof Uint32Array === Wm ? Array : Uint32Array, Om = typeof Uint16Array === Wm ? Array : Uint16Array, Fm = typeof Int32Array === Wm ? Array : Int32Array, Rm = typeof Float64Array === Wm ? Array : Float64Array, Pm = { float: Rm, int: Fm, ordinal: Array, number: Array, time: Rm };
function Bm(t5) {
  return t5 > 65535 ? Em : Om;
}
function Vm(t5, i2, n2, r2, e2) {
  var o2 = Pm[n2 || "float"];
  if (e2) {
    var a2 = t5[i2], s2 = a2 && a2.length;
    if (s2 !== r2) {
      for (var l2 = new o2(r2), u2 = 0; u2 < s2; u2++) l2[u2] = a2[u2];
      t5[i2] = l2;
    }
  } else t5[i2] = new o2(r2);
}
var jm = (function() {
  function t5() {
    this._chunks = [], this._rawExtent = [], this._extent = [], this._count = 0, this._rawCount = 0, this._calcDimNameToIdx = Qn();
  }
  return t5.prototype.initData = function(t6, i2, n2) {
    this._provider = t6, this._chunks = [], this._indices = null, this.getRawIndex = this._getRawIdxIdentity;
    var r2 = t6.getSource(), e2 = this.defaultDimValueGetter = Dm[r2.sourceFormat];
    this._dimValueGetter = n2 || e2, this._rawExtent = [], this._dimensions = Mn(i2, (function(t7) {
      return { type: t7.type, property: t7.property };
    })), this._initDataFromProvider(0, t6.count());
  }, t5.prototype.getProvider = function() {
    return this._provider;
  }, t5.prototype.getSource = function() {
    return this._provider.getSource();
  }, t5.prototype.ensureCalculationDimension = function(t6, i2) {
    var n2 = this._calcDimNameToIdx, r2 = this._dimensions, e2 = n2.get(t6);
    if (null != e2) {
      if (r2[e2].type === i2) return e2;
    } else e2 = r2.length;
    return r2[e2] = { type: i2 }, n2.set(t6, e2), this._chunks[e2] = new Pm[i2 || "float"](this._rawCount), this._rawExtent[e2] = [1 / 0, -1 / 0], e2;
  }, t5.prototype.collectOrdinalMeta = function(t6, i2) {
    var n2 = this._chunks[t6], r2 = this._dimensions[t6], e2 = this._rawExtent, o2 = r2.ordinalOffset || 0, a2 = n2.length;
    0 === o2 && (e2[t6] = [1 / 0, -1 / 0]);
    for (var s2 = e2[t6], l2 = o2; l2 < a2; l2++) {
      var u2 = n2[l2] = i2.parseAndCollect(n2[l2]);
      isNaN(u2) || (s2[0] = Math.min(u2, s2[0]), s2[1] = Math.max(u2, s2[1]));
    }
    r2.ordinalMeta = i2, r2.ordinalOffset = a2, r2.type = "ordinal";
  }, t5.prototype.getOrdinalMeta = function(t6) {
    return this._dimensions[t6].ordinalMeta;
  }, t5.prototype.getDimensionProperty = function(t6) {
    var i2 = this._dimensions[t6];
    return i2 && i2.property;
  }, t5.prototype.appendData = function(t6) {
    var i2 = this._provider, n2 = this.count();
    i2.appendData(t6);
    var r2 = i2.count();
    return i2.persistent || (r2 += n2), n2 < r2 && this._initDataFromProvider(n2, r2, true), [n2, r2];
  }, t5.prototype.appendValues = function(t6, i2) {
    for (var n2 = this._chunks, r2 = this._dimensions, e2 = r2.length, o2 = this._rawExtent, a2 = this.count(), s2 = a2 + Math.max(t6.length, i2 || 0), l2 = 0; l2 < e2; l2++) Vm(n2, l2, r2[l2].type, s2, true);
    for (var u2 = [], f2 = a2; f2 < s2; f2++) for (var c2 = f2 - a2, h2 = 0; h2 < e2; h2++) {
      var v2 = Dm.arrayRows.call(this, t6[c2] || u2, r2[h2].property, c2, h2);
      n2[h2][f2] = v2;
      var d2 = o2[h2];
      v2 < d2[0] && (d2[0] = v2), v2 > d2[1] && (d2[1] = v2);
    }
    return this._rawCount = this._count = s2, { start: a2, end: s2 };
  }, t5.prototype._initDataFromProvider = function(t6, i2, n2) {
    for (var r2 = this._provider, e2 = this._chunks, o2 = this._dimensions, a2 = o2.length, s2 = this._rawExtent, l2 = Mn(o2, (function(t7) {
      return t7.property;
    })), u2 = 0; u2 < a2; u2++) {
      var f2 = o2[u2];
      s2[u2] || (s2[u2] = [1 / 0, -1 / 0]), Vm(e2, u2, f2.type, i2, n2);
    }
    if (r2.fillStorage) r2.fillStorage(t6, i2, e2, s2);
    else for (var c2 = [], h2 = t6; h2 < i2; h2++) {
      c2 = r2.getItem(h2, c2);
      for (var v2 = 0; v2 < a2; v2++) {
        var d2 = e2[v2], p2 = this._dimValueGetter(c2, l2[v2], h2, v2);
        d2[h2] = p2;
        var m2 = s2[v2];
        p2 < m2[0] && (m2[0] = p2), p2 > m2[1] && (m2[1] = p2);
      }
    }
    !r2.persistent && r2.clean && r2.clean(), this._rawCount = this._count = i2, this._extent = [];
  }, t5.prototype.count = function() {
    return this._count;
  }, t5.prototype.get = function(t6, i2) {
    if (!(i2 >= 0 && i2 < this._count)) return NaN;
    var n2 = this._chunks[t6];
    return n2 ? n2[this.getRawIndex(i2)] : NaN;
  }, t5.prototype.getValues = function(t6, i2) {
    var n2 = [], r2 = [];
    if (null == i2) {
      i2 = t6, t6 = [];
      for (var e2 = 0; e2 < this._dimensions.length; e2++) r2.push(e2);
    } else r2 = t6;
    e2 = 0;
    for (var o2 = r2.length; e2 < o2; e2++) n2.push(this.get(r2[e2], i2));
    return n2;
  }, t5.prototype.getByRawIndex = function(t6, i2) {
    if (!(i2 >= 0 && i2 < this._rawCount)) return NaN;
    var n2 = this._chunks[t6];
    return n2 ? n2[i2] : NaN;
  }, t5.prototype.getSum = function(t6) {
    var i2 = 0;
    if (this._chunks[t6]) for (var n2 = 0, r2 = this.count(); n2 < r2; n2++) {
      var e2 = this.get(t6, n2);
      isNaN(e2) || (i2 += e2);
    }
    return i2;
  }, t5.prototype.getMedian = function(t6) {
    var i2 = [];
    this.each([t6], (function(t7) {
      isNaN(t7) || i2.push(t7);
    }));
    var n2 = i2.sort((function(t7, i3) {
      return t7 - i3;
    })), r2 = this.count();
    return 0 === r2 ? 0 : r2 % 2 == 1 ? n2[(r2 - 1) / 2] : (n2[r2 / 2] + n2[r2 / 2 - 1]) / 2;
  }, t5.prototype.indexOfRawIndex = function(t6) {
    if (t6 >= this._rawCount || t6 < 0) return -1;
    if (!this._indices) return t6;
    var i2 = this._indices, n2 = i2[t6];
    if (null != n2 && n2 < this._count && n2 === t6) return t6;
    for (var r2 = 0, e2 = this._count - 1; r2 <= e2; ) {
      var o2 = (r2 + e2) / 2 | 0;
      if (i2[o2] < t6) r2 = o2 + 1;
      else {
        if (!(i2[o2] > t6)) return o2;
        e2 = o2 - 1;
      }
    }
    return -1;
  }, t5.prototype.indicesOfNearest = function(t6, i2, n2) {
    var r2 = this._chunks[t6], e2 = [];
    if (!r2) return e2;
    null == n2 && (n2 = 1 / 0);
    for (var o2 = 1 / 0, a2 = -1, s2 = 0, l2 = 0, u2 = this.count(); l2 < u2; l2++) {
      var f2 = i2 - r2[this.getRawIndex(l2)], c2 = Math.abs(f2);
      c2 <= n2 && ((c2 < o2 || c2 === o2 && f2 >= 0 && a2 < 0) && (o2 = c2, a2 = f2, s2 = 0), f2 === a2 && (e2[s2++] = l2));
    }
    return e2.length = s2, e2;
  }, t5.prototype.getIndices = function() {
    var t6, i2 = this._indices;
    if (i2) {
      var n2 = this._count;
      if ((e2 = i2.constructor) === Array) {
        t6 = new e2(n2);
        for (var r2 = 0; r2 < n2; r2++) t6[r2] = i2[r2];
      } else t6 = new e2(i2.buffer, 0, n2);
    } else {
      var e2;
      for (t6 = new (e2 = Bm(this._rawCount))(this.count()), r2 = 0; r2 < t6.length; r2++) t6[r2] = r2;
    }
    return t6;
  }, t5.prototype.filter = function(t6, i2) {
    if (!this._count) return this;
    for (var n2 = this.clone(), r2 = n2.count(), e2 = new (Bm(n2._rawCount))(r2), o2 = [], a2 = t6.length, s2 = 0, l2 = t6[0], u2 = n2._chunks, f2 = 0; f2 < r2; f2++) {
      var c2 = void 0, h2 = n2.getRawIndex(f2);
      if (0 === a2) c2 = i2(f2);
      else if (1 === a2) c2 = i2(u2[l2][h2], f2);
      else {
        for (var v2 = 0; v2 < a2; v2++) o2[v2] = u2[t6[v2]][h2];
        o2[v2] = f2, c2 = i2.apply(null, o2);
      }
      c2 && (e2[s2++] = h2);
    }
    return s2 < r2 && (n2._indices = e2), n2._count = s2, n2._extent = [], n2._updateGetRawIdx(), n2;
  }, t5.prototype.selectRange = function(t6) {
    var i2 = this.clone(), n2 = i2._count;
    if (!n2) return this;
    var r2 = Cn(t6), e2 = r2.length;
    if (!e2) return this;
    var o2 = i2.count(), a2 = new (Bm(i2._rawCount))(o2), s2 = 0, l2 = r2[0], u2 = t6[l2][0], f2 = t6[l2][1], c2 = i2._chunks, h2 = false;
    if (!i2._indices) {
      var v2 = 0;
      if (1 === e2) {
        for (var d2 = c2[r2[0]], p2 = 0; p2 < n2; p2++) ((M2 = d2[p2]) >= u2 && M2 <= f2 || isNaN(M2)) && (a2[s2++] = v2), v2++;
        h2 = true;
      } else if (2 === e2) {
        d2 = c2[r2[0]];
        var m2 = c2[r2[1]], b2 = t6[r2[1]][0], g3 = t6[r2[1]][1];
        for (p2 = 0; p2 < n2; p2++) {
          var y2 = m2[p2];
          ((M2 = d2[p2]) >= u2 && M2 <= f2 || isNaN(M2)) && (y2 >= b2 && y2 <= g3 || isNaN(y2)) && (a2[s2++] = v2), v2++;
        }
        h2 = true;
      }
    }
    if (!h2) if (1 === e2) for (p2 = 0; p2 < o2; p2++) {
      var w3 = i2.getRawIndex(p2);
      ((M2 = c2[r2[0]][w3]) >= u2 && M2 <= f2 || isNaN(M2)) && (a2[s2++] = w3);
    }
    else for (p2 = 0; p2 < o2; p2++) {
      for (var x2 = true, k2 = (w3 = i2.getRawIndex(p2), 0); k2 < e2; k2++) {
        var M2, z2 = r2[k2];
        ((M2 = c2[z2][w3]) < t6[z2][0] || M2 > t6[z2][1]) && (x2 = false);
      }
      x2 && (a2[s2++] = i2.getRawIndex(p2));
    }
    return s2 < o2 && (i2._indices = a2), i2._count = s2, i2._extent = [], i2._updateGetRawIdx(), i2;
  }, t5.prototype.map = function(t6, i2) {
    var n2 = this.clone(t6);
    return this._updateDims(n2, t6, i2), n2;
  }, t5.prototype.modify = function(t6, i2) {
    this._updateDims(this, t6, i2);
  }, t5.prototype._updateDims = function(t6, i2, n2) {
    for (var r2 = t6._chunks, e2 = [], o2 = i2.length, a2 = t6.count(), s2 = [], l2 = t6._rawExtent, u2 = 0; u2 < i2.length; u2++) l2[i2[u2]] = [1 / 0, -1 / 0];
    for (var f2 = 0; f2 < a2; f2++) {
      for (var c2 = t6.getRawIndex(f2), h2 = 0; h2 < o2; h2++) s2[h2] = r2[i2[h2]][c2];
      s2[o2] = f2;
      var v2 = n2 && n2.apply(null, s2);
      if (null != v2) for ("object" != typeof v2 && (e2[0] = v2, v2 = e2), u2 = 0; u2 < v2.length; u2++) {
        var d2 = i2[u2], p2 = v2[u2], m2 = l2[d2], b2 = r2[d2];
        b2 && (b2[c2] = p2), p2 < m2[0] && (m2[0] = p2), p2 > m2[1] && (m2[1] = p2);
      }
    }
  }, t5.prototype.lttbDownSample = function(t6, i2) {
    var n2, r2, e2, o2 = this.clone([t6], true), a2 = o2._chunks[t6], s2 = this.count(), l2 = 0, u2 = Math.floor(1 / i2), f2 = this.getRawIndex(0), c2 = new (Bm(this._rawCount))(Math.min(2 * (Math.ceil(s2 / u2) + 2), s2));
    c2[l2++] = f2;
    for (var h2 = 1; h2 < s2 - 1; h2 += u2) {
      for (var v2 = Math.min(h2 + u2, s2 - 1), d2 = Math.min(h2 + 2 * u2, s2), p2 = (d2 + v2) / 2, m2 = 0, b2 = v2; b2 < d2; b2++) {
        var g3 = a2[S3 = this.getRawIndex(b2)];
        isNaN(g3) || (m2 += g3);
      }
      m2 /= d2 - v2;
      var y2 = h2, w3 = Math.min(h2 + u2, s2), x2 = h2 - 1, k2 = a2[f2];
      n2 = -1, e2 = y2;
      var M2 = -1, z2 = 0;
      for (b2 = y2; b2 < w3; b2++) {
        var S3;
        g3 = a2[S3 = this.getRawIndex(b2)], isNaN(g3) ? (z2++, M2 < 0 && (M2 = S3)) : (r2 = Math.abs((x2 - p2) * (g3 - k2) - (x2 - b2) * (m2 - k2))) > n2 && (n2 = r2, e2 = S3);
      }
      z2 > 0 && z2 < w3 - y2 && (c2[l2++] = Math.min(M2, e2), e2 = Math.max(M2, e2)), c2[l2++] = e2, f2 = e2;
    }
    return c2[l2++] = this.getRawIndex(s2 - 1), o2._count = l2, o2._indices = c2, o2.getRawIndex = this._getRawIdx, o2;
  }, t5.prototype.minmaxDownSample = function(t6, i2) {
    for (var n2 = this.clone([t6], true), r2 = n2._chunks, e2 = Math.floor(1 / i2), o2 = r2[t6], a2 = this.count(), s2 = new (Bm(this._rawCount))(2 * Math.ceil(a2 / e2)), l2 = 0, u2 = 0; u2 < a2; u2 += e2) {
      var f2 = u2, c2 = o2[this.getRawIndex(f2)], h2 = u2, v2 = o2[this.getRawIndex(h2)], d2 = e2;
      u2 + e2 > a2 && (d2 = a2 - u2);
      for (var p2 = 0; p2 < d2; p2++) {
        var m2 = o2[this.getRawIndex(u2 + p2)];
        m2 < c2 && (c2 = m2, f2 = u2 + p2), m2 > v2 && (v2 = m2, h2 = u2 + p2);
      }
      var b2 = this.getRawIndex(f2), g3 = this.getRawIndex(h2);
      f2 < h2 ? (s2[l2++] = b2, s2[l2++] = g3) : (s2[l2++] = g3, s2[l2++] = b2);
    }
    return n2._count = l2, n2._indices = s2, n2._updateGetRawIdx(), n2;
  }, t5.prototype.downSample = function(t6, i2, n2, r2) {
    for (var e2 = this.clone([t6], true), o2 = e2._chunks, a2 = [], s2 = Math.floor(1 / i2), l2 = o2[t6], u2 = this.count(), f2 = e2._rawExtent[t6] = [1 / 0, -1 / 0], c2 = new (Bm(this._rawCount))(Math.ceil(u2 / s2)), h2 = 0, v2 = 0; v2 < u2; v2 += s2) {
      s2 > u2 - v2 && (a2.length = s2 = u2 - v2);
      for (var d2 = 0; d2 < s2; d2++) {
        var p2 = this.getRawIndex(v2 + d2);
        a2[d2] = l2[p2];
      }
      var m2 = n2(a2), b2 = this.getRawIndex(Math.min(v2 + r2(a2, m2) || 0, u2 - 1));
      l2[b2] = m2, m2 < f2[0] && (f2[0] = m2), m2 > f2[1] && (f2[1] = m2), c2[h2++] = b2;
    }
    return e2._count = h2, e2._indices = c2, e2._updateGetRawIdx(), e2;
  }, t5.prototype.each = function(t6, i2) {
    if (this._count) for (var n2 = t6.length, r2 = this._chunks, e2 = 0, o2 = this.count(); e2 < o2; e2++) {
      var a2 = this.getRawIndex(e2);
      switch (n2) {
        case 0:
          i2(e2);
          break;
        case 1:
          i2(r2[t6[0]][a2], e2);
          break;
        case 2:
          i2(r2[t6[0]][a2], r2[t6[1]][a2], e2);
          break;
        default:
          for (var s2 = 0, l2 = []; s2 < n2; s2++) l2[s2] = r2[t6[s2]][a2];
          l2[s2] = e2, i2.apply(null, l2);
      }
    }
  }, t5.prototype.getDataExtent = function(t6) {
    var i2 = this._chunks[t6], n2 = [1 / 0, -1 / 0];
    if (!i2) return n2;
    var r2, e2 = this.count();
    if (!this._indices) return this._rawExtent[t6].slice();
    if (r2 = this._extent[t6]) return r2.slice();
    for (var o2 = (r2 = n2)[0], a2 = r2[1], s2 = 0; s2 < e2; s2++) {
      var l2 = i2[this.getRawIndex(s2)];
      l2 < o2 && (o2 = l2), l2 > a2 && (a2 = l2);
    }
    return this._extent[t6] = r2 = [o2, a2], r2;
  }, t5.prototype.getRawDataItem = function(t6) {
    var i2 = this.getRawIndex(t6);
    if (this._provider.persistent) return this._provider.getItem(i2);
    for (var n2 = [], r2 = this._chunks, e2 = 0; e2 < r2.length; e2++) n2.push(r2[e2][i2]);
    return n2;
  }, t5.prototype.clone = function(i2, n2) {
    var r2, e2, o2 = new t5(), a2 = this._chunks, s2 = i2 && zn(i2, (function(t6, i3) {
      return t6[i3] = true, t6;
    }), {});
    if (s2) for (var l2 = 0; l2 < a2.length; l2++) o2._chunks[l2] = s2[l2] ? (e2 = void 0, (e2 = (r2 = a2[l2]).constructor) === Array ? r2.slice() : new e2(r2)) : a2[l2];
    else o2._chunks = a2;
    return this._copyCommonProps(o2), n2 || (o2._indices = this._cloneIndices()), o2._updateGetRawIdx(), o2;
  }, t5.prototype._copyCommonProps = function(t6) {
    t6._count = this._count, t6._rawCount = this._rawCount, t6._provider = this._provider, t6._dimensions = this._dimensions, t6._extent = dn(this._extent), t6._rawExtent = dn(this._rawExtent);
  }, t5.prototype._cloneIndices = function() {
    if (this._indices) {
      var t6 = this._indices.constructor, i2 = void 0;
      if (t6 === Array) {
        var n2 = this._indices.length;
        i2 = new t6(n2);
        for (var r2 = 0; r2 < n2; r2++) i2[r2] = this._indices[r2];
      } else i2 = new t6(this._indices);
      return i2;
    }
    return null;
  }, t5.prototype._getRawIdxIdentity = function(t6) {
    return t6;
  }, t5.prototype._getRawIdx = function(t6) {
    return t6 < this._count && t6 >= 0 ? this._indices[t6] : -1;
  }, t5.prototype._updateGetRawIdx = function() {
    this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;
  }, t5.internalField = (function() {
    function t6(t7, i2, n2, r2) {
      return bm(t7[r2], this._dimensions[r2]);
    }
    Dm = { arrayRows: t6, objectRows: function(t7, i2, n2, r2) {
      return bm(t7[i2], this._dimensions[r2]);
    }, keyedColumns: t6, original: function(t7, i2, n2, r2) {
      var e2 = t7 && (null == t7.value ? t7 : t7.value);
      return bm(e2 instanceof Array ? e2[r2] : e2, this._dimensions[r2]);
    }, typedArray: function(t7, i2, n2, r2) {
      return t7[r2];
    } };
  })(), t5;
})(), Hm = (function() {
  function t5(t6) {
    this._sourceList = [], this._storeList = [], this._upstreamSignList = [], this._versionSignBase = 0, this._dirty = true, this._sourceHost = t6;
  }
  return t5.prototype.dirty = function() {
    this._setLocalSource([], []), this._storeList = [], this._dirty = true;
  }, t5.prototype._setLocalSource = function(t6, i2) {
    this._sourceList = t6, this._upstreamSignList = i2, this._versionSignBase++, this._versionSignBase > 9e10 && (this._versionSignBase = 0);
  }, t5.prototype._getVersionSign = function() {
    return this._sourceHost.uid + "_" + this._versionSignBase;
  }, t5.prototype.prepareSource = function() {
    this._isDirty() && (this._createSource(), this._dirty = false);
  }, t5.prototype._createSource = function() {
    this._setLocalSource([], []);
    var t6, i2, n2 = this._sourceHost, r2 = this._getUpstreamSourceManagers(), e2 = !!r2.length;
    if (Xm(n2)) {
      var o2 = n2, a2 = void 0, s2 = void 0, l2 = void 0;
      if (e2) {
        var u2 = r2[0];
        u2.prepareSource(), a2 = (l2 = u2.getSource()).data, s2 = l2.sourceFormat, i2 = [u2._getVersionSign()];
      } else s2 = On(a2 = o2.get("data", true)) ? Yd : Bd, i2 = [];
      var f2 = this._getSourceMetaRawOption() || {}, c2 = l2 && l2.metaRawOption || {}, h2 = Vn(f2.seriesLayoutBy, c2.seriesLayoutBy) || null, v2 = Vn(f2.sourceHeader, c2.sourceHeader), d2 = Vn(f2.dimensions, c2.dimensions);
      t6 = h2 !== c2.seriesLayoutBy || !!v2 != !!c2.sourceHeader || d2 ? [Gp(a2, { seriesLayoutBy: h2, sourceHeader: v2, dimensions: d2 }, s2)] : [];
    } else {
      var p2 = n2;
      if (e2) {
        var m2 = this._applyTransform(r2);
        t6 = m2.sourceList, i2 = m2.upstreamSignList;
      } else t6 = [Gp(p2.get("source", true), this._getSourceMetaRawOption(), null)], i2 = [];
    }
    this._setLocalSource(t6, i2);
  }, t5.prototype._applyTransform = function(t6) {
    var i2, n2 = this._sourceHost, r2 = n2.get("transform", true), e2 = n2.get("fromTransformResult", true);
    null != e2 && 1 !== t6.length && Um("");
    var o2, a2 = [], s2 = [];
    return kn(t6, (function(t7) {
      t7.prepareSource();
      var i3 = t7.getSource(e2 || 0);
      null == e2 || i3 || Um(""), a2.push(i3), s2.push(t7._getVersionSign());
    })), r2 ? i2 = (function(t7, i3) {
      var n3 = Ds(t7), r3 = n3.length;
      r3 || _s("");
      for (var e3 = 0, o3 = r3; e3 < o3; e3++) i3 = Im(n3[e3], i3), e3 !== o3 - 1 && (i3.length = Math.max(i3.length, 1));
      return i3;
    })(r2, a2) : null != e2 && (i2 = [(o2 = a2[0], new Up({ data: o2.data, sourceFormat: o2.sourceFormat, seriesLayoutBy: o2.seriesLayoutBy, dimensionsDefine: dn(o2.dimensionsDefine), startIndex: o2.startIndex, dimensionsDetectedCount: o2.dimensionsDetectedCount }))]), { sourceList: i2, upstreamSignList: s2 };
  }, t5.prototype._isDirty = function() {
    if (this._dirty) return true;
    for (var t6 = this._getUpstreamSourceManagers(), i2 = 0; i2 < t6.length; i2++) {
      var n2 = t6[i2];
      if (n2._isDirty() || this._upstreamSignList[i2] !== n2._getVersionSign()) return true;
    }
  }, t5.prototype.getSource = function(t6) {
    var i2 = this._sourceList[t6 = t6 || 0];
    if (!i2) {
      var n2 = this._getUpstreamSourceManagers();
      return n2[0] && n2[0].getSource(t6);
    }
    return i2;
  }, t5.prototype.getSharedDataStore = function(t6) {
    var i2 = t6.makeStoreSchema();
    return this._innerGetDataStore(i2.dimensions, t6.source, i2.hash);
  }, t5.prototype._innerGetDataStore = function(t6, i2, n2) {
    var r2 = this._storeList, e2 = r2[0];
    e2 || (e2 = r2[0] = {});
    var o2 = e2[n2];
    if (!o2) {
      var a2 = this._getUpstreamSourceManagers()[0];
      Xm(this._sourceHost) && a2 ? o2 = a2._innerGetDataStore(t6, i2, n2) : (o2 = new jm()).initData(new Qp(i2, t6.length), t6), e2[n2] = o2;
    }
    return o2;
  }, t5.prototype._getUpstreamSourceManagers = function() {
    var t6 = this._sourceHost;
    if (Xm(t6)) {
      var i2 = Jd(t6);
      return i2 ? [i2.getSourceManager()] : [];
    }
    return Mn((function(t7) {
      return t7.get("transform", true) || t7.get("fromTransformResult", true) ? Js(t7.ecModel, "dataset", { index: t7.get("fromDatasetIndex", true), id: t7.get("fromDatasetId", true) }, Zs).models : [];
    })(t6), (function(t7) {
      return t7.getSourceManager();
    }));
  }, t5.prototype._getSourceMetaRawOption = function() {
    var t6, i2, n2, r2 = this._sourceHost;
    if (Xm(r2)) t6 = r2.get("seriesLayoutBy", true), i2 = r2.get("sourceHeader", true), n2 = r2.get("dimensions", true);
    else if (!this._getUpstreamSourceManagers().length) {
      var e2 = r2;
      t6 = e2.get("seriesLayoutBy", true), i2 = e2.get("sourceHeader", true), n2 = e2.get("dimensions", true);
    }
    return { seriesLayoutBy: t6, sourceHeader: i2, dimensions: n2 };
  }, t5;
})();
function Ym(t5) {
  t5.option.transform && Gn(t5.option.transform);
}
function Xm(t5) {
  return "series" === t5.mainType;
}
function Um(t5) {
  throw new Error(t5);
}
function $m(t5) {
  var i2 = t5.lineHeight;
  return null == i2 ? "line-height:1" : "line-height:" + Er(i2 + "") + "px";
}
function Gm(t5, i2) {
  var n2 = t5.color || "#6e7079", r2 = t5.fontSize || 12, e2 = t5.fontWeight || "400", o2 = t5.color || "#464646", a2 = t5.fontSize || 14, s2 = t5.fontWeight || "900";
  return "html" === i2 ? { nameStyle: "font-size:" + Er(r2 + "") + "px;color:" + Er(n2) + ";font-weight:" + Er(e2 + ""), valueStyle: "font-size:" + Er(a2 + "") + "px;color:" + Er(o2) + ";font-weight:" + Er(s2 + "") } : { nameStyle: { fontSize: r2, fill: n2, fontWeight: e2 }, valueStyle: { fontSize: a2, fill: o2, fontWeight: s2 } };
}
var Zm = [0, 10, 20, 30], qm = ["", "\n", "\n\n", "\n\n\n"];
function Jm(t5, i2) {
  return i2.type = t5, i2;
}
function Km(t5) {
  return "section" === t5.type;
}
function Qm(t5) {
  return Km(t5) ? ib : nb;
}
function tb(t5) {
  if (Km(t5)) {
    var i2 = 0, n2 = t5.blocks.length, r2 = n2 > 1 || n2 > 0 && !t5.noHeader;
    return kn(t5.blocks, (function(t6) {
      var n3 = tb(t6);
      n3 >= i2 && (i2 = n3 + +(r2 && (!n3 || Km(t6) && !t6.noHeader)));
    })), i2;
  }
  return 0;
}
function ib(t5, i2, n2, r2) {
  var e2, o2 = i2.noHeader, a2 = (e2 = tb(i2), { html: Zm[e2], richText: qm[e2] }), s2 = [], l2 = i2.blocks || [];
  Xn(!l2 || _n(l2)), l2 = l2 || [];
  var u2 = t5.orderMode;
  if (i2.sortBlocks && u2) {
    l2 = l2.slice();
    var f2 = { valueAsc: "asc", valueDesc: "desc" };
    if (rr(f2, u2)) {
      var c2 = new km(f2[u2], null);
      l2.sort((function(t6, i3) {
        return c2.evaluate(t6.sortParam, i3.sortParam);
      }));
    } else "seriesDesc" === u2 && l2.reverse();
  }
  kn(l2, (function(n3, e3) {
    var o3 = i2.valueFormatter, l3 = Qm(n3)(o3 ? bn(bn({}, t5), { valueFormatter: o3 }) : t5, n3, e3 > 0 ? a2.html : 0, r2);
    null != l3 && s2.push(l3);
  }));
  var h2 = "richText" === t5.renderMode ? s2.join(a2.richText) : eb(r2, s2.join(""), o2 ? n2 : a2.html);
  if (o2) return h2;
  var v2 = bd(i2.header, "ordinal", t5.useUTC), d2 = Gm(r2, t5.renderMode).nameStyle, p2 = $m(r2);
  return "richText" === t5.renderMode ? ob(t5, v2, d2) + a2.richText + h2 : eb(r2, '<div style="' + d2 + ";" + p2 + ';">' + Er(v2) + "</div>" + h2, n2);
}
function nb(t5, i2, n2, r2) {
  var e2 = t5.renderMode, o2 = i2.noName, a2 = i2.noValue, s2 = !i2.markerType, l2 = i2.name, u2 = t5.useUTC, f2 = i2.valueFormatter || t5.valueFormatter || function(t6) {
    return Mn(t6 = _n(t6) ? t6 : [t6], (function(t7, i3) {
      return bd(t7, _n(v2) ? v2[i3] : v2, u2);
    }));
  };
  if (!o2 || !a2) {
    var c2 = s2 ? "" : t5.markupStyleCreator.makeTooltipMarker(i2.markerType, i2.markerColor || "#333", e2), h2 = o2 ? "" : bd(l2, "ordinal", u2), v2 = i2.valueType, d2 = a2 ? [] : f2(i2.value, i2.dataIndex), p2 = !s2 || !o2, m2 = !s2 && o2, b2 = Gm(r2, e2), g3 = b2.nameStyle, y2 = b2.valueStyle;
    return "richText" === e2 ? (s2 ? "" : c2) + (o2 ? "" : ob(t5, h2, g3)) + (a2 ? "" : (function(t6, i3, n3, r3, e3) {
      var o3 = [e3];
      return n3 && o3.push({ padding: [0, 0, 0, r3 ? 10 : 20], align: "right" }), t6.markupStyleCreator.wrapRichTextStyle(_n(i3) ? i3.join("  ") : i3, o3);
    })(t5, d2, p2, m2, y2)) : eb(r2, (s2 ? "" : c2) + (o2 ? "" : (function(t6, i3, n3) {
      return '<span style="' + n3 + ";" + (i3 ? "margin-left:2px" : "") + '">' + Er(t6) + "</span>";
    })(h2, !s2, g3)) + (a2 ? "" : (function(t6, i3, n3, r3) {
      return '<span style="' + (i3 ? "float:right;margin-left:" + (n3 ? "10px" : "20px") : "") + ";" + r3 + '">' + Mn(t6 = _n(t6) ? t6 : [t6], (function(t7) {
        return Er(t7);
      })).join("&nbsp;&nbsp;") + "</span>";
    })(d2, p2, m2, y2)), n2);
  }
}
function rb(t5, i2, n2, r2, e2, o2) {
  if (t5) return Qm(t5)({ useUTC: e2, renderMode: n2, orderMode: r2, markupStyleCreator: i2, valueFormatter: t5.valueFormatter }, t5, 0, o2);
}
function eb(t5, i2, n2) {
  return '<div style="margin: ' + n2 + "px 0 0;" + $m(t5) + ';">' + i2 + '<div style="clear:both"></div></div>';
}
function ob(t5, i2, n2) {
  return t5.markupStyleCreator.wrapRichTextStyle(i2, n2);
}
function ab(t5, i2) {
  return xd(t5.getData().getItemVisual(i2, "style")[t5.visualDrawType]);
}
function sb(t5, i2) {
  var n2 = t5.get("padding");
  return null != n2 ? n2 : "richText" === i2 ? [8, 10] : 10;
}
var lb = (function() {
  function t5() {
    this.richTextStyles = {}, this._nextStyleNameId = Cs();
  }
  return t5.prototype._generateStyleName = function() {
    return "__EC_aUTo_" + this._nextStyleNameId++;
  }, t5.prototype.makeTooltipMarker = function(t6, i2, n2) {
    var r2 = "richText" === n2 ? this._generateStyleName() : null, e2 = (function(t7, i3) {
      var n3 = In(t7) ? { color: t7, extraCssText: i3 } : t7 || {}, r3 = n3.color, e3 = n3.type;
      i3 = n3.extraCssText;
      var o2 = n3.renderMode || "html";
      return r3 ? "html" === o2 ? "subItem" === e3 ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + Er(r3) + ";" + (i3 || "") + '"></span>' : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' + Er(r3) + ";" + (i3 || "") + '"></span>' : { renderMode: o2, content: "{" + (n3.markerId || "markerX") + "|}  ", style: "subItem" === e3 ? { width: 4, height: 4, borderRadius: 2, backgroundColor: r3 } : { width: 10, height: 10, borderRadius: 5, backgroundColor: r3 } } : "";
    })({ color: i2, type: t6, renderMode: n2, markerId: r2 });
    return In(e2) ? e2 : (this.richTextStyles[r2] = e2.style, e2.content);
  }, t5.prototype.wrapRichTextStyle = function(t6, i2) {
    var n2 = {};
    _n(i2) ? kn(i2, (function(t7) {
      return bn(n2, t7);
    })) : bn(n2, i2);
    var r2 = this._generateStyleName();
    return this.richTextStyles[r2] = n2, "{" + r2 + "|" + t6 + "}";
  }, t5;
})();
function ub(t5) {
  var i2, n2, r2, e2, o2 = t5.series, a2 = t5.dataIndex, s2 = t5.multipleSeries, l2 = o2.getData(), u2 = l2.mapDimensionsAll("defaultedTooltip"), f2 = u2.length, c2 = o2.getRawValue(a2), h2 = _n(c2), v2 = ab(o2, a2);
  if (f2 > 1 || h2 && !f2) {
    var d2 = (function(t6, i3, n3, r3, e3) {
      var o3 = i3.getData(), a3 = zn(t6, (function(t7, i4, n4) {
        var r4 = o3.getDimensionInfo(n4);
        return t7 || r4 && false !== r4.tooltip && null != r4.displayName;
      }), false), s3 = [], l3 = [], u3 = [];
      function f3(t7, i4) {
        var n4 = o3.getDimensionInfo(i4);
        n4 && false !== n4.otherDims.tooltip && (a3 ? u3.push(Jm("nameValue", { markerType: "subItem", markerColor: e3, name: n4.displayName, value: t7, valueType: n4.type })) : (s3.push(t7), l3.push(n4.type)));
      }
      return r3.length ? kn(r3, (function(t7) {
        f3(fm(o3, n3, t7), t7);
      })) : kn(t6, f3), { inlineValues: s3, inlineValueTypes: l3, blocks: u3 };
    })(c2, o2, a2, u2, v2);
    i2 = d2.inlineValues, n2 = d2.inlineValueTypes, r2 = d2.blocks, e2 = d2.inlineValues[0];
  } else if (f2) {
    var p2 = l2.getDimensionInfo(u2[0]);
    e2 = i2 = fm(l2, a2, u2[0]), n2 = p2.type;
  } else e2 = i2 = h2 ? c2[0] : c2;
  var m2 = js(o2), b2 = m2 && o2.name || "", g3 = l2.getName(a2), y2 = s2 ? b2 : g3;
  return Jm("section", { header: b2, noHeader: s2 || !m2, sortParam: e2, blocks: [Jm("nameValue", { markerType: "item", markerColor: v2, name: y2, noName: !Un(y2), value: i2, valueType: n2, dataIndex: a2 })].concat(r2 || []) });
}
var fb = Xs();
function cb(t5, i2) {
  return t5.getName(i2) || t5.getId(i2);
}
var hb = "__universalTransitionEnabled", vb = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3._selectedDataIndicesMap = {}, i3;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3, n2) {
    this.seriesIndex = this.componentIndex, this.dataTask = dm({ count: pb, reset: mb }), this.dataTask.context = { model: this }, this.mergeDefaultAndTheme(t6, n2), (fb(this).sourceManager = new Hm(this)).prepareSource();
    var r2 = this.getInitialData(t6, n2);
    gb(r2, this), this.dataTask.context.data = r2, fb(this).dataBeforeProcessed = r2, db(this), this._initSelectedMapFromData(r2);
  }, i2.prototype.mergeDefaultAndTheme = function(t6, i3) {
    var n2 = Td(this), r2 = n2 ? Ld(t6) : {}, e2 = this.subType;
    Ed.hasClass(e2) && (e2 += "Series"), pn(t6, i3.getTheme().get(this.subType)), pn(t6, this.getDefaultOption()), Ws(t6, "label", ["show"]), this.fillDataTextStyle(t6.data), n2 && Id(t6, r2, n2);
  }, i2.prototype.mergeOption = function(t6, i3) {
    t6 = pn(this.option, t6, true), this.fillDataTextStyle(t6.data);
    var n2 = Td(this);
    n2 && Id(this.option, t6, n2);
    var r2 = fb(this).sourceManager;
    r2.dirty(), r2.prepareSource();
    var e2 = this.getInitialData(t6, i3);
    gb(e2, this), this.dataTask.dirty(), this.dataTask.context.data = e2, fb(this).dataBeforeProcessed = e2, db(this), this._initSelectedMapFromData(e2);
  }, i2.prototype.fillDataTextStyle = function(t6) {
    if (t6 && !On(t6)) for (var i3 = ["show"], n2 = 0; n2 < t6.length; n2++) t6[n2] && t6[n2].label && Ws(t6[n2], "label", i3);
  }, i2.prototype.getInitialData = function() {
  }, i2.prototype.appendData = function(t6) {
    this.getRawData().appendData(t6.data);
  }, i2.prototype.getData = function(t6) {
    var i3 = wb(this);
    if (i3) {
      var n2 = i3.context.data;
      return null != t6 && n2.getLinkedData ? n2.getLinkedData(t6) : n2;
    }
    return fb(this).data;
  }, i2.prototype.getAllData = function() {
    var t6 = this.getData();
    return t6 && t6.getLinkedDataAll ? t6.getLinkedDataAll() : [{ data: t6 }];
  }, i2.prototype.setData = function(t6) {
    var i3 = wb(this);
    if (i3) {
      var n2 = i3.context;
      n2.outputData = t6, i3 !== this.dataTask && (n2.data = t6);
    }
    fb(this).data = t6;
  }, i2.prototype.getEncode = function() {
    var t6 = this.get("encode", true);
    if (t6) return Qn(t6);
  }, i2.prototype.getSourceManager = function() {
    return fb(this).sourceManager;
  }, i2.prototype.getSource = function() {
    return this.getSourceManager().getSource();
  }, i2.prototype.getRawData = function() {
    return fb(this).dataBeforeProcessed;
  }, i2.prototype.getColorBy = function() {
    return this.get("colorBy") || "series";
  }, i2.prototype.isColorBySeries = function() {
    return "series" === this.getColorBy();
  }, i2.prototype.getBaseAxis = function() {
    var t6 = this.coordinateSystem;
    return t6 && t6.getBaseAxis && t6.getBaseAxis();
  }, i2.prototype.formatTooltip = function(t6, i3) {
    return ub({ series: this, dataIndex: t6, multipleSeries: i3 });
  }, i2.prototype.isAnimationEnabled = function() {
    var t6 = this.ecModel;
    if (Ui.node && (!t6 || !t6.ssr)) return false;
    var i3 = this.getShallow("animation");
    return i3 && this.getData().count() > this.getShallow("animationThreshold") && (i3 = false), !!i3;
  }, i2.prototype.restoreData = function() {
    this.dataTask.dirty();
  }, i2.prototype.getColorFromPalette = function(t6, i3, n2) {
    var r2 = this.ecModel, e2 = ap.prototype.getColorFromPalette.call(this, t6, i3, n2);
    return e2 || (e2 = r2.getColorFromPalette(t6, i3, n2)), e2;
  }, i2.prototype.coordDimToDataDim = function(t6) {
    return this.getRawData().mapDimensionsAll(t6);
  }, i2.prototype.getProgressive = function() {
    return this.get("progressive");
  }, i2.prototype.getProgressiveThreshold = function() {
    return this.get("progressiveThreshold");
  }, i2.prototype.select = function(t6, i3) {
    this._innerSelect(this.getData(i3), t6);
  }, i2.prototype.unselect = function(t6, i3) {
    var n2 = this.option.selectedMap;
    if (n2) {
      var r2 = this.option.selectedMode, e2 = this.getData(i3);
      if ("series" === r2 || "all" === n2) return this.option.selectedMap = {}, void (this._selectedDataIndicesMap = {});
      for (var o2 = 0; o2 < t6.length; o2++) {
        var a2 = cb(e2, t6[o2]);
        n2[a2] = false, this._selectedDataIndicesMap[a2] = -1;
      }
    }
  }, i2.prototype.toggleSelect = function(t6, i3) {
    for (var n2 = [], r2 = 0; r2 < t6.length; r2++) n2[0] = t6[r2], this.isSelected(t6[r2], i3) ? this.unselect(n2, i3) : this.select(n2, i3);
  }, i2.prototype.getSelectedDataIndices = function() {
    if ("all" === this.option.selectedMap) return [].slice.call(this.getData().getIndices());
    for (var t6 = this._selectedDataIndicesMap, i3 = Cn(t6), n2 = [], r2 = 0; r2 < i3.length; r2++) {
      var e2 = t6[i3[r2]];
      e2 >= 0 && n2.push(e2);
    }
    return n2;
  }, i2.prototype.isSelected = function(t6, i3) {
    var n2 = this.option.selectedMap;
    if (!n2) return false;
    var r2 = this.getData(i3);
    return ("all" === n2 || n2[cb(r2, t6)]) && !r2.getItemModel(t6).get(["select", "disabled"]);
  }, i2.prototype.isUniversalTransitionEnabled = function() {
    if (this[hb]) return true;
    var t6 = this.option.universalTransition;
    return !!t6 && (true === t6 || t6 && t6.enabled);
  }, i2.prototype._innerSelect = function(t6, i3) {
    var n2, r2, e2 = this.option, o2 = e2.selectedMode, a2 = i3.length;
    if (o2 && a2) {
      if ("series" === o2) e2.selectedMap = "all";
      else if ("multiple" === o2) {
        Wn(e2.selectedMap) || (e2.selectedMap = {});
        for (var s2 = e2.selectedMap, l2 = 0; l2 < a2; l2++) {
          var u2 = i3[l2];
          s2[c2 = cb(t6, u2)] = true, this._selectedDataIndicesMap[c2] = t6.getRawIndex(u2);
        }
      } else if ("single" === o2 || true === o2) {
        var f2 = i3[a2 - 1], c2 = cb(t6, f2);
        e2.selectedMap = ((n2 = {})[c2] = true, n2), this._selectedDataIndicesMap = ((r2 = {})[c2] = t6.getRawIndex(f2), r2);
      }
    }
  }, i2.prototype._initSelectedMapFromData = function(t6) {
    if (!this.option.selectedMap) {
      var i3 = [];
      t6.hasItemOption && t6.each((function(n2) {
        var r2 = t6.getRawDataItem(n2);
        r2 && r2.selected && i3.push(n2);
      })), i3.length > 0 && this._innerSelect(t6, i3);
    }
  }, i2.registerClass = function(t6) {
    return Ed.registerClass(t6);
  }, i2.protoInitialize = (function() {
    var t6 = i2.prototype;
    t6.type = "series.__base__", t6.seriesIndex = 0, t6.ignoreStyleOnData = false, t6.hasSymbolVisual = false, t6.defaultSymbol = "circle", t6.visualStyleAccessPath = "itemStyle", t6.visualDrawType = "fill";
  })(), i2;
})(Ed);
function db(t5) {
  var i2 = t5.name;
  js(t5) || (t5.name = (function(t6) {
    var i3 = t6.getRawData(), n2 = i3.mapDimensionsAll("seriesName"), r2 = [];
    return kn(n2, (function(t7) {
      var n3 = i3.getDimensionInfo(t7);
      n3.displayName && r2.push(n3.displayName);
    })), r2.join(" ");
  })(t5) || i2);
}
function pb(t5) {
  return t5.model.getRawData().count();
}
function mb(t5) {
  var i2 = t5.model;
  return i2.setData(i2.getRawData().cloneShallow()), bb;
}
function bb(t5, i2) {
  i2.outputData && t5.end > i2.outputData.count() && i2.model.getRawData().cloneShallow(i2.outputData);
}
function gb(t5, i2) {
  kn(tr(t5.CHANGABLE_METHODS, t5.DOWNSAMPLE_METHODS), (function(n2) {
    t5.wrapMethod(n2, Nn(yb, i2));
  }));
}
function yb(t5, i2) {
  var n2 = wb(t5);
  return n2 && n2.setOutputEnd((i2 || this).count()), i2;
}
function wb(t5) {
  var i2 = (t5.ecModel || {}).scheduler, n2 = i2 && i2.getPipeline(t5.uid);
  if (n2) {
    var r2 = n2.currentTask;
    if (r2) {
      var e2 = r2.agentStubMap;
      e2 && (r2 = e2.get(t5.uid));
    }
    return r2;
  }
}
wn(vb, hm), wn(vb, ap), ol(vb, Ed);
var xb = (function() {
  function t5() {
    this.group = new rs(), this.uid = Iv("viewComponent");
  }
  return t5.prototype.init = function() {
  }, t5.prototype.render = function() {
  }, t5.prototype.dispose = function() {
  }, t5.prototype.updateView = function() {
  }, t5.prototype.updateLayout = function() {
  }, t5.prototype.updateVisual = function() {
  }, t5.prototype.toggleBlurSeries = function() {
  }, t5.prototype.eachRendered = function(t6) {
    var i2 = this.group;
    i2 && i2.traverse(t6);
  }, t5;
})();
function kb() {
  var t5 = Xs();
  return function(i2) {
    var n2 = t5(i2), r2 = i2.pipelineContext, e2 = !!n2.large, o2 = !!n2.progressiveRender, a2 = n2.large = !(!r2 || !r2.large), s2 = n2.progressiveRender = !(!r2 || !r2.progressiveRender);
    return !(e2 === a2 && o2 === s2) && "reset";
  };
}
el(xb), ul(xb);
var Mb = Xs(), zb = kb(), Sb = (function() {
  function t5() {
    this.group = new rs(), this.uid = Iv("viewChart"), this.renderTask = dm({ plan: Nb, reset: _b }), this.renderTask.context = { view: this };
  }
  return t5.prototype.init = function() {
  }, t5.prototype.render = function() {
  }, t5.prototype.highlight = function(t6, i2, n2, r2) {
    var e2 = t6.getData(r2 && r2.dataType);
    e2 && Ab(e2, r2, "emphasis");
  }, t5.prototype.downplay = function(t6, i2, n2, r2) {
    var e2 = t6.getData(r2 && r2.dataType);
    e2 && Ab(e2, r2, "normal");
  }, t5.prototype.remove = function() {
    this.group.removeAll();
  }, t5.prototype.dispose = function() {
  }, t5.prototype.updateView = function(t6, i2, n2, r2) {
    this.render(t6, i2, n2, r2);
  }, t5.prototype.updateLayout = function(t6, i2, n2, r2) {
    this.render(t6, i2, n2, r2);
  }, t5.prototype.updateVisual = function(t6, i2, n2, r2) {
    this.render(t6, i2, n2, r2);
  }, t5.prototype.eachRendered = function(t6) {
    tv(this.group, t6);
  }, t5.markUpdateMethod = function(t6, i2) {
    Mb(t6).updateMethod = i2;
  }, t5.protoInitialize = void (t5.prototype.type = "chart"), t5;
})();
function Cb(t5, i2, n2) {
  t5 && ac(t5) && ("emphasis" === i2 ? Bf : Vf)(t5, n2);
}
function Ab(t5, i2, n2) {
  var r2 = Ys(t5, i2), e2 = i2 && null != i2.highlightKey ? (function(t6) {
    var i3 = pf[t6];
    return null == i3 && df <= 32 && (i3 = pf[t6] = df++), i3;
  })(i2.highlightKey) : null;
  null != r2 ? kn(Ds(r2), (function(i3) {
    Cb(t5.getItemGraphicEl(i3), n2, e2);
  })) : t5.eachItemGraphicEl((function(t6) {
    Cb(t6, n2, e2);
  }));
}
function Nb(t5) {
  return zb(t5.model);
}
function _b(t5) {
  var i2 = t5.model, n2 = t5.ecModel, r2 = t5.api, e2 = t5.payload, o2 = i2.pipelineContext.progressiveRender, a2 = t5.view, s2 = e2 && Mb(e2).updateMethod, l2 = o2 ? "incrementalPrepareRender" : s2 && a2[s2] ? s2 : "render";
  return "render" !== l2 && a2[l2](i2, n2, r2, e2), Tb[l2];
}
el(Sb), ul(Sb);
var Tb = { incrementalPrepareRender: { progress: function(t5, i2) {
  i2.view.incrementalRender(t5, i2.model, i2.ecModel, i2.api, i2.payload);
} }, render: { forceFirstProgress: true, progress: function(t5, i2) {
  i2.view.render(i2.model, i2.ecModel, i2.api, i2.payload);
} } }, Ib = "\0__throttleOriginMethod", Lb = "\0__throttleRate", Db = "\0__throttleType";
function Wb(t5, i2, n2) {
  var r2, e2, o2, a2, s2, l2 = 0, u2 = 0, f2 = null;
  function c2() {
    u2 = (/* @__PURE__ */ new Date()).getTime(), f2 = null, t5.apply(o2, a2 || []);
  }
  i2 = i2 || 0;
  var h2 = function() {
    for (var t6 = [], h3 = 0; h3 < arguments.length; h3++) t6[h3] = arguments[h3];
    r2 = (/* @__PURE__ */ new Date()).getTime(), o2 = this, a2 = t6;
    var v2 = s2 || i2, d2 = s2 || n2;
    s2 = null, e2 = r2 - (d2 ? l2 : u2) - v2, clearTimeout(f2), d2 ? f2 = setTimeout(c2, v2) : e2 >= 0 ? c2() : f2 = setTimeout(c2, -e2), l2 = r2;
  };
  return h2.clear = function() {
    f2 && (clearTimeout(f2), f2 = null);
  }, h2.debounceNextCall = function(t6) {
    s2 = t6;
  }, h2;
}
function Eb(t5, i2, n2, r2) {
  var e2 = t5[i2];
  if (e2) {
    var o2 = e2[Ib] || e2;
    if (e2[Lb] !== n2 || e2[Db] !== r2) {
      if (null == n2 || !r2) return t5[i2] = o2;
      (e2 = t5[i2] = Wb(o2, n2, "debounce" === r2))[Ib] = o2, e2[Db] = r2, e2[Lb] = n2;
    }
    return e2;
  }
}
function Ob(t5, i2) {
  var n2 = t5[i2];
  n2 && n2[Ib] && (n2.clear && n2.clear(), t5[i2] = n2[Ib]);
}
var Fb = Xs(), Rb = { itemStyle: fl(Cv, true), lineStyle: fl(Mv, true) }, Pb = { lineStyle: "stroke", itemStyle: "fill" };
function Bb(t5, i2) {
  return t5.visualStyleMapper || Rb[i2] || (console.warn("Unknown style type '" + i2 + "'."), Rb.itemStyle);
}
function Vb(t5, i2) {
  return t5.visualDrawType || Pb[i2] || (console.warn("Unknown style type '" + i2 + "'."), "fill");
}
var jb = { createOnAllSeries: true, performRawSeries: true, reset: function(t5, i2) {
  var n2 = t5.getData(), r2 = t5.visualStyleAccessPath || "itemStyle", e2 = t5.getModel(r2), o2 = Bb(t5, r2)(e2), a2 = e2.getShallow("decal");
  a2 && (n2.setVisual("decal", a2), a2.dirty = true);
  var s2 = Vb(t5, r2), l2 = o2[s2], u2 = Tn(l2) ? l2 : null;
  if (!o2[s2] || u2 || "auto" === o2.fill || "auto" === o2.stroke) {
    var f2 = t5.getColorFromPalette(t5.name, null, i2.getSeriesCount());
    o2[s2] || (o2[s2] = f2, n2.setVisual("colorFromPalette", true)), o2.fill = "auto" === o2.fill || Tn(o2.fill) ? f2 : o2.fill, o2.stroke = "auto" === o2.stroke || Tn(o2.stroke) ? f2 : o2.stroke;
  }
  if (n2.setVisual("style", o2), n2.setVisual("drawType", s2), !i2.isSeriesFiltered(t5) && u2) return n2.setVisual("colorFromPalette", false), { dataEach: function(i3, n3) {
    var r3 = t5.getDataParams(n3), e3 = bn({}, o2);
    e3[s2] = u2(r3), i3.setItemVisual(n3, "style", e3);
  } };
} }, Hb = new _v(), Yb = { createOnAllSeries: true, performRawSeries: true, reset: function(t5, i2) {
  if (!t5.ignoreStyleOnData && !i2.isSeriesFiltered(t5)) {
    var n2 = t5.getData(), r2 = t5.visualStyleAccessPath || "itemStyle", e2 = Bb(t5, r2), o2 = n2.getVisual("drawType");
    return { dataEach: n2.hasItemOption ? function(t6, i3) {
      var n3 = t6.getRawDataItem(i3);
      if (n3 && n3[r2]) {
        Hb.option = n3[r2];
        var a2 = e2(Hb);
        bn(t6.ensureUniqueItemVisual(i3, "style"), a2), Hb.option.decal && (t6.setItemVisual(i3, "decal", Hb.option.decal), Hb.option.decal.dirty = true), o2 in a2 && t6.setItemVisual(i3, "colorFromPalette", false);
      }
    } : null };
  }
} }, Xb = { performRawSeries: true, overallReset: function(t5) {
  var i2 = Qn();
  t5.eachSeries((function(t6) {
    var n2 = t6.getColorBy();
    if (!t6.isColorBySeries()) {
      var r2 = t6.type + "-" + n2, e2 = i2.get(r2);
      e2 || i2.set(r2, e2 = {}), Fb(t6).scope = e2;
    }
  })), t5.eachSeries((function(i3) {
    if (!i3.isColorBySeries() && !t5.isSeriesFiltered(i3)) {
      var n2 = i3.getRawData(), r2 = {}, e2 = i3.getData(), o2 = Fb(i3).scope, a2 = Vb(i3, i3.visualStyleAccessPath || "itemStyle");
      e2.each((function(t6) {
        var i4 = e2.getRawIndex(t6);
        r2[i4] = t6;
      })), n2.each((function(t6) {
        var s2 = r2[t6];
        if (e2.getItemVisual(s2, "colorFromPalette")) {
          var l2 = e2.ensureUniqueItemVisual(s2, "style"), u2 = n2.getName(t6) || t6 + "", f2 = n2.count();
          l2[a2] = i3.getColorFromPalette(u2, o2, f2);
        }
      }));
    }
  }));
} }, Ub = Math.PI, $b = (function() {
  function t5(t6, i2, n2, r2) {
    this._stageTaskMap = Qn(), this.ecInstance = t6, this.api = i2, n2 = this._dataProcessorHandlers = n2.slice(), r2 = this._visualHandlers = r2.slice(), this._allHandlers = n2.concat(r2);
  }
  return t5.prototype.restoreData = function(t6, i2) {
    t6.restoreData(i2), this._stageTaskMap.each((function(t7) {
      var i3 = t7.overallTask;
      i3 && i3.dirty();
    }));
  }, t5.prototype.getPerformArgs = function(t6, i2) {
    if (t6.__pipeline) {
      var n2 = this._pipelineMap.get(t6.__pipeline.id), r2 = n2.context, e2 = !i2 && n2.progressiveEnabled && (!r2 || r2.progressiveRender) && t6.__idxInPipeline > n2.blockIndex ? n2.step : null, o2 = r2 && r2.modDataCount;
      return { step: e2, modBy: null != o2 ? Math.ceil(o2 / e2) : null, modDataCount: o2 };
    }
  }, t5.prototype.getPipeline = function(t6) {
    return this._pipelineMap.get(t6);
  }, t5.prototype.updateStreamModes = function(t6, i2) {
    var n2 = this._pipelineMap.get(t6.uid), r2 = t6.getData().count(), e2 = n2.progressiveEnabled && i2.incrementalPrepareRender && r2 >= n2.threshold, o2 = t6.get("large") && r2 >= t6.get("largeThreshold"), a2 = "mod" === t6.get("progressiveChunkMode") ? r2 : null;
    t6.pipelineContext = n2.context = { progressiveRender: e2, modDataCount: a2, large: o2 };
  }, t5.prototype.restorePipelines = function(t6) {
    var i2 = this, n2 = i2._pipelineMap = Qn();
    t6.eachSeries((function(t7) {
      var r2 = t7.getProgressive(), e2 = t7.uid;
      n2.set(e2, { id: e2, head: null, tail: null, threshold: t7.getProgressiveThreshold(), progressiveEnabled: r2 && !(t7.preventIncremental && t7.preventIncremental()), blockIndex: -1, step: Math.round(r2 || 700), count: 0 }), i2._pipe(t7, t7.dataTask);
    }));
  }, t5.prototype.prepareStageTasks = function() {
    var t6 = this._stageTaskMap, i2 = this.api.getModel(), n2 = this.api;
    kn(this._allHandlers, (function(r2) {
      var e2 = t6.get(r2.uid) || t6.set(r2.uid, {});
      Xn(!(r2.reset && r2.overallReset), ""), r2.reset && this._createSeriesStageTask(r2, e2, i2, n2), r2.overallReset && this._createOverallStageTask(r2, e2, i2, n2);
    }), this);
  }, t5.prototype.prepareView = function(t6, i2, n2, r2) {
    var e2 = t6.renderTask, o2 = e2.context;
    o2.model = i2, o2.ecModel = n2, o2.api = r2, e2.__block = !t6.incrementalPrepareRender, this._pipe(i2, e2);
  }, t5.prototype.performDataProcessorTasks = function(t6, i2) {
    this._performStageTasks(this._dataProcessorHandlers, t6, i2, { block: true });
  }, t5.prototype.performVisualTasks = function(t6, i2, n2) {
    this._performStageTasks(this._visualHandlers, t6, i2, n2);
  }, t5.prototype._performStageTasks = function(t6, i2, n2, r2) {
    r2 = r2 || {};
    var e2 = false, o2 = this;
    function a2(t7, i3) {
      return t7.setDirty && (!t7.dirtyMap || t7.dirtyMap.get(i3.__pipeline.id));
    }
    kn(t6, (function(t7) {
      if (!r2.visualType || r2.visualType === t7.visualType) {
        var s2 = o2._stageTaskMap.get(t7.uid), l2 = s2.seriesTaskMap, u2 = s2.overallTask;
        if (u2) {
          var f2, c2 = u2.agentStubMap;
          c2.each((function(t8) {
            a2(r2, t8) && (t8.dirty(), f2 = true);
          })), f2 && u2.dirty(), o2.updatePayload(u2, n2);
          var h2 = o2.getPerformArgs(u2, r2.block);
          c2.each((function(t8) {
            t8.perform(h2);
          })), u2.perform(h2) && (e2 = true);
        } else l2 && l2.each((function(s3) {
          a2(r2, s3) && s3.dirty();
          var l3 = o2.getPerformArgs(s3, r2.block);
          l3.skip = !t7.performRawSeries && i2.isSeriesFiltered(s3.context.model), o2.updatePayload(s3, n2), s3.perform(l3) && (e2 = true);
        }));
      }
    })), this.unfinished = e2 || this.unfinished;
  }, t5.prototype.performSeriesTasks = function(t6) {
    var i2;
    t6.eachSeries((function(t7) {
      i2 = t7.dataTask.perform() || i2;
    })), this.unfinished = i2 || this.unfinished;
  }, t5.prototype.plan = function() {
    this._pipelineMap.each((function(t6) {
      var i2 = t6.tail;
      do {
        if (i2.__block) {
          t6.blockIndex = i2.__idxInPipeline;
          break;
        }
        i2 = i2.getUpstream();
      } while (i2);
    }));
  }, t5.prototype.updatePayload = function(t6, i2) {
    "remain" !== i2 && (t6.context.payload = i2);
  }, t5.prototype._createSeriesStageTask = function(t6, i2, n2, r2) {
    var e2 = this, o2 = i2.seriesTaskMap, a2 = i2.seriesTaskMap = Qn(), s2 = t6.seriesType, l2 = t6.getTargetSeries;
    function u2(i3) {
      var s3 = i3.uid, l3 = a2.set(s3, o2 && o2.get(s3) || dm({ plan: Kb, reset: Qb, count: ng }));
      l3.context = { model: i3, ecModel: n2, api: r2, useClearVisual: t6.isVisual && !t6.isLayout, plan: t6.plan, reset: t6.reset, scheduler: e2 }, e2._pipe(i3, l3);
    }
    t6.createOnAllSeries ? n2.eachRawSeries(u2) : s2 ? n2.eachRawSeriesByType(s2, u2) : l2 && l2(n2, r2).each(u2);
  }, t5.prototype._createOverallStageTask = function(t6, i2, n2, r2) {
    var e2 = this, o2 = i2.overallTask = i2.overallTask || dm({ reset: Gb });
    o2.context = { ecModel: n2, api: r2, overallReset: t6.overallReset, scheduler: e2 };
    var a2 = o2.agentStubMap, s2 = o2.agentStubMap = Qn(), l2 = t6.seriesType, u2 = t6.getTargetSeries, f2 = true, c2 = false;
    function h2(t7) {
      var i3 = t7.uid, n3 = s2.set(i3, a2 && a2.get(i3) || (c2 = true, dm({ reset: Zb, onDirty: Jb })));
      n3.context = { model: t7, overallProgress: f2 }, n3.agent = o2, n3.__block = f2, e2._pipe(t7, n3);
    }
    Xn(!t6.createOnAllSeries, ""), l2 ? n2.eachRawSeriesByType(l2, h2) : u2 ? u2(n2, r2).each(h2) : (f2 = false, kn(n2.getSeries(), h2)), c2 && o2.dirty();
  }, t5.prototype._pipe = function(t6, i2) {
    var n2 = this._pipelineMap.get(t6.uid);
    !n2.head && (n2.head = i2), n2.tail && n2.tail.pipe(i2), n2.tail = i2, i2.__idxInPipeline = n2.count++, i2.__pipeline = n2;
  }, t5.wrapStageHandler = function(t6, i2) {
    return Tn(t6) && (t6 = { overallReset: t6, seriesType: rg(t6) }), t6.uid = Iv("stageHandler"), i2 && (t6.visualType = i2), t6;
  }, t5;
})();
function Gb(t5) {
  t5.overallReset(t5.ecModel, t5.api, t5.payload);
}
function Zb(t5) {
  return t5.overallProgress && qb;
}
function qb() {
  this.agent.dirty(), this.getDownstream().dirty();
}
function Jb() {
  this.agent && this.agent.dirty();
}
function Kb(t5) {
  return t5.plan ? t5.plan(t5.model, t5.ecModel, t5.api, t5.payload) : null;
}
function Qb(t5) {
  t5.useClearVisual && t5.data.clearAllVisual();
  var i2 = t5.resetDefines = Ds(t5.reset(t5.model, t5.ecModel, t5.api, t5.payload));
  return i2.length > 1 ? Mn(i2, (function(t6, i3) {
    return ig(i3);
  })) : tg;
}
var tg = ig(0);
function ig(t5) {
  return function(i2, n2) {
    var r2 = n2.data, e2 = n2.resetDefines[t5];
    if (e2 && e2.dataEach) for (var o2 = i2.start; o2 < i2.end; o2++) e2.dataEach(r2, o2);
    else e2 && e2.progress && e2.progress(i2, r2);
  };
}
function ng(t5) {
  return t5.data.count();
}
function rg(t5) {
  eg = null;
  try {
    t5(og, ag);
  } catch (t6) {
  }
  return eg;
}
var eg, og = {}, ag = {};
function sg(t5, i2) {
  for (var n2 in i2.prototype) t5[n2] = er;
}
sg(og, fp), sg(ag, pp), og.eachSeriesByType = og.eachRawSeriesByType = function(t5) {
  eg = t5;
}, og.eachComponent = function(t5) {
  "series" === t5.mainType && t5.subType && (eg = t5.subType);
};
var lg = ["#37A2DA", "#32C5E9", "#67E0E3", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#E062AE", "#E690D1", "#e7bcf3", "#9d96f5", "#8378EA", "#96BFFF"], ug = { color: lg, colorLayer: [["#37A2DA", "#ffd85c", "#fd7b5f"], ["#37A2DA", "#67E0E3", "#FFDB5C", "#ff9f7f", "#E062AE", "#9d96f5"], ["#37A2DA", "#32C5E9", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#e7bcf3", "#8378EA", "#96BFFF"], lg] }, fg = "#B9B8CE", cg = "#100C2A", hg = function() {
  return { axisLine: { lineStyle: { color: fg } }, splitLine: { lineStyle: { color: "#484753" } }, splitArea: { areaStyle: { color: ["rgba(255,255,255,0.02)", "rgba(255,255,255,0.05)"] } }, minorSplitLine: { lineStyle: { color: "#20203B" } } };
}, vg = ["#4992ff", "#7cffb2", "#fddd60", "#ff6e76", "#58d9f9", "#05c091", "#ff8a45", "#8d48e3", "#dd79ff"], dg = { darkMode: true, color: vg, backgroundColor: cg, axisPointer: { lineStyle: { color: "#817f91" }, crossStyle: { color: "#817f91" }, label: { color: "#fff" } }, legend: { textStyle: { color: fg }, pageTextStyle: { color: fg } }, textStyle: { color: fg }, title: { textStyle: { color: "#EEF1FA" }, subtextStyle: { color: "#B9B8CE" } }, toolbox: { iconStyle: { borderColor: fg } }, dataZoom: { borderColor: "#71708A", textStyle: { color: fg }, brushStyle: { color: "rgba(135,163,206,0.3)" }, handleStyle: { color: "#353450", borderColor: "#C5CBE3" }, moveHandleStyle: { color: "#B0B6C3", opacity: 0.3 }, fillerColor: "rgba(135,163,206,0.2)", emphasis: { handleStyle: { borderColor: "#91B7F2", color: "#4D587D" }, moveHandleStyle: { color: "#636D9A", opacity: 0.7 } }, dataBackground: { lineStyle: { color: "#71708A", width: 1 }, areaStyle: { color: "#71708A" } }, selectedDataBackground: { lineStyle: { color: "#87A3CE" }, areaStyle: { color: "#87A3CE" } } }, visualMap: { textStyle: { color: fg } }, timeline: { lineStyle: { color: fg }, label: { color: fg }, controlStyle: { color: fg, borderColor: fg } }, calendar: { itemStyle: { color: cg }, dayLabel: { color: fg }, monthLabel: { color: fg }, yearLabel: { color: fg } }, timeAxis: hg(), logAxis: hg(), valueAxis: hg(), categoryAxis: hg(), line: { symbol: "circle" }, graph: { color: vg }, gauge: { title: { color: fg }, axisLine: { lineStyle: { color: [[1, "rgba(207,212,219,0.2)"]] } }, axisLabel: { color: fg }, detail: { color: "#EEF1FA" } }, candlestick: { itemStyle: { color: "#f64e56", color0: "#54ea92", borderColor: "#f64e56", borderColor0: "#54ea92" } } };
dg.categoryAxis.splitLine.show = false;
var pg = (function() {
  function t5() {
  }
  return t5.prototype.normalizeQuery = function(t6) {
    var i2 = {}, n2 = {}, r2 = {};
    if (In(t6)) {
      var e2 = rl(t6);
      i2.mainType = e2.main || null, i2.subType = e2.sub || null;
    } else {
      var o2 = ["Index", "Name", "Id"], a2 = { name: 1, dataIndex: 1, dataType: 1 };
      kn(t6, (function(t7, e3) {
        for (var s2 = false, l2 = 0; l2 < o2.length; l2++) {
          var u2 = o2[l2], f2 = e3.lastIndexOf(u2);
          if (f2 > 0 && f2 === e3.length - u2.length) {
            var c2 = e3.slice(0, f2);
            "data" !== c2 && (i2.mainType = c2, i2[u2.toLowerCase()] = t7, s2 = true);
          }
        }
        a2.hasOwnProperty(e3) && (n2[e3] = t7, s2 = true), s2 || (r2[e3] = t7);
      }));
    }
    return { cptQuery: i2, dataQuery: n2, otherQuery: r2 };
  }, t5.prototype.filter = function(t6, i2) {
    var n2 = this.eventInfo;
    if (!n2) return true;
    var r2 = n2.targetEl, e2 = n2.packedEvent, o2 = n2.model, a2 = n2.view;
    if (!o2 || !a2) return true;
    var s2 = i2.cptQuery, l2 = i2.dataQuery;
    return u2(s2, o2, "mainType") && u2(s2, o2, "subType") && u2(s2, o2, "index", "componentIndex") && u2(s2, o2, "name") && u2(s2, o2, "id") && u2(l2, e2, "name") && u2(l2, e2, "dataIndex") && u2(l2, e2, "dataType") && (!a2.filterForExposedEvent || a2.filterForExposedEvent(t6, i2.otherQuery, r2, e2));
    function u2(t7, i3, n3, r3) {
      return null == t7[n3] || i3[r3 || n3] === t7[n3];
    }
  }, t5.prototype.afterTrigger = function() {
    this.eventInfo = null;
  }, t5;
})(), mg = ["symbol", "symbolSize", "symbolRotate", "symbolOffset"], bg = mg.concat(["symbolKeepAspect"]), gg = { createOnAllSeries: true, performRawSeries: true, reset: function(t5, i2) {
  var n2 = t5.getData();
  if (t5.legendIcon && n2.setVisual("legendIcon", t5.legendIcon), t5.hasSymbolVisual) {
    for (var r2 = {}, e2 = {}, o2 = false, a2 = 0; a2 < mg.length; a2++) {
      var s2 = mg[a2], l2 = t5.get(s2);
      Tn(l2) ? (o2 = true, e2[s2] = l2) : r2[s2] = l2;
    }
    if (r2.symbol = r2.symbol || t5.defaultSymbol, n2.setVisual(bn({ legendIcon: t5.legendIcon || r2.symbol, symbolKeepAspect: t5.get("symbolKeepAspect") }, r2)), !i2.isSeriesFiltered(t5)) {
      var u2 = Cn(e2);
      return { dataEach: o2 ? function(i3, n3) {
        for (var r3 = t5.getRawValue(n3), o3 = t5.getDataParams(n3), a3 = 0; a3 < u2.length; a3++) {
          var s3 = u2[a3];
          i3.setItemVisual(n3, s3, e2[s3](r3, o3));
        }
      } : null };
    }
  }
} }, yg = { createOnAllSeries: true, performRawSeries: true, reset: function(t5, i2) {
  if (t5.hasSymbolVisual && !i2.isSeriesFiltered(t5)) return { dataEach: t5.getData().hasItemOption ? function(t6, i3) {
    for (var n2 = t6.getItemModel(i3), r2 = 0; r2 < bg.length; r2++) {
      var e2 = bg[r2], o2 = n2.getShallow(e2, true);
      null != o2 && t6.setItemVisual(i3, e2, o2);
    }
  } : null };
} };
function wg(t5, i2, n2) {
  switch (n2) {
    case "color":
      return t5.getItemVisual(i2, "style")[t5.getVisual("drawType")];
    case "opacity":
      return t5.getItemVisual(i2, "style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return t5.getItemVisual(i2, n2);
  }
}
function xg(t5, i2) {
  switch (i2) {
    case "color":
      return t5.getVisual("style")[t5.getVisual("drawType")];
    case "opacity":
      return t5.getVisual("style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return t5.getVisual(i2);
  }
}
function kg(t5, i2, n2, r2) {
  switch (n2) {
    case "color":
      t5.ensureUniqueItemVisual(i2, "style")[t5.getVisual("drawType")] = r2, t5.setItemVisual(i2, "colorFromPalette", false);
      break;
    case "opacity":
      t5.ensureUniqueItemVisual(i2, "style").opacity = r2;
      break;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      t5.setItemVisual(i2, n2, r2);
  }
}
function Mg(t5, i2) {
  function n2(i3, n3) {
    var r2 = [];
    return i3.eachComponent({ mainType: "series", subType: t5, query: n3 }, (function(t6) {
      r2.push(t6.seriesIndex);
    })), r2;
  }
  kn([[t5 + "ToggleSelect", "toggleSelect"], [t5 + "Select", "select"], [t5 + "UnSelect", "unselect"]], (function(t6) {
    i2(t6[0], (function(i3, r2, e2) {
      i3 = bn({}, i3), e2.dispatchAction(bn(i3, { type: t6[1], seriesIndex: n2(r2, i3) }));
    }));
  }));
}
function zg(t5, i2, n2, r2, e2) {
  var o2 = t5 + i2;
  n2.isSilent(o2) || r2.eachComponent({ mainType: "series", subType: "pie" }, (function(t6) {
    for (var i3 = t6.seriesIndex, r3 = t6.option.selectedMap, a2 = e2.selected, s2 = 0; s2 < a2.length; s2++) if (a2[s2].seriesIndex === i3) {
      var l2 = t6.getData(), u2 = Ys(l2, e2.fromActionPayload);
      n2.trigger(o2, { type: o2, seriesId: t6.id, name: _n(u2) ? l2.getName(u2[0]) : l2.getName(u2), selected: In(r3) ? r3 : bn({}, r3) });
    }
  }));
}
function Sg(t5, i2, n2) {
  for (var r2; t5 && (!i2(t5) || (r2 = t5, !n2)); ) t5 = t5.__hostTarget || t5.parent;
  return r2;
}
var Cg = Math.round(9 * Math.random()), Ag = "function" == typeof Object.defineProperty, Ng = (function() {
  function t5() {
    this._id = "__ec_inner_" + Cg++;
  }
  return t5.prototype.get = function(t6) {
    return this._guard(t6)[this._id];
  }, t5.prototype.set = function(t6, i2) {
    var n2 = this._guard(t6);
    return Ag ? Object.defineProperty(n2, this._id, { value: i2, enumerable: false, configurable: true }) : n2[this._id] = i2, this;
  }, t5.prototype.delete = function(t6) {
    return !!this.has(t6) && (delete this._guard(t6)[this._id], true);
  }, t5.prototype.has = function(t6) {
    return !!this._guard(t6)[this._id];
  }, t5.prototype._guard = function(t6) {
    if (t6 !== Object(t6)) throw TypeError("Value of WeakMap is not a non-null object.");
    return t6;
  }, t5;
})(), _g = Fu.extend({ type: "triangle", shape: { cx: 0, cy: 0, width: 0, height: 0 }, buildPath: function(t5, i2) {
  var n2 = i2.cx, r2 = i2.cy, e2 = i2.width / 2, o2 = i2.height / 2;
  t5.moveTo(n2, r2 - o2), t5.lineTo(n2 + e2, r2 + o2), t5.lineTo(n2 - e2, r2 + o2), t5.closePath();
} }), Tg = Fu.extend({ type: "diamond", shape: { cx: 0, cy: 0, width: 0, height: 0 }, buildPath: function(t5, i2) {
  var n2 = i2.cx, r2 = i2.cy, e2 = i2.width / 2, o2 = i2.height / 2;
  t5.moveTo(n2, r2 - o2), t5.lineTo(n2 + e2, r2), t5.lineTo(n2, r2 + o2), t5.lineTo(n2 - e2, r2), t5.closePath();
} }), Ig = Fu.extend({ type: "pin", shape: { x: 0, y: 0, width: 0, height: 0 }, buildPath: function(t5, i2) {
  var n2 = i2.x, r2 = i2.y, e2 = i2.width / 5 * 3, o2 = Math.max(e2, i2.height), a2 = e2 / 2, s2 = a2 * a2 / (o2 - a2), l2 = r2 - o2 + a2 + s2, u2 = Math.asin(s2 / a2), f2 = Math.cos(u2) * a2, c2 = Math.sin(u2), h2 = Math.cos(u2), v2 = 0.6 * a2, d2 = 0.7 * a2;
  t5.moveTo(n2 - f2, l2 + s2), t5.arc(n2, l2, a2, Math.PI - u2, 2 * Math.PI + u2), t5.bezierCurveTo(n2 + f2 - c2 * v2, l2 + s2 + h2 * v2, n2, r2 - d2, n2, r2), t5.bezierCurveTo(n2, r2 - d2, n2 - f2 + c2 * v2, l2 + s2 + h2 * v2, n2 - f2, l2 + s2), t5.closePath();
} }), Lg = Fu.extend({ type: "arrow", shape: { x: 0, y: 0, width: 0, height: 0 }, buildPath: function(t5, i2) {
  var n2 = i2.height, r2 = i2.x, e2 = i2.y, o2 = i2.width / 3 * 2;
  t5.moveTo(r2, e2), t5.lineTo(r2 + o2, e2 + n2), t5.lineTo(r2, e2 + n2 / 4 * 3), t5.lineTo(r2 - o2, e2 + n2), t5.lineTo(r2, e2), t5.closePath();
} }), Dg = { line: function(t5, i2, n2, r2, e2) {
  e2.x1 = t5, e2.y1 = i2 + r2 / 2, e2.x2 = t5 + n2, e2.y2 = i2 + r2 / 2;
}, rect: function(t5, i2, n2, r2, e2) {
  e2.x = t5, e2.y = i2, e2.width = n2, e2.height = r2;
}, roundRect: function(t5, i2, n2, r2, e2) {
  e2.x = t5, e2.y = i2, e2.width = n2, e2.height = r2, e2.r = Math.min(n2, r2) / 4;
}, square: function(t5, i2, n2, r2, e2) {
  var o2 = Math.min(n2, r2);
  e2.x = t5, e2.y = i2, e2.width = o2, e2.height = o2;
}, circle: function(t5, i2, n2, r2, e2) {
  e2.cx = t5 + n2 / 2, e2.cy = i2 + r2 / 2, e2.r = Math.min(n2, r2) / 2;
}, diamond: function(t5, i2, n2, r2, e2) {
  e2.cx = t5 + n2 / 2, e2.cy = i2 + r2 / 2, e2.width = n2, e2.height = r2;
}, pin: function(t5, i2, n2, r2, e2) {
  e2.x = t5 + n2 / 2, e2.y = i2 + r2 / 2, e2.width = n2, e2.height = r2;
}, arrow: function(t5, i2, n2, r2, e2) {
  e2.x = t5 + n2 / 2, e2.y = i2 + r2 / 2, e2.width = n2, e2.height = r2;
}, triangle: function(t5, i2, n2, r2, e2) {
  e2.cx = t5 + n2 / 2, e2.cy = i2 + r2 / 2, e2.width = n2, e2.height = r2;
} }, Wg = {};
kn({ line: nh, rect: Zu, roundRect: Zu, square: Zu, circle: Tc, diamond: Tg, pin: Ig, arrow: Lg, triangle: _g }, (function(t5, i2) {
  Wg[i2] = new t5();
}));
var Eg = Fu.extend({ type: "symbol", shape: { symbolType: "", x: 0, y: 0, width: 0, height: 0 }, calculateTextPosition: function(t5, i2, n2) {
  var r2 = Ua(t5, i2, n2), e2 = this.shape;
  return e2 && "pin" === e2.symbolType && "inside" === i2.position && (r2.y = n2.y + 0.4 * n2.height), r2;
}, buildPath: function(t5, i2, n2) {
  var r2 = i2.symbolType;
  if ("none" !== r2) {
    var e2 = Wg[r2];
    e2 || (e2 = Wg[r2 = "rect"]), Dg[r2](i2.x, i2.y, i2.width, i2.height, e2.shape), e2.buildPath(t5, e2.shape, n2);
  }
} });
function Og(t5, i2) {
  if ("image" !== this.type) {
    var n2 = this.style;
    this.__isEmptyBrush ? (n2.stroke = t5, n2.fill = i2 || "#fff", n2.lineWidth = 2) : "line" === this.shape.symbolType ? n2.stroke = t5 : n2.fill = t5, this.markRedraw();
  }
}
function Fg(t5, i2, n2, r2, e2, o2, a2) {
  var s2, l2 = 0 === t5.indexOf("empty");
  return l2 && (t5 = t5.substr(5, 1).toLowerCase() + t5.substr(6)), (s2 = 0 === t5.indexOf("image://") ? Oh(t5.slice(8), new ce(i2, n2, r2, e2), a2 ? "center" : "cover") : 0 === t5.indexOf("path://") ? Eh(t5.slice(7), {}, new ce(i2, n2, r2, e2), a2 ? "center" : "cover") : new Eg({ shape: { symbolType: t5, x: i2, y: n2, width: r2, height: e2 } })).__isEmptyBrush = l2, s2.setColor = Og, o2 && s2.setColor(o2), s2;
}
function Rg(t5) {
  return _n(t5) || (t5 = [+t5, +t5]), [t5[0] || 0, t5[1] || 0];
}
function Pg(t5, i2) {
  if (null != t5) return _n(t5) || (t5 = [t5, t5]), [us(t5[0], i2[0]) || 0, us(Vn(t5[1], t5[0]), i2[1]) || 0];
}
function Bg(t5) {
  return isFinite(t5);
}
function Vg(t5, i2, n2) {
  for (var r2 = "radial" === i2.type ? (function(t6, i3, n3) {
    var r3 = n3.width, e3 = n3.height, o3 = Math.min(r3, e3), a2 = null == i3.x ? 0.5 : i3.x, s2 = null == i3.y ? 0.5 : i3.y, l2 = null == i3.r ? 0.5 : i3.r;
    return i3.global || (a2 = a2 * r3 + n3.x, s2 = s2 * e3 + n3.y, l2 *= o3), a2 = Bg(a2) ? a2 : 0.5, s2 = Bg(s2) ? s2 : 0.5, l2 = l2 >= 0 && Bg(l2) ? l2 : 0.5, t6.createRadialGradient(a2, s2, 0, a2, s2, l2);
  })(t5, i2, n2) : (function(t6, i3, n3) {
    var r3 = null == i3.x ? 0 : i3.x, e3 = null == i3.x2 ? 1 : i3.x2, o3 = null == i3.y ? 0 : i3.y, a2 = null == i3.y2 ? 0 : i3.y2;
    return i3.global || (r3 = r3 * n3.width + n3.x, e3 = e3 * n3.width + n3.x, o3 = o3 * n3.height + n3.y, a2 = a2 * n3.height + n3.y), r3 = Bg(r3) ? r3 : 0, e3 = Bg(e3) ? e3 : 1, o3 = Bg(o3) ? o3 : 0, a2 = Bg(a2) ? a2 : 0, t6.createLinearGradient(r3, o3, e3, a2);
  })(t5, i2, n2), e2 = i2.colorStops, o2 = 0; o2 < e2.length; o2++) r2.addColorStop(e2[o2].offset, e2[o2].color);
  return r2;
}
function jg(t5) {
  return parseInt(t5, 10);
}
function Hg(t5, i2, n2) {
  var r2 = ["width", "height"][i2], e2 = ["clientWidth", "clientHeight"][i2], o2 = ["paddingLeft", "paddingTop"][i2], a2 = ["paddingRight", "paddingBottom"][i2];
  if (null != n2[r2] && "auto" !== n2[r2]) return parseFloat(n2[r2]);
  var s2 = document.defaultView.getComputedStyle(t5);
  return (t5[e2] || jg(s2[r2]) || jg(t5.style[r2])) - (jg(s2[o2]) || 0) - (jg(s2[a2]) || 0) | 0;
}
function Yg(t5) {
  var i2, n2, r2 = t5.style, e2 = r2.lineDash && r2.lineWidth > 0 && (n2 = r2.lineWidth, (i2 = r2.lineDash) && "solid" !== i2 && n2 > 0 ? "dashed" === i2 ? [4 * n2, 2 * n2] : "dotted" === i2 ? [n2] : Dn(i2) ? [i2] : _n(i2) ? i2 : null : null), o2 = r2.lineDashOffset;
  if (e2) {
    var a2 = r2.strokeNoScale && t5.getLineScale ? t5.getLineScale() : 1;
    a2 && 1 !== a2 && (e2 = Mn(e2, (function(t6) {
      return t6 / a2;
    })), o2 /= a2);
  }
  return [e2, o2];
}
var Xg = new bu(true);
function Ug(t5) {
  var i2 = t5.stroke;
  return !(null == i2 || "none" === i2 || !(t5.lineWidth > 0));
}
function $g(t5) {
  return "string" == typeof t5 && "none" !== t5;
}
function Gg(t5) {
  var i2 = t5.fill;
  return null != i2 && "none" !== i2;
}
function Zg(t5, i2) {
  if (null != i2.fillOpacity && 1 !== i2.fillOpacity) {
    var n2 = t5.globalAlpha;
    t5.globalAlpha = i2.fillOpacity * i2.opacity, t5.fill(), t5.globalAlpha = n2;
  } else t5.fill();
}
function qg(t5, i2) {
  if (null != i2.strokeOpacity && 1 !== i2.strokeOpacity) {
    var n2 = t5.globalAlpha;
    t5.globalAlpha = i2.strokeOpacity * i2.opacity, t5.stroke(), t5.globalAlpha = n2;
  } else t5.stroke();
}
function Jg(t5, i2, n2) {
  var r2 = pl(i2.image, i2.__image, n2);
  if (bl(r2)) {
    var e2 = t5.createPattern(r2, i2.repeat || "repeat");
    if ("function" == typeof DOMMatrix && e2 && e2.setTransform) {
      var o2 = new DOMMatrix();
      o2.translateSelf(i2.x || 0, i2.y || 0), o2.rotateSelf(0, 0, (i2.rotation || 0) * or), o2.scaleSelf(i2.scaleX || 1, i2.scaleY || 1), e2.setTransform(o2);
    }
    return e2;
  }
}
var Kg = ["shadowBlur", "shadowOffsetX", "shadowOffsetY"], Qg = [["lineCap", "butt"], ["lineJoin", "miter"], ["miterLimit", 10]];
function ty(t5, i2, n2, r2, e2) {
  var o2 = false;
  if (!r2 && i2 === (n2 = n2 || {})) return false;
  if (r2 || i2.opacity !== n2.opacity) {
    ry(t5, e2), o2 = true;
    var a2 = Math.max(Math.min(i2.opacity, 1), 0);
    t5.globalAlpha = isNaN(a2) ? Il.opacity : a2;
  }
  (r2 || i2.blend !== n2.blend) && (o2 || (ry(t5, e2), o2 = true), t5.globalCompositeOperation = i2.blend || Il.blend);
  for (var s2 = 0; s2 < Kg.length; s2++) {
    var l2 = Kg[s2];
    (r2 || i2[l2] !== n2[l2]) && (o2 || (ry(t5, e2), o2 = true), t5[l2] = t5.dpr * (i2[l2] || 0));
  }
  return (r2 || i2.shadowColor !== n2.shadowColor) && (o2 || (ry(t5, e2), o2 = true), t5.shadowColor = i2.shadowColor || Il.shadowColor), o2;
}
function iy(t5, i2, n2, r2, e2) {
  var o2 = ey(i2, e2.inHover), a2 = r2 ? null : n2 && ey(n2, e2.inHover) || {};
  if (o2 === a2) return false;
  var s2 = ty(t5, o2, a2, r2, e2);
  if ((r2 || o2.fill !== a2.fill) && (s2 || (ry(t5, e2), s2 = true), $g(o2.fill) && (t5.fillStyle = o2.fill)), (r2 || o2.stroke !== a2.stroke) && (s2 || (ry(t5, e2), s2 = true), $g(o2.stroke) && (t5.strokeStyle = o2.stroke)), (r2 || o2.opacity !== a2.opacity) && (s2 || (ry(t5, e2), s2 = true), t5.globalAlpha = null == o2.opacity ? 1 : o2.opacity), i2.hasStroke()) {
    var l2 = o2.lineWidth / (o2.strokeNoScale && i2.getLineScale ? i2.getLineScale() : 1);
    t5.lineWidth !== l2 && (s2 || (ry(t5, e2), s2 = true), t5.lineWidth = l2);
  }
  for (var u2 = 0; u2 < Qg.length; u2++) {
    var f2 = Qg[u2], c2 = f2[0];
    (r2 || o2[c2] !== a2[c2]) && (s2 || (ry(t5, e2), s2 = true), t5[c2] = o2[c2] || f2[1]);
  }
  return s2;
}
function ny(t5, i2) {
  var n2 = i2.transform, r2 = t5.dpr || 1;
  n2 ? t5.setTransform(r2 * n2[0], r2 * n2[1], r2 * n2[2], r2 * n2[3], r2 * n2[4], r2 * n2[5]) : t5.setTransform(r2, 0, 0, r2, 0, 0);
}
function ry(t5, i2) {
  i2.batchFill && t5.fill(), i2.batchStroke && t5.stroke(), i2.batchFill = "", i2.batchStroke = "";
}
function ey(t5, i2) {
  return i2 && t5.__hoverStyle || t5.style;
}
function oy(t5, i2) {
  ay(t5, i2, { inHover: false, viewWidth: 0, viewHeight: 0 }, true);
}
function ay(t5, i2, n2, r2) {
  var e2 = i2.transform;
  if (!i2.shouldBePainted(n2.viewWidth, n2.viewHeight, false, false)) return i2.__dirty &= -2, void (i2.__isRendered = false);
  var o2 = i2.__clipPaths, a2 = n2.prevElClipPaths, s2 = false, l2 = false;
  if (a2 && !(function(t6, i3) {
    if (t6 === i3 || !t6 && !i3) return false;
    if (!t6 || !i3 || t6.length !== i3.length) return true;
    for (var n3 = 0; n3 < t6.length; n3++) if (t6[n3] !== i3[n3]) return true;
    return false;
  })(o2, a2) || (a2 && a2.length && (ry(t5, n2), t5.restore(), l2 = s2 = true, n2.prevElClipPaths = null, n2.allClipped = false, n2.prevEl = null), o2 && o2.length && (ry(t5, n2), t5.save(), (function(t6, i3, n3) {
    for (var r3 = false, e3 = 0; e3 < t6.length; e3++) {
      var o3 = t6[e3];
      r3 = r3 || o3.isZeroArea(), ny(i3, o3), i3.beginPath(), o3.buildPath(i3, o3.shape), i3.clip();
    }
    n3.allClipped = r3;
  })(o2, t5, n2), s2 = true), n2.prevElClipPaths = o2), n2.allClipped) i2.__isRendered = false;
  else {
    i2.beforeBrush && i2.beforeBrush(), i2.innerBeforeBrush();
    var u2 = n2.prevEl;
    u2 || (l2 = s2 = true);
    var f2, c2, h2 = i2 instanceof Fu && i2.autoBatch && (function(t6) {
      var i3 = Gg(t6), n3 = Ug(t6);
      return !(t6.lineDash || !(+i3 ^ +n3) || i3 && "string" != typeof t6.fill || n3 && "string" != typeof t6.stroke || t6.strokePercent < 1 || t6.strokeOpacity < 1 || t6.fillOpacity < 1);
    })(i2.style);
    s2 || (c2 = u2.transform, (f2 = e2) && c2 ? f2[0] !== c2[0] || f2[1] !== c2[1] || f2[2] !== c2[2] || f2[3] !== c2[3] || f2[4] !== c2[4] || f2[5] !== c2[5] : f2 || c2) ? (ry(t5, n2), ny(t5, i2)) : h2 || ry(t5, n2);
    var v2 = ey(i2, n2.inHover);
    i2 instanceof Fu ? (1 !== n2.lastDrawType && (l2 = true, n2.lastDrawType = 1), iy(t5, i2, u2, l2, n2), h2 && (n2.batchFill || n2.batchStroke) || t5.beginPath(), (function(t6, i3, n3, r3) {
      var e3, o3 = Ug(n3), a3 = Gg(n3), s3 = n3.strokePercent, l3 = s3 < 1, u3 = !i3.path;
      i3.silent && !l3 || !u3 || i3.createPathProxy();
      var f3 = i3.path || Xg, c3 = i3.__dirty;
      if (!r3) {
        var h3 = n3.fill, v3 = n3.stroke, d2 = a3 && !!h3.colorStops, p2 = o3 && !!v3.colorStops, m2 = a3 && !!h3.image, b2 = o3 && !!v3.image, g3 = void 0, y2 = void 0, w3 = void 0, x2 = void 0, k2 = void 0;
        (d2 || p2) && (k2 = i3.getBoundingRect()), d2 && (g3 = c3 ? Vg(t6, h3, k2) : i3.__canvasFillGradient, i3.__canvasFillGradient = g3), p2 && (y2 = c3 ? Vg(t6, v3, k2) : i3.__canvasStrokeGradient, i3.__canvasStrokeGradient = y2), m2 && (w3 = c3 || !i3.__canvasFillPattern ? Jg(t6, h3, i3) : i3.__canvasFillPattern, i3.__canvasFillPattern = w3), b2 && (x2 = c3 || !i3.__canvasStrokePattern ? Jg(t6, v3, i3) : i3.__canvasStrokePattern, i3.__canvasStrokePattern = w3), d2 ? t6.fillStyle = g3 : m2 && (w3 ? t6.fillStyle = w3 : a3 = false), p2 ? t6.strokeStyle = y2 : b2 && (x2 ? t6.strokeStyle = x2 : o3 = false);
      }
      var M2, z2, S3 = i3.getGlobalScale();
      f3.setScale(S3[0], S3[1], i3.segmentIgnoreThreshold), t6.setLineDash && n3.lineDash && (M2 = (e3 = Yg(i3))[0], z2 = e3[1]);
      var C3 = true;
      (u3 || 4 & c3) && (f3.setDPR(t6.dpr), l3 ? f3.setContext(null) : (f3.setContext(t6), C3 = false), f3.reset(), i3.buildPath(f3, i3.shape, r3), f3.toStatic(), i3.pathUpdated()), C3 && f3.rebuildPath(t6, l3 ? s3 : 1), M2 && (t6.setLineDash(M2), t6.lineDashOffset = z2), r3 || (n3.strokeFirst ? (o3 && qg(t6, n3), a3 && Zg(t6, n3)) : (a3 && Zg(t6, n3), o3 && qg(t6, n3))), M2 && t6.setLineDash([]);
    })(t5, i2, v2, h2), h2 && (n2.batchFill = v2.fill || "", n2.batchStroke = v2.stroke || "")) : i2 instanceof Pu ? (3 !== n2.lastDrawType && (l2 = true, n2.lastDrawType = 3), iy(t5, i2, u2, l2, n2), (function(t6, i3, n3) {
      var r3, e3 = n3.text;
      if (null != e3 && (e3 += ""), e3) {
        t6.font = n3.font || qi, t6.textAlign = n3.textAlign, t6.textBaseline = n3.textBaseline;
        var o3 = void 0, a3 = void 0;
        t6.setLineDash && n3.lineDash && (o3 = (r3 = Yg(i3))[0], a3 = r3[1]), o3 && (t6.setLineDash(o3), t6.lineDashOffset = a3), n3.strokeFirst ? (Ug(n3) && t6.strokeText(e3, n3.x, n3.y), Gg(n3) && t6.fillText(e3, n3.x, n3.y)) : (Gg(n3) && t6.fillText(e3, n3.x, n3.y), Ug(n3) && t6.strokeText(e3, n3.x, n3.y)), o3 && t6.setLineDash([]);
      }
    })(t5, i2, v2)) : i2 instanceof ju ? (2 !== n2.lastDrawType && (l2 = true, n2.lastDrawType = 2), (function(t6, i3, n3, r3, e3) {
      ty(t6, ey(i3, e3.inHover), n3 && ey(n3, e3.inHover), r3, e3);
    })(t5, i2, u2, l2, n2), (function(t6, i3, n3) {
      var r3 = i3.__image = pl(n3.image, i3.__image, i3, i3.onload);
      if (r3 && bl(r3)) {
        var e3 = n3.x || 0, o3 = n3.y || 0, a3 = i3.getWidth(), s3 = i3.getHeight(), l3 = r3.width / r3.height;
        if (null == a3 && null != s3 ? a3 = s3 * l3 : null == s3 && null != a3 ? s3 = a3 / l3 : null == a3 && null == s3 && (a3 = r3.width, s3 = r3.height), n3.sWidth && n3.sHeight) t6.drawImage(r3, u3 = n3.sx || 0, f3 = n3.sy || 0, n3.sWidth, n3.sHeight, e3, o3, a3, s3);
        else if (n3.sx && n3.sy) {
          var u3, f3;
          t6.drawImage(r3, u3 = n3.sx, f3 = n3.sy, a3 - u3, s3 - f3, e3, o3, a3, s3);
        } else t6.drawImage(r3, e3, o3, a3, s3);
      }
    })(t5, i2, v2)) : i2.getTemporalDisplayables && (4 !== n2.lastDrawType && (l2 = true, n2.lastDrawType = 4), (function(t6, i3, n3) {
      var r3 = i3.getDisplayables(), e3 = i3.getTemporalDisplayables();
      t6.save();
      var o3, a3, s3 = { prevElClipPaths: null, prevEl: null, allClipped: false, viewWidth: n3.viewWidth, viewHeight: n3.viewHeight, inHover: n3.inHover };
      for (o3 = i3.getCursor(), a3 = r3.length; o3 < a3; o3++) (f3 = r3[o3]).beforeBrush && f3.beforeBrush(), f3.innerBeforeBrush(), ay(t6, f3, s3, o3 === a3 - 1), f3.innerAfterBrush(), f3.afterBrush && f3.afterBrush(), s3.prevEl = f3;
      for (var l3 = 0, u3 = e3.length; l3 < u3; l3++) {
        var f3;
        (f3 = e3[l3]).beforeBrush && f3.beforeBrush(), f3.innerBeforeBrush(), ay(t6, f3, s3, l3 === u3 - 1), f3.innerAfterBrush(), f3.afterBrush && f3.afterBrush(), s3.prevEl = f3;
      }
      i3.clearTemporalDisplayables(), i3.notClear = true, t6.restore();
    })(t5, i2, n2)), h2 && r2 && ry(t5, n2), i2.innerAfterBrush(), i2.afterBrush && i2.afterBrush(), n2.prevEl = i2, i2.__dirty = 0, i2.__isRendered = true;
  }
}
var sy = new Ng(), ly = new so(100), uy = ["symbol", "symbolSize", "symbolKeepAspect", "color", "backgroundColor", "dashArrayX", "dashArrayY", "maxTileWidth", "maxTileHeight"];
function fy(t5, i2) {
  if ("none" === t5) return null;
  var n2 = i2.getDevicePixelRatio(), r2 = i2.getZr(), e2 = "svg" === r2.painter.type;
  t5.dirty && sy.delete(t5);
  var o2 = sy.get(t5);
  if (o2) return o2;
  var a2 = gn(t5, { symbol: "rect", symbolSize: 1, symbolKeepAspect: true, color: "rgba(0, 0, 0, 0.2)", backgroundColor: null, dashArrayX: 5, dashArrayY: 5, rotation: 0, maxTileWidth: 512, maxTileHeight: 512 });
  "none" === a2.backgroundColor && (a2.backgroundColor = null);
  var s2 = { repeat: "repeat" };
  return (function(t6) {
    for (var i3, o3 = [n2], s3 = true, l2 = 0; l2 < uy.length; ++l2) {
      var u2 = a2[uy[l2]];
      if (null != u2 && !_n(u2) && !In(u2) && !Dn(u2) && "boolean" != typeof u2) {
        s3 = false;
        break;
      }
      o3.push(u2);
    }
    if (s3) {
      i3 = o3.join(",") + (e2 ? "-svg" : "");
      var f2 = ly.get(i3);
      f2 && (e2 ? t6.svgElement = f2 : t6.image = f2);
    }
    var c2, h2 = hy(a2.dashArrayX), v2 = (function(t7) {
      if (!t7 || "object" == typeof t7 && 0 === t7.length) return [0, 0];
      if (Dn(t7)) {
        var i4 = Math.ceil(t7);
        return [i4, i4];
      }
      var n3 = Mn(t7, (function(t8) {
        return Math.ceil(t8);
      }));
      return t7.length % 2 ? n3.concat(n3) : n3;
    })(a2.dashArrayY), d2 = cy(a2.symbol), p2 = Mn(h2, (function(t7) {
      return vy(t7);
    })), m2 = vy(v2), b2 = !e2 && Ki.createCanvas(), g3 = e2 && { tag: "g", attrs: {}, key: "dcl", children: [] }, y2 = (function() {
      for (var t7 = 1, i4 = 0, n3 = p2.length; i4 < n3; ++i4) t7 = Ns(t7, p2[i4]);
      var r3 = 1;
      for (i4 = 0, n3 = d2.length; i4 < n3; ++i4) r3 = Ns(r3, d2[i4].length);
      t7 *= r3;
      var e3 = m2 * p2.length * d2.length;
      return { width: Math.max(1, Math.min(t7, a2.maxTileWidth)), height: Math.max(1, Math.min(e3, a2.maxTileHeight)) };
    })();
    b2 && (b2.width = y2.width * n2, b2.height = y2.height * n2, c2 = b2.getContext("2d")), (function() {
      c2 && (c2.clearRect(0, 0, b2.width, b2.height), a2.backgroundColor && (c2.fillStyle = a2.backgroundColor, c2.fillRect(0, 0, b2.width, b2.height)));
      for (var t7 = 0, i4 = 0; i4 < v2.length; ++i4) t7 += v2[i4];
      if (!(t7 <= 0)) for (var o4 = -m2, s4 = 0, l3 = 0, u3 = 0; o4 < y2.height; ) {
        if (s4 % 2 == 0) {
          for (var f3 = l3 / 2 % d2.length, p3 = 0, w3 = 0, x2 = 0; p3 < 2 * y2.width; ) {
            var k2 = 0;
            for (i4 = 0; i4 < h2[u3].length; ++i4) k2 += h2[u3][i4];
            if (k2 <= 0) break;
            if (w3 % 2 == 0) {
              var M2 = 0.5 * (1 - a2.symbolSize);
              z2(p3 + h2[u3][w3] * M2, o4 + v2[s4] * M2, h2[u3][w3] * a2.symbolSize, v2[s4] * a2.symbolSize, d2[f3][x2 / 2 % d2[f3].length]);
            }
            p3 += h2[u3][w3], ++x2, ++w3 === h2[u3].length && (w3 = 0);
          }
          ++u3 === h2.length && (u3 = 0);
        }
        o4 += v2[s4], ++l3, ++s4 === v2.length && (s4 = 0);
      }
      function z2(t8, i5, o5, s5, l4) {
        var u4 = e2 ? 1 : n2, f4 = Fg(l4, t8 * u4, i5 * u4, o5 * u4, s5 * u4, a2.color, a2.symbolKeepAspect);
        if (e2) {
          var h3 = r2.painter.renderOneToVNode(f4);
          h3 && g3.children.push(h3);
        } else oy(c2, f4);
      }
    })(), s3 && ly.put(i3, b2 || g3), t6.image = b2, t6.svgElement = g3, t6.svgWidth = y2.width, t6.svgHeight = y2.height;
  })(s2), s2.rotation = a2.rotation, s2.scaleX = s2.scaleY = e2 ? 1 : 1 / n2, sy.set(t5, s2), t5.dirty = false, s2;
}
function cy(t5) {
  if (!t5 || 0 === t5.length) return [["rect"]];
  if (In(t5)) return [[t5]];
  for (var i2 = true, n2 = 0; n2 < t5.length; ++n2) if (!In(t5[n2])) {
    i2 = false;
    break;
  }
  if (i2) return cy([t5]);
  var r2 = [];
  for (n2 = 0; n2 < t5.length; ++n2) In(t5[n2]) ? r2.push([t5[n2]]) : r2.push(t5[n2]);
  return r2;
}
function hy(t5) {
  if (!t5 || 0 === t5.length) return [[0, 0]];
  if (Dn(t5)) return [[e2 = Math.ceil(t5), e2]];
  for (var i2 = true, n2 = 0; n2 < t5.length; ++n2) if (!Dn(t5[n2])) {
    i2 = false;
    break;
  }
  if (i2) return hy([t5]);
  var r2 = [];
  for (n2 = 0; n2 < t5.length; ++n2) if (Dn(t5[n2])) {
    var e2 = Math.ceil(t5[n2]);
    r2.push([e2, e2]);
  } else e2 = Mn(t5[n2], (function(t6) {
    return Math.ceil(t6);
  })), r2.push(e2.length % 2 == 1 ? e2.concat(e2) : e2);
  return r2;
}
function vy(t5) {
  for (var i2 = 0, n2 = 0; n2 < t5.length; ++n2) i2 += t5[n2];
  return t5.length % 2 == 1 ? 2 * i2 : i2;
}
var dy = new Sr(), py = {}, my = 2e3, by = 4500, gy = { PROCESSOR: { FILTER: 1e3, SERIES_FILTER: 800, STATISTIC: 5e3 }, VISUAL: { LAYOUT: 1e3, PROGRESSIVE_LAYOUT: 1100, GLOBAL: my, CHART: 3e3, POST_CHART_LAYOUT: 4600, COMPONENT: 4e3, BRUSH: 5e3, CHART_ITEM: by, ARIA: 6e3, DECAL: 7e3 } }, yy = "__flagInMainProcess", wy = "__pendingUpdate", xy = "__needsUpdateStatus", ky = /^[a-zA-Z0-9_]+$/, My = "__connectUpdateStatus";
function zy(t5) {
  return function() {
    for (var i2 = [], n2 = 0; n2 < arguments.length; n2++) i2[n2] = arguments[n2];
    if (!this.isDisposed()) return Cy(this, t5, i2);
  };
}
function Sy(t5) {
  return function() {
    for (var i2 = [], n2 = 0; n2 < arguments.length; n2++) i2[n2] = arguments[n2];
    return Cy(this, t5, i2);
  };
}
function Cy(t5, i2, n2) {
  return n2[0] = n2[0] && n2[0].toLowerCase(), Sr.prototype[i2].apply(t5, n2);
}
var Ay, Ny, _y, Ty, Iy, Ly, Dy, Wy, Ey, Oy, Fy, Ry, Py, By, Vy, jy, Hy, Yy, Xy = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2;
})(Sr), Uy = Xy.prototype;
Uy.on = Sy("on"), Uy.off = Sy("off");
var $y = (function(t5) {
  function i2(i3, n2, r2) {
    var e2 = t5.call(this, new pg()) || this;
    e2._chartsViews = [], e2._chartsMap = {}, e2._componentsViews = [], e2._componentsMap = {}, e2._pendingActions = [], r2 = r2 || {}, In(n2) && (n2 = iw[n2]), e2._dom = i3, r2.ssr && (es = function(t6) {
      var i4 = hf(t6), n3 = i4.dataIndex;
      if (null != n3) {
        var r3 = Qn();
        return r3.set("series_index", i4.seriesIndex), r3.set("data_index", n3), i4.ssrType && r3.set("ssr_type", i4.ssrType), r3;
      }
    });
    var o2 = e2._zr = ss(i3, { renderer: r2.renderer || "canvas", devicePixelRatio: r2.devicePixelRatio, width: r2.width, height: r2.height, ssr: r2.ssr, useDirtyRect: Vn(r2.useDirtyRect, false), useCoarsePointer: Vn(r2.useCoarsePointer, "auto"), pointerSize: r2.pointerSize });
    e2._ssr = r2.ssr, e2._throttledZrFlush = Wb(An(o2.flush, o2), 17), (n2 = dn(n2)) && Pp(n2, true), e2._theme = n2, e2._locale = (function(t6) {
      if (In(t6)) {
        var i4 = Ov[t6.toUpperCase()] || {};
        return t6 === Dv || t6 === Wv ? dn(i4) : pn(dn(i4), dn(Ov[Ev]), false);
      }
      return pn(dn(t6), dn(Ov[Ev]), false);
    })(r2.locale || Rv), e2._coordSysMgr = new bp();
    var a2 = e2._api = Vy(e2);
    function s2(t6, i4) {
      return t6.__prio - i4.__prio;
    }
    return Ce(tw, s2), Ce(Ky, s2), e2._scheduler = new $b(e2, a2, Ky, tw), e2._messageCenter = new Xy(), e2._initEvents(), e2.resize = An(e2.resize, e2), o2.animation.on("frame", e2._onframe, e2), Oy(o2, e2), Fy(o2, e2), Gn(e2), e2;
  }
  return Yi(i2, t5), i2.prototype._onframe = function() {
    if (!this._disposed) {
      Yy(this);
      var t6 = this._scheduler;
      if (this[wy]) {
        var i3 = this[wy].silent;
        this[yy] = true;
        try {
          Ay(this), Ty.update.call(this, null, this[wy].updateParams);
        } catch (t7) {
          throw this[yy] = false, this[wy] = null, t7;
        }
        this._zr.flush(), this[yy] = false, this[wy] = null, Wy.call(this, i3), Ey.call(this, i3);
      } else if (t6.unfinished) {
        var n2 = 1, r2 = this._model, e2 = this._api;
        t6.unfinished = false;
        do {
          var o2 = +/* @__PURE__ */ new Date();
          t6.performSeriesTasks(r2), t6.performDataProcessorTasks(r2), Ly(this, r2), t6.performVisualTasks(r2), By(this, this._model, e2, "remain", {}), n2 -= +/* @__PURE__ */ new Date() - o2;
        } while (n2 > 0 && t6.unfinished);
        t6.unfinished || this._zr.flush();
      }
    }
  }, i2.prototype.getDom = function() {
    return this._dom;
  }, i2.prototype.getId = function() {
    return this.id;
  }, i2.prototype.getZr = function() {
    return this._zr;
  }, i2.prototype.isSSR = function() {
    return this._ssr;
  }, i2.prototype.setOption = function(t6, i3, n2) {
    if (!this[yy] && !this._disposed) {
      var r2, e2, o2;
      if (Wn(i3) && (n2 = i3.lazyUpdate, r2 = i3.silent, e2 = i3.replaceMerge, o2 = i3.transition, i3 = i3.notMerge), this[yy] = true, !this._model || i3) {
        var a2 = new yp(this._api), s2 = this._theme, l2 = this._model = new fp();
        l2.scheduler = this._scheduler, l2.ssr = this._ssr, l2.init(null, null, null, s2, this._locale, a2);
      }
      this._model.setOption(t6, { replaceMerge: e2 }, Qy);
      var u2 = { seriesTransition: o2, optionChanged: true };
      if (n2) this[wy] = { silent: r2, updateParams: u2 }, this[yy] = false, this.getZr().wakeUp();
      else {
        try {
          Ay(this), Ty.update.call(this, null, u2);
        } catch (t7) {
          throw this[wy] = null, this[yy] = false, t7;
        }
        this._ssr || this._zr.flush(), this[wy] = null, this[yy] = false, Wy.call(this, r2), Ey.call(this, r2);
      }
    }
  }, i2.prototype.setTheme = function() {
  }, i2.prototype.getModel = function() {
    return this._model;
  }, i2.prototype.getOption = function() {
    return this._model && this._model.getOption();
  }, i2.prototype.getWidth = function() {
    return this._zr.getWidth();
  }, i2.prototype.getHeight = function() {
    return this._zr.getHeight();
  }, i2.prototype.getDevicePixelRatio = function() {
    return this._zr.painter.dpr || Ui.hasGlobalWindow && window.devicePixelRatio || 1;
  }, i2.prototype.getRenderedCanvas = function(t6) {
    return this.renderToCanvas(t6);
  }, i2.prototype.renderToCanvas = function(t6) {
    return this._zr.painter.getRenderedCanvas({ backgroundColor: (t6 = t6 || {}).backgroundColor || this._model.get("backgroundColor"), pixelRatio: t6.pixelRatio || this.getDevicePixelRatio() });
  }, i2.prototype.renderToSVGString = function(t6) {
    return this._zr.painter.renderToString({ useViewBox: (t6 = t6 || {}).useViewBox });
  }, i2.prototype.getSvgDataURL = function() {
    if (Ui.svgSupported) {
      var t6 = this._zr;
      return kn(t6.storage.getDisplayList(), (function(t7) {
        t7.stopAnimation(null, true);
      })), t6.painter.toDataURL();
    }
  }, i2.prototype.getDataURL = function(t6) {
    if (!this._disposed) {
      var i3 = this._model, n2 = [], r2 = this;
      kn((t6 = t6 || {}).excludeComponents, (function(t7) {
        i3.eachComponent({ mainType: t7 }, (function(t8) {
          var i4 = r2._componentsMap[t8.__viewId];
          i4.group.ignore || (n2.push(i4), i4.group.ignore = true);
        }));
      }));
      var e2 = "svg" === this._zr.painter.getType() ? this.getSvgDataURL() : this.renderToCanvas(t6).toDataURL("image/" + (t6 && t6.type || "png"));
      return kn(n2, (function(t7) {
        t7.group.ignore = false;
      })), e2;
    }
  }, i2.prototype.getConnectedDataURL = function(t6) {
    if (!this._disposed) {
      var i3 = "svg" === t6.type, n2 = this.group, r2 = Math.min, e2 = Math.max, o2 = 1 / 0;
      if (ew[n2]) {
        var a2 = o2, s2 = o2, l2 = -1 / 0, u2 = -1 / 0, f2 = [], c2 = t6 && t6.pixelRatio || this.getDevicePixelRatio();
        kn(rw, (function(o3) {
          if (o3.group === n2) {
            var c3 = i3 ? o3.getZr().painter.getSvgDom().innerHTML : o3.renderToCanvas(dn(t6)), h3 = o3.getDom().getBoundingClientRect();
            a2 = r2(h3.left, a2), s2 = r2(h3.top, s2), l2 = e2(h3.right, l2), u2 = e2(h3.bottom, u2), f2.push({ dom: c3, left: h3.left, top: h3.top });
          }
        }));
        var h2 = (l2 *= c2) - (a2 *= c2), v2 = (u2 *= c2) - (s2 *= c2), d2 = Ki.createCanvas(), p2 = ss(d2, { renderer: i3 ? "svg" : "canvas" });
        if (p2.resize({ width: h2, height: v2 }), i3) {
          var m2 = "";
          return kn(f2, (function(t7) {
            m2 += '<g transform="translate(' + (t7.left - a2) + "," + (t7.top - s2) + ')">' + t7.dom + "</g>";
          })), p2.painter.getSvgRoot().innerHTML = m2, t6.connectedBackgroundColor && p2.painter.setBackgroundColor(t6.connectedBackgroundColor), p2.refreshImmediately(), p2.painter.toDataURL();
        }
        return t6.connectedBackgroundColor && p2.add(new Zu({ shape: { x: 0, y: 0, width: h2, height: v2 }, style: { fill: t6.connectedBackgroundColor } })), kn(f2, (function(t7) {
          var i4 = new ju({ style: { x: t7.left * c2 - a2, y: t7.top * c2 - s2, image: t7.dom } });
          p2.add(i4);
        })), p2.refreshImmediately(), d2.toDataURL("image/" + (t6 && t6.type || "png"));
      }
      return this.getDataURL(t6);
    }
  }, i2.prototype.convertToPixel = function(t6, i3) {
    return Iy(this, "convertToPixel", t6, i3);
  }, i2.prototype.convertFromPixel = function(t6, i3) {
    return Iy(this, "convertFromPixel", t6, i3);
  }, i2.prototype.containPixel = function(t6, i3) {
    var n2;
    if (!this._disposed) return kn($s(this._model, t6), (function(t7, r2) {
      r2.indexOf("Models") >= 0 && kn(t7, (function(t8) {
        var e2 = t8.coordinateSystem;
        if (e2 && e2.containPoint) n2 = n2 || !!e2.containPoint(i3);
        else if ("seriesModels" === r2) {
          var o2 = this._chartsMap[t8.__viewId];
          o2 && o2.containPoint && (n2 = n2 || o2.containPoint(i3, t8));
        }
      }), this);
    }), this), !!n2;
  }, i2.prototype.getVisual = function(t6, i3) {
    var n2 = $s(this._model, t6, { defaultMainType: "series" }), r2 = n2.seriesModel.getData(), e2 = n2.hasOwnProperty("dataIndexInside") ? n2.dataIndexInside : n2.hasOwnProperty("dataIndex") ? r2.indexOfRawIndex(n2.dataIndex) : null;
    return null != e2 ? wg(r2, e2, i3) : xg(r2, i3);
  }, i2.prototype.getViewOfComponentModel = function(t6) {
    return this._componentsMap[t6.__viewId];
  }, i2.prototype.getViewOfSeriesModel = function(t6) {
    return this._chartsMap[t6.__viewId];
  }, i2.prototype._initEvents = function() {
    var t6, i3, n2 = this;
    kn(Zy, (function(t7) {
      var i4 = function(i5) {
        var r2, e2 = n2.getModel(), o2 = i5.target;
        if ("globalout" === t7 ? r2 = {} : o2 && Sg(o2, (function(t8) {
          var i6 = hf(t8);
          if (i6 && null != i6.dataIndex) {
            var n3 = i6.dataModel || e2.getSeriesByIndex(i6.seriesIndex);
            return r2 = n3 && n3.getDataParams(i6.dataIndex, i6.dataType, o2) || {}, true;
          }
          if (i6.eventData) return r2 = bn({}, i6.eventData), true;
        }), true), r2) {
          var a2 = r2.componentType, s2 = r2.componentIndex;
          "markLine" !== a2 && "markPoint" !== a2 && "markArea" !== a2 || (a2 = "series", s2 = r2.seriesIndex);
          var l2 = a2 && null != s2 && e2.getComponent(a2, s2), u2 = l2 && n2["series" === l2.mainType ? "_chartsMap" : "_componentsMap"][l2.__viewId];
          r2.event = i5, r2.type = t7, n2._$eventProcessor.eventInfo = { targetEl: o2, packedEvent: r2, model: l2, view: u2 }, n2.trigger(t7, r2);
        }
      };
      i4.zrEventfulCallAtLast = true, n2._zr.on(t7, i4, n2);
    })), kn(Jy, (function(t7, i4) {
      n2._messageCenter.on(i4, (function(t8) {
        this.trigger(i4, t8);
      }), n2);
    })), kn(["selectchanged"], (function(t7) {
      n2._messageCenter.on(t7, (function(i4) {
        this.trigger(t7, i4);
      }), n2);
    })), t6 = this, i3 = this._api, this._messageCenter.on("selectchanged", (function(n3) {
      var r2 = i3.getModel();
      n3.isFromClick ? (zg("map", "selectchanged", t6, r2, n3), zg("pie", "selectchanged", t6, r2, n3)) : "select" === n3.fromAction ? (zg("map", "selected", t6, r2, n3), zg("pie", "selected", t6, r2, n3)) : "unselect" === n3.fromAction && (zg("map", "unselected", t6, r2, n3), zg("pie", "unselected", t6, r2, n3));
    }));
  }, i2.prototype.isDisposed = function() {
    return this._disposed;
  }, i2.prototype.clear = function() {
    this._disposed || this.setOption({ series: [] }, true);
  }, i2.prototype.dispose = function() {
    if (!this._disposed) {
      this._disposed = true, this.getDom() && Ks(this.getDom(), aw, "");
      var t6 = this, i3 = t6._api, n2 = t6._model;
      kn(t6._componentsViews, (function(t7) {
        t7.dispose(n2, i3);
      })), kn(t6._chartsViews, (function(t7) {
        t7.dispose(n2, i3);
      })), t6._zr.dispose(), t6._dom = t6._model = t6._chartsMap = t6._componentsMap = t6._chartsViews = t6._componentsViews = t6._scheduler = t6._api = t6._zr = t6._throttledZrFlush = t6._theme = t6._coordSysMgr = t6._messageCenter = null, delete rw[t6.id];
    }
  }, i2.prototype.resize = function(t6) {
    if (!this[yy] && !this._disposed) {
      this._zr.resize(t6);
      var i3 = this._model;
      if (this._loadingFX && this._loadingFX.resize(), i3) {
        var n2 = i3.resetOption("media"), r2 = t6 && t6.silent;
        this[wy] && (null == r2 && (r2 = this[wy].silent), n2 = true, this[wy] = null), this[yy] = true;
        try {
          n2 && Ay(this), Ty.update.call(this, { type: "resize", animation: bn({ duration: 0 }, t6 && t6.animation) });
        } catch (t7) {
          throw this[yy] = false, t7;
        }
        this[yy] = false, Wy.call(this, r2), Ey.call(this, r2);
      }
    }
  }, i2.prototype.showLoading = function(t6, i3) {
    if (!this._disposed && (Wn(t6) && (i3 = t6, t6 = ""), t6 = t6 || "default", this.hideLoading(), nw[t6])) {
      var n2 = nw[t6](this._api, i3), r2 = this._zr;
      this._loadingFX = n2, r2.add(n2);
    }
  }, i2.prototype.hideLoading = function() {
    this._disposed || (this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null);
  }, i2.prototype.makeActionFromEvent = function(t6) {
    var i3 = bn({}, t6);
    return i3.type = Jy[t6.type], i3;
  }, i2.prototype.dispatchAction = function(t6, i3) {
    if (!this._disposed && (Wn(i3) || (i3 = { silent: !!i3 }), qy[t6.type] && this._model)) if (this[yy]) this._pendingActions.push(t6);
    else {
      var n2 = i3.silent;
      Dy.call(this, t6, n2);
      var r2 = i3.flush;
      r2 ? this._zr.flush() : false !== r2 && Ui.browser.weChat && this._throttledZrFlush(), Wy.call(this, n2), Ey.call(this, n2);
    }
  }, i2.prototype.updateLabelLayout = function() {
    dy.trigger("series:layoutlabels", this._model, this._api, { updatedSeries: [] });
  }, i2.prototype.appendData = function(t6) {
    if (!this._disposed) {
      var i3 = t6.seriesIndex;
      this.getModel().getSeriesByIndex(i3).appendData(t6), this._scheduler.unfinished = true, this.getZr().wakeUp();
    }
  }, i2.internalField = (function() {
    function t6(t7) {
      t7.clearColorPalette(), t7.eachSeries((function(t8) {
        t8.clearColorPalette();
      }));
    }
    function i3(t7) {
      for (var i4 = [], n3 = t7.currentStates, r3 = 0; r3 < n3.length; r3++) {
        var e3 = n3[r3];
        "emphasis" !== e3 && "blur" !== e3 && "select" !== e3 && i4.push(e3);
      }
      t7.selected && t7.states.select && i4.push("select"), 2 === t7.hoverState && t7.states.emphasis ? i4.push("emphasis") : 1 === t7.hoverState && t7.states.blur && i4.push("blur"), t7.useStates(i4);
    }
    function n2(t7, i4) {
      if (!t7.preventAutoZ) {
        var n3 = t7.get("z") || 0, e3 = t7.get("zlevel") || 0;
        i4.eachRendered((function(t8) {
          return r2(t8, n3, e3, -1 / 0), true;
        }));
      }
    }
    function r2(t7, i4, n3, e3) {
      var o3 = t7.getTextContent(), a2 = t7.getTextGuideLine();
      if (t7.isGroup) for (var s2 = t7.childrenRef(), l2 = 0; l2 < s2.length; l2++) e3 = Math.max(r2(s2[l2], i4, n3, e3), e3);
      else t7.z = i4, t7.zlevel = n3, e3 = Math.max(t7.z2, e3);
      if (o3 && (o3.z = i4, o3.zlevel = n3, isFinite(e3) && (o3.z2 = e3 + 2)), a2) {
        var u2 = t7.textGuideLineConfig;
        a2.z = i4, a2.zlevel = n3, isFinite(e3) && (a2.z2 = e3 + (u2 && u2.showAbove ? 1 : -1));
      }
      return e3;
    }
    function e2(t7, i4) {
      i4.eachRendered((function(t8) {
        if (!Sh(t8)) {
          var i5 = t8.getTextContent(), n3 = t8.getTextGuideLine();
          t8.stateTransition && (t8.stateTransition = null), i5 && i5.stateTransition && (i5.stateTransition = null), n3 && n3.stateTransition && (n3.stateTransition = null), t8.hasState() ? (t8.prevStates = t8.currentStates, t8.clearStates()) : t8.prevStates && (t8.prevStates = null);
        }
      }));
    }
    function o2(t7, n3) {
      var r3 = t7.getModel("stateAnimation"), e3 = t7.isAnimationEnabled(), o3 = r3.get("duration"), a2 = o3 > 0 ? { duration: o3, delay: r3.get("delay"), easing: r3.get("easing") } : null;
      n3.eachRendered((function(t8) {
        if (t8.states && t8.states.emphasis) {
          if (Sh(t8)) return;
          if (t8 instanceof Fu && (function(t9) {
            var i4 = mf(t9);
            i4.normalFill = t9.style.fill, i4.normalStroke = t9.style.stroke;
            var n5 = t9.states.select || {};
            i4.selectFill = n5.style && n5.style.fill || null, i4.selectStroke = n5.style && n5.style.stroke || null;
          })(t8), t8.__dirty) {
            var n4 = t8.prevStates;
            n4 && t8.useStates(n4);
          }
          if (e3) {
            t8.stateTransition = a2;
            var r4 = t8.getTextContent(), o4 = t8.getTextGuideLine();
            r4 && (r4.stateTransition = a2), o4 && (o4.stateTransition = a2);
          }
          t8.__dirty && i3(t8);
        }
      }));
    }
    Ay = function(t7) {
      var i4 = t7._scheduler;
      i4.restorePipelines(t7._model), i4.prepareStageTasks(), Ny(t7, true), Ny(t7, false), i4.plan();
    }, Ny = function(t7, i4) {
      for (var n3 = t7._model, r3 = t7._scheduler, e3 = i4 ? t7._componentsViews : t7._chartsViews, o3 = i4 ? t7._componentsMap : t7._chartsMap, a2 = t7._zr, s2 = t7._api, l2 = 0; l2 < e3.length; l2++) e3[l2].__alive = false;
      function u2(t8) {
        var l3 = t8.__requireNewView;
        t8.__requireNewView = false;
        var u3 = "_ec_" + t8.id + "_" + t8.type, f3 = !l3 && o3[u3];
        if (!f3) {
          var c2 = rl(t8.type);
          (f3 = new (i4 ? xb.getClass(c2.main, c2.sub) : Sb.getClass(c2.sub))()).init(n3, s2), o3[u3] = f3, e3.push(f3), a2.add(f3.group);
        }
        t8.__viewId = f3.__id = u3, f3.__alive = true, f3.__model = t8, f3.group.__ecComponentInfo = { mainType: t8.mainType, index: t8.componentIndex }, !i4 && r3.prepareView(f3, t8, n3, s2);
      }
      for (i4 ? n3.eachComponent((function(t8, i5) {
        "series" !== t8 && u2(i5);
      })) : n3.eachSeries(u2), l2 = 0; l2 < e3.length; ) {
        var f2 = e3[l2];
        f2.__alive ? l2++ : (!i4 && f2.renderTask.dispose(), a2.remove(f2.group), f2.dispose(n3, s2), e3.splice(l2, 1), o3[f2.__id] === f2 && delete o3[f2.__id], f2.__id = f2.group.__ecComponentInfo = null);
      }
    }, _y = function(t7, i4, n3, r3, e3) {
      var o3 = t7._model;
      if (o3.setUpdatePayload(n3), r3) {
        var a2 = {};
        a2[r3 + "Id"] = n3[r3 + "Id"], a2[r3 + "Index"] = n3[r3 + "Index"], a2[r3 + "Name"] = n3[r3 + "Name"];
        var s2 = { mainType: r3, query: a2 };
        e3 && (s2.subType = e3);
        var l2, u2 = n3.excludeSeriesId;
        null != u2 && (l2 = Qn(), kn(Ds(u2), (function(t8) {
          var i5 = Vs(t8, null);
          null != i5 && l2.set(i5, true);
        }))), o3 && o3.eachComponent(s2, (function(i5) {
          if (!l2 || null == l2.get(i5.id)) if (lc(n3)) if (i5 instanceof vb) n3.type !== wf || n3.notBlur || i5.get(["emphasis", "disabled"]) || (function(t8, i6, n4) {
            var r5 = t8.seriesIndex, e5 = t8.getData(i6.dataType);
            if (e5) {
              var o4 = Ys(e5, i6);
              o4 = (_n(o4) ? o4[0] : o4) || 0;
              var a3 = e5.getItemGraphicEl(o4);
              if (!a3) for (var s3 = e5.count(), l3 = 0; !a3 && l3 < s3; ) a3 = e5.getItemGraphicEl(l3++);
              if (a3) {
                var u3 = hf(a3);
                Gf(r5, u3.focus, u3.blurScope, n4);
              } else {
                var f3 = t8.get(["emphasis", "focus"]), c2 = t8.get(["emphasis", "blurScope"]);
                null != f3 && Gf(r5, f3, c2, n4);
              }
            }
          })(i5, n3, t7._api);
          else {
            var r4 = qf(i5.mainType, i5.componentIndex, n3.name, t7._api), e4 = r4.dispatchers;
            n3.type === wf && r4.focusSelf && !n3.notBlur && Zf(i5.mainType, i5.componentIndex, t7._api), e4 && kn(e4, (function(t8) {
              n3.type === wf ? Bf(t8) : Vf(t8);
            }));
          }
          else sc(n3) && i5 instanceof vb && ((function(t8, i6) {
            if (sc(i6)) {
              var n4 = i6.dataType, r5 = Ys(t8.getData(n4), i6);
              _n(r5) || (r5 = [r5]), t8[i6.type === zf ? "toggleSelect" : i6.type === kf ? "select" : "unselect"](r5, n4);
            }
          })(i5, n3), Jf(i5), Hy(t7));
        }), t7), o3 && o3.eachComponent(s2, (function(i5) {
          l2 && null != l2.get(i5.id) || f2(t7["series" === r3 ? "_chartsMap" : "_componentsMap"][i5.__viewId]);
        }), t7);
      } else kn([].concat(t7._componentsViews).concat(t7._chartsViews), f2);
      function f2(r4) {
        r4 && r4.__alive && r4[i4] && r4[i4](r4.__model, o3, t7._api, n3);
      }
    }, Ty = { prepareAndUpdate: function(t7) {
      Ay(this), Ty.update.call(this, t7, { optionChanged: null != t7.newOption });
    }, update: function(i4, n3) {
      var r3 = this._model, e3 = this._api, o3 = this._zr, a2 = this._coordSysMgr, s2 = this._scheduler;
      if (r3) {
        r3.setUpdatePayload(i4), s2.restoreData(r3, i4), s2.performSeriesTasks(r3), a2.create(r3, e3), s2.performDataProcessorTasks(r3, i4), Ly(this, r3), a2.update(r3, e3), t6(r3), s2.performVisualTasks(r3, i4), Ry(this, r3, e3, i4, n3);
        var l2 = r3.get("backgroundColor") || "transparent", u2 = r3.get("darkMode");
        o3.setBackgroundColor(l2), null != u2 && "auto" !== u2 && o3.setDarkMode(u2), dy.trigger("afterupdate", r3, e3);
      }
    }, updateTransform: function(i4) {
      var n3 = this, r3 = this._model, e3 = this._api;
      if (r3) {
        r3.setUpdatePayload(i4), r3.eachComponent((function(t7, o4) {
          if ("series" !== t7) {
            var a2 = n3.getViewOfComponentModel(o4);
            a2 && a2.__alive && a2.updateTransform && a2.updateTransform(o4, r3, e3, i4);
          }
        }));
        var o3 = Qn();
        r3.eachSeries((function(t7) {
          var a2 = n3._chartsMap[t7.__viewId];
          if (a2.updateTransform) {
            var s2 = a2.updateTransform(t7, r3, e3, i4);
            s2 && s2.update && o3.set(t7.uid, 1);
          } else o3.set(t7.uid, 1);
        })), t6(r3), this._scheduler.performVisualTasks(r3, i4, { setDirty: true, dirtyMap: o3 }), By(this, r3, e3, i4, {}, o3), dy.trigger("afterupdate", r3, e3);
      }
    }, updateView: function(i4) {
      var n3 = this._model;
      n3 && (n3.setUpdatePayload(i4), Sb.markUpdateMethod(i4, "updateView"), t6(n3), this._scheduler.performVisualTasks(n3, i4, { setDirty: true }), Ry(this, n3, this._api, i4, {}), dy.trigger("afterupdate", n3, this._api));
    }, updateVisual: function(i4) {
      var n3 = this, r3 = this._model;
      r3 && (r3.setUpdatePayload(i4), r3.eachSeries((function(t7) {
        t7.getData().clearAllVisual();
      })), Sb.markUpdateMethod(i4, "updateVisual"), t6(r3), this._scheduler.performVisualTasks(r3, i4, { visualType: "visual", setDirty: true }), r3.eachComponent((function(t7, e3) {
        if ("series" !== t7) {
          var o3 = n3.getViewOfComponentModel(e3);
          o3 && o3.__alive && o3.updateVisual(e3, r3, n3._api, i4);
        }
      })), r3.eachSeries((function(t7) {
        n3._chartsMap[t7.__viewId].updateVisual(t7, r3, n3._api, i4);
      })), dy.trigger("afterupdate", r3, this._api));
    }, updateLayout: function(t7) {
      Ty.update.call(this, t7);
    } }, Iy = function(t7, i4, n3, r3) {
      if (!t7._disposed) for (var e3, o3 = t7._model, a2 = t7._coordSysMgr.getCoordinateSystems(), s2 = $s(o3, n3), l2 = 0; l2 < a2.length; l2++) {
        var u2 = a2[l2];
        if (u2[i4] && null != (e3 = u2[i4](o3, s2, r3))) return e3;
      }
    }, Ly = function(t7, i4) {
      var n3 = t7._chartsMap, r3 = t7._scheduler;
      i4.eachSeries((function(t8) {
        r3.updateStreamModes(t8, n3[t8.__viewId]);
      }));
    }, Dy = function(t7, i4) {
      var n3 = this, r3 = this.getModel(), e3 = t7.type, o3 = t7.escapeConnect, a2 = qy[e3], s2 = a2.actionInfo, l2 = (s2.update || "update").split(":"), u2 = l2.pop(), f2 = null != l2[0] && rl(l2[0]);
      this[yy] = true;
      var c2 = [t7], h2 = false;
      t7.batch && (h2 = true, c2 = Mn(t7.batch, (function(i5) {
        return (i5 = gn(bn({}, i5), t7)).batch = null, i5;
      })));
      var v2, d2 = [], p2 = sc(t7), m2 = lc(t7);
      if (m2 && $f(this._api), kn(c2, (function(i5) {
        if ((v2 = (v2 = a2.action(i5, n3._model, n3._api)) || bn({}, i5)).type = s2.event || v2.type, d2.push(v2), m2) {
          var r4 = Gs(t7), e4 = r4.mainTypeSpecified ? r4.queryOptionMap.keys()[0] : "series";
          _y(n3, u2, i5, e4), Hy(n3);
        } else p2 ? (_y(n3, u2, i5, "series"), Hy(n3)) : f2 && _y(n3, u2, i5, f2.main, f2.sub);
      })), "none" !== u2 && !m2 && !p2 && !f2) try {
        this[wy] ? (Ay(this), Ty.update.call(this, t7), this[wy] = null) : Ty[u2].call(this, t7);
      } catch (t8) {
        throw this[yy] = false, t8;
      }
      if (v2 = h2 ? { type: s2.event || e3, escapeConnect: o3, batch: d2 } : d2[0], this[yy] = false, !i4) {
        var b2 = this._messageCenter;
        if (b2.trigger(v2.type, v2), p2) {
          var g3 = { type: "selectchanged", escapeConnect: o3, selected: Kf(r3), isFromClick: t7.isFromClick || false, fromAction: t7.type, fromActionPayload: t7 };
          b2.trigger(g3.type, g3);
        }
      }
    }, Wy = function(t7) {
      for (var i4 = this._pendingActions; i4.length; ) {
        var n3 = i4.shift();
        Dy.call(this, n3, t7);
      }
    }, Ey = function(t7) {
      !t7 && this.trigger("updated");
    }, Oy = function(t7, i4) {
      t7.on("rendered", (function(n3) {
        i4.trigger("rendered", n3), !t7.animation.isFinished() || i4[wy] || i4._scheduler.unfinished || i4._pendingActions.length || i4.trigger("finished");
      }));
    }, Fy = function(t7, i4) {
      t7.on("mouseover", (function(t8) {
        var n3 = Sg(t8.target, ac);
        n3 && ((function(t9, i5, n4) {
          var r3 = hf(t9), e3 = qf(r3.componentMainType, r3.componentIndex, r3.componentHighDownName, n4), o3 = e3.dispatchers;
          o3 ? (e3.focusSelf && Zf(r3.componentMainType, r3.componentIndex, n4), kn(o3, (function(t10) {
            return Rf(t10, i5);
          }))) : (Gf(r3.seriesIndex, r3.focus, r3.blurScope, n4), "self" === r3.focus && Zf(r3.componentMainType, r3.componentIndex, n4), Rf(t9, i5));
        })(n3, t8, i4._api), Hy(i4));
      })).on("mouseout", (function(t8) {
        var n3 = Sg(t8.target, ac);
        n3 && ((function(t9, i5, n4) {
          $f(n4);
          var r3 = hf(t9), e3 = qf(r3.componentMainType, r3.componentIndex, r3.componentHighDownName, n4).dispatchers;
          e3 ? kn(e3, (function(t10) {
            return Pf(t10, i5);
          })) : Pf(t9, i5);
        })(n3, t8, i4._api), Hy(i4));
      })).on("click", (function(t8) {
        var n3 = Sg(t8.target, (function(t9) {
          return null != hf(t9).dataIndex;
        }), true);
        if (n3) {
          var r3 = n3.selected ? "unselect" : "select", e3 = hf(n3);
          i4._api.dispatchAction({ type: r3, dataType: e3.dataType, dataIndexInside: e3.dataIndex, seriesIndex: e3.seriesIndex, isFromClick: true });
        }
      }));
    }, Ry = function(t7, i4, n3, r3, e3) {
      !(function(t8) {
        var i5 = [], n4 = [], r4 = false;
        if (t8.eachComponent((function(t9, e5) {
          var o4 = e5.get("zlevel") || 0, a3 = e5.get("z") || 0, s2 = e5.getZLevelKey();
          r4 = r4 || !!s2, ("series" === t9 ? n4 : i5).push({ zlevel: o4, z: a3, idx: e5.componentIndex, type: t9, key: s2 });
        })), r4) {
          var e4, o3, a2 = i5.concat(n4);
          Ce(a2, (function(t9, i6) {
            return t9.zlevel === i6.zlevel ? t9.z - i6.z : t9.zlevel - i6.zlevel;
          })), kn(a2, (function(i6) {
            var n5 = t8.getComponent(i6.type, i6.idx), r5 = i6.zlevel, a3 = i6.key;
            null != e4 && (r5 = Math.max(e4, r5)), a3 ? (r5 === e4 && a3 !== o3 && r5++, o3 = a3) : o3 && (r5 === e4 && r5++, o3 = ""), e4 = r5, n5.setZLevel(r5);
          }));
        }
      })(i4), Py(t7, i4, n3, r3, e3), kn(t7._chartsViews, (function(t8) {
        t8.__alive = false;
      })), By(t7, i4, n3, r3, e3), kn(t7._chartsViews, (function(t8) {
        t8.__alive || t8.remove(i4, n3);
      }));
    }, Py = function(t7, i4, r3, a2, s2, l2) {
      kn(l2 || t7._componentsViews, (function(t8) {
        var s3 = t8.__model;
        e2(0, t8), t8.render(s3, i4, r3, a2), n2(s3, t8), o2(s3, t8);
      }));
    }, By = function(t7, i4, r3, a2, s2, l2) {
      var u2 = t7._scheduler;
      s2 = bn(s2 || {}, { updatedSeries: i4.getSeries() }), dy.trigger("series:beforeupdate", i4, r3, s2);
      var f2 = false;
      i4.eachSeries((function(i5) {
        var n3 = t7._chartsMap[i5.__viewId];
        n3.__alive = true;
        var r4 = n3.renderTask;
        u2.updatePayload(r4, a2), e2(0, n3), l2 && l2.get(i5.uid) && r4.dirty(), r4.perform(u2.getPerformArgs(r4)) && (f2 = true), n3.group.silent = !!i5.get("silent"), (function(t8, i6) {
          var n4 = t8.get("blendMode") || null;
          i6.eachRendered((function(t9) {
            t9.isGroup || (t9.style.blend = n4);
          }));
        })(i5, n3), Jf(i5);
      })), u2.unfinished = f2 || u2.unfinished, dy.trigger("series:layoutlabels", i4, r3, s2), dy.trigger("series:transition", i4, r3, s2), i4.eachSeries((function(i5) {
        var r4 = t7._chartsMap[i5.__viewId];
        n2(i5, r4), o2(i5, r4);
      })), (function(t8, i5) {
        var n3 = 0;
        t8._zr.storage.traverse((function(t9) {
          t9.isGroup || n3++;
        })), n3 > i5.get("hoverLayerThreshold") && !Ui.node && !Ui.worker && i5.eachSeries((function(i6) {
          if (!i6.preventUsingHoverLayer) {
            var n4 = t8._chartsMap[i6.__viewId];
            n4.__alive && n4.eachRendered((function(t9) {
              t9.states.emphasis && (t9.states.emphasis.hoverLayer = true);
            }));
          }
        }));
      })(t7, i4), dy.trigger("series:afterupdate", i4, r3, s2);
    }, Hy = function(t7) {
      t7[xy] = true, t7.getZr().wakeUp();
    }, Yy = function(t7) {
      t7[xy] && (t7.getZr().storage.traverse((function(t8) {
        Sh(t8) || i3(t8);
      })), t7[xy] = false);
    }, Vy = function(t7) {
      return new ((function(i4) {
        function n3() {
          return null !== i4 && i4.apply(this, arguments) || this;
        }
        return Yi(n3, i4), n3.prototype.getCoordinateSystems = function() {
          return t7._coordSysMgr.getCoordinateSystems();
        }, n3.prototype.getComponentByElement = function(i5) {
          for (; i5; ) {
            var n4 = i5.__ecComponentInfo;
            if (null != n4) return t7._model.getComponent(n4.mainType, n4.index);
            i5 = i5.parent;
          }
        }, n3.prototype.enterEmphasis = function(i5, n4) {
          Bf(i5, n4), Hy(t7);
        }, n3.prototype.leaveEmphasis = function(i5, n4) {
          Vf(i5, n4), Hy(t7);
        }, n3.prototype.enterBlur = function(i5) {
          jf(i5), Hy(t7);
        }, n3.prototype.leaveBlur = function(i5) {
          Hf(i5), Hy(t7);
        }, n3.prototype.enterSelect = function(i5) {
          Yf(i5), Hy(t7);
        }, n3.prototype.leaveSelect = function(i5) {
          Xf(i5), Hy(t7);
        }, n3.prototype.getModel = function() {
          return t7.getModel();
        }, n3.prototype.getViewOfComponentModel = function(i5) {
          return t7.getViewOfComponentModel(i5);
        }, n3.prototype.getViewOfSeriesModel = function(i5) {
          return t7.getViewOfSeriesModel(i5);
        }, n3;
      })(pp))(t7);
    }, jy = function(t7) {
      function i4(t8, i5) {
        for (var n3 = 0; n3 < t8.length; n3++) t8[n3][My] = i5;
      }
      kn(Jy, (function(n3, r3) {
        t7._messageCenter.on(r3, (function(n4) {
          if (ew[t7.group] && 0 !== t7[My]) {
            if (n4 && n4.escapeConnect) return;
            var r4 = t7.makeActionFromEvent(n4), e3 = [];
            kn(rw, (function(i5) {
              i5 !== t7 && i5.group === t7.group && e3.push(i5);
            })), i4(e3, 0), kn(e3, (function(t8) {
              1 !== t8[My] && t8.dispatchAction(r4);
            })), i4(e3, 2);
          }
        }));
      }));
    };
  })(), i2;
})(Sr), Gy = $y.prototype;
Gy.on = zy("on"), Gy.off = zy("off"), Gy.one = function(t5, i2, n2) {
  var r2 = this;
  this.on.call(this, t5, (function n3() {
    for (var e2 = [], o2 = 0; o2 < arguments.length; o2++) e2[o2] = arguments[o2];
    i2 && i2.apply && i2.apply(this, e2), r2.off(t5, n3);
  }), n2);
};
var Zy = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"], qy = {}, Jy = {}, Ky = [], Qy = [], tw = [], iw = {}, nw = {}, rw = {}, ew = {}, ow = +/* @__PURE__ */ new Date() - 0, aw = "_echarts_instance_";
function sw(t5) {
  In(t5) ? t5 = rw[t5] : t5 instanceof $y || (t5 = lw(t5)), t5 instanceof $y && !t5.isDisposed() && t5.dispose();
}
function lw(t5) {
  return rw[(function(t6, i2) {
    return t6.getAttribute ? t6.getAttribute(i2) : t6[i2];
  })(t5, aw)];
}
function uw(t5, i2) {
  iw[t5] = i2;
}
function fw(t5) {
  yn(Qy, t5) < 0 && Qy.push(t5);
}
function cw(t5, i2) {
  mw(Ky, t5, i2, 2e3);
}
function hw(t5, i2) {
  dy.on(t5, i2);
}
function vw(t5, i2, n2) {
  Tn(i2) && (n2 = i2, i2 = "");
  var r2 = Wn(t5) ? t5.type : [t5, t5 = { event: i2 }][0];
  t5.event = (t5.event || r2).toLowerCase(), Jy[i2 = t5.event] || (Xn(ky.test(r2) && ky.test(i2)), qy[r2] || (qy[r2] = { action: n2, actionInfo: t5 }), Jy[i2] = r2);
}
function dw(t5, i2) {
  mw(tw, t5, i2, 3e3, "visual");
}
var pw = [];
function mw(t5, i2, n2, r2, e2) {
  if ((Tn(i2) || Wn(i2)) && (n2 = i2, i2 = r2), !(yn(pw, n2) >= 0)) {
    pw.push(n2);
    var o2 = $b.wrapStageHandler(n2, e2);
    o2.__prio = i2, o2.__raw = n2, t5.push(o2);
  }
}
function bw(t5, i2) {
  nw[t5] = i2;
}
dw(my, jb), dw(by, Yb), dw(by, Xb), dw(my, gg), dw(by, yg), dw(7e3, (function(t5, i2) {
  t5.eachRawSeries((function(n2) {
    if (!t5.isSeriesFiltered(n2)) {
      var r2 = n2.getData();
      r2.hasItemVisual() && r2.each((function(t6) {
        var n3 = r2.getItemVisual(t6, "decal");
        n3 && (r2.ensureUniqueItemVisual(t6, "style").decal = fy(n3, i2));
      }));
      var e2 = r2.getVisual("decal");
      e2 && (r2.getVisual("style").decal = fy(e2, i2));
    }
  }));
})), fw(Pp), cw(900, (function(t5) {
  var i2 = Qn();
  t5.eachSeries((function(t6) {
    var n2 = t6.get("stack");
    if (n2) {
      var r2 = i2.get(n2) || i2.set(n2, []), e2 = t6.getData(), o2 = { stackResultDimension: e2.getCalculationInfo("stackResultDimension"), stackedOverDimension: e2.getCalculationInfo("stackedOverDimension"), stackedDimension: e2.getCalculationInfo("stackedDimension"), stackedByDimension: e2.getCalculationInfo("stackedByDimension"), isStackedByIndex: e2.getCalculationInfo("isStackedByIndex"), data: e2, seriesModel: t6 };
      if (!o2.stackedDimension || !o2.isStackedByIndex && !o2.stackedByDimension) return;
      r2.length && e2.setCalculationInfo("stackedOnSeries", r2[r2.length - 1].seriesModel), r2.push(o2);
    }
  })), i2.each(Bp);
})), bw("default", (function(t5, i2) {
  gn(i2 = i2 || {}, { text: "loading", textColor: "#000", fontSize: 12, fontWeight: "normal", fontStyle: "normal", fontFamily: "sans-serif", maskColor: "rgba(255, 255, 255, 0.8)", showSpinner: true, color: "#5470c6", spinnerRadius: 10, lineWidth: 5, zlevel: 0 });
  var n2 = new rs(), r2 = new Zu({ style: { fill: i2.maskColor }, zlevel: i2.zlevel, z: 1e4 });
  n2.add(r2);
  var e2, o2 = new Ku({ style: { text: i2.text, fill: i2.textColor, fontSize: i2.fontSize, fontWeight: i2.fontWeight, fontStyle: i2.fontStyle, fontFamily: i2.fontFamily }, zlevel: i2.zlevel, z: 10001 }), a2 = new Zu({ style: { fill: "none" }, textContent: o2, textConfig: { position: "right", distance: 10 }, zlevel: i2.zlevel, z: 10001 });
  return n2.add(a2), i2.showSpinner && ((e2 = new lh({ shape: { startAngle: -Ub / 2, endAngle: -Ub / 2 + 0.1, r: i2.spinnerRadius }, style: { stroke: i2.color, lineCap: "round", lineWidth: i2.lineWidth }, zlevel: i2.zlevel, z: 10001 })).animateShape(true).when(1e3, { endAngle: 3 * Ub / 2 }).start("circularInOut"), e2.animateShape(true).when(1e3, { startAngle: 3 * Ub / 2 }).delay(300).start("circularInOut"), n2.add(e2)), n2.resize = function() {
    var n3 = o2.getBoundingRect().width, s2 = i2.showSpinner ? i2.spinnerRadius : 0, l2 = (t5.getWidth() - 2 * s2 - (i2.showSpinner && n3 ? 10 : 0) - n3) / 2 - (i2.showSpinner && n3 ? 0 : 5 + n3 / 2) + (i2.showSpinner ? 0 : n3 / 2) + (n3 ? 0 : s2), u2 = t5.getHeight() / 2;
    i2.showSpinner && e2.setShape({ cx: l2, cy: u2 }), a2.setShape({ x: l2 - s2, y: u2 - s2, width: 2 * s2, height: 2 * s2 }), r2.setShape({ x: 0, y: 0, width: t5.getWidth(), height: t5.getHeight() });
  }, n2.resize(), n2;
})), vw({ type: wf, event: wf, update: wf }, er), vw({ type: xf, event: xf, update: xf }, er), vw({ type: kf, event: kf, update: kf }, er), vw({ type: Mf, event: Mf, update: Mf }, er), vw({ type: zf, event: zf, update: zf }, er), uw("light", ug), uw("dark", dg);
var gw = [], yw = { registerPreprocessor: fw, registerProcessor: cw, registerPostInit: function(t5) {
  hw("afterinit", t5);
}, registerPostUpdate: function(t5) {
  hw("afterupdate", t5);
}, registerUpdateLifecycle: hw, registerAction: vw, registerCoordinateSystem: function(t5, i2) {
  bp.register(t5, i2);
}, registerLayout: function(t5, i2) {
  mw(tw, t5, i2, 1e3, "layout");
}, registerVisual: dw, registerTransform: function(t5) {
  var i2 = (t5 = dn(t5)).type;
  i2 || _s("");
  var n2 = i2.split(":");
  2 !== n2.length && _s("");
  var r2 = false;
  "echarts" === n2[0] && (i2 = n2[1], r2 = true), t5.__isBuiltIn = r2, Tm.set(i2, t5);
}, registerLoading: bw, registerMap: function(t5, i2, n2) {
  var r2 = py.registerMap;
  r2 && r2(t5, i2, n2);
}, registerImpl: function(t5, i2) {
  py[t5] = i2;
}, PRIORITY: gy, ComponentModel: Ed, ComponentView: xb, SeriesModel: vb, ChartView: Sb, registerComponentModel: function(t5) {
  Ed.registerClass(t5);
}, registerComponentView: function(t5) {
  xb.registerClass(t5);
}, registerSeriesModel: function(t5) {
  vb.registerClass(t5);
}, registerChartView: function(t5) {
  Sb.registerClass(t5);
}, registerSubTypeDefaulter: function(t5, i2) {
  Ed.registerSubTypeDefaulter(t5, i2);
}, registerPainter: function(t5, i2) {
  os[t5] = i2;
} };
function ww(t5) {
  _n(t5) ? kn(t5, (function(t6) {
    ww(t6);
  })) : yn(gw, t5) >= 0 || (gw.push(t5), Tn(t5) && (t5 = { install: t5 }), t5.install(yw));
}
function xw(t5) {
  return null == t5 ? 0 : t5.length || 1;
}
function kw(t5) {
  return t5;
}
var Mw = (function() {
  function t5(t6, i2, n2, r2, e2, o2) {
    this._old = t6, this._new = i2, this._oldKeyGetter = n2 || kw, this._newKeyGetter = r2 || kw, this.context = e2, this._diffModeMultiple = "multiple" === o2;
  }
  return t5.prototype.add = function(t6) {
    return this._add = t6, this;
  }, t5.prototype.update = function(t6) {
    return this._update = t6, this;
  }, t5.prototype.updateManyToOne = function(t6) {
    return this._updateManyToOne = t6, this;
  }, t5.prototype.updateOneToMany = function(t6) {
    return this._updateOneToMany = t6, this;
  }, t5.prototype.updateManyToMany = function(t6) {
    return this._updateManyToMany = t6, this;
  }, t5.prototype.remove = function(t6) {
    return this._remove = t6, this;
  }, t5.prototype.execute = function() {
    this[this._diffModeMultiple ? "_executeMultiple" : "_executeOneToOne"]();
  }, t5.prototype._executeOneToOne = function() {
    var t6 = this._old, i2 = this._new, n2 = {}, r2 = new Array(t6.length), e2 = new Array(i2.length);
    this._initIndexMap(t6, null, r2, "_oldKeyGetter"), this._initIndexMap(i2, n2, e2, "_newKeyGetter");
    for (var o2 = 0; o2 < t6.length; o2++) {
      var a2 = r2[o2], s2 = n2[a2], l2 = xw(s2);
      if (l2 > 1) {
        var u2 = s2.shift();
        1 === s2.length && (n2[a2] = s2[0]), this._update && this._update(u2, o2);
      } else 1 === l2 ? (n2[a2] = null, this._update && this._update(s2, o2)) : this._remove && this._remove(o2);
    }
    this._performRestAdd(e2, n2);
  }, t5.prototype._executeMultiple = function() {
    var t6 = this._new, i2 = {}, n2 = {}, r2 = [], e2 = [];
    this._initIndexMap(this._old, i2, r2, "_oldKeyGetter"), this._initIndexMap(t6, n2, e2, "_newKeyGetter");
    for (var o2 = 0; o2 < r2.length; o2++) {
      var a2 = r2[o2], s2 = i2[a2], l2 = n2[a2], u2 = xw(s2), f2 = xw(l2);
      if (u2 > 1 && 1 === f2) this._updateManyToOne && this._updateManyToOne(l2, s2), n2[a2] = null;
      else if (1 === u2 && f2 > 1) this._updateOneToMany && this._updateOneToMany(l2, s2), n2[a2] = null;
      else if (1 === u2 && 1 === f2) this._update && this._update(l2, s2), n2[a2] = null;
      else if (u2 > 1 && f2 > 1) this._updateManyToMany && this._updateManyToMany(l2, s2), n2[a2] = null;
      else if (u2 > 1) for (var c2 = 0; c2 < u2; c2++) this._remove && this._remove(s2[c2]);
      else this._remove && this._remove(s2);
    }
    this._performRestAdd(e2, n2);
  }, t5.prototype._performRestAdd = function(t6, i2) {
    for (var n2 = 0; n2 < t6.length; n2++) {
      var r2 = t6[n2], e2 = i2[r2], o2 = xw(e2);
      if (o2 > 1) for (var a2 = 0; a2 < o2; a2++) this._add && this._add(e2[a2]);
      else 1 === o2 && this._add && this._add(e2);
      i2[r2] = null;
    }
  }, t5.prototype._initIndexMap = function(t6, i2, n2, r2) {
    for (var e2 = this._diffModeMultiple, o2 = 0; o2 < t6.length; o2++) {
      var a2 = "_ec_" + this[r2](t6[o2], o2);
      if (e2 || (n2[o2] = a2), i2) {
        var s2 = i2[a2], l2 = xw(s2);
        0 === l2 ? (i2[a2] = o2, e2 && n2.push(a2)) : 1 === l2 ? i2[a2] = [s2, o2] : s2.push(o2);
      }
    }
  }, t5;
})(), zw = (function() {
  function t5(t6, i2) {
    this._encode = t6, this._schema = i2;
  }
  return t5.prototype.get = function() {
    return { fullDimensions: this._getFullDimensionNames(), encode: this._encode };
  }, t5.prototype._getFullDimensionNames = function() {
    return this._cachedDimNames || (this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : []), this._cachedDimNames;
  }, t5;
})();
function Sw(t5, i2) {
  return t5.hasOwnProperty(i2) || (t5[i2] = []), t5[i2];
}
function Cw(t5) {
  return "category" === t5 ? "ordinal" : "time" === t5 ? "time" : "float";
}
var Aw = function(t5) {
  this.otherDims = {}, null != t5 && bn(this, t5);
}, Nw = Xs(), _w = { float: "f", int: "i", ordinal: "o", number: "n", time: "t" }, Tw = (function() {
  function t5(t6) {
    this.dimensions = t6.dimensions, this._dimOmitted = t6.dimensionOmitted, this.source = t6.source, this._fullDimCount = t6.fullDimensionCount, this._updateDimOmitted(t6.dimensionOmitted);
  }
  return t5.prototype.isDimensionOmitted = function() {
    return this._dimOmitted;
  }, t5.prototype._updateDimOmitted = function(t6) {
    this._dimOmitted = t6, t6 && (this._dimNameMap || (this._dimNameMap = Dw(this.source)));
  }, t5.prototype.getSourceDimensionIndex = function(t6) {
    return Vn(this._dimNameMap.get(t6), -1);
  }, t5.prototype.getSourceDimension = function(t6) {
    var i2 = this.source.dimensionsDefine;
    if (i2) return i2[t6];
  }, t5.prototype.makeStoreSchema = function() {
    for (var t6 = this._fullDimCount, i2 = (function(t7) {
      var i3 = t7.sourceFormat;
      return i3 === jd || i3 === Hd;
    })(this.source), n2 = !Ww(t6), r2 = "", e2 = [], o2 = 0, a2 = 0; o2 < t6; o2++) {
      var s2 = void 0, l2 = void 0, u2 = void 0, f2 = this.dimensions[a2];
      if (f2 && f2.storeDimIndex === o2) s2 = i2 ? f2.name : null, l2 = f2.type, u2 = f2.ordinalMeta, a2++;
      else {
        var c2 = this.getSourceDimension(o2);
        c2 && (s2 = i2 ? c2.name : null, l2 = c2.type);
      }
      e2.push({ property: s2, type: l2, ordinalMeta: u2 }), !i2 || null == s2 || f2 && f2.isCalculationCoord || (r2 += n2 ? s2.replace(/\`/g, "`1").replace(/\$/g, "`2") : s2), r2 += "$", r2 += _w[l2] || "f", u2 && (r2 += u2.uid), r2 += "$";
    }
    var h2 = this.source;
    return { dimensions: e2, hash: [h2.seriesLayoutBy, h2.startIndex, r2].join("$$") };
  }, t5.prototype.makeOutputDimensionNames = function() {
    for (var t6 = [], i2 = 0, n2 = 0; i2 < this._fullDimCount; i2++) {
      var r2 = void 0, e2 = this.dimensions[n2];
      if (e2 && e2.storeDimIndex === i2) e2.isCalculationCoord || (r2 = e2.name), n2++;
      else {
        var o2 = this.getSourceDimension(i2);
        o2 && (r2 = o2.name);
      }
      t6.push(r2);
    }
    return t6;
  }, t5.prototype.appendCalculationDimension = function(t6) {
    this.dimensions.push(t6), t6.isCalculationCoord = true, this._fullDimCount++, this._updateDimOmitted(true);
  }, t5;
})();
function Iw(t5) {
  return t5 instanceof Tw;
}
function Lw(t5) {
  for (var i2 = Qn(), n2 = 0; n2 < (t5 || []).length; n2++) {
    var r2 = t5[n2], e2 = Wn(r2) ? r2.name : r2;
    null != e2 && null == i2.get(e2) && i2.set(e2, n2);
  }
  return i2;
}
function Dw(t5) {
  var i2 = Nw(t5);
  return i2.dimNameMap || (i2.dimNameMap = Lw(t5.dimensionsDefine));
}
function Ww(t5) {
  return t5 > 30;
}
var Ew, Ow, Fw, Rw, Pw, Bw, Vw, jw = Wn, Hw = Mn, Yw = "undefined" == typeof Int32Array ? Array : Int32Array, Xw = ["hasItemOption", "_nameList", "_idList", "_invertedIndicesMap", "_dimSummary", "userOutput", "_rawData", "_dimValueGetter", "_nameDimIdx", "_idDimIdx", "_nameRepeatCount"], Uw = ["_approximateExtent"], $w = (function() {
  function t5(t6, i2) {
    var n2;
    this.type = "list", this._dimOmitted = false, this._nameList = [], this._idList = [], this._visual = {}, this._layout = {}, this._itemVisuals = [], this._itemLayouts = [], this._graphicEls = [], this._approximateExtent = {}, this._calculationInfo = {}, this.hasItemOption = false, this.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "minmaxDownSample", "lttbDownSample", "map"], this.CHANGABLE_METHODS = ["filterSelf", "selectRange"], this.DOWNSAMPLE_METHODS = ["downSample", "minmaxDownSample", "lttbDownSample"];
    var r2 = false;
    Iw(t6) ? (n2 = t6.dimensions, this._dimOmitted = t6.isDimensionOmitted(), this._schema = t6) : (r2 = true, n2 = t6), n2 = n2 || ["x", "y"];
    for (var e2 = {}, o2 = [], a2 = {}, s2 = false, l2 = {}, u2 = 0; u2 < n2.length; u2++) {
      var f2 = n2[u2], c2 = In(f2) ? new Aw({ name: f2 }) : f2 instanceof Aw ? f2 : new Aw(f2), h2 = c2.name;
      c2.type = c2.type || "float", c2.coordDim || (c2.coordDim = h2, c2.coordDimIndex = 0);
      var v2 = c2.otherDims = c2.otherDims || {};
      o2.push(h2), e2[h2] = c2, null != l2[h2] && (s2 = true), c2.createInvertedIndices && (a2[h2] = []), 0 === v2.itemName && (this._nameDimIdx = u2), 0 === v2.itemId && (this._idDimIdx = u2), r2 && (c2.storeDimIndex = u2);
    }
    if (this.dimensions = o2, this._dimInfos = e2, this._initGetDimensionInfo(s2), this.hostModel = i2, this._invertedIndicesMap = a2, this._dimOmitted) {
      var d2 = this._dimIdxToName = Qn();
      kn(o2, (function(t7) {
        d2.set(e2[t7].storeDimIndex, t7);
      }));
    }
  }
  return t5.prototype.getDimension = function(t6) {
    var i2 = this._recognizeDimIndex(t6);
    if (null == i2) return t6;
    if (i2 = t6, !this._dimOmitted) return this.dimensions[i2];
    var n2 = this._dimIdxToName.get(i2);
    if (null != n2) return n2;
    var r2 = this._schema.getSourceDimension(i2);
    return r2 ? r2.name : void 0;
  }, t5.prototype.getDimensionIndex = function(t6) {
    var i2 = this._recognizeDimIndex(t6);
    if (null != i2) return i2;
    if (null == t6) return -1;
    var n2 = this._getDimInfo(t6);
    return n2 ? n2.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(t6) : -1;
  }, t5.prototype._recognizeDimIndex = function(t6) {
    if (Dn(t6) || null != t6 && !isNaN(t6) && !this._getDimInfo(t6) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(t6) < 0)) return +t6;
  }, t5.prototype._getStoreDimIndex = function(t6) {
    return this.getDimensionIndex(t6);
  }, t5.prototype.getDimensionInfo = function(t6) {
    return this._getDimInfo(this.getDimension(t6));
  }, t5.prototype._initGetDimensionInfo = function(t6) {
    var i2 = this._dimInfos;
    this._getDimInfo = t6 ? function(t7) {
      return i2.hasOwnProperty(t7) ? i2[t7] : void 0;
    } : function(t7) {
      return i2[t7];
    };
  }, t5.prototype.getDimensionsOnCoord = function() {
    return this._dimSummary.dataDimsOnCoord.slice();
  }, t5.prototype.mapDimension = function(t6, i2) {
    var n2 = this._dimSummary;
    if (null == i2) return n2.encodeFirstDimNotExtra[t6];
    var r2 = n2.encode[t6];
    return r2 ? r2[i2] : null;
  }, t5.prototype.mapDimensionsAll = function(t6) {
    return (this._dimSummary.encode[t6] || []).slice();
  }, t5.prototype.getStore = function() {
    return this._store;
  }, t5.prototype.initData = function(t6, i2, n2) {
    var r2, e2 = this;
    if (t6 instanceof jm && (r2 = t6), !r2) {
      var o2 = this.dimensions, a2 = $p(t6) || xn(t6) ? new Qp(t6, o2.length) : t6;
      r2 = new jm();
      var s2 = Hw(o2, (function(t7) {
        return { type: e2._dimInfos[t7].type, property: t7 };
      }));
      r2.initData(a2, s2, n2);
    }
    this._store = r2, this._nameList = (i2 || []).slice(), this._idList = [], this._nameRepeatCount = {}, this._doInit(0, r2.count()), this._dimSummary = (function(t7, i3) {
      var n3 = {}, r3 = n3.encode = {}, e3 = Qn(), o3 = [], a3 = [], s3 = {};
      kn(t7.dimensions, (function(i4) {
        var n4, l3 = t7.getDimensionInfo(i4), u3 = l3.coordDim;
        if (u3) {
          var f3 = l3.coordDimIndex;
          Sw(r3, u3)[f3] = i4, l3.isExtraCoord || (e3.set(u3, 1), "ordinal" !== (n4 = l3.type) && "time" !== n4 && (o3[0] = i4), Sw(s3, u3)[f3] = t7.getDimensionIndex(l3.name)), l3.defaultTooltip && a3.push(i4);
        }
        Pd.each((function(t8, i5) {
          var n5 = Sw(r3, i5), e4 = l3.otherDims[i5];
          null != e4 && false !== e4 && (n5[e4] = l3.name);
        }));
      }));
      var l2 = [], u2 = {};
      e3.each((function(t8, i4) {
        var n4 = r3[i4];
        u2[i4] = n4[0], l2 = l2.concat(n4);
      })), n3.dataDimsOnCoord = l2, n3.dataDimIndicesOnCoord = Mn(l2, (function(i4) {
        return t7.getDimensionInfo(i4).storeDimIndex;
      })), n3.encodeFirstDimNotExtra = u2;
      var f2 = r3.label;
      f2 && f2.length && (o3 = f2.slice());
      var c2 = r3.tooltip;
      return c2 && c2.length ? a3 = c2.slice() : a3.length || (a3 = o3.slice()), r3.defaultedLabel = o3, r3.defaultedTooltip = a3, n3.userOutput = new zw(s3, i3), n3;
    })(this, this._schema), this.userOutput = this._dimSummary.userOutput;
  }, t5.prototype.appendData = function(t6) {
    var i2 = this._store.appendData(t6);
    this._doInit(i2[0], i2[1]);
  }, t5.prototype.appendValues = function(t6, i2) {
    var n2 = this._store.appendValues(t6, i2 && i2.length), r2 = n2.start, e2 = n2.end, o2 = this._shouldMakeIdFromName();
    if (this._updateOrdinalMeta(), i2) for (var a2 = r2; a2 < e2; a2++) this._nameList[a2] = i2[a2 - r2], o2 && Vw(this, a2);
  }, t5.prototype._updateOrdinalMeta = function() {
    for (var t6 = this._store, i2 = this.dimensions, n2 = 0; n2 < i2.length; n2++) {
      var r2 = this._dimInfos[i2[n2]];
      r2.ordinalMeta && t6.collectOrdinalMeta(r2.storeDimIndex, r2.ordinalMeta);
    }
  }, t5.prototype._shouldMakeIdFromName = function() {
    var t6 = this._store.getProvider();
    return null == this._idDimIdx && t6.getSource().sourceFormat !== Yd && !t6.fillStorage;
  }, t5.prototype._doInit = function(t6, i2) {
    if (!(t6 >= i2)) {
      var n2 = this._store.getProvider();
      this._updateOrdinalMeta();
      var r2 = this._nameList, e2 = this._idList;
      if (n2.getSource().sourceFormat === Bd && !n2.pure) for (var o2 = [], a2 = t6; a2 < i2; a2++) {
        var s2 = n2.getItem(a2, o2);
        if (!this.hasItemOption && Fs(s2) && (this.hasItemOption = true), s2) {
          var l2 = s2.name;
          null == r2[a2] && null != l2 && (r2[a2] = Vs(l2, null));
          var u2 = s2.id;
          null == e2[a2] && null != u2 && (e2[a2] = Vs(u2, null));
        }
      }
      if (this._shouldMakeIdFromName()) for (a2 = t6; a2 < i2; a2++) Vw(this, a2);
      Ew(this);
    }
  }, t5.prototype.getApproximateExtent = function(t6) {
    return this._approximateExtent[t6] || this._store.getDataExtent(this._getStoreDimIndex(t6));
  }, t5.prototype.setApproximateExtent = function(t6, i2) {
    i2 = this.getDimension(i2), this._approximateExtent[i2] = t6.slice();
  }, t5.prototype.getCalculationInfo = function(t6) {
    return this._calculationInfo[t6];
  }, t5.prototype.setCalculationInfo = function(t6, i2) {
    jw(t6) ? bn(this._calculationInfo, t6) : this._calculationInfo[t6] = i2;
  }, t5.prototype.getName = function(t6) {
    var i2 = this.getRawIndex(t6), n2 = this._nameList[i2];
    return null == n2 && null != this._nameDimIdx && (n2 = Fw(this, this._nameDimIdx, i2)), null == n2 && (n2 = ""), n2;
  }, t5.prototype._getCategory = function(t6, i2) {
    var n2 = this._store.get(t6, i2), r2 = this._store.getOrdinalMeta(t6);
    return r2 ? r2.categories[n2] : n2;
  }, t5.prototype.getId = function(t6) {
    return Ow(this, this.getRawIndex(t6));
  }, t5.prototype.count = function() {
    return this._store.count();
  }, t5.prototype.get = function(t6, i2) {
    var n2 = this._dimInfos[t6];
    if (n2) return this._store.get(n2.storeDimIndex, i2);
  }, t5.prototype.getByRawIndex = function(t6, i2) {
    var n2 = this._dimInfos[t6];
    if (n2) return this._store.getByRawIndex(n2.storeDimIndex, i2);
  }, t5.prototype.getIndices = function() {
    return this._store.getIndices();
  }, t5.prototype.getDataExtent = function(t6) {
    return this._store.getDataExtent(this._getStoreDimIndex(t6));
  }, t5.prototype.getSum = function(t6) {
    return this._store.getSum(this._getStoreDimIndex(t6));
  }, t5.prototype.getMedian = function(t6) {
    return this._store.getMedian(this._getStoreDimIndex(t6));
  }, t5.prototype.getValues = function(t6, i2) {
    var n2 = this, r2 = this._store;
    return _n(t6) ? r2.getValues(Hw(t6, (function(t7) {
      return n2._getStoreDimIndex(t7);
    })), i2) : r2.getValues(t6);
  }, t5.prototype.hasValue = function(t6) {
    for (var i2 = this._dimSummary.dataDimIndicesOnCoord, n2 = 0, r2 = i2.length; n2 < r2; n2++) if (isNaN(this._store.get(i2[n2], t6))) return false;
    return true;
  }, t5.prototype.indexOfName = function(t6) {
    for (var i2 = 0, n2 = this._store.count(); i2 < n2; i2++) if (this.getName(i2) === t6) return i2;
    return -1;
  }, t5.prototype.getRawIndex = function(t6) {
    return this._store.getRawIndex(t6);
  }, t5.prototype.indexOfRawIndex = function(t6) {
    return this._store.indexOfRawIndex(t6);
  }, t5.prototype.rawIndexOf = function(t6, i2) {
    var n2 = t6 && this._invertedIndicesMap[t6], r2 = n2 && n2[i2];
    return null == r2 || isNaN(r2) ? -1 : r2;
  }, t5.prototype.indicesOfNearest = function(t6, i2, n2) {
    return this._store.indicesOfNearest(this._getStoreDimIndex(t6), i2, n2);
  }, t5.prototype.each = function(t6, i2, n2) {
    Tn(t6) && (n2 = i2, i2 = t6, t6 = []);
    var r2 = n2 || this, e2 = Hw(Rw(t6), this._getStoreDimIndex, this);
    this._store.each(e2, r2 ? An(i2, r2) : i2);
  }, t5.prototype.filterSelf = function(t6, i2, n2) {
    Tn(t6) && (n2 = i2, i2 = t6, t6 = []);
    var r2 = n2 || this, e2 = Hw(Rw(t6), this._getStoreDimIndex, this);
    return this._store = this._store.filter(e2, r2 ? An(i2, r2) : i2), this;
  }, t5.prototype.selectRange = function(t6) {
    var i2 = this, n2 = {};
    return kn(Cn(t6), (function(r2) {
      var e2 = i2._getStoreDimIndex(r2);
      n2[e2] = t6[r2];
    })), this._store = this._store.selectRange(n2), this;
  }, t5.prototype.mapArray = function(t6, i2, n2) {
    Tn(t6) && (n2 = i2, i2 = t6, t6 = []);
    var r2 = [];
    return this.each(t6, (function() {
      r2.push(i2 && i2.apply(this, arguments));
    }), n2 = n2 || this), r2;
  }, t5.prototype.map = function(t6, i2, n2, r2) {
    var e2 = n2 || r2 || this, o2 = Hw(Rw(t6), this._getStoreDimIndex, this), a2 = Bw(this);
    return a2._store = this._store.map(o2, e2 ? An(i2, e2) : i2), a2;
  }, t5.prototype.modify = function(t6, i2, n2, r2) {
    var e2 = n2 || r2 || this, o2 = Hw(Rw(t6), this._getStoreDimIndex, this);
    this._store.modify(o2, e2 ? An(i2, e2) : i2);
  }, t5.prototype.downSample = function(t6, i2, n2, r2) {
    var e2 = Bw(this);
    return e2._store = this._store.downSample(this._getStoreDimIndex(t6), i2, n2, r2), e2;
  }, t5.prototype.minmaxDownSample = function(t6, i2) {
    var n2 = Bw(this);
    return n2._store = this._store.minmaxDownSample(this._getStoreDimIndex(t6), i2), n2;
  }, t5.prototype.lttbDownSample = function(t6, i2) {
    var n2 = Bw(this);
    return n2._store = this._store.lttbDownSample(this._getStoreDimIndex(t6), i2), n2;
  }, t5.prototype.getRawDataItem = function(t6) {
    return this._store.getRawDataItem(t6);
  }, t5.prototype.getItemModel = function(t6) {
    var i2 = this.hostModel, n2 = this.getRawDataItem(t6);
    return new _v(n2, i2, i2 && i2.ecModel);
  }, t5.prototype.diff = function(t6) {
    var i2 = this;
    return new Mw(t6 ? t6.getStore().getIndices() : [], this.getStore().getIndices(), (function(i3) {
      return Ow(t6, i3);
    }), (function(t7) {
      return Ow(i2, t7);
    }));
  }, t5.prototype.getVisual = function(t6) {
    var i2 = this._visual;
    return i2 && i2[t6];
  }, t5.prototype.setVisual = function(t6, i2) {
    this._visual = this._visual || {}, jw(t6) ? bn(this._visual, t6) : this._visual[t6] = i2;
  }, t5.prototype.getItemVisual = function(t6, i2) {
    var n2 = this._itemVisuals[t6], r2 = n2 && n2[i2];
    return null == r2 ? this.getVisual(i2) : r2;
  }, t5.prototype.hasItemVisual = function() {
    return this._itemVisuals.length > 0;
  }, t5.prototype.ensureUniqueItemVisual = function(t6, i2) {
    var n2 = this._itemVisuals, r2 = n2[t6];
    r2 || (r2 = n2[t6] = {});
    var e2 = r2[i2];
    return null == e2 && (_n(e2 = this.getVisual(i2)) ? e2 = e2.slice() : jw(e2) && (e2 = bn({}, e2)), r2[i2] = e2), e2;
  }, t5.prototype.setItemVisual = function(t6, i2, n2) {
    var r2 = this._itemVisuals[t6] || {};
    this._itemVisuals[t6] = r2, jw(i2) ? bn(r2, i2) : r2[i2] = n2;
  }, t5.prototype.clearAllVisual = function() {
    this._visual = {}, this._itemVisuals = [];
  }, t5.prototype.setLayout = function(t6, i2) {
    jw(t6) ? bn(this._layout, t6) : this._layout[t6] = i2;
  }, t5.prototype.getLayout = function(t6) {
    return this._layout[t6];
  }, t5.prototype.getItemLayout = function(t6) {
    return this._itemLayouts[t6];
  }, t5.prototype.setItemLayout = function(t6, i2, n2) {
    this._itemLayouts[t6] = n2 ? bn(this._itemLayouts[t6] || {}, i2) : i2;
  }, t5.prototype.clearItemLayouts = function() {
    this._itemLayouts.length = 0;
  }, t5.prototype.setItemGraphicEl = function(t6, i2) {
    vf(this.hostModel && this.hostModel.seriesIndex, this.dataType, t6, i2), this._graphicEls[t6] = i2;
  }, t5.prototype.getItemGraphicEl = function(t6) {
    return this._graphicEls[t6];
  }, t5.prototype.eachItemGraphicEl = function(t6, i2) {
    kn(this._graphicEls, (function(n2, r2) {
      n2 && t6 && t6.call(i2, n2, r2);
    }));
  }, t5.prototype.cloneShallow = function(i2) {
    return i2 || (i2 = new t5(this._schema ? this._schema : Hw(this.dimensions, this._getDimInfo, this), this.hostModel)), Pw(i2, this), i2._store = this._store, i2;
  }, t5.prototype.wrapMethod = function(t6, i2) {
    var n2 = this[t6];
    Tn(n2) && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(t6), this[t6] = function() {
      var t7 = n2.apply(this, arguments);
      return i2.apply(this, [t7].concat(Hn(arguments)));
    });
  }, t5.internalField = (Ew = function(t6) {
    var i2 = t6._invertedIndicesMap;
    kn(i2, (function(n2, r2) {
      var e2 = t6._dimInfos[r2], o2 = e2.ordinalMeta, a2 = t6._store;
      if (o2) {
        n2 = i2[r2] = new Yw(o2.categories.length);
        for (var s2 = 0; s2 < n2.length; s2++) n2[s2] = -1;
        for (s2 = 0; s2 < a2.count(); s2++) n2[a2.get(e2.storeDimIndex, s2)] = s2;
      }
    }));
  }, Fw = function(t6, i2, n2) {
    return Vs(t6._getCategory(i2, n2), null);
  }, Ow = function(t6, i2) {
    var n2 = t6._idList[i2];
    return null == n2 && null != t6._idDimIdx && (n2 = Fw(t6, t6._idDimIdx, i2)), null == n2 && (n2 = "e\0\0" + i2), n2;
  }, Rw = function(t6) {
    return _n(t6) || (t6 = null != t6 ? [t6] : []), t6;
  }, Bw = function(i2) {
    var n2 = new t5(i2._schema ? i2._schema : Hw(i2.dimensions, i2._getDimInfo, i2), i2.hostModel);
    return Pw(n2, i2), n2;
  }, Pw = function(t6, i2) {
    kn(Xw.concat(i2.__wrappedMethods || []), (function(n2) {
      i2.hasOwnProperty(n2) && (t6[n2] = i2[n2]);
    })), t6.__wrappedMethods = i2.__wrappedMethods, kn(Uw, (function(n2) {
      t6[n2] = dn(i2[n2]);
    })), t6._calculationInfo = bn({}, i2._calculationInfo);
  }, void (Vw = function(t6, i2) {
    var n2 = t6._nameList, r2 = t6._idList, e2 = t6._nameDimIdx, o2 = t6._idDimIdx, a2 = n2[i2], s2 = r2[i2];
    if (null == a2 && null != e2 && (n2[i2] = a2 = Fw(t6, e2, i2)), null == s2 && null != o2 && (r2[i2] = s2 = Fw(t6, o2, i2)), null == s2 && null != a2) {
      var l2 = t6._nameRepeatCount, u2 = l2[a2] = (l2[a2] || 0) + 1;
      s2 = a2, u2 > 1 && (s2 += "__ec__" + u2), r2[i2] = s2;
    }
  })), t5;
})();
function Gw(t5, i2) {
  $p(t5) || (t5 = Zp(t5));
  var n2 = (i2 = i2 || {}).coordDimensions || [], r2 = i2.dimensionsDefine || t5.dimensionsDefine || [], e2 = Qn(), o2 = [], a2 = (function(t6, i3, n3, r3) {
    var e3 = Math.max(t6.dimensionsDetectedCount || 1, i3.length, n3.length, r3 || 0);
    return kn(i3, (function(t7) {
      var i4;
      Wn(t7) && (i4 = t7.dimsDef) && (e3 = Math.max(e3, i4.length));
    })), e3;
  })(t5, n2, r2, i2.dimensionsCount), s2 = i2.canOmitUnusedDimensions && Ww(a2), l2 = r2 === t5.dimensionsDefine, u2 = l2 ? Dw(t5) : Lw(r2), f2 = i2.encodeDefine;
  !f2 && i2.encodeDefaulter && (f2 = i2.encodeDefaulter(t5, a2));
  for (var c2 = Qn(f2), h2 = new Fm(a2), v2 = 0; v2 < h2.length; v2++) h2[v2] = -1;
  function d2(t6) {
    var i3 = h2[t6];
    if (i3 < 0) {
      var n3 = r2[t6], e3 = Wn(n3) ? n3 : { name: n3 }, a3 = new Aw(), s3 = e3.name;
      return null != s3 && null != u2.get(s3) && (a3.name = a3.displayName = s3), null != e3.type && (a3.type = e3.type), null != e3.displayName && (a3.displayName = e3.displayName), h2[t6] = o2.length, a3.storeDimIndex = t6, o2.push(a3), a3;
    }
    return o2[i3];
  }
  if (!s2) for (v2 = 0; v2 < a2; v2++) d2(v2);
  c2.each((function(t6, i3) {
    var n3 = Ds(t6).slice();
    if (1 === n3.length && !In(n3[0]) && n3[0] < 0) c2.set(i3, false);
    else {
      var r3 = c2.set(i3, []);
      kn(n3, (function(t7, n4) {
        var e3 = In(t7) ? u2.get(t7) : t7;
        null != e3 && e3 < a2 && (r3[n4] = e3, m2(d2(e3), i3, n4));
      }));
    }
  }));
  var p2 = 0;
  function m2(t6, i3, n3) {
    null != Pd.get(i3) ? t6.otherDims[i3] = n3 : (t6.coordDim = i3, t6.coordDimIndex = n3, e2.set(i3, true));
  }
  kn(n2, (function(t6) {
    var i3, n3, r3, e3;
    if (In(t6)) i3 = t6, e3 = {};
    else {
      i3 = (e3 = t6).name;
      var o3 = e3.ordinalMeta;
      e3.ordinalMeta = null, (e3 = bn({}, e3)).ordinalMeta = o3, n3 = e3.dimsDef, r3 = e3.otherDims, e3.name = e3.coordDim = e3.coordDimIndex = e3.dimsDef = e3.otherDims = null;
    }
    var s3 = c2.get(i3);
    if (false !== s3) {
      if (!(s3 = Ds(s3)).length) for (var u3 = 0; u3 < (n3 && n3.length || 1); u3++) {
        for (; p2 < a2 && null != d2(p2).coordDim; ) p2++;
        p2 < a2 && s3.push(p2++);
      }
      kn(s3, (function(t7, o4) {
        var a3 = d2(t7);
        if (l2 && null != e3.type && (a3.type = e3.type), m2(gn(a3, e3), i3, o4), null == a3.name && n3) {
          var s4 = n3[o4];
          !Wn(s4) && (s4 = { name: s4 }), a3.name = a3.displayName = s4.name, a3.defaultTooltip = s4.defaultTooltip;
        }
        r3 && gn(a3.otherDims, r3);
      }));
    }
  }));
  var b2 = i2.generateCoord, g3 = i2.generateCoordCount, y2 = null != g3;
  g3 = b2 ? g3 || 1 : 0;
  var w3 = b2 || "value";
  function x2(t6) {
    null == t6.name && (t6.name = t6.coordDim);
  }
  if (s2) kn(o2, (function(t6) {
    x2(t6);
  })), o2.sort((function(t6, i3) {
    return t6.storeDimIndex - i3.storeDimIndex;
  }));
  else for (var k2 = 0; k2 < a2; k2++) {
    var M2 = d2(k2);
    null == M2.coordDim && (M2.coordDim = Zw(w3, e2, y2), M2.coordDimIndex = 0, (!b2 || g3 <= 0) && (M2.isExtraCoord = true), g3--), x2(M2), null != M2.type || 1 !== Kd(t5, k2) && (!M2.isExtraCoord || null == M2.otherDims.itemName && null == M2.otherDims.seriesName) || (M2.type = "ordinal");
  }
  return (function(t6) {
    for (var i3 = Qn(), n3 = 0; n3 < t6.length; n3++) {
      var r3 = t6[n3], e3 = r3.name, o3 = i3.get(e3) || 0;
      o3 > 0 && (r3.name = e3 + (o3 - 1)), o3++, i3.set(e3, o3);
    }
  })(o2), new Tw({ source: t5, dimensions: o2, fullDimensionCount: a2, dimensionOmitted: s2 });
}
function Zw(t5, i2, n2) {
  if (n2 || i2.hasKey(t5)) {
    for (var r2 = 0; i2.hasKey(t5 + r2); ) r2++;
    t5 += r2;
  }
  return i2.set(t5, true), t5;
}
var qw = function(t5) {
  this.coordSysDims = [], this.axisMap = Qn(), this.categoryAxisMap = Qn(), this.coordSysName = t5;
}, Jw = { cartesian2d: function(t5, i2, n2, r2) {
  var e2 = t5.getReferringComponents("xAxis", Zs).models[0], o2 = t5.getReferringComponents("yAxis", Zs).models[0];
  i2.coordSysDims = ["x", "y"], n2.set("x", e2), n2.set("y", o2), Kw(e2) && (r2.set("x", e2), i2.firstCategoryDimIndex = 0), Kw(o2) && (r2.set("y", o2), null == i2.firstCategoryDimIndex && (i2.firstCategoryDimIndex = 1));
}, singleAxis: function(t5, i2, n2, r2) {
  var e2 = t5.getReferringComponents("singleAxis", Zs).models[0];
  i2.coordSysDims = ["single"], n2.set("single", e2), Kw(e2) && (r2.set("single", e2), i2.firstCategoryDimIndex = 0);
}, polar: function(t5, i2, n2, r2) {
  var e2 = t5.getReferringComponents("polar", Zs).models[0], o2 = e2.findAxisModel("radiusAxis"), a2 = e2.findAxisModel("angleAxis");
  i2.coordSysDims = ["radius", "angle"], n2.set("radius", o2), n2.set("angle", a2), Kw(o2) && (r2.set("radius", o2), i2.firstCategoryDimIndex = 0), Kw(a2) && (r2.set("angle", a2), null == i2.firstCategoryDimIndex && (i2.firstCategoryDimIndex = 1));
}, geo: function(t5, i2) {
  i2.coordSysDims = ["lng", "lat"];
}, parallel: function(t5, i2, n2, r2) {
  var e2 = t5.ecModel, o2 = e2.getComponent("parallel", t5.get("parallelIndex")), a2 = i2.coordSysDims = o2.dimensions.slice();
  kn(o2.parallelAxisIndex, (function(t6, o3) {
    var s2 = e2.getComponent("parallelAxis", t6), l2 = a2[o3];
    n2.set(l2, s2), Kw(s2) && (r2.set(l2, s2), null == i2.firstCategoryDimIndex && (i2.firstCategoryDimIndex = o3));
  }));
} };
function Kw(t5) {
  return "category" === t5.get("type");
}
function Qw(t5, i2) {
  return !!i2 && i2 === t5.getCalculationInfo("stackedDimension");
}
function tx(t5, i2) {
  return Qw(t5, i2) ? t5.getCalculationInfo("stackResultDimension") : i2;
}
function ix(t5, i2, n2) {
  n2 = n2 || {};
  var r2, e2 = i2.getSourceManager(), o2 = false;
  t5 ? (o2 = true, r2 = Zp(t5)) : o2 = (r2 = e2.getSource()).sourceFormat === Bd;
  var a2 = (function(t6) {
    var i3 = t6.get("coordinateSystem"), n3 = new qw(i3), r3 = Jw[i3];
    if (r3) return r3(t6, n3, n3.axisMap, n3.categoryAxisMap), n3;
  })(i2), s2 = (function(t6, i3) {
    var n3, r3 = t6.get("coordinateSystem"), e3 = bp.get(r3);
    return i3 && i3.coordSysDims && (n3 = Mn(i3.coordSysDims, (function(t7) {
      var n4 = { name: t7 }, r4 = i3.axisMap.get(t7);
      if (r4) {
        var e4 = r4.get("type");
        n4.type = Cw(e4);
      }
      return n4;
    }))), n3 || (n3 = e3 && (e3.getDimensionsInfo ? e3.getDimensionsInfo() : e3.dimensions.slice()) || ["x", "y"]), n3;
  })(i2, a2), l2 = n2.useEncodeDefaulter, u2 = Tn(l2) ? l2 : l2 ? Nn(Zd, s2, i2) : null, f2 = Gw(r2, { coordDimensions: s2, generateCoord: n2.generateCoord, encodeDefine: i2.getEncode(), encodeDefaulter: u2, canOmitUnusedDimensions: !o2 }), c2 = (function(t6, i3, n3) {
    var r3, e3;
    return n3 && kn(t6, (function(t7, o3) {
      var a3 = n3.categoryAxisMap.get(t7.coordDim);
      a3 && (null == r3 && (r3 = o3), t7.ordinalMeta = a3.getOrdinalMeta(), i3 && (t7.createInvertedIndices = true)), null != t7.otherDims.itemName && (e3 = true);
    })), e3 || null == r3 || (t6[r3].otherDims.itemName = 0), r3;
  })(f2.dimensions, n2.createInvertedIndices, a2), h2 = o2 ? null : e2.getSharedDataStore(f2), v2 = (function(t6, i3, n3) {
    var r3, e3, o3, a3 = (n3 = n3 || {}).byIndex, s3 = n3.stackedCoordDimension;
    !(function(t7) {
      return !Iw(t7.schema);
    })(i3) ? (r3 = (e3 = i3.schema).dimensions, o3 = i3.store) : r3 = i3;
    var l3, u3, f3, c3, h3 = !(!t6 || !t6.get("stack"));
    if (kn(r3, (function(t7, i4) {
      In(t7) && (r3[i4] = t7 = { name: t7 }), h3 && !t7.isExtraCoord && (a3 || l3 || !t7.ordinalMeta || (l3 = t7), u3 || "ordinal" === t7.type || "time" === t7.type || s3 && s3 !== t7.coordDim || (u3 = t7));
    })), !u3 || a3 || l3 || (a3 = true), u3) {
      f3 = "__\0ecstackresult_" + t6.id, c3 = "__\0ecstackedover_" + t6.id, l3 && (l3.createInvertedIndices = true);
      var v3 = u3.coordDim, d3 = u3.type, p3 = 0;
      kn(r3, (function(t7) {
        t7.coordDim === v3 && p3++;
      }));
      var m2 = { name: f3, coordDim: v3, coordDimIndex: p3, type: d3, isExtraCoord: true, isCalculationCoord: true, storeDimIndex: r3.length }, b2 = { name: c3, coordDim: c3, coordDimIndex: p3 + 1, type: d3, isExtraCoord: true, isCalculationCoord: true, storeDimIndex: r3.length + 1 };
      e3 ? (o3 && (m2.storeDimIndex = o3.ensureCalculationDimension(c3, d3), b2.storeDimIndex = o3.ensureCalculationDimension(f3, d3)), e3.appendCalculationDimension(m2), e3.appendCalculationDimension(b2)) : (r3.push(m2), r3.push(b2));
    }
    return { stackedDimension: u3 && u3.name, stackedByDimension: l3 && l3.name, isStackedByIndex: a3, stackedOverDimension: c3, stackResultDimension: f3 };
  })(i2, { schema: f2, store: h2 }), d2 = new $w(f2, i2);
  d2.setCalculationInfo(v2);
  var p2 = null != c2 && (function(t6) {
    if (t6.sourceFormat === Bd) {
      var i3 = (function(t7) {
        for (var i4 = 0; i4 < t7.length && null == t7[i4]; ) i4++;
        return t7[i4];
      })(t6.data || []);
      return !_n(Os(i3));
    }
  })(r2) ? function(t6, i3, n3, r3) {
    return r3 === c2 ? n3 : this.defaultDimValueGetter(t6, i3, n3, r3);
  } : null;
  return d2.hasItemOption = false, d2.initData(o2 ? r2 : h2, null, p2), d2;
}
var nx = (function() {
  function t5(t6) {
    this._setting = t6 || {}, this._extent = [1 / 0, -1 / 0];
  }
  return t5.prototype.getSetting = function(t6) {
    return this._setting[t6];
  }, t5.prototype.unionExtent = function(t6) {
    var i2 = this._extent;
    t6[0] < i2[0] && (i2[0] = t6[0]), t6[1] > i2[1] && (i2[1] = t6[1]);
  }, t5.prototype.unionExtentFromData = function(t6, i2) {
    this.unionExtent(t6.getApproximateExtent(i2));
  }, t5.prototype.getExtent = function() {
    return this._extent.slice();
  }, t5.prototype.setExtent = function(t6, i2) {
    var n2 = this._extent;
    isNaN(t6) || (n2[0] = t6), isNaN(i2) || (n2[1] = i2);
  }, t5.prototype.isInExtentRange = function(t6) {
    return this._extent[0] <= t6 && this._extent[1] >= t6;
  }, t5.prototype.isBlank = function() {
    return this._isBlank;
  }, t5.prototype.setBlank = function(t6) {
    this._isBlank = t6;
  }, t5;
})();
ul(nx);
var rx = 0, ex = (function() {
  function t5(t6) {
    this.categories = t6.categories || [], this._needCollect = t6.needCollect, this._deduplication = t6.deduplication, this.uid = ++rx;
  }
  return t5.createByAxisModel = function(i2) {
    var n2 = i2.option, r2 = n2.data, e2 = r2 && Mn(r2, ox);
    return new t5({ categories: e2, needCollect: !e2, deduplication: false !== n2.dedplication });
  }, t5.prototype.getOrdinal = function(t6) {
    return this._getOrCreateMap().get(t6);
  }, t5.prototype.parseAndCollect = function(t6) {
    var i2, n2 = this._needCollect;
    if (!In(t6) && !n2) return t6;
    if (n2 && !this._deduplication) return this.categories[i2 = this.categories.length] = t6, i2;
    var r2 = this._getOrCreateMap();
    return null == (i2 = r2.get(t6)) && (n2 ? (this.categories[i2 = this.categories.length] = t6, r2.set(t6, i2)) : i2 = NaN), i2;
  }, t5.prototype._getOrCreateMap = function() {
    return this._map || (this._map = Qn(this.categories));
  }, t5;
})();
function ox(t5) {
  return Wn(t5) && null != t5.value ? t5.value : t5 + "";
}
function ax(t5) {
  return "interval" === t5.type || "log" === t5.type;
}
function sx(t5) {
  var i2 = Math.pow(10, ws(t5)), n2 = t5 / i2;
  return n2 ? 2 === n2 ? n2 = 3 : 3 === n2 ? n2 = 5 : n2 *= 2 : n2 = 1, fs(n2 * i2);
}
function lx(t5) {
  return hs(t5) + 2;
}
function ux(t5, i2, n2) {
  t5[i2] = Math.max(Math.min(t5[i2], n2[1]), n2[0]);
}
function fx(t5, i2) {
  return t5 >= i2[0] && t5 <= i2[1];
}
function cx(t5, i2) {
  return i2[1] === i2[0] ? 0.5 : (t5 - i2[0]) / (i2[1] - i2[0]);
}
function hx(t5, i2) {
  return t5 * (i2[1] - i2[0]) + i2[0];
}
var vx = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    n2.type = "ordinal";
    var r2 = n2.getSetting("ordinalMeta");
    return r2 || (r2 = new ex({})), _n(r2) && (r2 = new ex({ categories: Mn(r2, (function(t6) {
      return Wn(t6) ? t6.value : t6;
    })) })), n2._ordinalMeta = r2, n2._extent = n2.getSetting("extent") || [0, r2.categories.length - 1], n2;
  }
  return Yi(i2, t5), i2.prototype.parse = function(t6) {
    return null == t6 ? NaN : In(t6) ? this._ordinalMeta.getOrdinal(t6) : Math.round(t6);
  }, i2.prototype.contain = function(t6) {
    return fx(t6 = this.parse(t6), this._extent) && null != this._ordinalMeta.categories[t6];
  }, i2.prototype.normalize = function(t6) {
    return cx(t6 = this._getTickNumber(this.parse(t6)), this._extent);
  }, i2.prototype.scale = function(t6) {
    return t6 = Math.round(hx(t6, this._extent)), this.getRawOrdinalNumber(t6);
  }, i2.prototype.getTicks = function() {
    for (var t6 = [], i3 = this._extent, n2 = i3[0]; n2 <= i3[1]; ) t6.push({ value: n2 }), n2++;
    return t6;
  }, i2.prototype.getMinorTicks = function() {
  }, i2.prototype.setSortInfo = function(t6) {
    if (null != t6) {
      for (var i3 = t6.ordinalNumbers, n2 = this._ordinalNumbersByTick = [], r2 = this._ticksByOrdinalNumber = [], e2 = 0, o2 = this._ordinalMeta.categories.length, a2 = Math.min(o2, i3.length); e2 < a2; ++e2) {
        var s2 = i3[e2];
        n2[e2] = s2, r2[s2] = e2;
      }
      for (var l2 = 0; e2 < o2; ++e2) {
        for (; null != r2[l2]; ) l2++;
        n2.push(l2), r2[l2] = e2;
      }
    } else this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;
  }, i2.prototype._getTickNumber = function(t6) {
    var i3 = this._ticksByOrdinalNumber;
    return i3 && t6 >= 0 && t6 < i3.length ? i3[t6] : t6;
  }, i2.prototype.getRawOrdinalNumber = function(t6) {
    var i3 = this._ordinalNumbersByTick;
    return i3 && t6 >= 0 && t6 < i3.length ? i3[t6] : t6;
  }, i2.prototype.getLabel = function(t6) {
    if (!this.isBlank()) {
      var i3 = this.getRawOrdinalNumber(t6.value), n2 = this._ordinalMeta.categories[i3];
      return null == n2 ? "" : n2 + "";
    }
  }, i2.prototype.count = function() {
    return this._extent[1] - this._extent[0] + 1;
  }, i2.prototype.unionExtentFromData = function(t6, i3) {
    this.unionExtent(t6.getApproximateExtent(i3));
  }, i2.prototype.isInExtentRange = function(t6) {
    return t6 = this._getTickNumber(t6), this._extent[0] <= t6 && this._extent[1] >= t6;
  }, i2.prototype.getOrdinalMeta = function() {
    return this._ordinalMeta;
  }, i2.prototype.calcNiceTicks = function() {
  }, i2.prototype.calcNiceExtent = function() {
  }, i2.type = "ordinal", i2;
})(nx);
nx.registerClass(vx);
var dx = fs, px = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.type = "interval", i3._interval = 0, i3._intervalPrecision = 2, i3;
  }
  return Yi(i2, t5), i2.prototype.parse = function(t6) {
    return t6;
  }, i2.prototype.contain = function(t6) {
    return fx(t6, this._extent);
  }, i2.prototype.normalize = function(t6) {
    return cx(t6, this._extent);
  }, i2.prototype.scale = function(t6) {
    return hx(t6, this._extent);
  }, i2.prototype.setExtent = function(t6, i3) {
    var n2 = this._extent;
    isNaN(t6) || (n2[0] = parseFloat(t6)), isNaN(i3) || (n2[1] = parseFloat(i3));
  }, i2.prototype.unionExtent = function(t6) {
    var i3 = this._extent;
    t6[0] < i3[0] && (i3[0] = t6[0]), t6[1] > i3[1] && (i3[1] = t6[1]), this.setExtent(i3[0], i3[1]);
  }, i2.prototype.getInterval = function() {
    return this._interval;
  }, i2.prototype.setInterval = function(t6) {
    this._interval = t6, this._niceExtent = this._extent.slice(), this._intervalPrecision = lx(t6);
  }, i2.prototype.getTicks = function(t6) {
    var i3 = this._interval, n2 = this._extent, r2 = this._niceExtent, e2 = this._intervalPrecision, o2 = [];
    if (!i3) return o2;
    n2[0] < r2[0] && o2.push(t6 ? { value: dx(r2[0] - i3, e2) } : { value: n2[0] });
    for (var a2 = r2[0]; a2 <= r2[1] && (o2.push({ value: a2 }), (a2 = dx(a2 + i3, e2)) !== o2[o2.length - 1].value); ) if (o2.length > 1e4) return [];
    var s2 = o2.length ? o2[o2.length - 1].value : r2[1];
    return n2[1] > s2 && o2.push(t6 ? { value: dx(s2 + i3, e2) } : { value: n2[1] }), o2;
  }, i2.prototype.getMinorTicks = function(t6) {
    for (var i3 = this.getTicks(true), n2 = [], r2 = this.getExtent(), e2 = 1; e2 < i3.length; e2++) {
      for (var o2 = i3[e2 - 1], a2 = 0, s2 = [], l2 = (i3[e2].value - o2.value) / t6; a2 < t6 - 1; ) {
        var u2 = dx(o2.value + (a2 + 1) * l2);
        u2 > r2[0] && u2 < r2[1] && s2.push(u2), a2++;
      }
      n2.push(s2);
    }
    return n2;
  }, i2.prototype.getLabel = function(t6, i3) {
    if (null == t6) return "";
    var n2 = i3 && i3.precision;
    return null == n2 ? n2 = hs(t6.value) || 0 : "auto" === n2 && (n2 = this._intervalPrecision), dd(dx(t6.value, n2, true));
  }, i2.prototype.calcNiceTicks = function(t6, i3, n2) {
    t6 = t6 || 5;
    var r2 = this._extent, e2 = r2[1] - r2[0];
    if (isFinite(e2)) {
      e2 < 0 && (e2 = -e2, r2.reverse());
      var o2 = (function(t7, i4, n3, r3) {
        var e3 = {}, o3 = e3.interval = xs((t7[1] - t7[0]) / i4);
        null != n3 && o3 < n3 && (o3 = e3.interval = n3), null != r3 && o3 > r3 && (o3 = e3.interval = r3);
        var a2 = e3.intervalPrecision = lx(o3);
        return (function(t8, i5) {
          !isFinite(t8[0]) && (t8[0] = i5[0]), !isFinite(t8[1]) && (t8[1] = i5[1]), ux(t8, 0, i5), ux(t8, 1, i5), t8[0] > t8[1] && (t8[0] = t8[1]);
        })(e3.niceTickExtent = [fs(Math.ceil(t7[0] / o3) * o3, a2), fs(Math.floor(t7[1] / o3) * o3, a2)], t7), e3;
      })(r2, t6, i3, n2);
      this._intervalPrecision = o2.intervalPrecision, this._interval = o2.interval, this._niceExtent = o2.niceTickExtent;
    }
  }, i2.prototype.calcNiceExtent = function(t6) {
    var i3 = this._extent;
    if (i3[0] === i3[1]) if (0 !== i3[0]) {
      var n2 = Math.abs(i3[0]);
      t6.fixMax || (i3[1] += n2 / 2), i3[0] -= n2 / 2;
    } else i3[1] = 1;
    isFinite(i3[1] - i3[0]) || (i3[0] = 0, i3[1] = 1), this.calcNiceTicks(t6.splitNumber, t6.minInterval, t6.maxInterval);
    var r2 = this._interval;
    t6.fixMin || (i3[0] = dx(Math.floor(i3[0] / r2) * r2)), t6.fixMax || (i3[1] = dx(Math.ceil(i3[1] / r2) * r2));
  }, i2.prototype.setNiceExtent = function(t6, i3) {
    this._niceExtent = [t6, i3];
  }, i2.type = "interval", i2;
})(nx);
nx.registerClass(px);
var mx = "undefined" != typeof Float32Array, bx = mx ? Float32Array : Array;
function gx(t5) {
  return _n(t5) ? mx ? new Float32Array(t5) : t5 : new bx(t5);
}
var yx = "__ec_stack_";
function xx(t5) {
  return t5.get("stack") || yx + t5.seriesIndex;
}
function kx(t5) {
  return t5.dim + t5.index;
}
function Mx(t5, i2) {
  var n2 = [];
  return i2.eachSeriesByType(t5, (function(t6) {
    Nx(t6) && n2.push(t6);
  })), n2;
}
function zx(t5) {
  var i2 = (function(t6) {
    var i3 = {};
    kn(t6, (function(t7) {
      var n4 = t7.coordinateSystem.getBaseAxis();
      if ("time" === n4.type || "value" === n4.type) for (var r3 = t7.getData(), e3 = n4.dim + "_" + n4.index, o3 = r3.getDimensionIndex(r3.mapDimension(n4.dim)), a3 = r3.getStore(), s3 = 0, l2 = a3.count(); s3 < l2; ++s3) {
        var u2 = a3.get(o3, s3);
        i3[e3] ? i3[e3].push(u2) : i3[e3] = [u2];
      }
    }));
    var n3 = {};
    for (var r2 in i3) if (i3.hasOwnProperty(r2)) {
      var e2 = i3[r2];
      if (e2) {
        e2.sort((function(t7, i4) {
          return t7 - i4;
        }));
        for (var o2 = null, a2 = 1; a2 < e2.length; ++a2) {
          var s2 = e2[a2] - e2[a2 - 1];
          s2 > 0 && (o2 = null === o2 ? s2 : Math.min(o2, s2));
        }
        n3[r2] = o2;
      }
    }
    return n3;
  })(t5), n2 = [];
  return kn(t5, (function(t6) {
    var r2, e2 = t6.coordinateSystem.getBaseAxis(), o2 = e2.getExtent();
    if ("category" === e2.type) r2 = e2.getBandWidth();
    else if ("value" === e2.type || "time" === e2.type) {
      var a2 = i2[e2.dim + "_" + e2.index], s2 = Math.abs(o2[1] - o2[0]), l2 = e2.scale.getExtent(), u2 = Math.abs(l2[1] - l2[0]);
      r2 = a2 ? s2 / u2 * a2 : s2;
    } else {
      var f2 = t6.getData();
      r2 = Math.abs(o2[1] - o2[0]) / f2.count();
    }
    var c2 = us(t6.get("barWidth"), r2), h2 = us(t6.get("barMaxWidth"), r2), v2 = us(t6.get("barMinWidth") || (_x(t6) ? 0.5 : 1), r2), d2 = t6.get("barGap"), p2 = t6.get("barCategoryGap");
    n2.push({ bandWidth: r2, barWidth: c2, barMaxWidth: h2, barMinWidth: v2, barGap: d2, barCategoryGap: p2, axisKey: kx(e2), stackId: xx(t6) });
  })), Sx(n2);
}
function Sx(t5) {
  var i2 = {};
  kn(t5, (function(t6) {
    var n3 = t6.axisKey, r2 = t6.bandWidth, e2 = i2[n3] || { bandWidth: r2, remainedWidth: r2, autoWidthCount: 0, categoryGap: null, gap: "20%", stacks: {} }, o2 = e2.stacks;
    i2[n3] = e2;
    var a2 = t6.stackId;
    o2[a2] || e2.autoWidthCount++, o2[a2] = o2[a2] || { width: 0, maxWidth: 0 };
    var s2 = t6.barWidth;
    s2 && !o2[a2].width && (o2[a2].width = s2, s2 = Math.min(e2.remainedWidth, s2), e2.remainedWidth -= s2);
    var l2 = t6.barMaxWidth;
    l2 && (o2[a2].maxWidth = l2);
    var u2 = t6.barMinWidth;
    u2 && (o2[a2].minWidth = u2);
    var f2 = t6.barGap;
    null != f2 && (e2.gap = f2);
    var c2 = t6.barCategoryGap;
    null != c2 && (e2.categoryGap = c2);
  }));
  var n2 = {};
  return kn(i2, (function(t6, i3) {
    n2[i3] = {};
    var r2 = t6.stacks, e2 = t6.bandWidth, o2 = t6.categoryGap;
    if (null == o2) {
      var a2 = Cn(r2).length;
      o2 = Math.max(35 - 4 * a2, 15) + "%";
    }
    var s2 = us(o2, e2), l2 = us(t6.gap, 1), u2 = t6.remainedWidth, f2 = t6.autoWidthCount, c2 = (u2 - s2) / (f2 + (f2 - 1) * l2);
    c2 = Math.max(c2, 0), kn(r2, (function(t7) {
      var i4 = t7.maxWidth, n3 = t7.minWidth;
      if (t7.width) r3 = t7.width, i4 && (r3 = Math.min(r3, i4)), n3 && (r3 = Math.max(r3, n3)), t7.width = r3, u2 -= r3 + l2 * r3, f2--;
      else {
        var r3 = c2;
        i4 && i4 < r3 && (r3 = Math.min(i4, u2)), n3 && n3 > r3 && (r3 = n3), r3 !== c2 && (t7.width = r3, u2 -= r3 + l2 * r3, f2--);
      }
    })), c2 = (u2 - s2) / (f2 + (f2 - 1) * l2), c2 = Math.max(c2, 0);
    var h2, v2 = 0;
    kn(r2, (function(t7) {
      t7.width || (t7.width = c2), h2 = t7, v2 += t7.width * (1 + l2);
    })), h2 && (v2 -= h2.width * l2);
    var d2 = -v2 / 2;
    kn(r2, (function(t7, r3) {
      n2[i3][r3] = n2[i3][r3] || { bandWidth: e2, offset: d2, width: t7.width }, d2 += t7.width * (1 + l2);
    }));
  })), n2;
}
function Cx(t5, i2) {
  var n2 = Mx(t5, i2), r2 = zx(n2);
  kn(n2, (function(t6) {
    var i3 = t6.getData(), n3 = t6.coordinateSystem.getBaseAxis(), e2 = xx(t6), o2 = r2[kx(n3)][e2];
    i3.setLayout({ bandWidth: o2.bandWidth, offset: o2.offset, size: o2.width });
  }));
}
function Ax(t5) {
  return { seriesType: t5, plan: kb(), reset: function(t6) {
    if (Nx(t6)) {
      var i2 = t6.getData(), n2 = t6.coordinateSystem, r2 = n2.getBaseAxis(), e2 = n2.getOtherAxis(r2), o2 = i2.getDimensionIndex(i2.mapDimension(e2.dim)), a2 = i2.getDimensionIndex(i2.mapDimension(r2.dim)), s2 = t6.get("showBackground", true), l2 = i2.mapDimension(e2.dim), u2 = i2.getCalculationInfo("stackResultDimension"), f2 = Qw(i2, l2) && !!i2.getCalculationInfo("stackedOnSeries"), c2 = e2.isHorizontal(), h2 = (function(t7, i3) {
        var n3 = i3.model.get("startValue");
        return n3 || (n3 = 0), i3.toGlobalCoord(i3.dataToCoord("log" === i3.type ? n3 > 0 ? n3 : 1 : n3));
      })(0, e2), v2 = _x(t6), d2 = t6.get("barMinHeight") || 0, p2 = u2 && i2.getDimensionIndex(u2), m2 = i2.getLayout("size"), b2 = i2.getLayout("offset");
      return { progress: function(t7, i3) {
        for (var r3, e3 = t7.count, l3 = v2 && gx(3 * e3), u3 = v2 && s2 && gx(3 * e3), g3 = v2 && gx(e3), y2 = n2.master.getRect(), w3 = c2 ? y2.width : y2.height, x2 = i3.getStore(), k2 = 0; null != (r3 = t7.next()); ) {
          var M2 = x2.get(f2 ? p2 : o2, r3), z2 = x2.get(a2, r3), S3 = h2, C3 = void 0;
          f2 && (C3 = +M2 - x2.get(o2, r3));
          var A3 = void 0, N2 = void 0, _2 = void 0, T4 = void 0;
          if (c2) {
            var I2 = n2.dataToPoint([M2, z2]);
            f2 && (S3 = n2.dataToPoint([C3, z2])[0]), A3 = S3, N2 = I2[1] + b2, _2 = I2[0] - S3, T4 = m2, Math.abs(_2) < d2 && (_2 = (_2 < 0 ? -1 : 1) * d2);
          } else I2 = n2.dataToPoint([z2, M2]), f2 && (S3 = n2.dataToPoint([z2, C3])[1]), A3 = I2[0] + b2, N2 = S3, _2 = m2, T4 = I2[1] - S3, Math.abs(T4) < d2 && (T4 = (T4 <= 0 ? -1 : 1) * d2);
          v2 ? (l3[k2] = A3, l3[k2 + 1] = N2, l3[k2 + 2] = c2 ? _2 : T4, u3 && (u3[k2] = c2 ? y2.x : A3, u3[k2 + 1] = c2 ? N2 : y2.y, u3[k2 + 2] = w3), g3[r3] = r3) : i3.setItemLayout(r3, { x: A3, y: N2, width: _2, height: T4 }), k2 += 3;
        }
        v2 && i3.setLayout({ largePoints: l3, largeDataIndices: g3, largeBackgroundPoints: u3, valueAxisHorizontal: c2 });
      } };
    }
  } };
}
function Nx(t5) {
  return t5.coordinateSystem && "cartesian2d" === t5.coordinateSystem.type;
}
function _x(t5) {
  return t5.pipelineContext && t5.pipelineContext.large;
}
var Tx = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2.type = "time", n2;
  }
  return Yi(i2, t5), i2.prototype.getLabel = function(t6) {
    var i3 = this.getSetting("useUTC");
    return Jv(t6.value, Uv[(function(t7) {
      switch (t7) {
        case "year":
        case "month":
          return "day";
        case "millisecond":
          return "millisecond";
        default:
          return "second";
      }
    })(qv(this._minLevelUnit))] || Uv.second, i3, this.getSetting("locale"));
  }, i2.prototype.getFormattedLabel = function(t6, i3, n2) {
    var r2 = this.getSetting("useUTC");
    return (function(t7, i4, n3, r3, e2) {
      var o2 = null;
      if (In(n3)) o2 = n3;
      else if (Tn(n3)) o2 = n3(t7.value, i4, { level: t7.level });
      else {
        var a2 = bn({}, Yv);
        if (t7.level > 0) for (var s2 = 0; s2 < $v.length; ++s2) a2[$v[s2]] = "{primary|" + a2[$v[s2]] + "}";
        var l2 = n3 ? false === n3.inherit ? n3 : gn(n3, a2) : a2, u2 = Kv(t7.value, e2);
        if (l2[u2]) o2 = l2[u2];
        else if (l2.inherit) {
          for (s2 = Gv.indexOf(u2) - 1; s2 >= 0; --s2) if (l2[u2]) {
            o2 = l2[u2];
            break;
          }
          o2 = o2 || a2.none;
        }
        if (_n(o2)) {
          var f2 = null == t7.level ? 0 : t7.level >= 0 ? t7.level : o2.length + t7.level;
          o2 = o2[f2 = Math.min(f2, o2.length - 1)];
        }
      }
      return Jv(new Date(t7.value), o2, e2, r3);
    })(t6, i3, n2, this.getSetting("locale"), r2);
  }, i2.prototype.getTicks = function() {
    var t6 = this._extent, i3 = [];
    if (!this._interval) return i3;
    i3.push({ value: t6[0], level: 0 });
    var n2 = this.getSetting("useUTC"), r2 = (function(t7, i4, n3, r3) {
      var e2, o2 = Gv, a2 = 0;
      function s2(t8, i5, n4, e3, o3, a3, s3) {
        for (var l3 = new Date(i5), u3 = i5, f3 = l3[e3](); u3 < n4 && u3 <= r3[1]; ) s3.push({ value: u3 }), l3[o3](f3 += t8), u3 = l3.getTime();
        s3.push({ value: u3, notAdd: true });
      }
      function l2(t8, e3, o3) {
        var a3 = [], l3 = !e3.length;
        if (!(function(t9, i5, n4, r4) {
          var e4 = ys(i5), o4 = ys(n4), a4 = function(t10) {
            return Qv(e4, t10, r4) === Qv(o4, t10, r4);
          }, s3 = function() {
            return a4("year");
          }, l4 = function() {
            return s3() && a4("month");
          }, u4 = function() {
            return l4() && a4("day");
          }, f4 = function() {
            return u4() && a4("hour");
          }, c4 = function() {
            return f4() && a4("minute");
          }, h4 = function() {
            return c4() && a4("second");
          };
          switch (t9) {
            case "year":
              return s3();
            case "month":
              return l4();
            case "day":
              return u4();
            case "hour":
              return f4();
            case "minute":
              return c4();
            case "second":
              return h4();
            case "millisecond":
              return h4() && a4("millisecond");
          }
        })(qv(t8), r3[0], r3[1], n3)) {
          l3 && (e3 = [{ value: Fx(new Date(r3[0]), t8, n3) }, { value: r3[1] }]);
          for (var u3 = 0; u3 < e3.length - 1; u3++) {
            var f3 = e3[u3].value, c3 = e3[u3 + 1].value;
            if (f3 !== c3) {
              var h3 = void 0, v3 = void 0, d3 = void 0;
              switch (t8) {
                case "year":
                  h3 = Math.max(1, Math.round(i4 / jv / 365)), v3 = td(n3), d3 = sd(n3);
                  break;
                case "half-year":
                case "quarter":
                case "month":
                  h3 = Dx(i4), v3 = id(n3), d3 = ld(n3);
                  break;
                case "week":
                case "half-week":
                case "day":
                  h3 = Lx(i4), v3 = nd(n3), d3 = ud(n3);
                  break;
                case "half-day":
                case "quarter-day":
                case "hour":
                  h3 = Wx(i4), v3 = rd(n3), d3 = fd(n3);
                  break;
                case "minute":
                  h3 = Ex(i4, true), v3 = ed(n3), d3 = cd(n3);
                  break;
                case "second":
                  h3 = Ex(i4, false), v3 = od(n3), d3 = hd(n3);
                  break;
                case "millisecond":
                  h3 = Ox(i4), v3 = ad(n3), d3 = vd(n3);
              }
              s2(h3, f3, c3, v3, d3, 0, a3), "year" === t8 && o3.length > 1 && 0 === u3 && o3.unshift({ value: o3[0].value - h3 });
            }
          }
          for (u3 = 0; u3 < a3.length; u3++) o3.push(a3[u3]);
          return a3;
        }
      }
      for (var u2 = [], f2 = [], c2 = 0, h2 = 0, v2 = 0; v2 < o2.length && a2++ < 1e4; ++v2) {
        var d2 = qv(o2[v2]);
        if ((e2 = o2[v2]) === qv(e2) && (l2(o2[v2], u2[u2.length - 1] || [], f2), d2 !== (o2[v2 + 1] ? qv(o2[v2 + 1]) : null))) {
          if (f2.length) {
            h2 = c2, f2.sort((function(t8, i5) {
              return t8.value - i5.value;
            }));
            for (var p2 = [], m2 = 0; m2 < f2.length; ++m2) {
              var b2 = f2[m2].value;
              0 !== m2 && f2[m2 - 1].value === b2 || (p2.push(f2[m2]), b2 >= r3[0] && b2 <= r3[1] && c2++);
            }
            var g3 = (r3[1] - r3[0]) / i4;
            if (c2 > 1.5 * g3 && h2 > g3 / 1.5) break;
            if (u2.push(p2), c2 > g3 || t7 === o2[v2]) break;
          }
          f2 = [];
        }
      }
      var y2 = Sn(Mn(u2, (function(t8) {
        return Sn(t8, (function(t9) {
          return t9.value >= r3[0] && t9.value <= r3[1] && !t9.notAdd;
        }));
      })), (function(t8) {
        return t8.length > 0;
      })), w3 = [], x2 = y2.length - 1;
      for (v2 = 0; v2 < y2.length; ++v2) for (var k2 = y2[v2], M2 = 0; M2 < k2.length; ++M2) w3.push({ value: k2[M2].value, level: x2 - v2 });
      w3.sort((function(t8, i5) {
        return t8.value - i5.value;
      }));
      var z2 = [];
      for (v2 = 0; v2 < w3.length; ++v2) 0 !== v2 && w3[v2].value === w3[v2 - 1].value || z2.push(w3[v2]);
      return z2;
    })(this._minLevelUnit, this._approxInterval, n2, t6);
    return (i3 = i3.concat(r2)).push({ value: t6[1], level: 0 }), i3;
  }, i2.prototype.calcNiceExtent = function(t6) {
    var i3 = this._extent;
    if (i3[0] === i3[1] && (i3[0] -= jv, i3[1] += jv), i3[1] === -1 / 0 && i3[0] === 1 / 0) {
      var n2 = /* @__PURE__ */ new Date();
      i3[1] = +new Date(n2.getFullYear(), n2.getMonth(), n2.getDate()), i3[0] = i3[1] - jv;
    }
    this.calcNiceTicks(t6.splitNumber, t6.minInterval, t6.maxInterval);
  }, i2.prototype.calcNiceTicks = function(t6, i3, n2) {
    var r2 = this._extent;
    this._approxInterval = (r2[1] - r2[0]) / (t6 = t6 || 10), null != i3 && this._approxInterval < i3 && (this._approxInterval = i3), null != n2 && this._approxInterval > n2 && (this._approxInterval = n2);
    var e2 = Ix.length, o2 = Math.min((function(t7, i4, n3, r3) {
      for (; n3 < r3; ) {
        var e3 = n3 + r3 >>> 1;
        t7[e3][1] < i4 ? n3 = e3 + 1 : r3 = e3;
      }
      return n3;
    })(Ix, this._approxInterval, 0, e2), e2 - 1);
    this._interval = Ix[o2][1], this._minLevelUnit = Ix[Math.max(o2 - 1, 0)][0];
  }, i2.prototype.parse = function(t6) {
    return Dn(t6) ? t6 : +ys(t6);
  }, i2.prototype.contain = function(t6) {
    return fx(this.parse(t6), this._extent);
  }, i2.prototype.normalize = function(t6) {
    return cx(this.parse(t6), this._extent);
  }, i2.prototype.scale = function(t6) {
    return hx(t6, this._extent);
  }, i2.type = "time", i2;
})(px), Ix = [["second", 1e3], ["minute", 6e4], ["hour", Vv], ["quarter-day", 216e5], ["half-day", 432e5], ["day", 10368e4], ["half-week", 3024e5], ["week", 6048e5], ["month", 26784e5], ["quarter", 8208e6], ["half-year", Hv / 2], ["year", Hv]];
function Lx(t5) {
  return (t5 /= jv) > 16 ? 16 : t5 > 7.5 ? 7 : t5 > 3.5 ? 4 : t5 > 1.5 ? 2 : 1;
}
function Dx(t5) {
  return (t5 /= 2592e6) > 6 ? 6 : t5 > 3 ? 3 : t5 > 2 ? 2 : 1;
}
function Wx(t5) {
  return (t5 /= Vv) > 12 ? 12 : t5 > 6 ? 6 : t5 > 3.5 ? 4 : t5 > 2 ? 2 : 1;
}
function Ex(t5, i2) {
  return (t5 /= i2 ? 6e4 : 1e3) > 30 ? 30 : t5 > 20 ? 20 : t5 > 15 ? 15 : t5 > 10 ? 10 : t5 > 5 ? 5 : t5 > 2 ? 2 : 1;
}
function Ox(t5) {
  return xs(t5);
}
function Fx(t5, i2, n2) {
  var r2 = new Date(t5);
  switch (qv(i2)) {
    case "year":
    case "month":
      r2[ld(n2)](0);
    case "day":
      r2[ud(n2)](1);
    case "hour":
      r2[fd(n2)](0);
    case "minute":
      r2[cd(n2)](0);
    case "second":
      r2[hd(n2)](0), r2[vd(n2)](0);
  }
  return r2.getTime();
}
nx.registerClass(Tx);
var Rx = nx.prototype, Px = px.prototype, Bx = fs, Vx = Math.floor, jx = Math.ceil, Hx = Math.pow, Yx = Math.log, Xx = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.type = "log", i3.base = 10, i3._originalScale = new px(), i3._interval = 0, i3;
  }
  return Yi(i2, t5), i2.prototype.getTicks = function(t6) {
    var i3 = this._extent, n2 = this._originalScale.getExtent();
    return Mn(Px.getTicks.call(this, t6), (function(t7) {
      var r2 = t7.value, e2 = fs(Hx(this.base, r2));
      return e2 = r2 === i3[0] && this._fixMin ? $x(e2, n2[0]) : e2, { value: e2 = r2 === i3[1] && this._fixMax ? $x(e2, n2[1]) : e2 };
    }), this);
  }, i2.prototype.setExtent = function(t6, i3) {
    var n2 = Yx(this.base);
    t6 = Yx(Math.max(0, t6)) / n2, i3 = Yx(Math.max(0, i3)) / n2, Px.setExtent.call(this, t6, i3);
  }, i2.prototype.getExtent = function() {
    var t6 = this.base, i3 = Rx.getExtent.call(this);
    i3[0] = Hx(t6, i3[0]), i3[1] = Hx(t6, i3[1]);
    var n2 = this._originalScale.getExtent();
    return this._fixMin && (i3[0] = $x(i3[0], n2[0])), this._fixMax && (i3[1] = $x(i3[1], n2[1])), i3;
  }, i2.prototype.unionExtent = function(t6) {
    this._originalScale.unionExtent(t6);
    var i3 = this.base;
    t6[0] = Yx(t6[0]) / Yx(i3), t6[1] = Yx(t6[1]) / Yx(i3), Rx.unionExtent.call(this, t6);
  }, i2.prototype.unionExtentFromData = function(t6, i3) {
    this.unionExtent(t6.getApproximateExtent(i3));
  }, i2.prototype.calcNiceTicks = function(t6) {
    t6 = t6 || 10;
    var i3 = this._extent, n2 = i3[1] - i3[0];
    if (!(n2 === 1 / 0 || n2 <= 0)) {
      var r2 = Math.pow(10, ws(n2));
      for (t6 / n2 * r2 <= 0.5 && (r2 *= 10); !isNaN(r2) && Math.abs(r2) < 1 && Math.abs(r2) > 0; ) r2 *= 10;
      var e2 = [fs(jx(i3[0] / r2) * r2), fs(Vx(i3[1] / r2) * r2)];
      this._interval = r2, this._niceExtent = e2;
    }
  }, i2.prototype.calcNiceExtent = function(t6) {
    Px.calcNiceExtent.call(this, t6), this._fixMin = t6.fixMin, this._fixMax = t6.fixMax;
  }, i2.prototype.parse = function(t6) {
    return t6;
  }, i2.prototype.contain = function(t6) {
    return fx(t6 = Yx(t6) / Yx(this.base), this._extent);
  }, i2.prototype.normalize = function(t6) {
    return cx(t6 = Yx(t6) / Yx(this.base), this._extent);
  }, i2.prototype.scale = function(t6) {
    return t6 = hx(t6, this._extent), Hx(this.base, t6);
  }, i2.type = "log", i2;
})(nx), Ux = Xx.prototype;
function $x(t5, i2) {
  return Bx(t5, hs(i2));
}
Ux.getMinorTicks = Px.getMinorTicks, Ux.getLabel = Px.getLabel, nx.registerClass(Xx);
var Gx = (function() {
  function t5(t6, i2, n2) {
    this._prepareParams(t6, i2, n2);
  }
  return t5.prototype._prepareParams = function(t6, i2, n2) {
    n2[1] < n2[0] && (n2 = [NaN, NaN]), this._dataMin = n2[0], this._dataMax = n2[1];
    var r2 = this._isOrdinal = "ordinal" === t6.type;
    this._needCrossZero = "interval" === t6.type && i2.getNeedCrossZero && i2.getNeedCrossZero();
    var e2 = i2.get("min", true);
    null == e2 && (e2 = i2.get("startValue", true));
    var o2 = this._modelMinRaw = e2;
    Tn(o2) ? this._modelMinNum = Kx(t6, o2({ min: n2[0], max: n2[1] })) : "dataMin" !== o2 && (this._modelMinNum = Kx(t6, o2));
    var a2 = this._modelMaxRaw = i2.get("max", true);
    if (Tn(a2) ? this._modelMaxNum = Kx(t6, a2({ min: n2[0], max: n2[1] })) : "dataMax" !== a2 && (this._modelMaxNum = Kx(t6, a2)), r2) this._axisDataLen = i2.getCategories().length;
    else {
      var s2 = i2.get("boundaryGap"), l2 = _n(s2) ? s2 : [s2 || 0, s2 || 0];
      this._boundaryGapInner = "boolean" == typeof l2[0] || "boolean" == typeof l2[1] ? [0, 0] : [Xa(l2[0], 1), Xa(l2[1], 1)];
    }
  }, t5.prototype.calculate = function() {
    var t6 = this._isOrdinal, i2 = this._dataMin, n2 = this._dataMax, r2 = this._axisDataLen, e2 = this._boundaryGapInner, o2 = t6 ? null : n2 - i2 || Math.abs(i2), a2 = "dataMin" === this._modelMinRaw ? i2 : this._modelMinNum, s2 = "dataMax" === this._modelMaxRaw ? n2 : this._modelMaxNum, l2 = null != a2, u2 = null != s2;
    null == a2 && (a2 = t6 ? r2 ? 0 : NaN : i2 - e2[0] * o2), null == s2 && (s2 = t6 ? r2 ? r2 - 1 : NaN : n2 + e2[1] * o2), (null == a2 || !isFinite(a2)) && (a2 = NaN), (null == s2 || !isFinite(s2)) && (s2 = NaN);
    var f2 = Pn(a2) || Pn(s2) || t6 && !r2;
    this._needCrossZero && (a2 > 0 && s2 > 0 && !l2 && (a2 = 0), a2 < 0 && s2 < 0 && !u2 && (s2 = 0));
    var c2 = this._determinedMin, h2 = this._determinedMax;
    return null != c2 && (a2 = c2, l2 = true), null != h2 && (s2 = h2, u2 = true), { min: a2, max: s2, minFixed: l2, maxFixed: u2, isBlank: f2 };
  }, t5.prototype.modifyDataMinMax = function(t6, i2) {
    this[qx[t6]] = i2;
  }, t5.prototype.setDeterminedMinMax = function(t6, i2) {
    this[Zx[t6]] = i2;
  }, t5.prototype.freeze = function() {
    this.frozen = true;
  }, t5;
})(), Zx = { min: "_determinedMin", max: "_determinedMax" }, qx = { min: "_dataMin", max: "_dataMax" };
function Jx(t5, i2, n2) {
  var r2 = t5.rawExtentInfo;
  return r2 || (r2 = new Gx(t5, i2, n2), t5.rawExtentInfo = r2, r2);
}
function Kx(t5, i2) {
  return null == i2 ? null : Pn(i2) ? NaN : t5.parse(i2);
}
function Qx(t5, i2) {
  var n2 = t5.type, r2 = Jx(t5, i2, t5.getExtent()).calculate();
  t5.setBlank(r2.isBlank);
  var e2 = r2.min, o2 = r2.max, a2 = i2.ecModel;
  if (a2 && "time" === n2) {
    var s2 = Mx("bar", a2), l2 = false;
    if (kn(s2, (function(t6) {
      l2 = l2 || t6.getBaseAxis() === i2.axis;
    })), l2) {
      var u2 = zx(s2), f2 = (function(t6, i3, n3, r3) {
        var e3 = n3.axis.getExtent(), o3 = Math.abs(e3[1] - e3[0]), a3 = (function(t7, i4) {
          if (t7 && i4) return t7[kx(i4)];
        })(r3, n3.axis);
        if (void 0 === a3) return { min: t6, max: i3 };
        var s3 = 1 / 0;
        kn(a3, (function(t7) {
          s3 = Math.min(t7.offset, s3);
        }));
        var l3 = -1 / 0;
        kn(a3, (function(t7) {
          l3 = Math.max(t7.offset + t7.width, l3);
        })), s3 = Math.abs(s3), l3 = Math.abs(l3);
        var u3 = s3 + l3, f3 = i3 - t6, c2 = f3 / (1 - (s3 + l3) / o3) - f3;
        return { min: t6 -= c2 * (s3 / u3), max: i3 += c2 * (l3 / u3) };
      })(e2, o2, i2, u2);
      e2 = f2.min, o2 = f2.max;
    }
  }
  return { extent: [e2, o2], fixMin: r2.minFixed, fixMax: r2.maxFixed };
}
function tk(t5, i2) {
  var n2 = i2, r2 = Qx(t5, n2), e2 = r2.extent, o2 = n2.get("splitNumber");
  t5 instanceof Xx && (t5.base = n2.get("logBase"));
  var a2 = t5.type, s2 = n2.get("interval"), l2 = "interval" === a2 || "time" === a2;
  t5.setExtent(e2[0], e2[1]), t5.calcNiceExtent({ splitNumber: o2, fixMin: r2.fixMin, fixMax: r2.fixMax, minInterval: l2 ? n2.get("minInterval") : null, maxInterval: l2 ? n2.get("maxInterval") : null }), null != s2 && t5.setInterval && t5.setInterval(s2);
}
function ik(t5, i2) {
  if (i2 = i2 || t5.get("type")) switch (i2) {
    case "category":
      return new vx({ ordinalMeta: t5.getOrdinalMeta ? t5.getOrdinalMeta() : t5.getCategories(), extent: [1 / 0, -1 / 0] });
    case "time":
      return new Tx({ locale: t5.ecModel.getLocaleModel(), useUTC: t5.ecModel.get("useUTC") });
    default:
      return new (nx.getClass(i2) || px)();
  }
}
function nk(t5) {
  var i2, n2, r2 = t5.getLabelModel().get("formatter"), e2 = "category" === t5.type ? t5.scale.getExtent()[0] : null;
  return "time" === t5.scale.type ? (n2 = r2, function(i3, r3) {
    return t5.scale.getFormattedLabel(i3, r3, n2);
  }) : In(r2) ? /* @__PURE__ */ (function(i3) {
    return function(n3) {
      var r3 = t5.scale.getLabel(n3);
      return i3.replace("{value}", null != r3 ? r3 : "");
    };
  })(r2) : Tn(r2) ? (i2 = r2, function(n3, r3) {
    return null != e2 && (r3 = n3.value - e2), i2(rk(t5, n3), r3, null != n3.level ? { level: n3.level } : null);
  }) : function(i3) {
    return t5.scale.getLabel(i3);
  };
}
function rk(t5, i2) {
  return "category" === t5.type ? t5.scale.getLabel(i2) : i2.value;
}
function ek(t5, i2) {
  var n2 = i2 * Math.PI / 180, r2 = t5.width, e2 = t5.height, o2 = r2 * Math.abs(Math.cos(n2)) + Math.abs(e2 * Math.sin(n2)), a2 = r2 * Math.abs(Math.sin(n2)) + Math.abs(e2 * Math.cos(n2));
  return new ce(t5.x, t5.y, o2, a2);
}
function ok(t5) {
  var i2 = t5.get("interval");
  return null == i2 ? "auto" : i2;
}
function ak(t5) {
  return "category" === t5.type && 0 === ok(t5.getLabelModel());
}
function sk(t5, i2) {
  var n2 = {};
  return kn(t5.mapDimensionsAll(i2), (function(i3) {
    n2[tx(t5, i3)] = true;
  })), Cn(n2);
}
var lk = (function() {
  function t5() {
  }
  return t5.prototype.getNeedCrossZero = function() {
    return !this.option.scale;
  }, t5.prototype.getCoordSysModel = function() {
  }, t5;
})();
function uk(t5, i2) {
  return Math.abs(t5 - i2) < 1e-8;
}
function fk(t5, i2, n2) {
  var r2 = 0, e2 = t5[0];
  if (!e2) return false;
  for (var o2 = 1; o2 < t5.length; o2++) {
    var a2 = t5[o2];
    r2 += Su(e2[0], e2[1], a2[0], a2[1], i2, n2), e2 = a2;
  }
  var s2 = t5[0];
  return uk(e2[0], s2[0]) && uk(e2[1], s2[1]) || (r2 += Su(e2[0], e2[1], s2[0], s2[1], i2, n2)), 0 !== r2;
}
var ck = [];
function hk(t5, i2) {
  for (var n2 = 0; n2 < t5.length; n2++) wr(t5[n2], t5[n2], i2);
}
function vk(t5, i2, n2, r2) {
  for (var e2 = 0; e2 < t5.length; e2++) {
    var o2 = t5[e2];
    r2 && (o2 = r2.project(o2)), o2 && isFinite(o2[0]) && isFinite(o2[1]) && (xr(i2, i2, o2), kr(n2, n2, o2));
  }
}
var dk = (function() {
  function t5(t6) {
    this.name = t6;
  }
  return t5.prototype.setCenter = function(t6) {
    this._center = t6;
  }, t5.prototype.getCenter = function() {
    var t6 = this._center;
    return t6 || (t6 = this._center = this.calcCenter()), t6;
  }, t5;
})(), pk = function(t5, i2) {
  this.type = "polygon", this.exterior = t5, this.interiors = i2;
}, mk = function(t5) {
  this.type = "linestring", this.points = t5;
}, bk = (function(t5) {
  function i2(i3, n2, r2) {
    var e2 = t5.call(this, i3) || this;
    return e2.type = "geoJSON", e2.geometries = n2, e2._center = r2 && [r2[0], r2[1]], e2;
  }
  return Yi(i2, t5), i2.prototype.calcCenter = function() {
    for (var t6, i3 = this.geometries, n2 = 0, r2 = 0; r2 < i3.length; r2++) {
      var e2 = i3[r2], o2 = e2.exterior, a2 = o2 && o2.length;
      a2 > n2 && (t6 = e2, n2 = a2);
    }
    if (t6) return (function(t7) {
      for (var i4 = 0, n3 = 0, r3 = 0, e3 = t7.length, o3 = t7[e3 - 1][0], a3 = t7[e3 - 1][1], s3 = 0; s3 < e3; s3++) {
        var l2 = t7[s3][0], u2 = t7[s3][1], f2 = o3 * u2 - l2 * a3;
        i4 += f2, n3 += (o3 + l2) * f2, r3 += (a3 + u2) * f2, o3 = l2, a3 = u2;
      }
      return i4 ? [n3 / i4 / 3, r3 / i4 / 3, i4] : [t7[0][0] || 0, t7[0][1] || 0];
    })(t6.exterior);
    var s2 = this.getBoundingRect();
    return [s2.x + s2.width / 2, s2.y + s2.height / 2];
  }, i2.prototype.getBoundingRect = function(t6) {
    var i3 = this._rect;
    if (i3 && !t6) return i3;
    var n2 = [1 / 0, 1 / 0], r2 = [-1 / 0, -1 / 0];
    return kn(this.geometries, (function(i4) {
      "polygon" === i4.type ? vk(i4.exterior, n2, r2, t6) : kn(i4.points, (function(i5) {
        vk(i5, n2, r2, t6);
      }));
    })), isFinite(n2[0]) && isFinite(n2[1]) && isFinite(r2[0]) && isFinite(r2[1]) || (n2[0] = n2[1] = r2[0] = r2[1] = 0), i3 = new ce(n2[0], n2[1], r2[0] - n2[0], r2[1] - n2[1]), t6 || (this._rect = i3), i3;
  }, i2.prototype.contain = function(t6) {
    var i3 = this.getBoundingRect(), n2 = this.geometries;
    if (!i3.contain(t6[0], t6[1])) return false;
    t: for (var r2 = 0, e2 = n2.length; r2 < e2; r2++) {
      var o2 = n2[r2];
      if ("polygon" === o2.type) {
        var a2 = o2.interiors;
        if (fk(o2.exterior, t6[0], t6[1])) {
          for (var s2 = 0; s2 < (a2 ? a2.length : 0); s2++) if (fk(a2[s2], t6[0], t6[1])) continue t;
          return true;
        }
      }
    }
    return false;
  }, i2.prototype.transformTo = function(t6, i3, n2, r2) {
    var e2 = this.getBoundingRect(), o2 = e2.width / e2.height;
    n2 ? r2 || (r2 = n2 / o2) : n2 = o2 * r2;
    for (var a2 = new ce(t6, i3, n2, r2), s2 = e2.calculateTransform(a2), l2 = this.geometries, u2 = 0; u2 < l2.length; u2++) {
      var f2 = l2[u2];
      "polygon" === f2.type ? (hk(f2.exterior, s2), kn(f2.interiors, (function(t7) {
        hk(t7, s2);
      }))) : kn(f2.points, (function(t7) {
        hk(t7, s2);
      }));
    }
    (e2 = this._rect).copy(a2), this._center = [e2.x + e2.width / 2, e2.y + e2.height / 2];
  }, i2.prototype.cloneShallow = function(t6) {
    null == t6 && (t6 = this.name);
    var n2 = new i2(t6, this.geometries, this._center);
    return n2._rect = this._rect, n2.transformTo = null, n2;
  }, i2;
})(dk), gk = (function(t5) {
  function i2(i3, n2) {
    var r2 = t5.call(this, i3) || this;
    return r2.type = "geoSVG", r2._elOnlyForCalculate = n2, r2;
  }
  return Yi(i2, t5), i2.prototype.calcCenter = function() {
    for (var t6 = this._elOnlyForCalculate, i3 = t6.getBoundingRect(), n2 = [i3.x + i3.width / 2, i3.y + i3.height / 2], r2 = Zr(ck), e2 = t6; e2 && !e2.isGeoSVGGraphicRoot; ) Jr(r2, e2.getLocalTransform(), r2), e2 = e2.parent;
    return ie(r2, r2), wr(n2, n2, r2), n2;
  }, i2;
})(dk);
function yk(t5, i2, n2) {
  for (var r2 = 0; r2 < t5.length; r2++) t5[r2] = wk(t5[r2], i2[r2], n2);
}
function wk(t5, i2, n2) {
  for (var r2 = [], e2 = i2[0], o2 = i2[1], a2 = 0; a2 < t5.length; a2 += 2) {
    var s2 = t5.charCodeAt(a2) - 64, l2 = t5.charCodeAt(a2 + 1) - 64;
    s2 = s2 >> 1 ^ -(1 & s2), l2 = l2 >> 1 ^ -(1 & l2), e2 = s2 += e2, o2 = l2 += o2, r2.push([s2 / n2, l2 / n2]);
  }
  return r2;
}
var xk = Xs();
function kk(t5, i2) {
  var n2 = Mn(i2, (function(i3) {
    return t5.scale.parse(i3);
  }));
  return "time" === t5.type && n2.length > 0 && (n2.sort(), n2.unshift(n2[0]), n2.push(n2[n2.length - 1])), n2;
}
function Mk(t5, i2) {
  var n2, r2, e2 = zk(t5, "labels"), o2 = ok(i2);
  return Sk(e2, o2) || (Tn(o2) ? n2 = Nk(t5, o2) : (r2 = "auto" === o2 ? (function(t6) {
    var i3 = xk(t6).autoInterval;
    return null != i3 ? i3 : xk(t6).autoInterval = t6.calculateCategoryInterval();
  })(t5) : o2, n2 = Ak(t5, r2)), Ck(e2, o2, { labels: n2, labelCategoryInterval: r2 }));
}
function zk(t5, i2) {
  return xk(t5)[i2] || (xk(t5)[i2] = []);
}
function Sk(t5, i2) {
  for (var n2 = 0; n2 < t5.length; n2++) if (t5[n2].key === i2) return t5[n2].value;
}
function Ck(t5, i2, n2) {
  return t5.push({ key: i2, value: n2 }), n2;
}
function Ak(t5, i2, n2) {
  var r2 = nk(t5), e2 = t5.scale, o2 = e2.getExtent(), a2 = t5.getLabelModel(), s2 = [], l2 = Math.max((i2 || 0) + 1, 1), u2 = o2[0], f2 = e2.count();
  0 !== u2 && l2 > 1 && f2 / l2 > 2 && (u2 = Math.round(Math.ceil(u2 / l2) * l2));
  var c2 = ak(t5), h2 = a2.get("showMinLabel") || c2, v2 = a2.get("showMaxLabel") || c2;
  h2 && u2 !== o2[0] && p2(o2[0]);
  for (var d2 = u2; d2 <= o2[1]; d2 += l2) p2(d2);
  function p2(t6) {
    var i3 = { value: t6 };
    s2.push(n2 ? t6 : { formattedLabel: r2(i3), rawLabel: e2.getLabel(i3), tickValue: t6 });
  }
  return v2 && d2 - l2 !== o2[1] && p2(o2[1]), s2;
}
function Nk(t5, i2, n2) {
  var r2 = t5.scale, e2 = nk(t5), o2 = [];
  return kn(r2.getTicks(), (function(t6) {
    var a2 = r2.getLabel(t6), s2 = t6.value;
    i2(t6.value, a2) && o2.push(n2 ? s2 : { formattedLabel: e2(t6), rawLabel: a2, tickValue: s2 });
  })), o2;
}
var _k = [0, 1], Tk = (function() {
  function t5(t6, i2, n2) {
    this.onBand = false, this.inverse = false, this.dim = t6, this.scale = i2, this._extent = n2 || [0, 0];
  }
  return t5.prototype.contain = function(t6) {
    var i2 = this._extent, n2 = Math.min(i2[0], i2[1]), r2 = Math.max(i2[0], i2[1]);
    return t6 >= n2 && t6 <= r2;
  }, t5.prototype.containData = function(t6) {
    return this.scale.contain(t6);
  }, t5.prototype.getExtent = function() {
    return this._extent.slice();
  }, t5.prototype.getPixelPrecision = function(t6) {
    return vs(t6 || this.scale.getExtent(), this._extent);
  }, t5.prototype.setExtent = function(t6, i2) {
    var n2 = this._extent;
    n2[0] = t6, n2[1] = i2;
  }, t5.prototype.dataToCoord = function(t6, i2) {
    var n2 = this._extent, r2 = this.scale;
    return t6 = r2.normalize(t6), this.onBand && "ordinal" === r2.type && Ik(n2 = n2.slice(), r2.count()), ls(t6, _k, n2, i2);
  }, t5.prototype.coordToData = function(t6, i2) {
    var n2 = this._extent, r2 = this.scale;
    this.onBand && "ordinal" === r2.type && Ik(n2 = n2.slice(), r2.count());
    var e2 = ls(t6, n2, _k, i2);
    return this.scale.scale(e2);
  }, t5.prototype.pointToData = function() {
  }, t5.prototype.getTicksCoords = function(t6) {
    var i2 = (t6 = t6 || {}).tickModel || this.getTickModel(), n2 = Mn((function(t7, i3) {
      var n3 = t7.getTickModel().get("customValues");
      if (n3) {
        var r2 = t7.scale.getExtent();
        return { ticks: Sn(kk(t7, n3), (function(t8) {
          return t8 >= r2[0] && t8 <= r2[1];
        })) };
      }
      return "category" === t7.type ? (function(t8, i4) {
        var n4, r3, e2 = zk(t8, "ticks"), o2 = ok(i4), a2 = Sk(e2, o2);
        if (a2) return a2;
        if (i4.get("show") && !t8.scale.isBlank() || (n4 = []), Tn(o2)) n4 = Nk(t8, o2, true);
        else if ("auto" === o2) {
          var s2 = Mk(t8, t8.getLabelModel());
          r3 = s2.labelCategoryInterval, n4 = Mn(s2.labels, (function(t9) {
            return t9.tickValue;
          }));
        } else n4 = Ak(t8, r3 = o2, true);
        return Ck(e2, o2, { ticks: n4, tickCategoryInterval: r3 });
      })(t7, i3) : { ticks: Mn(t7.scale.getTicks(), (function(t8) {
        return t8.value;
      })) };
    })(this, i2).ticks, (function(t7) {
      return { coord: this.dataToCoord("ordinal" === this.scale.type ? this.scale.getRawOrdinalNumber(t7) : t7), tickValue: t7 };
    }), this);
    return (function(t7, i3, n3, r2) {
      var e2 = i3.length;
      if (t7.onBand && !n3 && e2) {
        var o2, a2 = t7.getExtent();
        if (1 === e2) i3[0].coord = a2[0], o2 = i3[1] = { coord: a2[1], tickValue: i3[0].tickValue };
        else {
          var s2 = (i3[e2 - 1].coord - i3[0].coord) / (i3[e2 - 1].tickValue - i3[0].tickValue);
          kn(i3, (function(t8) {
            t8.coord -= s2 / 2;
          }));
          var l2 = t7.scale.getExtent();
          i3.push(o2 = { coord: i3[e2 - 1].coord + s2 * (1 + l2[1] - i3[e2 - 1].tickValue), tickValue: l2[1] + 1 });
        }
        var u2 = a2[0] > a2[1];
        f2(i3[0].coord, a2[0]) && (r2 ? i3[0].coord = a2[0] : i3.shift()), r2 && f2(a2[0], i3[0].coord) && i3.unshift({ coord: a2[0] }), f2(a2[1], o2.coord) && (r2 ? o2.coord = a2[1] : i3.pop()), r2 && f2(o2.coord, a2[1]) && i3.push({ coord: a2[1] });
      }
      function f2(t8, i4) {
        return t8 = fs(t8), i4 = fs(i4), u2 ? t8 > i4 : t8 < i4;
      }
    })(this, n2, i2.get("alignWithLabel"), t6.clamp), n2;
  }, t5.prototype.getMinorTicksCoords = function() {
    if ("ordinal" === this.scale.type) return [];
    var t6 = this.model.getModel("minorTick").get("splitNumber");
    return t6 > 0 && t6 < 100 || (t6 = 5), Mn(this.scale.getMinorTicks(t6), (function(t7) {
      return Mn(t7, (function(t8) {
        return { coord: this.dataToCoord(t8), tickValue: t8 };
      }), this);
    }), this);
  }, t5.prototype.getViewLabels = function() {
    return (function(t6) {
      var i2 = t6.getLabelModel().get("customValues");
      if (i2) {
        var n2 = nk(t6), r2 = t6.scale.getExtent();
        return { labels: Mn(Sn(kk(t6, i2), (function(t7) {
          return t7 >= r2[0] && t7 <= r2[1];
        })), (function(i3) {
          var r3 = { value: i3 };
          return { formattedLabel: n2(r3), rawLabel: t6.scale.getLabel(r3), tickValue: i3 };
        })) };
      }
      return "category" === t6.type ? (function(t7) {
        var i3 = t7.getLabelModel(), n3 = Mk(t7, i3);
        return !i3.get("show") || t7.scale.isBlank() ? { labels: [], labelCategoryInterval: n3.labelCategoryInterval } : n3;
      })(t6) : (function(t7) {
        var i3 = t7.scale.getTicks(), n3 = nk(t7);
        return { labels: Mn(i3, (function(i4, r3) {
          return { level: i4.level, formattedLabel: n3(i4, r3), rawLabel: t7.scale.getLabel(i4), tickValue: i4.value };
        })) };
      })(t6);
    })(this).labels;
  }, t5.prototype.getLabelModel = function() {
    return this.model.getModel("axisLabel");
  }, t5.prototype.getTickModel = function() {
    return this.model.getModel("axisTick");
  }, t5.prototype.getBandWidth = function() {
    var t6 = this._extent, i2 = this.scale.getExtent(), n2 = i2[1] - i2[0] + (this.onBand ? 1 : 0);
    0 === n2 && (n2 = 1);
    var r2 = Math.abs(t6[1] - t6[0]);
    return Math.abs(r2) / n2;
  }, t5.prototype.calculateCategoryInterval = function() {
    return (function(t6) {
      var i2 = (function(t7) {
        var i3 = t7.getLabelModel();
        return { axisRotate: t7.getRotate ? t7.getRotate() : t7.isHorizontal && !t7.isHorizontal() ? 90 : 0, labelRotate: i3.get("rotate") || 0, font: i3.getFont() };
      })(t6), n2 = nk(t6), r2 = (i2.axisRotate - i2.labelRotate) / 180 * Math.PI, e2 = t6.scale, o2 = e2.getExtent(), a2 = e2.count();
      if (o2[1] - o2[0] < 1) return 0;
      var s2 = 1;
      a2 > 40 && (s2 = Math.max(1, Math.floor(a2 / 40)));
      for (var l2 = o2[0], u2 = t6.dataToCoord(l2 + 1) - t6.dataToCoord(l2), f2 = Math.abs(u2 * Math.cos(r2)), c2 = Math.abs(u2 * Math.sin(r2)), h2 = 0, v2 = 0; l2 <= o2[1]; l2 += s2) {
        var d2, p2 = Va(n2({ value: l2 }), i2.font, "center", "top");
        d2 = 1.3 * p2.height, h2 = Math.max(h2, 1.3 * p2.width, 7), v2 = Math.max(v2, d2, 7);
      }
      var m2 = h2 / f2, b2 = v2 / c2;
      isNaN(m2) && (m2 = 1 / 0), isNaN(b2) && (b2 = 1 / 0);
      var g3 = Math.max(0, Math.floor(Math.min(m2, b2))), y2 = xk(t6.model), w3 = t6.getExtent(), x2 = y2.lastAutoInterval, k2 = y2.lastTickCount;
      return null != x2 && null != k2 && Math.abs(x2 - g3) <= 1 && Math.abs(k2 - a2) <= 1 && x2 > g3 && y2.axisExtent0 === w3[0] && y2.axisExtent1 === w3[1] ? g3 = x2 : (y2.lastTickCount = a2, y2.lastAutoInterval = g3, y2.axisExtent0 = w3[0], y2.axisExtent1 = w3[1]), g3;
    })(this);
  }, t5;
})();
function Ik(t5, i2) {
  var n2 = (t5[1] - t5[0]) / i2 / 2;
  t5[0] += n2, t5[1] -= n2;
}
var Lk = 2 * Math.PI, Dk = bu.CMD, Wk = ["top", "right", "bottom", "left"];
function Ek(t5, i2, n2, r2, e2) {
  var o2 = n2.width, a2 = n2.height;
  switch (t5) {
    case "top":
      r2.set(n2.x + o2 / 2, n2.y - i2), e2.set(0, -1);
      break;
    case "bottom":
      r2.set(n2.x + o2 / 2, n2.y + a2 + i2), e2.set(0, 1);
      break;
    case "left":
      r2.set(n2.x - i2, n2.y + a2 / 2), e2.set(-1, 0);
      break;
    case "right":
      r2.set(n2.x + o2 + i2, n2.y + a2 / 2), e2.set(1, 0);
  }
}
function Ok(t5, i2, n2, r2, e2, o2, a2, s2, l2) {
  a2 -= t5, s2 -= i2;
  var u2 = Math.sqrt(a2 * a2 + s2 * s2), f2 = (a2 /= u2) * n2 + t5, c2 = (s2 /= u2) * n2 + i2;
  if (Math.abs(r2 - e2) % Lk < 1e-4) return l2[0] = f2, l2[1] = c2, u2 - n2;
  if (o2) {
    var h2 = r2;
    r2 = ku(e2), e2 = ku(h2);
  } else r2 = ku(r2), e2 = ku(e2);
  r2 > e2 && (e2 += Lk);
  var v2 = Math.atan2(s2, a2);
  if (v2 < 0 && (v2 += Lk), v2 >= r2 && v2 <= e2 || v2 + Lk >= r2 && v2 + Lk <= e2) return l2[0] = f2, l2[1] = c2, u2 - n2;
  var d2 = n2 * Math.cos(r2) + t5, p2 = n2 * Math.sin(r2) + i2, m2 = n2 * Math.cos(e2) + t5, b2 = n2 * Math.sin(e2) + i2, g3 = (d2 - a2) * (d2 - a2) + (p2 - s2) * (p2 - s2), y2 = (m2 - a2) * (m2 - a2) + (b2 - s2) * (b2 - s2);
  return g3 < y2 ? (l2[0] = d2, l2[1] = p2, Math.sqrt(g3)) : (l2[0] = m2, l2[1] = b2, Math.sqrt(y2));
}
function Fk(t5, i2, n2, r2, e2, o2, a2, s2) {
  var l2 = e2 - t5, u2 = o2 - i2, f2 = n2 - t5, c2 = r2 - i2, h2 = Math.sqrt(f2 * f2 + c2 * c2), v2 = (l2 * (f2 /= h2) + u2 * (c2 /= h2)) / h2;
  s2 && (v2 = Math.min(Math.max(v2, 0), 1));
  var d2 = a2[0] = t5 + (v2 *= h2) * f2, p2 = a2[1] = i2 + v2 * c2;
  return Math.sqrt((d2 - e2) * (d2 - e2) + (p2 - o2) * (p2 - o2));
}
function Rk(t5, i2, n2, r2, e2, o2, a2) {
  n2 < 0 && (t5 += n2, n2 = -n2), r2 < 0 && (i2 += r2, r2 = -r2);
  var s2 = t5 + n2, l2 = i2 + r2, u2 = a2[0] = Math.min(Math.max(e2, t5), s2), f2 = a2[1] = Math.min(Math.max(o2, i2), l2);
  return Math.sqrt((u2 - e2) * (u2 - e2) + (f2 - o2) * (f2 - o2));
}
var Pk = [];
function Bk(t5, i2, n2) {
  var r2 = Rk(i2.x, i2.y, i2.width, i2.height, t5.x, t5.y, Pk);
  return n2.set(Pk[0], Pk[1]), r2;
}
function Vk(t5, i2, n2) {
  for (var r2, e2, o2 = 0, a2 = 0, s2 = 0, l2 = 0, u2 = 1 / 0, f2 = i2.data, c2 = t5.x, h2 = t5.y, v2 = 0; v2 < f2.length; ) {
    var d2 = f2[v2++];
    1 === v2 && (s2 = o2 = f2[v2], l2 = a2 = f2[v2 + 1]);
    var p2 = u2;
    switch (d2) {
      case Dk.M:
        o2 = s2 = f2[v2++], a2 = l2 = f2[v2++];
        break;
      case Dk.L:
        p2 = Fk(o2, a2, f2[v2], f2[v2 + 1], c2, h2, Pk, true), o2 = f2[v2++], a2 = f2[v2++];
        break;
      case Dk.C:
        p2 = Ge(o2, a2, f2[v2++], f2[v2++], f2[v2++], f2[v2++], f2[v2], f2[v2 + 1], c2, h2, Pk), o2 = f2[v2++], a2 = f2[v2++];
        break;
      case Dk.Q:
        p2 = to(o2, a2, f2[v2++], f2[v2++], f2[v2], f2[v2 + 1], c2, h2, Pk), o2 = f2[v2++], a2 = f2[v2++];
        break;
      case Dk.A:
        var m2 = f2[v2++], b2 = f2[v2++], g3 = f2[v2++], y2 = f2[v2++], w3 = f2[v2++], x2 = f2[v2++];
        v2 += 1;
        var k2 = !!(1 - f2[v2++]);
        r2 = Math.cos(w3) * g3 + m2, e2 = Math.sin(w3) * y2 + b2, v2 <= 1 && (s2 = r2, l2 = e2), p2 = Ok(m2, b2, y2, w3, w3 + x2, k2, (c2 - m2) * y2 / g3 + m2, h2, Pk), o2 = Math.cos(w3 + x2) * g3 + m2, a2 = Math.sin(w3 + x2) * y2 + b2;
        break;
      case Dk.R:
        p2 = Rk(s2 = o2 = f2[v2++], l2 = a2 = f2[v2++], f2[v2++], f2[v2++], c2, h2, Pk);
        break;
      case Dk.Z:
        p2 = Fk(o2, a2, s2, l2, c2, h2, Pk, true), o2 = s2, a2 = l2;
    }
    p2 < u2 && (u2 = p2, n2.set(Pk[0], Pk[1]));
  }
  return u2;
}
var jk = new ne(), Hk = new ne(), Yk = new ne(), Xk = new ne(), Uk = new ne();
function $k(t5, i2) {
  if (t5) {
    var n2 = t5.getTextGuideLine(), r2 = t5.getTextContent();
    if (r2 && n2) {
      var e2 = t5.textGuideLineConfig || {}, o2 = [[0, 0], [0, 0], [0, 0]], a2 = e2.candidates || Wk, s2 = r2.getBoundingRect().clone();
      s2.applyTransform(r2.getComputedTransform());
      var l2 = 1 / 0, u2 = e2.anchor, f2 = t5.getComputedTransform(), c2 = f2 && ie([], f2), h2 = i2.get("length2") || 0;
      u2 && Yk.copy(u2);
      for (var v2 = 0; v2 < a2.length; v2++) {
        Ek(a2[v2], 0, s2, jk, Xk), ne.scaleAndAdd(Hk, jk, Xk, h2), Hk.transform(c2);
        var d2 = t5.getBoundingRect(), p2 = u2 ? u2.distance(Hk) : t5 instanceof Fu ? Vk(Hk, t5.path, Yk) : Bk(Hk, d2, Yk);
        p2 < l2 && (l2 = p2, Hk.transform(f2), Yk.transform(f2), Yk.toArray(o2[0]), Hk.toArray(o2[1]), jk.toArray(o2[2]));
      }
      qk(o2, i2.get("minTurnAngle")), n2.setShape({ points: o2 });
    }
  }
}
var Gk = [], Zk = new ne();
function qk(t5, i2) {
  if (i2 <= 180 && i2 > 0) {
    i2 = i2 / 180 * Math.PI, jk.fromArray(t5[0]), Hk.fromArray(t5[1]), Yk.fromArray(t5[2]), ne.sub(Xk, jk, Hk), ne.sub(Uk, Yk, Hk);
    var n2 = Xk.len(), r2 = Uk.len();
    if (!(n2 < 1e-3 || r2 < 1e-3)) {
      Xk.scale(1 / n2), Uk.scale(1 / r2);
      var e2 = Xk.dot(Uk);
      if (Math.cos(i2) < e2) {
        var o2 = Fk(Hk.x, Hk.y, Yk.x, Yk.y, jk.x, jk.y, Gk, false);
        Zk.fromArray(Gk), Zk.scaleAndAdd(Uk, o2 / Math.tan(Math.PI - i2));
        var a2 = Yk.x !== Hk.x ? (Zk.x - Hk.x) / (Yk.x - Hk.x) : (Zk.y - Hk.y) / (Yk.y - Hk.y);
        if (isNaN(a2)) return;
        a2 < 0 ? ne.copy(Zk, Hk) : a2 > 1 && ne.copy(Zk, Yk), Zk.toArray(t5[1]);
      }
    }
  }
}
function Jk(t5, i2, n2) {
  if (n2 <= 180 && n2 > 0) {
    n2 = n2 / 180 * Math.PI, jk.fromArray(t5[0]), Hk.fromArray(t5[1]), Yk.fromArray(t5[2]), ne.sub(Xk, Hk, jk), ne.sub(Uk, Yk, Hk);
    var r2 = Xk.len(), e2 = Uk.len();
    if (!(r2 < 1e-3 || e2 < 1e-3) && (Xk.scale(1 / r2), Uk.scale(1 / e2), Xk.dot(i2) < Math.cos(n2))) {
      var o2 = Fk(Hk.x, Hk.y, Yk.x, Yk.y, jk.x, jk.y, Gk, false);
      Zk.fromArray(Gk);
      var a2 = Math.PI / 2, s2 = a2 + Math.acos(Uk.dot(i2)) - n2;
      if (s2 >= a2) ne.copy(Zk, Yk);
      else {
        Zk.scaleAndAdd(Uk, o2 / Math.tan(Math.PI / 2 - s2));
        var l2 = Yk.x !== Hk.x ? (Zk.x - Hk.x) / (Yk.x - Hk.x) : (Zk.y - Hk.y) / (Yk.y - Hk.y);
        if (isNaN(l2)) return;
        l2 < 0 ? ne.copy(Zk, Hk) : l2 > 1 && ne.copy(Zk, Yk);
      }
      Zk.toArray(t5[1]);
    }
  }
}
function Kk(t5, i2, n2, r2) {
  var e2 = "normal" === n2, o2 = e2 ? t5 : t5.ensureState(n2);
  o2.ignore = i2;
  var a2 = r2.get("smooth");
  a2 && true === a2 && (a2 = 0.3), o2.shape = o2.shape || {}, a2 > 0 && (o2.shape.smooth = a2);
  var s2 = r2.getModel("lineStyle").getLineStyle();
  e2 ? t5.useStyle(s2) : o2.style = s2;
}
function Qk(t5, i2) {
  var n2 = i2.smooth, r2 = i2.points;
  if (r2) if (t5.moveTo(r2[0][0], r2[0][1]), n2 > 0 && r2.length >= 3) {
    var e2 = br(r2[0], r2[1]), o2 = br(r2[1], r2[2]);
    if (!e2 || !o2) return t5.lineTo(r2[1][0], r2[1][1]), void t5.lineTo(r2[2][0], r2[2][1]);
    var a2 = Math.min(e2, o2) * n2, s2 = yr([], r2[1], r2[0], a2 / e2), l2 = yr([], r2[1], r2[2], a2 / o2), u2 = yr([], s2, l2, 0.5);
    t5.bezierCurveTo(s2[0], s2[1], s2[0], s2[1], u2[0], u2[1]), t5.bezierCurveTo(l2[0], l2[1], l2[0], l2[1], r2[2][0], r2[2][1]);
  } else for (var f2 = 1; f2 < r2.length; f2++) t5.lineTo(r2[f2][0], r2[f2][1]);
}
function tM(t5, i2, n2) {
  var r2 = t5.getTextGuideLine(), e2 = t5.getTextContent();
  if (e2) {
    for (var o2 = i2.normal, a2 = o2.get("show"), s2 = e2.ignore, l2 = 0; l2 < yf.length; l2++) {
      var u2 = yf[l2], f2 = i2[u2], c2 = "normal" === u2;
      if (f2) {
        var h2 = f2.get("show");
        if ((c2 ? s2 : Vn(e2.states[u2] && e2.states[u2].ignore, s2)) || !Vn(h2, a2)) {
          var v2 = c2 ? r2 : r2 && r2.states[u2];
          v2 && (v2.ignore = true), r2 && Kk(r2, true, u2, f2);
          continue;
        }
        r2 || (r2 = new Qc(), t5.setTextGuideLine(r2), c2 || !s2 && a2 || Kk(r2, true, "normal", i2.normal), t5.stateProxy && (r2.stateProxy = t5.stateProxy)), Kk(r2, false, u2, f2);
      }
    }
    if (r2) {
      gn(r2.style, n2), r2.style.fill = null;
      var d2 = o2.get("showAbove");
      (t5.textGuideLineConfig = t5.textGuideLineConfig || {}).showAbove = d2 || false, r2.buildPath = Qk;
    }
  } else r2 && t5.removeTextGuideLine();
}
function iM(t5, i2) {
  for (var n2 = { normal: t5.getModel(i2 = i2 || "labelLine") }, r2 = 0; r2 < gf.length; r2++) {
    var e2 = gf[r2];
    n2[e2] = t5.getModel([e2, i2]);
  }
  return n2;
}
function nM(t5) {
  for (var i2 = [], n2 = 0; n2 < t5.length; n2++) {
    var r2 = t5[n2];
    if (!r2.defaultAttr.ignore) {
      var e2 = r2.label, o2 = e2.getComputedTransform(), a2 = e2.getBoundingRect(), s2 = !o2 || o2[1] < 1e-5 && o2[2] < 1e-5, l2 = e2.style.margin || 0, u2 = a2.clone();
      u2.applyTransform(o2), u2.x -= l2 / 2, u2.y -= l2 / 2, u2.width += l2, u2.height += l2;
      var f2 = s2 ? new bh(a2, o2) : null;
      i2.push({ label: e2, labelLine: r2.labelLine, rect: u2, localRect: a2, obb: f2, priority: r2.priority, defaultAttr: r2.defaultAttr, layoutOption: r2.computedLayoutOption, axisAligned: s2, transform: o2 });
    }
  }
  return i2;
}
function rM(t5, i2, n2, r2, e2) {
  var o2 = t5.length;
  if (!(o2 < 2)) {
    t5.sort((function(t6, n3) {
      return t6.rect[i2] - n3.rect[i2];
    }));
    for (var a2, s2 = 0, l2 = false, u2 = 0; u2 < o2; u2++) {
      var f2 = t5[u2], c2 = f2.rect;
      (a2 = c2[i2] - s2) < 0 && (c2[i2] -= a2, f2.label[i2] -= a2, l2 = true), s2 = c2[i2] + c2[n2];
    }
    var h2, v2, d2 = t5[0], p2 = t5[o2 - 1];
    return m2(), h2 < 0 && y2(-h2, 0.8), v2 < 0 && y2(v2, 0.8), m2(), b2(h2, v2, 1), b2(v2, h2, -1), m2(), h2 < 0 && w3(-h2), v2 < 0 && w3(v2), l2;
  }
  function m2() {
    h2 = d2.rect[i2] - r2, v2 = e2 - p2.rect[i2] - p2.rect[n2];
  }
  function b2(t6, i3, n3) {
    if (t6 < 0) {
      var r3 = Math.min(i3, -t6);
      if (r3 > 0) {
        g3(r3 * n3, 0, o2);
        var e3 = r3 + t6;
        e3 < 0 && y2(-e3 * n3, 1);
      } else y2(-t6 * n3, 1);
    }
  }
  function g3(n3, r3, e3) {
    0 !== n3 && (l2 = true);
    for (var o3 = r3; o3 < e3; o3++) {
      var a3 = t5[o3];
      a3.rect[i2] += n3, a3.label[i2] += n3;
    }
  }
  function y2(r3, e3) {
    for (var a3 = [], s3 = 0, l3 = 1; l3 < o2; l3++) {
      var u3 = t5[l3 - 1].rect, f3 = Math.max(t5[l3].rect[i2] - u3[i2] - u3[n2], 0);
      a3.push(f3), s3 += f3;
    }
    if (s3) {
      var c3 = Math.min(Math.abs(r3) / s3, e3);
      if (r3 > 0) for (l3 = 0; l3 < o2 - 1; l3++) g3(a3[l3] * c3, 0, l3 + 1);
      else for (l3 = o2 - 1; l3 > 0; l3--) g3(-a3[l3 - 1] * c3, l3, o2);
    }
  }
  function w3(t6) {
    var i3 = t6 < 0 ? -1 : 1;
    t6 = Math.abs(t6);
    for (var n3 = Math.ceil(t6 / (o2 - 1)), r3 = 0; r3 < o2 - 1; r3++) if (i3 > 0 ? g3(n3, 0, r3 + 1) : g3(-n3, o2 - r3 - 1, o2), (t6 -= n3) <= 0) return;
  }
}
function eM(t5, i2, n2) {
  return rM(t5, "y", "height", i2, n2);
}
function oM(t5) {
  var i2 = [];
  t5.sort((function(t6, i3) {
    return i3.priority - t6.priority;
  }));
  var n2 = new ce(0, 0, 0, 0);
  function r2(t6) {
    if (!t6.ignore) {
      var i3 = t6.ensureState("emphasis");
      null == i3.ignore && (i3.ignore = false);
    }
    t6.ignore = true;
  }
  for (var e2 = 0; e2 < t5.length; e2++) {
    var o2 = t5[e2], a2 = o2.axisAligned, s2 = o2.localRect, l2 = o2.transform, u2 = o2.label, f2 = o2.labelLine;
    n2.copy(o2.rect), n2.width -= 0.1, n2.height -= 0.1, n2.x += 0.05, n2.y += 0.05;
    for (var c2 = o2.obb, h2 = false, v2 = 0; v2 < i2.length; v2++) {
      var d2 = i2[v2];
      if (n2.intersect(d2.rect)) {
        if (a2 && d2.axisAligned) {
          h2 = true;
          break;
        }
        if (d2.obb || (d2.obb = new bh(d2.localRect, d2.transform)), c2 || (c2 = new bh(s2, l2)), c2.intersect(d2.obb)) {
          h2 = true;
          break;
        }
      }
    }
    h2 ? (r2(u2), f2 && r2(f2)) : (u2.attr("ignore", o2.defaultAttr.ignore), f2 && f2.attr("ignore", o2.defaultAttr.labelGuideIgnore), i2.push(o2));
  }
}
function aM(t5) {
  if (t5) {
    for (var i2 = [], n2 = 0; n2 < t5.length; n2++) i2.push(t5[n2].slice());
    return i2;
  }
}
function sM(t5, i2) {
  var n2 = t5.label, r2 = i2 && i2.getTextGuideLine();
  return { dataIndex: t5.dataIndex, dataType: t5.dataType, seriesIndex: t5.seriesModel.seriesIndex, text: t5.label.style.text, rect: t5.hostRect, labelRect: t5.rect, align: n2.style.align, verticalAlign: n2.style.verticalAlign, labelLinePoints: aM(r2 && r2.shape.points) };
}
var lM = ["align", "verticalAlign", "width", "height", "fontSize"], uM = new Ea(), fM = Xs(), cM = Xs();
function hM(t5, i2, n2) {
  for (var r2 = 0; r2 < n2.length; r2++) {
    var e2 = n2[r2];
    null != i2[e2] && (t5[e2] = i2[e2]);
  }
}
var vM = ["x", "y", "rotation"], dM = (function() {
  function t5() {
    this._labelList = [], this._chartViewList = [];
  }
  return t5.prototype.clearLabels = function() {
    this._labelList = [], this._chartViewList = [];
  }, t5.prototype._addLabel = function(t6, i2, n2, r2, e2) {
    var o2 = r2.style, a2 = r2.__hostTarget.textConfig || {}, s2 = r2.getComputedTransform(), l2 = r2.getBoundingRect().plain();
    ce.applyTransform(l2, l2, s2), s2 ? uM.setLocalTransform(s2) : (uM.x = uM.y = uM.rotation = uM.originX = uM.originY = 0, uM.scaleX = uM.scaleY = 1), uM.rotation = ku(uM.rotation);
    var u2, f2 = r2.__hostTarget;
    if (f2) {
      u2 = f2.getBoundingRect().plain();
      var c2 = f2.getComputedTransform();
      ce.applyTransform(u2, u2, c2);
    }
    var h2 = u2 && f2.getTextGuideLine();
    this._labelList.push({ label: r2, labelLine: h2, seriesModel: n2, dataIndex: t6, dataType: i2, layoutOption: e2, computedLayoutOption: null, rect: l2, hostRect: u2, priority: u2 ? u2.width * u2.height : 0, defaultAttr: { ignore: r2.ignore, labelGuideIgnore: h2 && h2.ignore, x: uM.x, y: uM.y, scaleX: uM.scaleX, scaleY: uM.scaleY, rotation: uM.rotation, style: { x: o2.x, y: o2.y, align: o2.align, verticalAlign: o2.verticalAlign, width: o2.width, height: o2.height, fontSize: o2.fontSize }, cursor: r2.cursor, attachedPos: a2.position, attachedRot: a2.rotation } });
  }, t5.prototype.addLabelsOfSeries = function(t6) {
    var i2 = this;
    this._chartViewList.push(t6);
    var n2 = t6.__model, r2 = n2.get("labelLayout");
    (Tn(r2) || Cn(r2).length) && t6.group.traverse((function(t7) {
      if (t7.ignore) return true;
      var e2 = t7.getTextContent(), o2 = hf(t7);
      e2 && !e2.disableLabelLayout && i2._addLabel(o2.dataIndex, o2.dataType, n2, e2, r2);
    }));
  }, t5.prototype.updateLayoutConfig = function(t6) {
    var i2 = t6.getWidth(), n2 = t6.getHeight();
    function r2(t7, i3) {
      return function() {
        $k(t7, i3);
      };
    }
    for (var e2 = 0; e2 < this._labelList.length; e2++) {
      var o2 = this._labelList[e2], a2 = o2.label, s2 = a2.__hostTarget, l2 = o2.defaultAttr, u2 = void 0;
      u2 = Tn(o2.layoutOption) ? o2.layoutOption(sM(o2, s2)) : o2.layoutOption, o2.computedLayoutOption = u2 = u2 || {};
      var f2 = Math.PI / 180;
      s2 && s2.setTextConfig({ local: false, position: null != u2.x || null != u2.y ? null : l2.attachedPos, rotation: null != u2.rotate ? u2.rotate * f2 : l2.attachedRot, offset: [u2.dx || 0, u2.dy || 0] });
      var c2 = false;
      if (null != u2.x ? (a2.x = us(u2.x, i2), a2.setStyle("x", 0), c2 = true) : (a2.x = l2.x, a2.setStyle("x", l2.style.x)), null != u2.y ? (a2.y = us(u2.y, n2), a2.setStyle("y", 0), c2 = true) : (a2.y = l2.y, a2.setStyle("y", l2.style.y)), u2.labelLinePoints) {
        var h2 = s2.getTextGuideLine();
        h2 && (h2.setShape({ points: u2.labelLinePoints }), c2 = false);
      }
      fM(a2).needsUpdateLabelLine = c2, a2.rotation = null != u2.rotate ? u2.rotate * f2 : l2.rotation, a2.scaleX = l2.scaleX, a2.scaleY = l2.scaleY;
      for (var v2 = 0; v2 < lM.length; v2++) {
        var d2 = lM[v2];
        a2.setStyle(d2, null != u2[d2] ? u2[d2] : l2.style[d2]);
      }
      if (u2.draggable) {
        if (a2.draggable = true, a2.cursor = "move", s2) {
          var p2 = o2.seriesModel;
          null != o2.dataIndex && (p2 = o2.seriesModel.getData(o2.dataType).getItemModel(o2.dataIndex)), a2.on("drag", r2(s2, p2.getModel("labelLine")));
        }
      } else a2.off("drag"), a2.cursor = l2.cursor;
    }
  }, t5.prototype.layout = function(t6) {
    var i2 = t6.getWidth(), n2 = t6.getHeight(), r2 = nM(this._labelList), e2 = Sn(r2, (function(t7) {
      return "shiftX" === t7.layoutOption.moveOverlap;
    })), o2 = Sn(r2, (function(t7) {
      return "shiftY" === t7.layoutOption.moveOverlap;
    }));
    rM(e2, "x", "width", 0, i2), eM(o2, 0, n2), oM(Sn(r2, (function(t7) {
      return t7.layoutOption.hideOverlap;
    })));
  }, t5.prototype.processLabelsOverall = function() {
    var t6 = this;
    kn(this._chartViewList, (function(i2) {
      var n2 = i2.__model, r2 = i2.ignoreLabelLineUpdate, e2 = n2.isAnimationEnabled();
      i2.group.traverse((function(i3) {
        if (i3.ignore && !i3.forceLabelAnimation) return true;
        var o2 = !r2, a2 = i3.getTextContent();
        !o2 && a2 && (o2 = fM(a2).needsUpdateLabelLine), o2 && t6._updateLabelLine(i3, n2), e2 && t6._animateLabels(i3, n2);
      }));
    }));
  }, t5.prototype._updateLabelLine = function(t6, i2) {
    var n2 = t6.getTextContent(), r2 = hf(t6), e2 = r2.dataIndex;
    if (n2 && null != e2) {
      var o2 = i2.getData(r2.dataType), a2 = o2.getItemModel(e2), s2 = {}, l2 = o2.getItemVisual(e2, "style");
      if (l2) {
        var u2 = o2.getVisual("drawType");
        s2.stroke = l2[u2];
      }
      var f2 = a2.getModel("labelLine");
      tM(t6, iM(a2), s2), $k(t6, f2);
    }
  }, t5.prototype._animateLabels = function(t6, i2) {
    var n2 = t6.getTextContent(), r2 = t6.getTextGuideLine();
    if (n2 && (t6.forceLabelAnimation || !n2.ignore && !n2.invisible && !t6.disableLabelAnimation && !Sh(t6))) {
      var e2 = (v2 = fM(n2)).oldLayout, o2 = hf(t6), a2 = o2.dataIndex, s2 = { x: n2.x, y: n2.y, rotation: n2.rotation }, l2 = i2.getData(o2.dataType);
      if (e2) {
        n2.attr(e2);
        var u2 = t6.prevStates;
        u2 && (yn(u2, "select") >= 0 && n2.attr(v2.oldLayoutSelect), yn(u2, "emphasis") >= 0 && n2.attr(v2.oldLayoutEmphasis)), Mh(n2, s2, i2, a2);
      } else if (n2.attr(s2), !dv(n2).valueAnimation) {
        var f2 = Vn(n2.style.opacity, 1);
        n2.style.opacity = 0, zh(n2, { style: { opacity: f2 } }, i2, a2);
      }
      if (v2.oldLayout = s2, n2.states.select) {
        var c2 = v2.oldLayoutSelect = {};
        hM(c2, s2, vM), hM(c2, n2.states.select, vM);
      }
      if (n2.states.emphasis) {
        var h2 = v2.oldLayoutEmphasis = {};
        hM(h2, s2, vM), hM(h2, n2.states.emphasis, vM);
      }
      mv(n2, a2, l2, i2, i2);
    }
    if (r2 && !r2.ignore && !r2.invisible) {
      var v2 = cM(r2), d2 = { points: r2.shape.points };
      (e2 = v2.oldLayout) ? (r2.attr({ shape: e2 }), Mh(r2, { shape: d2 }, i2)) : (r2.setShape(d2), r2.style.strokePercent = 0, zh(r2, { style: { strokePercent: 1 } }, i2)), v2.oldLayout = d2;
    }
  }, t5;
})(), pM = Xs(), mM = Math.sin, bM = Math.cos, gM = Math.PI, yM = 2 * Math.PI, wM = 180 / gM, xM = (function() {
  function t5() {
  }
  return t5.prototype.reset = function(t6) {
    this._start = true, this._d = [], this._str = "", this._p = Math.pow(10, t6 || 4);
  }, t5.prototype.moveTo = function(t6, i2) {
    this._add("M", t6, i2);
  }, t5.prototype.lineTo = function(t6, i2) {
    this._add("L", t6, i2);
  }, t5.prototype.bezierCurveTo = function(t6, i2, n2, r2, e2, o2) {
    this._add("C", t6, i2, n2, r2, e2, o2);
  }, t5.prototype.quadraticCurveTo = function(t6, i2, n2, r2) {
    this._add("Q", t6, i2, n2, r2);
  }, t5.prototype.arc = function(t6, i2, n2, r2, e2, o2) {
    this.ellipse(t6, i2, n2, n2, 0, r2, e2, o2);
  }, t5.prototype.ellipse = function(t6, i2, n2, r2, e2, o2, a2, s2) {
    var l2, u2 = a2 - o2, f2 = !s2, c2 = Math.abs(u2), h2 = Do(c2 - yM) || (f2 ? u2 >= yM : -u2 >= yM), v2 = u2 > 0 ? u2 % yM : u2 % yM + yM;
    l2 = !!h2 || !Do(c2) && v2 >= gM == !!f2;
    var d2 = t6 + n2 * bM(o2), p2 = i2 + r2 * mM(o2);
    this._start && this._add("M", d2, p2);
    var m2 = Math.round(e2 * wM);
    if (h2) {
      var b2 = 1 / this._p, g3 = (f2 ? 1 : -1) * (yM - b2);
      this._add("A", n2, r2, m2, 1, +f2, t6 + n2 * bM(o2 + g3), i2 + r2 * mM(o2 + g3)), b2 > 0.01 && this._add("A", n2, r2, m2, 0, +f2, d2, p2);
    } else {
      var y2 = t6 + n2 * bM(a2), w3 = i2 + r2 * mM(a2);
      this._add("A", n2, r2, m2, +l2, +f2, y2, w3);
    }
  }, t5.prototype.rect = function(t6, i2, n2, r2) {
    this._add("M", t6, i2), this._add("l", n2, 0), this._add("l", 0, r2), this._add("l", -n2, 0), this._add("Z");
  }, t5.prototype.closePath = function() {
    this._d.length > 0 && this._add("Z");
  }, t5.prototype._add = function(t6, i2, n2, r2, e2, o2, a2, s2, l2) {
    for (var u2 = [], f2 = this._p, c2 = 1; c2 < arguments.length; c2++) {
      var h2 = arguments[c2];
      if (isNaN(h2)) return void (this._invalid = true);
      u2.push(Math.round(h2 * f2) / f2);
    }
    this._d.push(t6 + u2.join(" ")), this._start = "Z" === t6;
  }, t5.prototype.generateStr = function() {
    this._str = this._invalid ? "" : this._d.join(""), this._d = [];
  }, t5.prototype.getStr = function() {
    return this._str;
  }, t5;
})(), kM = "none", MM = Math.round, zM = ["lineCap", "miterLimit", "lineJoin"], SM = Mn(zM, (function(t5) {
  return "stroke-" + t5.toLowerCase();
}));
var CM = "http://www.w3.org/2000/svg", AM = "http://www.w3.org/1999/xlink", NM = "ecmeta_";
function _M(t5) {
  return document.createElementNS(CM, t5);
}
function TM(t5, i2, n2, r2, e2) {
  return { tag: t5, attrs: n2 || {}, children: r2, text: e2, key: i2 };
}
function IM(t5, i2) {
  var n2 = (i2 = i2 || {}).newline ? "\n" : "";
  return (function t6(i3) {
    var r2 = i3.children, e2 = i3.tag, o2 = i3.text;
    return (function(t7, i4) {
      var n3 = [];
      if (i4) for (var r3 in i4) {
        var e3 = i4[r3], o3 = r3;
        false !== e3 && (true !== e3 && null != e3 && (o3 += '="' + e3 + '"'), n3.push(o3));
      }
      return "<" + t7 + " " + n3.join(" ") + ">";
    })(e2, i3.attrs) + ("style" !== e2 ? Er(o2) : o2 || "") + (r2 ? "" + n2 + Mn(r2, (function(i4) {
      return t6(i4);
    })).join(n2) + n2 : "") + "</" + e2 + ">";
  })(t5);
}
function LM(t5) {
  return { zrId: t5, shadowCache: {}, patternCache: {}, gradientCache: {}, clipPathCache: {}, defs: {}, cssNodes: {}, cssAnims: {}, cssStyleCache: {}, cssAnimIdx: 0, shadowIdx: 0, gradientIdx: 0, patternIdx: 0, clipPathIdx: 0 };
}
function DM(t5, i2, n2, r2) {
  return TM("svg", "root", { width: t5, height: i2, xmlns: CM, "xmlns:xlink": AM, version: "1.1", baseProfile: "full", viewBox: !!r2 && "0 0 " + t5 + " " + i2 }, n2);
}
var WM = 0;
function EM() {
  return WM++;
}
var OM = { cubicIn: "0.32,0,0.67,0", cubicOut: "0.33,1,0.68,1", cubicInOut: "0.65,0,0.35,1", quadraticIn: "0.11,0,0.5,0", quadraticOut: "0.5,1,0.89,1", quadraticInOut: "0.45,0,0.55,1", quarticIn: "0.5,0,0.75,0", quarticOut: "0.25,1,0.5,1", quarticInOut: "0.76,0,0.24,1", quinticIn: "0.64,0,0.78,0", quinticOut: "0.22,1,0.36,1", quinticInOut: "0.83,0,0.17,1", sinusoidalIn: "0.12,0,0.39,0", sinusoidalOut: "0.61,1,0.88,1", sinusoidalInOut: "0.37,0,0.63,1", exponentialIn: "0.7,0,0.84,0", exponentialOut: "0.16,1,0.3,1", exponentialInOut: "0.87,0,0.13,1", circularIn: "0.55,0,1,0.45", circularOut: "0,0.55,0.45,1", circularInOut: "0.85,0,0.15,1" }, FM = "transform-origin";
function RM(t5, i2, n2) {
  var r2 = bn({}, t5.shape);
  bn(r2, i2), t5.buildPath(n2, r2);
  var e2 = new xM();
  return e2.reset(Ho(t5)), n2.rebuildPath(e2, 1), e2.generateStr(), e2.getStr();
}
function PM(t5, i2) {
  var n2 = i2.originX, r2 = i2.originY;
  (n2 || r2) && (t5[FM] = n2 + "px " + r2 + "px");
}
var BM = { fill: "fill", opacity: "opacity", lineWidth: "stroke-width", lineDashOffset: "stroke-dashoffset" };
function VM(t5, i2) {
  var n2 = i2.zrId + "-ani-" + i2.cssAnimIdx++;
  return i2.cssAnims[n2] = t5, n2;
}
function jM(t5) {
  return In(t5) ? OM[t5] ? "cubic-bezier(" + OM[t5] + ")" : ro(t5) ? t5 : "" : "";
}
function HM(t5, i2, n2, r2) {
  var e2 = t5.animators, o2 = e2.length, a2 = [];
  if (t5 instanceof uh) {
    var s2 = (function(t6, i3, n3) {
      var r3, e3, o3 = {};
      if (kn(t6.shape.paths, (function(t7) {
        var i4 = LM(n3.zrId);
        i4.animation = true, HM(t7, {}, i4, true);
        var a4 = i4.cssAnims, s3 = i4.cssNodes, l3 = Cn(a4), u3 = l3.length;
        if (u3) {
          var f3 = a4[e3 = l3[u3 - 1]];
          for (var c3 in f3) {
            var h3 = f3[c3];
            o3[c3] = o3[c3] || { d: "" }, o3[c3].d += h3.d || "";
          }
          for (var v3 in s3) {
            var d3 = s3[v3].animation;
            d3.indexOf(e3) >= 0 && (r3 = d3);
          }
        }
      })), r3) {
        i3.d = false;
        var a3 = VM(o3, n3);
        return r3.replace(e3, a3);
      }
    })(t5, i2, n2);
    if (s2) a2.push(s2);
    else if (!o2) return;
  } else if (!o2) return;
  for (var l2 = {}, u2 = 0; u2 < o2; u2++) {
    var f2 = e2[u2], c2 = [f2.getMaxTime() / 1e3 + "s"], h2 = jM(f2.getClip().easing), v2 = f2.getDelay();
    c2.push(h2 || "linear"), v2 && c2.push(v2 / 1e3 + "s"), f2.getLoop() && c2.push("infinite");
    var d2 = c2.join(" ");
    l2[d2] = l2[d2] || [d2, []], l2[d2][1].push(f2);
  }
  function p2(e3) {
    var o3, a3 = e3[1], s3 = a3.length, l3 = {}, u3 = {}, f3 = {}, c3 = "animation-timing-function";
    function h3(t6, i3, n3) {
      for (var r3 = t6.getTracks(), e4 = t6.getMaxTime(), o4 = 0; o4 < r3.length; o4++) {
        var a4 = r3[o4];
        if (a4.needsAnimate()) {
          var s4 = a4.keyframes, l4 = a4.propName;
          if (n3 && (l4 = n3(l4)), l4) for (var u4 = 0; u4 < s4.length; u4++) {
            var f4 = s4[u4], h4 = Math.round(f4.time / e4 * 100) + "%", v4 = jM(f4.easing), d4 = f4.rawValue;
            (In(d4) || Dn(d4)) && (i3[h4] = i3[h4] || {}, i3[h4][l4] = f4.rawValue, v4 && (i3[h4][c3] = v4));
          }
        }
      }
    }
    for (var v3 = 0; v3 < s3; v3++) (M2 = (k2 = a3[v3]).targetName) ? "shape" === M2 && h3(k2, u3) : !r2 && h3(k2, l3);
    for (var d3 in l3) {
      var p3 = {};
      Fa(p3, t5), bn(p3, l3[d3]);
      var m3 = Yo(p3), b3 = l3[d3][c3];
      f3[d3] = m3 ? { transform: m3 } : {}, PM(f3[d3], p3), b3 && (f3[d3][c3] = b3);
    }
    var g3 = true;
    for (var d3 in u3) {
      f3[d3] = f3[d3] || {};
      var y2 = !o3;
      b3 = u3[d3][c3], y2 && (o3 = new bu());
      var w3 = o3.len();
      o3.reset(), f3[d3].d = RM(t5, u3[d3], o3);
      var x2 = o3.len();
      if (!y2 && w3 !== x2) {
        g3 = false;
        break;
      }
      b3 && (f3[d3][c3] = b3);
    }
    if (!g3) for (var d3 in f3) delete f3[d3].d;
    if (!r2) for (v3 = 0; v3 < s3; v3++) {
      var k2, M2;
      "style" === (M2 = (k2 = a3[v3]).targetName) && h3(k2, f3, (function(t6) {
        return BM[t6];
      }));
    }
    var z2, S3 = Cn(f3), C3 = true;
    for (v3 = 1; v3 < S3.length; v3++) {
      var A3 = S3[v3 - 1];
      if (f3[A3][FM] !== f3[S3[v3]][FM]) {
        C3 = false;
        break;
      }
      z2 = f3[A3][FM];
    }
    if (C3 && z2) {
      for (var d3 in f3) f3[d3][FM] && delete f3[d3][FM];
      i2[FM] = z2;
    }
    if (Sn(S3, (function(t6) {
      return Cn(f3[t6]).length > 0;
    })).length) return VM(f3, n2) + " " + e3[0] + " both";
  }
  for (var m2 in l2) (s2 = p2(l2[m2])) && a2.push(s2);
  if (a2.length) {
    var b2 = n2.zrId + "-cls-" + EM();
    n2.cssNodes["." + b2] = { animation: a2.join(",") }, i2.class = b2;
  }
}
function YM(t5, i2, n2) {
  var r2 = JSON.stringify(t5), e2 = n2.cssStyleCache[r2];
  e2 || (e2 = n2.zrId + "-cls-" + EM(), n2.cssStyleCache[r2] = e2, n2.cssNodes["." + e2 + ":hover"] = t5), i2.class = i2.class ? i2.class + " " + e2 : e2;
}
var XM = Math.round;
function UM(t5) {
  return t5 && In(t5.src);
}
function $M(t5) {
  return t5 && Tn(t5.toDataURL);
}
function GM(t5, i2, n2, r2) {
  (function(t6, i3, n3, r3) {
    var e2 = null == i3.opacity ? 1 : i3.opacity;
    if (n3 instanceof ju) t6("opacity", e2);
    else {
      if ((function(t7) {
        var i4 = t7.fill;
        return null != i4 && i4 !== kM;
      })(i3)) {
        var o2 = Lo(i3.fill);
        t6("fill", o2.color);
        var a2 = null != i3.fillOpacity ? i3.fillOpacity * o2.opacity * e2 : o2.opacity * e2;
        a2 < 1 && t6("fill-opacity", a2);
      } else t6("fill", kM);
      if ((function(t7) {
        var i4 = t7.stroke;
        return null != i4 && i4 !== kM;
      })(i3)) {
        var s2 = Lo(i3.stroke);
        t6("stroke", s2.color);
        var l2 = i3.strokeNoScale ? n3.getLineScale() : 1, u2 = l2 ? (i3.lineWidth || 0) / l2 : 0, f2 = null != i3.strokeOpacity ? i3.strokeOpacity * s2.opacity * e2 : s2.opacity * e2, c2 = i3.strokeFirst;
        if (1 !== u2 && t6("stroke-width", u2), c2 && t6("paint-order", c2 ? "stroke" : "fill"), f2 < 1 && t6("stroke-opacity", f2), i3.lineDash) {
          var h2 = Yg(n3), v2 = h2[0], d2 = h2[1];
          v2 && (d2 = MM(d2 || 0), t6("stroke-dasharray", v2.join(",")), (d2 || r3) && t6("stroke-dashoffset", d2));
        }
        for (var p2 = 0; p2 < zM.length; p2++) {
          var m2 = zM[p2];
          if (i3[m2] !== Wu[m2]) {
            var b2 = i3[m2] || Wu[m2];
            b2 && t6(SM[p2], b2);
          }
        }
      }
    }
  })((function(e2, o2) {
    var a2 = "fill" === e2 || "stroke" === e2;
    a2 && Vo(o2) ? oz(i2, t5, e2, r2) : a2 && Ro(o2) ? az(n2, t5, e2, r2) : t5[e2] = o2, a2 && r2.ssr && "none" === o2 && (t5["pointer-events"] = "visible");
  }), i2, n2, false), (function(t6, i3, n3) {
    var r3 = t6.style;
    if ((function(t7) {
      return t7 && (t7.shadowBlur || t7.shadowOffsetX || t7.shadowOffsetY);
    })(r3)) {
      var e2 = (function(t7) {
        var i4 = t7.style, n4 = t7.getGlobalScale();
        return [i4.shadowColor, (i4.shadowBlur || 0).toFixed(2), (i4.shadowOffsetX || 0).toFixed(2), (i4.shadowOffsetY || 0).toFixed(2), n4[0], n4[1]].join(",");
      })(t6), o2 = n3.shadowCache, a2 = o2[e2];
      if (!a2) {
        var s2 = t6.getGlobalScale(), l2 = s2[0], u2 = s2[1];
        if (!l2 || !u2) return;
        var f2 = r3.shadowOffsetX || 0, c2 = r3.shadowOffsetY || 0, h2 = r3.shadowBlur, v2 = Lo(r3.shadowColor), d2 = v2.opacity, p2 = v2.color, m2 = h2 / 2 / l2 + " " + h2 / 2 / u2;
        a2 = n3.zrId + "-s" + n3.shadowIdx++, n3.defs[a2] = TM("filter", a2, { id: a2, x: "-100%", y: "-100%", width: "300%", height: "300%" }, [TM("feDropShadow", "", { dx: f2 / l2, dy: c2 / u2, stdDeviation: m2, "flood-color": p2, "flood-opacity": d2 })]), o2[e2] = a2;
      }
      i3.filter = jo(a2);
    }
  })(n2, t5, r2);
}
function ZM(t5, i2) {
  var n2 = (function(t6) {
    if ("function" == typeof es) return es(t6);
  })(i2);
  n2 && (n2.each((function(i3, n3) {
    null != i3 && (t5[(NM + n3).toLowerCase()] = i3 + "");
  })), i2.isSilent() && (t5[NM + "silent"] = "true"));
}
function qM(t5) {
  return Do(t5[0] - 1) && Do(t5[1]) && Do(t5[2]) && Do(t5[3] - 1);
}
function JM(t5, i2) {
  if (i2 && (!(function(t6) {
    return Do(t6[4]) && Do(t6[5]);
  })(i2) || !qM(i2))) {
    var n2 = 1e4;
    t5.transform = qM(i2) ? "translate(" + XM(i2[4] * n2) / n2 + " " + XM(i2[5] * n2) / n2 + ")" : (function(t6) {
      return "matrix(" + Wo(t6[0]) + "," + Wo(t6[1]) + "," + Wo(t6[2]) + "," + Wo(t6[3]) + "," + Eo(t6[4]) + "," + Eo(t6[5]) + ")";
    })(i2);
  }
}
function KM(t5, i2, n2) {
  for (var r2 = t5.points, e2 = [], o2 = 0; o2 < r2.length; o2++) e2.push(XM(r2[o2][0] * n2) / n2), e2.push(XM(r2[o2][1] * n2) / n2);
  i2.points = e2.join(" ");
}
function QM(t5) {
  return !t5.smooth;
}
var tz, iz, nz = { circle: [(tz = ["cx", "cy", "r"], iz = Mn(tz, (function(t5) {
  return "string" == typeof t5 ? [t5, t5] : t5;
})), function(t5, i2, n2) {
  for (var r2 = 0; r2 < iz.length; r2++) {
    var e2 = iz[r2], o2 = t5[e2[0]];
    null != o2 && (i2[e2[1]] = XM(o2 * n2) / n2);
  }
})], polyline: [KM, QM], polygon: [KM, QM] };
function rz(t5, i2) {
  var n2 = t5.style, r2 = t5.shape, e2 = nz[t5.type], o2 = {}, a2 = i2.animation, s2 = "path", l2 = t5.style.strokePercent, u2 = i2.compress && Ho(t5) || 4;
  if (!e2 || i2.willUpdate || e2[1] && !e2[1](r2) || a2 && (function(t6) {
    for (var i3 = t6.animators, n3 = 0; n3 < i3.length; n3++) if ("shape" === i3[n3].targetName) return true;
    return false;
  })(t5) || l2 < 1) {
    var f2 = !t5.path || t5.shapeChanged();
    t5.path || t5.createPathProxy();
    var c2 = t5.path;
    f2 && (c2.beginPath(), t5.buildPath(c2, t5.shape), t5.pathUpdated());
    var h2 = c2.getVersion(), v2 = t5, d2 = v2.__svgPathBuilder;
    v2.__svgPathVersion === h2 && d2 && l2 === v2.__svgPathStrokePercent || (d2 || (d2 = v2.__svgPathBuilder = new xM()), d2.reset(u2), c2.rebuildPath(d2, l2), d2.generateStr(), v2.__svgPathVersion = h2, v2.__svgPathStrokePercent = l2), o2.d = d2.getStr();
  } else {
    s2 = t5.type;
    var p2 = Math.pow(10, u2);
    e2[0](r2, o2, p2);
  }
  return JM(o2, t5.transform), GM(o2, n2, t5, i2), ZM(o2, t5), i2.animation && HM(t5, o2, i2), i2.emphasis && (function(t6, i3, n3) {
    if (!t6.ignore) if (t6.isSilent()) YM(u3 = { "pointer-events": "none" }, i3, n3);
    else {
      var r3 = t6.states.emphasis && t6.states.emphasis.style ? t6.states.emphasis.style : {}, e3 = r3.fill;
      if (!e3) {
        var o3 = t6.style && t6.style.fill, a3 = t6.states.select && t6.states.select.style && t6.states.select.style.fill, s3 = t6.currentStates.indexOf("select") >= 0 && a3 || o3;
        s3 && (e3 = To(s3));
      }
      var l3 = r3.lineWidth;
      l3 && (l3 /= !r3.strokeNoScale && t6.transform ? t6.transform[0] : 1);
      var u3 = { cursor: "pointer" };
      e3 && (u3.fill = e3), r3.stroke && (u3.stroke = r3.stroke), l3 && (u3["stroke-width"] = l3), YM(u3, i3, n3);
    }
  })(t5, o2, i2), TM(s2, t5.id + "", o2);
}
function ez(t5, i2) {
  return t5 instanceof Fu ? rz(t5, i2) : t5 instanceof ju ? (function(t6, i3) {
    var n2 = t6.style, r2 = n2.image;
    if (r2 && !In(r2) && (UM(r2) ? r2 = r2.src : $M(r2) && (r2 = r2.toDataURL())), r2) {
      var e2 = n2.x || 0, o2 = n2.y || 0, a2 = { href: r2, width: n2.width, height: n2.height };
      return e2 && (a2.x = e2), o2 && (a2.y = o2), JM(a2, t6.transform), GM(a2, n2, t6, i3), ZM(a2, t6), i3.animation && HM(t6, a2, i3), TM("image", t6.id + "", a2);
    }
  })(t5, i2) : t5 instanceof Pu ? (function(t6, i3) {
    var n2 = t6.style, r2 = n2.text;
    if (null != r2 && (r2 += ""), r2 && !isNaN(n2.x) && !isNaN(n2.y)) {
      var e2 = n2.font || qi, o2 = n2.x || 0, a2 = (function(t7, i4, n3) {
        return "top" === n3 ? t7 += i4 / 2 : "bottom" === n3 && (t7 -= i4 / 2), t7;
      })(n2.y || 0, Ya(e2), n2.textBaseline), s2 = { "dominant-baseline": "central", "text-anchor": Oo[n2.textAlign] || n2.textAlign };
      if (of(n2)) {
        var l2 = "", u2 = n2.fontStyle, f2 = rf(n2.fontSize);
        if (!parseFloat(f2)) return;
        var c2 = n2.fontWeight;
        l2 += "font-size:" + f2 + ";font-family:" + (n2.fontFamily || Zi) + ";", u2 && "normal" !== u2 && (l2 += "font-style:" + u2 + ";"), c2 && "normal" !== c2 && (l2 += "font-weight:" + c2 + ";"), s2.style = l2;
      } else s2.style = "font: " + e2;
      return r2.match(/\s/) && (s2["xml:space"] = "preserve"), o2 && (s2.x = o2), a2 && (s2.y = a2), JM(s2, t6.transform), GM(s2, n2, t6, i3), ZM(s2, t6), i3.animation && HM(t6, s2, i3), TM("text", t6.id + "", s2, void 0, r2);
    }
  })(t5, i2) : void 0;
}
function oz(t5, i2, n2, r2) {
  var e2, o2 = t5[n2], a2 = { gradientUnits: o2.global ? "userSpaceOnUse" : "objectBoundingBox" };
  if (Po(o2)) e2 = "linearGradient", a2.x1 = o2.x, a2.y1 = o2.y, a2.x2 = o2.x2, a2.y2 = o2.y2;
  else {
    if (!Bo(o2)) return;
    e2 = "radialGradient", a2.cx = Vn(o2.x, 0.5), a2.cy = Vn(o2.y, 0.5), a2.r = Vn(o2.r, 0.5);
  }
  for (var s2 = o2.colorStops, l2 = [], u2 = 0, f2 = s2.length; u2 < f2; ++u2) {
    var c2 = 100 * Eo(s2[u2].offset) + "%", h2 = Lo(s2[u2].color), v2 = h2.opacity, d2 = { offset: c2 };
    d2["stop-color"] = h2.color, v2 < 1 && (d2["stop-opacity"] = v2), l2.push(TM("stop", u2 + "", d2));
  }
  var p2 = IM(TM(e2, "", a2, l2)), m2 = r2.gradientCache, b2 = m2[p2];
  b2 || (b2 = r2.zrId + "-g" + r2.gradientIdx++, m2[p2] = b2, a2.id = b2, r2.defs[b2] = TM(e2, b2, a2, l2)), i2[n2] = jo(b2);
}
function az(t5, i2, n2, r2) {
  var e2, o2 = t5.style[n2], a2 = t5.getBoundingRect(), s2 = {}, l2 = o2.repeat, u2 = "no-repeat" === l2, f2 = "repeat-x" === l2, c2 = "repeat-y" === l2;
  if (Fo(o2)) {
    var h2 = o2.imageWidth, v2 = o2.imageHeight, d2 = void 0, p2 = o2.image;
    if (In(p2) ? d2 = p2 : UM(p2) ? d2 = p2.src : $M(p2) && (d2 = p2.toDataURL()), "undefined" == typeof Image) {
      var m2 = "Image width/height must been given explictly in svg-ssr renderer.";
      Xn(h2, m2), Xn(v2, m2);
    } else if (null == h2 || null == v2) {
      var b2 = function(t6, i3) {
        if (t6) {
          var n3 = t6.elm, r3 = h2 || i3.width, e3 = v2 || i3.height;
          "pattern" === t6.tag && (f2 ? (e3 = 1, r3 /= a2.width) : c2 && (r3 = 1, e3 /= a2.height)), t6.attrs.width = r3, t6.attrs.height = e3, n3 && (n3.setAttribute("width", r3), n3.setAttribute("height", e3));
        }
      }, g3 = pl(d2, null, t5, (function(t6) {
        u2 || b2(k2, t6), b2(e2, t6);
      }));
      g3 && g3.width && g3.height && (h2 = h2 || g3.width, v2 = v2 || g3.height);
    }
    e2 = TM("image", "img", { href: d2, width: h2, height: v2 }), s2.width = h2, s2.height = v2;
  } else o2.svgElement && (e2 = dn(o2.svgElement), s2.width = o2.svgWidth, s2.height = o2.svgHeight);
  if (e2) {
    var y2, w3;
    u2 ? y2 = w3 = 1 : f2 ? (w3 = 1, y2 = s2.width / a2.width) : c2 ? (y2 = 1, w3 = s2.height / a2.height) : s2.patternUnits = "userSpaceOnUse", null == y2 || isNaN(y2) || (s2.width = y2), null == w3 || isNaN(w3) || (s2.height = w3);
    var x2 = Yo(o2);
    x2 && (s2.patternTransform = x2);
    var k2 = TM("pattern", "", s2, [e2]), M2 = IM(k2), z2 = r2.patternCache, S3 = z2[M2];
    S3 || (S3 = r2.zrId + "-p" + r2.patternIdx++, z2[M2] = S3, s2.id = S3, k2 = r2.defs[S3] = TM("pattern", S3, s2, [e2])), i2[n2] = jo(S3);
  }
}
function sz(t5, i2, n2) {
  var r2 = n2.clipPathCache, e2 = n2.defs, o2 = r2[t5.id];
  if (!o2) {
    var a2 = { id: o2 = n2.zrId + "-c" + n2.clipPathIdx++ };
    r2[t5.id] = o2, e2[o2] = TM("clipPath", o2, a2, [rz(t5, n2)]);
  }
  i2["clip-path"] = jo(o2);
}
function lz(t5) {
  return document.createTextNode(t5);
}
function uz(t5, i2, n2) {
  t5.insertBefore(i2, n2);
}
function fz(t5, i2) {
  t5.removeChild(i2);
}
function cz(t5, i2) {
  t5.appendChild(i2);
}
function hz(t5) {
  return t5.parentNode;
}
function vz(t5) {
  return t5.nextSibling;
}
function dz(t5, i2) {
  t5.textContent = i2;
}
var pz = TM("", "");
function mz(t5) {
  return void 0 === t5;
}
function bz(t5) {
  return void 0 !== t5;
}
function gz(t5, i2, n2) {
  for (var r2 = {}, e2 = i2; e2 <= n2; ++e2) {
    var o2 = t5[e2].key;
    void 0 !== o2 && (r2[o2] = e2);
  }
  return r2;
}
function yz(t5, i2) {
  return t5.tag === i2.tag && t5.key === i2.key;
}
function wz(t5) {
  var i2, n2 = t5.children, r2 = t5.tag;
  if (bz(r2)) {
    var e2 = t5.elm = _M(r2);
    if (Mz(pz, t5), _n(n2)) for (i2 = 0; i2 < n2.length; ++i2) {
      var o2 = n2[i2];
      null != o2 && cz(e2, wz(o2));
    }
    else bz(t5.text) && !Wn(t5.text) && cz(e2, lz(t5.text));
  } else t5.elm = lz(t5.text);
  return t5.elm;
}
function xz(t5, i2, n2, r2, e2) {
  for (; r2 <= e2; ++r2) {
    var o2 = n2[r2];
    null != o2 && uz(t5, wz(o2), i2);
  }
}
function kz(t5, i2, n2, r2) {
  for (; n2 <= r2; ++n2) {
    var e2 = i2[n2];
    null != e2 && (bz(e2.tag) ? fz(hz(e2.elm), e2.elm) : fz(t5, e2.elm));
  }
}
function Mz(t5, i2) {
  var n2, r2 = i2.elm, e2 = t5 && t5.attrs || {}, o2 = i2.attrs || {};
  if (e2 !== o2) {
    for (n2 in o2) {
      var a2 = o2[n2];
      e2[n2] !== a2 && (true === a2 ? r2.setAttribute(n2, "") : false === a2 ? r2.removeAttribute(n2) : "style" === n2 ? r2.style.cssText = a2 : 120 !== n2.charCodeAt(0) ? r2.setAttribute(n2, a2) : "xmlns:xlink" === n2 || "xmlns" === n2 ? r2.setAttributeNS("http://www.w3.org/2000/xmlns/", n2, a2) : 58 === n2.charCodeAt(3) ? r2.setAttributeNS("http://www.w3.org/XML/1998/namespace", n2, a2) : 58 === n2.charCodeAt(5) ? r2.setAttributeNS(AM, n2, a2) : r2.setAttribute(n2, a2));
    }
    for (n2 in e2) n2 in o2 || r2.removeAttribute(n2);
  }
}
function zz(t5, i2) {
  var n2 = i2.elm = t5.elm, r2 = t5.children, e2 = i2.children;
  t5 !== i2 && (Mz(t5, i2), mz(i2.text) ? bz(r2) && bz(e2) ? r2 !== e2 && (function(t6, i3, n3) {
    for (var r3, e3, o2, a2 = 0, s2 = 0, l2 = i3.length - 1, u2 = i3[0], f2 = i3[l2], c2 = n3.length - 1, h2 = n3[0], v2 = n3[c2]; a2 <= l2 && s2 <= c2; ) null == u2 ? u2 = i3[++a2] : null == f2 ? f2 = i3[--l2] : null == h2 ? h2 = n3[++s2] : null == v2 ? v2 = n3[--c2] : yz(u2, h2) ? (zz(u2, h2), u2 = i3[++a2], h2 = n3[++s2]) : yz(f2, v2) ? (zz(f2, v2), f2 = i3[--l2], v2 = n3[--c2]) : yz(u2, v2) ? (zz(u2, v2), uz(t6, u2.elm, vz(f2.elm)), u2 = i3[++a2], v2 = n3[--c2]) : yz(f2, h2) ? (zz(f2, h2), uz(t6, f2.elm, u2.elm), f2 = i3[--l2], h2 = n3[++s2]) : (mz(r3) && (r3 = gz(i3, a2, l2)), mz(e3 = r3[h2.key]) || (o2 = i3[e3]).tag !== h2.tag ? uz(t6, wz(h2), u2.elm) : (zz(o2, h2), i3[e3] = void 0, uz(t6, o2.elm, u2.elm)), h2 = n3[++s2]);
    (a2 <= l2 || s2 <= c2) && (a2 > l2 ? xz(t6, null == n3[c2 + 1] ? null : n3[c2 + 1].elm, n3, s2, c2) : kz(t6, i3, a2, l2));
  })(n2, r2, e2) : bz(e2) ? (bz(t5.text) && dz(n2, ""), xz(n2, null, e2, 0, e2.length - 1)) : bz(r2) ? kz(n2, r2, 0, r2.length - 1) : bz(t5.text) && dz(n2, "") : t5.text !== i2.text && (bz(r2) && kz(n2, r2, 0, r2.length - 1), dz(n2, i2.text)));
}
var Sz = 0, Cz = (function() {
  function t5(t6, i2, n2) {
    if (this.type = "svg", this.refreshHover = function() {
    }, this.configLayer = function() {
    }, this.storage = i2, this._opts = n2 = bn({}, n2), this.root = t6, this._id = "zr" + Sz++, this._oldVNode = DM(n2.width, n2.height), t6 && !n2.ssr) {
      var r2 = this._viewport = document.createElement("div");
      r2.style.cssText = "position:relative;overflow:hidden";
      var e2 = this._svgDom = this._oldVNode.elm = _M("svg");
      Mz(null, this._oldVNode), r2.appendChild(e2), t6.appendChild(r2);
    }
    this.resize(n2.width, n2.height);
  }
  return t5.prototype.getType = function() {
    return this.type;
  }, t5.prototype.getViewportRoot = function() {
    return this._viewport;
  }, t5.prototype.getViewportRootOffset = function() {
    var t6 = this.getViewportRoot();
    if (t6) return { offsetLeft: t6.offsetLeft || 0, offsetTop: t6.offsetTop || 0 };
  }, t5.prototype.getSvgDom = function() {
    return this._svgDom;
  }, t5.prototype.refresh = function() {
    if (this.root) {
      var t6 = this.renderToVNode({ willUpdate: true });
      t6.attrs.style = "position:absolute;left:0;top:0;user-select:none", (function(t7, i2) {
        if (yz(t7, i2)) zz(t7, i2);
        else {
          var n2 = t7.elm, r2 = hz(n2);
          wz(i2), null !== r2 && (uz(r2, i2.elm, vz(n2)), kz(r2, [t7], 0, 0));
        }
      })(this._oldVNode, t6), this._oldVNode = t6;
    }
  }, t5.prototype.renderOneToVNode = function(t6) {
    return ez(t6, LM(this._id));
  }, t5.prototype.renderToVNode = function(t6) {
    t6 = t6 || {};
    var i2 = this.storage.getDisplayList(true), n2 = this._width, r2 = this._height, e2 = LM(this._id);
    e2.animation = t6.animation, e2.willUpdate = t6.willUpdate, e2.compress = t6.compress, e2.emphasis = t6.emphasis, e2.ssr = this._opts.ssr;
    var o2 = [], a2 = this._bgVNode = (function(t7, i3, n3, r3) {
      var e3;
      if (n3 && "none" !== n3) if (e3 = TM("rect", "bg", { width: t7, height: i3, x: "0", y: "0" }), Vo(n3)) oz({ fill: n3 }, e3.attrs, "fill", r3);
      else if (Ro(n3)) az({ style: { fill: n3 }, dirty: er, getBoundingRect: function() {
        return { width: t7, height: i3 };
      } }, e3.attrs, "fill", r3);
      else {
        var o3 = Lo(n3), a3 = o3.opacity;
        e3.attrs.fill = o3.color, a3 < 1 && (e3.attrs["fill-opacity"] = a3);
      }
      return e3;
    })(n2, r2, this._backgroundColor, e2);
    a2 && o2.push(a2);
    var s2 = t6.compress ? null : this._mainVNode = TM("g", "main", {}, []);
    this._paintList(i2, e2, s2 ? s2.children : o2), s2 && o2.push(s2);
    var l2 = Mn(Cn(e2.defs), (function(t7) {
      return e2.defs[t7];
    }));
    if (l2.length && o2.push(TM("defs", "defs", {}, l2)), t6.animation) {
      var u2 = (function(t7, i3, n3) {
        var r3 = (n3 = n3 || {}).newline ? "\n" : "", e3 = " {" + r3, o3 = r3 + "}", a3 = Mn(Cn(t7), (function(i4) {
          return i4 + e3 + Mn(Cn(t7[i4]), (function(n4) {
            return n4 + ":" + t7[i4][n4] + ";";
          })).join(r3) + o3;
        })).join(r3), s3 = Mn(Cn(i3), (function(t8) {
          return "@keyframes " + t8 + e3 + Mn(Cn(i3[t8]), (function(n4) {
            return n4 + e3 + Mn(Cn(i3[t8][n4]), (function(r4) {
              var e4 = i3[t8][n4][r4];
              return "d" === r4 && (e4 = 'path("' + e4 + '")'), r4 + ":" + e4 + ";";
            })).join(r3) + o3;
          })).join(r3) + o3;
        })).join(r3);
        return a3 || s3 ? ["<![CDATA[", a3, s3, "]]>"].join(r3) : "";
      })(e2.cssNodes, e2.cssAnims, { newline: true });
      if (u2) {
        var f2 = TM("style", "stl", {}, [], u2);
        o2.push(f2);
      }
    }
    return DM(n2, r2, o2, t6.useViewBox);
  }, t5.prototype.renderToString = function(t6) {
    return IM(this.renderToVNode({ animation: Vn((t6 = t6 || {}).cssAnimation, true), emphasis: Vn(t6.cssEmphasis, true), willUpdate: false, compress: true, useViewBox: Vn(t6.useViewBox, true) }), { newline: true });
  }, t5.prototype.setBackgroundColor = function(t6) {
    this._backgroundColor = t6;
  }, t5.prototype.getSvgRoot = function() {
    return this._mainVNode && this._mainVNode.elm;
  }, t5.prototype._paintList = function(t6, i2, n2) {
    for (var r2, e2, o2 = t6.length, a2 = [], s2 = 0, l2 = 0, u2 = 0; u2 < o2; u2++) {
      var f2 = t6[u2];
      if (!f2.invisible) {
        var c2 = f2.__clipPaths, h2 = c2 && c2.length || 0, v2 = e2 && e2.length || 0, d2 = void 0;
        for (d2 = Math.max(h2 - 1, v2 - 1); d2 >= 0 && (!c2 || !e2 || c2[d2] !== e2[d2]); d2--) ;
        for (var p2 = v2 - 1; p2 > d2; p2--) r2 = a2[--s2 - 1];
        for (var m2 = d2 + 1; m2 < h2; m2++) {
          var b2 = {};
          sz(c2[m2], b2, i2);
          var g3 = TM("g", "clip-g-" + l2++, b2, []);
          (r2 ? r2.children : n2).push(g3), a2[s2++] = g3, r2 = g3;
        }
        e2 = c2;
        var y2 = ez(f2, i2);
        y2 && (r2 ? r2.children : n2).push(y2);
      }
    }
  }, t5.prototype.resize = function(t6, i2) {
    var n2 = this._opts, r2 = this.root, e2 = this._viewport;
    if (null != t6 && (n2.width = t6), null != i2 && (n2.height = i2), r2 && e2 && (e2.style.display = "none", t6 = Hg(r2, 0, n2), i2 = Hg(r2, 1, n2), e2.style.display = ""), this._width !== t6 || this._height !== i2) {
      if (this._width = t6, this._height = i2, e2) {
        var o2 = e2.style;
        o2.width = t6 + "px", o2.height = i2 + "px";
      }
      if (Ro(this._backgroundColor)) this.refresh();
      else {
        var a2 = this._svgDom;
        a2 && (a2.setAttribute("width", t6), a2.setAttribute("height", i2));
        var s2 = this._bgVNode && this._bgVNode.elm;
        s2 && (s2.setAttribute("width", t6), s2.setAttribute("height", i2));
      }
    }
  }, t5.prototype.getWidth = function() {
    return this._width;
  }, t5.prototype.getHeight = function() {
    return this._height;
  }, t5.prototype.dispose = function() {
    this.root && (this.root.innerHTML = ""), this._svgDom = this._viewport = this.storage = this._oldVNode = this._bgVNode = this._mainVNode = null;
  }, t5.prototype.clear = function() {
    this._svgDom && (this._svgDom.innerHTML = null), this._oldVNode = null;
  }, t5.prototype.toDataURL = function(t6) {
    var i2 = this.renderToString(), n2 = "data:image/svg+xml;";
    return t6 ? (i2 = Xo(i2)) && n2 + "base64," + i2 : n2 + "charset=UTF-8," + encodeURIComponent(i2);
  }, t5;
})();
function Az(t5, i2, n2) {
  var r2 = Ki.createCanvas(), e2 = i2.getWidth(), o2 = i2.getHeight(), a2 = r2.style;
  return a2 && (a2.position = "absolute", a2.left = "0", a2.top = "0", a2.width = e2 + "px", a2.height = o2 + "px", r2.setAttribute("data-zr-dom-id", t5)), r2.width = e2 * n2, r2.height = o2 * n2, r2;
}
var Nz = (function(t5) {
  function i2(i3, n2, r2) {
    var e2, o2 = t5.call(this) || this;
    o2.motionBlur = false, o2.lastFrameAlpha = 0.7, o2.dpr = 1, o2.virtual = false, o2.config = {}, o2.incremental = false, o2.zlevel = 0, o2.maxRepaintRectCount = 5, o2.__dirty = true, o2.__firstTimePaint = true, o2.__used = false, o2.__drawIndex = 0, o2.__startIndex = 0, o2.__endIndex = 0, o2.__prevStartIndex = null, o2.__prevEndIndex = null, r2 = r2 || Ca, "string" == typeof i3 ? e2 = Az(i3, n2, r2) : Wn(i3) && (i3 = (e2 = i3).id), o2.id = i3, o2.dom = e2;
    var a2 = e2.style;
    return a2 && (nr(e2), e2.onselectstart = function() {
      return false;
    }, a2.padding = "0", a2.margin = "0", a2.borderWidth = "0"), o2.painter = n2, o2.dpr = r2, o2;
  }
  return Yi(i2, t5), i2.prototype.getElementCount = function() {
    return this.__endIndex - this.__startIndex;
  }, i2.prototype.afterBrush = function() {
    this.__prevStartIndex = this.__startIndex, this.__prevEndIndex = this.__endIndex;
  }, i2.prototype.initContext = function() {
    this.ctx = this.dom.getContext("2d"), this.ctx.dpr = this.dpr;
  }, i2.prototype.setUnpainted = function() {
    this.__firstTimePaint = true;
  }, i2.prototype.createBackBuffer = function() {
    var t6 = this.dpr;
    this.domBack = Az("back-" + this.id, this.painter, t6), this.ctxBack = this.domBack.getContext("2d"), 1 !== t6 && this.ctxBack.scale(t6, t6);
  }, i2.prototype.createRepaintRects = function(t6, i3, n2, r2) {
    if (this.__firstTimePaint) return this.__firstTimePaint = false, null;
    var e2, o2 = [], a2 = this.maxRepaintRectCount, s2 = false, l2 = new ce(0, 0, 0, 0);
    function u2(t7) {
      if (t7.isFinite() && !t7.isZero()) if (0 === o2.length) (i4 = new ce(0, 0, 0, 0)).copy(t7), o2.push(i4);
      else {
        for (var i4, n3 = false, r3 = 1 / 0, e3 = 0, u3 = 0; u3 < o2.length; ++u3) {
          var f3 = o2[u3];
          if (f3.intersect(t7)) {
            var c3 = new ce(0, 0, 0, 0);
            c3.copy(f3), c3.union(t7), o2[u3] = c3, n3 = true;
            break;
          }
          if (s2) {
            l2.copy(t7), l2.union(f3);
            var h3 = l2.width * l2.height - t7.width * t7.height - f3.width * f3.height;
            h3 < r3 && (r3 = h3, e3 = u3);
          }
        }
        s2 && (o2[e3].union(t7), n3 = true), n3 || ((i4 = new ce(0, 0, 0, 0)).copy(t7), o2.push(i4)), s2 || (s2 = o2.length >= a2);
      }
    }
    for (var f2 = this.__startIndex; f2 < this.__endIndex; ++f2) if (v2 = t6[f2]) {
      var c2 = v2.shouldBePainted(n2, r2, true, true);
      (d2 = v2.__isRendered && (1 & v2.__dirty || !c2) ? v2.getPrevPaintRect() : null) && u2(d2);
      var h2 = c2 && (1 & v2.__dirty || !v2.__isRendered) ? v2.getPaintRect() : null;
      h2 && u2(h2);
    }
    for (f2 = this.__prevStartIndex; f2 < this.__prevEndIndex; ++f2) {
      var v2, d2;
      c2 = (v2 = i3[f2]) && v2.shouldBePainted(n2, r2, true, true), !v2 || c2 && v2.__zr || !v2.__isRendered || (d2 = v2.getPrevPaintRect()) && u2(d2);
    }
    do {
      for (e2 = false, f2 = 0; f2 < o2.length; ) if (o2[f2].isZero()) o2.splice(f2, 1);
      else {
        for (var p2 = f2 + 1; p2 < o2.length; ) o2[f2].intersect(o2[p2]) ? (e2 = true, o2[f2].union(o2[p2]), o2.splice(p2, 1)) : p2++;
        f2++;
      }
    } while (e2);
    return this._paintRects = o2, o2;
  }, i2.prototype.debugGetPaintRects = function() {
    return (this._paintRects || []).slice();
  }, i2.prototype.resize = function(t6, i3) {
    var n2 = this.dpr, r2 = this.dom, e2 = r2.style, o2 = this.domBack;
    e2 && (e2.width = t6 + "px", e2.height = i3 + "px"), r2.width = t6 * n2, r2.height = i3 * n2, o2 && (o2.width = t6 * n2, o2.height = i3 * n2, 1 !== n2 && this.ctxBack.scale(n2, n2));
  }, i2.prototype.clear = function(t6, i3, n2) {
    var r2 = this.dom, e2 = this.ctx, o2 = r2.width, a2 = r2.height;
    i3 = i3 || this.clearColor;
    var s2 = this.motionBlur && !t6, l2 = this.lastFrameAlpha, u2 = this.dpr, f2 = this;
    s2 && (this.domBack || this.createBackBuffer(), this.ctxBack.globalCompositeOperation = "copy", this.ctxBack.drawImage(r2, 0, 0, o2 / u2, a2 / u2));
    var c2 = this.domBack;
    function h2(t7, n3, r3, o3) {
      if (e2.clearRect(t7, n3, r3, o3), i3 && "transparent" !== i3) {
        var a3 = void 0;
        Rn(i3) ? (a3 = (i3.global || i3.__width === r3 && i3.__height === o3) && i3.__canvasGradient || Vg(e2, i3, { x: 0, y: 0, width: r3, height: o3 }), i3.__canvasGradient = a3, i3.__width = r3, i3.__height = o3) : null != i3.image && (i3.scaleX = i3.scaleX || u2, i3.scaleY = i3.scaleY || u2, a3 = Jg(e2, i3, { dirty: function() {
          f2.setUnpainted(), f2.painter.refresh();
        } })), e2.save(), e2.fillStyle = a3 || i3, e2.fillRect(t7, n3, r3, o3), e2.restore();
      }
      s2 && (e2.save(), e2.globalAlpha = l2, e2.drawImage(c2, t7, n3, r3, o3), e2.restore());
    }
    !n2 || s2 ? h2(0, 0, o2, a2) : n2.length && kn(n2, (function(t7) {
      h2(t7.x * u2, t7.y * u2, t7.width * u2, t7.height * u2);
    }));
  }, i2;
})(Sr), _z = 1e5, Tz = 314159, Iz = 0.01, Lz = (function() {
  function t5(t6, i2, n2) {
    this.type = "canvas", this._zlevelList = [], this._prevDisplayList = [], this._layers = {}, this._layerConfig = {}, this._needsManuallyCompositing = false, this.type = "canvas";
    var r2 = !t6.nodeName || "CANVAS" === t6.nodeName.toUpperCase();
    this._opts = n2 = bn({}, n2 || {}), this.dpr = n2.devicePixelRatio || Ca, this._singleCanvas = r2, this.root = t6, t6.style && (nr(t6), t6.innerHTML = ""), this.storage = i2;
    var e2 = this._zlevelList;
    this._prevDisplayList = [];
    var o2 = this._layers;
    if (r2) {
      var a2 = t6, s2 = a2.width, l2 = a2.height;
      null != n2.width && (s2 = n2.width), null != n2.height && (l2 = n2.height), this.dpr = n2.devicePixelRatio || 1, a2.width = s2 * this.dpr, a2.height = l2 * this.dpr, this._width = s2, this._height = l2;
      var u2 = new Nz(a2, this, this.dpr);
      u2.__builtin__ = true, u2.initContext(), o2[314159] = u2, u2.zlevel = Tz, e2.push(Tz), this._domRoot = t6;
    } else {
      this._width = Hg(t6, 0, n2), this._height = Hg(t6, 1, n2);
      var f2 = this._domRoot = (function(t7, i3) {
        var n3 = document.createElement("div");
        return n3.style.cssText = ["position:relative", "width:" + t7 + "px", "height:" + i3 + "px", "padding:0", "margin:0", "border-width:0"].join(";") + ";", n3;
      })(this._width, this._height);
      t6.appendChild(f2);
    }
  }
  return t5.prototype.getType = function() {
    return "canvas";
  }, t5.prototype.isSingleCanvas = function() {
    return this._singleCanvas;
  }, t5.prototype.getViewportRoot = function() {
    return this._domRoot;
  }, t5.prototype.getViewportRootOffset = function() {
    var t6 = this.getViewportRoot();
    if (t6) return { offsetLeft: t6.offsetLeft || 0, offsetTop: t6.offsetTop || 0 };
  }, t5.prototype.refresh = function(t6) {
    var i2 = this.storage.getDisplayList(true), n2 = this._prevDisplayList, r2 = this._zlevelList;
    this._redrawId = Math.random(), this._paintList(i2, n2, t6, this._redrawId);
    for (var e2 = 0; e2 < r2.length; e2++) {
      var o2 = this._layers[r2[e2]];
      !o2.__builtin__ && o2.refresh && o2.refresh(0 === e2 ? this._backgroundColor : null);
    }
    return this._opts.useDirtyRect && (this._prevDisplayList = i2.slice()), this;
  }, t5.prototype.refreshHover = function() {
    this._paintHoverList(this.storage.getDisplayList(false));
  }, t5.prototype._paintHoverList = function(t6) {
    var i2 = t6.length, n2 = this._hoverlayer;
    if (n2 && n2.clear(), i2) {
      for (var r2, e2 = { inHover: true, viewWidth: this._width, viewHeight: this._height }, o2 = 0; o2 < i2; o2++) {
        var a2 = t6[o2];
        a2.__inHover && (n2 || (n2 = this._hoverlayer = this.getLayer(_z)), r2 || (r2 = n2.ctx).save(), ay(r2, a2, e2, o2 === i2 - 1));
      }
      r2 && r2.restore();
    }
  }, t5.prototype.getHoverLayer = function() {
    return this.getLayer(_z);
  }, t5.prototype.paintOne = function(t6, i2) {
    oy(t6, i2);
  }, t5.prototype._paintList = function(t6, i2, n2, r2) {
    if (this._redrawId === r2) {
      n2 = n2 || false, this._updateLayerStatus(t6);
      var e2 = this._doPaintList(t6, i2, n2), o2 = e2.finished, a2 = e2.needsRefreshHover;
      if (this._needsManuallyCompositing && this._compositeManually(), a2 && this._paintHoverList(t6), o2) this.eachLayer((function(t7) {
        t7.afterBrush && t7.afterBrush();
      }));
      else {
        var s2 = this;
        Te((function() {
          s2._paintList(t6, i2, n2, r2);
        }));
      }
    }
  }, t5.prototype._compositeManually = function() {
    var t6 = this.getLayer(Tz).ctx, i2 = this._domRoot.width, n2 = this._domRoot.height;
    t6.clearRect(0, 0, i2, n2), this.eachBuiltinLayer((function(r2) {
      r2.virtual && t6.drawImage(r2.dom, 0, 0, i2, n2);
    }));
  }, t5.prototype._doPaintList = function(t6, i2, n2) {
    for (var r2 = this, e2 = [], o2 = this._opts.useDirtyRect, a2 = 0; a2 < this._zlevelList.length; a2++) {
      var s2 = this._layers[this._zlevelList[a2]];
      s2.__builtin__ && s2 !== this._hoverlayer && (s2.__dirty || n2) && e2.push(s2);
    }
    for (var l2 = true, u2 = false, f2 = function(a3) {
      var s3, f3 = e2[a3], h3 = f3.ctx, v2 = o2 && f3.createRepaintRects(t6, i2, c2._width, c2._height), d2 = n2 ? f3.__startIndex : f3.__drawIndex, p2 = !n2 && f3.incremental && Date.now, m2 = p2 && Date.now(), b2 = f3.zlevel === c2._zlevelList[0] ? c2._backgroundColor : null;
      if (f3.__startIndex === f3.__endIndex) f3.clear(false, b2, v2);
      else if (d2 === f3.__startIndex) {
        var g3 = t6[d2];
        g3.incremental && g3.notClear && !n2 || f3.clear(false, b2, v2);
      }
      -1 === d2 && (console.error("For some unknown reason. drawIndex is -1"), d2 = f3.__startIndex);
      var y2 = function(i3) {
        var n3 = { inHover: false, allClipped: false, prevEl: null, viewWidth: r2._width, viewHeight: r2._height };
        for (s3 = d2; s3 < f3.__endIndex; s3++) {
          var e3 = t6[s3];
          if (e3.__inHover && (u2 = true), r2._doPaintEl(e3, f3, o2, i3, n3, s3 === f3.__endIndex - 1), p2 && Date.now() - m2 > 15) break;
        }
        n3.prevElClipPaths && h3.restore();
      };
      if (v2) if (0 === v2.length) s3 = f3.__endIndex;
      else for (var w3 = c2.dpr, x2 = 0; x2 < v2.length; ++x2) {
        var k2 = v2[x2];
        h3.save(), h3.beginPath(), h3.rect(k2.x * w3, k2.y * w3, k2.width * w3, k2.height * w3), h3.clip(), y2(k2), h3.restore();
      }
      else h3.save(), y2(), h3.restore();
      f3.__drawIndex = s3, f3.__drawIndex < f3.__endIndex && (l2 = false);
    }, c2 = this, h2 = 0; h2 < e2.length; h2++) f2(h2);
    return Ui.wxa && kn(this._layers, (function(t7) {
      t7 && t7.ctx && t7.ctx.draw && t7.ctx.draw();
    })), { finished: l2, needsRefreshHover: u2 };
  }, t5.prototype._doPaintEl = function(t6, i2, n2, r2, e2, o2) {
    var a2 = i2.ctx;
    if (n2) {
      var s2 = t6.getPaintRect();
      (!r2 || s2 && s2.intersect(r2)) && (ay(a2, t6, e2, o2), t6.setPrevPaintRect(s2));
    } else ay(a2, t6, e2, o2);
  }, t5.prototype.getLayer = function(t6, i2) {
    this._singleCanvas && !this._needsManuallyCompositing && (t6 = Tz);
    var n2 = this._layers[t6];
    return n2 || ((n2 = new Nz("zr_" + t6, this, this.dpr)).zlevel = t6, n2.__builtin__ = true, this._layerConfig[t6] ? pn(n2, this._layerConfig[t6], true) : this._layerConfig[t6 - Iz] && pn(n2, this._layerConfig[t6 - Iz], true), i2 && (n2.virtual = i2), this.insertLayer(t6, n2), n2.initContext()), n2;
  }, t5.prototype.insertLayer = function(t6, i2) {
    var n2 = this._layers, r2 = this._zlevelList, e2 = r2.length, o2 = this._domRoot, a2 = null, s2 = -1;
    if (!n2[t6] && (function(t7) {
      return !!t7 && (!!t7.__builtin__ || "function" == typeof t7.resize && "function" == typeof t7.refresh);
    })(i2)) {
      if (e2 > 0 && t6 > r2[0]) {
        for (s2 = 0; s2 < e2 - 1 && !(r2[s2] < t6 && r2[s2 + 1] > t6); s2++) ;
        a2 = n2[r2[s2]];
      }
      if (r2.splice(s2 + 1, 0, t6), n2[t6] = i2, !i2.virtual) if (a2) {
        var l2 = a2.dom;
        l2.nextSibling ? o2.insertBefore(i2.dom, l2.nextSibling) : o2.appendChild(i2.dom);
      } else o2.firstChild ? o2.insertBefore(i2.dom, o2.firstChild) : o2.appendChild(i2.dom);
      i2.painter || (i2.painter = this);
    }
  }, t5.prototype.eachLayer = function(t6, i2) {
    for (var n2 = this._zlevelList, r2 = 0; r2 < n2.length; r2++) {
      var e2 = n2[r2];
      t6.call(i2, this._layers[e2], e2);
    }
  }, t5.prototype.eachBuiltinLayer = function(t6, i2) {
    for (var n2 = this._zlevelList, r2 = 0; r2 < n2.length; r2++) {
      var e2 = n2[r2], o2 = this._layers[e2];
      o2.__builtin__ && t6.call(i2, o2, e2);
    }
  }, t5.prototype.eachOtherLayer = function(t6, i2) {
    for (var n2 = this._zlevelList, r2 = 0; r2 < n2.length; r2++) {
      var e2 = n2[r2], o2 = this._layers[e2];
      o2.__builtin__ || t6.call(i2, o2, e2);
    }
  }, t5.prototype.getLayers = function() {
    return this._layers;
  }, t5.prototype._updateLayerStatus = function(t6) {
    function i2(t7) {
      o2 && (o2.__endIndex !== t7 && (o2.__dirty = true), o2.__endIndex = t7);
    }
    if (this.eachBuiltinLayer((function(t7) {
      t7.__dirty = t7.__used = false;
    })), this._singleCanvas) {
      for (var n2 = 1; n2 < t6.length; n2++) if ((s2 = t6[n2]).zlevel !== t6[n2 - 1].zlevel || s2.incremental) {
        this._needsManuallyCompositing = true;
        break;
      }
    }
    var r2, e2, o2 = null, a2 = 0;
    for (e2 = 0; e2 < t6.length; e2++) {
      var s2, l2 = (s2 = t6[e2]).zlevel, u2 = void 0;
      r2 !== l2 && (r2 = l2, a2 = 0), s2.incremental ? ((u2 = this.getLayer(l2 + 1e-3, this._needsManuallyCompositing)).incremental = true, a2 = 1) : u2 = this.getLayer(l2 + (a2 > 0 ? Iz : 0), this._needsManuallyCompositing), u2.__builtin__ || vn("ZLevel " + l2 + " has been used by unkown layer " + u2.id), u2 !== o2 && (u2.__used = true, u2.__startIndex !== e2 && (u2.__dirty = true), u2.__startIndex = e2, u2.__drawIndex = u2.incremental ? -1 : e2, i2(e2), o2 = u2), 1 & s2.__dirty && !s2.__inHover && (u2.__dirty = true, u2.incremental && u2.__drawIndex < 0 && (u2.__drawIndex = e2));
    }
    i2(e2), this.eachBuiltinLayer((function(t7) {
      !t7.__used && t7.getElementCount() > 0 && (t7.__dirty = true, t7.__startIndex = t7.__endIndex = t7.__drawIndex = 0), t7.__dirty && t7.__drawIndex < 0 && (t7.__drawIndex = t7.__startIndex);
    }));
  }, t5.prototype.clear = function() {
    return this.eachBuiltinLayer(this._clearLayer), this;
  }, t5.prototype._clearLayer = function(t6) {
    t6.clear();
  }, t5.prototype.setBackgroundColor = function(t6) {
    this._backgroundColor = t6, kn(this._layers, (function(t7) {
      t7.setUnpainted();
    }));
  }, t5.prototype.configLayer = function(t6, i2) {
    if (i2) {
      var n2 = this._layerConfig;
      n2[t6] ? pn(n2[t6], i2, true) : n2[t6] = i2;
      for (var r2 = 0; r2 < this._zlevelList.length; r2++) {
        var e2 = this._zlevelList[r2];
        e2 !== t6 && e2 !== t6 + Iz || pn(this._layers[e2], n2[t6], true);
      }
    }
  }, t5.prototype.delLayer = function(t6) {
    var i2 = this._layers, n2 = this._zlevelList, r2 = i2[t6];
    r2 && (r2.dom.parentNode.removeChild(r2.dom), delete i2[t6], n2.splice(yn(n2, t6), 1));
  }, t5.prototype.resize = function(t6, i2) {
    if (this._domRoot.style) {
      var n2 = this._domRoot;
      n2.style.display = "none";
      var r2 = this._opts, e2 = this.root;
      if (null != t6 && (r2.width = t6), null != i2 && (r2.height = i2), t6 = Hg(e2, 0, r2), i2 = Hg(e2, 1, r2), n2.style.display = "", this._width !== t6 || i2 !== this._height) {
        for (var o2 in n2.style.width = t6 + "px", n2.style.height = i2 + "px", this._layers) this._layers.hasOwnProperty(o2) && this._layers[o2].resize(t6, i2);
        this.refresh(true);
      }
      this._width = t6, this._height = i2;
    } else {
      if (null == t6 || null == i2) return;
      this._width = t6, this._height = i2, this.getLayer(Tz).resize(t6, i2);
    }
    return this;
  }, t5.prototype.clearLayer = function(t6) {
    var i2 = this._layers[t6];
    i2 && i2.clear();
  }, t5.prototype.dispose = function() {
    this.root.innerHTML = "", this.root = this.storage = this._domRoot = this._layers = null;
  }, t5.prototype.getRenderedCanvas = function(t6) {
    if (this._singleCanvas && !this._compositeManually) return this._layers[314159].dom;
    var i2 = new Nz("image", this, (t6 = t6 || {}).pixelRatio || this.dpr);
    i2.initContext(), i2.clear(false, t6.backgroundColor || this._backgroundColor);
    var n2 = i2.ctx;
    if (t6.pixelRatio <= this.dpr) {
      this.refresh();
      var r2 = i2.dom.width, e2 = i2.dom.height;
      this.eachLayer((function(t7) {
        t7.__builtin__ ? n2.drawImage(t7.dom, 0, 0, r2, e2) : t7.renderToCanvas && (n2.save(), t7.renderToCanvas(n2), n2.restore());
      }));
    } else for (var o2 = { inHover: false, viewWidth: this._width, viewHeight: this._height }, a2 = this.storage.getDisplayList(true), s2 = 0, l2 = a2.length; s2 < l2; s2++) ay(n2, a2[s2], o2, s2 === l2 - 1);
    return i2.dom;
  }, t5.prototype.getWidth = function() {
    return this._width;
  }, t5.prototype.getHeight = function() {
    return this._height;
  }, t5;
})(), Dz = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.hasSymbolVisual = true, n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function() {
    return ix(null, this, { useEncodeDefaulter: true });
  }, i2.prototype.getLegendIcon = function(t6) {
    var i3 = new rs(), n2 = Fg("line", 0, t6.itemHeight / 2, t6.itemWidth, 0, t6.lineStyle.stroke, false);
    i3.add(n2), n2.setStyle(t6.lineStyle);
    var r2 = this.getData().getVisual("symbol"), e2 = this.getData().getVisual("symbolRotate"), o2 = "none" === r2 ? "circle" : r2, a2 = 0.8 * t6.itemHeight, s2 = Fg(o2, (t6.itemWidth - a2) / 2, (t6.itemHeight - a2) / 2, a2, a2, t6.itemStyle.fill);
    return i3.add(s2), s2.setStyle(t6.itemStyle), s2.rotation = ("inherit" === t6.iconRotate ? e2 : t6.iconRotate || 0) * Math.PI / 180, s2.setOrigin([t6.itemWidth / 2, t6.itemHeight / 2]), o2.indexOf("empty") > -1 && (s2.style.stroke = s2.style.fill, s2.style.fill = "#fff", s2.style.lineWidth = 2), i3;
  }, i2.type = "series.line", i2.dependencies = ["grid", "polar"], i2.defaultOption = { z: 3, coordinateSystem: "cartesian2d", legendHoverLink: true, clip: true, label: { position: "top" }, endLabel: { show: false, valueAnimation: true, distance: 8 }, lineStyle: { width: 2, type: "solid" }, emphasis: { scale: true }, step: false, smooth: false, smoothMonotone: null, symbol: "emptyCircle", symbolSize: 4, symbolRotate: null, showSymbol: true, showAllSymbol: "auto", connectNulls: false, sampling: "none", animationEasing: "linear", progressive: 0, hoverLayerThreshold: 1 / 0, universalTransition: { divideShape: "clone" }, triggerLineEvent: false }, i2;
})(vb);
function Wz(t5, i2) {
  var n2 = t5.mapDimensionsAll("defaultedLabel"), r2 = n2.length;
  if (1 === r2) {
    var e2 = fm(t5, i2, n2[0]);
    return null != e2 ? e2 + "" : null;
  }
  if (r2) {
    for (var o2 = [], a2 = 0; a2 < n2.length; a2++) o2.push(fm(t5, i2, n2[a2]));
    return o2.join(" ");
  }
}
function Ez(t5, i2) {
  var n2 = t5.mapDimensionsAll("defaultedLabel");
  if (!_n(i2)) return i2 + "";
  for (var r2 = [], e2 = 0; e2 < n2.length; e2++) {
    var o2 = t5.getDimensionIndex(n2[e2]);
    o2 >= 0 && r2.push(i2[o2]);
  }
  return r2.join(" ");
}
var Oz = (function(t5) {
  function i2(i3, n2, r2, e2) {
    var o2 = t5.call(this) || this;
    return o2.updateData(i3, n2, r2, e2), o2;
  }
  return Yi(i2, t5), i2.prototype._createSymbol = function(t6, i3, n2, r2, e2) {
    this.removeAll();
    var o2 = Fg(t6, -1, -1, 2, 2, null, e2);
    o2.attr({ z2: 100, culling: true, scaleX: r2[0] / 2, scaleY: r2[1] / 2 }), o2.drift = Fz, this._symbolType = t6, this.add(o2);
  }, i2.prototype.stopSymbolAnimation = function(t6) {
    this.childAt(0).stopAnimation(null, t6);
  }, i2.prototype.getSymbolType = function() {
    return this._symbolType;
  }, i2.prototype.getSymbolPath = function() {
    return this.childAt(0);
  }, i2.prototype.highlight = function() {
    Bf(this.childAt(0));
  }, i2.prototype.downplay = function() {
    Vf(this.childAt(0));
  }, i2.prototype.setZ = function(t6, i3) {
    var n2 = this.childAt(0);
    n2.zlevel = t6, n2.z = i3;
  }, i2.prototype.setDraggable = function(t6, i3) {
    var n2 = this.childAt(0);
    n2.draggable = t6, n2.cursor = !i3 && t6 ? "move" : n2.cursor;
  }, i2.prototype.updateData = function(t6, n2, r2, e2) {
    this.silent = false;
    var o2 = t6.getItemVisual(n2, "symbol") || "circle", a2 = t6.hostModel, s2 = i2.getSymbolSize(t6, n2), l2 = o2 !== this._symbolType, u2 = e2 && e2.disableAnimation;
    if (l2) {
      var f2 = t6.getItemVisual(n2, "symbolKeepAspect");
      this._createSymbol(o2, t6, n2, s2, f2);
    } else {
      (h2 = this.childAt(0)).silent = false;
      var c2 = { scaleX: s2[0] / 2, scaleY: s2[1] / 2 };
      u2 ? h2.attr(c2) : Mh(h2, c2, a2, n2), _h(h2);
    }
    if (this._updateCommon(t6, n2, s2, r2, e2), l2) {
      var h2 = this.childAt(0);
      u2 || (c2 = { scaleX: this._sizeX, scaleY: this._sizeY, style: { opacity: h2.style.opacity } }, h2.scaleX = h2.scaleY = 0, h2.style.opacity = 0, zh(h2, c2, a2, n2));
    }
    u2 && this.childAt(0).stopAnimation("leave");
  }, i2.prototype._updateCommon = function(t6, i3, n2, r2, e2) {
    var o2, a2, s2, l2, u2, f2, c2, h2, v2, d2 = this.childAt(0), p2 = t6.hostModel;
    if (r2 && (o2 = r2.emphasisItemStyle, a2 = r2.blurItemStyle, s2 = r2.selectItemStyle, l2 = r2.focus, u2 = r2.blurScope, c2 = r2.labelStatesModels, h2 = r2.hoverScale, v2 = r2.cursorStyle, f2 = r2.emphasisDisabled), !r2 || t6.hasItemOption) {
      var m2 = r2 && r2.itemModel ? r2.itemModel : t6.getItemModel(i3), b2 = m2.getModel("emphasis");
      o2 = b2.getModel("itemStyle").getItemStyle(), s2 = m2.getModel(["select", "itemStyle"]).getItemStyle(), a2 = m2.getModel(["blur", "itemStyle"]).getItemStyle(), l2 = b2.get("focus"), u2 = b2.get("blurScope"), f2 = b2.get("disabled"), c2 = av(m2), h2 = b2.getShallow("scale"), v2 = m2.getShallow("cursor");
    }
    var g3 = t6.getItemVisual(i3, "symbolRotate");
    d2.attr("rotation", (g3 || 0) * Math.PI / 180 || 0);
    var y2 = Pg(t6.getItemVisual(i3, "symbolOffset"), n2);
    y2 && (d2.x = y2[0], d2.y = y2[1]), v2 && d2.attr("cursor", v2);
    var w3 = t6.getItemVisual(i3, "style"), x2 = w3.fill;
    if (d2 instanceof ju) {
      var k2 = d2.style;
      d2.useStyle(bn({ image: k2.image, x: k2.x, y: k2.y, width: k2.width, height: k2.height }, w3));
    } else d2.useStyle(d2.__isEmptyBrush ? bn({}, w3) : w3), d2.style.decal = null, d2.setColor(x2, e2 && e2.symbolInnerColor), d2.style.strokeNoScale = true;
    var M2 = t6.getItemVisual(i3, "liftZ"), z2 = this._z2;
    null != M2 ? null == z2 && (this._z2 = d2.z2, d2.z2 += M2) : null != z2 && (d2.z2 = z2, this._z2 = null);
    var S3 = e2 && e2.useNameLabel;
    ov(d2, c2, { labelFetcher: p2, labelDataIndex: i3, defaultText: function(i4) {
      return S3 ? t6.getName(i4) : Wz(t6, i4);
    }, inheritColor: x2, defaultOpacity: w3.opacity }), this._sizeX = n2[0] / 2, this._sizeY = n2[1] / 2;
    var C3 = d2.ensureState("emphasis");
    C3.style = o2, d2.ensureState("select").style = s2, d2.ensureState("blur").style = a2;
    var A3 = null == h2 || true === h2 ? Math.max(1.1, 3 / this._sizeY) : isFinite(h2) && h2 > 0 ? +h2 : 1;
    C3.scaleX = this._sizeX * A3, C3.scaleY = this._sizeY * A3, this.setSymbolScale(1), tc(this, l2, u2, f2);
  }, i2.prototype.setSymbolScale = function(t6) {
    this.scaleX = this.scaleY = t6;
  }, i2.prototype.fadeOut = function(t6, i3, n2) {
    var r2 = this.childAt(0), e2 = hf(this).dataIndex, o2 = n2 && n2.animation;
    if (this.silent = r2.silent = true, n2 && n2.fadeLabel) {
      var a2 = r2.getTextContent();
      a2 && Ch(a2, { style: { opacity: 0 } }, i3, { dataIndex: e2, removeOpt: o2, cb: function() {
        r2.removeTextContent();
      } });
    } else r2.removeTextContent();
    Ch(r2, { style: { opacity: 0 }, scaleX: 0, scaleY: 0 }, i3, { dataIndex: e2, cb: t6, removeOpt: o2 });
  }, i2.getSymbolSize = function(t6, i3) {
    return Rg(t6.getItemVisual(i3, "symbolSize"));
  }, i2;
})(rs);
function Fz(t5, i2) {
  this.parent.drift(t5, i2);
}
function Rz(t5, i2, n2, r2) {
  return i2 && !isNaN(i2[0]) && !isNaN(i2[1]) && !(r2.isIgnore && r2.isIgnore(n2)) && !(r2.clipShape && !r2.clipShape.contain(i2[0], i2[1])) && "none" !== t5.getItemVisual(n2, "symbol");
}
function Pz(t5) {
  return null == t5 || Wn(t5) || (t5 = { isIgnore: t5 }), t5 || {};
}
function Bz(t5) {
  var i2 = t5.hostModel, n2 = i2.getModel("emphasis");
  return { emphasisItemStyle: n2.getModel("itemStyle").getItemStyle(), blurItemStyle: i2.getModel(["blur", "itemStyle"]).getItemStyle(), selectItemStyle: i2.getModel(["select", "itemStyle"]).getItemStyle(), focus: n2.get("focus"), blurScope: n2.get("blurScope"), emphasisDisabled: n2.get("disabled"), hoverScale: n2.get("scale"), labelStatesModels: av(i2), cursorStyle: i2.get("cursor") };
}
var Vz = (function() {
  function t5(t6) {
    this.group = new rs(), this._SymbolCtor = t6 || Oz;
  }
  return t5.prototype.updateData = function(t6, i2) {
    this._progressiveEls = null, i2 = Pz(i2);
    var n2 = this.group, r2 = t6.hostModel, e2 = this._data, o2 = this._SymbolCtor, a2 = i2.disableAnimation, s2 = Bz(t6), l2 = { disableAnimation: a2 }, u2 = i2.getSymbolPoint || function(i3) {
      return t6.getItemLayout(i3);
    };
    e2 || n2.removeAll(), t6.diff(e2).add((function(r3) {
      var e3 = u2(r3);
      if (Rz(t6, e3, r3, i2)) {
        var a3 = new o2(t6, r3, s2, l2);
        a3.setPosition(e3), t6.setItemGraphicEl(r3, a3), n2.add(a3);
      }
    })).update((function(f2, c2) {
      var h2 = e2.getItemGraphicEl(c2), v2 = u2(f2);
      if (Rz(t6, v2, f2, i2)) {
        var d2 = t6.getItemVisual(f2, "symbol") || "circle", p2 = h2 && h2.getSymbolType && h2.getSymbolType();
        if (!h2 || p2 && p2 !== d2) n2.remove(h2), (h2 = new o2(t6, f2, s2, l2)).setPosition(v2);
        else {
          h2.updateData(t6, f2, s2, l2);
          var m2 = { x: v2[0], y: v2[1] };
          a2 ? h2.attr(m2) : Mh(h2, m2, r2);
        }
        n2.add(h2), t6.setItemGraphicEl(f2, h2);
      } else n2.remove(h2);
    })).remove((function(t7) {
      var i3 = e2.getItemGraphicEl(t7);
      i3 && i3.fadeOut((function() {
        n2.remove(i3);
      }), r2);
    })).execute(), this._getSymbolPoint = u2, this._data = t6;
  }, t5.prototype.updateLayout = function() {
    var t6 = this, i2 = this._data;
    i2 && i2.eachItemGraphicEl((function(i3, n2) {
      var r2 = t6._getSymbolPoint(n2);
      i3.setPosition(r2), i3.markRedraw();
    }));
  }, t5.prototype.incrementalPrepareUpdate = function(t6) {
    this._seriesScope = Bz(t6), this._data = null, this.group.removeAll();
  }, t5.prototype.incrementalUpdate = function(t6, i2, n2) {
    function r2(t7) {
      t7.isGroup || (t7.incremental = true, t7.ensureState("emphasis").hoverLayer = true);
    }
    this._progressiveEls = [], n2 = Pz(n2);
    for (var e2 = t6.start; e2 < t6.end; e2++) {
      var o2 = i2.getItemLayout(e2);
      if (Rz(i2, o2, e2, n2)) {
        var a2 = new this._SymbolCtor(i2, e2, this._seriesScope);
        a2.traverse(r2), a2.setPosition(o2), this.group.add(a2), i2.setItemGraphicEl(e2, a2), this._progressiveEls.push(a2);
      }
    }
  }, t5.prototype.eachRendered = function(t6) {
    tv(this._progressiveEls || this.group, t6);
  }, t5.prototype.remove = function(t6) {
    var i2 = this.group, n2 = this._data;
    n2 && t6 ? n2.eachItemGraphicEl((function(t7) {
      t7.fadeOut((function() {
        i2.remove(t7);
      }), n2.hostModel);
    })) : i2.removeAll();
  }, t5;
})();
function jz(t5, i2, n2) {
  var r2 = t5.getBaseAxis(), e2 = t5.getOtherAxis(r2), o2 = (function(t6, i3) {
    var n3 = 0, r3 = t6.scale.getExtent();
    return "start" === i3 ? n3 = r3[0] : "end" === i3 ? n3 = r3[1] : Dn(i3) && !isNaN(i3) ? n3 = i3 : r3[0] > 0 ? n3 = r3[0] : r3[1] < 0 && (n3 = r3[1]), n3;
  })(e2, n2), a2 = r2.dim, s2 = e2.dim, l2 = i2.mapDimension(s2), u2 = i2.mapDimension(a2), f2 = "x" === s2 || "radius" === s2 ? 1 : 0, c2 = Mn(t5.dimensions, (function(t6) {
    return i2.mapDimension(t6);
  })), h2 = false, v2 = i2.getCalculationInfo("stackResultDimension");
  return Qw(i2, c2[0]) && (h2 = true, c2[0] = v2), Qw(i2, c2[1]) && (h2 = true, c2[1] = v2), { dataDimsForPoint: c2, valueStart: o2, valueAxisDim: s2, baseAxisDim: a2, stacked: !!h2, valueDim: l2, baseDim: u2, baseDataOffset: f2, stackedOverDimension: i2.getCalculationInfo("stackedOverDimension") };
}
function Hz(t5, i2, n2, r2) {
  var e2 = NaN;
  t5.stacked && (e2 = n2.get(n2.getCalculationInfo("stackedOverDimension"), r2)), isNaN(e2) && (e2 = t5.valueStart);
  var o2 = t5.baseDataOffset, a2 = [];
  return a2[o2] = n2.get(t5.baseDim, r2), a2[1 - o2] = e2, i2.dataToPoint(a2);
}
var Yz = Math.min, Xz = Math.max;
function Uz(t5, i2) {
  return isNaN(t5) || isNaN(i2);
}
function $z(t5, i2, n2, r2, e2, o2, a2, s2, l2) {
  for (var u2, f2, c2, h2, v2, d2, p2 = n2, m2 = 0; m2 < r2; m2++) {
    var b2 = i2[2 * p2], g3 = i2[2 * p2 + 1];
    if (p2 >= e2 || p2 < 0) break;
    if (Uz(b2, g3)) {
      if (l2) {
        p2 += o2;
        continue;
      }
      break;
    }
    if (p2 === n2) t5[o2 > 0 ? "moveTo" : "lineTo"](b2, g3), c2 = b2, h2 = g3;
    else {
      var y2 = b2 - u2, w3 = g3 - f2;
      if (y2 * y2 + w3 * w3 < 0.5) {
        p2 += o2;
        continue;
      }
      if (a2 > 0) {
        for (var x2 = p2 + o2, k2 = i2[2 * x2], M2 = i2[2 * x2 + 1]; k2 === b2 && M2 === g3 && m2 < r2; ) m2++, k2 = i2[2 * (x2 += o2)], M2 = i2[2 * x2 + 1], y2 = (b2 = i2[2 * (p2 += o2)]) - u2, w3 = (g3 = i2[2 * p2 + 1]) - f2;
        var z2 = m2 + 1;
        if (l2) for (; Uz(k2, M2) && z2 < r2; ) z2++, k2 = i2[2 * (x2 += o2)], M2 = i2[2 * x2 + 1];
        var S3 = 0.5, C3 = 0, A3 = 0, N2 = void 0, _2 = void 0;
        if (z2 >= r2 || Uz(k2, M2)) v2 = b2, d2 = g3;
        else {
          C3 = k2 - u2, A3 = M2 - f2;
          var T4 = b2 - u2, I2 = k2 - b2, L2 = g3 - f2, D2 = M2 - g3, W3 = void 0, E3 = void 0;
          if ("x" === s2) {
            var O3 = C3 > 0 ? 1 : -1;
            v2 = b2 - O3 * (W3 = Math.abs(T4)) * a2, d2 = g3, N2 = b2 + O3 * (E3 = Math.abs(I2)) * a2, _2 = g3;
          } else if ("y" === s2) {
            var F3 = A3 > 0 ? 1 : -1;
            v2 = b2, d2 = g3 - F3 * (W3 = Math.abs(L2)) * a2, N2 = b2, _2 = g3 + F3 * (E3 = Math.abs(D2)) * a2;
          } else W3 = Math.sqrt(T4 * T4 + L2 * L2), v2 = b2 - C3 * a2 * (1 - (S3 = (E3 = Math.sqrt(I2 * I2 + D2 * D2)) / (E3 + W3))), d2 = g3 - A3 * a2 * (1 - S3), _2 = g3 + A3 * a2 * S3, N2 = Yz(N2 = b2 + C3 * a2 * S3, Xz(k2, b2)), _2 = Yz(_2, Xz(M2, g3)), N2 = Xz(N2, Yz(k2, b2)), d2 = g3 - (A3 = (_2 = Xz(_2, Yz(M2, g3))) - g3) * W3 / E3, v2 = Yz(v2 = b2 - (C3 = N2 - b2) * W3 / E3, Xz(u2, b2)), d2 = Yz(d2, Xz(f2, g3)), N2 = b2 + (C3 = b2 - (v2 = Xz(v2, Yz(u2, b2)))) * E3 / W3, _2 = g3 + (A3 = g3 - (d2 = Xz(d2, Yz(f2, g3)))) * E3 / W3;
        }
        t5.bezierCurveTo(c2, h2, v2, d2, b2, g3), c2 = N2, h2 = _2;
      } else t5.lineTo(b2, g3);
    }
    u2 = b2, f2 = g3, p2 += o2;
  }
  return m2;
}
var Gz = function() {
  this.smooth = 0, this.smoothConstraint = true;
}, Zz = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2.type = "ec-polyline", n2;
  }
  return Yi(i2, t5), i2.prototype.getDefaultStyle = function() {
    return { stroke: "#000", fill: null };
  }, i2.prototype.getDefaultShape = function() {
    return new Gz();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = i3.points, r2 = 0, e2 = n2.length / 2;
    if (i3.connectNulls) {
      for (; e2 > 0 && Uz(n2[2 * e2 - 2], n2[2 * e2 - 1]); e2--) ;
      for (; r2 < e2 && Uz(n2[2 * r2], n2[2 * r2 + 1]); r2++) ;
    }
    for (; r2 < e2; ) r2 += $z(t6, n2, r2, e2, e2, 1, i3.smooth, i3.smoothMonotone, i3.connectNulls) + 1;
  }, i2.prototype.getPointOn = function(t6, i3) {
    this.path || (this.createPathProxy(), this.buildPath(this.path, this.shape));
    for (var n2, r2, e2 = this.path.data, o2 = bu.CMD, a2 = "x" === i3, s2 = [], l2 = 0; l2 < e2.length; ) {
      var u2 = void 0, f2 = void 0, c2 = void 0, h2 = void 0, v2 = void 0, d2 = void 0, p2 = void 0;
      switch (e2[l2++]) {
        case o2.M:
          n2 = e2[l2++], r2 = e2[l2++];
          break;
        case o2.L:
          if (u2 = e2[l2++], f2 = e2[l2++], (p2 = a2 ? (t6 - n2) / (u2 - n2) : (t6 - r2) / (f2 - r2)) <= 1 && p2 >= 0) {
            var m2 = a2 ? (f2 - r2) * p2 + r2 : (u2 - n2) * p2 + n2;
            return a2 ? [t6, m2] : [m2, t6];
          }
          n2 = u2, r2 = f2;
          break;
        case o2.C:
          u2 = e2[l2++], f2 = e2[l2++], c2 = e2[l2++], h2 = e2[l2++], v2 = e2[l2++], d2 = e2[l2++];
          var b2 = a2 ? Xe(n2, u2, c2, v2, t6, s2) : Xe(r2, f2, h2, d2, t6, s2);
          if (b2 > 0) for (var g3 = 0; g3 < b2; g3++) {
            var y2 = s2[g3];
            if (y2 <= 1 && y2 >= 0) return m2 = a2 ? He(r2, f2, h2, d2, y2) : He(n2, u2, c2, v2, y2), a2 ? [t6, m2] : [m2, t6];
          }
          n2 = v2, r2 = d2;
      }
    }
  }, i2;
})(Fu), qz = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2;
})(Gz), Jz = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2.type = "ec-polygon", n2;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new qz();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = i3.points, r2 = i3.stackedOnPoints, e2 = 0, o2 = n2.length / 2, a2 = i3.smoothMonotone;
    if (i3.connectNulls) {
      for (; o2 > 0 && Uz(n2[2 * o2 - 2], n2[2 * o2 - 1]); o2--) ;
      for (; e2 < o2 && Uz(n2[2 * e2], n2[2 * e2 + 1]); e2++) ;
    }
    for (; e2 < o2; ) {
      var s2 = $z(t6, n2, e2, o2, o2, 1, i3.smooth, a2, i3.connectNulls);
      $z(t6, r2, e2 + s2 - 1, s2, o2, -1, i3.stackedOnSmooth, a2, i3.connectNulls), e2 += s2 + 1, t6.closePath();
    }
  }, i2;
})(Fu);
function Kz(t5, i2, n2, r2, e2) {
  var o2 = t5.getArea(), a2 = o2.x, s2 = o2.y, l2 = o2.width, u2 = o2.height, f2 = n2.get(["lineStyle", "width"]) || 0;
  a2 -= f2 / 2, s2 -= f2 / 2, l2 += f2, u2 += f2, l2 = Math.ceil(l2), a2 !== Math.floor(a2) && (a2 = Math.floor(a2), l2++);
  var c2 = new Zu({ shape: { x: a2, y: s2, width: l2, height: u2 } });
  if (i2) {
    var h2 = t5.getBaseAxis(), v2 = h2.isHorizontal(), d2 = h2.inverse;
    v2 ? (d2 && (c2.shape.x += l2), c2.shape.width = 0) : (d2 || (c2.shape.y += u2), c2.shape.height = 0);
    var p2 = Tn(e2) ? function(t6) {
      e2(t6, c2);
    } : null;
    zh(c2, { shape: { width: l2, height: u2, x: a2, y: s2 } }, n2, null, r2, p2);
  }
  return c2;
}
function Qz(t5, i2, n2) {
  var r2 = t5.getArea(), e2 = fs(r2.r0, 1), o2 = fs(r2.r, 1), a2 = new Uc({ shape: { cx: fs(t5.cx, 1), cy: fs(t5.cy, 1), r0: e2, r: o2, startAngle: r2.startAngle, endAngle: r2.endAngle, clockwise: r2.clockwise } });
  return i2 && ("angle" === t5.getBaseAxis().dim ? a2.shape.endAngle = r2.startAngle : a2.shape.r = e2, zh(a2, { shape: { endAngle: r2.endAngle, r: o2 } }, n2)), a2;
}
function tS(t5, i2, n2, r2, e2) {
  return t5 ? "polar" === t5.type ? Qz(t5, i2, n2) : "cartesian2d" === t5.type ? Kz(t5, i2, n2, r2, e2) : null : null;
}
function iS(t5, i2) {
  return t5.type === i2;
}
function nS(t5, i2) {
  if (t5.length === i2.length) {
    for (var n2 = 0; n2 < t5.length; n2++) if (t5[n2] !== i2[n2]) return;
    return true;
  }
}
function rS(t5) {
  for (var i2 = 1 / 0, n2 = 1 / 0, r2 = -1 / 0, e2 = -1 / 0, o2 = 0; o2 < t5.length; ) {
    var a2 = t5[o2++], s2 = t5[o2++];
    isNaN(a2) || (i2 = Math.min(a2, i2), r2 = Math.max(a2, r2)), isNaN(s2) || (n2 = Math.min(s2, n2), e2 = Math.max(s2, e2));
  }
  return [[i2, n2], [r2, e2]];
}
function eS(t5, i2) {
  var n2 = rS(t5), r2 = n2[0], e2 = n2[1], o2 = rS(i2), a2 = o2[0], s2 = o2[1];
  return Math.max(Math.abs(r2[0] - a2[0]), Math.abs(r2[1] - a2[1]), Math.abs(e2[0] - s2[0]), Math.abs(e2[1] - s2[1]));
}
function oS(t5) {
  return Dn(t5) ? t5 : t5 ? 0.5 : 0;
}
function aS(t5, i2, n2, r2, e2) {
  var o2 = n2.getBaseAxis(), a2 = "x" === o2.dim || "radius" === o2.dim ? 0 : 1, s2 = [], l2 = 0, u2 = [], f2 = [], c2 = [], h2 = [];
  if (e2) {
    for (l2 = 0; l2 < t5.length; l2 += 2) {
      var v2 = i2 || t5;
      isNaN(v2[l2]) || isNaN(v2[l2 + 1]) || h2.push(t5[l2], t5[l2 + 1]);
    }
    t5 = h2;
  }
  for (l2 = 0; l2 < t5.length - 2; l2 += 2) switch (c2[0] = t5[l2 + 2], c2[1] = t5[l2 + 3], f2[0] = t5[l2], f2[1] = t5[l2 + 1], s2.push(f2[0], f2[1]), r2) {
    case "end":
      u2[a2] = c2[a2], u2[1 - a2] = f2[1 - a2], s2.push(u2[0], u2[1]);
      break;
    case "middle":
      var d2 = [];
      u2[a2] = d2[a2] = (f2[a2] + c2[a2]) / 2, u2[1 - a2] = f2[1 - a2], d2[1 - a2] = c2[1 - a2], s2.push(u2[0], u2[1]), s2.push(d2[0], d2[1]);
      break;
    default:
      u2[a2] = f2[a2], u2[1 - a2] = c2[1 - a2], s2.push(u2[0], u2[1]);
  }
  return s2.push(t5[l2++], t5[l2++]), s2;
}
function sS(t5, i2) {
  return [t5[2 * i2], t5[2 * i2 + 1]];
}
function lS(t5) {
  if (t5.get(["endLabel", "show"])) return true;
  for (var i2 = 0; i2 < gf.length; i2++) if (t5.get([gf[i2], "endLabel", "show"])) return true;
  return false;
}
function uS(t5, i2, n2, r2) {
  if (iS(i2, "cartesian2d")) {
    var e2 = r2.getModel("endLabel"), o2 = e2.get("valueAnimation"), a2 = r2.getData(), s2 = { lastFrameIndex: 0 }, l2 = lS(r2) ? function(n3, r3) {
      t5._endLabelOnDuring(n3, r3, a2, s2, o2, e2, i2);
    } : null, u2 = i2.getBaseAxis().isHorizontal(), f2 = Kz(i2, n2, r2, (function() {
      var i3 = t5._endLabel;
      i3 && n2 && null != s2.originalX && i3.attr({ x: s2.originalX, y: s2.originalY });
    }), l2);
    if (!r2.get("clip", true)) {
      var c2 = f2.shape, h2 = Math.max(c2.width, c2.height);
      u2 ? (c2.y -= h2, c2.height += 2 * h2) : (c2.x -= h2, c2.width += 2 * h2);
    }
    return l2 && l2(1, f2), f2;
  }
  return Qz(i2, n2, r2);
}
var fS = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.init = function() {
    var t6 = new rs(), i3 = new Vz();
    this.group.add(i3.group), this._symbolDraw = i3, this._lineGroup = t6, this._changePolyState = An(this._changePolyState, this);
  }, i2.prototype.render = function(t6, i3, n2) {
    var r2 = t6.coordinateSystem, e2 = this.group, o2 = t6.getData(), a2 = t6.getModel("lineStyle"), s2 = t6.getModel("areaStyle"), l2 = o2.getLayout("points") || [], u2 = "polar" === r2.type, f2 = this._coordSys, c2 = this._symbolDraw, h2 = this._polyline, v2 = this._polygon, d2 = this._lineGroup, p2 = !i3.ssr && t6.get("animation"), m2 = !s2.isEmpty(), b2 = s2.get("origin"), g3 = jz(r2, o2, b2), y2 = m2 && (function(t7, i4, n3) {
      if (!n3.valueDim) return [];
      for (var r3 = i4.count(), e3 = gx(2 * r3), o3 = 0; o3 < r3; o3++) {
        var a3 = Hz(n3, t7, i4, o3);
        e3[2 * o3] = a3[0], e3[2 * o3 + 1] = a3[1];
      }
      return e3;
    })(r2, o2, g3), w3 = t6.get("showSymbol"), x2 = t6.get("connectNulls"), k2 = w3 && !u2 && (function(t7, i4, n3) {
      var r3 = t7.get("showAllSymbol"), e3 = "auto" === r3;
      if (!r3 || e3) {
        var o3 = n3.getAxesByScale("ordinal")[0];
        if (o3 && (!e3 || !(function(t8, i5) {
          var n4 = t8.getExtent(), r4 = Math.abs(n4[1] - n4[0]) / t8.scale.count();
          isNaN(r4) && (r4 = 0);
          for (var e4 = i5.count(), o4 = Math.max(1, Math.round(e4 / 5)), a4 = 0; a4 < e4; a4 += o4) if (1.5 * Oz.getSymbolSize(i5, a4)[t8.isHorizontal() ? 1 : 0] > r4) return false;
          return true;
        })(o3, i4))) {
          var a3 = i4.mapDimension(o3.dim), s3 = {};
          return kn(o3.getViewLabels(), (function(t8) {
            var i5 = o3.scale.getRawOrdinalNumber(t8.tickValue);
            s3[i5] = 1;
          })), function(t8) {
            return !s3.hasOwnProperty(i4.get(a3, t8));
          };
        }
      }
    })(t6, o2, r2), M2 = this._data;
    M2 && M2.eachItemGraphicEl((function(t7, i4) {
      t7.__temp && (e2.remove(t7), M2.setItemGraphicEl(i4, null));
    })), w3 || c2.remove(), e2.add(d2);
    var z2, S3 = !u2 && t6.get("step");
    r2 && r2.getArea && t6.get("clip", true) && (null != (z2 = r2.getArea()).width ? (z2.x -= 0.1, z2.y -= 0.1, z2.width += 0.2, z2.height += 0.2) : z2.r0 && (z2.r0 -= 0.5, z2.r += 0.5)), this._clipShapeForSymbol = z2;
    var C3 = (function(t7, i4, n3) {
      var r3 = t7.getVisual("visualMeta");
      if (r3 && r3.length && t7.count() && "cartesian2d" === i4.type) {
        for (var e3, o3, a3 = r3.length - 1; a3 >= 0; a3--) {
          var s3 = t7.getDimensionInfo(r3[a3].dimension);
          if ("x" === (e3 = s3 && s3.coordDim) || "y" === e3) {
            o3 = r3[a3];
            break;
          }
        }
        if (o3) {
          var l3 = i4.getAxis(e3), u3 = Mn(o3.stops, (function(t8) {
            return { coord: l3.toGlobalCoord(l3.dataToCoord(t8.value)), color: t8.color };
          })), f3 = u3.length, c3 = o3.outerColors.slice();
          f3 && u3[0].coord > u3[f3 - 1].coord && (u3.reverse(), c3.reverse());
          var h3 = (function(t8, i5) {
            var n4, r4, e4 = [], o4 = t8.length;
            function a4(t9, i6, n5) {
              var r5 = t9.coord;
              return { coord: n5, color: (function(t10, i7) {
                if (i7 && i7.length && t10 >= 0 && t10 <= 1) {
                  var n6 = t10 * (i7.length - 1), r6 = Math.floor(n6), e5 = Math.ceil(n6), o5 = xo(i7[r6]), a5 = xo(i7[e5]), s5 = n6 - r6;
                  return Ao([uo(po(o5[0], a5[0], s5)), uo(po(o5[1], a5[1], s5)), uo(po(o5[2], a5[2], s5)), fo(po(o5[3], a5[3], s5))], "rgba");
                }
              })((n5 - r5) / (i6.coord - r5), [t9.color, i6.color]) };
            }
            for (var s4 = 0; s4 < o4; s4++) {
              var l4 = t8[s4], u4 = l4.coord;
              if (u4 < 0) n4 = l4;
              else {
                if (u4 > i5) {
                  r4 ? e4.push(a4(r4, l4, i5)) : n4 && e4.push(a4(n4, l4, 0), a4(n4, l4, i5));
                  break;
                }
                n4 && (e4.push(a4(n4, l4, 0)), n4 = null), e4.push(l4), r4 = l4;
              }
            }
            return e4;
          })(u3, "x" === e3 ? n3.getWidth() : n3.getHeight()), v3 = h3.length;
          if (!v3 && f3) return u3[0].coord < 0 ? c3[1] ? c3[1] : u3[f3 - 1].color : c3[0] ? c3[0] : u3[0].color;
          var d3 = h3[0].coord - 10, p3 = h3[v3 - 1].coord + 10, m3 = p3 - d3;
          if (m3 < 1e-3) return "transparent";
          kn(h3, (function(t8) {
            t8.offset = (t8.coord - d3) / m3;
          })), h3.push({ offset: v3 ? h3[v3 - 1].offset : 0.5, color: c3[1] || "transparent" }), h3.unshift({ offset: v3 ? h3[0].offset : 0.5, color: c3[0] || "transparent" });
          var b3 = new ch(0, 0, 0, 0, h3, true);
          return b3[e3] = d3, b3[e3 + "2"] = p3, b3;
        }
      }
    })(o2, r2, n2) || o2.getVisual("style")[o2.getVisual("drawType")];
    if (h2 && f2.type === r2.type && S3 === this._step) {
      m2 && !v2 ? v2 = this._newPolygon(l2, y2) : v2 && !m2 && (d2.remove(v2), v2 = this._polygon = null), u2 || this._initOrUpdateEndLabel(t6, r2, xd(C3));
      var A3 = d2.getClipPath();
      A3 ? zh(A3, { shape: uS(this, r2, false, t6).shape }, t6) : d2.setClipPath(uS(this, r2, true, t6)), w3 && c2.updateData(o2, { isIgnore: k2, clipShape: z2, disableAnimation: true, getSymbolPoint: function(t7) {
        return [l2[2 * t7], l2[2 * t7 + 1]];
      } }), nS(this._stackedOnPoints, y2) && nS(this._points, l2) || (p2 ? this._doUpdateAnimation(o2, y2, r2, n2, S3, b2, x2) : (S3 && (y2 && (y2 = aS(y2, l2, r2, S3, x2)), l2 = aS(l2, null, r2, S3, x2)), h2.setShape({ points: l2 }), v2 && v2.setShape({ points: l2, stackedOnPoints: y2 })));
    } else w3 && c2.updateData(o2, { isIgnore: k2, clipShape: z2, disableAnimation: true, getSymbolPoint: function(t7) {
      return [l2[2 * t7], l2[2 * t7 + 1]];
    } }), p2 && this._initSymbolLabelAnimation(o2, r2, z2), S3 && (y2 && (y2 = aS(y2, l2, r2, S3, x2)), l2 = aS(l2, null, r2, S3, x2)), h2 = this._newPolyline(l2), m2 ? v2 = this._newPolygon(l2, y2) : v2 && (d2.remove(v2), v2 = this._polygon = null), u2 || this._initOrUpdateEndLabel(t6, r2, xd(C3)), d2.setClipPath(uS(this, r2, true, t6));
    var N2 = t6.getModel("emphasis"), _2 = N2.get("focus"), T4 = N2.get("blurScope"), I2 = N2.get("disabled");
    h2.useStyle(gn(a2.getLineStyle(), { fill: "none", stroke: C3, lineJoin: "bevel" })), ec(h2, t6, "lineStyle"), h2.style.lineWidth > 0 && "bolder" === t6.get(["emphasis", "lineStyle", "width"]) && (h2.getState("emphasis").style.lineWidth = +h2.style.lineWidth + 1), hf(h2).seriesIndex = t6.seriesIndex, tc(h2, _2, T4, I2);
    var L2 = oS(t6.get("smooth")), D2 = t6.get("smoothMonotone");
    if (h2.setShape({ smooth: L2, smoothMonotone: D2, connectNulls: x2 }), v2) {
      var W3 = o2.getCalculationInfo("stackedOnSeries"), E3 = 0;
      v2.useStyle(gn(s2.getAreaStyle(), { fill: C3, opacity: 0.7, lineJoin: "bevel", decal: o2.getVisual("style").decal })), W3 && (E3 = oS(W3.get("smooth"))), v2.setShape({ smooth: L2, stackedOnSmooth: E3, smoothMonotone: D2, connectNulls: x2 }), ec(v2, t6, "areaStyle"), hf(v2).seriesIndex = t6.seriesIndex, tc(v2, _2, T4, I2);
    }
    var O3 = this._changePolyState;
    o2.eachItemGraphicEl((function(t7) {
      t7 && (t7.onHoverStateChange = O3);
    })), this._polyline.onHoverStateChange = O3, this._data = o2, this._coordSys = r2, this._stackedOnPoints = y2, this._points = l2, this._step = S3, this._valueOrigin = b2, t6.get("triggerLineEvent") && (this.packEventData(t6, h2), v2 && this.packEventData(t6, v2));
  }, i2.prototype.packEventData = function(t6, i3) {
    hf(i3).eventData = { componentType: "series", componentSubType: "line", componentIndex: t6.componentIndex, seriesIndex: t6.seriesIndex, seriesName: t6.name, seriesType: "line" };
  }, i2.prototype.highlight = function(t6, i3, n2, r2) {
    var e2 = t6.getData(), o2 = Ys(e2, r2);
    if (this._changePolyState("emphasis"), !(o2 instanceof Array) && null != o2 && o2 >= 0) {
      var a2 = e2.getLayout("points"), s2 = e2.getItemGraphicEl(o2);
      if (!s2) {
        var l2 = a2[2 * o2], u2 = a2[2 * o2 + 1];
        if (isNaN(l2) || isNaN(u2)) return;
        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(l2, u2)) return;
        var f2 = t6.get("zlevel") || 0, c2 = t6.get("z") || 0;
        (s2 = new Oz(e2, o2)).x = l2, s2.y = u2, s2.setZ(f2, c2);
        var h2 = s2.getSymbolPath().getTextContent();
        h2 && (h2.zlevel = f2, h2.z = c2, h2.z2 = this._polyline.z2 + 1), s2.__temp = true, e2.setItemGraphicEl(o2, s2), s2.stopSymbolAnimation(true), this.group.add(s2);
      }
      s2.highlight();
    } else Sb.prototype.highlight.call(this, t6, i3, n2, r2);
  }, i2.prototype.downplay = function(t6, i3, n2, r2) {
    var e2 = t6.getData(), o2 = Ys(e2, r2);
    if (this._changePolyState("normal"), null != o2 && o2 >= 0) {
      var a2 = e2.getItemGraphicEl(o2);
      a2 && (a2.__temp ? (e2.setItemGraphicEl(o2, null), this.group.remove(a2)) : a2.downplay());
    } else Sb.prototype.downplay.call(this, t6, i3, n2, r2);
  }, i2.prototype._changePolyState = function(t6) {
    var i3 = this._polygon;
    Ef(this._polyline, t6), i3 && Ef(i3, t6);
  }, i2.prototype._newPolyline = function(t6) {
    var i3 = this._polyline;
    return i3 && this._lineGroup.remove(i3), i3 = new Zz({ shape: { points: t6 }, segmentIgnoreThreshold: 2, z2: 10 }), this._lineGroup.add(i3), this._polyline = i3, i3;
  }, i2.prototype._newPolygon = function(t6, i3) {
    var n2 = this._polygon;
    return n2 && this._lineGroup.remove(n2), n2 = new Jz({ shape: { points: t6, stackedOnPoints: i3 }, segmentIgnoreThreshold: 2 }), this._lineGroup.add(n2), this._polygon = n2, n2;
  }, i2.prototype._initSymbolLabelAnimation = function(t6, i3, n2) {
    var r2, e2, o2 = i3.getBaseAxis(), a2 = o2.inverse;
    "cartesian2d" === i3.type ? (r2 = o2.isHorizontal(), e2 = false) : "polar" === i3.type && (r2 = "angle" === o2.dim, e2 = true);
    var s2 = t6.hostModel, l2 = s2.get("animationDuration");
    Tn(l2) && (l2 = l2(null));
    var u2 = s2.get("animationDelay") || 0, f2 = Tn(u2) ? u2(null) : u2;
    t6.eachItemGraphicEl((function(t7, o3) {
      var s3 = t7;
      if (s3) {
        var c2 = void 0, h2 = void 0, v2 = void 0;
        if (n2) if (e2) {
          var d2 = n2, p2 = i3.pointToCoord([t7.x, t7.y]);
          r2 ? (c2 = d2.startAngle, h2 = d2.endAngle, v2 = -p2[1] / 180 * Math.PI) : (c2 = d2.r0, h2 = d2.r, v2 = p2[0]);
        } else r2 ? (c2 = n2.x, h2 = n2.x + n2.width, v2 = t7.x) : (c2 = n2.y + n2.height, h2 = n2.y, v2 = t7.y);
        var m2 = h2 === c2 ? 0 : (v2 - c2) / (h2 - c2);
        a2 && (m2 = 1 - m2);
        var b2 = Tn(u2) ? u2(o3) : l2 * m2 + f2, g3 = s3.getSymbolPath(), y2 = g3.getTextContent();
        s3.attr({ scaleX: 0, scaleY: 0 }), s3.animateTo({ scaleX: 1, scaleY: 1 }, { duration: 200, setToFinal: true, delay: b2 }), y2 && y2.animateFrom({ style: { opacity: 0 } }, { duration: 300, delay: b2 }), g3.disableLabelAnimation = true;
      }
    }));
  }, i2.prototype._initOrUpdateEndLabel = function(t6, i3, n2) {
    var r2 = t6.getModel("endLabel");
    if (lS(t6)) {
      var e2 = t6.getData(), o2 = this._polyline, a2 = e2.getLayout("points");
      if (!a2) return o2.removeTextContent(), void (this._endLabel = null);
      var s2 = this._endLabel;
      s2 || ((s2 = this._endLabel = new Ku({ z2: 200 })).ignoreClip = true, o2.setTextContent(this._endLabel), o2.disableLabelAnimation = true);
      var l2 = (function(t7) {
        for (var i4, n3 = t7.length / 2; n3 > 0 && (i4 = t7[2 * n3 - 1], isNaN(t7[2 * n3 - 2]) || isNaN(i4)); n3--) ;
        return n3 - 1;
      })(a2);
      l2 >= 0 && (ov(o2, av(t6, "endLabel"), { inheritColor: n2, labelFetcher: t6, labelDataIndex: l2, defaultText: function(t7, i4, n3) {
        return null != n3 ? Ez(e2, n3) : Wz(e2, t7);
      }, enableTextSetter: true }, (function(t7, i4) {
        var n3 = i4.getBaseAxis(), r3 = n3.isHorizontal(), e3 = n3.inverse, o3 = r3 ? e3 ? "right" : "left" : "center", a3 = r3 ? "middle" : e3 ? "top" : "bottom";
        return { normal: { align: t7.get("align") || o3, verticalAlign: t7.get("verticalAlign") || a3 } };
      })(r2, i3)), o2.textConfig.position = null);
    } else this._endLabel && (this._polyline.removeTextContent(), this._endLabel = null);
  }, i2.prototype._endLabelOnDuring = function(t6, i3, n2, r2, e2, o2, a2) {
    var s2 = this._endLabel, l2 = this._polyline;
    if (s2) {
      t6 < 1 && null == r2.originalX && (r2.originalX = s2.x, r2.originalY = s2.y);
      var u2 = n2.getLayout("points"), f2 = n2.hostModel, c2 = f2.get("connectNulls"), h2 = o2.get("precision"), v2 = o2.get("distance") || 0, d2 = a2.getBaseAxis(), p2 = d2.isHorizontal(), m2 = d2.inverse, b2 = i3.shape, g3 = m2 ? p2 ? b2.x : b2.y + b2.height : p2 ? b2.x + b2.width : b2.y, y2 = (p2 ? v2 : 0) * (m2 ? -1 : 1), w3 = (p2 ? 0 : -v2) * (m2 ? -1 : 1), x2 = p2 ? "x" : "y", k2 = (function(t7, i4, n3) {
        for (var r3, e3, o3 = t7.length / 2, a3 = "x" === n3 ? 0 : 1, s3 = 0, l3 = -1, u3 = 0; u3 < o3; u3++) if (e3 = t7[2 * u3 + a3], !isNaN(e3) && !isNaN(t7[2 * u3 + 1 - a3])) if (0 !== u3) {
          if (r3 <= i4 && e3 >= i4 || r3 >= i4 && e3 <= i4) {
            l3 = u3;
            break;
          }
          s3 = u3, r3 = e3;
        } else r3 = e3;
        return { range: [s3, l3], t: (i4 - r3) / (e3 - r3) };
      })(u2, g3, x2), M2 = k2.range, z2 = M2[1] - M2[0], S3 = void 0;
      if (z2 >= 1) {
        if (z2 > 1 && !c2) {
          var C3 = sS(u2, M2[0]);
          s2.attr({ x: C3[0] + y2, y: C3[1] + w3 }), e2 && (S3 = f2.getRawValue(M2[0]));
        } else {
          (C3 = l2.getPointOn(g3, x2)) && s2.attr({ x: C3[0] + y2, y: C3[1] + w3 });
          var A3 = f2.getRawValue(M2[0]), N2 = f2.getRawValue(M2[1]);
          e2 && (S3 = tl(n2, h2, A3, N2, k2.t));
        }
        r2.lastFrameIndex = M2[0];
      } else {
        var _2 = 1 === t6 || r2.lastFrameIndex > 0 ? M2[0] : 0;
        C3 = sS(u2, _2), e2 && (S3 = f2.getRawValue(_2)), s2.attr({ x: C3[0] + y2, y: C3[1] + w3 });
      }
      if (e2) {
        var T4 = dv(s2);
        "function" == typeof T4.setLabelText && T4.setLabelText(S3);
      }
    }
  }, i2.prototype._doUpdateAnimation = function(t6, i3, n2, r2, e2, o2, a2) {
    var s2 = this._polyline, l2 = this._polygon, u2 = t6.hostModel, f2 = (function(t7, i4, n3, r3, e3, o3, a3) {
      for (var s3 = (function(t8, i5) {
        var n4 = [];
        return i5.diff(t8).add((function(t9) {
          n4.push({ cmd: "+", idx: t9 });
        })).update((function(t9, i6) {
          n4.push({ cmd: "=", idx: i6, idx1: t9 });
        })).remove((function(t9) {
          n4.push({ cmd: "-", idx: t9 });
        })).execute(), n4;
      })(t7, i4), l3 = [], u3 = [], f3 = [], c3 = [], h3 = [], v3 = [], d3 = [], p3 = jz(e3, i4, a3), m3 = t7.getLayout("points") || [], b3 = i4.getLayout("points") || [], g4 = 0; g4 < s3.length; g4++) {
        var y3 = s3[g4], w3 = true, x2 = void 0, k2 = void 0;
        switch (y3.cmd) {
          case "=":
            var M2 = m3[x2 = 2 * y3.idx], z2 = m3[x2 + 1], S3 = b3[k2 = 2 * y3.idx1], C3 = b3[k2 + 1];
            (isNaN(M2) || isNaN(z2)) && (M2 = S3, z2 = C3), l3.push(M2, z2), u3.push(S3, C3), f3.push(n3[x2], n3[x2 + 1]), c3.push(r3[k2], r3[k2 + 1]), d3.push(i4.getRawIndex(y3.idx1));
            break;
          case "+":
            var A3 = y3.idx, N2 = p3.dataDimsForPoint, _2 = e3.dataToPoint([i4.get(N2[0], A3), i4.get(N2[1], A3)]);
            k2 = 2 * A3, l3.push(_2[0], _2[1]), u3.push(b3[k2], b3[k2 + 1]);
            var T4 = Hz(p3, e3, i4, A3);
            f3.push(T4[0], T4[1]), c3.push(r3[k2], r3[k2 + 1]), d3.push(i4.getRawIndex(A3));
            break;
          case "-":
            w3 = false;
        }
        w3 && (h3.push(y3), v3.push(v3.length));
      }
      v3.sort((function(t8, i5) {
        return d3[t8] - d3[i5];
      }));
      var I2 = l3.length, L2 = gx(I2), D2 = gx(I2), W3 = gx(I2), E3 = gx(I2), O3 = [];
      for (g4 = 0; g4 < v3.length; g4++) {
        var F3 = v3[g4], R2 = 2 * g4, P2 = 2 * F3;
        L2[R2] = l3[P2], L2[R2 + 1] = l3[P2 + 1], D2[R2] = u3[P2], D2[R2 + 1] = u3[P2 + 1], W3[R2] = f3[P2], W3[R2 + 1] = f3[P2 + 1], E3[R2] = c3[P2], E3[R2 + 1] = c3[P2 + 1], O3[g4] = h3[F3];
      }
      return { current: L2, next: D2, stackedOnCurrent: W3, stackedOnNext: E3, status: O3 };
    })(this._data, t6, this._stackedOnPoints, i3, this._coordSys, 0, this._valueOrigin), c2 = f2.current, h2 = f2.stackedOnCurrent, v2 = f2.next, d2 = f2.stackedOnNext;
    if (e2 && (h2 = aS(f2.stackedOnCurrent, f2.current, n2, e2, a2), c2 = aS(f2.current, null, n2, e2, a2), d2 = aS(f2.stackedOnNext, f2.next, n2, e2, a2), v2 = aS(f2.next, null, n2, e2, a2)), eS(c2, v2) > 3e3 || l2 && eS(h2, d2) > 3e3) return s2.stopAnimation(), s2.setShape({ points: v2 }), void (l2 && (l2.stopAnimation(), l2.setShape({ points: v2, stackedOnPoints: d2 })));
    s2.shape.__points = f2.current, s2.shape.points = c2;
    var p2 = { shape: { points: v2 } };
    f2.current !== c2 && (p2.shape.__points = f2.next), s2.stopAnimation(), Mh(s2, p2, u2), l2 && (l2.setShape({ points: c2, stackedOnPoints: h2 }), l2.stopAnimation(), Mh(l2, { shape: { stackedOnPoints: d2 } }, u2), s2.shape.points !== l2.shape.points && (l2.shape.points = s2.shape.points));
    for (var m2 = [], b2 = f2.status, g3 = 0; g3 < b2.length; g3++) if ("=" === b2[g3].cmd) {
      var y2 = t6.getItemGraphicEl(b2[g3].idx1);
      y2 && m2.push({ el: y2, ptIdx: g3 });
    }
    s2.animators && s2.animators.length && s2.animators[0].during((function() {
      l2 && l2.dirtyShape();
      for (var t7 = s2.shape.__points, i4 = 0; i4 < m2.length; i4++) {
        var n3 = m2[i4].el, r3 = 2 * m2[i4].ptIdx;
        n3.x = t7[r3], n3.y = t7[r3 + 1], n3.markRedraw();
      }
    }));
  }, i2.prototype.remove = function() {
    var t6 = this.group, i3 = this._data;
    this._lineGroup.removeAll(), this._symbolDraw.remove(true), i3 && i3.eachItemGraphicEl((function(n2, r2) {
      n2.__temp && (t6.remove(n2), i3.setItemGraphicEl(r2, null));
    })), this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null;
  }, i2.type = "line", i2;
})(Sb);
function cS(t5, i2) {
  return { seriesType: t5, plan: kb(), reset: function(t6) {
    var n2 = t6.getData(), r2 = t6.coordinateSystem, e2 = i2 || t6.pipelineContext.large;
    if (r2) {
      var o2 = Mn(r2.dimensions, (function(t7) {
        return n2.mapDimension(t7);
      })).slice(0, 2), a2 = o2.length, s2 = n2.getCalculationInfo("stackResultDimension");
      Qw(n2, o2[0]) && (o2[0] = s2), Qw(n2, o2[1]) && (o2[1] = s2);
      var l2 = n2.getStore(), u2 = n2.getDimensionIndex(o2[0]), f2 = n2.getDimensionIndex(o2[1]);
      return a2 && { progress: function(t7, i3) {
        for (var n3 = e2 && gx((t7.end - t7.start) * a2), o3 = [], s3 = [], c2 = t7.start, h2 = 0; c2 < t7.end; c2++) {
          var v2 = void 0;
          if (1 === a2) {
            var d2 = l2.get(u2, c2);
            v2 = r2.dataToPoint(d2, null, s3);
          } else o3[0] = l2.get(u2, c2), o3[1] = l2.get(f2, c2), v2 = r2.dataToPoint(o3, null, s3);
          e2 ? (n3[h2++] = v2[0], n3[h2++] = v2[1]) : i3.setItemLayout(c2, v2.slice());
        }
        e2 && i3.setLayout("points", n3);
      } };
    }
  } };
}
var hS = { average: function(t5) {
  for (var i2 = 0, n2 = 0, r2 = 0; r2 < t5.length; r2++) isNaN(t5[r2]) || (i2 += t5[r2], n2++);
  return 0 === n2 ? NaN : i2 / n2;
}, sum: function(t5) {
  for (var i2 = 0, n2 = 0; n2 < t5.length; n2++) i2 += t5[n2] || 0;
  return i2;
}, max: function(t5) {
  for (var i2 = -1 / 0, n2 = 0; n2 < t5.length; n2++) t5[n2] > i2 && (i2 = t5[n2]);
  return isFinite(i2) ? i2 : NaN;
}, min: function(t5) {
  for (var i2 = 1 / 0, n2 = 0; n2 < t5.length; n2++) t5[n2] < i2 && (i2 = t5[n2]);
  return isFinite(i2) ? i2 : NaN;
}, nearest: function(t5) {
  return t5[0];
} }, vS = function(t5) {
  return Math.round(t5.length / 2);
};
function dS(t5) {
  return { seriesType: t5, reset: function(t6, i2, n2) {
    var r2 = t6.getData(), e2 = t6.get("sampling"), o2 = t6.coordinateSystem, a2 = r2.count();
    if (a2 > 10 && "cartesian2d" === o2.type && e2) {
      var s2 = o2.getBaseAxis(), l2 = o2.getOtherAxis(s2), u2 = s2.getExtent(), f2 = n2.getDevicePixelRatio(), c2 = Math.abs(u2[1] - u2[0]) * (f2 || 1), h2 = Math.round(a2 / c2);
      if (isFinite(h2) && h2 > 1) {
        "lttb" === e2 ? t6.setData(r2.lttbDownSample(r2.mapDimension(l2.dim), 1 / h2)) : "minmax" === e2 && t6.setData(r2.minmaxDownSample(r2.mapDimension(l2.dim), 1 / h2));
        var v2 = void 0;
        In(e2) ? v2 = hS[e2] : Tn(e2) && (v2 = e2), v2 && t6.setData(r2.downSample(r2.mapDimension(l2.dim), 1 / h2, v2, vS));
      }
    }
  } };
}
var pS = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function() {
    return ix(null, this, { useEncodeDefaulter: true });
  }, i2.prototype.getMarkerPosition = function(t6, i3, n2) {
    var r2 = this.coordinateSystem;
    if (r2 && r2.clampData) {
      var e2 = r2.clampData(t6), o2 = r2.dataToPoint(e2);
      if (n2) kn(r2.getAxes(), (function(t7, n3) {
        if ("category" === t7.type && null != i3) {
          var r3 = t7.getTicksCoords(), a3 = t7.getTickModel().get("alignWithLabel"), s3 = e2[n3], l3 = "x1" === i3[n3] || "y1" === i3[n3];
          if (l3 && !a3 && (s3 += 1), r3.length < 2) return;
          if (2 === r3.length) return void (o2[n3] = t7.toGlobalCoord(t7.getExtent()[l3 ? 1 : 0]));
          for (var u3 = void 0, f2 = void 0, c2 = 1, h2 = 0; h2 < r3.length; h2++) {
            var v2 = r3[h2].coord, d2 = h2 === r3.length - 1 ? r3[h2 - 1].tickValue + c2 : r3[h2].tickValue;
            if (d2 === s3) {
              f2 = v2;
              break;
            }
            if (d2 < s3) u3 = v2;
            else if (null != u3 && d2 > s3) {
              f2 = (v2 + u3) / 2;
              break;
            }
            1 === h2 && (c2 = d2 - r3[0].tickValue);
          }
          null == f2 && (u3 ? u3 && (f2 = r3[r3.length - 1].coord) : f2 = r3[0].coord), o2[n3] = t7.toGlobalCoord(f2);
        }
      }));
      else {
        var a2 = this.getData(), s2 = a2.getLayout("offset"), l2 = a2.getLayout("size"), u2 = r2.getBaseAxis().isHorizontal() ? 0 : 1;
        o2[u2] += s2 + l2 / 2;
      }
      return o2;
    }
    return [NaN, NaN];
  }, i2.type = "series.__base_bar__", i2.defaultOption = { z: 2, coordinateSystem: "cartesian2d", legendHoverLink: true, barMinHeight: 0, barMinAngle: 0, large: false, largeThreshold: 400, progressive: 3e3, progressiveChunkMode: "mod" }, i2;
})(vb);
vb.registerClass(pS);
var mS = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function() {
    return ix(null, this, { useEncodeDefaulter: true, createInvertedIndices: !!this.get("realtimeSort", true) || null });
  }, i2.prototype.getProgressive = function() {
    return !!this.get("large") && this.get("progressive");
  }, i2.prototype.getProgressiveThreshold = function() {
    var t6 = this.get("progressiveThreshold"), i3 = this.get("largeThreshold");
    return i3 > t6 && (t6 = i3), t6;
  }, i2.prototype.brushSelector = function(t6, i3, n2) {
    return n2.rect(i3.getItemLayout(t6));
  }, i2.type = "series.bar", i2.dependencies = ["grid", "polar"], i2.defaultOption = Lv(pS.defaultOption, { clip: true, roundCap: false, showBackground: false, backgroundStyle: { color: "rgba(180, 180, 180, 0.2)", borderColor: null, borderWidth: 0, borderType: "solid", borderRadius: 0, shadowBlur: 0, shadowColor: null, shadowOffsetX: 0, shadowOffsetY: 0, opacity: 1 }, select: { itemStyle: { borderColor: "#212121" } }, realtimeSort: false }), i2;
})(pS), bS = function() {
  this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = 2 * Math.PI, this.clockwise = true;
}, gS = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2.type = "sausage", n2;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new bS();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = i3.cx, r2 = i3.cy, e2 = Math.max(i3.r0 || 0, 0), o2 = Math.max(i3.r, 0), a2 = 0.5 * (o2 - e2), s2 = e2 + a2, l2 = i3.startAngle, u2 = i3.endAngle, f2 = i3.clockwise, c2 = 2 * Math.PI, h2 = f2 ? u2 - l2 < c2 : l2 - u2 < c2;
    h2 || (l2 = u2 - (f2 ? c2 : -c2));
    var v2 = Math.cos(l2), d2 = Math.sin(l2), p2 = Math.cos(u2), m2 = Math.sin(u2);
    h2 ? (t6.moveTo(v2 * e2 + n2, d2 * e2 + r2), t6.arc(v2 * s2 + n2, d2 * s2 + r2, a2, -Math.PI + l2, l2, !f2)) : t6.moveTo(v2 * o2 + n2, d2 * o2 + r2), t6.arc(n2, r2, o2, l2, u2, !f2), t6.arc(p2 * s2 + n2, m2 * s2 + r2, a2, u2 - 2 * Math.PI, u2 - Math.PI, !f2), 0 !== e2 && t6.arc(n2, r2, e2, u2, l2, f2);
  }, i2;
})(Fu);
function yS(t5, i2, n2) {
  return i2 * Math.sin(t5) * (n2 ? -1 : 1);
}
function wS(t5, i2, n2) {
  return i2 * Math.cos(t5) * (n2 ? 1 : -1);
}
function xS(t5, i2, n2) {
  var r2 = t5.get("borderRadius");
  if (null == r2) return n2 ? { cornerRadius: 0 } : null;
  _n(r2) || (r2 = [r2, r2, r2, r2]);
  var e2 = Math.abs(i2.r || 0 - i2.r0 || 0);
  return { cornerRadius: Mn(r2, (function(t6) {
    return Xa(t6, e2);
  })) };
}
var kS = Math.max, MS = Math.min, zS = (function(t5) {
  function i2() {
    var n2 = t5.call(this) || this;
    return n2.type = i2.type, n2._isFirstFrame = true, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2, r2) {
    this._model = t6, this._removeOnRenderedListener(n2), this._updateDrawMode(t6);
    var e2 = t6.get("coordinateSystem");
    "cartesian2d" !== e2 && "polar" !== e2 || (this._progressiveEls = null, this._isLargeDraw ? this._renderLarge(t6, i3, n2) : this._renderNormal(t6, i3, n2, r2));
  }, i2.prototype.incrementalPrepareRender = function(t6) {
    this._clear(), this._updateDrawMode(t6), this._updateLargeClip(t6);
  }, i2.prototype.incrementalRender = function(t6, i3) {
    this._progressiveEls = [], this._incrementalRenderLarge(t6, i3);
  }, i2.prototype.eachRendered = function(t6) {
    tv(this._progressiveEls || this.group, t6);
  }, i2.prototype._updateDrawMode = function(t6) {
    var i3 = t6.pipelineContext.large;
    null != this._isLargeDraw && i3 === this._isLargeDraw || (this._isLargeDraw = i3, this._clear());
  }, i2.prototype._renderNormal = function(t6, i3, n2, r2) {
    var e2, o2 = this.group, a2 = t6.getData(), s2 = this._data, l2 = t6.coordinateSystem, u2 = l2.getBaseAxis();
    "cartesian2d" === l2.type ? e2 = u2.isHorizontal() : "polar" === l2.type && (e2 = "angle" === u2.dim);
    var f2 = t6.isAnimationEnabled() ? t6 : null, c2 = (function(t7, i4) {
      var n3 = t7.get("realtimeSort", true), r3 = i4.getBaseAxis();
      if (n3 && "category" === r3.type && "cartesian2d" === i4.type) return { baseAxis: r3, otherAxis: i4.getOtherAxis(r3) };
    })(t6, l2);
    c2 && this._enableRealtimeSort(c2, a2, n2);
    var h2 = t6.get("clip", true) || c2, v2 = (function(t7, i4) {
      var n3 = t7.getArea && t7.getArea();
      if (iS(t7, "cartesian2d")) {
        var r3 = t7.getBaseAxis();
        if ("category" !== r3.type || !r3.onBand) {
          var e3 = i4.getLayout("bandWidth");
          r3.isHorizontal() ? (n3.x -= e3, n3.width += 2 * e3) : (n3.y -= e3, n3.height += 2 * e3);
        }
      }
      return n3;
    })(l2, a2);
    o2.removeClipPath();
    var d2 = t6.get("roundCap", true), p2 = t6.get("showBackground", true), m2 = t6.getModel("backgroundStyle"), b2 = m2.get("borderRadius") || 0, g3 = [], y2 = this._backgroundEls, w3 = r2 && r2.isInitSort, x2 = r2 && "changeAxisOrder" === r2.type;
    function k2(t7) {
      var i4 = LS[l2.type](a2, t7), n3 = (function(t8, i5, n4) {
        return new ("polar" === t8.type ? Uc : Zu)({ shape: PS(i5, n4, t8), silent: true, z2: 0 });
      })(l2, e2, i4);
      return n3.useStyle(m2.getItemStyle()), n3.setShape("cartesian2d" === l2.type ? "r" : "cornerRadius", b2), g3[t7] = n3, n3;
    }
    a2.diff(s2).add((function(i4) {
      var n3 = a2.getItemModel(i4), r3 = LS[l2.type](a2, i4, n3);
      if (p2 && k2(i4), a2.hasValue(i4) && IS[l2.type](r3)) {
        var s3 = false;
        h2 && (s3 = SS[l2.type](v2, r3));
        var m3 = CS[l2.type](t6, a2, i4, r3, e2, f2, u2.model, false, d2);
        c2 && (m3.forceLabelAnimation = true), WS(m3, a2, i4, n3, r3, t6, e2, "polar" === l2.type), w3 ? m3.attr({ shape: r3 }) : c2 ? AS(c2, f2, m3, r3, i4, e2, false, false) : zh(m3, { shape: r3 }, t6, i4), a2.setItemGraphicEl(i4, m3), o2.add(m3), m3.ignore = s3;
      }
    })).update((function(i4, n3) {
      var r3 = a2.getItemModel(i4), M3 = LS[l2.type](a2, i4, r3);
      if (p2) {
        var z3 = void 0;
        0 === y2.length ? z3 = k2(n3) : ((z3 = y2[n3]).useStyle(m2.getItemStyle()), z3.setShape("cartesian2d" === l2.type ? "r" : "cornerRadius", b2), g3[i4] = z3);
        var S3 = LS[l2.type](a2, i4);
        Mh(z3, { shape: PS(e2, S3, l2) }, f2, i4);
      }
      var C3 = s2.getItemGraphicEl(n3);
      if (a2.hasValue(i4) && IS[l2.type](M3)) {
        var A3 = false;
        if (h2 && (A3 = SS[l2.type](v2, M3)) && o2.remove(C3), C3 ? _h(C3) : C3 = CS[l2.type](t6, a2, i4, M3, e2, f2, u2.model, !!C3, d2), c2 && (C3.forceLabelAnimation = true), x2) {
          var N2 = C3.getTextContent();
          if (N2) {
            var _2 = dv(N2);
            null != _2.prevValue && (_2.prevValue = _2.value);
          }
        } else WS(C3, a2, i4, r3, M3, t6, e2, "polar" === l2.type);
        w3 ? C3.attr({ shape: M3 }) : c2 ? AS(c2, f2, C3, M3, i4, e2, true, x2) : Mh(C3, { shape: M3 }, t6, i4, null), a2.setItemGraphicEl(i4, C3), C3.ignore = A3, o2.add(C3);
      } else o2.remove(C3);
    })).remove((function(i4) {
      var n3 = s2.getItemGraphicEl(i4);
      n3 && Nh(n3, t6, i4);
    })).execute();
    var M2 = this._backgroundGroup || (this._backgroundGroup = new rs());
    M2.removeAll();
    for (var z2 = 0; z2 < g3.length; ++z2) M2.add(g3[z2]);
    o2.add(M2), this._backgroundEls = g3, this._data = a2;
  }, i2.prototype._renderLarge = function(t6) {
    this._clear(), FS(t6, this.group), this._updateLargeClip(t6);
  }, i2.prototype._incrementalRenderLarge = function(t6, i3) {
    this._removeBackground(), FS(i3, this.group, this._progressiveEls, true);
  }, i2.prototype._updateLargeClip = function(t6) {
    var i3 = t6.get("clip", true) && tS(t6.coordinateSystem, false, t6), n2 = this.group;
    i3 ? n2.setClipPath(i3) : n2.removeClipPath();
  }, i2.prototype._enableRealtimeSort = function(t6, i3, n2) {
    var r2 = this;
    if (i3.count()) {
      var e2 = t6.baseAxis;
      if (this._isFirstFrame) this._dispatchInitSort(i3, t6, n2), this._isFirstFrame = false;
      else {
        var o2 = function(t7) {
          var n3 = i3.getItemGraphicEl(t7), r3 = n3 && n3.shape;
          return r3 && Math.abs(e2.isHorizontal() ? r3.height : r3.width) || 0;
        };
        this._onRendered = function() {
          r2._updateSortWithinSameData(i3, o2, e2, n2);
        }, n2.getZr().on("rendered", this._onRendered);
      }
    }
  }, i2.prototype._dataSort = function(t6, i3, n2) {
    var r2 = [];
    return t6.each(t6.mapDimension(i3.dim), (function(t7, i4) {
      var e2 = n2(i4);
      r2.push({ dataIndex: i4, mappedValue: e2 = null == e2 ? NaN : e2, ordinalNumber: t7 });
    })), r2.sort((function(t7, i4) {
      return i4.mappedValue - t7.mappedValue;
    })), { ordinalNumbers: Mn(r2, (function(t7) {
      return t7.ordinalNumber;
    })) };
  }, i2.prototype._isOrderChangedWithinSameData = function(t6, i3, n2) {
    for (var r2 = n2.scale, e2 = t6.mapDimension(n2.dim), o2 = Number.MAX_VALUE, a2 = 0, s2 = r2.getOrdinalMeta().categories.length; a2 < s2; ++a2) {
      var l2 = t6.rawIndexOf(e2, r2.getRawOrdinalNumber(a2)), u2 = l2 < 0 ? Number.MIN_VALUE : i3(t6.indexOfRawIndex(l2));
      if (u2 > o2) return true;
      o2 = u2;
    }
    return false;
  }, i2.prototype._isOrderDifferentInView = function(t6, i3) {
    for (var n2 = i3.scale, r2 = n2.getExtent(), e2 = Math.max(0, r2[0]), o2 = Math.min(r2[1], n2.getOrdinalMeta().categories.length - 1); e2 <= o2; ++e2) if (t6.ordinalNumbers[e2] !== n2.getRawOrdinalNumber(e2)) return true;
  }, i2.prototype._updateSortWithinSameData = function(t6, i3, n2, r2) {
    if (this._isOrderChangedWithinSameData(t6, i3, n2)) {
      var e2 = this._dataSort(t6, n2, i3);
      this._isOrderDifferentInView(e2, n2) && (this._removeOnRenderedListener(r2), r2.dispatchAction({ type: "changeAxisOrder", componentType: n2.dim + "Axis", axisId: n2.index, sortInfo: e2 }));
    }
  }, i2.prototype._dispatchInitSort = function(t6, i3, n2) {
    var r2 = i3.baseAxis, e2 = this._dataSort(t6, r2, (function(n3) {
      return t6.get(t6.mapDimension(i3.otherAxis.dim), n3);
    }));
    n2.dispatchAction({ type: "changeAxisOrder", componentType: r2.dim + "Axis", isInitSort: true, axisId: r2.index, sortInfo: e2 });
  }, i2.prototype.remove = function(t6, i3) {
    this._clear(this._model), this._removeOnRenderedListener(i3);
  }, i2.prototype.dispose = function(t6, i3) {
    this._removeOnRenderedListener(i3);
  }, i2.prototype._removeOnRenderedListener = function(t6) {
    this._onRendered && (t6.getZr().off("rendered", this._onRendered), this._onRendered = null);
  }, i2.prototype._clear = function(t6) {
    var i3 = this.group, n2 = this._data;
    t6 && t6.isAnimationEnabled() && n2 && !this._isLargeDraw ? (this._removeBackground(), this._backgroundEls = [], n2.eachItemGraphicEl((function(i4) {
      Nh(i4, t6, hf(i4).dataIndex);
    }))) : i3.removeAll(), this._data = null, this._isFirstFrame = true;
  }, i2.prototype._removeBackground = function() {
    this.group.remove(this._backgroundGroup), this._backgroundGroup = null;
  }, i2.type = "bar", i2;
})(Sb), SS = { cartesian2d: function(t5, i2) {
  var n2 = i2.width < 0 ? -1 : 1, r2 = i2.height < 0 ? -1 : 1;
  n2 < 0 && (i2.x += i2.width, i2.width = -i2.width), r2 < 0 && (i2.y += i2.height, i2.height = -i2.height);
  var e2 = t5.x + t5.width, o2 = t5.y + t5.height, a2 = kS(i2.x, t5.x), s2 = MS(i2.x + i2.width, e2), l2 = kS(i2.y, t5.y), u2 = MS(i2.y + i2.height, o2), f2 = s2 < a2, c2 = u2 < l2;
  return i2.x = f2 && a2 > e2 ? s2 : a2, i2.y = c2 && l2 > o2 ? u2 : l2, i2.width = f2 ? 0 : s2 - a2, i2.height = c2 ? 0 : u2 - l2, n2 < 0 && (i2.x += i2.width, i2.width = -i2.width), r2 < 0 && (i2.y += i2.height, i2.height = -i2.height), f2 || c2;
}, polar: function(t5, i2) {
  var n2 = i2.r0 <= i2.r ? 1 : -1;
  if (n2 < 0) {
    var r2 = i2.r;
    i2.r = i2.r0, i2.r0 = r2;
  }
  var e2 = MS(i2.r, t5.r), o2 = kS(i2.r0, t5.r0);
  i2.r = e2, i2.r0 = o2;
  var a2 = e2 - o2 < 0;
  return n2 < 0 && (r2 = i2.r, i2.r = i2.r0, i2.r0 = r2), a2;
} }, CS = { cartesian2d: function(t5, i2, n2, r2, e2, o2) {
  var a2 = new Zu({ shape: bn({}, r2), z2: 1 });
  return a2.__dataIndex = n2, a2.name = "item", o2 && (a2.shape[e2 ? "height" : "width"] = 0), a2;
}, polar: function(t5, i2, n2, r2, e2, o2, a2, s2, l2) {
  var u2 = !e2 && l2 ? gS : Uc, f2 = new u2({ shape: r2, z2: 1 });
  f2.name = "item";
  var c2, h2, v2 = DS(e2);
  if (f2.calculateTextPosition = (c2 = v2, h2 = { isRoundCap: u2 === gS }.isRoundCap, function(t6, i3, n3) {
    var r3 = i3.position;
    if (!r3 || r3 instanceof Array) return Ua(t6, i3, n3);
    var e3 = c2(r3), o3 = null != i3.distance ? i3.distance : 5, a3 = this.shape, s3 = a3.cx, l3 = a3.cy, u3 = a3.r, f3 = a3.r0, v3 = (u3 + f3) / 2, d3 = a3.startAngle, p3 = a3.endAngle, m2 = (d3 + p3) / 2, b2 = h2 ? Math.abs(u3 - f3) / 2 : 0, g3 = Math.cos, y2 = Math.sin, w3 = s3 + u3 * g3(d3), x2 = l3 + u3 * y2(d3), k2 = "left", M2 = "top";
    switch (e3) {
      case "startArc":
        w3 = s3 + (f3 - o3) * g3(m2), x2 = l3 + (f3 - o3) * y2(m2), k2 = "center", M2 = "top";
        break;
      case "insideStartArc":
        w3 = s3 + (f3 + o3) * g3(m2), x2 = l3 + (f3 + o3) * y2(m2), k2 = "center", M2 = "bottom";
        break;
      case "startAngle":
        w3 = s3 + v3 * g3(d3) + yS(d3, o3 + b2, false), x2 = l3 + v3 * y2(d3) + wS(d3, o3 + b2, false), k2 = "right", M2 = "middle";
        break;
      case "insideStartAngle":
        w3 = s3 + v3 * g3(d3) + yS(d3, -o3 + b2, false), x2 = l3 + v3 * y2(d3) + wS(d3, -o3 + b2, false), k2 = "left", M2 = "middle";
        break;
      case "middle":
        w3 = s3 + v3 * g3(m2), x2 = l3 + v3 * y2(m2), k2 = "center", M2 = "middle";
        break;
      case "endArc":
        w3 = s3 + (u3 + o3) * g3(m2), x2 = l3 + (u3 + o3) * y2(m2), k2 = "center", M2 = "bottom";
        break;
      case "insideEndArc":
        w3 = s3 + (u3 - o3) * g3(m2), x2 = l3 + (u3 - o3) * y2(m2), k2 = "center", M2 = "top";
        break;
      case "endAngle":
        w3 = s3 + v3 * g3(p3) + yS(p3, o3 + b2, true), x2 = l3 + v3 * y2(p3) + wS(p3, o3 + b2, true), k2 = "left", M2 = "middle";
        break;
      case "insideEndAngle":
        w3 = s3 + v3 * g3(p3) + yS(p3, -o3 + b2, true), x2 = l3 + v3 * y2(p3) + wS(p3, -o3 + b2, true), k2 = "right", M2 = "middle";
        break;
      default:
        return Ua(t6, i3, n3);
    }
    return (t6 = t6 || {}).x = w3, t6.y = x2, t6.align = k2, t6.verticalAlign = M2, t6;
  }), o2) {
    var d2 = e2 ? "r" : "endAngle", p2 = {};
    f2.shape[d2] = e2 ? r2.r0 : r2.startAngle, p2[d2] = r2[d2], (s2 ? Mh : zh)(f2, { shape: p2 }, o2);
  }
  return f2;
} };
function AS(t5, i2, n2, r2, e2, o2, a2, s2) {
  var l2, u2;
  o2 ? (u2 = { x: r2.x, width: r2.width }, l2 = { y: r2.y, height: r2.height }) : (u2 = { y: r2.y, height: r2.height }, l2 = { x: r2.x, width: r2.width }), s2 || (a2 ? Mh : zh)(n2, { shape: l2 }, i2, e2, null), (a2 ? Mh : zh)(n2, { shape: u2 }, i2 ? t5.baseAxis.model : null, e2);
}
function NS(t5, i2) {
  for (var n2 = 0; n2 < i2.length; n2++) if (!isFinite(t5[i2[n2]])) return true;
  return false;
}
var _S = ["x", "y", "width", "height"], TS = ["cx", "cy", "r", "startAngle", "endAngle"], IS = { cartesian2d: function(t5) {
  return !NS(t5, _S);
}, polar: function(t5) {
  return !NS(t5, TS);
} }, LS = { cartesian2d: function(t5, i2, n2) {
  var r2 = t5.getItemLayout(i2), e2 = n2 ? (function(t6, i3) {
    var n3 = t6.get(["itemStyle", "borderColor"]);
    if (!n3 || "none" === n3) return 0;
    var r3 = t6.get(["itemStyle", "borderWidth"]) || 0, e3 = isNaN(i3.width) ? Number.MAX_VALUE : Math.abs(i3.width), o3 = isNaN(i3.height) ? Number.MAX_VALUE : Math.abs(i3.height);
    return Math.min(r3, e3, o3);
  })(n2, r2) : 0, o2 = r2.width > 0 ? 1 : -1, a2 = r2.height > 0 ? 1 : -1;
  return { x: r2.x + o2 * e2 / 2, y: r2.y + a2 * e2 / 2, width: r2.width - o2 * e2, height: r2.height - a2 * e2 };
}, polar: function(t5, i2) {
  var n2 = t5.getItemLayout(i2);
  return { cx: n2.cx, cy: n2.cy, r0: n2.r0, r: n2.r, startAngle: n2.startAngle, endAngle: n2.endAngle, clockwise: n2.clockwise };
} };
function DS(t5) {
  return /* @__PURE__ */ (function(t6) {
    var i2 = t6 ? "Arc" : "Angle";
    return function(t7) {
      switch (t7) {
        case "start":
        case "insideStart":
        case "end":
        case "insideEnd":
          return t7 + i2;
        default:
          return t7;
      }
    };
  })(t5);
}
function WS(t5, i2, n2, r2, e2, o2, a2, s2) {
  var l2 = i2.getItemVisual(n2, "style");
  if (s2) {
    if (!o2.get("roundCap")) {
      var u2 = t5.shape;
      bn(u2, xS(r2.getModel("itemStyle"), u2, true)), t5.setShape(u2);
    }
  } else {
    var f2 = r2.get(["itemStyle", "borderRadius"]) || 0;
    t5.setShape("r", f2);
  }
  t5.useStyle(l2);
  var c2 = r2.getShallow("cursor");
  c2 && t5.attr("cursor", c2);
  var h2 = s2 ? a2 ? e2.r >= e2.r0 ? "endArc" : "startArc" : e2.endAngle >= e2.startAngle ? "endAngle" : "startAngle" : a2 ? e2.height >= 0 ? "bottom" : "top" : e2.width >= 0 ? "right" : "left", v2 = av(r2);
  ov(t5, v2, { labelFetcher: o2, labelDataIndex: n2, defaultText: Wz(o2.getData(), n2), inheritColor: l2.fill, defaultOpacity: l2.opacity, defaultOutsidePosition: h2 });
  var d2 = t5.getTextContent();
  if (s2 && d2) {
    var p2 = r2.get(["label", "position"]);
    t5.textConfig.inside = "middle" === p2 || null, (function(t6, i3, n3, r3) {
      if (Dn(r3)) t6.setTextConfig({ rotation: r3 });
      else if (_n(i3)) t6.setTextConfig({ rotation: 0 });
      else {
        var e3, o3 = t6.shape, a3 = o3.clockwise ? o3.startAngle : o3.endAngle, s3 = o3.clockwise ? o3.endAngle : o3.startAngle, l3 = (a3 + s3) / 2, u3 = n3(i3);
        switch (u3) {
          case "startArc":
          case "insideStartArc":
          case "middle":
          case "insideEndArc":
          case "endArc":
            e3 = l3;
            break;
          case "startAngle":
          case "insideStartAngle":
            e3 = a3;
            break;
          case "endAngle":
          case "insideEndAngle":
            e3 = s3;
            break;
          default:
            return void t6.setTextConfig({ rotation: 0 });
        }
        var f3 = 1.5 * Math.PI - e3;
        "middle" === u3 && f3 > Math.PI / 2 && f3 < 1.5 * Math.PI && (f3 -= Math.PI), t6.setTextConfig({ rotation: f3 });
      }
    })(t5, "outside" === p2 ? h2 : p2, DS(a2), r2.get(["label", "rotate"]));
  }
  pv(d2, v2, o2.getRawValue(n2), (function(t6) {
    return Ez(i2, t6);
  }));
  var m2 = r2.getModel(["emphasis"]);
  tc(t5, m2.get("focus"), m2.get("blurScope"), m2.get("disabled")), ec(t5, r2), (function(t6) {
    return null != t6.startAngle && null != t6.endAngle && t6.startAngle === t6.endAngle;
  })(e2) && (t5.style.fill = "none", t5.style.stroke = "none", kn(t5.states, (function(t6) {
    t6.style && (t6.style.fill = t6.style.stroke = "none");
  })));
}
var ES = function() {
}, OS = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2.type = "largeBar", n2;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new ES();
  }, i2.prototype.buildPath = function(t6, i3) {
    for (var n2 = i3.points, r2 = this.baseDimIdx, e2 = 1 - this.baseDimIdx, o2 = [], a2 = [], s2 = this.barWidth, l2 = 0; l2 < n2.length; l2 += 3) a2[r2] = s2, a2[e2] = n2[l2 + 2], o2[r2] = n2[l2 + r2], o2[e2] = n2[l2 + e2], t6.rect(o2[0], o2[1], a2[0], a2[1]);
  }, i2;
})(Fu);
function FS(t5, i2, n2, r2) {
  var e2 = t5.getData(), o2 = e2.getLayout("valueAxisHorizontal") ? 1 : 0, a2 = e2.getLayout("largeDataIndices"), s2 = e2.getLayout("size"), l2 = t5.getModel("backgroundStyle"), u2 = e2.getLayout("largeBackgroundPoints");
  if (u2) {
    var f2 = new OS({ shape: { points: u2 }, incremental: !!r2, silent: true, z2: 0 });
    f2.baseDimIdx = o2, f2.largeDataIndices = a2, f2.barWidth = s2, f2.useStyle(l2.getItemStyle()), i2.add(f2), n2 && n2.push(f2);
  }
  var c2 = new OS({ shape: { points: e2.getLayout("largePoints") }, incremental: !!r2, ignoreCoarsePointer: true, z2: 1 });
  c2.baseDimIdx = o2, c2.largeDataIndices = a2, c2.barWidth = s2, i2.add(c2), c2.useStyle(e2.getVisual("style")), c2.style.stroke = null, hf(c2).seriesIndex = t5.seriesIndex, t5.get("silent") || (c2.on("mousedown", RS), c2.on("mousemove", RS)), n2 && n2.push(c2);
}
var RS = Wb((function(t5) {
  var i2 = (function(t6, i3, n2) {
    for (var r2 = t6.baseDimIdx, e2 = 1 - r2, o2 = t6.shape.points, a2 = t6.largeDataIndices, s2 = [], l2 = [], u2 = t6.barWidth, f2 = 0, c2 = o2.length / 3; f2 < c2; f2++) {
      var h2 = 3 * f2;
      if (l2[r2] = u2, l2[e2] = o2[h2 + 2], s2[r2] = o2[h2 + r2], s2[e2] = o2[h2 + e2], l2[e2] < 0 && (s2[e2] += l2[e2], l2[e2] = -l2[e2]), i3 >= s2[0] && i3 <= s2[0] + l2[0] && n2 >= s2[1] && n2 <= s2[1] + l2[1]) return a2[f2];
    }
    return -1;
  })(this, t5.offsetX, t5.offsetY);
  hf(this).dataIndex = i2 >= 0 ? i2 : null;
}), 30, false);
function PS(t5, i2, n2) {
  if (iS(n2, "cartesian2d")) {
    var r2 = i2, e2 = n2.getArea();
    return { x: t5 ? r2.x : e2.x, y: t5 ? e2.y : r2.y, width: t5 ? r2.width : e2.width, height: t5 ? e2.height : r2.height };
  }
  return { cx: (e2 = n2.getArea()).cx, cy: e2.cy, r0: t5 ? e2.r0 : i2.r0, r: t5 ? e2.r : i2.r, startAngle: t5 ? i2.startAngle : 0, endAngle: t5 ? i2.endAngle : 2 * Math.PI };
}
var BS = 2 * Math.PI, VS = Math.PI / 180;
function jS(t5, i2) {
  return Nd(t5.getBoxLayoutParams(), { width: i2.getWidth(), height: i2.getHeight() });
}
function HS(t5, i2) {
  var n2 = jS(t5, i2), r2 = t5.get("center"), e2 = t5.get("radius");
  _n(e2) || (e2 = [0, e2]);
  var o2, a2, s2 = us(n2.width, i2.getWidth()), l2 = us(n2.height, i2.getHeight()), u2 = Math.min(s2, l2), f2 = us(e2[0], u2 / 2), c2 = us(e2[1], u2 / 2), h2 = t5.coordinateSystem;
  if (h2) {
    var v2 = h2.dataToPoint(r2);
    o2 = v2[0] || 0, a2 = v2[1] || 0;
  } else _n(r2) || (r2 = [r2, r2]), o2 = us(r2[0], s2) + n2.x, a2 = us(r2[1], l2) + n2.y;
  return { cx: o2, cy: a2, r0: f2, r: c2 };
}
function YS(t5, i2, n2) {
  i2.eachSeriesByType(t5, (function(t6) {
    var i3 = t6.getData(), r2 = i3.mapDimension("value"), e2 = jS(t6, n2), o2 = HS(t6, n2), a2 = o2.cx, s2 = o2.cy, l2 = o2.r, u2 = o2.r0, f2 = -t6.get("startAngle") * VS, c2 = t6.get("endAngle"), h2 = t6.get("padAngle") * VS;
    c2 = "auto" === c2 ? f2 - BS : -c2 * VS;
    var v2 = t6.get("minAngle") * VS + h2, d2 = 0;
    i3.each(r2, (function(t7) {
      !isNaN(t7) && d2++;
    }));
    var p2 = i3.getSum(r2), m2 = Math.PI / (p2 || d2) * 2, b2 = t6.get("clockwise"), g3 = t6.get("roseType"), y2 = t6.get("stillShowZeroSum"), w3 = i3.getDataExtent(r2);
    w3[0] = 0;
    var x2 = b2 ? 1 : -1, k2 = [f2, c2], M2 = x2 * h2 / 2;
    mu(k2, !b2), f2 = k2[0], c2 = k2[1];
    var z2 = XS(t6);
    z2.startAngle = f2, z2.endAngle = c2, z2.clockwise = b2;
    var S3 = Math.abs(c2 - f2), C3 = S3, A3 = 0, N2 = f2;
    if (i3.setLayout({ viewRect: e2, r: l2 }), i3.each(r2, (function(t7, n3) {
      var r3;
      if (isNaN(t7)) i3.setItemLayout(n3, { angle: NaN, startAngle: NaN, endAngle: NaN, clockwise: b2, cx: a2, cy: s2, r0: u2, r: g3 ? NaN : l2 });
      else {
        (r3 = "area" !== g3 ? 0 === p2 && y2 ? m2 : t7 * m2 : S3 / d2) < v2 ? (r3 = v2, C3 -= v2) : A3 += t7;
        var e3 = N2 + x2 * r3, o3 = 0, f3 = 0;
        h2 > r3 ? f3 = o3 = N2 + x2 * r3 / 2 : (o3 = N2 + M2, f3 = e3 - M2), i3.setItemLayout(n3, { angle: r3, startAngle: o3, endAngle: f3, clockwise: b2, cx: a2, cy: s2, r0: u2, r: g3 ? ls(t7, w3, [u2, l2]) : l2 }), N2 = e3;
      }
    })), C3 < BS && d2) if (C3 <= 1e-3) {
      var _2 = S3 / d2;
      i3.each(r2, (function(t7, n3) {
        if (!isNaN(t7)) {
          var r3 = i3.getItemLayout(n3);
          r3.angle = _2;
          var e3 = 0, o3 = 0;
          _2 < h2 ? o3 = e3 = f2 + x2 * (n3 + 0.5) * _2 : (e3 = f2 + x2 * n3 * _2 + M2, o3 = f2 + x2 * (n3 + 1) * _2 - M2), r3.startAngle = e3, r3.endAngle = o3;
        }
      }));
    } else m2 = C3 / A3, N2 = f2, i3.each(r2, (function(t7, n3) {
      if (!isNaN(t7)) {
        var r3 = i3.getItemLayout(n3), e3 = r3.angle === v2 ? v2 : t7 * m2, o3 = 0, a3 = 0;
        e3 < h2 ? a3 = o3 = N2 + x2 * e3 / 2 : (o3 = N2 + M2, a3 = N2 + x2 * e3 - M2), r3.startAngle = o3, r3.endAngle = a3, N2 += x2 * e3;
      }
    }));
  }));
}
var XS = Xs();
function US(t5) {
  return { seriesType: t5, reset: function(t6, i2) {
    var n2 = i2.findComponents({ mainType: "legend" });
    if (n2 && n2.length) {
      var r2 = t6.getData();
      r2.filterSelf((function(t7) {
        for (var i3 = r2.getName(t7), e2 = 0; e2 < n2.length; e2++) if (!n2[e2].isSelected(i3)) return false;
        return true;
      }));
    }
  } };
}
var $S = Math.PI / 180;
function GS(t5, i2, n2, r2, e2, o2, a2, s2, l2, u2) {
  if (!(t5.length < 2)) {
    for (var f2 = t5.length, c2 = 0; c2 < f2; c2++) "outer" === t5[c2].position && "labelLine" === t5[c2].labelAlignTo && (t5[c2].linePoints[1][0] += t5[c2].label.x - u2, t5[c2].label.x = u2);
    eM(t5, l2, l2 + a2) && (function(t6) {
      for (var o3 = { list: [], maxY: 0 }, a3 = { list: [], maxY: 0 }, s3 = 0; s3 < t6.length; s3++) if ("none" === t6[s3].labelAlignTo) {
        var l3 = t6[s3], u3 = l3.label.y > n2 ? a3 : o3, f3 = Math.abs(l3.label.y - n2);
        if (f3 >= u3.maxY) {
          var c3 = l3.label.x - i2 - l3.len2 * e2, v2 = r2 + l3.len, d2 = Math.abs(c3) < v2 ? Math.sqrt(f3 * f3 / (1 - c3 * c3 / v2 / v2)) : v2;
          u3.rB = d2, u3.maxY = f3;
        }
        u3.list.push(l3);
      }
      h2(o3), h2(a3);
    })(t5);
  }
  function h2(t6) {
    for (var o3 = t6.rB, a3 = o3 * o3, s3 = 0; s3 < t6.list.length; s3++) {
      var l3 = t6.list[s3], u3 = Math.abs(l3.label.y - n2), f3 = r2 + l3.len, c3 = Math.sqrt(Math.abs(f3 * f3 * (1 - u3 * u3 / a3))), h3 = i2 + (c3 + l3.len2) * e2;
      ZS(l3, l3.targetTextWidth - (h3 - l3.label.x) * e2, true), l3.label.x = h3;
    }
  }
}
function ZS(t5, i2, n2) {
  if (void 0 === n2 && (n2 = false), null == t5.labelStyleWidth) {
    var r2 = t5.label, e2 = r2.style, o2 = t5.rect, a2 = e2.backgroundColor, s2 = e2.padding, l2 = s2 ? s2[1] + s2[3] : 0, u2 = e2.overflow, f2 = o2.width + (a2 ? 0 : l2);
    if (i2 < f2 || n2) {
      var c2 = o2.height;
      if (u2 && u2.match("break")) {
        r2.setStyle("backgroundColor", null), r2.setStyle("width", i2 - l2);
        var h2 = r2.getBoundingRect();
        r2.setStyle("width", Math.ceil(h2.width)), r2.setStyle("backgroundColor", a2);
      } else {
        var v2 = i2 - l2;
        r2.setStyle("width", i2 < f2 ? v2 : n2 ? v2 > t5.unconstrainedWidth ? null : v2 : null);
      }
      var d2 = r2.getBoundingRect();
      o2.width = d2.width, o2.height = d2.height + ((r2.style.margin || 0) + 2.1), o2.y -= (o2.height - c2) / 2;
    }
  }
}
function qS(t5) {
  return "center" === t5.position;
}
var JS = (function(t5) {
  function i2(i3, n2, r2) {
    var e2 = t5.call(this) || this;
    e2.z2 = 2;
    var o2 = new Ku();
    return e2.setTextContent(o2), e2.updateData(i3, n2, r2, true), e2;
  }
  return Yi(i2, t5), i2.prototype.updateData = function(t6, i3, n2, r2) {
    var e2 = this, o2 = t6.hostModel, a2 = t6.getItemModel(i3), s2 = a2.getModel("emphasis"), l2 = t6.getItemLayout(i3), u2 = bn(xS(a2.getModel("itemStyle"), l2, true), l2);
    if (isNaN(u2.startAngle)) e2.setShape(u2);
    else {
      if (r2) {
        e2.setShape(u2);
        var f2 = o2.getShallow("animationType");
        o2.ecModel.ssr ? (zh(e2, { scaleX: 0, scaleY: 0 }, o2, { dataIndex: i3, isFrom: true }), e2.originX = u2.cx, e2.originY = u2.cy) : "scale" === f2 ? (e2.shape.r = l2.r0, zh(e2, { shape: { r: l2.r } }, o2, i3)) : null != n2 ? (e2.setShape({ startAngle: n2, endAngle: n2 }), zh(e2, { shape: { startAngle: l2.startAngle, endAngle: l2.endAngle } }, o2, i3)) : (e2.shape.endAngle = l2.startAngle, Mh(e2, { shape: { endAngle: l2.endAngle } }, o2, i3));
      } else _h(e2), Mh(e2, { shape: u2 }, o2, i3);
      e2.useStyle(t6.getItemVisual(i3, "style")), ec(e2, a2);
      var c2 = (l2.startAngle + l2.endAngle) / 2, h2 = o2.get("selectedOffset"), v2 = Math.cos(c2) * h2, d2 = Math.sin(c2) * h2, p2 = a2.getShallow("cursor");
      p2 && e2.attr("cursor", p2), this._updateLabel(o2, t6, i3), e2.ensureState("emphasis").shape = bn({ r: l2.r + (s2.get("scale") && s2.get("scaleSize") || 0) }, xS(s2.getModel("itemStyle"), l2)), bn(e2.ensureState("select"), { x: v2, y: d2, shape: xS(a2.getModel(["select", "itemStyle"]), l2) }), bn(e2.ensureState("blur"), { shape: xS(a2.getModel(["blur", "itemStyle"]), l2) });
      var m2 = e2.getTextGuideLine(), b2 = e2.getTextContent();
      m2 && bn(m2.ensureState("select"), { x: v2, y: d2 }), bn(b2.ensureState("select"), { x: v2, y: d2 }), tc(this, s2.get("focus"), s2.get("blurScope"), s2.get("disabled"));
    }
  }, i2.prototype._updateLabel = function(t6, i3, n2) {
    var r2 = this, e2 = i3.getItemModel(n2), o2 = e2.getModel("labelLine"), a2 = i3.getItemVisual(n2, "style"), s2 = a2 && a2.fill, l2 = a2 && a2.opacity;
    ov(r2, av(e2), { labelFetcher: i3.hostModel, labelDataIndex: n2, inheritColor: s2, defaultOpacity: l2, defaultText: t6.getFormattedLabel(n2, "normal") || i3.getName(n2) });
    var u2 = r2.getTextContent();
    r2.setTextConfig({ position: null, rotation: null }), u2.attr({ z2: 10 });
    var f2 = t6.get(["label", "position"]);
    if ("outside" !== f2 && "outer" !== f2) r2.removeTextGuideLine();
    else {
      var c2 = this.getTextGuideLine();
      c2 || (c2 = new Qc(), this.setTextGuideLine(c2)), tM(this, iM(e2), { stroke: s2, opacity: jn(o2.get(["lineStyle", "opacity"]), l2, 1) });
    }
  }, i2;
})(Uc), KS = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.ignoreLabelLineUpdate = true, i3;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    var r2, e2 = t6.getData(), o2 = this._data, a2 = this.group;
    if (!o2 && e2.count() > 0) {
      for (var s2 = e2.getItemLayout(0), l2 = 1; isNaN(s2 && s2.startAngle) && l2 < e2.count(); ++l2) s2 = e2.getItemLayout(l2);
      s2 && (r2 = s2.startAngle);
    }
    if (this._emptyCircleSector && a2.remove(this._emptyCircleSector), 0 === e2.count() && t6.get("showEmptyCircle")) {
      var u2 = XS(t6), f2 = new Uc({ shape: bn(HS(t6, n2), u2) });
      f2.useStyle(t6.getModel("emptyCircleStyle").getItemStyle()), this._emptyCircleSector = f2, a2.add(f2);
    }
    e2.diff(o2).add((function(t7) {
      var i4 = new JS(e2, t7, r2);
      e2.setItemGraphicEl(t7, i4), a2.add(i4);
    })).update((function(t7, i4) {
      var n3 = o2.getItemGraphicEl(i4);
      n3.updateData(e2, t7, r2), n3.off("click"), a2.add(n3), e2.setItemGraphicEl(t7, n3);
    })).remove((function(i4) {
      Nh(o2.getItemGraphicEl(i4), t6, i4);
    })).execute(), (function(t7) {
      var i4, n3, r3 = t7.getData(), e3 = [], o3 = false, a3 = (t7.get("minShowLabelAngle") || 0) * $S, s3 = r3.getLayout("viewRect"), l3 = r3.getLayout("r"), u3 = s3.width, f3 = s3.x, c2 = s3.y, h2 = s3.height;
      function v2(t8) {
        t8.ignore = true;
      }
      r3.each((function(t8) {
        var s4 = r3.getItemGraphicEl(t8), c3 = s4.shape, h3 = s4.getTextContent(), d3 = s4.getTextGuideLine(), p3 = r3.getItemModel(t8), m3 = p3.getModel("label"), b3 = m3.get("position") || p3.get(["emphasis", "label", "position"]), g4 = m3.get("distanceToLabelLine"), y3 = m3.get("alignTo"), w4 = us(m3.get("edgeDistance"), u3), x2 = m3.get("bleedMargin"), k2 = p3.getModel("labelLine"), M2 = k2.get("length");
        M2 = us(M2, u3);
        var z2 = k2.get("length2");
        if (z2 = us(z2, u3), Math.abs(c3.endAngle - c3.startAngle) < a3) return kn(h3.states, v2), h3.ignore = true, void (d3 && (kn(d3.states, v2), d3.ignore = true));
        if ((function(t9) {
          if (!t9.ignore) return true;
          for (var i5 in t9.states) if (false === t9.states[i5].ignore) return true;
          return false;
        })(h3)) {
          var S3, C3, A3, N2, _2 = (c3.startAngle + c3.endAngle) / 2, T4 = Math.cos(_2), I2 = Math.sin(_2);
          i4 = c3.cx, n3 = c3.cy;
          var L2 = "inside" === b3 || "inner" === b3;
          if ("center" === b3) S3 = c3.cx, C3 = c3.cy, N2 = "center";
          else {
            var D2 = (L2 ? (c3.r + c3.r0) / 2 * T4 : c3.r * T4) + i4, W3 = (L2 ? (c3.r + c3.r0) / 2 * I2 : c3.r * I2) + n3;
            if (S3 = D2 + 3 * T4, C3 = W3 + 3 * I2, !L2) {
              var E3 = D2 + T4 * (M2 + l3 - c3.r), O3 = W3 + I2 * (M2 + l3 - c3.r), F3 = E3 + (T4 < 0 ? -1 : 1) * z2;
              S3 = "edge" === y3 ? T4 < 0 ? f3 + w4 : f3 + u3 - w4 : F3 + (T4 < 0 ? -g4 : g4), C3 = O3, A3 = [[D2, W3], [E3, O3], [F3, O3]];
            }
            N2 = L2 ? "center" : "edge" === y3 ? T4 > 0 ? "right" : "left" : T4 > 0 ? "left" : "right";
          }
          var R2 = Math.PI, P2 = 0, B3 = m3.get("rotate");
          if (Dn(B3)) P2 = B3 * (R2 / 180);
          else if ("center" === b3) P2 = 0;
          else if ("radial" === B3 || true === B3) P2 = T4 < 0 ? -_2 + R2 : -_2;
          else if ("tangential" === B3 && "outside" !== b3 && "outer" !== b3) {
            var V2 = Math.atan2(T4, I2);
            V2 < 0 && (V2 = 2 * R2 + V2), I2 > 0 && (V2 = R2 + V2), P2 = V2 - R2;
          }
          if (o3 = !!P2, h3.x = S3, h3.y = C3, h3.rotation = P2, h3.setStyle({ verticalAlign: "middle" }), L2) {
            h3.setStyle({ align: N2 });
            var j2 = h3.states.select;
            j2 && (j2.x += h3.x, j2.y += h3.y);
          } else {
            var H2 = h3.getBoundingRect().clone();
            H2.applyTransform(h3.getComputedTransform());
            var Y2 = (h3.style.margin || 0) + 2.1;
            H2.y -= Y2 / 2, H2.height += Y2, e3.push({ label: h3, labelLine: d3, position: b3, len: M2, len2: z2, minTurnAngle: k2.get("minTurnAngle"), maxSurfaceAngle: k2.get("maxSurfaceAngle"), surfaceNormal: new ne(T4, I2), linePoints: A3, textAlign: N2, labelDistance: g4, labelAlignTo: y3, edgeDistance: w4, bleedMargin: x2, rect: H2, unconstrainedWidth: H2.width, labelStyleWidth: h3.style.width });
          }
          s4.setTextConfig({ inside: L2 });
        }
      })), !o3 && t7.get("avoidLabelOverlap") && (function(t8, i5, n4, r4, e4, o4, a4, s4) {
        for (var l4 = [], u4 = [], f4 = Number.MAX_VALUE, c3 = -Number.MAX_VALUE, h3 = 0; h3 < t8.length; h3++) {
          var v3 = t8[h3].label;
          qS(t8[h3]) || (v3.x < i5 ? (f4 = Math.min(f4, v3.x), l4.push(t8[h3])) : (c3 = Math.max(c3, v3.x), u4.push(t8[h3])));
        }
        for (h3 = 0; h3 < t8.length; h3++) if (!qS(m3 = t8[h3]) && m3.linePoints) {
          if (null != m3.labelStyleWidth) continue;
          v3 = m3.label;
          var d3, p3 = m3.linePoints;
          m3.targetTextWidth = d3 = "edge" === m3.labelAlignTo ? v3.x < i5 ? p3[2][0] - m3.labelDistance - a4 - m3.edgeDistance : a4 + e4 - m3.edgeDistance - p3[2][0] - m3.labelDistance : "labelLine" === m3.labelAlignTo ? v3.x < i5 ? f4 - a4 - m3.bleedMargin : a4 + e4 - c3 - m3.bleedMargin : v3.x < i5 ? v3.x - a4 - m3.bleedMargin : a4 + e4 - v3.x - m3.bleedMargin, ZS(m3, d3);
        }
        for (GS(u4, i5, n4, r4, 1, 0, o4, 0, s4, c3), GS(l4, i5, n4, r4, -1, 0, o4, 0, s4, f4), h3 = 0; h3 < t8.length; h3++) {
          var m3;
          if (!qS(m3 = t8[h3]) && m3.linePoints) {
            var b3 = (v3 = m3.label).style.padding, g4 = m3.rect.width + (v3.style.backgroundColor ? 0 : b3 ? b3[1] + b3[3] : 0), y3 = (p3 = m3.linePoints)[1][0] - p3[2][0];
            "edge" === m3.labelAlignTo ? p3[2][0] = v3.x < i5 ? a4 + m3.edgeDistance + g4 + m3.labelDistance : a4 + e4 - m3.edgeDistance - g4 - m3.labelDistance : (p3[2][0] = v3.x < i5 ? v3.x + m3.labelDistance : v3.x - m3.labelDistance, p3[1][0] = p3[2][0] + y3), p3[1][1] = p3[2][1] = v3.y;
          }
        }
      })(e3, i4, n3, l3, u3, h2, f3, c2);
      for (var d2 = 0; d2 < e3.length; d2++) {
        var p2 = e3[d2], m2 = p2.label, b2 = p2.labelLine, g3 = isNaN(m2.x) || isNaN(m2.y);
        if (m2) {
          m2.setStyle({ align: p2.textAlign }), g3 && (kn(m2.states, v2), m2.ignore = true);
          var y2 = m2.states.select;
          y2 && (y2.x += m2.x, y2.y += m2.y);
        }
        if (b2) {
          var w3 = p2.linePoints;
          g3 || !w3 ? (kn(b2.states, v2), b2.ignore = true) : (qk(w3, p2.minTurnAngle), Jk(w3, p2.surfaceNormal, p2.maxSurfaceAngle), b2.setShape({ points: w3 }), m2.__hostTarget.textGuideLineConfig = { anchor: new ne(w3[0][0], w3[0][1]) });
        }
      }
    })(t6), "expansion" !== t6.get("animationTypeUpdate") && (this._data = e2);
  }, i2.prototype.dispose = function() {
  }, i2.prototype.containPoint = function(t6, i3) {
    var n2 = i3.getData().getItemLayout(0);
    if (n2) {
      var r2 = t6[0] - n2.cx, e2 = t6[1] - n2.cy, o2 = Math.sqrt(r2 * r2 + e2 * e2);
      return o2 <= n2.r && o2 >= n2.r0;
    }
  }, i2.type = "pie", i2;
})(Sb);
function QS(t5, i2, n2) {
  i2 = _n(i2) && { coordDimensions: i2 } || bn({ encodeDefine: t5.getEncode() }, i2);
  var r2 = t5.getSource(), e2 = Gw(r2, i2).dimensions, o2 = new $w(e2, t5);
  return o2.initData(r2, n2), o2;
}
var tC = (function() {
  function t5(t6, i2) {
    this._getDataWithEncodedVisual = t6, this._getRawData = i2;
  }
  return t5.prototype.getAllNames = function() {
    var t6 = this._getRawData();
    return t6.mapArray(t6.getName);
  }, t5.prototype.containName = function(t6) {
    return this._getRawData().indexOfName(t6) >= 0;
  }, t5.prototype.indexOfName = function(t6) {
    return this._getDataWithEncodedVisual().indexOfName(t6);
  }, t5.prototype.getItemVisual = function(t6, i2) {
    return this._getDataWithEncodedVisual().getItemVisual(t6, i2);
  }, t5;
})(), iC = Xs(), nC = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.init = function(i3) {
    t5.prototype.init.apply(this, arguments), this.legendVisualProvider = new tC(An(this.getData, this), An(this.getRawData, this)), this._defaultLabelLine(i3);
  }, i2.prototype.mergeOption = function() {
    t5.prototype.mergeOption.apply(this, arguments);
  }, i2.prototype.getInitialData = function() {
    return QS(this, { coordDimensions: ["value"], encodeDefaulter: Nn(qd, this) });
  }, i2.prototype.getDataParams = function(i3) {
    var n2 = this.getData(), r2 = iC(n2), e2 = r2.seats;
    if (!e2) {
      var o2 = [];
      n2.each(n2.mapDimension("value"), (function(t6) {
        o2.push(t6);
      })), e2 = r2.seats = (function(t6, i4) {
        var n3 = zn(t6, (function(t7, i5) {
          return t7 + (isNaN(i5) ? 0 : i5);
        }), 0);
        if (0 === n3) return [];
        for (var r3 = Math.pow(10, i4), e3 = Mn(t6, (function(t7) {
          return (isNaN(t7) ? 0 : t7) / n3 * r3 * 100;
        })), o3 = 100 * r3, a3 = Mn(e3, (function(t7) {
          return Math.floor(t7);
        })), s2 = zn(a3, (function(t7, i5) {
          return t7 + i5;
        }), 0), l2 = Mn(e3, (function(t7, i5) {
          return t7 - a3[i5];
        })); s2 < o3; ) {
          for (var u2 = Number.NEGATIVE_INFINITY, f2 = null, c2 = 0, h2 = l2.length; c2 < h2; ++c2) l2[c2] > u2 && (u2 = l2[c2], f2 = c2);
          ++a3[f2], l2[f2] = 0, ++s2;
        }
        return Mn(a3, (function(t7) {
          return t7 / r3;
        }));
      })(o2, n2.hostModel.get("percentPrecision"));
    }
    var a2 = t5.prototype.getDataParams.call(this, i3);
    return a2.percent = e2[i3] || 0, a2.$vars.push("percent"), a2;
  }, i2.prototype._defaultLabelLine = function(t6) {
    Ws(t6, "labelLine", ["show"]);
    var i3 = t6.labelLine, n2 = t6.emphasis.labelLine;
    i3.show = i3.show && t6.label.show, n2.show = n2.show && t6.emphasis.label.show;
  }, i2.type = "series.pie", i2.defaultOption = { z: 2, legendHoverLink: true, colorBy: "data", center: ["50%", "50%"], radius: [0, "75%"], clockwise: true, startAngle: 90, endAngle: "auto", padAngle: 0, minAngle: 0, minShowLabelAngle: 0, selectedOffset: 10, percentPrecision: 2, stillShowZeroSum: true, left: 0, top: 0, right: 0, bottom: 0, width: null, height: null, label: { rotate: 0, show: true, overflow: "truncate", position: "outer", alignTo: "none", edgeDistance: "25%", bleedMargin: 10, distanceToLabelLine: 5 }, labelLine: { show: true, length: 15, length2: 15, smooth: false, minTurnAngle: 90, maxSurfaceAngle: 90, lineStyle: { width: 1, type: "solid" } }, itemStyle: { borderWidth: 1, borderJoin: "round" }, showEmptyCircle: true, emptyCircleStyle: { color: "lightgray", opacity: 1 }, labelLayout: { hideOverlap: true }, emphasis: { scale: true, scaleSize: 5 }, avoidLabelOverlap: true, animationType: "expansion", animationDuration: 1e3, animationTypeUpdate: "transition", animationEasingUpdate: "cubicInOut", animationDurationUpdate: 500, animationEasing: "cubicInOut" }, i2;
})(vb), rC = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.hasSymbolVisual = true, n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function() {
    return ix(null, this, { useEncodeDefaulter: true });
  }, i2.prototype.getProgressive = function() {
    var t6 = this.option.progressive;
    return null == t6 ? this.option.large ? 5e3 : this.get("progressive") : t6;
  }, i2.prototype.getProgressiveThreshold = function() {
    var t6 = this.option.progressiveThreshold;
    return null == t6 ? this.option.large ? 1e4 : this.get("progressiveThreshold") : t6;
  }, i2.prototype.brushSelector = function(t6, i3, n2) {
    return n2.point(i3.getItemLayout(t6));
  }, i2.prototype.getZLevelKey = function() {
    return this.getData().count() > this.getProgressiveThreshold() ? this.id : "";
  }, i2.type = "series.scatter", i2.dependencies = ["grid", "polar", "geo", "singleAxis", "calendar"], i2.defaultOption = { coordinateSystem: "cartesian2d", z: 2, legendHoverLink: true, symbolSize: 10, large: false, largeThreshold: 2e3, itemStyle: { opacity: 0.8 }, emphasis: { scale: true }, clip: true, select: { itemStyle: { borderColor: "#212121" } }, universalTransition: { divideShape: "clone" } }, i2;
})(vb), eC = function() {
}, oC = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2._off = 0, n2.hoverDataIdx = -1, n2;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new eC();
  }, i2.prototype.reset = function() {
    this.notClear = false, this._off = 0;
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2, r2 = i3.points, e2 = i3.size, o2 = this.symbolProxy, a2 = o2.shape, s2 = t6.getContext ? t6.getContext() : t6, l2 = this.softClipShape;
    if (s2 && e2[0] < 4) this._ctx = s2;
    else {
      for (this._ctx = null, n2 = this._off; n2 < r2.length; ) {
        var u2 = r2[n2++], f2 = r2[n2++];
        isNaN(u2) || isNaN(f2) || l2 && !l2.contain(u2, f2) || (a2.x = u2 - e2[0] / 2, a2.y = f2 - e2[1] / 2, a2.width = e2[0], a2.height = e2[1], o2.buildPath(t6, a2, true));
      }
      this.incremental && (this._off = n2, this.notClear = true);
    }
  }, i2.prototype.afterBrush = function() {
    var t6, i3 = this.shape, n2 = i3.points, r2 = i3.size, e2 = this._ctx, o2 = this.softClipShape;
    if (e2) {
      for (t6 = this._off; t6 < n2.length; ) {
        var a2 = n2[t6++], s2 = n2[t6++];
        isNaN(a2) || isNaN(s2) || o2 && !o2.contain(a2, s2) || e2.fillRect(a2 - r2[0] / 2, s2 - r2[1] / 2, r2[0], r2[1]);
      }
      this.incremental && (this._off = t6, this.notClear = true);
    }
  }, i2.prototype.findDataIndex = function(t6, i3) {
    for (var n2 = this.shape, r2 = n2.points, e2 = n2.size, o2 = Math.max(e2[0], 4), a2 = Math.max(e2[1], 4), s2 = r2.length / 2 - 1; s2 >= 0; s2--) {
      var l2 = 2 * s2, u2 = r2[l2] - o2 / 2, f2 = r2[l2 + 1] - a2 / 2;
      if (t6 >= u2 && i3 >= f2 && t6 <= u2 + o2 && i3 <= f2 + a2) return s2;
    }
    return -1;
  }, i2.prototype.contain = function(t6, i3) {
    var n2 = this.transformCoordToLocal(t6, i3);
    return this.getBoundingRect().contain(t6 = n2[0], i3 = n2[1]) ? (this.hoverDataIdx = this.findDataIndex(t6, i3)) >= 0 : (this.hoverDataIdx = -1, false);
  }, i2.prototype.getBoundingRect = function() {
    var t6 = this._rect;
    if (!t6) {
      for (var i3 = this.shape, n2 = i3.points, r2 = i3.size, e2 = r2[0], o2 = r2[1], a2 = 1 / 0, s2 = 1 / 0, l2 = -1 / 0, u2 = -1 / 0, f2 = 0; f2 < n2.length; ) {
        var c2 = n2[f2++], h2 = n2[f2++];
        a2 = Math.min(c2, a2), l2 = Math.max(c2, l2), s2 = Math.min(h2, s2), u2 = Math.max(h2, u2);
      }
      t6 = this._rect = new ce(a2 - e2 / 2, s2 - o2 / 2, l2 - a2 + e2, u2 - s2 + o2);
    }
    return t6;
  }, i2;
})(Fu), aC = (function() {
  function t5() {
    this.group = new rs();
  }
  return t5.prototype.updateData = function(t6, i2) {
    this._clear();
    var n2 = this._create();
    n2.setShape({ points: t6.getLayout("points") }), this._setCommon(n2, t6, i2);
  }, t5.prototype.updateLayout = function(t6) {
    var i2 = t6.getLayout("points");
    this.group.eachChild((function(t7) {
      null != t7.startIndex && (i2 = new Float32Array(i2.buffer, 4 * t7.startIndex * 2, 2 * (t7.endIndex - t7.startIndex))), t7.setShape("points", i2), t7.reset();
    }));
  }, t5.prototype.incrementalPrepareUpdate = function() {
    this._clear();
  }, t5.prototype.incrementalUpdate = function(t6, i2, n2) {
    var r2 = this._newAdded[0], e2 = i2.getLayout("points"), o2 = r2 && r2.shape.points;
    if (o2 && o2.length < 2e4) {
      var a2 = o2.length, s2 = new Float32Array(a2 + e2.length);
      s2.set(o2), s2.set(e2, a2), r2.endIndex = t6.end, r2.setShape({ points: s2 });
    } else {
      this._newAdded = [];
      var l2 = this._create();
      l2.startIndex = t6.start, l2.endIndex = t6.end, l2.incremental = true, l2.setShape({ points: e2 }), this._setCommon(l2, i2, n2);
    }
  }, t5.prototype.eachRendered = function(t6) {
    this._newAdded[0] && t6(this._newAdded[0]);
  }, t5.prototype._create = function() {
    var t6 = new oC({ cursor: "default" });
    return t6.ignoreCoarsePointer = true, this.group.add(t6), this._newAdded.push(t6), t6;
  }, t5.prototype._setCommon = function(t6, i2, n2) {
    var r2 = i2.hostModel;
    n2 = n2 || {};
    var e2 = i2.getVisual("symbolSize");
    t6.setShape("size", e2 instanceof Array ? e2 : [e2, e2]), t6.softClipShape = n2.clipShape || null, t6.symbolProxy = Fg(i2.getVisual("symbol"), 0, 0, 0, 0), t6.setColor = t6.symbolProxy.setColor;
    var o2 = t6.shape.size[0] < 4;
    t6.useStyle(r2.getModel("itemStyle").getItemStyle(o2 ? ["color", "shadowBlur", "shadowColor"] : ["color"]));
    var a2 = i2.getVisual("style"), s2 = a2 && a2.fill;
    s2 && t6.setColor(s2);
    var l2 = hf(t6);
    l2.seriesIndex = r2.seriesIndex, t6.on("mousemove", (function() {
      l2.dataIndex = null;
      var i3 = t6.hoverDataIdx;
      i3 >= 0 && (l2.dataIndex = i3 + (t6.startIndex || 0));
    }));
  }, t5.prototype.remove = function() {
    this._clear();
  }, t5.prototype._clear = function() {
    this._newAdded = [], this.group.removeAll();
  }, t5;
})(), sC = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6) {
    var i3 = t6.getData();
    this._updateSymbolDraw(i3, t6).updateData(i3, { clipShape: this._getClipShape(t6) }), this._finished = true;
  }, i2.prototype.incrementalPrepareRender = function(t6) {
    var i3 = t6.getData();
    this._updateSymbolDraw(i3, t6).incrementalPrepareUpdate(i3), this._finished = false;
  }, i2.prototype.incrementalRender = function(t6, i3) {
    this._symbolDraw.incrementalUpdate(t6, i3.getData(), { clipShape: this._getClipShape(i3) }), this._finished = t6.end === i3.getData().count();
  }, i2.prototype.updateTransform = function(t6, i3, n2) {
    var r2 = t6.getData();
    if (this.group.dirty(), !this._finished || r2.count() > 1e4) return { update: true };
    var e2 = cS("").reset(t6, i3, n2);
    e2.progress && e2.progress({ start: 0, end: r2.count(), count: r2.count() }, r2), this._symbolDraw.updateLayout(r2);
  }, i2.prototype.eachRendered = function(t6) {
    this._symbolDraw && this._symbolDraw.eachRendered(t6);
  }, i2.prototype._getClipShape = function(t6) {
    if (t6.get("clip", true)) {
      var i3 = t6.coordinateSystem;
      return i3 && i3.getArea && i3.getArea(0.1);
    }
  }, i2.prototype._updateSymbolDraw = function(t6, i3) {
    var n2 = this._symbolDraw, r2 = i3.pipelineContext.large;
    return n2 && r2 === this._isLargeDraw || (n2 && n2.remove(), n2 = this._symbolDraw = r2 ? new aC() : new Vz(), this._isLargeDraw = r2, this.group.removeAll()), this.group.add(n2.group), n2;
  }, i2.prototype.remove = function() {
    this._symbolDraw && this._symbolDraw.remove(true), this._symbolDraw = null;
  }, i2.prototype.dispose = function() {
  }, i2.type = "scatter", i2;
})(Sb), lC = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.type = "grid", i2.dependencies = ["xAxis", "yAxis"], i2.layoutMode = "box", i2.defaultOption = { show: false, z: 0, left: "10%", top: 60, right: "10%", bottom: 70, containLabel: false, backgroundColor: "rgba(0,0,0,0)", borderWidth: 1, borderColor: "#ccc" }, i2;
})(Ed), uC = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.getCoordSysModel = function() {
    return this.getReferringComponents("grid", Zs).models[0];
  }, i2.type = "cartesian2dAxis", i2;
})(Ed);
wn(uC, lk);
var fC = { show: true, z: 0, inverse: false, name: "", nameLocation: "end", nameRotate: null, nameTruncate: { maxWidth: null, ellipsis: "...", placeholder: "." }, nameTextStyle: {}, nameGap: 15, silent: false, triggerEvent: false, tooltip: { show: false }, axisPointer: {}, axisLine: { show: true, onZero: true, onZeroAxisIndex: null, lineStyle: { color: "#6E7079", width: 1, type: "solid" }, symbol: ["none", "none"], symbolSize: [10, 15] }, axisTick: { show: true, inside: false, length: 5, lineStyle: { width: 1 } }, axisLabel: { show: true, inside: false, rotate: 0, showMinLabel: null, showMaxLabel: null, margin: 8, fontSize: 12 }, splitLine: { show: true, showMinLine: true, showMaxLine: true, lineStyle: { color: ["#E0E6F1"], width: 1, type: "solid" } }, splitArea: { show: false, areaStyle: { color: ["rgba(250,250,250,0.2)", "rgba(210,219,238,0.2)"] } } }, cC = pn({ boundaryGap: true, deduplication: null, splitLine: { show: false }, axisTick: { alignWithLabel: false, interval: "auto" }, axisLabel: { interval: "auto" } }, fC), hC = pn({ boundaryGap: [0, 0], axisLine: { show: "auto" }, axisTick: { show: "auto" }, splitNumber: 5, minorTick: { show: false, splitNumber: 5, length: 3, lineStyle: {} }, minorSplitLine: { show: false, lineStyle: { color: "#F4F7FD", width: 1 } } }, fC), vC = { category: cC, value: hC, time: pn({ splitNumber: 6, axisLabel: { showMinLabel: false, showMaxLabel: false, rich: { primary: { fontWeight: "bold" } } }, splitLine: { show: false } }, hC), log: gn({ logBase: 10 }, hC) }, dC = { value: 1, category: 1, time: 1, log: 1 };
function pC(t5, i2, n2, r2) {
  kn(dC, (function(e2, o2) {
    var a2 = pn(pn({}, vC[o2], true), r2, true), s2 = (function(t6) {
      function n3() {
        var n4 = null !== t6 && t6.apply(this, arguments) || this;
        return n4.type = i2 + "Axis." + o2, n4;
      }
      return Yi(n3, t6), n3.prototype.mergeDefaultAndTheme = function(t7, i3) {
        var n4 = Td(this), r3 = n4 ? Ld(t7) : {};
        pn(t7, i3.getTheme().get(o2 + "Axis")), pn(t7, this.getDefaultOption()), t7.type = mC(t7), n4 && Id(t7, r3, n4);
      }, n3.prototype.optionUpdated = function() {
        "category" === this.option.type && (this.__ordinalMeta = ex.createByAxisModel(this));
      }, n3.prototype.getCategories = function(t7) {
        var i3 = this.option;
        if ("category" === i3.type) return t7 ? i3.data : this.__ordinalMeta.categories;
      }, n3.prototype.getOrdinalMeta = function() {
        return this.__ordinalMeta;
      }, n3.type = i2 + "Axis." + o2, n3.defaultOption = a2, n3;
    })(n2);
    t5.registerComponentModel(s2);
  })), t5.registerSubTypeDefaulter(i2 + "Axis", mC);
}
function mC(t5) {
  return t5.type || (t5.data ? "category" : "value");
}
var bC = (function() {
  function t5(t6) {
    this.type = "cartesian", this._dimList = [], this._axes = {}, this.name = t6 || "";
  }
  return t5.prototype.getAxis = function(t6) {
    return this._axes[t6];
  }, t5.prototype.getAxes = function() {
    return Mn(this._dimList, (function(t6) {
      return this._axes[t6];
    }), this);
  }, t5.prototype.getAxesByScale = function(t6) {
    return t6 = t6.toLowerCase(), Sn(this.getAxes(), (function(i2) {
      return i2.scale.type === t6;
    }));
  }, t5.prototype.addAxis = function(t6) {
    var i2 = t6.dim;
    this._axes[i2] = t6, this._dimList.push(i2);
  }, t5;
})(), gC = ["x", "y"];
function yC(t5) {
  return "interval" === t5.type || "time" === t5.type;
}
var wC = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.type = "cartesian2d", i3.dimensions = gC, i3;
  }
  return Yi(i2, t5), i2.prototype.calcAffineTransform = function() {
    this._transform = this._invTransform = null;
    var t6 = this.getAxis("x").scale, i3 = this.getAxis("y").scale;
    if (yC(t6) && yC(i3)) {
      var n2 = t6.getExtent(), r2 = i3.getExtent(), e2 = this.dataToPoint([n2[0], r2[0]]), o2 = this.dataToPoint([n2[1], r2[1]]), a2 = n2[1] - n2[0], s2 = r2[1] - r2[0];
      if (a2 && s2) {
        var l2 = (o2[0] - e2[0]) / a2, u2 = (o2[1] - e2[1]) / s2, f2 = this._transform = [l2, 0, 0, u2, e2[0] - n2[0] * l2, e2[1] - r2[0] * u2];
        this._invTransform = ie([], f2);
      }
    }
  }, i2.prototype.getBaseAxis = function() {
    return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAxis("x");
  }, i2.prototype.containPoint = function(t6) {
    var i3 = this.getAxis("x"), n2 = this.getAxis("y");
    return i3.contain(i3.toLocalCoord(t6[0])) && n2.contain(n2.toLocalCoord(t6[1]));
  }, i2.prototype.containData = function(t6) {
    return this.getAxis("x").containData(t6[0]) && this.getAxis("y").containData(t6[1]);
  }, i2.prototype.containZone = function(t6, i3) {
    var n2 = this.dataToPoint(t6), r2 = this.dataToPoint(i3), e2 = this.getArea(), o2 = new ce(n2[0], n2[1], r2[0] - n2[0], r2[1] - n2[1]);
    return e2.intersect(o2);
  }, i2.prototype.dataToPoint = function(t6, i3, n2) {
    n2 = n2 || [];
    var r2 = t6[0], e2 = t6[1];
    if (this._transform && null != r2 && isFinite(r2) && null != e2 && isFinite(e2)) return wr(n2, t6, this._transform);
    var o2 = this.getAxis("x"), a2 = this.getAxis("y");
    return n2[0] = o2.toGlobalCoord(o2.dataToCoord(r2, i3)), n2[1] = a2.toGlobalCoord(a2.dataToCoord(e2, i3)), n2;
  }, i2.prototype.clampData = function(t6, i3) {
    var n2 = this.getAxis("x").scale, r2 = this.getAxis("y").scale, e2 = n2.getExtent(), o2 = r2.getExtent(), a2 = n2.parse(t6[0]), s2 = r2.parse(t6[1]);
    return (i3 = i3 || [])[0] = Math.min(Math.max(Math.min(e2[0], e2[1]), a2), Math.max(e2[0], e2[1])), i3[1] = Math.min(Math.max(Math.min(o2[0], o2[1]), s2), Math.max(o2[0], o2[1])), i3;
  }, i2.prototype.pointToData = function(t6, i3) {
    var n2 = [];
    if (this._invTransform) return wr(n2, t6, this._invTransform);
    var r2 = this.getAxis("x"), e2 = this.getAxis("y");
    return n2[0] = r2.coordToData(r2.toLocalCoord(t6[0]), i3), n2[1] = e2.coordToData(e2.toLocalCoord(t6[1]), i3), n2;
  }, i2.prototype.getOtherAxis = function(t6) {
    return this.getAxis("x" === t6.dim ? "y" : "x");
  }, i2.prototype.getArea = function(t6) {
    t6 = t6 || 0;
    var i3 = this.getAxis("x").getGlobalExtent(), n2 = this.getAxis("y").getGlobalExtent(), r2 = Math.min(i3[0], i3[1]) - t6, e2 = Math.min(n2[0], n2[1]) - t6, o2 = Math.max(i3[0], i3[1]) - r2 + t6, a2 = Math.max(n2[0], n2[1]) - e2 + t6;
    return new ce(r2, e2, o2, a2);
  }, i2;
})(bC), xC = (function(t5) {
  function i2(i3, n2, r2, e2, o2) {
    var a2 = t5.call(this, i3, n2, r2) || this;
    return a2.index = 0, a2.type = e2 || "value", a2.position = o2 || "bottom", a2;
  }
  return Yi(i2, t5), i2.prototype.isHorizontal = function() {
    var t6 = this.position;
    return "top" === t6 || "bottom" === t6;
  }, i2.prototype.getGlobalExtent = function(t6) {
    var i3 = this.getExtent();
    return i3[0] = this.toGlobalCoord(i3[0]), i3[1] = this.toGlobalCoord(i3[1]), t6 && i3[0] > i3[1] && i3.reverse(), i3;
  }, i2.prototype.pointToData = function(t6, i3) {
    return this.coordToData(this.toLocalCoord(t6["x" === this.dim ? 0 : 1]), i3);
  }, i2.prototype.setCategorySortInfo = function(t6) {
    if ("category" !== this.type) return false;
    this.model.option.categorySortInfo = t6, this.scale.setSortInfo(t6);
  }, i2;
})(Tk);
function kC(t5, i2, n2) {
  n2 = n2 || {};
  var r2 = t5.coordinateSystem, e2 = i2.axis, o2 = {}, a2 = e2.getAxesOnZeroOf()[0], s2 = e2.position, l2 = a2 ? "onZero" : s2, u2 = e2.dim, f2 = r2.getRect(), c2 = [f2.x, f2.x + f2.width, f2.y, f2.y + f2.height], h2 = { left: 0, right: 1, top: 0, bottom: 1, onZero: 2 }, v2 = i2.get("offset") || 0, d2 = "x" === u2 ? [c2[2] - v2, c2[3] + v2] : [c2[0] - v2, c2[1] + v2];
  if (a2) {
    var p2 = a2.toGlobalCoord(a2.dataToCoord(0));
    d2[h2.onZero] = Math.max(Math.min(p2, d2[1]), d2[0]);
  }
  o2.position = ["y" === u2 ? d2[h2[l2]] : c2[0], "x" === u2 ? d2[h2[l2]] : c2[3]], o2.rotation = Math.PI / 2 * ("x" === u2 ? 0 : 1), o2.labelDirection = o2.tickDirection = o2.nameDirection = { top: -1, bottom: 1, left: -1, right: 1 }[s2], o2.labelOffset = a2 ? d2[h2[s2]] - d2[h2.onZero] : 0, i2.get(["axisTick", "inside"]) && (o2.tickDirection = -o2.tickDirection), Bn(n2.labelInside, i2.get(["axisLabel", "inside"])) && (o2.labelDirection = -o2.labelDirection);
  var m2 = i2.get(["axisLabel", "rotate"]);
  return o2.labelRotate = "top" === l2 ? -m2 : m2, o2.z2 = 1, o2;
}
function MC(t5) {
  return "cartesian2d" === t5.get("coordinateSystem");
}
function zC(t5) {
  var i2 = { xAxisModel: null, yAxisModel: null };
  return kn(i2, (function(n2, r2) {
    var e2 = r2.replace(/Model$/, ""), o2 = t5.getReferringComponents(e2, Zs).models[0];
    i2[r2] = o2;
  })), i2;
}
var SC = Math.log;
function CC(t5, i2, n2) {
  var r2 = px.prototype, e2 = r2.getTicks.call(n2), o2 = r2.getTicks.call(n2, true), a2 = e2.length - 1, s2 = r2.getInterval.call(n2), l2 = Qx(t5, i2), u2 = l2.extent, f2 = l2.fixMin, c2 = l2.fixMax;
  if ("log" === t5.type) {
    var h2 = SC(t5.base);
    u2 = [SC(u2[0]) / h2, SC(u2[1]) / h2];
  }
  t5.setExtent(u2[0], u2[1]), t5.calcNiceExtent({ splitNumber: a2, fixMin: f2, fixMax: c2 });
  var v2 = r2.getExtent.call(t5);
  f2 && (u2[0] = v2[0]), c2 && (u2[1] = v2[1]);
  var d2 = r2.getInterval.call(t5), p2 = u2[0], m2 = u2[1];
  if (f2 && c2) d2 = (m2 - p2) / a2;
  else if (f2) for (m2 = u2[0] + d2 * a2; m2 < u2[1] && isFinite(m2) && isFinite(u2[1]); ) d2 = sx(d2), m2 = u2[0] + d2 * a2;
  else if (c2) for (p2 = u2[1] - d2 * a2; p2 > u2[0] && isFinite(p2) && isFinite(u2[0]); ) d2 = sx(d2), p2 = u2[1] - d2 * a2;
  else {
    t5.getTicks().length - 1 > a2 && (d2 = sx(d2));
    var b2 = d2 * a2;
    (p2 = fs((m2 = Math.ceil(u2[1] / d2) * d2) - b2)) < 0 && u2[0] >= 0 ? (p2 = 0, m2 = fs(b2)) : m2 > 0 && u2[1] <= 0 && (m2 = 0, p2 = -fs(b2));
  }
  var g3 = (e2[0].value - o2[0].value) / s2, y2 = (e2[a2].value - o2[a2].value) / s2;
  r2.setExtent.call(t5, p2 + d2 * g3, m2 + d2 * y2), r2.setInterval.call(t5, d2), (g3 || y2) && r2.setNiceExtent.call(t5, p2 + d2, m2 - d2);
}
var AC = (function() {
  function t5(t6, i2, n2) {
    this.type = "grid", this._coordsMap = {}, this._coordsList = [], this._axesMap = {}, this._axesList = [], this.axisPointerEnabled = true, this.dimensions = gC, this._initCartesian(t6, i2, n2), this.model = t6;
  }
  return t5.prototype.getRect = function() {
    return this._rect;
  }, t5.prototype.update = function(t6, i2) {
    var n2 = this._axesMap;
    function r2(t7) {
      var i3, n3 = Cn(t7), r3 = n3.length;
      if (r3) {
        for (var e3 = [], o2 = r3 - 1; o2 >= 0; o2--) {
          var a2 = t7[+n3[o2]], s2 = a2.model, l2 = a2.scale;
          ax(l2) && s2.get("alignTicks") && null == s2.get("interval") ? e3.push(a2) : (tk(l2, s2), ax(l2) && (i3 = a2));
        }
        e3.length && (i3 || tk((i3 = e3.pop()).scale, i3.model), kn(e3, (function(t8) {
          CC(t8.scale, t8.model, i3.scale);
        })));
      }
    }
    this._updateScale(t6, this.model), r2(n2.x), r2(n2.y);
    var e2 = {};
    kn(n2.x, (function(t7) {
      _C(n2, "y", t7, e2);
    })), kn(n2.y, (function(t7) {
      _C(n2, "x", t7, e2);
    })), this.resize(this.model, i2);
  }, t5.prototype.resize = function(t6, i2, n2) {
    var r2 = t6.getBoxLayoutParams(), e2 = !n2 && t6.get("containLabel"), o2 = Nd(r2, { width: i2.getWidth(), height: i2.getHeight() });
    this._rect = o2;
    var a2 = this._axesList;
    function s2() {
      kn(a2, (function(t7) {
        var i3 = t7.isHorizontal(), n3 = i3 ? [0, o2.width] : [0, o2.height], r3 = t7.inverse ? 1 : 0;
        t7.setExtent(n3[r3], n3[1 - r3]), (function(t8, i4) {
          var n4 = t8.getExtent(), r4 = n4[0] + n4[1];
          t8.toGlobalCoord = "x" === t8.dim ? function(t9) {
            return t9 + i4;
          } : function(t9) {
            return r4 - t9 + i4;
          }, t8.toLocalCoord = "x" === t8.dim ? function(t9) {
            return t9 - i4;
          } : function(t9) {
            return r4 - t9 + i4;
          };
        })(t7, i3 ? o2.x : o2.y);
      }));
    }
    s2(), e2 && (kn(a2, (function(t7) {
      if (!t7.model.get(["axisLabel", "inside"])) {
        var i3 = (function(t8) {
          var i4 = t8.scale;
          if (t8.model.get(["axisLabel", "show"]) && !i4.isBlank()) {
            var n4, r4, e3 = i4.getExtent();
            r4 = i4 instanceof vx ? i4.count() : (n4 = i4.getTicks()).length;
            var o3, a3 = t8.getLabelModel(), s3 = nk(t8), l2 = 1;
            r4 > 40 && (l2 = Math.ceil(r4 / 40));
            for (var u2 = 0; u2 < r4; u2 += l2) {
              var f2 = s3(n4 ? n4[u2] : { value: e3[0] + u2 }, u2), c2 = ek(a3.getTextRect(f2), a3.get("rotate") || 0);
              o3 ? o3.union(c2) : o3 = c2;
            }
            return o3;
          }
        })(t7);
        if (i3) {
          var n3 = t7.isHorizontal() ? "height" : "width", r3 = t7.model.get(["axisLabel", "margin"]);
          o2[n3] -= i3[n3] + r3, "top" === t7.position ? o2.y += i3.height + r3 : "left" === t7.position && (o2.x += i3.width + r3);
        }
      }
    })), s2()), kn(this._coordsList, (function(t7) {
      t7.calcAffineTransform();
    }));
  }, t5.prototype.getAxis = function(t6, i2) {
    var n2 = this._axesMap[t6];
    if (null != n2) return n2[i2 || 0];
  }, t5.prototype.getAxes = function() {
    return this._axesList.slice();
  }, t5.prototype.getCartesian = function(t6, i2) {
    if (null != t6 && null != i2) return this._coordsMap["x" + t6 + "y" + i2];
    Wn(t6) && (i2 = t6.yAxisIndex, t6 = t6.xAxisIndex);
    for (var n2 = 0, r2 = this._coordsList; n2 < r2.length; n2++) if (r2[n2].getAxis("x").index === t6 || r2[n2].getAxis("y").index === i2) return r2[n2];
  }, t5.prototype.getCartesians = function() {
    return this._coordsList.slice();
  }, t5.prototype.convertToPixel = function(t6, i2, n2) {
    var r2 = this._findConvertTarget(i2);
    return r2.cartesian ? r2.cartesian.dataToPoint(n2) : r2.axis ? r2.axis.toGlobalCoord(r2.axis.dataToCoord(n2)) : null;
  }, t5.prototype.convertFromPixel = function(t6, i2, n2) {
    var r2 = this._findConvertTarget(i2);
    return r2.cartesian ? r2.cartesian.pointToData(n2) : r2.axis ? r2.axis.coordToData(r2.axis.toLocalCoord(n2)) : null;
  }, t5.prototype._findConvertTarget = function(t6) {
    var i2, n2, r2 = t6.seriesModel, e2 = t6.xAxisModel || r2 && r2.getReferringComponents("xAxis", Zs).models[0], o2 = t6.yAxisModel || r2 && r2.getReferringComponents("yAxis", Zs).models[0], a2 = t6.gridModel;
    return r2 ? yn(this._coordsList, i2 = r2.coordinateSystem) < 0 && (i2 = null) : e2 && o2 ? i2 = this.getCartesian(e2.componentIndex, o2.componentIndex) : e2 ? n2 = this.getAxis("x", e2.componentIndex) : o2 ? n2 = this.getAxis("y", o2.componentIndex) : a2 && a2.coordinateSystem === this && (i2 = this._coordsList[0]), { cartesian: i2, axis: n2 };
  }, t5.prototype.containPoint = function(t6) {
    var i2 = this._coordsList[0];
    if (i2) return i2.containPoint(t6);
  }, t5.prototype._initCartesian = function(t6, i2) {
    var n2 = this, r2 = this, e2 = { left: false, right: false, top: false, bottom: false }, o2 = { x: {}, y: {} }, a2 = { x: 0, y: 0 };
    if (i2.eachComponent("xAxis", s2("x"), this), i2.eachComponent("yAxis", s2("y"), this), !a2.x || !a2.y) return this._axesMap = {}, void (this._axesList = []);
    function s2(i3) {
      return function(n3, s3) {
        if (NC(n3, t6)) {
          var l2 = n3.get("position");
          "x" === i3 ? "top" !== l2 && "bottom" !== l2 && (l2 = e2.bottom ? "top" : "bottom") : "left" !== l2 && "right" !== l2 && (l2 = e2.left ? "right" : "left"), e2[l2] = true;
          var u2 = new xC(i3, ik(n3), [0, 0], n3.get("type"), l2);
          u2.onBand = "category" === u2.type && n3.get("boundaryGap"), u2.inverse = n3.get("inverse"), n3.axis = u2, u2.model = n3, u2.grid = r2, u2.index = s3, r2._axesList.push(u2), o2[i3][s3] = u2, a2[i3]++;
        }
      };
    }
    this._axesMap = o2, kn(o2.x, (function(i3, r3) {
      kn(o2.y, (function(e3, o3) {
        var a3 = "x" + r3 + "y" + o3, s3 = new wC(a3);
        s3.master = n2, s3.model = t6, n2._coordsMap[a3] = s3, n2._coordsList.push(s3), s3.addAxis(i3), s3.addAxis(e3);
      }));
    }));
  }, t5.prototype._updateScale = function(t6, i2) {
    function n2(t7, i3) {
      kn(sk(t7, i3.dim), (function(n3) {
        i3.scale.unionExtentFromData(t7, n3);
      }));
    }
    kn(this._axesList, (function(t7) {
      if (t7.scale.setExtent(1 / 0, -1 / 0), "category" === t7.type) {
        var i3 = t7.model.get("categorySortInfo");
        t7.scale.setSortInfo(i3);
      }
    })), t6.eachSeries((function(t7) {
      if (MC(t7)) {
        var r2 = zC(t7), e2 = r2.xAxisModel, o2 = r2.yAxisModel;
        if (!NC(e2, i2) || !NC(o2, i2)) return;
        var a2 = this.getCartesian(e2.componentIndex, o2.componentIndex), s2 = t7.getData(), l2 = a2.getAxis("x"), u2 = a2.getAxis("y");
        n2(s2, l2), n2(s2, u2);
      }
    }), this);
  }, t5.prototype.getTooltipAxes = function(t6) {
    var i2 = [], n2 = [];
    return kn(this.getCartesians(), (function(r2) {
      var e2 = null != t6 && "auto" !== t6 ? r2.getAxis(t6) : r2.getBaseAxis(), o2 = r2.getOtherAxis(e2);
      yn(i2, e2) < 0 && i2.push(e2), yn(n2, o2) < 0 && n2.push(o2);
    })), { baseAxes: i2, otherAxes: n2 };
  }, t5.create = function(i2, n2) {
    var r2 = [];
    return i2.eachComponent("grid", (function(e2, o2) {
      var a2 = new t5(e2, i2, n2);
      a2.name = "grid_" + o2, a2.resize(e2, n2, true), e2.coordinateSystem = a2, r2.push(a2);
    })), i2.eachSeries((function(t6) {
      if (MC(t6)) {
        var i3 = zC(t6), n3 = i3.xAxisModel, r3 = i3.yAxisModel, e2 = n3.getCoordSysModel();
        t6.coordinateSystem = e2.coordinateSystem.getCartesian(n3.componentIndex, r3.componentIndex);
      }
    })), r2;
  }, t5.dimensions = gC, t5;
})();
function NC(t5, i2) {
  return t5.getCoordSysModel() === i2;
}
function _C(t5, i2, n2, r2) {
  n2.getAxesOnZeroOf = function() {
    return e2 ? [e2] : [];
  };
  var e2, o2 = t5[i2], a2 = n2.model, s2 = a2.get(["axisLine", "onZero"]), l2 = a2.get(["axisLine", "onZeroAxisIndex"]);
  if (s2) {
    if (null != l2) TC(o2[l2]) && (e2 = o2[l2]);
    else for (var u2 in o2) if (o2.hasOwnProperty(u2) && TC(o2[u2]) && !r2[f2(o2[u2])]) {
      e2 = o2[u2];
      break;
    }
    e2 && (r2[f2(e2)] = true);
  }
  function f2(t6) {
    return t6.dim + "_" + t6.index;
  }
}
function TC(t5) {
  return t5 && "category" !== t5.type && "time" !== t5.type && (function(t6) {
    var i2 = t6.scale.getExtent(), n2 = i2[0], r2 = i2[1];
    return !(n2 > 0 && r2 > 0 || n2 < 0 && r2 < 0);
  })(t5);
}
var IC = Math.PI, LC = (function() {
  function t5(t6, i2) {
    this.group = new rs(), this.opt = i2, this.axisModel = t6, gn(i2, { labelOffset: 0, nameDirection: 1, tickDirection: 1, labelDirection: 1, silent: true, handleAutoShown: function() {
      return true;
    } });
    var n2 = new rs({ x: i2.position[0], y: i2.position[1], rotation: i2.rotation });
    n2.updateTransform(), this._transformGroup = n2;
  }
  return t5.prototype.hasBuilder = function(t6) {
    return !!DC[t6];
  }, t5.prototype.add = function(t6) {
    DC[t6](this.opt, this.axisModel, this.group, this._transformGroup);
  }, t5.prototype.getGroup = function() {
    return this.group;
  }, t5.innerTextLayout = function(t6, i2, n2) {
    var r2, e2, o2 = ms(i2 - t6);
    return bs(o2) ? (e2 = n2 > 0 ? "top" : "bottom", r2 = "center") : bs(o2 - IC) ? (e2 = n2 > 0 ? "bottom" : "top", r2 = "center") : (e2 = "middle", r2 = o2 > 0 && o2 < IC ? n2 > 0 ? "right" : "left" : n2 > 0 ? "left" : "right"), { rotation: o2, textAlign: r2, textVerticalAlign: e2 };
  }, t5.makeAxisEventDataBase = function(t6) {
    var i2 = { componentType: t6.mainType, componentIndex: t6.componentIndex };
    return i2[t6.mainType + "Index"] = t6.componentIndex, i2;
  }, t5.isLabelSilent = function(t6) {
    var i2 = t6.get("tooltip");
    return t6.get("silent") || !(t6.get("triggerEvent") || i2 && i2.show);
  }, t5;
})(), DC = { axisLine: function(t5, i2, n2, r2) {
  var e2 = i2.get(["axisLine", "show"]);
  if ("auto" === e2 && t5.handleAutoShown && (e2 = t5.handleAutoShown("axisLine")), e2) {
    var o2 = i2.axis.getExtent(), a2 = r2.transform, s2 = [o2[0], 0], l2 = [o2[1], 0], u2 = s2[0] > l2[0];
    a2 && (wr(s2, s2, a2), wr(l2, l2, a2));
    var f2 = bn({ lineCap: "round" }, i2.getModel(["axisLine", "lineStyle"]).getLineStyle()), c2 = new nh({ shape: { x1: s2[0], y1: s2[1], x2: l2[0], y2: l2[1] }, style: f2, strokeContainThreshold: t5.strokeContainThreshold || 5, silent: true, z2: 1 });
    Bh(c2.shape, c2.style.lineWidth), c2.anid = "line", n2.add(c2);
    var h2 = i2.get(["axisLine", "symbol"]);
    if (null != h2) {
      var v2 = i2.get(["axisLine", "symbolSize"]);
      In(h2) && (h2 = [h2, h2]), (In(v2) || Dn(v2)) && (v2 = [v2, v2]);
      var d2 = Pg(i2.get(["axisLine", "symbolOffset"]) || 0, v2), p2 = v2[0], m2 = v2[1];
      kn([{ rotate: t5.rotation + Math.PI / 2, offset: d2[0], r: 0 }, { rotate: t5.rotation - Math.PI / 2, offset: d2[1], r: Math.sqrt((s2[0] - l2[0]) * (s2[0] - l2[0]) + (s2[1] - l2[1]) * (s2[1] - l2[1])) }], (function(i3, r3) {
        if ("none" !== h2[r3] && null != h2[r3]) {
          var e3 = Fg(h2[r3], -p2 / 2, -m2 / 2, p2, m2, f2.stroke, true), o3 = i3.r + i3.offset, a3 = u2 ? l2 : s2;
          e3.attr({ rotation: i3.rotate, x: a3[0] + o3 * Math.cos(t5.rotation), y: a3[1] - o3 * Math.sin(t5.rotation), silent: true, z2: 11 }), n2.add(e3);
        }
      }));
    }
  }
}, axisTickLabel: function(t5, i2, n2, r2) {
  var e2 = (function(t6, i3, n3, r3) {
    var e3 = n3.axis, o3 = n3.getModel("axisTick"), a2 = o3.get("show");
    if ("auto" === a2 && r3.handleAutoShown && (a2 = r3.handleAutoShown("axisTick")), a2 && !e3.scale.isBlank()) {
      for (var s2 = o3.getModel("lineStyle"), l2 = r3.tickDirection * o3.get("length"), u2 = FC(e3.getTicksCoords(), i3.transform, l2, gn(s2.getLineStyle(), { stroke: n3.get(["axisLine", "lineStyle", "color"]) }), "ticks"), f2 = 0; f2 < u2.length; f2++) t6.add(u2[f2]);
      return u2;
    }
  })(n2, r2, i2, t5), o2 = (function(t6, i3, n3, r3) {
    var e3 = n3.axis;
    if (Bn(r3.axisLabelShow, n3.get(["axisLabel", "show"])) && !e3.scale.isBlank()) {
      var o3 = n3.getModel("axisLabel"), a2 = o3.get("margin"), s2 = e3.getViewLabels(), l2 = (Bn(r3.labelRotate, o3.get("rotate")) || 0) * IC / 180, u2 = LC.innerTextLayout(r3.rotation, l2, r3.labelDirection), f2 = n3.getCategories && n3.getCategories(true), c2 = [], h2 = LC.isLabelSilent(n3), v2 = n3.get("triggerEvent");
      return kn(s2, (function(l3, d2) {
        var p2 = "ordinal" === e3.scale.type ? e3.scale.getRawOrdinalNumber(l3.tickValue) : l3.tickValue, m2 = l3.formattedLabel, b2 = l3.rawLabel, g3 = o3;
        if (f2 && f2[p2]) {
          var y2 = f2[p2];
          Wn(y2) && y2.textStyle && (g3 = new _v(y2.textStyle, o3, n3.ecModel));
        }
        var w3 = g3.getTextColor() || n3.get(["axisLine", "lineStyle", "color"]), x2 = e3.dataToCoord(p2), k2 = g3.getShallow("align", true) || u2.textAlign, M2 = Vn(g3.getShallow("alignMinLabel", true), k2), z2 = Vn(g3.getShallow("alignMaxLabel", true), k2), S3 = g3.getShallow("verticalAlign", true) || g3.getShallow("baseline", true) || u2.textVerticalAlign, C3 = Vn(g3.getShallow("verticalAlignMinLabel", true), S3), A3 = Vn(g3.getShallow("verticalAlignMaxLabel", true), S3), N2 = new Ku({ x: x2, y: r3.labelOffset + r3.labelDirection * a2, rotation: u2.rotation, silent: h2, z2: 10 + (l3.level || 0), style: sv(g3, { text: m2, align: 0 === d2 ? M2 : d2 === s2.length - 1 ? z2 : k2, verticalAlign: 0 === d2 ? C3 : d2 === s2.length - 1 ? A3 : S3, fill: Tn(w3) ? w3("category" === e3.type ? b2 : "value" === e3.type ? p2 + "" : p2, d2) : w3 }) });
        if (N2.anid = "label_" + p2, Kh({ el: N2, componentModel: n3, itemName: m2, formatterParamsExtra: { isTruncated: function() {
          return N2.isTruncated;
        }, value: b2, tickIndex: d2 } }), v2) {
          var _2 = LC.makeAxisEventDataBase(n3);
          _2.targetType = "axisLabel", _2.value = b2, _2.tickIndex = d2, "category" === e3.type && (_2.dataIndex = p2), hf(N2).eventData = _2;
        }
        i3.add(N2), N2.updateTransform(), c2.push(N2), t6.add(N2), N2.decomposeTransform();
      })), c2;
    }
  })(n2, r2, i2, t5);
  (function(t6, i3, n3) {
    if (!ak(t6.axis)) {
      var r3 = t6.get(["axisLabel", "showMinLabel"]), e3 = t6.get(["axisLabel", "showMaxLabel"]), o3 = (i3 = i3 || [])[0], a2 = i3[1], s2 = i3[i3.length - 1], l2 = i3[i3.length - 2], u2 = (n3 = n3 || [])[0], f2 = n3[1], c2 = n3[n3.length - 1], h2 = n3[n3.length - 2];
      false === r3 ? (WC(o3), WC(u2)) : EC(o3, a2) && (r3 ? (WC(a2), WC(f2)) : (WC(o3), WC(u2))), false === e3 ? (WC(s2), WC(c2)) : EC(l2, s2) && (e3 ? (WC(l2), WC(h2)) : (WC(s2), WC(c2)));
    }
  })(i2, o2, e2), (function(t6, i3, n3, r3) {
    var e3 = n3.axis, o3 = n3.getModel("minorTick");
    if (o3.get("show") && !e3.scale.isBlank()) {
      var a2 = e3.getMinorTicksCoords();
      if (a2.length) for (var s2 = o3.getModel("lineStyle"), l2 = r3 * o3.get("length"), u2 = gn(s2.getLineStyle(), gn(n3.getModel("axisTick").getLineStyle(), { stroke: n3.get(["axisLine", "lineStyle", "color"]) })), f2 = 0; f2 < a2.length; f2++) for (var c2 = FC(a2[f2], i3.transform, l2, u2, "minorticks_" + f2), h2 = 0; h2 < c2.length; h2++) t6.add(c2[h2]);
    }
  })(n2, r2, i2, t5.tickDirection), i2.get(["axisLabel", "hideOverlap"]) && oM(nM(Mn(o2, (function(t6) {
    return { label: t6, priority: t6.z2, defaultAttr: { ignore: t6.ignore } };
  }))));
}, axisName: function(t5, i2, n2, r2) {
  var e2 = Bn(t5.axisName, i2.get("name"));
  if (e2) {
    var o2, a2, s2 = i2.get("nameLocation"), l2 = t5.nameDirection, u2 = i2.getModel("nameTextStyle"), f2 = i2.get("nameGap") || 0, c2 = i2.axis.getExtent(), h2 = c2[0] > c2[1] ? -1 : 1, v2 = ["start" === s2 ? c2[0] - h2 * f2 : "end" === s2 ? c2[1] + h2 * f2 : (c2[0] + c2[1]) / 2, OC(s2) ? t5.labelOffset + l2 * f2 : 0], d2 = i2.get("nameRotate");
    null != d2 && (d2 = d2 * IC / 180), OC(s2) ? o2 = LC.innerTextLayout(t5.rotation, null != d2 ? d2 : t5.rotation, l2) : (o2 = (function(t6, i3, n3, r3) {
      var e3, o3, a3 = ms(n3 - t6), s3 = r3[0] > r3[1], l3 = "start" === i3 && !s3 || "start" !== i3 && s3;
      return bs(a3 - IC / 2) ? (o3 = l3 ? "bottom" : "top", e3 = "center") : bs(a3 - 1.5 * IC) ? (o3 = l3 ? "top" : "bottom", e3 = "center") : (o3 = "middle", e3 = a3 < 1.5 * IC && a3 > IC / 2 ? l3 ? "left" : "right" : l3 ? "right" : "left"), { rotation: a3, textAlign: e3, textVerticalAlign: o3 };
    })(t5.rotation, s2, d2 || 0, c2), null != (a2 = t5.axisNameAvailableWidth) && (a2 = Math.abs(a2 / Math.sin(o2.rotation)), !isFinite(a2) && (a2 = null)));
    var p2 = u2.getFont(), m2 = i2.get("nameTruncate", true) || {}, b2 = m2.ellipsis, g3 = Bn(t5.nameTruncateMaxWidth, m2.maxWidth, a2), y2 = new Ku({ x: v2[0], y: v2[1], rotation: o2.rotation, silent: LC.isLabelSilent(i2), style: sv(u2, { text: e2, font: p2, overflow: "truncate", width: g3, ellipsis: b2, fill: u2.getTextColor() || i2.get(["axisLine", "lineStyle", "color"]), align: u2.get("align") || o2.textAlign, verticalAlign: u2.get("verticalAlign") || o2.textVerticalAlign }), z2: 1 });
    if (Kh({ el: y2, componentModel: i2, itemName: e2 }), y2.__fullText = e2, y2.anid = "name", i2.get("triggerEvent")) {
      var w3 = LC.makeAxisEventDataBase(i2);
      w3.targetType = "axisName", w3.name = e2, hf(y2).eventData = w3;
    }
    r2.add(y2), y2.updateTransform(), n2.add(y2), y2.decomposeTransform();
  }
} };
function WC(t5) {
  t5 && (t5.ignore = true);
}
function EC(t5, i2) {
  var n2 = t5 && t5.getBoundingRect().clone(), r2 = i2 && i2.getBoundingRect().clone();
  if (n2 && r2) {
    var e2 = Zr([]);
    return Qr(e2, e2, -t5.rotation), n2.applyTransform(Jr([], e2, t5.getLocalTransform())), r2.applyTransform(Jr([], e2, i2.getLocalTransform())), n2.intersect(r2);
  }
}
function OC(t5) {
  return "middle" === t5 || "center" === t5;
}
function FC(t5, i2, n2, r2, e2) {
  for (var o2 = [], a2 = [], s2 = [], l2 = 0; l2 < t5.length; l2++) {
    var u2 = t5[l2].coord;
    a2[0] = u2, a2[1] = 0, s2[0] = u2, s2[1] = n2, i2 && (wr(a2, a2, i2), wr(s2, s2, i2));
    var f2 = new nh({ shape: { x1: a2[0], y1: a2[1], x2: s2[0], y2: s2[1] }, style: r2, z2: 2, autoBatch: true, silent: true });
    Bh(f2.shape, f2.style.lineWidth), f2.anid = e2 + "_" + t5[l2].tickValue, o2.push(f2);
  }
  return o2;
}
function RC(t5, i2) {
  return "all" === t5 || _n(t5) && yn(t5, i2) >= 0 || t5 === i2;
}
function PC(t5) {
  var i2 = (t5.ecModel.getComponent("axisPointer") || {}).coordSysAxesInfo;
  return i2 && i2.axesInfo[VC(t5)];
}
function BC(t5) {
  return !!t5.get(["handle", "show"]);
}
function VC(t5) {
  return t5.type + "||" + t5.id;
}
var jC = {}, HC = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(i3, n2, r2, e2) {
    this.axisPointerClass && (function(t6) {
      var i4 = PC(t6);
      if (i4) {
        var n3 = i4.axisPointerModel, r3 = i4.axis.scale, e3 = n3.option, o2 = n3.get("status"), a2 = n3.get("value");
        null != a2 && (a2 = r3.parse(a2));
        var s2 = BC(n3);
        null == o2 && (e3.status = s2 ? "show" : "hide");
        var l2 = r3.getExtent().slice();
        l2[0] > l2[1] && l2.reverse(), (null == a2 || a2 > l2[1]) && (a2 = l2[1]), a2 < l2[0] && (a2 = l2[0]), e3.value = a2, s2 && (e3.status = i4.axis.scale.isBlank() ? "hide" : "show");
      }
    })(i3), t5.prototype.render.apply(this, arguments), this._doUpdateAxisPointerClass(i3, r2, true);
  }, i2.prototype.updateAxisPointer = function(t6, i3, n2) {
    this._doUpdateAxisPointerClass(t6, n2, false);
  }, i2.prototype.remove = function(t6, i3) {
    var n2 = this._axisPointer;
    n2 && n2.remove(i3);
  }, i2.prototype.dispose = function(i3, n2) {
    this._disposeAxisPointer(n2), t5.prototype.dispose.apply(this, arguments);
  }, i2.prototype._doUpdateAxisPointerClass = function(t6, n2, r2) {
    var e2 = i2.getAxisPointerClass(this.axisPointerClass);
    if (e2) {
      var o2 = (function(t7) {
        var i3 = PC(t7);
        return i3 && i3.axisPointerModel;
      })(t6);
      o2 ? (this._axisPointer || (this._axisPointer = new e2())).render(t6, o2, n2, r2) : this._disposeAxisPointer(n2);
    }
  }, i2.prototype._disposeAxisPointer = function(t6) {
    this._axisPointer && this._axisPointer.dispose(t6), this._axisPointer = null;
  }, i2.registerAxisPointerClass = function(t6, i3) {
    jC[t6] = i3;
  }, i2.getAxisPointerClass = function(t6) {
    return t6 && jC[t6];
  }, i2.type = "axis", i2;
})(xb), YC = Xs();
function XC(t5, i2, n2, r2) {
  var e2 = n2.axis;
  if (!e2.scale.isBlank()) {
    var o2 = n2.getModel("splitArea"), a2 = o2.getModel("areaStyle"), s2 = a2.get("color"), l2 = r2.coordinateSystem.getRect(), u2 = e2.getTicksCoords({ tickModel: o2, clamp: true });
    if (u2.length) {
      var f2 = s2.length, c2 = YC(t5).splitAreaColors, h2 = Qn(), v2 = 0;
      if (c2) for (var d2 = 0; d2 < u2.length; d2++) {
        var p2 = c2.get(u2[d2].tickValue);
        if (null != p2) {
          v2 = (p2 + (f2 - 1) * d2) % f2;
          break;
        }
      }
      var m2 = e2.toGlobalCoord(u2[0].coord), b2 = a2.getAreaStyle();
      for (s2 = _n(s2) ? s2 : [s2], d2 = 1; d2 < u2.length; d2++) {
        var g3 = e2.toGlobalCoord(u2[d2].coord), y2 = void 0, w3 = void 0, x2 = void 0, k2 = void 0;
        e2.isHorizontal() ? (w3 = l2.y, k2 = l2.height, m2 = (y2 = m2) + (x2 = g3 - y2)) : (y2 = l2.x, x2 = l2.width, m2 = (w3 = m2) + (k2 = g3 - w3));
        var M2 = u2[d2 - 1].tickValue;
        null != M2 && h2.set(M2, v2), i2.add(new Zu({ anid: null != M2 ? "area_" + M2 : null, shape: { x: y2, y: w3, width: x2, height: k2 }, style: gn({ fill: s2[v2] }, b2), autoBatch: true, silent: true })), v2 = (v2 + 1) % f2;
      }
      YC(t5).splitAreaColors = h2;
    }
  }
}
function UC(t5) {
  YC(t5).splitAreaColors = null;
}
var $C = ["axisLine", "axisTickLabel", "axisName"], GC = ["splitArea", "splitLine", "minorSplitLine"], ZC = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.axisPointerClass = "CartesianAxisPointer", n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(i3, n2, r2, e2) {
    this.group.removeAll();
    var o2 = this._axisGroup;
    if (this._axisGroup = new rs(), this.group.add(this._axisGroup), i3.get("show")) {
      var a2 = i3.getCoordSysModel(), s2 = kC(a2, i3), l2 = new LC(i3, bn({ handleAutoShown: function() {
        for (var t6 = a2.coordinateSystem.getCartesians(), n3 = 0; n3 < t6.length; n3++) if (ax(t6[n3].getOtherAxis(i3.axis).scale)) return true;
        return false;
      } }, s2));
      kn($C, l2.add, l2), this._axisGroup.add(l2.getGroup()), kn(GC, (function(t6) {
        i3.get([t6, "show"]) && qC[t6](this, this._axisGroup, i3, a2);
      }), this), e2 && "changeAxisOrder" === e2.type && e2.isInitSort || Uh(o2, this._axisGroup, i3), t5.prototype.render.call(this, i3, n2, r2, e2);
    }
  }, i2.prototype.remove = function() {
    UC(this);
  }, i2.type = "cartesianAxis", i2;
})(HC), qC = { splitLine: function(t5, i2, n2, r2) {
  var e2 = n2.axis;
  if (!e2.scale.isBlank()) {
    var o2 = n2.getModel("splitLine"), a2 = o2.getModel("lineStyle"), s2 = a2.get("color"), l2 = false !== o2.get("showMinLine"), u2 = false !== o2.get("showMaxLine");
    s2 = _n(s2) ? s2 : [s2];
    for (var f2 = r2.coordinateSystem.getRect(), c2 = e2.isHorizontal(), h2 = 0, v2 = e2.getTicksCoords({ tickModel: o2 }), d2 = [], p2 = [], m2 = a2.getLineStyle(), b2 = 0; b2 < v2.length; b2++) {
      var g3 = e2.toGlobalCoord(v2[b2].coord);
      if ((0 !== b2 || l2) && (b2 !== v2.length - 1 || u2)) {
        var y2 = v2[b2].tickValue;
        c2 ? (d2[0] = g3, d2[1] = f2.y, p2[0] = g3, p2[1] = f2.y + f2.height) : (d2[0] = f2.x, d2[1] = g3, p2[0] = f2.x + f2.width, p2[1] = g3);
        var w3 = h2++ % s2.length, x2 = new nh({ anid: null != y2 ? "line_" + y2 : null, autoBatch: true, shape: { x1: d2[0], y1: d2[1], x2: p2[0], y2: p2[1] }, style: gn({ stroke: s2[w3] }, m2), silent: true });
        Bh(x2.shape, m2.lineWidth), i2.add(x2);
      }
    }
  }
}, minorSplitLine: function(t5, i2, n2, r2) {
  var e2 = n2.axis, o2 = n2.getModel("minorSplitLine").getModel("lineStyle"), a2 = r2.coordinateSystem.getRect(), s2 = e2.isHorizontal(), l2 = e2.getMinorTicksCoords();
  if (l2.length) for (var u2 = [], f2 = [], c2 = o2.getLineStyle(), h2 = 0; h2 < l2.length; h2++) for (var v2 = 0; v2 < l2[h2].length; v2++) {
    var d2 = e2.toGlobalCoord(l2[h2][v2].coord);
    s2 ? (u2[0] = d2, u2[1] = a2.y, f2[0] = d2, f2[1] = a2.y + a2.height) : (u2[0] = a2.x, u2[1] = d2, f2[0] = a2.x + a2.width, f2[1] = d2);
    var p2 = new nh({ anid: "minor_line_" + l2[h2][v2].tickValue, autoBatch: true, shape: { x1: u2[0], y1: u2[1], x2: f2[0], y2: f2[1] }, style: c2, silent: true });
    Bh(p2.shape, c2.lineWidth), i2.add(p2);
  }
}, splitArea: function(t5, i2, n2, r2) {
  XC(t5, i2, n2, r2);
} }, JC = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "xAxis", i2;
})(ZC), KC = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.type = JC.type, i3;
  }
  return Yi(i2, t5), i2.type = "yAxis", i2;
})(ZC), QC = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.type = "grid", i3;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6) {
    this.group.removeAll(), t6.get("show") && this.group.add(new Zu({ shape: t6.coordinateSystem.getRect(), style: gn({ fill: t6.get("backgroundColor") }, t6.getItemStyle()), silent: true, z2: -1 }));
  }, i2.type = "grid", i2;
})(xb), tA = { offset: 0 };
function iA(t5) {
  t5.registerComponentView(QC), t5.registerComponentModel(lC), t5.registerCoordinateSystem("cartesian2d", AC), pC(t5, "x", uC, tA), pC(t5, "y", uC, tA), t5.registerComponentView(JC), t5.registerComponentView(KC), t5.registerPreprocessor((function(t6) {
    t6.xAxis && t6.yAxis && !t6.grid && (t6.grid = {});
  }));
}
function nA(t5) {
  t5.eachSeriesByType("radar", (function(t6) {
    var i2 = t6.getData(), n2 = [], r2 = t6.coordinateSystem;
    if (r2) {
      var e2 = r2.getIndicatorAxes();
      kn(e2, (function(t7, o2) {
        i2.each(i2.mapDimension(e2[o2].dim), (function(t8, i3) {
          n2[i3] = n2[i3] || [];
          var e3 = r2.dataToPoint(t8, o2);
          n2[i3][o2] = rA(e3) ? e3 : eA(r2);
        }));
      })), i2.each((function(t7) {
        var e3 = (function(t8, i3) {
          if (t8 && i3) {
            for (var n3 = 0, r3 = t8.length; n3 < r3; n3++) if (i3.call(void 0, t8[n3], n3, t8)) return t8[n3];
          }
        })(n2[t7], (function(t8) {
          return rA(t8);
        })) || eA(r2);
        n2[t7].push(e3.slice()), i2.setItemLayout(t7, n2[t7]);
      }));
    }
  }));
}
function rA(t5) {
  return !isNaN(t5[0]) && !isNaN(t5[1]);
}
function eA(t5) {
  return [t5.cx, t5.cy];
}
function oA(t5) {
  var i2 = t5.polar;
  if (i2) {
    _n(i2) || (i2 = [i2]);
    var n2 = [];
    kn(i2, (function(i3) {
      i3.indicator ? (i3.type && !i3.shape && (i3.shape = i3.type), t5.radar = t5.radar || [], _n(t5.radar) || (t5.radar = [t5.radar]), t5.radar.push(i3)) : n2.push(i3);
    })), t5.polar = n2;
  }
  kn(t5.series, (function(t6) {
    t6 && "radar" === t6.type && t6.polarIndex && (t6.radarIndex = t6.polarIndex);
  }));
}
var aA = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6) {
    var i3 = t6.coordinateSystem, n2 = this.group, r2 = t6.getData(), e2 = this._data;
    function o2(t7, i4) {
      var n3 = t7.getItemVisual(i4, "symbol") || "circle";
      if ("none" !== n3) {
        var r3 = Rg(t7.getItemVisual(i4, "symbolSize")), e3 = Fg(n3, -1, -1, 2, 2), o3 = t7.getItemVisual(i4, "symbolRotate") || 0;
        return e3.attr({ style: { strokeNoScale: true }, z2: 100, scaleX: r3[0] / 2, scaleY: r3[1] / 2, rotation: o3 * Math.PI / 180 || 0 }), e3;
      }
    }
    function a2(i4, n3, r3, e3, a3, s3) {
      r3.removeAll();
      for (var l2 = 0; l2 < n3.length - 1; l2++) {
        var u2 = o2(e3, a3);
        u2 && (u2.__dimIdx = l2, i4[l2] ? (u2.setPosition(i4[l2]), iv[s3 ? "initProps" : "updateProps"](u2, { x: n3[l2][0], y: n3[l2][1] }, t6, a3)) : u2.setPosition(n3[l2]), r3.add(u2));
      }
    }
    function s2(t7) {
      return Mn(t7, (function() {
        return [i3.cx, i3.cy];
      }));
    }
    r2.diff(e2).add((function(i4) {
      var n3 = r2.getItemLayout(i4);
      if (n3) {
        var e3 = new Jc(), o3 = new Qc(), l2 = { shape: { points: n3 } };
        e3.shape.points = s2(n3), o3.shape.points = s2(n3), zh(e3, l2, t6, i4), zh(o3, l2, t6, i4);
        var u2 = new rs(), f2 = new rs();
        u2.add(o3), u2.add(e3), u2.add(f2), a2(o3.shape.points, n3, f2, r2, i4, true), r2.setItemGraphicEl(i4, u2);
      }
    })).update((function(i4, n3) {
      var o3 = e2.getItemGraphicEl(n3), s3 = o3.childAt(0), l2 = o3.childAt(1), u2 = o3.childAt(2), f2 = { shape: { points: r2.getItemLayout(i4) } };
      f2.shape.points && (a2(s3.shape.points, f2.shape.points, u2, r2, i4, false), _h(l2), _h(s3), Mh(s3, f2, t6), Mh(l2, f2, t6), r2.setItemGraphicEl(i4, o3));
    })).remove((function(t7) {
      n2.remove(e2.getItemGraphicEl(t7));
    })).execute(), r2.eachItemGraphicEl((function(t7, i4) {
      var e3 = r2.getItemModel(i4), o3 = t7.childAt(0), a3 = t7.childAt(1), s3 = t7.childAt(2), l2 = r2.getItemVisual(i4, "style"), u2 = l2.fill;
      n2.add(t7), o3.useStyle(gn(e3.getModel("lineStyle").getLineStyle(), { fill: "none", stroke: u2 })), ec(o3, e3, "lineStyle"), ec(a3, e3, "areaStyle");
      var f2 = e3.getModel("areaStyle"), c2 = f2.isEmpty() && f2.parentModel.isEmpty();
      a3.ignore = c2, kn(["emphasis", "select", "blur"], (function(t8) {
        var i5 = e3.getModel([t8, "areaStyle"]), n3 = i5.isEmpty() && i5.parentModel.isEmpty();
        a3.ensureState(t8).ignore = n3 && c2;
      })), a3.useStyle(gn(f2.getAreaStyle(), { fill: u2, opacity: 0.7, decal: l2.decal }));
      var h2 = e3.getModel("emphasis"), v2 = h2.getModel("itemStyle").getItemStyle();
      s3.eachChild((function(t8) {
        if (t8 instanceof ju) {
          var n3 = t8.style;
          t8.useStyle(bn({ image: n3.image, x: n3.x, y: n3.y, width: n3.width, height: n3.height }, l2));
        } else t8.useStyle(l2), t8.setColor(u2), t8.style.strokeNoScale = true;
        t8.ensureState("emphasis").style = dn(v2);
        var o4 = r2.getStore().get(r2.getDimensionIndex(t8.__dimIdx), i4);
        (null == o4 || isNaN(o4)) && (o4 = ""), ov(t8, av(e3), { labelFetcher: r2.hostModel, labelDataIndex: i4, labelDimIndex: t8.__dimIdx, defaultText: o4, inheritColor: u2, defaultOpacity: l2.opacity });
      })), tc(t7, h2.get("focus"), h2.get("blurScope"), h2.get("disabled"));
    })), this._data = r2;
  }, i2.prototype.remove = function() {
    this.group.removeAll(), this._data = null;
  }, i2.type = "radar", i2;
})(Sb), sA = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.hasSymbolVisual = true, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(i3) {
    t5.prototype.init.apply(this, arguments), this.legendVisualProvider = new tC(An(this.getData, this), An(this.getRawData, this));
  }, i2.prototype.getInitialData = function() {
    return QS(this, { generateCoord: "indicator_", generateCoordCount: 1 / 0 });
  }, i2.prototype.formatTooltip = function(t6) {
    var i3 = this.getData(), n2 = this.coordinateSystem.getIndicatorAxes(), r2 = this.getData().getName(t6), e2 = "" === r2 ? this.name : r2, o2 = ab(this, t6);
    return Jm("section", { header: e2, sortBlocks: true, blocks: Mn(n2, (function(n3) {
      var r3 = i3.get(i3.mapDimension(n3.dim), t6);
      return Jm("nameValue", { markerType: "subItem", markerColor: o2, name: n3.name, value: r3, sortParam: r3 });
    })) });
  }, i2.prototype.getTooltipPosition = function(t6) {
    if (null != t6) {
      for (var i3 = this.getData(), n2 = this.coordinateSystem, r2 = i3.getValues(Mn(n2.dimensions, (function(t7) {
        return i3.mapDimension(t7);
      })), t6), e2 = 0, o2 = r2.length; e2 < o2; e2++) if (!isNaN(r2[e2])) {
        var a2 = n2.getIndicatorAxes();
        return n2.coordToPoint(a2[e2].dataToCoord(r2[e2]), e2);
      }
    }
  }, i2.type = "series.radar", i2.dependencies = ["radar"], i2.defaultOption = { z: 2, colorBy: "data", coordinateSystem: "radar", legendHoverLink: true, radarIndex: 0, lineStyle: { width: 2, type: "solid", join: "round" }, label: { position: "top" }, symbolSize: 8 }, i2;
})(vb), lA = vC.value;
function uA(t5, i2) {
  return gn({ show: i2 }, t5);
}
var fA = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.optionUpdated = function() {
    var t6 = this.get("boundaryGap"), i3 = this.get("splitNumber"), n2 = this.get("scale"), r2 = this.get("axisLine"), e2 = this.get("axisTick"), o2 = this.get("axisLabel"), a2 = this.get("axisName"), s2 = this.get(["axisName", "show"]), l2 = this.get(["axisName", "formatter"]), u2 = this.get("axisNameGap"), f2 = this.get("triggerEvent"), c2 = Mn(this.get("indicator") || [], (function(c3) {
      null != c3.max && c3.max > 0 && !c3.min ? c3.min = 0 : null != c3.min && c3.min < 0 && !c3.max && (c3.max = 0);
      var h2 = a2;
      null != c3.color && (h2 = gn({ color: c3.color }, a2));
      var v2 = pn(dn(c3), { boundaryGap: t6, splitNumber: i3, scale: n2, axisLine: r2, axisTick: e2, axisLabel: o2, name: c3.text, showName: s2, nameLocation: "end", nameGap: u2, nameTextStyle: h2, triggerEvent: f2 }, false);
      if (In(l2)) {
        var d2 = v2.name;
        v2.name = l2.replace("{value}", null != d2 ? d2 : "");
      } else Tn(l2) && (v2.name = l2(v2.name, v2));
      var p2 = new _v(v2, null, this.ecModel);
      return wn(p2, lk.prototype), p2.mainType = "radar", p2.componentIndex = this.componentIndex, p2;
    }), this);
    this._indicatorModels = c2;
  }, i2.prototype.getIndicatorModels = function() {
    return this._indicatorModels;
  }, i2.type = "radar", i2.defaultOption = { z: 0, center: ["50%", "50%"], radius: "75%", startAngle: 90, axisName: { show: true }, boundaryGap: [0, 0], splitNumber: 5, axisNameGap: 15, scale: false, shape: "polygon", axisLine: pn({ lineStyle: { color: "#bbb" } }, lA.axisLine), axisLabel: uA(lA.axisLabel, false), axisTick: uA(lA.axisTick, false), splitLine: uA(lA.splitLine, true), splitArea: uA(lA.splitArea, true), indicator: [] }, i2;
})(Ed), cA = ["axisLine", "axisTickLabel", "axisName"], hA = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6) {
    this.group.removeAll(), this._buildAxes(t6), this._buildSplitLineAndArea(t6);
  }, i2.prototype._buildAxes = function(t6) {
    var i3 = t6.coordinateSystem;
    kn(Mn(i3.getIndicatorAxes(), (function(t7) {
      var n2 = t7.model.get("showName") ? t7.name : "";
      return new LC(t7.model, { axisName: n2, position: [i3.cx, i3.cy], rotation: t7.angle, labelDirection: -1, tickDirection: -1, nameDirection: 1 });
    })), (function(t7) {
      kn(cA, t7.add, t7), this.group.add(t7.getGroup());
    }), this);
  }, i2.prototype._buildSplitLineAndArea = function(t6) {
    var i3 = t6.coordinateSystem, n2 = i3.getIndicatorAxes();
    if (n2.length) {
      var r2 = t6.get("shape"), e2 = t6.getModel("splitLine"), o2 = t6.getModel("splitArea"), a2 = e2.getModel("lineStyle"), s2 = o2.getModel("areaStyle"), l2 = e2.get("show"), u2 = o2.get("show"), f2 = a2.get("color"), c2 = s2.get("color"), h2 = _n(f2) ? f2 : [f2], v2 = _n(c2) ? c2 : [c2], d2 = [], p2 = [];
      if ("circle" === r2) for (var m2 = n2[0].getTicksCoords(), b2 = i3.cx, g3 = i3.cy, y2 = 0; y2 < m2.length; y2++) l2 && d2[A3(d2, h2, y2)].push(new Tc({ shape: { cx: b2, cy: g3, r: m2[y2].coord } })), u2 && y2 < m2.length - 1 && p2[A3(p2, v2, y2)].push(new Gc({ shape: { cx: b2, cy: g3, r0: m2[y2].coord, r: m2[y2 + 1].coord } }));
      else {
        var w3, x2 = Mn(n2, (function(t7, n3) {
          var r3 = t7.getTicksCoords();
          return w3 = null == w3 ? r3.length - 1 : Math.min(r3.length - 1, w3), Mn(r3, (function(t8) {
            return i3.coordToPoint(t8.coord, n3);
          }));
        })), k2 = [];
        for (y2 = 0; y2 <= w3; y2++) {
          for (var M2 = [], z2 = 0; z2 < n2.length; z2++) M2.push(x2[z2][y2]);
          M2[0] && M2.push(M2[0].slice()), l2 && d2[A3(d2, h2, y2)].push(new Qc({ shape: { points: M2 } })), u2 && k2 && p2[A3(p2, v2, y2 - 1)].push(new Jc({ shape: { points: M2.concat(k2) } })), k2 = M2.slice().reverse();
        }
      }
      var S3 = a2.getLineStyle(), C3 = s2.getAreaStyle();
      kn(p2, (function(t7, i4) {
        this.group.add(Rh(t7, { style: gn({ stroke: "none", fill: v2[i4 % v2.length] }, C3), silent: true }));
      }), this), kn(d2, (function(t7, i4) {
        this.group.add(Rh(t7, { style: gn({ fill: "none", stroke: h2[i4 % h2.length] }, S3), silent: true }));
      }), this);
    }
    function A3(t7, i4, n3) {
      var r3 = n3 % i4.length;
      return t7[r3] = t7[r3] || [], r3;
    }
  }, i2.type = "radar", i2;
})(xb), vA = (function(t5) {
  function i2(i3, n2, r2) {
    var e2 = t5.call(this, i3, n2, r2) || this;
    return e2.type = "value", e2.angle = 0, e2.name = "", e2;
  }
  return Yi(i2, t5), i2;
})(Tk), dA = (function() {
  function t5(t6, i2, n2) {
    this.dimensions = [], this._model = t6, this._indicatorAxes = Mn(t6.getIndicatorModels(), (function(t7, i3) {
      var n3 = "indicator_" + i3, r2 = new vA(n3, new px());
      return r2.name = t7.get("name"), r2.model = t7, t7.axis = r2, this.dimensions.push(n3), r2;
    }), this), this.resize(t6, n2);
  }
  return t5.prototype.getIndicatorAxes = function() {
    return this._indicatorAxes;
  }, t5.prototype.dataToPoint = function(t6, i2) {
    return this.coordToPoint(this._indicatorAxes[i2].dataToCoord(t6), i2);
  }, t5.prototype.coordToPoint = function(t6, i2) {
    var n2 = this._indicatorAxes[i2].angle;
    return [this.cx + t6 * Math.cos(n2), this.cy - t6 * Math.sin(n2)];
  }, t5.prototype.pointToData = function(t6) {
    var i2 = t6[0] - this.cx, n2 = t6[1] - this.cy, r2 = Math.sqrt(i2 * i2 + n2 * n2);
    i2 /= r2, n2 /= r2;
    for (var e2, o2 = Math.atan2(-n2, i2), a2 = 1 / 0, s2 = -1, l2 = 0; l2 < this._indicatorAxes.length; l2++) {
      var u2 = this._indicatorAxes[l2], f2 = Math.abs(o2 - u2.angle);
      f2 < a2 && (e2 = u2, s2 = l2, a2 = f2);
    }
    return [s2, +(e2 && e2.coordToData(r2))];
  }, t5.prototype.resize = function(t6, i2) {
    var n2 = t6.get("center"), r2 = i2.getWidth(), e2 = i2.getHeight(), o2 = Math.min(r2, e2) / 2;
    this.cx = us(n2[0], r2), this.cy = us(n2[1], e2), this.startAngle = t6.get("startAngle") * Math.PI / 180;
    var a2 = t6.get("radius");
    (In(a2) || Dn(a2)) && (a2 = [0, a2]), this.r0 = us(a2[0], o2), this.r = us(a2[1], o2), kn(this._indicatorAxes, (function(t7, i3) {
      t7.setExtent(this.r0, this.r);
      var n3 = this.startAngle + i3 * Math.PI * 2 / this._indicatorAxes.length;
      n3 = Math.atan2(Math.sin(n3), Math.cos(n3)), t7.angle = n3;
    }), this);
  }, t5.prototype.update = function(t6) {
    var i2 = this._indicatorAxes, n2 = this._model;
    kn(i2, (function(t7) {
      t7.scale.setExtent(1 / 0, -1 / 0);
    })), t6.eachSeriesByType("radar", (function(r3) {
      if ("radar" === r3.get("coordinateSystem") && t6.getComponent("radar", r3.get("radarIndex")) === n2) {
        var e3 = r3.getData();
        kn(i2, (function(t7) {
          t7.scale.unionExtentFromData(e3, e3.mapDimension(t7.dim));
        }));
      }
    }), this);
    var r2 = n2.get("splitNumber"), e2 = new px();
    e2.setExtent(0, r2), e2.setInterval(1), kn(i2, (function(t7) {
      CC(t7.scale, t7.model, e2);
    }));
  }, t5.prototype.convertToPixel = function() {
    return console.warn("Not implemented."), null;
  }, t5.prototype.convertFromPixel = function() {
    return console.warn("Not implemented."), null;
  }, t5.prototype.containPoint = function() {
    return console.warn("Not implemented."), false;
  }, t5.create = function(i2, n2) {
    var r2 = [];
    return i2.eachComponent("radar", (function(e2) {
      var o2 = new t5(e2, i2, n2);
      r2.push(o2), e2.coordinateSystem = o2;
    })), i2.eachSeriesByType("radar", (function(t6) {
      "radar" === t6.get("coordinateSystem") && (t6.coordinateSystem = r2[t6.get("radarIndex") || 0]);
    })), r2;
  }, t5.dimensions = [], t5;
})();
function pA(t5) {
  t5.registerCoordinateSystem("radar", dA), t5.registerComponentModel(fA), t5.registerComponentView(hA), t5.registerVisual({ seriesType: "radar", reset: function(t6) {
    var i2 = t6.getData();
    i2.each((function(t7) {
      i2.setItemVisual(t7, "legendIcon", "roundRect");
    })), i2.setVisual("legendIcon", "roundRect");
  } });
}
var mA = "\0_ec_interaction_mutex";
function bA(t5, i2) {
  return !!gA(t5)[i2];
}
function gA(t5) {
  return t5[mA] || (t5[mA] = {});
}
vw({ type: "takeGlobalCursor", event: "globalCursorTaken", update: "update" }, er);
var yA = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this) || this;
    n2._zr = i3;
    var r2 = An(n2._mousedownHandler, n2), e2 = An(n2._mousemoveHandler, n2), o2 = An(n2._mouseupHandler, n2), a2 = An(n2._mousewheelHandler, n2), s2 = An(n2._pinchHandler, n2);
    return n2.enable = function(t6, n3) {
      this.disable(), this._opt = gn(dn(n3) || {}, { zoomOnMouseWheel: true, moveOnMouseMove: true, moveOnMouseWheel: false, preventDefaultMouseMove: true }), null == t6 && (t6 = true), true !== t6 && "move" !== t6 && "pan" !== t6 || (i3.on("mousedown", r2), i3.on("mousemove", e2), i3.on("mouseup", o2)), true !== t6 && "scale" !== t6 && "zoom" !== t6 || (i3.on("mousewheel", a2), i3.on("pinch", s2));
    }, n2.disable = function() {
      i3.off("mousedown", r2), i3.off("mousemove", e2), i3.off("mouseup", o2), i3.off("mousewheel", a2), i3.off("pinch", s2);
    }, n2;
  }
  return Yi(i2, t5), i2.prototype.isDragging = function() {
    return this._dragging;
  }, i2.prototype.isPinching = function() {
    return this._pinching;
  }, i2.prototype.setPointerChecker = function(t6) {
    this.pointerChecker = t6;
  }, i2.prototype.dispose = function() {
    this.disable();
  }, i2.prototype._mousedownHandler = function(t6) {
    if (!Xr(t6)) {
      for (var i3 = t6.target; i3; ) {
        if (i3.draggable) return;
        i3 = i3.__hostTarget || i3.parent;
      }
      var n2 = t6.offsetX, r2 = t6.offsetY;
      this.pointerChecker && this.pointerChecker(t6, n2, r2) && (this._x = n2, this._y = r2, this._dragging = true);
    }
  }, i2.prototype._mousemoveHandler = function(t6) {
    if (this._dragging && kA("moveOnMouseMove", t6, this._opt) && "pinch" !== t6.gestureEvent && !bA(this._zr, "globalPan")) {
      var i3 = t6.offsetX, n2 = t6.offsetY, r2 = this._x, e2 = this._y, o2 = i3 - r2, a2 = n2 - e2;
      this._x = i3, this._y = n2, this._opt.preventDefaultMouseMove && Yr(t6.event), xA(this, "pan", "moveOnMouseMove", t6, { dx: o2, dy: a2, oldX: r2, oldY: e2, newX: i3, newY: n2, isAvailableBehavior: null });
    }
  }, i2.prototype._mouseupHandler = function(t6) {
    Xr(t6) || (this._dragging = false);
  }, i2.prototype._mousewheelHandler = function(t6) {
    var i3 = kA("zoomOnMouseWheel", t6, this._opt), n2 = kA("moveOnMouseWheel", t6, this._opt), r2 = t6.wheelDelta, e2 = Math.abs(r2), o2 = t6.offsetX, a2 = t6.offsetY;
    if (0 !== r2 && (i3 || n2)) {
      if (i3) {
        var s2 = e2 > 3 ? 1.4 : e2 > 1 ? 1.2 : 1.1;
        wA(this, "zoom", "zoomOnMouseWheel", t6, { scale: r2 > 0 ? s2 : 1 / s2, originX: o2, originY: a2, isAvailableBehavior: null });
      }
      if (n2) {
        var l2 = Math.abs(r2);
        wA(this, "scrollMove", "moveOnMouseWheel", t6, { scrollDelta: (r2 > 0 ? 1 : -1) * (l2 > 3 ? 0.4 : l2 > 1 ? 0.15 : 0.05), originX: o2, originY: a2, isAvailableBehavior: null });
      }
    }
  }, i2.prototype._pinchHandler = function(t6) {
    bA(this._zr, "globalPan") || wA(this, "zoom", null, t6, { scale: t6.pinchScale > 1 ? 1.1 : 1 / 1.1, originX: t6.pinchX, originY: t6.pinchY, isAvailableBehavior: null });
  }, i2;
})(Sr);
function wA(t5, i2, n2, r2, e2) {
  t5.pointerChecker && t5.pointerChecker(r2, e2.originX, e2.originY) && (Yr(r2.event), xA(t5, i2, n2, r2, e2));
}
function xA(t5, i2, n2, r2, e2) {
  e2.isAvailableBehavior = An(kA, null, n2, r2), t5.trigger(i2, e2);
}
function kA(t5, i2, n2) {
  var r2 = n2[t5];
  return !t5 || r2 && (!In(r2) || i2.event[r2 + "Key"]);
}
function MA(t5, i2, n2) {
  var r2 = t5.target;
  r2.x += i2, r2.y += n2, r2.dirty();
}
function zA(t5, i2, n2, r2) {
  var e2 = t5.target, o2 = t5.zoomLimit, a2 = t5.zoom = t5.zoom || 1;
  if (a2 *= i2, o2) {
    var s2 = o2.min || 0;
    a2 = Math.max(Math.min(o2.max || 1 / 0, a2), s2);
  }
  var l2 = a2 / t5.zoom;
  t5.zoom = a2, e2.x -= (n2 - e2.x) * (l2 - 1), e2.y -= (r2 - e2.y) * (l2 - 1), e2.scaleX *= l2, e2.scaleY *= l2, e2.dirty();
}
var SA, CA = { axisPointer: 1, tooltip: 1, brush: 1 };
function AA(t5, i2, n2) {
  var r2 = i2.getComponentByElement(t5.topTarget), e2 = r2 && r2.coordinateSystem;
  return r2 && r2 !== n2 && !CA.hasOwnProperty(r2.mainType) && e2 && e2.model !== n2;
}
function NA(t5) {
  In(t5) && (t5 = new DOMParser().parseFromString(t5, "text/xml"));
  var i2 = t5;
  for (9 === i2.nodeType && (i2 = i2.firstChild); "svg" !== i2.nodeName.toLowerCase() || 1 !== i2.nodeType; ) i2 = i2.nextSibling;
  return i2;
}
var _A = { fill: "fill", stroke: "stroke", "stroke-width": "lineWidth", opacity: "opacity", "fill-opacity": "fillOpacity", "stroke-opacity": "strokeOpacity", "stroke-dasharray": "lineDash", "stroke-dashoffset": "lineDashOffset", "stroke-linecap": "lineCap", "stroke-linejoin": "lineJoin", "stroke-miterlimit": "miterLimit", "font-family": "fontFamily", "font-size": "fontSize", "font-style": "fontStyle", "font-weight": "fontWeight", "text-anchor": "textAlign", visibility: "visibility", display: "display" }, TA = Cn(_A), IA = { "alignment-baseline": "textBaseline", "stop-color": "stopColor" }, LA = Cn(IA), DA = (function() {
  function t5() {
    this._defs = {}, this._root = null;
  }
  return t5.prototype.parse = function(t6, i2) {
    i2 = i2 || {};
    var n2 = NA(t6);
    this._defsUsePending = [];
    var r2 = new rs();
    this._root = r2;
    var e2 = [], o2 = n2.getAttribute("viewBox") || "", a2 = parseFloat(n2.getAttribute("width") || i2.width), s2 = parseFloat(n2.getAttribute("height") || i2.height);
    isNaN(a2) && (a2 = null), isNaN(s2) && (s2 = null), PA(n2, r2, null, true, false);
    for (var l2, u2, f2 = n2.firstChild; f2; ) this._parseNode(f2, r2, e2, null, false, false), f2 = f2.nextSibling;
    if ((function(t7, i3) {
      for (var n3 = 0; n3 < i3.length; n3++) {
        var r3 = i3[n3];
        r3[0].style[r3[1]] = t7[r3[2]];
      }
    })(this._defs, this._defsUsePending), this._defsUsePending = [], o2) {
      var c2 = HA(o2);
      c2.length >= 4 && (l2 = { x: parseFloat(c2[0] || 0), y: parseFloat(c2[1] || 0), width: parseFloat(c2[2]), height: parseFloat(c2[3]) });
    }
    if (l2 && null != a2 && null != s2 && (u2 = GA(l2, { x: 0, y: 0, width: a2, height: s2 }), !i2.ignoreViewBox)) {
      var h2 = r2;
      (r2 = new rs()).add(h2), h2.scaleX = h2.scaleY = u2.scale, h2.x = u2.x, h2.y = u2.y;
    }
    return i2.ignoreRootClip || null == a2 || null == s2 || r2.setClipPath(new Zu({ shape: { x: 0, y: 0, width: a2, height: s2 } })), { root: r2, width: a2, height: s2, viewBoxRect: l2, viewBoxTransform: u2, named: e2 };
  }, t5.prototype._parseNode = function(t6, i2, n2, r2, e2, o2) {
    var a2, s2 = t6.nodeName.toLowerCase(), l2 = r2;
    if ("defs" === s2 && (e2 = true), "text" === s2 && (o2 = true), "defs" === s2 || "switch" === s2) a2 = i2;
    else {
      if (!e2) {
        var u2 = SA[s2];
        if (u2 && rr(SA, s2)) {
          a2 = u2.call(this, t6, i2);
          var f2 = t6.getAttribute("name");
          if (f2) {
            var c2 = { name: f2, namedFrom: null, svgNodeTagLower: s2, el: a2 };
            n2.push(c2), "g" === s2 && (l2 = c2);
          } else r2 && n2.push({ name: r2.name, namedFrom: r2, svgNodeTagLower: s2, el: a2 });
          i2.add(a2);
        }
      }
      var h2 = WA[s2];
      if (h2 && rr(WA, s2)) {
        var v2 = h2.call(this, t6), d2 = t6.getAttribute("id");
        d2 && (this._defs[d2] = v2);
      }
    }
    if (a2 && a2.isGroup) for (var p2 = t6.firstChild; p2; ) 1 === p2.nodeType ? this._parseNode(p2, a2, n2, l2, e2, o2) : 3 === p2.nodeType && o2 && this._parseText(p2, a2), p2 = p2.nextSibling;
  }, t5.prototype._parseText = function(t6, i2) {
    var n2 = new Pu({ style: { text: t6.textContent }, silent: true, x: this._textX || 0, y: this._textY || 0 });
    FA(i2, n2), PA(t6, n2, this._defsUsePending, false, false), (function(t7, i3) {
      var n3 = i3.__selfStyle;
      if (n3) {
        var r3 = n3.textBaseline, e3 = r3;
        r3 && "auto" !== r3 ? "baseline" === r3 ? e3 = "alphabetic" : "before-edge" === r3 || "text-before-edge" === r3 ? e3 = "top" : "after-edge" === r3 || "text-after-edge" === r3 ? e3 = "bottom" : "central" !== r3 && "mathematical" !== r3 || (e3 = "middle") : e3 = "alphabetic", t7.style.textBaseline = e3;
      }
      var o3 = i3.__inheritedStyle;
      if (o3) {
        var a3 = o3.textAlign, s2 = a3;
        a3 && ("middle" === a3 && (s2 = "center"), t7.style.textAlign = s2);
      }
    })(n2, i2);
    var r2 = n2.style, e2 = r2.fontSize;
    e2 && e2 < 9 && (r2.fontSize = 9, n2.scaleX *= e2 / 9, n2.scaleY *= e2 / 9);
    var o2 = (r2.fontSize || r2.fontFamily) && [r2.fontStyle, r2.fontWeight, (r2.fontSize || 12) + "px", r2.fontFamily || "sans-serif"].join(" ");
    r2.font = o2;
    var a2 = n2.getBoundingRect();
    return this._textX += a2.width, i2.add(n2), n2;
  }, t5.internalField = void (SA = { g: function(t6, i2) {
    var n2 = new rs();
    return FA(i2, n2), PA(t6, n2, this._defsUsePending, false, false), n2;
  }, rect: function(t6, i2) {
    var n2 = new Zu();
    return FA(i2, n2), PA(t6, n2, this._defsUsePending, false, false), n2.setShape({ x: parseFloat(t6.getAttribute("x") || "0"), y: parseFloat(t6.getAttribute("y") || "0"), width: parseFloat(t6.getAttribute("width") || "0"), height: parseFloat(t6.getAttribute("height") || "0") }), n2.silent = true, n2;
  }, circle: function(t6, i2) {
    var n2 = new Tc();
    return FA(i2, n2), PA(t6, n2, this._defsUsePending, false, false), n2.setShape({ cx: parseFloat(t6.getAttribute("cx") || "0"), cy: parseFloat(t6.getAttribute("cy") || "0"), r: parseFloat(t6.getAttribute("r") || "0") }), n2.silent = true, n2;
  }, line: function(t6, i2) {
    var n2 = new nh();
    return FA(i2, n2), PA(t6, n2, this._defsUsePending, false, false), n2.setShape({ x1: parseFloat(t6.getAttribute("x1") || "0"), y1: parseFloat(t6.getAttribute("y1") || "0"), x2: parseFloat(t6.getAttribute("x2") || "0"), y2: parseFloat(t6.getAttribute("y2") || "0") }), n2.silent = true, n2;
  }, ellipse: function(t6, i2) {
    var n2 = new Lc();
    return FA(i2, n2), PA(t6, n2, this._defsUsePending, false, false), n2.setShape({ cx: parseFloat(t6.getAttribute("cx") || "0"), cy: parseFloat(t6.getAttribute("cy") || "0"), rx: parseFloat(t6.getAttribute("rx") || "0"), ry: parseFloat(t6.getAttribute("ry") || "0") }), n2.silent = true, n2;
  }, polygon: function(t6, i2) {
    var n2, r2 = t6.getAttribute("points");
    r2 && (n2 = RA(r2));
    var e2 = new Jc({ shape: { points: n2 || [] }, silent: true });
    return FA(i2, e2), PA(t6, e2, this._defsUsePending, false, false), e2;
  }, polyline: function(t6, i2) {
    var n2, r2 = t6.getAttribute("points");
    r2 && (n2 = RA(r2));
    var e2 = new Qc({ shape: { points: n2 || [] }, silent: true });
    return FA(i2, e2), PA(t6, e2, this._defsUsePending, false, false), e2;
  }, image: function(t6, i2) {
    var n2 = new ju();
    return FA(i2, n2), PA(t6, n2, this._defsUsePending, false, false), n2.setStyle({ image: t6.getAttribute("xlink:href") || t6.getAttribute("href"), x: +t6.getAttribute("x"), y: +t6.getAttribute("y"), width: +t6.getAttribute("width"), height: +t6.getAttribute("height") }), n2.silent = true, n2;
  }, text: function(t6, i2) {
    var n2 = t6.getAttribute("x") || "0", r2 = t6.getAttribute("y") || "0", e2 = t6.getAttribute("dx") || "0", o2 = t6.getAttribute("dy") || "0";
    this._textX = parseFloat(n2) + parseFloat(e2), this._textY = parseFloat(r2) + parseFloat(o2);
    var a2 = new rs();
    return FA(i2, a2), PA(t6, a2, this._defsUsePending, false, true), a2;
  }, tspan: function(t6, i2) {
    var n2 = t6.getAttribute("x"), r2 = t6.getAttribute("y");
    null != n2 && (this._textX = parseFloat(n2)), null != r2 && (this._textY = parseFloat(r2));
    var e2 = t6.getAttribute("dx") || "0", o2 = t6.getAttribute("dy") || "0", a2 = new rs();
    return FA(i2, a2), PA(t6, a2, this._defsUsePending, false, true), this._textX += parseFloat(e2), this._textY += parseFloat(o2), a2;
  }, path: function(t6, i2) {
    var n2 = Ac(t6.getAttribute("d") || "");
    return FA(i2, n2), PA(t6, n2, this._defsUsePending, false, false), n2.silent = true, n2;
  } }), t5;
})(), WA = { lineargradient: function(t5) {
  var i2 = parseInt(t5.getAttribute("x1") || "0", 10), n2 = parseInt(t5.getAttribute("y1") || "0", 10), r2 = parseInt(t5.getAttribute("x2") || "10", 10), e2 = parseInt(t5.getAttribute("y2") || "0", 10), o2 = new ch(i2, n2, r2, e2);
  return EA(t5, o2), OA(t5, o2), o2;
}, radialgradient: function(t5) {
  var i2 = parseInt(t5.getAttribute("cx") || "0", 10), n2 = parseInt(t5.getAttribute("cy") || "0", 10), r2 = parseInt(t5.getAttribute("r") || "0", 10), e2 = new hh(i2, n2, r2);
  return EA(t5, e2), OA(t5, e2), e2;
} };
function EA(t5, i2) {
  "userSpaceOnUse" === t5.getAttribute("gradientUnits") && (i2.global = true);
}
function OA(t5, i2) {
  for (var n2 = t5.firstChild; n2; ) {
    if (1 === n2.nodeType && "stop" === n2.nodeName.toLocaleLowerCase()) {
      var r2, e2 = n2.getAttribute("offset");
      r2 = e2 && e2.indexOf("%") > 0 ? parseInt(e2, 10) / 100 : e2 ? parseFloat(e2) : 0;
      var o2 = {};
      $A(n2, o2, o2);
      var a2 = o2.stopColor || n2.getAttribute("stop-color") || "#000000";
      i2.colorStops.push({ offset: r2, color: a2 });
    }
    n2 = n2.nextSibling;
  }
}
function FA(t5, i2) {
  t5 && t5.__inheritedStyle && (i2.__inheritedStyle || (i2.__inheritedStyle = {}), gn(i2.__inheritedStyle, t5.__inheritedStyle));
}
function RA(t5) {
  for (var i2 = HA(t5), n2 = [], r2 = 0; r2 < i2.length; r2 += 2) {
    var e2 = parseFloat(i2[r2]), o2 = parseFloat(i2[r2 + 1]);
    n2.push([e2, o2]);
  }
  return n2;
}
function PA(t5, i2, n2, r2, e2) {
  var o2 = i2, a2 = o2.__inheritedStyle = o2.__inheritedStyle || {}, s2 = {};
  1 === t5.nodeType && ((function(t6, i3) {
    var n3 = t6.getAttribute("transform");
    if (n3) {
      n3 = n3.replace(/,/g, " ");
      var r3 = [], e3 = null;
      n3.replace(YA, (function(t7, i4, n4) {
        return r3.push(i4, n4), "";
      }));
      for (var o3 = r3.length - 1; o3 > 0; o3 -= 2) {
        var a3 = r3[o3 - 1], s3 = HA(r3[o3]);
        switch (e3 = e3 || [1, 0, 0, 1, 0, 0], a3) {
          case "translate":
            Kr(e3, e3, [parseFloat(s3[0]), parseFloat(s3[1] || "0")]);
            break;
          case "scale":
            te(e3, e3, [parseFloat(s3[0]), parseFloat(s3[1] || s3[0])]);
            break;
          case "rotate":
            Qr(e3, e3, -parseFloat(s3[0]) * XA, [parseFloat(s3[1] || "0"), parseFloat(s3[2] || "0")]);
            break;
          case "skewX":
            Jr(e3, [1, 0, Math.tan(parseFloat(s3[0]) * XA), 1, 0, 0], e3);
            break;
          case "skewY":
            Jr(e3, [1, Math.tan(parseFloat(s3[0]) * XA), 0, 1, 0, 0], e3);
            break;
          case "matrix":
            e3[0] = parseFloat(s3[0]), e3[1] = parseFloat(s3[1]), e3[2] = parseFloat(s3[2]), e3[3] = parseFloat(s3[3]), e3[4] = parseFloat(s3[4]), e3[5] = parseFloat(s3[5]);
        }
      }
      i3.setLocalTransform(e3);
    }
  })(t5, i2), $A(t5, a2, s2), r2 || (function(t6, i3, n3) {
    for (var r3 = 0; r3 < TA.length; r3++) null != (o3 = t6.getAttribute(e3 = TA[r3])) && (i3[_A[e3]] = o3);
    for (r3 = 0; r3 < LA.length; r3++) {
      var e3, o3;
      null != (o3 = t6.getAttribute(e3 = LA[r3])) && (n3[IA[e3]] = o3);
    }
  })(t5, a2, s2)), o2.style = o2.style || {}, null != a2.fill && (o2.style.fill = VA(o2, "fill", a2.fill, n2)), null != a2.stroke && (o2.style.stroke = VA(o2, "stroke", a2.stroke, n2)), kn(["lineWidth", "opacity", "fillOpacity", "strokeOpacity", "miterLimit", "fontSize"], (function(t6) {
    null != a2[t6] && (o2.style[t6] = parseFloat(a2[t6]));
  })), kn(["lineDashOffset", "lineCap", "lineJoin", "fontWeight", "fontFamily", "fontStyle", "textAlign"], (function(t6) {
    null != a2[t6] && (o2.style[t6] = a2[t6]);
  })), e2 && (o2.__selfStyle = s2), a2.lineDash && (o2.style.lineDash = Mn(HA(a2.lineDash), (function(t6) {
    return parseFloat(t6);
  }))), "hidden" !== a2.visibility && "collapse" !== a2.visibility || (o2.invisible = true), "none" === a2.display && (o2.ignore = true);
}
var BA = /^url\(\s*#(.*?)\)/;
function VA(t5, i2, n2, r2) {
  var e2 = n2 && n2.match(BA);
  if (!e2) return "none" === n2 && (n2 = null), n2;
  var o2 = Un(e2[1]);
  r2.push([t5, i2, o2]);
}
var jA = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
function HA(t5) {
  return t5.match(jA) || [];
}
var YA = /(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g, XA = Math.PI / 180, UA = /([^\s:;]+)\s*:\s*([^:;]+)/g;
function $A(t5, i2, n2) {
  var r2, e2 = t5.getAttribute("style");
  if (e2) for (UA.lastIndex = 0; null != (r2 = UA.exec(e2)); ) {
    var o2 = r2[1], a2 = rr(_A, o2) ? _A[o2] : null;
    a2 && (i2[a2] = r2[2]);
    var s2 = rr(IA, o2) ? IA[o2] : null;
    s2 && (n2[s2] = r2[2]);
  }
}
function GA(t5, i2) {
  var n2 = Math.min(i2.width / t5.width, i2.height / t5.height);
  return { scale: n2, x: -(t5.x + t5.width / 2) * n2 + (i2.x + i2.width / 2), y: -(t5.y + t5.height / 2) * n2 + (i2.y + i2.height / 2) };
}
for (var ZA = Qn(["rect", "circle", "line", "ellipse", "polygon", "polyline", "path", "text", "tspan", "g"]), qA = (function() {
  function t5(t6, i2) {
    this.type = "geoSVG", this._usedGraphicMap = Qn(), this._freedGraphics = [], this._mapName = t6, this._parsedXML = NA(i2);
  }
  return t5.prototype.load = function() {
    var t6 = this._firstGraphic;
    if (!t6) {
      t6 = this._firstGraphic = this._buildGraphic(this._parsedXML), this._freedGraphics.push(t6), this._boundingRect = this._firstGraphic.boundingRect.clone();
      var i2 = (function(t7) {
        var i3 = [], n3 = Qn();
        return kn(t7, (function(t8) {
          if (null == t8.namedFrom) {
            var r2 = new gk(t8.name, t8.el);
            i3.push(r2), n3.set(t8.name, r2);
          }
        })), { regions: i3, regionsMap: n3 };
      })(t6.named), n2 = i2.regionsMap;
      this._regions = i2.regions, this._regionsMap = n2;
    }
    return { boundingRect: this._boundingRect, regions: this._regions, regionsMap: this._regionsMap };
  }, t5.prototype._buildGraphic = function(t6) {
    var i2, n2, r2, e2;
    try {
      Xn(null != (n2 = (i2 = t6 && (r2 = t6, e2 = { ignoreViewBox: true, ignoreRootClip: true }, new DA().parse(r2, e2)) || {}).root));
    } catch (t7) {
      throw new Error("Invalid svg format\n" + t7.message);
    }
    var o2 = new rs();
    o2.add(n2), o2.isGeoSVGGraphicRoot = true;
    var a2 = i2.width, s2 = i2.height, l2 = i2.viewBoxRect, u2 = this._boundingRect;
    if (!u2) {
      var f2 = void 0, c2 = void 0, h2 = void 0, v2 = void 0;
      if (null != a2 ? (f2 = 0, h2 = a2) : l2 && (f2 = l2.x, h2 = l2.width), null != s2 ? (c2 = 0, v2 = s2) : l2 && (c2 = l2.y, v2 = l2.height), null == f2 || null == c2) {
        var d2 = n2.getBoundingRect();
        null == f2 && (f2 = d2.x, h2 = d2.width), null == c2 && (c2 = d2.y, v2 = d2.height);
      }
      u2 = this._boundingRect = new ce(f2, c2, h2, v2);
    }
    if (l2) {
      var p2 = GA(l2, u2);
      n2.scaleX = n2.scaleY = p2.scale, n2.x = p2.x, n2.y = p2.y;
    }
    o2.setClipPath(new Zu({ shape: u2.plain() }));
    var m2 = [];
    return kn(i2.named, (function(t7) {
      var i3;
      null != ZA.get(t7.svgNodeTagLower) && (m2.push(t7), (i3 = t7.el).silent = false, i3.isGroup && i3.traverse((function(t8) {
        t8.silent = false;
      })));
    })), { root: o2, boundingRect: u2, named: m2 };
  }, t5.prototype.useGraphic = function(t6) {
    var i2 = this._usedGraphicMap, n2 = i2.get(t6);
    return n2 || (n2 = this._freedGraphics.pop() || this._buildGraphic(this._parsedXML), i2.set(t6, n2), n2);
  }, t5.prototype.freeGraphic = function(t6) {
    var i2 = this._usedGraphicMap, n2 = i2.get(t6);
    n2 && (i2.removeKey(t6), this._freedGraphics.push(n2));
  }, t5;
})(), JA = [126, 25], KA = "", QA = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]], tN = 0; tN < QA.length; tN++) for (var iN = 0; iN < QA[tN].length; iN++) QA[tN][iN][0] /= 10.5, QA[tN][iN][1] /= -14, QA[tN][iN][0] += JA[0], QA[tN][iN][1] += JA[1];
var nN = { : [32, 80], : [0, -10], : [10, 5], : [-10, 10], : [5, 5] }, rN = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]], eN = (function() {
  function t5(t6, i2, n2) {
    var r2;
    this.type = "geoJSON", this._parsedMap = Qn(), this._mapName = t6, this._specialAreas = n2, this._geoJSON = In(r2 = i2) ? "undefined" != typeof JSON && JSON.parse ? JSON.parse(r2) : new Function("return (" + r2 + ");")() : r2;
  }
  return t5.prototype.load = function(t6, i2) {
    var n2 = this._parsedMap.get(i2 = i2 || "name");
    if (!n2) {
      var r2 = this._parseToRegions(i2);
      n2 = this._parsedMap.set(i2, { regions: r2, boundingRect: oN(r2) });
    }
    var e2 = Qn(), o2 = [];
    return kn(n2.regions, (function(i3) {
      var n3 = i3.name;
      t6 && rr(t6, n3) && (i3 = i3.cloneShallow(n3 = t6[n3])), o2.push(i3), e2.set(n3, i3);
    })), { regions: o2, boundingRect: n2.boundingRect || new ce(0, 0, 0, 0), regionsMap: e2 };
  }, t5.prototype._parseToRegions = function(t6) {
    var i2, n2 = this._mapName, r2 = this._geoJSON;
    try {
      i2 = r2 ? (function(t7, i3) {
        return t7 = (function(t8) {
          if (!t8.UTF8Encoding) return t8;
          var i4 = t8, n3 = i4.UTF8Scale;
          return null == n3 && (n3 = 1024), kn(i4.features, (function(t9) {
            var i5 = t9.geometry, r3 = i5.encodeOffsets, e2 = i5.coordinates;
            if (r3) switch (i5.type) {
              case "LineString":
                i5.coordinates = wk(e2, r3, n3);
                break;
              case "Polygon":
              case "MultiLineString":
                yk(e2, r3, n3);
                break;
              case "MultiPolygon":
                kn(e2, (function(t10, i6) {
                  return yk(t10, r3[i6], n3);
                }));
            }
          })), i4.UTF8Encoding = false, i4;
        })(t7), Mn(Sn(t7.features, (function(t8) {
          return t8.geometry && t8.properties && t8.geometry.coordinates.length > 0;
        })), (function(t8) {
          var n3 = t8.properties, r3 = t8.geometry, e2 = [];
          switch (r3.type) {
            case "Polygon":
              var o2 = r3.coordinates;
              e2.push(new pk(o2[0], o2.slice(1)));
              break;
            case "MultiPolygon":
              kn(r3.coordinates, (function(t9) {
                t9[0] && e2.push(new pk(t9[0], t9.slice(1)));
              }));
              break;
            case "LineString":
              e2.push(new mk([r3.coordinates]));
              break;
            case "MultiLineString":
              e2.push(new mk(r3.coordinates));
          }
          var a2 = new bk(n3[i3 || "name"], e2, n3.cp);
          return a2.properties = n3, a2;
        }));
      })(r2, t6) : [];
    } catch (t7) {
      throw new Error("Invalid geoJson format\n" + t7.message);
    }
    return (function(t7, i3) {
      if ("china" === t7) {
        for (var n3 = 0; n3 < i3.length; n3++) if (i3[n3].name === KA) return;
        i3.push(new bk(KA, Mn(QA, (function(t8) {
          return { type: "polygon", exterior: t8 };
        })), JA));
      }
    })(n2, i2), kn(i2, (function(t7) {
      var i3 = t7.name;
      !(function(t8, i4) {
        if ("china" === t8) {
          var n3 = nN[i4.name];
          if (n3) {
            var r4 = i4.getCenter();
            r4[0] += n3[0] / 10.5, r4[1] += -n3[1] / 14, i4.setCenter(r4);
          }
        }
      })(n2, t7), (function(t8, i4) {
        "china" === t8 && "" === i4.name && i4.geometries.push({ type: "polygon", exterior: rN[0] });
      })(n2, t7);
      var r3 = this._specialAreas && this._specialAreas[i3];
      r3 && t7.transformTo(r3.left, r3.top, r3.width, r3.height);
    }), this), i2;
  }, t5.prototype.getMapForUser = function() {
    return { geoJson: this._geoJSON, geoJSON: this._geoJSON, specialAreas: this._specialAreas };
  }, t5;
})();
function oN(t5) {
  for (var i2, n2 = 0; n2 < t5.length; n2++) {
    var r2 = t5[n2].getBoundingRect();
    (i2 = i2 || r2.clone()).union(r2);
  }
  return i2;
}
var aN = Qn(), sN = function(t5) {
  return aN.get(t5);
}, lN = function(t5, i2, n2) {
  var r2 = aN.get(t5);
  if (r2) return r2.load(i2, n2);
}, uN = ["rect", "circle", "line", "ellipse", "polygon", "polyline", "path"], fN = Qn(uN), cN = Qn(uN.concat(["g"])), hN = Qn(uN.concat(["g"])), vN = Xs();
function dN(t5) {
  var i2 = t5.getItemStyle(), n2 = t5.get("areaColor");
  return null != n2 && (i2.fill = n2), i2;
}
function pN(t5) {
  var i2 = t5.style;
  i2 && (i2.stroke = i2.stroke || i2.fill, i2.fill = null);
}
var mN = (function() {
  function t5(t6) {
    var i2 = new rs();
    this.uid = Iv("ec_map_draw"), this._controller = new yA(t6.getZr()), this._controllerHost = { target: i2 }, this.group = i2, i2.add(this._regionsGroup = new rs()), i2.add(this._svgGroup = new rs());
  }
  return t5.prototype.draw = function(t6, i2, n2, r2, e2) {
    var o2 = "geo" === t6.mainType, a2 = t6.getData && t6.getData();
    o2 && i2.eachComponent({ mainType: "series", subType: "map" }, (function(i3) {
      a2 || i3.getHostGeoModel() !== t6 || (a2 = i3.getData());
    }));
    var s2 = t6.coordinateSystem, l2 = this._regionsGroup, u2 = this.group, f2 = s2.getTransformInfo(), c2 = f2.raw, h2 = f2.roam;
    !l2.childAt(0) || e2 ? (u2.x = h2.x, u2.y = h2.y, u2.scaleX = h2.scaleX, u2.scaleY = h2.scaleY, u2.dirty()) : Mh(u2, h2, t6);
    var v2 = a2 && a2.getVisual("visualMeta") && a2.getVisual("visualMeta").length > 0, d2 = { api: n2, geo: s2, mapOrGeoModel: t6, data: a2, isVisualEncodedByVisualMap: v2, isGeo: o2, transformInfoRaw: c2 };
    "geoJSON" === s2.resourceType ? this._buildGeoJSON(d2) : "geoSVG" === s2.resourceType && this._buildSVG(d2), this._updateController(t6, i2, n2), this._updateMapSelectHandler(t6, l2, n2, r2);
  }, t5.prototype._buildGeoJSON = function(t6) {
    var i2 = this._regionsGroupByName = Qn(), n2 = Qn(), r2 = this._regionsGroup, e2 = t6.transformInfoRaw, o2 = t6.mapOrGeoModel, a2 = t6.data, s2 = t6.geo.projection, l2 = s2 && s2.stream;
    function u2(t7, i3) {
      return i3 && (t7 = i3(t7)), t7 && [t7[0] * e2.scaleX + e2.x, t7[1] * e2.scaleY + e2.y];
    }
    function f2(t7) {
      for (var i3 = [], n3 = !l2 && s2 && s2.project, r3 = 0; r3 < t7.length; ++r3) {
        var e3 = u2(t7[r3], n3);
        e3 && i3.push(e3);
      }
      return i3;
    }
    function c2(t7) {
      return { shape: { points: f2(t7) } };
    }
    r2.removeAll(), kn(t6.geo.regions, (function(e3) {
      var f3 = e3.name, h2 = i2.get(f3), v2 = n2.get(f3) || {}, d2 = v2.dataIdx, p2 = v2.regionModel;
      if (!h2) {
        h2 = i2.set(f3, new rs()), r2.add(h2), d2 = a2 ? a2.indexOfName(f3) : null;
        var m2 = (p2 = t6.isGeo ? o2.getRegionModel(f3) : a2 ? a2.getItemModel(d2) : null).get("silent", true);
        null != m2 && (h2.silent = m2), n2.set(f3, { dataIdx: d2, regionModel: p2 });
      }
      var b2 = [], g3 = [];
      kn(e3.geometries, (function(t7) {
        if ("polygon" === t7.type) {
          var i3 = [t7.exterior].concat(t7.interiors || []);
          l2 && (i3 = kN(i3, l2)), kn(i3, (function(t8) {
            b2.push(new Jc(c2(t8)));
          }));
        } else {
          var n3 = t7.points;
          l2 && (n3 = kN(n3, l2, true)), kn(n3, (function(t8) {
            g3.push(new Qc(c2(t8)));
          }));
        }
      }));
      var y2 = u2(e3.getCenter(), s2 && s2.project);
      function w3(i3, n3) {
        if (i3.length) {
          var r3 = new uh({ culling: true, segmentIgnoreThreshold: 1, shape: { paths: i3 } });
          h2.add(r3), bN(t6, r3, d2, p2), gN(t6, r3, f3, p2, o2, d2, y2), n3 && (pN(r3), kn(r3.states, pN));
        }
      }
      w3(b2), w3(g3, true);
    })), i2.each((function(i3, r3) {
      var e3 = n2.get(r3), a3 = e3.regionModel;
      yN(t6, i3, r3, a3, o2, e3.dataIdx), wN(t6, i3, r3, a3, o2), xN(t6, i3, r3, a3, o2);
    }), this);
  }, t5.prototype._buildSVG = function(t6) {
    var i2 = t6.geo.map, n2 = t6.transformInfoRaw;
    this._svgGroup.x = n2.x, this._svgGroup.y = n2.y, this._svgGroup.scaleX = n2.scaleX, this._svgGroup.scaleY = n2.scaleY, this._svgResourceChanged(i2) && (this._freeSVG(), this._useSVG(i2));
    var r2 = this._svgDispatcherMap = Qn(), e2 = false;
    kn(this._svgGraphicRecord.named, (function(i3) {
      var n3 = i3.name, o2 = t6.mapOrGeoModel, a2 = t6.data, s2 = i3.svgNodeTagLower, l2 = i3.el, u2 = a2 ? a2.indexOfName(n3) : null, f2 = o2.getRegionModel(n3);
      null != fN.get(s2) && l2 instanceof El && bN(t6, l2, u2, f2), l2 instanceof El && (l2.culling = true);
      var c2 = f2.get("silent", true);
      null != c2 && (l2.silent = c2), l2.z2EmphasisLift = 0, i3.namedFrom || (null != hN.get(s2) && gN(t6, l2, n3, f2, o2, u2, null), yN(t6, l2, n3, f2, o2, u2), wN(t6, l2, n3, f2, o2), null != cN.get(s2) && ("self" === xN(t6, l2, n3, f2, o2) && (e2 = true), (r2.get(n3) || r2.set(n3, [])).push(l2)));
    }), this), this._enableBlurEntireSVG(e2, t6);
  }, t5.prototype._enableBlurEntireSVG = function(t6, i2) {
    if (t6 && i2.isGeo) {
      var n2 = i2.mapOrGeoModel.getModel(["blur", "itemStyle"]).getItemStyle().opacity;
      this._svgGraphicRecord.root.traverse((function(t7) {
        if (!t7.isGroup) {
          Ff(t7);
          var i3 = t7.ensureState("blur").style || {};
          null == i3.opacity && null != n2 && (i3.opacity = n2), t7.ensureState("emphasis");
        }
      }));
    }
  }, t5.prototype.remove = function() {
    this._regionsGroup.removeAll(), this._regionsGroupByName = null, this._svgGroup.removeAll(), this._freeSVG(), this._controller.dispose(), this._controllerHost = null;
  }, t5.prototype.findHighDownDispatchers = function(t6, i2) {
    if (null == t6) return [];
    var n2 = i2.coordinateSystem;
    if ("geoJSON" === n2.resourceType) {
      var r2 = this._regionsGroupByName;
      if (r2) {
        var e2 = r2.get(t6);
        return e2 ? [e2] : [];
      }
    } else if ("geoSVG" === n2.resourceType) return this._svgDispatcherMap && this._svgDispatcherMap.get(t6) || [];
  }, t5.prototype._svgResourceChanged = function(t6) {
    return this._svgMapName !== t6;
  }, t5.prototype._useSVG = function(t6) {
    var i2 = sN(t6);
    if (i2 && "geoSVG" === i2.type) {
      var n2 = i2.useGraphic(this.uid);
      this._svgGroup.add(n2.root), this._svgGraphicRecord = n2, this._svgMapName = t6;
    }
  }, t5.prototype._freeSVG = function() {
    var t6 = this._svgMapName;
    if (null != t6) {
      var i2 = sN(t6);
      i2 && "geoSVG" === i2.type && i2.freeGraphic(this.uid), this._svgGraphicRecord = null, this._svgDispatcherMap = null, this._svgGroup.removeAll(), this._svgMapName = null;
    }
  }, t5.prototype._updateController = function(t6, i2, n2) {
    var r2 = t6.coordinateSystem, e2 = this._controller, o2 = this._controllerHost;
    o2.zoomLimit = t6.get("scaleLimit"), o2.zoom = r2.getZoom(), e2.enable(t6.get("roam") || false);
    var a2 = t6.mainType;
    function s2() {
      var i3 = { type: "geoRoam", componentType: a2 };
      return i3[a2 + "Id"] = t6.id, i3;
    }
    e2.off("pan").on("pan", (function(t7) {
      this._mouseDownFlag = false, MA(o2, t7.dx, t7.dy), n2.dispatchAction(bn(s2(), { dx: t7.dx, dy: t7.dy, animation: { duration: 0 } }));
    }), this), e2.off("zoom").on("zoom", (function(t7) {
      this._mouseDownFlag = false, zA(o2, t7.scale, t7.originX, t7.originY), n2.dispatchAction(bn(s2(), { totalZoom: o2.zoom, zoom: t7.scale, originX: t7.originX, originY: t7.originY, animation: { duration: 0 } }));
    }), this), e2.setPointerChecker((function(i3, e3, o3) {
      return r2.containPoint([e3, o3]) && !AA(i3, n2, t6);
    }));
  }, t5.prototype.resetForLabelLayout = function() {
    this.group.traverse((function(t6) {
      var i2 = t6.getTextContent();
      i2 && (i2.ignore = vN(i2).ignore);
    }));
  }, t5.prototype._updateMapSelectHandler = function(t6, i2) {
    var n2 = this;
    i2.off("mousedown"), i2.off("click"), t6.get("selectedMode") && (i2.on("mousedown", (function() {
      n2._mouseDownFlag = true;
    })), i2.on("click", (function() {
      n2._mouseDownFlag && (n2._mouseDownFlag = false);
    })));
  }, t5;
})();
function bN(t5, i2, n2, r2) {
  var e2 = r2.getModel("itemStyle"), o2 = r2.getModel(["emphasis", "itemStyle"]), a2 = r2.getModel(["blur", "itemStyle"]), s2 = r2.getModel(["select", "itemStyle"]), l2 = dN(e2), u2 = dN(o2), f2 = dN(s2), c2 = dN(a2), h2 = t5.data;
  if (h2) {
    var v2 = h2.getItemVisual(n2, "style"), d2 = h2.getItemVisual(n2, "decal");
    t5.isVisualEncodedByVisualMap && v2.fill && (l2.fill = v2.fill), d2 && (l2.decal = fy(d2, t5.api));
  }
  i2.setStyle(l2), i2.style.strokeNoScale = true, i2.ensureState("emphasis").style = u2, i2.ensureState("select").style = f2, i2.ensureState("blur").style = c2, Ff(i2);
}
function gN(t5, i2, n2, r2, e2, o2, a2) {
  var s2 = t5.data, l2 = t5.isGeo, u2 = s2 && isNaN(s2.get(s2.mapDimension("value"), o2)), f2 = s2 && s2.getItemLayout(o2);
  if (l2 || u2 || f2 && f2.showLabel) {
    var c2 = l2 ? n2 : o2, h2 = void 0;
    (!s2 || o2 >= 0) && (h2 = e2);
    var v2 = a2 ? { normal: { align: "center", verticalAlign: "middle" } } : null;
    ov(i2, av(r2), { labelFetcher: h2, labelDataIndex: c2, defaultText: n2 }, v2);
    var d2 = i2.getTextContent();
    if (d2 && (vN(d2).ignore = d2.ignore, i2.textConfig && a2)) {
      var p2 = i2.getBoundingRect().clone();
      i2.textConfig.layoutRect = p2, i2.textConfig.position = [(a2[0] - p2.x) / p2.width * 100 + "%", (a2[1] - p2.y) / p2.height * 100 + "%"];
    }
    i2.disableLabelAnimation = true;
  } else i2.removeTextContent(), i2.removeTextConfig(), i2.disableLabelAnimation = null;
}
function yN(t5, i2, n2, r2, e2, o2) {
  t5.data ? t5.data.setItemGraphicEl(o2, i2) : hf(i2).eventData = { componentType: "geo", componentIndex: e2.componentIndex, geoIndex: e2.componentIndex, name: n2, region: r2 && r2.option || {} };
}
function wN(t5, i2, n2, r2, e2) {
  t5.data || Kh({ el: i2, componentModel: e2, itemName: n2, itemTooltipOption: r2.get("tooltip") });
}
function xN(t5, i2, n2, r2, e2) {
  i2.highDownSilentOnTouch = !!e2.get("selectedMode");
  var o2 = r2.getModel("emphasis"), a2 = o2.get("focus");
  return tc(i2, a2, o2.get("blurScope"), o2.get("disabled")), t5.isGeo && (function(t6, i3, n3) {
    var r3 = hf(t6);
    r3.componentMainType = i3.mainType, r3.componentIndex = i3.componentIndex, r3.componentHighDownName = n3;
  })(i2, e2, n2), a2;
}
function kN(t5, i2, n2) {
  var r2, e2 = [];
  function o2() {
    r2 = [];
  }
  function a2() {
    r2.length && (e2.push(r2), r2 = []);
  }
  var s2 = i2({ polygonStart: o2, polygonEnd: a2, lineStart: o2, lineEnd: a2, point: function(t6, i3) {
    isFinite(t6) && isFinite(i3) && r2.push([t6, i3]);
  }, sphere: function() {
  } });
  return !n2 && s2.polygonStart(), kn(t5, (function(t6) {
    s2.lineStart();
    for (var i3 = 0; i3 < t6.length; i3++) s2.point(t6[i3][0], t6[i3][1]);
    s2.lineEnd();
  })), !n2 && s2.polygonEnd(), e2;
}
var MN = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2, r2) {
    if (!r2 || "mapToggleSelect" !== r2.type || r2.from !== this.uid) {
      var e2 = this.group;
      if (e2.removeAll(), !t6.getHostGeoModel()) {
        if (this._mapDraw && r2 && "geoRoam" === r2.type && this._mapDraw.resetForLabelLayout(), r2 && "geoRoam" === r2.type && "series" === r2.componentType && r2.seriesId === t6.id) (o2 = this._mapDraw) && e2.add(o2.group);
        else if (t6.needsDrawMap) {
          var o2 = this._mapDraw || new mN(n2);
          e2.add(o2.group), o2.draw(t6, i3, n2, this, r2), this._mapDraw = o2;
        } else this._mapDraw && this._mapDraw.remove(), this._mapDraw = null;
        t6.get("showLegendSymbol") && i3.getComponent("legend") && this._renderSymbols(t6, i3, n2);
      }
    }
  }, i2.prototype.remove = function() {
    this._mapDraw && this._mapDraw.remove(), this._mapDraw = null, this.group.removeAll();
  }, i2.prototype.dispose = function() {
    this._mapDraw && this._mapDraw.remove(), this._mapDraw = null;
  }, i2.prototype._renderSymbols = function(t6) {
    var i3 = t6.originalData, n2 = this.group;
    i3.each(i3.mapDimension("value"), (function(r2, e2) {
      if (!isNaN(r2)) {
        var o2 = i3.getItemLayout(e2);
        if (o2 && o2.point) {
          var a2 = o2.point, s2 = o2.offset, l2 = new Tc({ style: { fill: t6.getData().getVisual("style").fill }, shape: { cx: a2[0] + 9 * s2, cy: a2[1], r: 3 }, silent: true, z2: 8 + (s2 ? 0 : 11) });
          if (!s2) {
            var u2 = t6.mainSeries.getData(), f2 = i3.getName(e2), c2 = u2.indexOfName(f2), h2 = i3.getItemModel(e2), v2 = h2.getModel("label"), d2 = u2.getItemGraphicEl(c2);
            ov(l2, av(h2), { labelFetcher: { getFormattedLabel: function(i4, n3) {
              return t6.getFormattedLabel(c2, n3);
            } }, defaultText: f2 }), l2.disableLabelAnimation = true, v2.get("position") || l2.setTextConfig({ position: "bottom" }), d2.onHoverStateChange = function(t7) {
              Ef(l2, t7);
            };
          }
          n2.add(l2);
        }
      }
    }));
  }, i2.type = "map", i2;
})(Sb), zN = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.needsDrawMap = false, n2.seriesGroup = [], n2.getTooltipPosition = function(t6) {
      if (null != t6) {
        var i3 = this.getData().getName(t6), n3 = this.coordinateSystem, r2 = n3.getRegion(i3);
        return r2 && n3.dataToPoint(r2.getCenter());
      }
    }, n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function() {
    for (var t6 = QS(this, { coordDimensions: ["value"], encodeDefaulter: Nn(qd, this) }), i3 = Qn(), n2 = [], r2 = 0, e2 = t6.count(); r2 < e2; r2++) {
      var o2 = t6.getName(r2);
      i3.set(o2, r2);
    }
    return kn(lN(this.getMapType(), this.option.nameMap, this.option.nameProperty).regions, (function(r3) {
      var e3, o3 = r3.name, a2 = i3.get(o3), s2 = r3.properties && r3.properties.echartsStyle;
      null == a2 ? n2.push(e3 = { name: o3 }) : e3 = t6.getRawDataItem(a2), s2 && pn(e3, s2);
    })), t6.appendData(n2), t6;
  }, i2.prototype.getHostGeoModel = function() {
    var t6 = this.option.geoIndex;
    return null != t6 ? this.ecModel.getComponent("geo", t6) : null;
  }, i2.prototype.getMapType = function() {
    return (this.getHostGeoModel() || this).option.map;
  }, i2.prototype.getRawValue = function(t6) {
    var i3 = this.getData();
    return i3.get(i3.mapDimension("value"), t6);
  }, i2.prototype.getRegionModel = function(t6) {
    var i3 = this.getData();
    return i3.getItemModel(i3.indexOfName(t6));
  }, i2.prototype.formatTooltip = function(t6) {
    for (var i3 = this.getData(), n2 = this.getRawValue(t6), r2 = i3.getName(t6), e2 = this.seriesGroup, o2 = [], a2 = 0; a2 < e2.length; a2++) {
      var s2 = e2[a2].originalData.indexOfName(r2), l2 = i3.mapDimension("value");
      isNaN(e2[a2].originalData.get(l2, s2)) || o2.push(e2[a2].name);
    }
    return Jm("section", { header: o2.join(", "), noHeader: !o2.length, blocks: [Jm("nameValue", { name: r2, value: n2 })] });
  }, i2.prototype.setZoom = function(t6) {
    this.option.zoom = t6;
  }, i2.prototype.setCenter = function(t6) {
    this.option.center = t6;
  }, i2.prototype.getLegendIcon = function(t6) {
    var i3 = t6.icon || "roundRect", n2 = Fg(i3, 0, 0, t6.itemWidth, t6.itemHeight, t6.itemStyle.fill);
    return n2.setStyle(t6.itemStyle), n2.style.stroke = "none", i3.indexOf("empty") > -1 && (n2.style.stroke = n2.style.fill, n2.style.fill = "#fff", n2.style.lineWidth = 2), n2;
  }, i2.type = "series.map", i2.dependencies = ["geo"], i2.layoutMode = "box", i2.defaultOption = { z: 2, coordinateSystem: "geo", map: "", left: "center", top: "center", aspectScale: null, showLegendSymbol: true, boundingCoords: null, center: null, zoom: 1, scaleLimit: null, selectedMode: true, label: { show: false, color: "#000" }, itemStyle: { borderWidth: 0.5, borderColor: "#444", areaColor: "#eee" }, emphasis: { label: { show: true, color: "rgb(100,0,0)" }, itemStyle: { areaColor: "rgba(255,215,0,0.8)" } }, select: { label: { show: true, color: "rgb(100,0,0)" }, itemStyle: { color: "rgba(255,215,0,0.8)" } }, nameProperty: "name" }, i2;
})(vb);
function SN(t5) {
  var i2 = {};
  t5.eachSeriesByType("map", (function(t6) {
    var n2 = t6.getHostGeoModel(), r2 = n2 ? "o" + n2.id : "i" + t6.getMapType();
    (i2[r2] = i2[r2] || []).push(t6);
  })), kn(i2, (function(t6) {
    for (var i3, n2, r2, e2 = (i3 = Mn(t6, (function(t7) {
      return t7.getData();
    })), n2 = t6[0].get("mapValueCalculation"), r2 = {}, kn(i3, (function(t7) {
      t7.each(t7.mapDimension("value"), (function(i4, n3) {
        var e3 = "ec-" + t7.getName(n3);
        r2[e3] = r2[e3] || [], isNaN(i4) || r2[e3].push(i4);
      }));
    })), i3[0].map(i3[0].mapDimension("value"), (function(t7, e3) {
      for (var o3 = "ec-" + i3[0].getName(e3), a2 = 0, s2 = 1 / 0, l2 = -1 / 0, u2 = r2[o3].length, f2 = 0; f2 < u2; f2++) s2 = Math.min(s2, r2[o3][f2]), l2 = Math.max(l2, r2[o3][f2]), a2 += r2[o3][f2];
      return 0 === u2 ? NaN : "min" === n2 ? s2 : "max" === n2 ? l2 : "average" === n2 ? a2 / u2 : a2;
    }))), o2 = 0; o2 < t6.length; o2++) t6[o2].originalData = t6[o2].getData();
    for (o2 = 0; o2 < t6.length; o2++) t6[o2].seriesGroup = t6, t6[o2].needsDrawMap = 0 === o2 && !t6[o2].getHostGeoModel(), t6[o2].setData(e2.cloneShallow()), t6[o2].mainSeries = t6[0];
  }));
}
function CN(t5) {
  var i2 = {};
  t5.eachSeriesByType("map", (function(n2) {
    var r2 = n2.getMapType();
    if (!n2.getHostGeoModel() && !i2[r2]) {
      var e2 = {};
      kn(n2.seriesGroup, (function(i3) {
        var n3 = i3.coordinateSystem, r3 = i3.originalData;
        i3.get("showLegendSymbol") && t5.getComponent("legend") && r3.each(r3.mapDimension("value"), (function(t6, i4) {
          var o3 = r3.getName(i4), a2 = n3.getRegion(o3);
          if (a2 && !isNaN(t6)) {
            var s2 = e2[o3] || 0, l2 = n3.dataToPoint(a2.getCenter());
            e2[o3] = s2 + 1, r3.setItemLayout(i4, { point: l2, offset: s2 });
          }
        }));
      }));
      var o2 = n2.getData();
      o2.each((function(t6) {
        var i3 = o2.getName(t6), n3 = o2.getItemLayout(t6) || {};
        n3.showLabel = !e2[i3], o2.setItemLayout(t6, n3);
      })), i2[r2] = true;
    }
  }));
}
var AN = wr, NN = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this) || this;
    return n2.type = "view", n2.dimensions = ["x", "y"], n2._roamTransformable = new Ea(), n2._rawTransformable = new Ea(), n2.name = i3, n2;
  }
  return Yi(i2, t5), i2.prototype.setBoundingRect = function(t6, i3, n2, r2) {
    return this._rect = new ce(t6, i3, n2, r2), this._rect;
  }, i2.prototype.getBoundingRect = function() {
    return this._rect;
  }, i2.prototype.setViewRect = function(t6, i3, n2, r2) {
    this._transformTo(t6, i3, n2, r2), this._viewRect = new ce(t6, i3, n2, r2);
  }, i2.prototype._transformTo = function(t6, i3, n2, r2) {
    var e2 = this.getBoundingRect(), o2 = this._rawTransformable;
    o2.transform = e2.calculateTransform(new ce(t6, i3, n2, r2));
    var a2 = o2.parent;
    o2.parent = null, o2.decomposeTransform(), o2.parent = a2, this._updateTransform();
  }, i2.prototype.setCenter = function(t6, i3) {
    t6 && (this._center = [us(t6[0], i3.getWidth()), us(t6[1], i3.getHeight())], this._updateCenterAndZoom());
  }, i2.prototype.setZoom = function(t6) {
    t6 = t6 || 1;
    var i3 = this.zoomLimit;
    i3 && (null != i3.max && (t6 = Math.min(i3.max, t6)), null != i3.min && (t6 = Math.max(i3.min, t6))), this._zoom = t6, this._updateCenterAndZoom();
  }, i2.prototype.getDefaultCenter = function() {
    var t6 = this.getBoundingRect();
    return [t6.x + t6.width / 2, t6.y + t6.height / 2];
  }, i2.prototype.getCenter = function() {
    return this._center || this.getDefaultCenter();
  }, i2.prototype.getZoom = function() {
    return this._zoom || 1;
  }, i2.prototype.getRoamTransform = function() {
    return this._roamTransformable.getLocalTransform();
  }, i2.prototype._updateCenterAndZoom = function() {
    var t6 = this._rawTransformable.getLocalTransform(), i3 = this._roamTransformable, n2 = this.getDefaultCenter(), r2 = this.getCenter(), e2 = this.getZoom();
    r2 = wr([], r2, t6), n2 = wr([], n2, t6), i3.originX = r2[0], i3.originY = r2[1], i3.x = n2[0] - r2[0], i3.y = n2[1] - r2[1], i3.scaleX = i3.scaleY = e2, this._updateTransform();
  }, i2.prototype._updateTransform = function() {
    var t6 = this._roamTransformable, i3 = this._rawTransformable;
    i3.parent = t6, t6.updateTransform(), i3.updateTransform(), qr(this.transform || (this.transform = []), i3.transform || [1, 0, 0, 1, 0, 0]), this._rawTransform = i3.getLocalTransform(), this.invTransform = this.invTransform || [], ie(this.invTransform, this.transform), this.decomposeTransform();
  }, i2.prototype.getTransformInfo = function() {
    var t6 = this._rawTransformable, i3 = this._roamTransformable, n2 = new Ea();
    return n2.transform = i3.transform, n2.decomposeTransform(), { roam: { x: n2.x, y: n2.y, scaleX: n2.scaleX, scaleY: n2.scaleY }, raw: { x: t6.x, y: t6.y, scaleX: t6.scaleX, scaleY: t6.scaleY } };
  }, i2.prototype.getViewRect = function() {
    return this._viewRect;
  }, i2.prototype.getViewRectAfterRoam = function() {
    var t6 = this.getBoundingRect().clone();
    return t6.applyTransform(this.transform), t6;
  }, i2.prototype.dataToPoint = function(t6, i3, n2) {
    var r2 = i3 ? this._rawTransform : this.transform;
    return n2 = n2 || [], r2 ? AN(n2, t6, r2) : sr(n2, t6);
  }, i2.prototype.pointToData = function(t6) {
    var i3 = this.invTransform;
    return i3 ? AN([], t6, i3) : [t6[0], t6[1]];
  }, i2.prototype.convertToPixel = function(t6, i3, n2) {
    var r2 = _N(i3);
    return r2 === this ? r2.dataToPoint(n2) : null;
  }, i2.prototype.convertFromPixel = function(t6, i3, n2) {
    var r2 = _N(i3);
    return r2 === this ? r2.pointToData(n2) : null;
  }, i2.prototype.containPoint = function(t6) {
    return this.getViewRectAfterRoam().contain(t6[0], t6[1]);
  }, i2.dimensions = ["x", "y"], i2;
})(Ea);
function _N(t5) {
  var i2 = t5.seriesModel;
  return i2 ? i2.coordinateSystem : null;
}
var TN = { geoJSON: { aspectScale: 0.75, invertLongitute: true }, geoSVG: { aspectScale: 1, invertLongitute: false } }, IN = ["lng", "lat"], LN = (function(t5) {
  function i2(i3, n2, r2) {
    var e2 = t5.call(this, i3) || this;
    e2.dimensions = IN, e2.type = "geo", e2._nameCoordMap = Qn(), e2.map = n2;
    var o2 = r2.projection, a2 = lN(n2, r2.nameMap, r2.nameProperty), s2 = sN(n2);
    e2.resourceType = s2 ? s2.type : null;
    var l2, u2 = e2.regions = a2.regions, f2 = TN[s2.type];
    if (e2._regionsMap = a2.regionsMap, e2.regions = a2.regions, e2.projection = o2, o2) for (var c2 = 0; c2 < u2.length; c2++) {
      var h2 = u2[c2].getBoundingRect(o2);
      (l2 = l2 || h2.clone()).union(h2);
    }
    else l2 = a2.boundingRect;
    return e2.setBoundingRect(l2.x, l2.y, l2.width, l2.height), e2.aspectScale = o2 ? 1 : Vn(r2.aspectScale, f2.aspectScale), e2._invertLongitute = !o2 && f2.invertLongitute, e2;
  }
  return Yi(i2, t5), i2.prototype._transformTo = function(t6, i3, n2, r2) {
    var e2 = this.getBoundingRect(), o2 = this._invertLongitute;
    e2 = e2.clone(), o2 && (e2.y = -e2.y - e2.height);
    var a2 = this._rawTransformable;
    a2.transform = e2.calculateTransform(new ce(t6, i3, n2, r2));
    var s2 = a2.parent;
    a2.parent = null, a2.decomposeTransform(), a2.parent = s2, o2 && (a2.scaleY = -a2.scaleY), this._updateTransform();
  }, i2.prototype.getRegion = function(t6) {
    return this._regionsMap.get(t6);
  }, i2.prototype.getRegionByCoord = function(t6) {
    for (var i3 = this.regions, n2 = 0; n2 < i3.length; n2++) {
      var r2 = i3[n2];
      if ("geoJSON" === r2.type && r2.contain(t6)) return i3[n2];
    }
  }, i2.prototype.addGeoCoord = function(t6, i3) {
    this._nameCoordMap.set(t6, i3);
  }, i2.prototype.getGeoCoord = function(t6) {
    var i3 = this._regionsMap.get(t6);
    return this._nameCoordMap.get(t6) || i3 && i3.getCenter();
  }, i2.prototype.dataToPoint = function(t6, i3, n2) {
    if (In(t6) && (t6 = this.getGeoCoord(t6)), t6) {
      var r2 = this.projection;
      return r2 && (t6 = r2.project(t6)), t6 && this.projectedToPoint(t6, i3, n2);
    }
  }, i2.prototype.pointToData = function(t6) {
    var i3 = this.projection;
    return i3 && (t6 = i3.unproject(t6)), t6 && this.pointToProjected(t6);
  }, i2.prototype.pointToProjected = function(i3) {
    return t5.prototype.pointToData.call(this, i3);
  }, i2.prototype.projectedToPoint = function(i3, n2, r2) {
    return t5.prototype.dataToPoint.call(this, i3, n2, r2);
  }, i2.prototype.convertToPixel = function(t6, i3, n2) {
    var r2 = DN(i3);
    return r2 === this ? r2.dataToPoint(n2) : null;
  }, i2.prototype.convertFromPixel = function(t6, i3, n2) {
    var r2 = DN(i3);
    return r2 === this ? r2.pointToData(n2) : null;
  }, i2;
})(NN);
function DN(t5) {
  var i2 = t5.geoModel, n2 = t5.seriesModel;
  return i2 ? i2.coordinateSystem : n2 ? n2.coordinateSystem || (n2.getReferringComponents("geo", Zs).models[0] || {}).coordinateSystem : null;
}
function WN(t5, i2) {
  var n2 = t5.get("boundingCoords");
  if (null != n2) {
    var r2 = n2[0], e2 = n2[1];
    if (isFinite(r2[0]) && isFinite(r2[1]) && isFinite(e2[0]) && isFinite(e2[1])) {
      var o2 = this.projection;
      if (o2) {
        var a2 = r2[0], s2 = r2[1], l2 = e2[0], u2 = e2[1];
        r2 = [1 / 0, 1 / 0], e2 = [-1 / 0, -1 / 0];
        var f2 = function(t6, i3, n3, a3) {
          for (var s3 = n3 - t6, l3 = a3 - i3, u3 = 0; u3 <= 100; u3++) {
            var f3 = u3 / 100, c3 = o2.project([t6 + s3 * f3, i3 + l3 * f3]);
            xr(r2, r2, c3), kr(e2, e2, c3);
          }
        };
        f2(a2, s2, l2, s2), f2(l2, s2, l2, u2), f2(l2, u2, a2, u2), f2(a2, u2, l2, s2);
      }
      this.setBoundingRect(r2[0], r2[1], e2[0] - r2[0], e2[1] - r2[1]);
    }
  }
  var c2, h2, v2, d2 = this.getBoundingRect(), p2 = t5.get("layoutCenter"), m2 = t5.get("layoutSize"), b2 = i2.getWidth(), g3 = i2.getHeight(), y2 = d2.width / d2.height * this.aspectScale, w3 = false;
  if (p2 && m2 && (c2 = [us(p2[0], b2), us(p2[1], g3)], h2 = us(m2, Math.min(b2, g3)), isNaN(c2[0]) || isNaN(c2[1]) || isNaN(h2) || (w3 = true)), w3) v2 = {}, y2 > 1 ? (v2.width = h2, v2.height = h2 / y2) : (v2.height = h2, v2.width = h2 * y2), v2.y = c2[1] - v2.height / 2, v2.x = c2[0] - v2.width / 2;
  else {
    var x2 = t5.getBoxLayoutParams();
    x2.aspect = y2, v2 = Nd(x2, { width: b2, height: g3 });
  }
  this.setViewRect(v2.x, v2.y, v2.width, v2.height), this.setCenter(t5.get("center"), i2), this.setZoom(t5.get("zoom"));
}
wn(LN, NN);
var EN = (function() {
  function t5() {
    this.dimensions = IN;
  }
  return t5.prototype.create = function(t6, i2) {
    var n2 = [];
    function r2(t7) {
      return { nameProperty: t7.get("nameProperty"), aspectScale: t7.get("aspectScale"), projection: t7.get("projection") };
    }
    t6.eachComponent("geo", (function(t7, e3) {
      var o2 = t7.get("map"), a2 = new LN(o2 + e3, o2, bn({ nameMap: t7.get("nameMap") }, r2(t7)));
      a2.zoomLimit = t7.get("scaleLimit"), n2.push(a2), t7.coordinateSystem = a2, a2.model = t7, a2.resize = WN, a2.resize(t7, i2);
    })), t6.eachSeries((function(t7) {
      if ("geo" === t7.get("coordinateSystem")) {
        var i3 = t7.get("geoIndex") || 0;
        t7.coordinateSystem = n2[i3];
      }
    }));
    var e2 = {};
    return t6.eachSeriesByType("map", (function(t7) {
      if (!t7.getHostGeoModel()) {
        var i3 = t7.getMapType();
        e2[i3] = e2[i3] || [], e2[i3].push(t7);
      }
    })), kn(e2, (function(t7, e3) {
      var o2 = Mn(t7, (function(t8) {
        return t8.get("nameMap");
      })), a2 = new LN(e3, e3, bn({ nameMap: mn(o2) }, r2(t7[0])));
      a2.zoomLimit = Bn.apply(null, Mn(t7, (function(t8) {
        return t8.get("scaleLimit");
      }))), n2.push(a2), a2.resize = WN, a2.resize(t7[0], i2), kn(t7, (function(t8) {
        t8.coordinateSystem = a2, (function(t9, i3) {
          kn(i3.get("geoCoord"), (function(i4, n3) {
            t9.addGeoCoord(n3, i4);
          }));
        })(a2, t8);
      }));
    })), n2;
  }, t5.prototype.getFilledRegions = function(t6, i2, n2, r2) {
    for (var e2 = (t6 || []).slice(), o2 = Qn(), a2 = 0; a2 < e2.length; a2++) o2.set(e2[a2].name, e2[a2]);
    return kn(lN(i2, n2, r2).regions, (function(t7) {
      var i3 = t7.name, n3 = o2.get(i3), r3 = t7.properties && t7.properties.echartsStyle;
      n3 || e2.push(n3 = { name: i3 }), r3 && pn(n3, r3);
    })), e2;
  }, t5;
})(), ON = new EN(), FN = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3, n2) {
    var r2 = sN(t6.map);
    if (r2 && "geoJSON" === r2.type) {
      var e2 = t6.itemStyle = t6.itemStyle || {};
      "color" in e2 || (e2.color = "#eee");
    }
    this.mergeDefaultAndTheme(t6, n2), Ws(t6, "label", ["show"]);
  }, i2.prototype.optionUpdated = function() {
    var t6 = this, i3 = this.option;
    i3.regions = ON.getFilledRegions(i3.regions, i3.map, i3.nameMap, i3.nameProperty);
    var n2 = {};
    this._optionModelMap = zn(i3.regions || [], (function(i4, r2) {
      var e2 = r2.name;
      return e2 && (i4.set(e2, new _v(r2, t6, t6.ecModel)), r2.selected && (n2[e2] = true)), i4;
    }), Qn()), i3.selectedMap || (i3.selectedMap = n2);
  }, i2.prototype.getRegionModel = function(t6) {
    return this._optionModelMap.get(t6) || new _v(null, this, this.ecModel);
  }, i2.prototype.getFormattedLabel = function(t6, i3) {
    var n2 = this.getRegionModel(t6).get("normal" === i3 ? ["label", "formatter"] : ["emphasis", "label", "formatter"]), r2 = { name: t6 };
    return Tn(n2) ? (r2.status = i3, n2(r2)) : In(n2) ? n2.replace("{a}", null != t6 ? t6 : "") : void 0;
  }, i2.prototype.setZoom = function(t6) {
    this.option.zoom = t6;
  }, i2.prototype.setCenter = function(t6) {
    this.option.center = t6;
  }, i2.prototype.select = function(t6) {
    var i3 = this.option, n2 = i3.selectedMode;
    n2 && ("multiple" !== n2 && (i3.selectedMap = null), (i3.selectedMap || (i3.selectedMap = {}))[t6] = true);
  }, i2.prototype.unSelect = function(t6) {
    var i3 = this.option.selectedMap;
    i3 && (i3[t6] = false);
  }, i2.prototype.toggleSelected = function(t6) {
    this[this.isSelected(t6) ? "unSelect" : "select"](t6);
  }, i2.prototype.isSelected = function(t6) {
    var i3 = this.option.selectedMap;
    return !(!i3 || !i3[t6]);
  }, i2.type = "geo", i2.layoutMode = "box", i2.defaultOption = { z: 0, show: true, left: "center", top: "center", aspectScale: null, silent: false, map: "", boundingCoords: null, center: null, zoom: 1, scaleLimit: null, label: { show: false, color: "#000" }, itemStyle: { borderWidth: 0.5, borderColor: "#444" }, emphasis: { label: { show: true, color: "rgb(100,0,0)" }, itemStyle: { color: "rgba(255,215,0,0.8)" } }, select: { label: { show: true, color: "rgb(100,0,0)" }, itemStyle: { color: "rgba(255,215,0,0.8)" } }, regions: [] }, i2;
})(Ed);
function RN(t5, i2) {
  return t5.pointToProjected ? t5.pointToProjected(i2) : t5.pointToData(i2);
}
function PN(t5, i2, n2, r2) {
  var e2 = t5.getZoom(), o2 = t5.getCenter(), a2 = i2.zoom, s2 = t5.projectedToPoint ? t5.projectedToPoint(o2) : t5.dataToPoint(o2);
  if (null != i2.dx && null != i2.dy && (s2[0] -= i2.dx, s2[1] -= i2.dy, t5.setCenter(RN(t5, s2), r2)), null != a2) {
    if (n2) {
      var l2 = n2.min || 0;
      a2 = Math.max(Math.min(e2 * a2, n2.max || 1 / 0), l2) / e2;
    }
    t5.scaleX *= a2, t5.scaleY *= a2;
    var u2 = (i2.originY - t5.y) * (a2 - 1);
    t5.x -= (i2.originX - t5.x) * (a2 - 1), t5.y -= u2, t5.updateTransform(), t5.setCenter(RN(t5, s2), r2), t5.setZoom(a2 * e2);
  }
  return { center: t5.getCenter(), zoom: t5.getZoom() };
}
var BN = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.focusBlurEnabled = true, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3) {
    this._api = i3;
  }, i2.prototype.render = function(t6, i3, n2, r2) {
    if (this._model = t6, !t6.get("show")) return this._mapDraw && this._mapDraw.remove(), void (this._mapDraw = null);
    this._mapDraw || (this._mapDraw = new mN(n2));
    var e2 = this._mapDraw;
    e2.draw(t6, i3, n2, this, r2), e2.group.on("click", this._handleRegionClick, this), e2.group.silent = t6.get("silent"), this.group.add(e2.group), this.updateSelectStatus(t6, i3, n2);
  }, i2.prototype._handleRegionClick = function(t6) {
    var i3;
    Sg(t6.target, (function(t7) {
      return null != (i3 = hf(t7).eventData);
    }), true), i3 && this._api.dispatchAction({ type: "geoToggleSelect", geoId: this._model.id, name: i3.name });
  }, i2.prototype.updateSelectStatus = function(t6, i3, n2) {
    var r2 = this;
    this._mapDraw.group.traverse((function(t7) {
      var i4 = hf(t7).eventData;
      if (i4) return r2._model.isSelected(i4.name) ? n2.enterSelect(t7) : n2.leaveSelect(t7), true;
    }));
  }, i2.prototype.findHighDownDispatchers = function(t6) {
    return this._mapDraw && this._mapDraw.findHighDownDispatchers(t6, this._model);
  }, i2.prototype.dispose = function() {
    this._mapDraw && this._mapDraw.remove();
  }, i2.type = "geo", i2;
})(xb);
function VN(t5, i2, n2) {
  !(function(t6, i3, n3) {
    if (i3.svg) {
      var r2 = new qA(t6, i3.svg);
      aN.set(t6, r2);
    } else {
      var e2 = i3.geoJson || i3.geoJSON;
      e2 && !i3.features ? n3 = i3.specialAreas : e2 = i3, r2 = new eN(t6, e2, n3), aN.set(t6, r2);
    }
  })(t5, i2, n2);
}
function jN(t5) {
  function i2(i3, n2) {
    n2.update = "geo:updateSelectStatus", t5.registerAction(n2, (function(t6, n3) {
      var r2 = {}, e2 = [];
      return n3.eachComponent({ mainType: "geo", query: t6 }, (function(n4) {
        n4[i3](t6.name), kn(n4.coordinateSystem.regions, (function(t7) {
          r2[t7.name] = n4.isSelected(t7.name) || false;
        }));
        var o2 = [];
        kn(r2, (function(t7, i4) {
          r2[i4] && o2.push(i4);
        })), e2.push({ geoIndex: n4.componentIndex, name: o2 });
      })), { selected: r2, allSelected: e2, name: t6.name };
    }));
  }
  t5.registerCoordinateSystem("geo", ON), t5.registerComponentModel(FN), t5.registerComponentView(BN), t5.registerImpl("registerMap", VN), t5.registerImpl("getMap", (function(t6) {
    return (function(t7) {
      var i3 = aN.get(t7);
      return i3 && "geoJSON" === i3.type && i3.getMapForUser();
    })(t6);
  })), i2("toggleSelected", { type: "geoToggleSelect", event: "geoselectchanged" }), i2("select", { type: "geoSelect", event: "geoselected" }), i2("unSelect", { type: "geoUnSelect", event: "geounselected" }), t5.registerAction({ type: "geoRoam", event: "geoRoam", update: "updateTransform" }, (function(t6, i3, n2) {
    var r2 = t6.componentType || "series";
    i3.eachComponent({ mainType: r2, query: t6 }, (function(i4) {
      var e2 = i4.coordinateSystem;
      if ("geo" === e2.type) {
        var o2 = PN(e2, t6, i4.get("scaleLimit"), n2);
        i4.setCenter && i4.setCenter(o2.center), i4.setZoom && i4.setZoom(o2.zoom), "series" === r2 && kn(i4.seriesGroup, (function(t7) {
          t7.setCenter(o2.center), t7.setZoom(o2.zoom);
        }));
      }
    }));
  }));
}
function HN(t5, i2) {
  var n2 = t5.isExpand ? t5.children : [], r2 = t5.parentNode.children, e2 = t5.hierNode.i ? r2[t5.hierNode.i - 1] : null;
  if (n2.length) {
    !(function(t6) {
      for (var i3 = t6.children, n3 = i3.length, r3 = 0, e3 = 0; --n3 >= 0; ) {
        var o3 = i3[n3];
        o3.hierNode.prelim += r3, o3.hierNode.modifier += r3, r3 += o3.hierNode.shift + (e3 += o3.hierNode.change);
      }
    })(t5);
    var o2 = (n2[0].hierNode.prelim + n2[n2.length - 1].hierNode.prelim) / 2;
    e2 ? (t5.hierNode.prelim = e2.hierNode.prelim + i2(t5, e2), t5.hierNode.modifier = t5.hierNode.prelim - o2) : t5.hierNode.prelim = o2;
  } else e2 && (t5.hierNode.prelim = e2.hierNode.prelim + i2(t5, e2));
  t5.parentNode.hierNode.defaultAncestor = (function(t6, i3, n3, r3) {
    if (i3) {
      for (var e3 = t6, o3 = t6, a2 = o3.parentNode.children[0], s2 = i3, l2 = e3.hierNode.modifier, u2 = o3.hierNode.modifier, f2 = a2.hierNode.modifier, c2 = s2.hierNode.modifier; s2 = $N(s2), o3 = GN(o3), s2 && o3; ) {
        e3 = $N(e3), a2 = GN(a2), e3.hierNode.ancestor = t6;
        var h2 = s2.hierNode.prelim + c2 - o3.hierNode.prelim - u2 + r3(s2, o3);
        h2 > 0 && (qN(ZN(s2, t6, n3), t6, h2), u2 += h2, l2 += h2), c2 += s2.hierNode.modifier, u2 += o3.hierNode.modifier, l2 += e3.hierNode.modifier, f2 += a2.hierNode.modifier;
      }
      s2 && !$N(e3) && (e3.hierNode.thread = s2, e3.hierNode.modifier += c2 - l2), o3 && !GN(a2) && (a2.hierNode.thread = o3, a2.hierNode.modifier += u2 - f2, n3 = t6);
    }
    return n3;
  })(t5, e2, t5.parentNode.hierNode.defaultAncestor || r2[0], i2);
}
function YN(t5) {
  t5.setLayout({ x: t5.hierNode.prelim + t5.parentNode.hierNode.modifier }, true), t5.hierNode.modifier += t5.parentNode.hierNode.modifier;
}
function XN(t5) {
  return arguments.length ? t5 : JN;
}
function UN(t5, i2) {
  return t5 -= Math.PI / 2, { x: i2 * Math.cos(t5), y: i2 * Math.sin(t5) };
}
function $N(t5) {
  var i2 = t5.children;
  return i2.length && t5.isExpand ? i2[i2.length - 1] : t5.hierNode.thread;
}
function GN(t5) {
  var i2 = t5.children;
  return i2.length && t5.isExpand ? i2[0] : t5.hierNode.thread;
}
function ZN(t5, i2, n2) {
  return t5.hierNode.ancestor.parentNode === i2.parentNode ? t5.hierNode.ancestor : n2;
}
function qN(t5, i2, n2) {
  var r2 = n2 / (i2.hierNode.i - t5.hierNode.i);
  i2.hierNode.change -= r2, i2.hierNode.shift += n2, i2.hierNode.modifier += n2, i2.hierNode.prelim += n2, t5.hierNode.change += r2;
}
function JN(t5, i2) {
  return t5.parentNode === i2.parentNode ? 1 : 2;
}
var KN = function() {
  this.parentPoint = [], this.childPoints = [];
}, QN = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultStyle = function() {
    return { stroke: "#000", fill: null };
  }, i2.prototype.getDefaultShape = function() {
    return new KN();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = i3.childPoints, r2 = n2.length, e2 = i3.parentPoint, o2 = n2[0], a2 = n2[r2 - 1];
    if (1 === r2) return t6.moveTo(e2[0], e2[1]), void t6.lineTo(o2[0], o2[1]);
    var s2 = i3.orient, l2 = "TB" === s2 || "BT" === s2 ? 0 : 1, u2 = 1 - l2, f2 = us(i3.forkPosition, 1), c2 = [];
    c2[l2] = e2[l2], c2[u2] = e2[u2] + (a2[u2] - e2[u2]) * f2, t6.moveTo(e2[0], e2[1]), t6.lineTo(c2[0], c2[1]), t6.moveTo(o2[0], o2[1]), c2[l2] = o2[l2], t6.lineTo(c2[0], c2[1]), c2[l2] = a2[l2], t6.lineTo(c2[0], c2[1]), t6.lineTo(a2[0], a2[1]);
    for (var h2 = 1; h2 < r2 - 1; h2++) {
      var v2 = n2[h2];
      t6.moveTo(v2[0], v2[1]), c2[l2] = v2[l2], t6.lineTo(c2[0], c2[1]);
    }
  }, i2;
})(Fu), t_ = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2._mainGroup = new rs(), n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3) {
    this._controller = new yA(i3.getZr()), this._controllerHost = { target: this.group }, this.group.add(this._mainGroup);
  }, i2.prototype.render = function(t6, i3, n2) {
    var r2 = t6.getData(), e2 = t6.layoutInfo, o2 = this._mainGroup;
    "radial" === t6.get("layout") ? (o2.x = e2.x + e2.width / 2, o2.y = e2.y + e2.height / 2) : (o2.x = e2.x, o2.y = e2.y), this._updateViewCoordSys(t6, n2), this._updateController(t6, i3, n2);
    var a2 = this._data;
    r2.diff(a2).add((function(i4) {
      i_(r2, i4) && n_(r2, i4, null, o2, t6);
    })).update((function(i4, n3) {
      var e3 = a2.getItemGraphicEl(n3);
      i_(r2, i4) ? n_(r2, i4, e3, o2, t6) : e3 && o_(a2, n3, e3, o2, t6);
    })).remove((function(i4) {
      var n3 = a2.getItemGraphicEl(i4);
      n3 && o_(a2, i4, n3, o2, t6);
    })).execute(), this._nodeScaleRatio = t6.get("nodeScaleRatio"), this._updateNodeAndLinkScale(t6), true === t6.get("expandAndCollapse") && r2.eachItemGraphicEl((function(i4, r3) {
      i4.off("click").on("click", (function() {
        n2.dispatchAction({ type: "treeExpandAndCollapse", seriesId: t6.id, dataIndex: r3 });
      }));
    })), this._data = r2;
  }, i2.prototype._updateViewCoordSys = function(t6, i3) {
    var n2 = t6.getData(), r2 = [];
    n2.each((function(t7) {
      var i4 = n2.getItemLayout(t7);
      !i4 || isNaN(i4.x) || isNaN(i4.y) || r2.push([+i4.x, +i4.y]);
    }));
    var e2 = [], o2 = [];
    Ul(r2, e2, o2);
    var a2 = this._min, s2 = this._max;
    o2[0] - e2[0] == 0 && (e2[0] = a2 ? a2[0] : e2[0] - 1, o2[0] = s2 ? s2[0] : o2[0] + 1), o2[1] - e2[1] == 0 && (e2[1] = a2 ? a2[1] : e2[1] - 1, o2[1] = s2 ? s2[1] : o2[1] + 1);
    var l2 = t6.coordinateSystem = new NN();
    l2.zoomLimit = t6.get("scaleLimit"), l2.setBoundingRect(e2[0], e2[1], o2[0] - e2[0], o2[1] - e2[1]), l2.setCenter(t6.get("center"), i3), l2.setZoom(t6.get("zoom")), this.group.attr({ x: l2.x, y: l2.y, scaleX: l2.scaleX, scaleY: l2.scaleY }), this._min = e2, this._max = o2;
  }, i2.prototype._updateController = function(t6, i3, n2) {
    var r2 = this, e2 = this._controller, o2 = this._controllerHost, a2 = this.group;
    e2.setPointerChecker((function(i4, r3, e3) {
      var o3 = a2.getBoundingRect();
      return o3.applyTransform(a2.transform), o3.contain(r3, e3) && !AA(i4, n2, t6);
    })), e2.enable(t6.get("roam")), o2.zoomLimit = t6.get("scaleLimit"), o2.zoom = t6.coordinateSystem.getZoom(), e2.off("pan").off("zoom").on("pan", (function(i4) {
      MA(o2, i4.dx, i4.dy), n2.dispatchAction({ seriesId: t6.id, type: "treeRoam", dx: i4.dx, dy: i4.dy });
    })).on("zoom", (function(i4) {
      zA(o2, i4.scale, i4.originX, i4.originY), n2.dispatchAction({ seriesId: t6.id, type: "treeRoam", zoom: i4.scale, originX: i4.originX, originY: i4.originY }), r2._updateNodeAndLinkScale(t6), n2.updateLabelLayout();
    }));
  }, i2.prototype._updateNodeAndLinkScale = function(t6) {
    var i3 = t6.getData(), n2 = this._getNodeGlobalScale(t6);
    i3.eachItemGraphicEl((function(t7) {
      t7.setSymbolScale(n2);
    }));
  }, i2.prototype._getNodeGlobalScale = function(t6) {
    var i3 = t6.coordinateSystem;
    if ("view" !== i3.type) return 1;
    var n2 = this._nodeScaleRatio, r2 = i3.scaleX || 1;
    return ((i3.getZoom() - 1) * n2 + 1) / r2;
  }, i2.prototype.dispose = function() {
    this._controller && this._controller.dispose(), this._controllerHost = null;
  }, i2.prototype.remove = function() {
    this._mainGroup.removeAll(), this._data = null;
  }, i2.type = "tree", i2;
})(Sb);
function i_(t5, i2) {
  var n2 = t5.getItemLayout(i2);
  return n2 && !isNaN(n2.x) && !isNaN(n2.y);
}
function n_(t5, i2, n2, r2, e2) {
  var o2 = !n2, a2 = t5.tree.getNodeByDataIndex(i2), s2 = a2.getModel(), l2 = a2.getVisual("style").fill, u2 = false === a2.isExpand && 0 !== a2.children.length ? l2 : "#fff", f2 = t5.tree.root, c2 = a2.parentNode === f2 ? a2 : a2.parentNode || a2, h2 = t5.getItemGraphicEl(c2.dataIndex), v2 = c2.getLayout(), d2 = h2 ? { x: h2.__oldX, y: h2.__oldY, rawX: h2.__radialOldRawX, rawY: h2.__radialOldRawY } : v2, p2 = a2.getLayout();
  o2 ? ((n2 = new Oz(t5, i2, null, { symbolInnerColor: u2, useNameLabel: true })).x = d2.x, n2.y = d2.y) : n2.updateData(t5, i2, null, { symbolInnerColor: u2, useNameLabel: true }), n2.__radialOldRawX = n2.__radialRawX, n2.__radialOldRawY = n2.__radialRawY, n2.__radialRawX = p2.rawX, n2.__radialRawY = p2.rawY, r2.add(n2), t5.setItemGraphicEl(i2, n2), n2.__oldX = n2.x, n2.__oldY = n2.y, Mh(n2, { x: p2.x, y: p2.y }, e2);
  var m2 = n2.getSymbolPath();
  if ("radial" === e2.get("layout")) {
    var b2 = f2.children[0], g3 = b2.getLayout(), y2 = b2.children.length, w3 = void 0, x2 = void 0;
    if (p2.x === g3.x && true === a2.isExpand && b2.children.length) {
      var k2 = { x: (b2.children[0].getLayout().x + b2.children[y2 - 1].getLayout().x) / 2, y: (b2.children[0].getLayout().y + b2.children[y2 - 1].getLayout().y) / 2 };
      (w3 = Math.atan2(k2.y - g3.y, k2.x - g3.x)) < 0 && (w3 = 2 * Math.PI + w3), (x2 = k2.x < g3.x) && (w3 -= Math.PI);
    } else (w3 = Math.atan2(p2.y - g3.y, p2.x - g3.x)) < 0 && (w3 = 2 * Math.PI + w3), 0 === a2.children.length || 0 !== a2.children.length && false === a2.isExpand ? (x2 = p2.x < g3.x) && (w3 -= Math.PI) : (x2 = p2.x > g3.x) || (w3 -= Math.PI);
    var M2 = x2 ? "left" : "right", z2 = s2.getModel("label"), S3 = z2.get("rotate"), C3 = S3 * (Math.PI / 180), A3 = m2.getTextContent();
    A3 && (m2.setTextConfig({ position: z2.get("position") || M2, rotation: null == S3 ? -w3 : C3, origin: "center" }), A3.setStyle("verticalAlign", "middle"));
  }
  var N2 = s2.get(["emphasis", "focus"]), _2 = "relative" === N2 ? tr(a2.getAncestorsIndices(), a2.getDescendantIndices()) : "ancestor" === N2 ? a2.getAncestorsIndices() : "descendant" === N2 ? a2.getDescendantIndices() : null;
  _2 && (hf(n2).focus = _2), (function(t6, i3, n3, r3, e3, o3, a3, s3) {
    var l3 = i3.getModel(), u3 = t6.get("edgeShape"), f3 = t6.get("layout"), c3 = t6.getOrient(), h3 = t6.get(["lineStyle", "curveness"]), v3 = t6.get("edgeForkPosition"), d3 = l3.getModel("lineStyle").getLineStyle(), p3 = r3.__edge;
    if ("curve" === u3) i3.parentNode && i3.parentNode !== n3 && (p3 || (p3 = r3.__edge = new ah({ shape: a_(f3, c3, h3, e3, e3) })), Mh(p3, { shape: a_(f3, c3, h3, o3, a3) }, t6));
    else if ("polyline" === u3 && "orthogonal" === f3 && i3 !== n3 && i3.children && 0 !== i3.children.length && true === i3.isExpand) {
      for (var m3 = i3.children, b3 = [], g4 = 0; g4 < m3.length; g4++) {
        var y3 = m3[g4].getLayout();
        b3.push([y3.x, y3.y]);
      }
      p3 || (p3 = r3.__edge = new QN({ shape: { parentPoint: [a3.x, a3.y], childPoints: [[a3.x, a3.y]], orient: c3, forkPosition: v3 } })), Mh(p3, { shape: { parentPoint: [a3.x, a3.y], childPoints: b3 } }, t6);
    }
    p3 && ("polyline" !== u3 || i3.isExpand) && (p3.useStyle(gn({ strokeNoScale: true, fill: null }, d3)), ec(p3, l3, "lineStyle"), Ff(p3), s3.add(p3));
  })(e2, a2, f2, n2, d2, v2, p2, r2), n2.__edge && (n2.onHoverStateChange = function(i3) {
    if ("blur" !== i3) {
      var r3 = a2.parentNode && t5.getItemGraphicEl(a2.parentNode.dataIndex);
      r3 && 1 === r3.hoverState || Ef(n2.__edge, i3);
    }
  });
}
function r_(t5, i2, n2, r2, e2) {
  var o2 = e_(i2.tree.root, t5), a2 = o2.source, s2 = o2.sourceLayout, l2 = i2.getItemGraphicEl(t5.dataIndex);
  if (l2) {
    var u2 = i2.getItemGraphicEl(a2.dataIndex), f2 = l2.__edge || (false === a2.isExpand || 1 === a2.children.length ? u2.__edge : void 0), c2 = r2.get("edgeShape"), h2 = r2.get("layout"), v2 = r2.get("orient"), d2 = r2.get(["lineStyle", "curveness"]);
    f2 && ("curve" === c2 ? Ch(f2, { shape: a_(h2, v2, d2, s2, s2), style: { opacity: 0 } }, r2, { cb: function() {
      n2.remove(f2);
    }, removeOpt: e2 }) : "polyline" === c2 && "orthogonal" === r2.get("layout") && Ch(f2, { shape: { parentPoint: [s2.x, s2.y], childPoints: [[s2.x, s2.y]] }, style: { opacity: 0 } }, r2, { cb: function() {
      n2.remove(f2);
    }, removeOpt: e2 }));
  }
}
function e_(t5, i2) {
  for (var n2, r2 = i2.parentNode === t5 ? i2 : i2.parentNode || i2; null == (n2 = r2.getLayout()); ) r2 = r2.parentNode === t5 ? r2 : r2.parentNode || r2;
  return { source: r2, sourceLayout: n2 };
}
function o_(t5, i2, n2, r2, e2) {
  var o2 = t5.tree.getNodeByDataIndex(i2), a2 = e_(t5.tree.root, o2).sourceLayout, s2 = { duration: e2.get("animationDurationUpdate"), easing: e2.get("animationEasingUpdate") };
  Ch(n2, { x: a2.x + 1, y: a2.y + 1 }, e2, { cb: function() {
    r2.remove(n2), t5.setItemGraphicEl(i2, null);
  }, removeOpt: s2 }), n2.fadeOut(null, t5.hostModel, { fadeLabel: true, animation: s2 }), o2.children.forEach((function(i3) {
    r_(i3, t5, r2, e2, s2);
  })), r_(o2, t5, r2, e2, s2);
}
function a_(t5, i2, n2, r2, e2) {
  var o2, a2, s2, l2, u2, f2, c2, h2;
  if ("radial" === t5) {
    f2 = e2.rawX, h2 = e2.rawY;
    var v2 = UN(u2 = r2.rawX, c2 = r2.rawY), d2 = UN(u2, c2 + (h2 - c2) * n2), p2 = UN(f2, h2 + (c2 - h2) * n2), m2 = UN(f2, h2);
    return { x1: v2.x || 0, y1: v2.y || 0, x2: m2.x || 0, y2: m2.y || 0, cpx1: d2.x || 0, cpy1: d2.y || 0, cpx2: p2.x || 0, cpy2: p2.y || 0 };
  }
  return u2 = r2.x, c2 = r2.y, f2 = e2.x, h2 = e2.y, "LR" !== i2 && "RL" !== i2 || (o2 = u2 + (f2 - u2) * n2, a2 = c2, s2 = f2 + (u2 - f2) * n2, l2 = h2), "TB" !== i2 && "BT" !== i2 || (o2 = u2, a2 = c2 + (h2 - c2) * n2, s2 = f2, l2 = h2 + (c2 - h2) * n2), { x1: u2, y1: c2, x2: f2, y2: h2, cpx1: o2, cpy1: a2, cpx2: s2, cpy2: l2 };
}
var s_ = Xs();
function l_(t5) {
  var i2 = t5.mainData, n2 = t5.datas;
  n2 || (n2 = { main: i2 }, t5.datasAttr = { main: "data" }), t5.datas = t5.mainData = null, d_(i2, n2, t5), kn(n2, (function(n3) {
    kn(i2.TRANSFERABLE_METHODS, (function(i3) {
      n3.wrapMethod(i3, Nn(u_, t5));
    }));
  })), i2.wrapMethod("cloneShallow", Nn(c_, t5)), kn(i2.CHANGABLE_METHODS, (function(n3) {
    i2.wrapMethod(n3, Nn(f_, t5));
  })), Xn(n2[i2.dataType] === i2);
}
function u_(t5, i2) {
  if (s_(this).mainData === this) {
    var n2 = bn({}, s_(this).datas);
    n2[this.dataType] = i2, d_(i2, n2, t5);
  } else p_(i2, this.dataType, s_(this).mainData, t5);
  return i2;
}
function f_(t5, i2) {
  return t5.struct && t5.struct.update(), i2;
}
function c_(t5, i2) {
  return kn(s_(i2).datas, (function(n2, r2) {
    n2 !== i2 && p_(n2.cloneShallow(), r2, i2, t5);
  })), i2;
}
function h_(t5) {
  var i2 = s_(this).mainData;
  return null == t5 || null == i2 ? i2 : s_(i2).datas[t5];
}
function v_() {
  var t5 = s_(this).mainData;
  return null == t5 ? [{ data: t5 }] : Mn(Cn(s_(t5).datas), (function(i2) {
    return { type: i2, data: s_(t5).datas[i2] };
  }));
}
function d_(t5, i2, n2) {
  s_(t5).datas = {}, kn(i2, (function(i3, r2) {
    p_(i3, r2, t5, n2);
  }));
}
function p_(t5, i2, n2, r2) {
  s_(n2).datas[i2] = t5, s_(t5).mainData = n2, t5.dataType = i2, r2.struct && (t5[r2.structAttr] = r2.struct, r2.struct[r2.datasAttr[i2]] = t5), t5.getLinkedData = h_, t5.getLinkedDataAll = v_;
}
var m_ = (function() {
  function t5(t6, i2) {
    this.depth = 0, this.height = 0, this.dataIndex = -1, this.children = [], this.viewChildren = [], this.isExpand = false, this.name = t6 || "", this.hostTree = i2;
  }
  return t5.prototype.isRemoved = function() {
    return this.dataIndex < 0;
  }, t5.prototype.eachNode = function(t6, i2, n2) {
    Tn(t6) && (n2 = i2, i2 = t6, t6 = null), In(t6 = t6 || {}) && (t6 = { order: t6 });
    var r2, e2 = t6.order || "preorder", o2 = this[t6.attr || "children"];
    "preorder" === e2 && (r2 = i2.call(n2, this));
    for (var a2 = 0; !r2 && a2 < o2.length; a2++) o2[a2].eachNode(t6, i2, n2);
    "postorder" === e2 && i2.call(n2, this);
  }, t5.prototype.updateDepthAndHeight = function(t6) {
    var i2 = 0;
    this.depth = t6;
    for (var n2 = 0; n2 < this.children.length; n2++) {
      var r2 = this.children[n2];
      r2.updateDepthAndHeight(t6 + 1), r2.height > i2 && (i2 = r2.height);
    }
    this.height = i2 + 1;
  }, t5.prototype.getNodeById = function(t6) {
    if (this.getId() === t6) return this;
    for (var i2 = 0, n2 = this.children, r2 = n2.length; i2 < r2; i2++) {
      var e2 = n2[i2].getNodeById(t6);
      if (e2) return e2;
    }
  }, t5.prototype.contains = function(t6) {
    if (t6 === this) return true;
    for (var i2 = 0, n2 = this.children, r2 = n2.length; i2 < r2; i2++) {
      var e2 = n2[i2].contains(t6);
      if (e2) return e2;
    }
  }, t5.prototype.getAncestors = function(t6) {
    for (var i2 = [], n2 = t6 ? this : this.parentNode; n2; ) i2.push(n2), n2 = n2.parentNode;
    return i2.reverse(), i2;
  }, t5.prototype.getAncestorsIndices = function() {
    for (var t6 = [], i2 = this; i2; ) t6.push(i2.dataIndex), i2 = i2.parentNode;
    return t6.reverse(), t6;
  }, t5.prototype.getDescendantIndices = function() {
    var t6 = [];
    return this.eachNode((function(i2) {
      t6.push(i2.dataIndex);
    })), t6;
  }, t5.prototype.getValue = function(t6) {
    var i2 = this.hostTree.data;
    return i2.getStore().get(i2.getDimensionIndex(t6 || "value"), this.dataIndex);
  }, t5.prototype.setLayout = function(t6, i2) {
    this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, t6, i2);
  }, t5.prototype.getLayout = function() {
    return this.hostTree.data.getItemLayout(this.dataIndex);
  }, t5.prototype.getModel = function(t6) {
    if (!(this.dataIndex < 0)) return this.hostTree.data.getItemModel(this.dataIndex).getModel(t6);
  }, t5.prototype.getLevelModel = function() {
    return (this.hostTree.levelModels || [])[this.depth];
  }, t5.prototype.setVisual = function(t6, i2) {
    this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, t6, i2);
  }, t5.prototype.getVisual = function(t6) {
    return this.hostTree.data.getItemVisual(this.dataIndex, t6);
  }, t5.prototype.getRawIndex = function() {
    return this.hostTree.data.getRawIndex(this.dataIndex);
  }, t5.prototype.getId = function() {
    return this.hostTree.data.getId(this.dataIndex);
  }, t5.prototype.getChildIndex = function() {
    if (this.parentNode) {
      for (var t6 = this.parentNode.children, i2 = 0; i2 < t6.length; ++i2) if (t6[i2] === this) return i2;
      return -1;
    }
    return -1;
  }, t5.prototype.isAncestorOf = function(t6) {
    for (var i2 = t6.parentNode; i2; ) {
      if (i2 === this) return true;
      i2 = i2.parentNode;
    }
    return false;
  }, t5.prototype.isDescendantOf = function(t6) {
    return t6 !== this && t6.isAncestorOf(this);
  }, t5;
})(), b_ = (function() {
  function t5(t6) {
    this.type = "tree", this._nodes = [], this.hostModel = t6;
  }
  return t5.prototype.eachNode = function(t6, i2, n2) {
    this.root.eachNode(t6, i2, n2);
  }, t5.prototype.getNodeByDataIndex = function(t6) {
    var i2 = this.data.getRawIndex(t6);
    return this._nodes[i2];
  }, t5.prototype.getNodeById = function(t6) {
    return this.root.getNodeById(t6);
  }, t5.prototype.update = function() {
    for (var t6 = this.data, i2 = this._nodes, n2 = 0, r2 = i2.length; n2 < r2; n2++) i2[n2].dataIndex = -1;
    for (n2 = 0, r2 = t6.count(); n2 < r2; n2++) i2[t6.getRawIndex(n2)].dataIndex = n2;
  }, t5.prototype.clearLayouts = function() {
    this.data.clearItemLayouts();
  }, t5.createTree = function(i2, n2, r2) {
    var e2 = new t5(n2), o2 = [], a2 = 1;
    !(function t6(i3, n3) {
      var r3 = i3.value;
      a2 = Math.max(a2, _n(r3) ? r3.length : 1), o2.push(i3);
      var s3 = new m_(Vs(i3.name, ""), e2);
      n3 ? (function(t7, i4) {
        t7.parentNode !== i4 && (i4.children.push(t7), t7.parentNode = i4);
      })(s3, n3) : e2.root = s3, e2._nodes.push(s3);
      var l3 = i3.children;
      if (l3) for (var u2 = 0; u2 < l3.length; u2++) t6(l3[u2], s3);
    })(i2), e2.root.updateDepthAndHeight(0);
    var s2 = Gw(o2, { coordDimensions: ["value"], dimensionsCount: a2 }).dimensions, l2 = new $w(s2, n2);
    return l2.initData(o2), r2 && r2(l2), l_({ mainData: l2, struct: e2, structAttr: "tree" }), e2.update(), e2;
  }, t5;
})();
function g_(t5, i2, n2) {
  if (t5 && yn(i2, t5.type) >= 0) {
    var r2 = n2.getData().tree.root, e2 = t5.targetNode;
    if (In(e2) && (e2 = r2.getNodeById(e2)), e2 && r2.contains(e2)) return { node: e2 };
    var o2 = t5.targetNodeId;
    if (null != o2 && (e2 = r2.getNodeById(o2))) return { node: e2 };
  }
}
function y_(t5) {
  for (var i2 = []; t5; ) (t5 = t5.parentNode) && i2.push(t5);
  return i2.reverse();
}
function w_(t5, i2) {
  return yn(y_(t5), i2) >= 0;
}
function x_(t5, i2) {
  for (var n2 = []; t5; ) {
    var r2 = t5.dataIndex;
    n2.push({ name: t5.name, dataIndex: r2, value: i2.getRawValue(r2) }), t5 = t5.parentNode;
  }
  return n2.reverse(), n2;
}
var k_ = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.hasSymbolVisual = true, i3.ignoreStyleOnData = true, i3;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function(t6) {
    var i3 = { name: t6.name, children: t6.data }, n2 = new _v(t6.leaves || {}, this, this.ecModel), r2 = b_.createTree(i3, this, (function(t7) {
      t7.wrapMethod("getItemModel", (function(t8, i4) {
        var e3 = r2.getNodeByDataIndex(i4);
        return e3 && e3.children.length && e3.isExpand || (t8.parentModel = n2), t8;
      }));
    })), e2 = 0;
    r2.eachNode("preorder", (function(t7) {
      t7.depth > e2 && (e2 = t7.depth);
    }));
    var o2 = t6.expandAndCollapse && t6.initialTreeDepth >= 0 ? t6.initialTreeDepth : e2;
    return r2.root.eachNode("preorder", (function(t7) {
      var i4 = t7.hostTree.data.getRawDataItem(t7.dataIndex);
      t7.isExpand = i4 && null != i4.collapsed ? !i4.collapsed : t7.depth <= o2;
    })), r2.data;
  }, i2.prototype.getOrient = function() {
    var t6 = this.get("orient");
    return "horizontal" === t6 ? t6 = "LR" : "vertical" === t6 && (t6 = "TB"), t6;
  }, i2.prototype.setZoom = function(t6) {
    this.option.zoom = t6;
  }, i2.prototype.setCenter = function(t6) {
    this.option.center = t6;
  }, i2.prototype.formatTooltip = function(t6) {
    for (var i3 = this.getData().tree, n2 = i3.root.children[0], r2 = i3.getNodeByDataIndex(t6), e2 = r2.getValue(), o2 = r2.name; r2 && r2 !== n2; ) o2 = r2.parentNode.name + "." + o2, r2 = r2.parentNode;
    return Jm("nameValue", { name: o2, value: e2, noValue: isNaN(e2) || null == e2 });
  }, i2.prototype.getDataParams = function(i3) {
    var n2 = t5.prototype.getDataParams.apply(this, arguments), r2 = this.getData().tree.getNodeByDataIndex(i3);
    return n2.treeAncestors = x_(r2, this), n2.collapsed = !r2.isExpand, n2;
  }, i2.type = "series.tree", i2.layoutMode = "box", i2.defaultOption = { z: 2, coordinateSystem: "view", left: "12%", top: "12%", right: "12%", bottom: "12%", layout: "orthogonal", edgeShape: "curve", edgeForkPosition: "50%", roam: false, nodeScaleRatio: 0.4, center: null, zoom: 1, orient: "LR", symbol: "emptyCircle", symbolSize: 7, expandAndCollapse: true, initialTreeDepth: 2, lineStyle: { color: "#ccc", width: 1.5, curveness: 0.5 }, itemStyle: { color: "lightsteelblue", borderWidth: 1.5 }, label: { show: true }, animationEasing: "linear", animationDuration: 700, animationDurationUpdate: 500 }, i2;
})(vb);
function M_(t5, i2) {
  for (var n2, r2 = [t5]; n2 = r2.pop(); ) if (i2(n2), n2.isExpand) {
    var e2 = n2.children;
    if (e2.length) for (var o2 = e2.length - 1; o2 >= 0; o2--) r2.push(e2[o2]);
  }
}
function z_(t5, i2) {
  t5.eachSeriesByType("tree", (function(t6) {
    !(function(t7, i3) {
      var n2 = (function(t8, i4) {
        return Nd(t8.getBoxLayoutParams(), { width: i4.getWidth(), height: i4.getHeight() });
      })(t7, i3);
      t7.layoutInfo = n2;
      var r2 = t7.get("layout"), e2 = 0, o2 = 0, a2 = null;
      "radial" === r2 ? (e2 = 2 * Math.PI, o2 = Math.min(n2.height, n2.width) / 2, a2 = XN((function(t8, i4) {
        return (t8.parentNode === i4.parentNode ? 1 : 2) / t8.depth;
      }))) : (e2 = n2.width, o2 = n2.height, a2 = XN());
      var s2 = t7.getData().tree.root, l2 = s2.children[0];
      if (l2) {
        !(function(t8) {
          var i4 = t8;
          i4.hierNode = { defaultAncestor: null, ancestor: i4, prelim: 0, modifier: 0, change: 0, shift: 0, i: 0, thread: null };
          for (var n3, r3, e3 = [i4]; n3 = e3.pop(); ) if (r3 = n3.children, n3.isExpand && r3.length) for (var o3 = r3.length - 1; o3 >= 0; o3--) {
            var a3 = r3[o3];
            a3.hierNode = { defaultAncestor: null, ancestor: a3, prelim: 0, modifier: 0, change: 0, shift: 0, i: o3, thread: null }, e3.push(a3);
          }
        })(s2), (function(t8, i4, n3) {
          for (var r3, e3 = [t8], o3 = []; r3 = e3.pop(); ) if (o3.push(r3), r3.isExpand) {
            var a3 = r3.children;
            if (a3.length) for (var s3 = 0; s3 < a3.length; s3++) e3.push(a3[s3]);
          }
          for (; r3 = o3.pop(); ) i4(r3, n3);
        })(l2, HN, a2), s2.hierNode.modifier = -l2.hierNode.prelim, M_(l2, YN);
        var u2 = l2, f2 = l2, c2 = l2;
        M_(l2, (function(t8) {
          var i4 = t8.getLayout().x;
          i4 < u2.getLayout().x && (u2 = t8), i4 > f2.getLayout().x && (f2 = t8), t8.depth > c2.depth && (c2 = t8);
        }));
        var h2 = u2 === f2 ? 1 : a2(u2, f2) / 2, v2 = h2 - u2.getLayout().x, d2 = 0, p2 = 0, m2 = 0, b2 = 0;
        if ("radial" === r2) d2 = e2 / (f2.getLayout().x + h2 + v2), p2 = o2 / (c2.depth - 1 || 1), M_(l2, (function(t8) {
          var i4 = UN(m2 = (t8.getLayout().x + v2) * d2, b2 = (t8.depth - 1) * p2);
          t8.setLayout({ x: i4.x, y: i4.y, rawX: m2, rawY: b2 }, true);
        }));
        else {
          var g3 = t7.getOrient();
          "RL" === g3 || "LR" === g3 ? (p2 = o2 / (f2.getLayout().x + h2 + v2), d2 = e2 / (c2.depth - 1 || 1), M_(l2, (function(t8) {
            b2 = (t8.getLayout().x + v2) * p2, t8.setLayout({ x: m2 = "LR" === g3 ? (t8.depth - 1) * d2 : e2 - (t8.depth - 1) * d2, y: b2 }, true);
          }))) : "TB" !== g3 && "BT" !== g3 || (d2 = e2 / (f2.getLayout().x + h2 + v2), p2 = o2 / (c2.depth - 1 || 1), M_(l2, (function(t8) {
            m2 = (t8.getLayout().x + v2) * d2, t8.setLayout({ x: m2, y: b2 = "TB" === g3 ? (t8.depth - 1) * p2 : o2 - (t8.depth - 1) * p2 }, true);
          })));
        }
      }
    })(t6, i2);
  }));
}
function S_(t5) {
  t5.eachSeriesByType("tree", (function(t6) {
    var i2 = t6.getData();
    i2.tree.eachNode((function(t7) {
      var n2 = t7.getModel().getModel("itemStyle").getItemStyle();
      bn(i2.ensureUniqueItemVisual(t7.dataIndex, "style"), n2);
    }));
  }));
}
var C_ = ["treemapZoomToNode", "treemapRender", "treemapMove"];
function A_(t5) {
  var i2 = t5.getData(), n2 = {};
  i2.tree.eachNode((function(i3) {
    for (var r2 = i3; r2 && r2.depth > 1; ) r2 = r2.parentNode;
    var e2 = sp(t5.ecModel, r2.name || r2.dataIndex + "", n2);
    i3.setVisual("decal", e2);
  }));
}
var N_ = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.preventUsingHoverLayer = true, n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function(t6, i3) {
    var n2 = { name: t6.name, children: t6.data };
    __(n2);
    var r2 = t6.levels || [], e2 = this.designatedVisualItemStyle = {}, o2 = new _v({ itemStyle: e2 }, this, i3);
    r2 = t6.levels = (function(t7, i4) {
      var n3, r3, e3 = Ds(i4.get("color")), o3 = Ds(i4.get(["aria", "decal", "decals"]));
      if (e3) {
        kn(t7 = t7 || [], (function(t8) {
          var i5 = new _v(t8), e4 = i5.get("color"), o4 = i5.get("decal");
          (i5.get(["itemStyle", "color"]) || e4 && "none" !== e4) && (n3 = true), (i5.get(["itemStyle", "decal"]) || o4 && "none" !== o4) && (r3 = true);
        }));
        var a3 = t7[0] || (t7[0] = {});
        return n3 || (a3.color = e3.slice()), !r3 && o3 && (a3.decal = o3.slice()), t7;
      }
    })(r2, i3);
    var a2 = Mn(r2 || [], (function(t7) {
      return new _v(t7, o2, i3);
    }), this), s2 = b_.createTree(n2, this, (function(t7) {
      t7.wrapMethod("getItemModel", (function(t8, i4) {
        var n3 = s2.getNodeByDataIndex(i4);
        return t8.parentModel = (n3 ? a2[n3.depth] : null) || o2, t8;
      }));
    }));
    return s2.data;
  }, i2.prototype.optionUpdated = function() {
    this.resetViewRoot();
  }, i2.prototype.formatTooltip = function(t6) {
    var i3 = this.getData(), n2 = this.getRawValue(t6);
    return Jm("nameValue", { name: i3.getName(t6), value: n2 });
  }, i2.prototype.getDataParams = function(i3) {
    var n2 = t5.prototype.getDataParams.apply(this, arguments), r2 = this.getData().tree.getNodeByDataIndex(i3);
    return n2.treeAncestors = x_(r2, this), n2.treePathInfo = n2.treeAncestors, n2;
  }, i2.prototype.setLayoutInfo = function(t6) {
    this.layoutInfo = this.layoutInfo || {}, bn(this.layoutInfo, t6);
  }, i2.prototype.mapIdToIndex = function(t6) {
    var i3 = this._idIndexMap;
    i3 || (i3 = this._idIndexMap = Qn(), this._idIndexMapCount = 0);
    var n2 = i3.get(t6);
    return null == n2 && i3.set(t6, n2 = this._idIndexMapCount++), n2;
  }, i2.prototype.getViewRoot = function() {
    return this._viewRoot;
  }, i2.prototype.resetViewRoot = function(t6) {
    t6 ? this._viewRoot = t6 : t6 = this._viewRoot;
    var i3 = this.getRawData().tree.root;
    t6 && (t6 === i3 || i3.contains(t6)) || (this._viewRoot = i3);
  }, i2.prototype.enableAriaDecal = function() {
    A_(this);
  }, i2.type = "series.treemap", i2.layoutMode = "box", i2.defaultOption = { progressive: 0, left: "center", top: "middle", width: "80%", height: "80%", sort: true, clipWindow: "origin", squareRatio: 0.5 * (1 + Math.sqrt(5)), leafDepth: null, drillDownIcon: "", zoomToNodeRatio: 0.1024, scaleLimit: null, roam: true, nodeClick: "zoomToNode", animation: true, animationDurationUpdate: 900, animationEasing: "quinticInOut", breadcrumb: { show: true, height: 22, left: "center", top: "bottom", emptyItemWidth: 25, itemStyle: { color: "rgba(0,0,0,0.7)", textStyle: { color: "#fff" } }, emphasis: { itemStyle: { color: "rgba(0,0,0,0.9)" } } }, label: { show: true, distance: 0, padding: 5, position: "inside", color: "#fff", overflow: "truncate" }, upperLabel: { show: false, position: [0, "50%"], height: 20, overflow: "truncate", verticalAlign: "middle" }, itemStyle: { color: null, colorAlpha: null, colorSaturation: null, borderWidth: 0, gapWidth: 0, borderColor: "#fff", borderColorSaturation: null }, emphasis: { upperLabel: { show: true, position: [0, "50%"], overflow: "truncate", verticalAlign: "middle" } }, visualDimension: 0, visualMin: null, visualMax: null, color: [], colorAlpha: null, colorSaturation: null, colorMappingBy: "index", visibleMin: 10, childrenVisibleMin: null, levels: [] }, i2;
})(vb);
function __(t5) {
  var i2 = 0;
  kn(t5.children, (function(t6) {
    __(t6);
    var n3 = t6.value;
    _n(n3) && (n3 = n3[0]), i2 += n3;
  }));
  var n2 = t5.value;
  _n(n2) && (n2 = n2[0]), (null == n2 || isNaN(n2)) && (n2 = i2), n2 < 0 && (n2 = 0), _n(t5.value) ? t5.value[0] = n2 : t5.value = n2;
}
var T_ = (function() {
  function t5(t6) {
    this.group = new rs(), t6.add(this.group);
  }
  return t5.prototype.render = function(t6, i2, n2, r2) {
    var e2 = t6.getModel("breadcrumb"), o2 = this.group;
    if (o2.removeAll(), e2.get("show") && n2) {
      var a2 = e2.getModel("itemStyle"), s2 = e2.getModel("emphasis"), l2 = a2.getModel("textStyle"), u2 = s2.getModel(["itemStyle", "textStyle"]), f2 = { pos: { left: e2.get("left"), right: e2.get("right"), top: e2.get("top"), bottom: e2.get("bottom") }, box: { width: i2.getWidth(), height: i2.getHeight() }, emptyItemWidth: e2.get("emptyItemWidth"), totalWidth: 0, renderList: [] };
      this._prepare(n2, f2, l2), this._renderContent(t6, f2, a2, s2, l2, u2, r2), _d(o2, f2.pos, f2.box);
    }
  }, t5.prototype._prepare = function(t6, i2, n2) {
    for (var r2 = t6; r2; r2 = r2.parentNode) {
      var e2 = Vs(r2.getModel().get("name"), ""), o2 = n2.getTextRect(e2), a2 = Math.max(o2.width + 16, i2.emptyItemWidth);
      i2.totalWidth += a2 + 8, i2.renderList.push({ node: r2, text: e2, width: a2 });
    }
  }, t5.prototype._renderContent = function(t6, i2, n2, r2, e2, o2, a2) {
    for (var s2, l2, u2, f2, c2, h2, v2, d2, p2, m2 = 0, b2 = i2.emptyItemWidth, g3 = t6.get(["breadcrumb", "height"]), y2 = (c2 = (l2 = i2.box).height, h2 = us((s2 = i2.pos).left, f2 = l2.width), v2 = us(s2.top, c2), d2 = us(s2.right, f2), p2 = us(s2.bottom, c2), (isNaN(h2) || isNaN(parseFloat(s2.left))) && (h2 = 0), (isNaN(d2) || isNaN(parseFloat(s2.right))) && (d2 = f2), (isNaN(v2) || isNaN(parseFloat(s2.top))) && (v2 = 0), (isNaN(p2) || isNaN(parseFloat(s2.bottom))) && (p2 = c2), u2 = md(u2 || 0), { width: Math.max(d2 - h2 - u2[1] - u2[3], 0), height: Math.max(p2 - v2 - u2[0] - u2[2], 0) }), w3 = i2.totalWidth, x2 = i2.renderList, k2 = r2.getModel("itemStyle").getItemStyle(), M2 = x2.length - 1; M2 >= 0; M2--) {
      var z2 = x2[M2], S3 = z2.node, C3 = z2.width, A3 = z2.text;
      w3 > y2.width && (w3 -= C3 - b2, C3 = b2, A3 = null);
      var N2 = new Jc({ shape: { points: I_(m2, 0, C3, g3, M2 === x2.length - 1, 0 === M2) }, style: gn(n2.getItemStyle(), { lineJoin: "bevel" }), textContent: new Ku({ style: sv(e2, { text: A3 }) }), textConfig: { position: "inside" }, z2: 1e5, onclick: Nn(a2, S3) });
      N2.disableLabelAnimation = true, N2.getTextContent().ensureState("emphasis").style = sv(o2, { text: A3 }), N2.ensureState("emphasis").style = k2, tc(N2, r2.get("focus"), r2.get("blurScope"), r2.get("disabled")), this.group.add(N2), L_(N2, t6, S3), m2 += C3 + 8;
    }
  }, t5.prototype.remove = function() {
    this.group.removeAll();
  }, t5;
})();
function I_(t5, i2, n2, r2, e2, o2) {
  var a2 = [[e2 ? t5 : t5 - 5, i2], [t5 + n2, i2], [t5 + n2, i2 + r2], [e2 ? t5 : t5 - 5, i2 + r2]];
  return !o2 && a2.splice(2, 0, [t5 + n2 + 5, i2 + r2 / 2]), !e2 && a2.push([t5, i2 + r2 / 2]), a2;
}
function L_(t5, i2, n2) {
  hf(t5).eventData = { componentType: "series", componentSubType: "treemap", componentIndex: i2.componentIndex, seriesIndex: i2.seriesIndex, seriesName: i2.name, seriesType: "treemap", selfType: "breadcrumb", nodeData: { dataIndex: n2 && n2.dataIndex, name: n2 && n2.name }, treePathInfo: n2 && x_(n2, i2) };
}
var D_ = (function() {
  function t5() {
    this._storage = [], this._elExistsMap = {};
  }
  return t5.prototype.add = function(t6, i2, n2, r2, e2) {
    return !this._elExistsMap[t6.id] && (this._elExistsMap[t6.id] = true, this._storage.push({ el: t6, target: i2, duration: n2, delay: r2, easing: e2 }), true);
  }, t5.prototype.finished = function(t6) {
    return this._finishedCallback = t6, this;
  }, t5.prototype.start = function() {
    for (var t6 = this, i2 = this._storage.length, n2 = function() {
      --i2 <= 0 && (t6._storage.length = 0, t6._elExistsMap = {}, t6._finishedCallback && t6._finishedCallback());
    }, r2 = 0, e2 = this._storage.length; r2 < e2; r2++) {
      var o2 = this._storage[r2];
      o2.el.animateTo(o2.target, { duration: o2.duration, delay: o2.delay, easing: o2.easing, setToFinal: true, done: n2, aborted: n2 });
    }
    return this;
  }, t5;
})(), W_ = rs, E_ = Zu, O_ = "label", F_ = "upperLabel", R_ = fl([["fill", "color"], ["stroke", "strokeColor"], ["lineWidth", "strokeWidth"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["shadowColor"]]), P_ = function(t5) {
  var i2 = R_(t5);
  return i2.stroke = i2.fill = i2.lineWidth = null, i2;
}, B_ = Xs(), V_ = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2._state = "ready", n2._storage = { nodeGroup: [], background: [], content: [] }, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2, r2) {
    if (!(yn(i3.findComponents({ mainType: "series", subType: "treemap", query: r2 }), t6) < 0)) {
      this.seriesModel = t6, this.api = n2, this.ecModel = i3;
      var e2 = g_(r2, ["treemapZoomToNode", "treemapRootToNode"], t6), o2 = r2 && r2.type, a2 = t6.layoutInfo, s2 = !this._oldTree, l2 = this._storage, u2 = "treemapRootToNode" === o2 && e2 && l2 ? { rootNodeGroup: l2.nodeGroup[e2.node.getRawIndex()], direction: r2.direction } : null, f2 = this._giveContainerGroup(a2), c2 = t6.get("animation"), h2 = this._doRender(f2, t6, u2);
      !c2 || s2 || o2 && "treemapZoomToNode" !== o2 && "treemapRootToNode" !== o2 ? h2.renderFinally() : this._doAnimation(f2, h2, t6, u2), this._resetController(n2), this._renderBreadcrumb(t6, n2, e2);
    }
  }, i2.prototype._giveContainerGroup = function(t6) {
    var i3 = this._containerGroup;
    return i3 || (i3 = this._containerGroup = new W_(), this._initEvents(i3), this.group.add(i3)), i3.x = t6.x, i3.y = t6.y, i3;
  }, i2.prototype._doRender = function(t6, i3, n2) {
    var r2 = i3.getData().tree, e2 = this._oldTree, o2 = { nodeGroup: [], background: [], content: [] }, a2 = { nodeGroup: [], background: [], content: [] }, s2 = this._storage, l2 = [];
    function u2(t7, r3, e3, u3) {
      return (function(t8, i4, n3, r4, e4, o3, a3, s3, l3, u4) {
        if (a3) {
          var f3 = a3.getLayout(), c3 = t8.getData(), h3 = a3.getModel();
          if (c3.setItemGraphicEl(a3.dataIndex, null), f3 && f3.isInView) {
            var v2 = f3.width, d2 = f3.height, p2 = f3.borderWidth, m2 = f3.invisible, b2 = a3.getRawIndex(), g3 = s3 && s3.getRawIndex(), y2 = a3.viewChildren, w3 = f3.upperHeight, x2 = y2 && y2.length, k2 = h3.getModel("itemStyle"), M2 = h3.getModel(["emphasis", "itemStyle"]), z2 = h3.getModel(["blur", "itemStyle"]), S3 = h3.getModel(["select", "itemStyle"]), C3 = k2.get("borderRadius") || 0, A3 = P2("nodeGroup", W_);
            if (A3) {
              if (l3.add(A3), A3.x = f3.x || 0, A3.y = f3.y || 0, A3.markRedraw(), B_(A3).nodeWidth = v2, B_(A3).nodeHeight = d2, f3.isAboveViewRoot) return A3;
              var N2 = P2("background", E_, u4, 20);
              N2 && (function(i5, n4, r5) {
                var e5 = hf(n4);
                if (e5.dataIndex = a3.dataIndex, e5.seriesIndex = t8.seriesIndex, n4.setShape({ x: 0, y: 0, width: v2, height: d2, r: C3 }), m2) O3(n4);
                else {
                  n4.invisible = false;
                  var o4 = a3.getVisual("style"), s4 = o4.stroke, l4 = P_(k2);
                  l4.fill = s4;
                  var u5 = R_(M2);
                  u5.fill = M2.get("borderColor");
                  var f4 = R_(z2);
                  f4.fill = z2.get("borderColor");
                  var c4 = R_(S3);
                  c4.fill = S3.get("borderColor"), r5 ? F3(n4, s4, o4.opacity, { x: p2, y: 0, width: v2 - 2 * p2, height: w3 }) : n4.removeTextContent(), n4.setStyle(l4), n4.ensureState("emphasis").style = u5, n4.ensureState("blur").style = f4, n4.ensureState("select").style = c4, Ff(n4);
                }
                i5.add(n4);
              })(A3, N2, x2 && f3.upperLabelHeight);
              var _2 = h3.getModel("emphasis"), T4 = _2.get("focus"), I2 = _2.get("blurScope"), L2 = _2.get("disabled"), D2 = "ancestor" === T4 ? a3.getAncestorsIndices() : "descendant" === T4 ? a3.getDescendantIndices() : T4;
              if (x2) ac(A3) && oc(A3, false), N2 && (oc(N2, !L2), c3.setItemGraphicEl(a3.dataIndex, N2), ic(N2, D2, I2));
              else {
                var W3 = P2("content", E_, u4, 30);
                W3 && (function(i5, n4) {
                  var r5 = hf(n4);
                  r5.dataIndex = a3.dataIndex, r5.seriesIndex = t8.seriesIndex;
                  var e5 = Math.max(v2 - 2 * p2, 0), o4 = Math.max(d2 - 2 * p2, 0);
                  if (n4.culling = true, n4.setShape({ x: p2, y: p2, width: e5, height: o4, r: C3 }), m2) O3(n4);
                  else {
                    n4.invisible = false;
                    var s4 = a3.getVisual("style"), l4 = s4.fill, u5 = P_(k2);
                    u5.fill = l4, u5.decal = s4.decal;
                    var f4 = R_(M2), c4 = R_(z2), h4 = R_(S3);
                    F3(n4, l4, s4.opacity, null), n4.setStyle(u5), n4.ensureState("emphasis").style = f4, n4.ensureState("blur").style = c4, n4.ensureState("select").style = h4, Ff(n4);
                  }
                  i5.add(n4);
                })(A3, W3), N2.disableMorphing = true, N2 && ac(N2) && oc(N2, false), oc(A3, !L2), c3.setItemGraphicEl(a3.dataIndex, A3);
                var E3 = h3.getShallow("cursor");
                E3 && W3.attr("cursor", E3), ic(A3, D2, I2);
              }
              return A3;
            }
          }
        }
        function O3(t9) {
          !t9.invisible && o3.push(t9);
        }
        function F3(i5, n4, r5, e5) {
          var o4 = h3.getModel(e5 ? F_ : O_), s4 = Vs(h3.get("name"), null), l4 = o4.getShallow("show");
          ov(i5, av(h3, e5 ? F_ : O_), { defaultText: l4 ? s4 : null, inheritColor: n4, defaultOpacity: r5, labelFetcher: t8, labelDataIndex: a3.dataIndex });
          var u5 = i5.getTextContent();
          if (u5) {
            var c4 = u5.style, v3 = Yn(c4.padding || 0);
            e5 && (i5.setTextConfig({ layoutRect: e5 }), u5.disableLabelLayout = true), u5.beforeUpdate = function() {
              var t9 = Math.max((e5 ? e5.width : i5.shape.width) - v3[1] - v3[3], 0), n5 = Math.max((e5 ? e5.height : i5.shape.height) - v3[0] - v3[2], 0);
              c4.width === t9 && c4.height === n5 || u5.setStyle({ width: t9, height: n5 });
            }, c4.truncateMinChar = 2, c4.lineOverflow = "truncate", R2(c4, e5, f3);
            var d3 = u5.getState("emphasis");
            R2(d3 ? d3.style : null, e5, f3);
          }
        }
        function R2(i5, n4, r5) {
          var e5 = i5 ? i5.text : null;
          if (!n4 && r5.isLeafRoot && null != e5) {
            var o4 = t8.get("drillDownIcon", true);
            i5.text = o4 ? o4 + " " + e5 : e5;
          }
        }
        function P2(t9, o4, s4, l4) {
          var u5 = null != g3 && n3[t9][g3], f4 = e4[t9];
          return u5 ? (n3[t9][g3] = null, (function(t10, i5) {
            var n4 = t10[b2] = {};
            i5 instanceof W_ ? (n4.oldX = i5.x, n4.oldY = i5.y) : n4.oldShape = bn({}, i5.shape);
          })(f4, u5)) : m2 || ((u5 = new o4()) instanceof El && (u5.z2 = (function(t10, i5) {
            return 100 * t10 + i5;
          })(s4, l4)), (function(t10, i5) {
            var n4 = t10[b2] = {}, o5 = a3.parentNode, s5 = i5 instanceof rs;
            if (o5 && (!r4 || "drillDown" === r4.direction)) {
              var l5 = 0, u6 = 0, f5 = e4.background[o5.getRawIndex()];
              !r4 && f5 && f5.oldShape && (l5 = f5.oldShape.width, u6 = f5.oldShape.height), s5 ? (n4.oldX = 0, n4.oldY = u6) : n4.oldShape = { x: l5, y: u6, width: 0, height: 0 };
            }
            n4.fadein = !s5;
          })(f4, u5)), i4[t9][b2] = u5;
        }
      })(i3, a2, s2, n2, o2, l2, t7, r3, e3, u3);
    }
    !(function t7(i4, n3, r3, e3, o3) {
      function a3(t8) {
        return t8.getId();
      }
      function s3(a4, s4) {
        var l3 = null != a4 ? i4[a4] : null, f3 = null != s4 ? n3[s4] : null, c3 = u2(l3, f3, r3, o3);
        c3 && t7(l3 && l3.viewChildren || [], f3 && f3.viewChildren || [], c3, e3, o3 + 1);
      }
      e3 ? (n3 = i4, kn(i4, (function(t8, i5) {
        !t8.isRemoved() && s3(i5, i5);
      }))) : new Mw(n3, i4, a3, a3).add(s3).update(s3).remove(Nn(s3, null)).execute();
    })(r2.root ? [r2.root] : [], e2 && e2.root ? [e2.root] : [], t6, r2 === e2 || !e2, 0);
    var f2 = (function(t7) {
      var i4 = { nodeGroup: [], background: [], content: [] };
      return t7 && kn(t7, (function(t8, n3) {
        var r3 = i4[n3];
        kn(t8, (function(t9) {
          t9 && (r3.push(t9), B_(t9).willDelete = true);
        }));
      })), i4;
    })(s2);
    if (this._oldTree = r2, this._storage = a2, this._controllerHost) {
      var c2 = this.seriesModel.layoutInfo, h2 = r2.root.getLayout();
      h2.width === c2.width && h2.height === c2.height && (this._controllerHost.zoom = 1);
    }
    return { lastsForAnimation: o2, willDeleteEls: f2, renderFinally: function() {
      kn(f2, (function(t7) {
        kn(t7, (function(t8) {
          t8.parent && t8.parent.remove(t8);
        }));
      })), kn(l2, (function(t7) {
        t7.invisible = true, t7.dirty();
      }));
    } };
  }, i2.prototype._doAnimation = function(t6, i3, n2, r2) {
    var e2 = n2.get("animationDurationUpdate"), o2 = n2.get("animationEasing"), a2 = (Tn(e2) ? 0 : e2) || 0, s2 = (Tn(o2) ? null : o2) || "cubicOut", l2 = new D_();
    kn(i3.willDeleteEls, (function(t7, i4) {
      kn(t7, (function(t8) {
        if (!t8.invisible) {
          var n3, e3 = t8.parent, o3 = B_(e3);
          if (r2 && "drillDown" === r2.direction) n3 = e3 === r2.rootNodeGroup ? { shape: { x: 0, y: 0, width: o3.nodeWidth, height: o3.nodeHeight }, style: { opacity: 0 } } : { style: { opacity: 0 } };
          else {
            var u2 = 0, f2 = 0;
            o3.willDelete || (u2 = o3.nodeWidth / 2, f2 = o3.nodeHeight / 2), n3 = "nodeGroup" === i4 ? { x: u2, y: f2, style: { opacity: 0 } } : { shape: { x: u2, y: f2, width: 0, height: 0 }, style: { opacity: 0 } };
          }
          n3 && l2.add(t8, n3, a2, 0, s2);
        }
      }));
    })), kn(this._storage, (function(t7, n3) {
      kn(t7, (function(t8, r3) {
        var e3 = i3.lastsForAnimation[n3][r3], o3 = {};
        e3 && (t8 instanceof rs ? null != e3.oldX && (o3.x = t8.x, o3.y = t8.y, t8.x = e3.oldX, t8.y = e3.oldY) : (e3.oldShape && (o3.shape = bn({}, t8.shape), t8.setShape(e3.oldShape)), e3.fadein ? (t8.setStyle("opacity", 0), o3.style = { opacity: 1 }) : 1 !== t8.style.opacity && (o3.style = { opacity: 1 })), l2.add(t8, o3, a2, 0, s2));
      }));
    }), this), this._state = "animating", l2.finished(An((function() {
      this._state = "ready", i3.renderFinally();
    }), this)).start();
  }, i2.prototype._resetController = function(t6) {
    var i3 = this._controller, n2 = this._controllerHost;
    n2 || (this._controllerHost = { target: this.group }, n2 = this._controllerHost), i3 || ((i3 = this._controller = new yA(t6.getZr())).enable(this.seriesModel.get("roam")), n2.zoomLimit = this.seriesModel.get("scaleLimit"), n2.zoom = this.seriesModel.get("zoom"), i3.on("pan", An(this._onPan, this)), i3.on("zoom", An(this._onZoom, this)));
    var r2 = new ce(0, 0, t6.getWidth(), t6.getHeight());
    i3.setPointerChecker((function(t7, i4, n3) {
      return r2.contain(i4, n3);
    }));
  }, i2.prototype._clearController = function() {
    var t6 = this._controller;
    this._controllerHost = null, t6 && (t6.dispose(), t6 = null);
  }, i2.prototype._onPan = function(t6) {
    if ("animating" !== this._state && (Math.abs(t6.dx) > 3 || Math.abs(t6.dy) > 3)) {
      var i3 = this.seriesModel.getData().tree.root;
      if (!i3) return;
      var n2 = i3.getLayout();
      if (!n2) return;
      this.api.dispatchAction({ type: "treemapMove", from: this.uid, seriesId: this.seriesModel.id, rootRect: { x: n2.x + t6.dx, y: n2.y + t6.dy, width: n2.width, height: n2.height } });
    }
  }, i2.prototype._onZoom = function(t6) {
    var i3 = t6.originX, n2 = t6.originY, r2 = t6.scale;
    if ("animating" !== this._state) {
      var e2 = this.seriesModel.getData().tree.root;
      if (!e2) return;
      var o2 = e2.getLayout();
      if (!o2) return;
      var a2, s2 = new ce(o2.x, o2.y, o2.width, o2.height), l2 = this._controllerHost;
      a2 = l2.zoomLimit;
      var u2 = l2.zoom = l2.zoom || 1;
      if (u2 *= r2, a2) {
        var f2 = a2.min || 0;
        u2 = Math.max(Math.min(a2.max || 1 / 0, u2), f2);
      }
      var c2 = u2 / l2.zoom;
      l2.zoom = u2;
      var h2 = this.seriesModel.layoutInfo, v2 = [1, 0, 0, 1, 0, 0];
      Kr(v2, v2, [-(i3 -= h2.x), -(n2 -= h2.y)]), te(v2, v2, [c2, c2]), Kr(v2, v2, [i3, n2]), s2.applyTransform(v2), this.api.dispatchAction({ type: "treemapRender", from: this.uid, seriesId: this.seriesModel.id, rootRect: { x: s2.x, y: s2.y, width: s2.width, height: s2.height } });
    }
  }, i2.prototype._initEvents = function(t6) {
    var i3 = this;
    t6.on("click", (function(t7) {
      if ("ready" === i3._state) {
        var n2 = i3.seriesModel.get("nodeClick", true);
        if (n2) {
          var r2 = i3.findTarget(t7.offsetX, t7.offsetY);
          if (r2) {
            var e2 = r2.node;
            if (e2.getLayout().isLeafRoot) i3._rootToNode(r2);
            else if ("zoomToNode" === n2) i3._zoomToNode(r2);
            else if ("link" === n2) {
              var o2 = e2.hostTree.data.getItemModel(e2.dataIndex), a2 = o2.get("link", true), s2 = o2.get("target", true) || "blank";
              a2 && kd(a2, s2);
            }
          }
        }
      }
    }), this);
  }, i2.prototype._renderBreadcrumb = function(t6, i3, n2) {
    var r2 = this;
    n2 || (n2 = null != t6.get("leafDepth", true) ? { node: t6.getViewRoot() } : this.findTarget(i3.getWidth() / 2, i3.getHeight() / 2)) || (n2 = { node: t6.getData().tree.root }), (this._breadcrumb || (this._breadcrumb = new T_(this.group))).render(t6, i3, n2.node, (function(i4) {
      "animating" !== r2._state && (w_(t6.getViewRoot(), i4) ? r2._rootToNode({ node: i4 }) : r2._zoomToNode({ node: i4 }));
    }));
  }, i2.prototype.remove = function() {
    this._clearController(), this._containerGroup && this._containerGroup.removeAll(), this._storage = { nodeGroup: [], background: [], content: [] }, this._state = "ready", this._breadcrumb && this._breadcrumb.remove();
  }, i2.prototype.dispose = function() {
    this._clearController();
  }, i2.prototype._zoomToNode = function(t6) {
    this.api.dispatchAction({ type: "treemapZoomToNode", from: this.uid, seriesId: this.seriesModel.id, targetNode: t6.node });
  }, i2.prototype._rootToNode = function(t6) {
    this.api.dispatchAction({ type: "treemapRootToNode", from: this.uid, seriesId: this.seriesModel.id, targetNode: t6.node });
  }, i2.prototype.findTarget = function(t6, i3) {
    var n2;
    return this.seriesModel.getViewRoot().eachNode({ attr: "viewChildren", order: "preorder" }, (function(r2) {
      var e2 = this._storage.background[r2.getRawIndex()];
      if (e2) {
        var o2 = e2.transformCoordToLocal(t6, i3), a2 = e2.shape;
        if (!(a2.x <= o2[0] && o2[0] <= a2.x + a2.width && a2.y <= o2[1] && o2[1] <= a2.y + a2.height)) return false;
        n2 = { node: r2, offsetX: o2[0], offsetY: o2[1] };
      }
    }), this), n2;
  }, i2.type = "treemap", i2;
})(Sb), j_ = kn, H_ = Wn, Y_ = (function() {
  function t5(i2) {
    var n2 = i2.mappingMethod, r2 = i2.type, e2 = this.option = dn(i2);
    this.type = r2, this.mappingMethod = n2, this._normalizeData = tT[n2];
    var o2 = t5.visualHandlers[r2];
    this.applyVisual = o2.applyVisual, this.getColorMapper = o2.getColorMapper, this._normalizedToVisual = o2._normalizedToVisual[n2], "piecewise" === n2 ? (X_(e2), (function(t6) {
      var i3 = t6.pieceList;
      t6.hasSpecialVisual = false, kn(i3, (function(i4, n3) {
        i4.originIndex = n3, null != i4.visual && (t6.hasSpecialVisual = true);
      }));
    })(e2)) : "category" === n2 ? e2.categories ? (function(t6) {
      var i3 = t6.categories, n3 = t6.categoryMap = {}, r3 = t6.visual;
      if (j_(i3, (function(t7, i4) {
        n3[t7] = i4;
      })), !_n(r3)) {
        var e3 = [];
        Wn(r3) ? j_(r3, (function(t7, i4) {
          var r4 = n3[i4];
          e3[null != r4 ? r4 : -1] = t7;
        })) : e3[-1] = r3, r3 = Q_(t6, e3);
      }
      for (var o3 = i3.length - 1; o3 >= 0; o3--) null == r3[o3] && (delete n3[i3[o3]], i3.pop());
    })(e2) : X_(e2, true) : (Xn("linear" !== n2 || e2.dataExtent), X_(e2));
  }
  return t5.prototype.mapValueToVisual = function(t6) {
    var i2 = this._normalizeData(t6);
    return this._normalizedToVisual(i2, t6);
  }, t5.prototype.getNormalizer = function() {
    return An(this._normalizeData, this);
  }, t5.listVisualTypes = function() {
    return Cn(t5.visualHandlers);
  }, t5.isValidType = function(i2) {
    return t5.visualHandlers.hasOwnProperty(i2);
  }, t5.eachVisual = function(t6, i2, n2) {
    Wn(t6) ? kn(t6, i2, n2) : i2.call(n2, t6);
  }, t5.mapVisual = function(i2, n2, r2) {
    var e2, o2 = _n(i2) ? [] : Wn(i2) ? {} : (e2 = true, null);
    return t5.eachVisual(i2, (function(t6, i3) {
      var a2 = n2.call(r2, t6, i3);
      e2 ? o2 = a2 : o2[i3] = a2;
    })), o2;
  }, t5.retrieveVisuals = function(i2) {
    var n2, r2 = {};
    return i2 && j_(t5.visualHandlers, (function(t6, e2) {
      i2.hasOwnProperty(e2) && (r2[e2] = i2[e2], n2 = true);
    })), n2 ? r2 : null;
  }, t5.prepareVisualTypes = function(t6) {
    if (_n(t6)) t6 = t6.slice();
    else {
      if (!H_(t6)) return [];
      var i2 = [];
      j_(t6, (function(t7, n2) {
        i2.push(n2);
      })), t6 = i2;
    }
    return t6.sort((function(t7, i3) {
      return "color" === i3 && "color" !== t7 && 0 === t7.indexOf("color") ? 1 : -1;
    })), t6;
  }, t5.dependsOn = function(t6, i2) {
    return "color" === i2 ? !(!t6 || 0 !== t6.indexOf(i2)) : t6 === i2;
  }, t5.findPieceIndex = function(t6, i2, n2) {
    for (var r2, e2 = 1 / 0, o2 = 0, a2 = i2.length; o2 < a2; o2++) {
      var s2 = i2[o2].value;
      if (null != s2) {
        if (s2 === t6 || In(s2) && s2 === t6 + "") return o2;
        n2 && c2(s2, o2);
      }
    }
    for (o2 = 0, a2 = i2.length; o2 < a2; o2++) {
      var l2 = i2[o2], u2 = l2.interval, f2 = l2.close;
      if (u2) {
        if (u2[0] === -1 / 0) {
          if (iT(f2[1], t6, u2[1])) return o2;
        } else if (u2[1] === 1 / 0) {
          if (iT(f2[0], u2[0], t6)) return o2;
        } else if (iT(f2[0], u2[0], t6) && iT(f2[1], t6, u2[1])) return o2;
        n2 && c2(u2[0], o2), n2 && c2(u2[1], o2);
      }
    }
    if (n2) return t6 === 1 / 0 ? i2.length - 1 : t6 === -1 / 0 ? 0 : r2;
    function c2(i3, n3) {
      var o3 = Math.abs(i3 - t6);
      o3 < e2 && (e2 = o3, r2 = n3);
    }
  }, t5.visualHandlers = { color: { applyVisual: G_("color"), getColorMapper: function() {
    var t6 = this.option;
    return An("category" === t6.mappingMethod ? function(t7, i2) {
      return !i2 && (t7 = this._normalizeData(t7)), Z_.call(this, t7);
    } : function(i2, n2, r2) {
      var e2 = !!r2;
      return !n2 && (i2 = this._normalizeData(i2)), r2 = zo(i2, t6.parsedVisual, r2), e2 ? r2 : Ao(r2, "rgba");
    }, this);
  }, _normalizedToVisual: { linear: function(t6) {
    return Ao(zo(t6, this.option.parsedVisual), "rgba");
  }, category: Z_, piecewise: function(t6, i2) {
    var n2 = K_.call(this, i2);
    return null == n2 && (n2 = Ao(zo(t6, this.option.parsedVisual), "rgba")), n2;
  }, fixed: q_ } }, colorHue: U_((function(t6, i2) {
    return So(t6, i2);
  })), colorSaturation: U_((function(t6, i2) {
    return So(t6, null, i2);
  })), colorLightness: U_((function(t6, i2) {
    return So(t6, null, null, i2);
  })), colorAlpha: U_((function(t6, i2) {
    return Co(t6, i2);
  })), decal: { applyVisual: G_("decal"), _normalizedToVisual: { linear: null, category: Z_, piecewise: null, fixed: null } }, opacity: { applyVisual: G_("opacity"), _normalizedToVisual: J_([0, 1]) }, liftZ: { applyVisual: G_("liftZ"), _normalizedToVisual: { linear: q_, category: q_, piecewise: q_, fixed: q_ } }, symbol: { applyVisual: function(t6, i2, n2) {
    n2("symbol", this.mapValueToVisual(t6));
  }, _normalizedToVisual: { linear: $_, category: Z_, piecewise: function(t6, i2) {
    var n2 = K_.call(this, i2);
    return null == n2 && (n2 = $_.call(this, t6)), n2;
  }, fixed: q_ } }, symbolSize: { applyVisual: G_("symbolSize"), _normalizedToVisual: J_([0, 1]) } }, t5;
})();
function X_(t5, i2) {
  var n2 = t5.visual, r2 = [];
  Wn(n2) ? j_(n2, (function(t6) {
    r2.push(t6);
  })) : null != n2 && r2.push(n2), i2 || 1 !== r2.length || { color: 1, symbol: 1 }.hasOwnProperty(t5.type) || (r2[1] = r2[0]), Q_(t5, r2);
}
function U_(t5) {
  return { applyVisual: function(i2, n2, r2) {
    var e2 = this.mapValueToVisual(i2);
    r2("color", t5(n2("color"), e2));
  }, _normalizedToVisual: J_([0, 1]) };
}
function $_(t5) {
  var i2 = this.option.visual;
  return i2[Math.round(ls(t5, [0, 1], [0, i2.length - 1], true))] || {};
}
function G_(t5) {
  return function(i2, n2, r2) {
    r2(t5, this.mapValueToVisual(i2));
  };
}
function Z_(t5) {
  var i2 = this.option.visual;
  return i2[this.option.loop && -1 !== t5 ? t5 % i2.length : t5];
}
function q_() {
  return this.option.visual[0];
}
function J_(t5) {
  return { linear: function(i2) {
    return ls(i2, t5, this.option.visual, true);
  }, category: Z_, piecewise: function(i2, n2) {
    var r2 = K_.call(this, n2);
    return null == r2 && (r2 = ls(i2, t5, this.option.visual, true)), r2;
  }, fixed: q_ };
}
function K_(t5) {
  var i2 = this.option, n2 = i2.pieceList;
  if (i2.hasSpecialVisual) {
    var r2 = n2[Y_.findPieceIndex(t5, n2)];
    if (r2 && r2.visual) return r2.visual[this.type];
  }
}
function Q_(t5, i2) {
  return t5.visual = i2, "color" === t5.type && (t5.parsedVisual = Mn(i2, (function(t6) {
    return xo(t6) || [0, 0, 0, 1];
  }))), i2;
}
var tT = { linear: function(t5) {
  return ls(t5, this.option.dataExtent, [0, 1], true);
}, piecewise: function(t5) {
  var i2 = this.option.pieceList, n2 = Y_.findPieceIndex(t5, i2, true);
  if (null != n2) return ls(n2, [0, i2.length - 1], [0, 1], true);
}, category: function(t5) {
  var i2 = this.option.categories ? this.option.categoryMap[t5] : t5;
  return null == i2 ? -1 : i2;
}, fixed: er };
function iT(t5, i2, n2) {
  return t5 ? i2 <= n2 : i2 < n2;
}
var nT = Xs(), rT = { seriesType: "treemap", reset: function(t5) {
  var i2 = t5.getData().tree.root;
  i2.isRemoved() || eT(i2, {}, t5.getViewRoot().getAncestors(), t5);
} };
function eT(t5, i2, n2, r2) {
  var e2 = t5.getModel(), o2 = t5.getLayout(), a2 = t5.hostTree.data;
  if (o2 && !o2.invisible && o2.isInView) {
    var s2, l2 = e2.getModel("itemStyle"), u2 = (function(t6, i3, n3) {
      var r3 = bn({}, i3), e3 = n3.designatedVisualItemStyle;
      return kn(["color", "colorAlpha", "colorSaturation"], (function(n4) {
        e3[n4] = i3[n4];
        var o3 = t6.get(n4);
        e3[n4] = null, null != o3 && (r3[n4] = o3);
      })), r3;
    })(l2, i2, r2), f2 = a2.ensureUniqueItemVisual(t5.dataIndex, "style"), c2 = l2.get("borderColor"), h2 = l2.get("borderColorSaturation");
    null != h2 && (c2 = (function(t6, i3) {
      return null != i3 ? So(i3, null, null, t6) : null;
    })(h2, s2 = oT(u2))), f2.stroke = c2;
    var v2 = t5.viewChildren;
    if (v2 && v2.length) {
      var d2 = (function(t6, i3, n3, r3, e3, o3) {
        if (o3 && o3.length) {
          var a3 = sT(i3, "color") || null != e3.color && "none" !== e3.color && (sT(i3, "colorAlpha") || sT(i3, "colorSaturation"));
          if (a3) {
            var s3 = i3.get("visualMin"), l3 = i3.get("visualMax"), u3 = n3.dataExtent.slice();
            null != s3 && s3 < u3[0] && (u3[0] = s3), null != l3 && l3 > u3[1] && (u3[1] = l3);
            var f3 = i3.get("colorMappingBy"), c3 = { type: a3.name, dataExtent: u3, visual: a3.range };
            "color" !== c3.type || "index" !== f3 && "id" !== f3 ? c3.mappingMethod = "linear" : (c3.mappingMethod = "category", c3.loop = true);
            var h3 = new Y_(c3);
            return nT(h3).drColorMappingBy = f3, h3;
          }
        }
      })(0, e2, o2, 0, u2, v2);
      kn(v2, (function(t6, i3) {
        if (t6.depth >= n2.length || t6 === n2[t6.depth]) {
          var o3 = (function(t7, i4, n3, r3, e3, o4) {
            var a3 = bn({}, i4);
            if (e3) {
              var s3 = e3.type, l3 = "color" === s3 && nT(e3).drColorMappingBy, u3 = "index" === l3 ? r3 : "id" === l3 ? o4.mapIdToIndex(n3.getId()) : n3.getValue(t7.get("visualDimension"));
              a3[s3] = e3.mapValueToVisual(u3);
            }
            return a3;
          })(e2, u2, t6, i3, d2, r2);
          eT(t6, o3, n2, r2);
        }
      }));
    } else s2 = oT(u2), f2.fill = s2;
  }
}
function oT(t5) {
  var i2 = aT(t5, "color");
  if (i2) {
    var n2 = aT(t5, "colorAlpha"), r2 = aT(t5, "colorSaturation");
    return r2 && (i2 = So(i2, null, null, r2)), n2 && (i2 = Co(i2, n2)), i2;
  }
}
function aT(t5, i2) {
  var n2 = t5[i2];
  if (null != n2 && "none" !== n2) return n2;
}
function sT(t5, i2) {
  var n2 = t5.get(i2);
  return _n(n2) && n2.length ? { name: i2, range: n2 } : null;
}
var lT = Math.max, uT = Math.min, fT = Bn, cT = kn, hT = ["itemStyle", "borderWidth"], vT = ["itemStyle", "gapWidth"], dT = ["upperLabel", "show"], pT = ["upperLabel", "height"], mT = { seriesType: "treemap", reset: function(t5, i2, n2, r2) {
  var e2 = n2.getWidth(), o2 = n2.getHeight(), a2 = t5.option, s2 = Nd(t5.getBoxLayoutParams(), { width: n2.getWidth(), height: n2.getHeight() }), l2 = a2.size || [], u2 = us(fT(s2.width, l2[0]), e2), f2 = us(fT(s2.height, l2[1]), o2), c2 = r2 && r2.type, h2 = g_(r2, ["treemapZoomToNode", "treemapRootToNode"], t5), v2 = "treemapRender" === c2 || "treemapMove" === c2 ? r2.rootRect : null, d2 = t5.getViewRoot(), p2 = y_(d2);
  if ("treemapMove" !== c2) {
    var m2 = "treemapZoomToNode" === c2 ? (function(t6, i3, n3, r3, e3) {
      var o3, a3 = (i3 || {}).node, s3 = [r3, e3];
      if (!a3 || a3 === n3) return s3;
      for (var l3 = r3 * e3, u3 = l3 * t6.option.zoomToNodeRatio; o3 = a3.parentNode; ) {
        for (var f3 = 0, c3 = o3.children, h3 = 0, v3 = c3.length; h3 < v3; h3++) f3 += c3[h3].getValue();
        var d3 = a3.getValue();
        if (0 === d3) return s3;
        u3 *= f3 / d3;
        var p3 = o3.getModel(), m3 = p3.get(hT);
        (u3 += 4 * m3 * m3 + (3 * m3 + Math.max(m3, xT(p3))) * Math.pow(u3, 0.5)) > ps && (u3 = ps), a3 = o3;
      }
      u3 < l3 && (u3 = l3);
      var b3 = Math.pow(u3 / l3, 0.5);
      return [r3 * b3, e3 * b3];
    })(t5, h2, d2, u2, f2) : v2 ? [v2.width, v2.height] : [u2, f2], b2 = a2.sort;
    b2 && "asc" !== b2 && "desc" !== b2 && (b2 = "desc");
    var g3 = { squareRatio: a2.squareRatio, sort: b2, leafDepth: a2.leafDepth };
    d2.hostTree.clearLayouts();
    var y2 = { x: 0, y: 0, width: m2[0], height: m2[1], area: m2[0] * m2[1] };
    d2.setLayout(y2), bT(d2, g3, false, 0), y2 = d2.getLayout(), cT(p2, (function(t6, i3) {
      var n3 = (p2[i3 + 1] || d2).getValue();
      t6.setLayout(bn({ dataExtent: [n3, n3], borderWidth: 0, upperHeight: 0 }, y2));
    }));
  }
  var w3 = t5.getData().tree.root;
  w3.setLayout((function(t6, i3, n3) {
    if (i3) return { x: i3.x, y: i3.y };
    var r3 = { x: 0, y: 0 };
    if (!n3) return r3;
    var e3 = n3.node, o3 = e3.getLayout();
    if (!o3) return r3;
    for (var a3 = [o3.width / 2, o3.height / 2], s3 = e3; s3; ) {
      var l3 = s3.getLayout();
      a3[0] += l3.x, a3[1] += l3.y, s3 = s3.parentNode;
    }
    return { x: t6.width / 2 - a3[0], y: t6.height / 2 - a3[1] };
  })(s2, v2, h2), true), t5.setLayoutInfo(s2), wT(w3, new ce(-s2.x, -s2.y, e2, o2), p2, d2, 0);
} };
function bT(t5, i2, n2, r2) {
  var e2, o2;
  if (!t5.isRemoved()) {
    var a2 = t5.getLayout();
    e2 = a2.width, o2 = a2.height;
    var s2 = t5.getModel(), l2 = s2.get(hT), u2 = s2.get(vT) / 2, f2 = xT(s2), c2 = Math.max(l2, f2), h2 = l2 - u2, v2 = c2 - u2;
    t5.setLayout({ borderWidth: l2, upperHeight: c2, upperLabelHeight: f2 }, true);
    var d2 = (e2 = lT(e2 - 2 * h2, 0)) * (o2 = lT(o2 - h2 - v2, 0)), p2 = (function(t6, i3, n3, r3, e3, o3) {
      var a3 = t6.children || [], s3 = r3.sort;
      "asc" !== s3 && "desc" !== s3 && (s3 = null);
      var l3 = null != r3.leafDepth && r3.leafDepth <= o3;
      if (e3 && !l3) return t6.viewChildren = [];
      a3 = Sn(a3, (function(t7) {
        return !t7.isRemoved();
      })), (function(t7, i4) {
        i4 && t7.sort((function(t8, n4) {
          var r4 = "asc" === i4 ? t8.getValue() - n4.getValue() : n4.getValue() - t8.getValue();
          return 0 === r4 ? "asc" === i4 ? t8.dataIndex - n4.dataIndex : n4.dataIndex - t8.dataIndex : r4;
        }));
      })(a3, s3);
      var u3 = (function(t7, i4, n4) {
        for (var r4 = 0, e4 = 0, o4 = i4.length; e4 < o4; e4++) r4 += i4[e4].getValue();
        var a4, s4 = t7.get("visualDimension");
        return i4 && i4.length ? "value" === s4 && n4 ? (a4 = [i4[i4.length - 1].getValue(), i4[0].getValue()], "asc" === n4 && a4.reverse()) : (a4 = [1 / 0, -1 / 0], cT(i4, (function(t8) {
          var i5 = t8.getValue(s4);
          i5 < a4[0] && (a4[0] = i5), i5 > a4[1] && (a4[1] = i5);
        }))) : a4 = [NaN, NaN], { sum: r4, dataExtent: a4 };
      })(i3, a3, s3);
      if (0 === u3.sum) return t6.viewChildren = [];
      if (u3.sum = (function(t7, i4, n4, r4, e4) {
        if (!r4) return n4;
        for (var o4 = t7.get("visibleMin"), a4 = e4.length, s4 = a4, l4 = a4 - 1; l4 >= 0; l4--) {
          var u4 = e4["asc" === r4 ? a4 - l4 - 1 : l4].getValue();
          u4 / n4 * i4 < o4 && (s4 = l4, n4 -= u4);
        }
        return e4.splice("asc" === r4 ? 0 : s4, a4 - s4), n4;
      })(i3, n3, u3.sum, s3, a3), 0 === u3.sum) return t6.viewChildren = [];
      for (var f3 = 0, c3 = a3.length; f3 < c3; f3++) {
        var h3 = a3[f3].getValue() / u3.sum * n3;
        a3[f3].setLayout({ area: h3 });
      }
      return l3 && (a3.length && t6.setLayout({ isLeafRoot: true }, true), a3.length = 0), t6.viewChildren = a3, t6.setLayout({ dataExtent: u3.dataExtent }, true), a3;
    })(t5, s2, d2, i2, n2, r2);
    if (p2.length) {
      var m2 = { x: h2, y: v2, width: e2, height: o2 }, b2 = uT(e2, o2), g3 = 1 / 0, y2 = [];
      y2.area = 0;
      for (var w3 = 0, x2 = p2.length; w3 < x2; ) {
        var k2 = p2[w3];
        y2.push(k2), y2.area += k2.getLayout().area;
        var M2 = gT(y2, b2, i2.squareRatio);
        M2 <= g3 ? (w3++, g3 = M2) : (y2.area -= y2.pop().getLayout().area, yT(y2, b2, m2, u2, false), b2 = uT(m2.width, m2.height), y2.length = y2.area = 0, g3 = 1 / 0);
      }
      if (y2.length && yT(y2, b2, m2, u2, true), !n2) {
        var z2 = s2.get("childrenVisibleMin");
        null != z2 && d2 < z2 && (n2 = true);
      }
      for (w3 = 0, x2 = p2.length; w3 < x2; w3++) bT(p2[w3], i2, n2, r2 + 1);
    }
  }
}
function gT(t5, i2, n2) {
  for (var r2 = 0, e2 = 1 / 0, o2 = 0, a2 = void 0, s2 = t5.length; o2 < s2; o2++) (a2 = t5[o2].getLayout().area) && (a2 < e2 && (e2 = a2), a2 > r2 && (r2 = a2));
  var l2 = t5.area * t5.area, u2 = i2 * i2 * n2;
  return l2 ? lT(u2 * r2 / l2, l2 / (u2 * e2)) : 1 / 0;
}
function yT(t5, i2, n2, r2, e2) {
  var o2 = i2 === n2.width ? 0 : 1, a2 = 1 - o2, s2 = ["x", "y"], l2 = ["width", "height"], u2 = n2[s2[o2]], f2 = i2 ? t5.area / i2 : 0;
  (e2 || f2 > n2[l2[a2]]) && (f2 = n2[l2[a2]]);
  for (var c2 = 0, h2 = t5.length; c2 < h2; c2++) {
    var v2 = t5[c2], d2 = {}, p2 = f2 ? v2.getLayout().area / f2 : 0, m2 = d2[l2[a2]] = lT(f2 - 2 * r2, 0), b2 = n2[s2[o2]] + n2[l2[o2]] - u2, g3 = c2 === h2 - 1 || b2 < p2 ? b2 : p2, y2 = d2[l2[o2]] = lT(g3 - 2 * r2, 0);
    d2[s2[a2]] = n2[s2[a2]] + uT(r2, m2 / 2), d2[s2[o2]] = u2 + uT(r2, y2 / 2), u2 += g3, v2.setLayout(d2, true);
  }
  n2[s2[a2]] += f2, n2[l2[a2]] -= f2;
}
function wT(t5, i2, n2, r2, e2) {
  var o2 = t5.getLayout(), a2 = n2[e2], s2 = a2 && a2 === t5;
  if (!(a2 && !s2 || e2 === n2.length && t5 !== r2)) {
    t5.setLayout({ isInView: true, invisible: !s2 && !i2.intersect(o2), isAboveViewRoot: s2 }, true);
    var l2 = new ce(i2.x - o2.x, i2.y - o2.y, i2.width, i2.height);
    cT(t5.viewChildren || [], (function(t6) {
      wT(t6, l2, n2, r2, e2 + 1);
    }));
  }
}
function xT(t5) {
  return t5.get(dT) ? t5.get(pT) : 0;
}
function kT(t5) {
  var i2 = t5.findComponents({ mainType: "legend" });
  i2 && i2.length && t5.eachSeriesByType("graph", (function(t6) {
    var n2 = t6.getCategoriesData(), r2 = t6.getGraph().data, e2 = n2.mapArray(n2.getName);
    r2.filterSelf((function(t7) {
      var n3 = r2.getItemModel(t7).getShallow("category");
      if (null != n3) {
        Dn(n3) && (n3 = e2[n3]);
        for (var o2 = 0; o2 < i2.length; o2++) if (!i2[o2].isSelected(n3)) return false;
      }
      return true;
    }));
  }));
}
function MT(t5) {
  var i2 = {};
  t5.eachSeriesByType("graph", (function(t6) {
    var n2 = t6.getCategoriesData(), r2 = t6.getData(), e2 = {};
    n2.each((function(r3) {
      var o2 = n2.getName(r3);
      e2["ec-" + o2] = r3;
      var a2 = n2.getItemModel(r3), s2 = a2.getModel("itemStyle").getItemStyle();
      s2.fill || (s2.fill = t6.getColorFromPalette(o2, i2)), n2.setItemVisual(r3, "style", s2);
      for (var l2 = ["symbol", "symbolSize", "symbolKeepAspect"], u2 = 0; u2 < l2.length; u2++) {
        var f2 = a2.getShallow(l2[u2], true);
        null != f2 && n2.setItemVisual(r3, l2[u2], f2);
      }
    })), n2.count() && r2.each((function(t7) {
      var i3 = r2.getItemModel(t7).getShallow("category");
      if (null != i3) {
        In(i3) && (i3 = e2["ec-" + i3]);
        var o2 = n2.getItemVisual(i3, "style");
        bn(r2.ensureUniqueItemVisual(t7, "style"), o2);
        for (var a2 = ["symbol", "symbolSize", "symbolKeepAspect"], s2 = 0; s2 < a2.length; s2++) r2.setItemVisual(t7, a2[s2], n2.getItemVisual(i3, a2[s2]));
      }
    }));
  }));
}
function zT(t5) {
  return t5 instanceof Array || (t5 = [t5, t5]), t5;
}
function ST(t5) {
  t5.eachSeriesByType("graph", (function(t6) {
    var i2 = t6.getGraph(), n2 = t6.getEdgeData(), r2 = zT(t6.get("edgeSymbol")), e2 = zT(t6.get("edgeSymbolSize"));
    n2.setVisual("fromSymbol", r2 && r2[0]), n2.setVisual("toSymbol", r2 && r2[1]), n2.setVisual("fromSymbolSize", e2 && e2[0]), n2.setVisual("toSymbolSize", e2 && e2[1]), n2.setVisual("style", t6.getModel("lineStyle").getLineStyle()), n2.each((function(t7) {
      var r3 = n2.getItemModel(t7), e3 = i2.getEdgeByIndex(t7), o2 = zT(r3.getShallow("symbol", true)), a2 = zT(r3.getShallow("symbolSize", true)), s2 = r3.getModel("lineStyle").getLineStyle(), l2 = n2.ensureUniqueItemVisual(t7, "style");
      switch (bn(l2, s2), l2.stroke) {
        case "source":
          var u2 = e3.node1.getVisual("style");
          l2.stroke = u2 && u2.fill;
          break;
        case "target":
          u2 = e3.node2.getVisual("style"), l2.stroke = u2 && u2.fill;
      }
      o2[0] && e3.setVisual("fromSymbol", o2[0]), o2[1] && e3.setVisual("toSymbol", o2[1]), a2[0] && e3.setVisual("fromSymbolSize", a2[0]), a2[1] && e3.setVisual("toSymbolSize", a2[1]);
    }));
  }));
}
var CT = "-->", AT = function(t5) {
  return t5.get("autoCurveness") || null;
}, NT = function(t5, i2) {
  var n2 = AT(t5), r2 = 20, e2 = [];
  if (Dn(n2)) r2 = n2;
  else if (_n(n2)) return void (t5.__curvenessList = n2);
  i2 > r2 && (r2 = i2);
  var o2 = r2 % 2 ? r2 + 2 : r2 + 3;
  e2 = [];
  for (var a2 = 0; a2 < o2; a2++) e2.push((a2 % 2 ? a2 + 1 : a2) / 10 * (a2 % 2 ? -1 : 1));
  t5.__curvenessList = e2;
}, _T = function(t5, i2, n2) {
  var r2 = [t5.id, t5.dataIndex].join("."), e2 = [i2.id, i2.dataIndex].join(".");
  return [n2.uid, r2, e2].join(CT);
}, TT = function(t5) {
  var i2 = t5.split(CT);
  return [i2[0], i2[2], i2[1]].join(CT);
}, IT = function(t5, i2) {
  var n2 = i2.__edgeMap;
  return n2[t5] ? n2[t5].length : 0;
};
function LT(t5, i2, n2, r2) {
  var e2 = AT(i2), o2 = _n(e2);
  if (!e2) return null;
  var a2 = (function(t6, i3) {
    var n3 = _T(t6.node1, t6.node2, i3);
    return i3.__edgeMap[n3];
  })(t5, i2);
  if (!a2) return null;
  for (var s2 = -1, l2 = 0; l2 < a2.length; l2++) if (a2[l2] === n2) {
    s2 = l2;
    break;
  }
  var u2 = (function(t6, i3) {
    return IT(_T(t6.node1, t6.node2, i3), i3) + IT(_T(t6.node2, t6.node1, i3), i3);
  })(t5, i2);
  NT(i2, u2), t5.lineStyle = t5.lineStyle || {};
  var f2 = _T(t5.node1, t5.node2, i2), c2 = i2.__curvenessList, h2 = o2 || u2 % 2 ? 0 : 1;
  if (a2.isForward) return c2[h2 + s2];
  var v2 = TT(f2), d2 = IT(v2, i2), p2 = c2[s2 + d2 + h2];
  return r2 ? o2 ? e2 && 0 === e2[0] ? (d2 + h2) % 2 ? p2 : -p2 : ((d2 % 2 ? 0 : 1) + h2) % 2 ? p2 : -p2 : (d2 + h2) % 2 ? p2 : -p2 : c2[s2 + d2 + h2];
}
function DT(t5) {
  var i2 = t5.coordinateSystem;
  if (!i2 || "view" === i2.type) {
    var n2 = t5.getGraph();
    n2.eachNode((function(t6) {
      var i3 = t6.getModel();
      t6.setLayout([+i3.get("x"), +i3.get("y")]);
    })), WT(n2, t5);
  }
}
function WT(t5, i2) {
  t5.eachEdge((function(t6, n2) {
    var r2 = jn(t6.getModel().get(["lineStyle", "curveness"]), -LT(t6, i2, n2, true), 0), e2 = lr(t6.node1.getLayout()), o2 = lr(t6.node2.getLayout()), a2 = [e2, o2];
    +r2 && a2.push([(e2[0] + o2[0]) / 2 - (e2[1] - o2[1]) * r2, (e2[1] + o2[1]) / 2 - (o2[0] - e2[0]) * r2]), t6.setLayout(a2);
  }));
}
function ET(t5) {
  t5.eachSeriesByType("graph", (function(t6) {
    var i2 = t6.get("layout"), n2 = t6.coordinateSystem;
    if (n2 && "view" !== n2.type) {
      var r2 = t6.getData(), e2 = [];
      kn(n2.dimensions, (function(t7) {
        e2 = e2.concat(r2.mapDimensionsAll(t7));
      }));
      for (var o2 = 0; o2 < r2.count(); o2++) {
        for (var a2 = [], s2 = false, l2 = 0; l2 < e2.length; l2++) {
          var u2 = r2.get(e2[l2], o2);
          isNaN(u2) || (s2 = true), a2.push(u2);
        }
        r2.setItemLayout(o2, s2 ? n2.dataToPoint(a2) : [NaN, NaN]);
      }
      WT(r2.graph, t6);
    } else i2 && "none" !== i2 || DT(t6);
  }));
}
function OT(t5) {
  var i2 = t5.coordinateSystem;
  if ("view" !== i2.type) return 1;
  var n2 = t5.option.nodeScaleRatio, r2 = i2.scaleX;
  return ((i2.getZoom() - 1) * n2 + 1) / r2;
}
function FT(t5) {
  var i2 = t5.getVisual("symbolSize");
  return i2 instanceof Array && (i2 = (i2[0] + i2[1]) / 2), +i2;
}
var RT = Math.PI, PT = [];
function BT(t5, i2, n2, r2) {
  var e2 = t5.coordinateSystem;
  if (!e2 || "view" === e2.type) {
    var o2 = e2.getBoundingRect(), a2 = t5.getData(), s2 = a2.graph, l2 = o2.width / 2 + o2.x, u2 = o2.height / 2 + o2.y, f2 = Math.min(o2.width, o2.height) / 2, c2 = a2.count();
    if (a2.setLayout({ cx: l2, cy: u2 }), c2) {
      if (n2) {
        var h2 = e2.pointToData(r2), v2 = [h2[0] - l2, h2[1] - u2];
        pr(v2, v2), dr(v2, v2, f2), n2.setLayout([l2 + v2[0], u2 + v2[1]], true), jT(n2, t5.get(["circular", "rotateLabel"]), l2, u2);
      }
      VT[i2](t5, s2, a2, f2, l2, u2, c2), s2.eachEdge((function(i3, n3) {
        var r3, e3 = jn(i3.getModel().get(["lineStyle", "curveness"]), LT(i3, t5, n3), 0), o3 = lr(i3.node1.getLayout()), a3 = lr(i3.node2.getLayout());
        +e3 && (r3 = [l2 * (e3 *= 3) + (o3[0] + a3[0]) / 2 * (1 - e3), u2 * e3 + (o3[1] + a3[1]) / 2 * (1 - e3)]), i3.setLayout([o3, a3, r3]);
      }));
    }
  }
}
var VT = { value: function(t5, i2, n2, r2, e2, o2, a2) {
  var s2 = 0, l2 = n2.getSum("value"), u2 = 2 * Math.PI / (l2 || a2);
  i2.eachNode((function(t6) {
    var i3 = t6.getValue("value"), n3 = u2 * (l2 ? i3 : 1) / 2;
    s2 += n3, t6.setLayout([r2 * Math.cos(s2) + e2, r2 * Math.sin(s2) + o2]), s2 += n3;
  }));
}, symbolSize: function(t5, i2, n2, r2, e2, o2, a2) {
  var s2 = 0;
  PT.length = a2;
  var l2 = OT(t5);
  i2.eachNode((function(t6) {
    var i3 = FT(t6);
    isNaN(i3) && (i3 = 2), i3 < 0 && (i3 = 0), i3 *= l2;
    var n3 = Math.asin(i3 / 2 / r2);
    isNaN(n3) && (n3 = RT / 2), PT[t6.dataIndex] = n3, s2 += 2 * n3;
  }));
  var u2 = (2 * RT - s2) / a2 / 2, f2 = 0;
  i2.eachNode((function(t6) {
    var i3 = u2 + PT[t6.dataIndex];
    f2 += i3, (!t6.getLayout() || !t6.getLayout().fixed) && t6.setLayout([r2 * Math.cos(f2) + e2, r2 * Math.sin(f2) + o2]), f2 += i3;
  }));
} };
function jT(t5, i2, n2, r2) {
  var e2 = t5.getGraphicEl();
  if (e2) {
    var o2 = t5.getModel().get(["label", "rotate"]) || 0, a2 = e2.getSymbolPath();
    if (i2) {
      var s2 = t5.getLayout(), l2 = Math.atan2(s2[1] - r2, s2[0] - n2);
      l2 < 0 && (l2 = 2 * Math.PI + l2);
      var u2 = s2[0] < n2;
      u2 && (l2 -= Math.PI);
      var f2 = u2 ? "left" : "right";
      a2.setTextConfig({ rotation: -l2, position: f2, origin: "center" });
      var c2 = a2.ensureState("emphasis");
      bn(c2.textConfig || (c2.textConfig = {}), { position: f2 });
    } else a2.setTextConfig({ rotation: o2 *= Math.PI / 180 });
  }
}
function HT(t5) {
  t5.eachSeriesByType("graph", (function(t6) {
    "circular" === t6.get("layout") && BT(t6, "symbolSize");
  }));
}
var YT = cr;
function XT(t5) {
  t5.eachSeriesByType("graph", (function(t6) {
    var i2 = t6.coordinateSystem;
    if (!i2 || "view" === i2.type) if ("force" === t6.get("layout")) {
      var n2 = t6.preservedPoints || {}, r2 = t6.getGraph(), e2 = r2.data, o2 = r2.edgeData, a2 = t6.getModel("force"), s2 = a2.get("initLayout");
      t6.preservedPoints ? e2.each((function(t7) {
        var i3 = e2.getId(t7);
        e2.setItemLayout(t7, n2[i3] || [NaN, NaN]);
      })) : s2 && "none" !== s2 ? "circular" === s2 && BT(t6, "value") : DT(t6);
      var l2 = e2.getDataExtent("value"), u2 = o2.getDataExtent("value"), f2 = a2.get("repulsion"), c2 = a2.get("edgeLength"), h2 = _n(f2) ? f2 : [f2, f2], v2 = _n(c2) ? c2 : [c2, c2];
      v2 = [v2[1], v2[0]];
      var d2 = e2.mapArray("value", (function(t7, i3) {
        var n3 = e2.getItemLayout(i3), r3 = ls(t7, l2, h2);
        return isNaN(r3) && (r3 = (h2[0] + h2[1]) / 2), { w: r3, rep: r3, fixed: e2.getItemModel(i3).get("fixed"), p: !n3 || isNaN(n3[0]) || isNaN(n3[1]) ? null : n3 };
      })), p2 = o2.mapArray("value", (function(i3, n3) {
        var e3 = r2.getEdgeByIndex(n3), o3 = ls(i3, u2, v2);
        isNaN(o3) && (o3 = (v2[0] + v2[1]) / 2);
        var a3 = e3.getModel(), s3 = jn(e3.getModel().get(["lineStyle", "curveness"]), -LT(e3, t6, n3, true), 0);
        return { n1: d2[e3.node1.dataIndex], n2: d2[e3.node2.dataIndex], d: o3, curveness: s3, ignoreForceLayout: a3.get("ignoreForceLayout") };
      })), m2 = i2.getBoundingRect(), b2 = (function(t7, i3, n3) {
        for (var r3 = t7, e3 = i3, o3 = n3.rect, a3 = o3.width, s3 = o3.height, l3 = [o3.x + a3 / 2, o3.y + s3 / 2], u3 = null == n3.gravity ? 0.1 : n3.gravity, f3 = 0; f3 < r3.length; f3++) {
          var c3 = r3[f3];
          c3.p || (c3.p = ar(a3 * (Math.random() - 0.5) + l3[0], s3 * (Math.random() - 0.5) + l3[1])), c3.pp = lr(c3.p), c3.edges = null;
        }
        var h3, v3, d3 = null == n3.friction ? 0.6 : n3.friction, p3 = d3;
        return { warmUp: function() {
          p3 = 0.8 * d3;
        }, setFixed: function(t8) {
          r3[t8].fixed = true;
        }, setUnfixed: function(t8) {
          r3[t8].fixed = false;
        }, beforeStep: function(t8) {
          h3 = t8;
        }, afterStep: function(t8) {
          v3 = t8;
        }, step: function(t8) {
          h3 && h3(r3, e3);
          for (var i4 = [], n4 = r3.length, o4 = 0; o4 < e3.length; o4++) {
            var a4 = e3[o4];
            if (!a4.ignoreForceLayout) {
              hr(i4, (m3 = a4.n2).p, (c4 = a4.n1).p);
              var s4 = vr(i4) - a4.d, f4 = m3.w / (c4.w + m3.w);
              isNaN(f4) && (f4 = 0), pr(i4, i4), !c4.fixed && YT(c4.p, c4.p, i4, f4 * s4 * p3), !m3.fixed && YT(m3.p, m3.p, i4, -(1 - f4) * s4 * p3);
            }
          }
          for (o4 = 0; o4 < n4; o4++) (y2 = r3[o4]).fixed || (hr(i4, l3, y2.p), YT(y2.p, y2.p, i4, u3 * p3));
          for (o4 = 0; o4 < n4; o4++) for (var c4 = r3[o4], d4 = o4 + 1; d4 < n4; d4++) {
            var m3;
            hr(i4, (m3 = r3[d4]).p, c4.p), 0 === (s4 = vr(i4)) && (ur(i4, Math.random() - 0.5, Math.random() - 0.5), s4 = 1);
            var b3 = (c4.rep + m3.rep) / s4 / s4;
            !c4.fixed && YT(c4.pp, c4.pp, i4, b3), !m3.fixed && YT(m3.pp, m3.pp, i4, -b3);
          }
          var g3 = [];
          for (o4 = 0; o4 < n4; o4++) {
            var y2;
            (y2 = r3[o4]).fixed || (hr(g3, y2.p, y2.pp), YT(y2.p, y2.p, g3, p3), sr(y2.pp, y2.p));
          }
          var w3 = (p3 *= 0.992) < 0.01;
          v3 && v3(r3, e3, w3), t8 && t8(w3);
        } };
      })(d2, p2, { rect: m2, gravity: a2.get("gravity"), friction: a2.get("friction") });
      b2.beforeStep((function(t7) {
        for (var i3 = 0, n3 = t7.length; i3 < n3; i3++) t7[i3].fixed && sr(t7[i3].p, r2.getNodeByIndex(i3).getLayout());
      })), b2.afterStep((function(t7, i3) {
        for (var o3 = 0, a3 = t7.length; o3 < a3; o3++) t7[o3].fixed || r2.getNodeByIndex(o3).setLayout(t7[o3].p), n2[e2.getId(o3)] = t7[o3].p;
        for (o3 = 0, a3 = i3.length; o3 < a3; o3++) {
          var s3 = i3[o3], l3 = r2.getEdgeByIndex(o3), u3 = s3.n1.p, f3 = s3.n2.p, c3 = l3.getLayout();
          (c3 = c3 ? c3.slice() : [])[0] = c3[0] || [], c3[1] = c3[1] || [], sr(c3[0], u3), sr(c3[1], f3), +s3.curveness && (c3[2] = [(u3[0] + f3[0]) / 2 - (u3[1] - f3[1]) * s3.curveness, (u3[1] + f3[1]) / 2 - (f3[0] - u3[0]) * s3.curveness]), l3.setLayout(c3);
        }
      })), t6.forceLayout = b2, t6.preservedPoints = n2, b2.step();
    } else t6.forceLayout = null;
  }));
}
function UT(t5, i2) {
  var n2 = [];
  return t5.eachSeriesByType("graph", (function(t6) {
    var r2 = t6.get("coordinateSystem");
    if (!r2 || "view" === r2) {
      var e2 = t6.getData(), o2 = [], a2 = [];
      Ul(e2.mapArray((function(t7) {
        var i3 = e2.getItemModel(t7);
        return [+i3.get("x"), +i3.get("y")];
      })), o2, a2), a2[0] - o2[0] == 0 && (a2[0] += 1, o2[0] -= 1), a2[1] - o2[1] == 0 && (a2[1] += 1, o2[1] -= 1);
      var s2 = (a2[0] - o2[0]) / (a2[1] - o2[1]), l2 = (function(t7, i3, n3) {
        return Nd(bn(t7.getBoxLayoutParams(), { aspect: n3 }), { width: i3.getWidth(), height: i3.getHeight() });
      })(t6, i2, s2);
      isNaN(s2) && (o2 = [l2.x, l2.y], a2 = [l2.x + l2.width, l2.y + l2.height]);
      var u2 = a2[0] - o2[0], f2 = a2[1] - o2[1], c2 = l2.width, h2 = l2.height, v2 = t6.coordinateSystem = new NN();
      v2.zoomLimit = t6.get("scaleLimit"), v2.setBoundingRect(o2[0], o2[1], u2, f2), v2.setViewRect(l2.x, l2.y, c2, h2), v2.setCenter(t6.get("center"), i2), v2.setZoom(t6.get("zoom")), n2.push(v2);
    }
  })), n2;
}
var $T, GT = nh.prototype, ZT = ah.prototype, qT = function() {
  this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1;
};
function JT(t5) {
  return isNaN(+t5.cpx1) || isNaN(+t5.cpy1);
}
Yi((function() {
  return null !== $T && $T.apply(this, arguments) || this;
}), $T = qT);
var KT = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2.type = "ec-line", n2;
  }
  return Yi(i2, t5), i2.prototype.getDefaultStyle = function() {
    return { stroke: "#000", fill: null };
  }, i2.prototype.getDefaultShape = function() {
    return new qT();
  }, i2.prototype.buildPath = function(t6, i3) {
    JT(i3) ? GT.buildPath.call(this, t6, i3) : ZT.buildPath.call(this, t6, i3);
  }, i2.prototype.pointAt = function(t6) {
    return JT(this.shape) ? GT.pointAt.call(this, t6) : ZT.pointAt.call(this, t6);
  }, i2.prototype.tangentAt = function(t6) {
    var i3 = this.shape, n2 = JT(i3) ? [i3.x2 - i3.x1, i3.y2 - i3.y1] : ZT.tangentAt.call(this, t6);
    return pr(n2, n2);
  }, i2;
})(Fu), QT = ["fromSymbol", "toSymbol"];
function tI(t5) {
  return "_" + t5 + "Type";
}
function iI(t5, i2, n2) {
  var r2 = i2.getItemVisual(n2, t5);
  if (!r2 || "none" === r2) return r2;
  var e2 = i2.getItemVisual(n2, t5 + "Size"), o2 = i2.getItemVisual(n2, t5 + "Rotate"), a2 = i2.getItemVisual(n2, t5 + "Offset"), s2 = i2.getItemVisual(n2, t5 + "KeepAspect"), l2 = Rg(e2);
  return r2 + l2 + Pg(a2 || 0, l2) + (o2 || "") + (s2 || "");
}
function nI(t5, i2, n2) {
  var r2 = i2.getItemVisual(n2, t5);
  if (r2 && "none" !== r2) {
    var e2 = i2.getItemVisual(n2, t5 + "Size"), o2 = i2.getItemVisual(n2, t5 + "Rotate"), a2 = i2.getItemVisual(n2, t5 + "Offset"), s2 = i2.getItemVisual(n2, t5 + "KeepAspect"), l2 = Rg(e2), u2 = Pg(a2 || 0, l2), f2 = Fg(r2, -l2[0] / 2 + u2[0], -l2[1] / 2 + u2[1], l2[0], l2[1], null, s2);
    return f2.__specifiedRotation = null == o2 || isNaN(o2) ? void 0 : +o2 * Math.PI / 180 || 0, f2.name = t5, f2;
  }
}
function rI(t5, i2) {
  t5.x1 = i2[0][0], t5.y1 = i2[0][1], t5.x2 = i2[1][0], t5.y2 = i2[1][1], t5.percent = 1;
  var n2 = i2[2];
  n2 ? (t5.cpx1 = n2[0], t5.cpy1 = n2[1]) : (t5.cpx1 = NaN, t5.cpy1 = NaN);
}
var eI = (function(t5) {
  function i2(i3, n2, r2) {
    var e2 = t5.call(this) || this;
    return e2._createLine(i3, n2, r2), e2;
  }
  return Yi(i2, t5), i2.prototype._createLine = function(t6, i3, n2) {
    var r2 = t6.hostModel, e2 = (function(t7) {
      var i4 = new KT({ name: "line", subPixelOptimize: true });
      return rI(i4.shape, t7), i4;
    })(t6.getItemLayout(i3));
    e2.shape.percent = 0, zh(e2, { shape: { percent: 1 } }, r2, i3), this.add(e2), kn(QT, (function(n3) {
      var r3 = nI(n3, t6, i3);
      this.add(r3), this[tI(n3)] = iI(n3, t6, i3);
    }), this), this._updateCommonStl(t6, i3, n2);
  }, i2.prototype.updateData = function(t6, i3, n2) {
    var r2 = t6.hostModel, e2 = this.childOfName("line"), o2 = t6.getItemLayout(i3), a2 = { shape: {} };
    rI(a2.shape, o2), Mh(e2, a2, r2, i3), kn(QT, (function(n3) {
      var r3 = iI(n3, t6, i3), e3 = tI(n3);
      if (this[e3] !== r3) {
        this.remove(this.childOfName(n3));
        var o3 = nI(n3, t6, i3);
        this.add(o3);
      }
      this[e3] = r3;
    }), this), this._updateCommonStl(t6, i3, n2);
  }, i2.prototype.getLinePath = function() {
    return this.childAt(0);
  }, i2.prototype._updateCommonStl = function(t6, i3, n2) {
    var r2 = t6.hostModel, e2 = this.childOfName("line"), o2 = n2 && n2.emphasisLineStyle, a2 = n2 && n2.blurLineStyle, s2 = n2 && n2.selectLineStyle, l2 = n2 && n2.labelStatesModels, u2 = n2 && n2.emphasisDisabled, f2 = n2 && n2.focus, c2 = n2 && n2.blurScope;
    if (!n2 || t6.hasItemOption) {
      var h2 = t6.getItemModel(i3), v2 = h2.getModel("emphasis");
      o2 = v2.getModel("lineStyle").getLineStyle(), a2 = h2.getModel(["blur", "lineStyle"]).getLineStyle(), s2 = h2.getModel(["select", "lineStyle"]).getLineStyle(), u2 = v2.get("disabled"), f2 = v2.get("focus"), c2 = v2.get("blurScope"), l2 = av(h2);
    }
    var d2 = t6.getItemVisual(i3, "style"), p2 = d2.stroke;
    e2.useStyle(d2), e2.style.fill = null, e2.style.strokeNoScale = true, e2.ensureState("emphasis").style = o2, e2.ensureState("blur").style = a2, e2.ensureState("select").style = s2, kn(QT, (function(t7) {
      var i4 = this.childOfName(t7);
      if (i4) {
        i4.setColor(p2), i4.style.opacity = d2.opacity;
        for (var n3 = 0; n3 < gf.length; n3++) {
          var r3 = gf[n3], o3 = e2.getState(r3);
          if (o3) {
            var a3 = o3.style || {}, s3 = i4.ensureState(r3), l3 = s3.style || (s3.style = {});
            null != a3.stroke && (l3[i4.__isEmptyBrush ? "stroke" : "fill"] = a3.stroke), null != a3.opacity && (l3.opacity = a3.opacity);
          }
        }
        i4.markRedraw();
      }
    }), this);
    var m2 = r2.getRawValue(i3);
    ov(this, l2, { labelDataIndex: i3, labelFetcher: { getFormattedLabel: function(i4, n3) {
      return r2.getFormattedLabel(i4, n3, t6.dataType);
    } }, inheritColor: p2 || "#000", defaultOpacity: d2.opacity, defaultText: (null == m2 ? t6.getName(i3) : isFinite(m2) ? fs(m2) : m2) + "" });
    var b2 = this.getTextContent();
    if (b2) {
      var g3 = l2.normal;
      b2.__align = b2.style.align, b2.__verticalAlign = b2.style.verticalAlign, b2.__position = g3.get("position") || "middle";
      var y2 = g3.get("distance");
      _n(y2) || (y2 = [y2, y2]), b2.__labelDistance = y2;
    }
    this.setTextConfig({ position: null, local: true, inside: false }), tc(this, f2, c2, u2);
  }, i2.prototype.highlight = function() {
    Bf(this);
  }, i2.prototype.downplay = function() {
    Vf(this);
  }, i2.prototype.updateLayout = function(t6, i3) {
    this.setLinePoints(t6.getItemLayout(i3));
  }, i2.prototype.setLinePoints = function(t6) {
    var i3 = this.childOfName("line");
    rI(i3.shape, t6), i3.dirty();
  }, i2.prototype.beforeUpdate = function() {
    var t6 = this, i3 = t6.childOfName("fromSymbol"), n2 = t6.childOfName("toSymbol"), r2 = t6.getTextContent();
    if (i3 || n2 || r2 && !r2.ignore) {
      for (var e2 = 1, o2 = this.parent; o2; ) o2.scaleX && (e2 /= o2.scaleX), o2 = o2.parent;
      var a2 = t6.childOfName("line");
      if (this.__dirty || a2.__dirty) {
        var s2 = a2.shape.percent, l2 = a2.pointAt(0), u2 = a2.pointAt(s2), f2 = hr([], u2, l2);
        if (pr(f2, f2), i3 && (i3.setPosition(l2), M2(i3, 0), i3.scaleX = i3.scaleY = e2 * s2, i3.markRedraw()), n2 && (n2.setPosition(u2), M2(n2, 1), n2.scaleX = n2.scaleY = e2 * s2, n2.markRedraw()), r2 && !r2.ignore) {
          r2.x = r2.y = 0, r2.originX = r2.originY = 0;
          var c2 = void 0, h2 = void 0, v2 = r2.__labelDistance, d2 = v2[0] * e2, p2 = v2[1] * e2, m2 = s2 / 2, b2 = a2.tangentAt(m2), g3 = [b2[1], -b2[0]], y2 = a2.pointAt(m2);
          g3[1] > 0 && (g3[0] = -g3[0], g3[1] = -g3[1]);
          var w3 = b2[0] < 0 ? -1 : 1;
          if ("start" !== r2.__position && "end" !== r2.__position) {
            var x2 = -Math.atan2(b2[1], b2[0]);
            u2[0] < l2[0] && (x2 = Math.PI + x2), r2.rotation = x2;
          }
          var k2 = void 0;
          switch (r2.__position) {
            case "insideStartTop":
            case "insideMiddleTop":
            case "insideEndTop":
            case "middle":
              k2 = -p2, h2 = "bottom";
              break;
            case "insideStartBottom":
            case "insideMiddleBottom":
            case "insideEndBottom":
              k2 = p2, h2 = "top";
              break;
            default:
              k2 = 0, h2 = "middle";
          }
          switch (r2.__position) {
            case "end":
              r2.x = f2[0] * d2 + u2[0], r2.y = f2[1] * p2 + u2[1], c2 = f2[0] > 0.8 ? "left" : f2[0] < -0.8 ? "right" : "center", h2 = f2[1] > 0.8 ? "top" : f2[1] < -0.8 ? "bottom" : "middle";
              break;
            case "start":
              r2.x = -f2[0] * d2 + l2[0], r2.y = -f2[1] * p2 + l2[1], c2 = f2[0] > 0.8 ? "right" : f2[0] < -0.8 ? "left" : "center", h2 = f2[1] > 0.8 ? "bottom" : f2[1] < -0.8 ? "top" : "middle";
              break;
            case "insideStartTop":
            case "insideStart":
            case "insideStartBottom":
              r2.x = d2 * w3 + l2[0], r2.y = l2[1] + k2, c2 = b2[0] < 0 ? "right" : "left", r2.originX = -d2 * w3, r2.originY = -k2;
              break;
            case "insideMiddleTop":
            case "insideMiddle":
            case "insideMiddleBottom":
            case "middle":
              r2.x = y2[0], r2.y = y2[1] + k2, c2 = "center", r2.originY = -k2;
              break;
            case "insideEndTop":
            case "insideEnd":
            case "insideEndBottom":
              r2.x = -d2 * w3 + u2[0], r2.y = u2[1] + k2, c2 = b2[0] >= 0 ? "right" : "left", r2.originX = d2 * w3, r2.originY = -k2;
          }
          r2.scaleX = r2.scaleY = e2, r2.setStyle({ verticalAlign: r2.__verticalAlign || h2, align: r2.__align || c2 });
        }
      }
    }
    function M2(t7, i4) {
      var n3 = t7.__specifiedRotation;
      if (null == n3) {
        var r3 = a2.tangentAt(i4);
        t7.attr("rotation", (1 === i4 ? -1 : 1) * Math.PI / 2 - Math.atan2(r3[1], r3[0]));
      } else t7.attr("rotation", n3);
    }
  }, i2;
})(rs), oI = (function() {
  function t5(t6) {
    this.group = new rs(), this._LineCtor = t6 || eI;
  }
  return t5.prototype.updateData = function(t6) {
    var i2 = this;
    this._progressiveEls = null;
    var n2 = this, r2 = n2.group, e2 = n2._lineData;
    n2._lineData = t6, e2 || r2.removeAll();
    var o2 = aI(t6);
    t6.diff(e2).add((function(n3) {
      i2._doAdd(t6, n3, o2);
    })).update((function(n3, r3) {
      i2._doUpdate(e2, t6, r3, n3, o2);
    })).remove((function(t7) {
      r2.remove(e2.getItemGraphicEl(t7));
    })).execute();
  }, t5.prototype.updateLayout = function() {
    var t6 = this._lineData;
    t6 && t6.eachItemGraphicEl((function(i2, n2) {
      i2.updateLayout(t6, n2);
    }), this);
  }, t5.prototype.incrementalPrepareUpdate = function(t6) {
    this._seriesScope = aI(t6), this._lineData = null, this.group.removeAll();
  }, t5.prototype.incrementalUpdate = function(t6, i2) {
    function n2(t7) {
      t7.isGroup || (function(t8) {
        return t8.animators && t8.animators.length > 0;
      })(t7) || (t7.incremental = true, t7.ensureState("emphasis").hoverLayer = true);
    }
    this._progressiveEls = [];
    for (var r2 = t6.start; r2 < t6.end; r2++) if (lI(i2.getItemLayout(r2))) {
      var e2 = new this._LineCtor(i2, r2, this._seriesScope);
      e2.traverse(n2), this.group.add(e2), i2.setItemGraphicEl(r2, e2), this._progressiveEls.push(e2);
    }
  }, t5.prototype.remove = function() {
    this.group.removeAll();
  }, t5.prototype.eachRendered = function(t6) {
    tv(this._progressiveEls || this.group, t6);
  }, t5.prototype._doAdd = function(t6, i2, n2) {
    if (lI(t6.getItemLayout(i2))) {
      var r2 = new this._LineCtor(t6, i2, n2);
      t6.setItemGraphicEl(i2, r2), this.group.add(r2);
    }
  }, t5.prototype._doUpdate = function(t6, i2, n2, r2, e2) {
    var o2 = t6.getItemGraphicEl(n2);
    lI(i2.getItemLayout(r2)) ? (o2 ? o2.updateData(i2, r2, e2) : o2 = new this._LineCtor(i2, r2, e2), i2.setItemGraphicEl(r2, o2), this.group.add(o2)) : this.group.remove(o2);
  }, t5;
})();
function aI(t5) {
  var i2 = t5.hostModel, n2 = i2.getModel("emphasis");
  return { lineStyle: i2.getModel("lineStyle").getLineStyle(), emphasisLineStyle: n2.getModel(["lineStyle"]).getLineStyle(), blurLineStyle: i2.getModel(["blur", "lineStyle"]).getLineStyle(), selectLineStyle: i2.getModel(["select", "lineStyle"]).getLineStyle(), emphasisDisabled: n2.get("disabled"), blurScope: n2.get("blurScope"), focus: n2.get("focus"), labelStatesModels: av(i2) };
}
function sI(t5) {
  return isNaN(t5[0]) || isNaN(t5[1]);
}
function lI(t5) {
  return t5 && !sI(t5[0]) && !sI(t5[1]);
}
var uI = [], fI = [], cI = [], hI = qe, vI = gr, dI = Math.abs;
function pI(t5, i2, n2) {
  for (var r2, e2 = t5[0], o2 = t5[1], a2 = t5[2], s2 = 1 / 0, l2 = n2 * n2, u2 = 0.1, f2 = 0.1; f2 <= 0.9; f2 += 0.1) uI[0] = hI(e2[0], o2[0], a2[0], f2), uI[1] = hI(e2[1], o2[1], a2[1], f2), (v2 = dI(vI(uI, i2) - l2)) < s2 && (s2 = v2, r2 = f2);
  for (var c2 = 0; c2 < 32; c2++) {
    var h2 = r2 + u2;
    fI[0] = hI(e2[0], o2[0], a2[0], r2), fI[1] = hI(e2[1], o2[1], a2[1], r2), cI[0] = hI(e2[0], o2[0], a2[0], h2), cI[1] = hI(e2[1], o2[1], a2[1], h2);
    var v2 = vI(fI, i2) - l2;
    if (dI(v2) < 0.01) break;
    var d2 = vI(cI, i2) - l2;
    u2 /= 2, v2 < 0 ? d2 >= 0 ? r2 += u2 : r2 -= u2 : d2 >= 0 ? r2 -= u2 : r2 += u2;
  }
  return r2;
}
function mI(t5, i2) {
  var n2 = [], r2 = Qe, e2 = [[], [], []], o2 = [[], []], a2 = [];
  i2 /= 2, t5.eachEdge((function(t6) {
    var s2 = t6.getLayout(), l2 = t6.getVisual("fromSymbol"), u2 = t6.getVisual("toSymbol");
    s2.__original || (s2.__original = [lr(s2[0]), lr(s2[1])], s2[2] && s2.__original.push(lr(s2[2])));
    var f2 = s2.__original;
    if (null != s2[2]) {
      if (sr(e2[0], f2[0]), sr(e2[1], f2[2]), sr(e2[2], f2[1]), l2 && "none" !== l2) {
        var c2 = FT(t6.node1), h2 = pI(e2, f2[0], c2 * i2);
        r2(e2[0][0], e2[1][0], e2[2][0], h2, n2), e2[0][0] = n2[3], e2[1][0] = n2[4], r2(e2[0][1], e2[1][1], e2[2][1], h2, n2), e2[0][1] = n2[3], e2[1][1] = n2[4];
      }
      u2 && "none" !== u2 && (c2 = FT(t6.node2), h2 = pI(e2, f2[1], c2 * i2), r2(e2[0][0], e2[1][0], e2[2][0], h2, n2), e2[1][0] = n2[1], e2[2][0] = n2[2], r2(e2[0][1], e2[1][1], e2[2][1], h2, n2), e2[1][1] = n2[1], e2[2][1] = n2[2]), sr(s2[0], e2[0]), sr(s2[1], e2[2]), sr(s2[2], e2[1]);
    } else sr(o2[0], f2[0]), sr(o2[1], f2[1]), hr(a2, o2[1], o2[0]), pr(a2, a2), l2 && "none" !== l2 && (c2 = FT(t6.node1), cr(o2[0], o2[0], a2, c2 * i2)), u2 && "none" !== u2 && (c2 = FT(t6.node2), cr(o2[1], o2[1], a2, -c2 * i2)), sr(s2[0], o2[0]), sr(s2[1], o2[1]);
  }));
}
function bI(t5) {
  return "view" === t5.type;
}
var gI = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3) {
    var n2 = new Vz(), r2 = new oI(), e2 = this.group;
    this._controller = new yA(i3.getZr()), this._controllerHost = { target: e2 }, e2.add(n2.group), e2.add(r2.group), this._symbolDraw = n2, this._lineDraw = r2, this._firstRender = true;
  }, i2.prototype.render = function(t6, i3, n2) {
    var r2 = this, e2 = t6.coordinateSystem;
    this._model = t6;
    var o2 = this._symbolDraw, a2 = this._lineDraw, s2 = this.group;
    if (bI(e2)) {
      var l2 = { x: e2.x, y: e2.y, scaleX: e2.scaleX, scaleY: e2.scaleY };
      this._firstRender ? s2.attr(l2) : Mh(s2, l2, t6);
    }
    mI(t6.getGraph(), OT(t6));
    var u2 = t6.getData();
    o2.updateData(u2);
    var f2 = t6.getEdgeData();
    a2.updateData(f2), this._updateNodeAndLinkScale(), this._updateController(t6, i3, n2), clearTimeout(this._layoutTimeout);
    var c2 = t6.forceLayout, h2 = t6.get(["force", "layoutAnimation"]);
    c2 && this._startForceLayoutIteration(c2, h2);
    var v2 = t6.get("layout");
    u2.graph.eachNode((function(i4) {
      var n3 = i4.dataIndex, e3 = i4.getGraphicEl(), o3 = i4.getModel();
      if (e3) {
        e3.off("drag").off("dragend");
        var a3 = o3.get("draggable");
        a3 && e3.on("drag", (function(o4) {
          switch (v2) {
            case "force":
              c2.warmUp(), !r2._layouting && r2._startForceLayoutIteration(c2, h2), c2.setFixed(n3), u2.setItemLayout(n3, [e3.x, e3.y]);
              break;
            case "circular":
              u2.setItemLayout(n3, [e3.x, e3.y]), i4.setLayout({ fixed: true }, true), BT(t6, "symbolSize", i4, [o4.offsetX, o4.offsetY]), r2.updateLayout(t6);
              break;
            default:
              u2.setItemLayout(n3, [e3.x, e3.y]), WT(t6.getGraph(), t6), r2.updateLayout(t6);
          }
        })).on("dragend", (function() {
          c2 && c2.setUnfixed(n3);
        })), e3.setDraggable(a3, !!o3.get("cursor")), "adjacency" === o3.get(["emphasis", "focus"]) && (hf(e3).focus = i4.getAdjacentDataIndices());
      }
    })), u2.graph.eachEdge((function(t7) {
      var i4 = t7.getGraphicEl(), n3 = t7.getModel().get(["emphasis", "focus"]);
      i4 && "adjacency" === n3 && (hf(i4).focus = { edge: [t7.dataIndex], node: [t7.node1.dataIndex, t7.node2.dataIndex] });
    }));
    var d2 = "circular" === t6.get("layout") && t6.get(["circular", "rotateLabel"]), p2 = u2.getLayout("cx"), m2 = u2.getLayout("cy");
    u2.graph.eachNode((function(t7) {
      jT(t7, d2, p2, m2);
    })), this._firstRender = false;
  }, i2.prototype.dispose = function() {
    this.remove(), this._controller && this._controller.dispose(), this._controllerHost = null;
  }, i2.prototype._startForceLayoutIteration = function(t6, i3) {
    var n2 = this;
    !(function r2() {
      t6.step((function(t7) {
        n2.updateLayout(n2._model), (n2._layouting = !t7) && (i3 ? n2._layoutTimeout = setTimeout(r2, 16) : r2());
      }));
    })();
  }, i2.prototype._updateController = function(t6, i3, n2) {
    var r2 = this, e2 = this._controller, o2 = this._controllerHost, a2 = this.group;
    e2.setPointerChecker((function(i4, r3, e3) {
      var o3 = a2.getBoundingRect();
      return o3.applyTransform(a2.transform), o3.contain(r3, e3) && !AA(i4, n2, t6);
    })), bI(t6.coordinateSystem) ? (e2.enable(t6.get("roam")), o2.zoomLimit = t6.get("scaleLimit"), o2.zoom = t6.coordinateSystem.getZoom(), e2.off("pan").off("zoom").on("pan", (function(i4) {
      MA(o2, i4.dx, i4.dy), n2.dispatchAction({ seriesId: t6.id, type: "graphRoam", dx: i4.dx, dy: i4.dy });
    })).on("zoom", (function(i4) {
      zA(o2, i4.scale, i4.originX, i4.originY), n2.dispatchAction({ seriesId: t6.id, type: "graphRoam", zoom: i4.scale, originX: i4.originX, originY: i4.originY }), r2._updateNodeAndLinkScale(), mI(t6.getGraph(), OT(t6)), r2._lineDraw.updateLayout(), n2.updateLabelLayout();
    }))) : e2.disable();
  }, i2.prototype._updateNodeAndLinkScale = function() {
    var t6 = this._model, i3 = t6.getData(), n2 = OT(t6);
    i3.eachItemGraphicEl((function(t7) {
      t7 && t7.setSymbolScale(n2);
    }));
  }, i2.prototype.updateLayout = function(t6) {
    mI(t6.getGraph(), OT(t6)), this._symbolDraw.updateLayout(), this._lineDraw.updateLayout();
  }, i2.prototype.remove = function() {
    clearTimeout(this._layoutTimeout), this._layouting = false, this._layoutTimeout = null, this._symbolDraw && this._symbolDraw.remove(), this._lineDraw && this._lineDraw.remove();
  }, i2.type = "graph", i2;
})(Sb);
function yI(t5) {
  return "_EC_" + t5;
}
var wI = (function() {
  function t5(t6) {
    this.type = "graph", this.nodes = [], this.edges = [], this._nodesMap = {}, this._edgesMap = {}, this._directed = t6 || false;
  }
  return t5.prototype.isDirected = function() {
    return this._directed;
  }, t5.prototype.addNode = function(t6, i2) {
    var n2 = this._nodesMap;
    if (!n2[yI(t6 = null == t6 ? "" + i2 : "" + t6)]) {
      var r2 = new xI(t6, i2);
      return r2.hostGraph = this, this.nodes.push(r2), n2[yI(t6)] = r2, r2;
    }
  }, t5.prototype.getNodeByIndex = function(t6) {
    var i2 = this.data.getRawIndex(t6);
    return this.nodes[i2];
  }, t5.prototype.getNodeById = function(t6) {
    return this._nodesMap[yI(t6)];
  }, t5.prototype.addEdge = function(t6, i2, n2) {
    var r2 = this._nodesMap, e2 = this._edgesMap;
    if (Dn(t6) && (t6 = this.nodes[t6]), Dn(i2) && (i2 = this.nodes[i2]), t6 instanceof xI || (t6 = r2[yI(t6)]), i2 instanceof xI || (i2 = r2[yI(i2)]), t6 && i2) {
      var o2 = t6.id + "-" + i2.id, a2 = new kI(t6, i2, n2);
      return a2.hostGraph = this, this._directed && (t6.outEdges.push(a2), i2.inEdges.push(a2)), t6.edges.push(a2), t6 !== i2 && i2.edges.push(a2), this.edges.push(a2), e2[o2] = a2, a2;
    }
  }, t5.prototype.getEdgeByIndex = function(t6) {
    var i2 = this.edgeData.getRawIndex(t6);
    return this.edges[i2];
  }, t5.prototype.getEdge = function(t6, i2) {
    t6 instanceof xI && (t6 = t6.id), i2 instanceof xI && (i2 = i2.id);
    var n2 = this._edgesMap;
    return this._directed ? n2[t6 + "-" + i2] : n2[t6 + "-" + i2] || n2[i2 + "-" + t6];
  }, t5.prototype.eachNode = function(t6, i2) {
    for (var n2 = this.nodes, r2 = n2.length, e2 = 0; e2 < r2; e2++) n2[e2].dataIndex >= 0 && t6.call(i2, n2[e2], e2);
  }, t5.prototype.eachEdge = function(t6, i2) {
    for (var n2 = this.edges, r2 = n2.length, e2 = 0; e2 < r2; e2++) n2[e2].dataIndex >= 0 && n2[e2].node1.dataIndex >= 0 && n2[e2].node2.dataIndex >= 0 && t6.call(i2, n2[e2], e2);
  }, t5.prototype.breadthFirstTraverse = function(t6, i2, n2, r2) {
    if (i2 instanceof xI || (i2 = this._nodesMap[yI(i2)]), i2) {
      for (var e2 = "out" === n2 ? "outEdges" : "in" === n2 ? "inEdges" : "edges", o2 = 0; o2 < this.nodes.length; o2++) this.nodes[o2].__visited = false;
      if (!t6.call(r2, i2, null)) for (var a2 = [i2]; a2.length; ) {
        var s2 = a2.shift(), l2 = s2[e2];
        for (o2 = 0; o2 < l2.length; o2++) {
          var u2 = l2[o2], f2 = u2.node1 === s2 ? u2.node2 : u2.node1;
          if (!f2.__visited) {
            if (t6.call(r2, f2, s2)) return;
            a2.push(f2), f2.__visited = true;
          }
        }
      }
    }
  }, t5.prototype.update = function() {
    for (var t6 = this.data, i2 = this.edgeData, n2 = this.nodes, r2 = this.edges, e2 = 0, o2 = n2.length; e2 < o2; e2++) n2[e2].dataIndex = -1;
    for (e2 = 0, o2 = t6.count(); e2 < o2; e2++) n2[t6.getRawIndex(e2)].dataIndex = e2;
    for (i2.filterSelf((function(t7) {
      var n3 = r2[i2.getRawIndex(t7)];
      return n3.node1.dataIndex >= 0 && n3.node2.dataIndex >= 0;
    })), e2 = 0, o2 = r2.length; e2 < o2; e2++) r2[e2].dataIndex = -1;
    for (e2 = 0, o2 = i2.count(); e2 < o2; e2++) r2[i2.getRawIndex(e2)].dataIndex = e2;
  }, t5.prototype.clone = function() {
    for (var i2 = new t5(this._directed), n2 = this.nodes, r2 = this.edges, e2 = 0; e2 < n2.length; e2++) i2.addNode(n2[e2].id, n2[e2].dataIndex);
    for (e2 = 0; e2 < r2.length; e2++) {
      var o2 = r2[e2];
      i2.addEdge(o2.node1.id, o2.node2.id, o2.dataIndex);
    }
    return i2;
  }, t5;
})(), xI = (function() {
  function t5(t6, i2) {
    this.inEdges = [], this.outEdges = [], this.edges = [], this.dataIndex = -1, this.id = null == t6 ? "" : t6, this.dataIndex = null == i2 ? -1 : i2;
  }
  return t5.prototype.degree = function() {
    return this.edges.length;
  }, t5.prototype.inDegree = function() {
    return this.inEdges.length;
  }, t5.prototype.outDegree = function() {
    return this.outEdges.length;
  }, t5.prototype.getModel = function(t6) {
    if (!(this.dataIndex < 0)) return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t6);
  }, t5.prototype.getAdjacentDataIndices = function() {
    for (var t6 = { edge: [], node: [] }, i2 = 0; i2 < this.edges.length; i2++) {
      var n2 = this.edges[i2];
      n2.dataIndex < 0 || (t6.edge.push(n2.dataIndex), t6.node.push(n2.node1.dataIndex, n2.node2.dataIndex));
    }
    return t6;
  }, t5.prototype.getTrajectoryDataIndices = function() {
    for (var t6 = Qn(), i2 = Qn(), n2 = 0; n2 < this.edges.length; n2++) {
      var r2 = this.edges[n2];
      if (!(r2.dataIndex < 0)) {
        t6.set(r2.dataIndex, true);
        for (var e2 = [r2.node1], o2 = [r2.node2], a2 = 0; a2 < e2.length; ) {
          var s2 = e2[a2];
          a2++, i2.set(s2.dataIndex, true);
          for (var l2 = 0; l2 < s2.inEdges.length; l2++) t6.set(s2.inEdges[l2].dataIndex, true), e2.push(s2.inEdges[l2].node1);
        }
        for (a2 = 0; a2 < o2.length; ) {
          var u2 = o2[a2];
          for (a2++, i2.set(u2.dataIndex, true), l2 = 0; l2 < u2.outEdges.length; l2++) t6.set(u2.outEdges[l2].dataIndex, true), o2.push(u2.outEdges[l2].node2);
        }
      }
    }
    return { edge: t6.keys(), node: i2.keys() };
  }, t5;
})(), kI = (function() {
  function t5(t6, i2, n2) {
    this.dataIndex = -1, this.node1 = t6, this.node2 = i2, this.dataIndex = null == n2 ? -1 : n2;
  }
  return t5.prototype.getModel = function(t6) {
    if (!(this.dataIndex < 0)) return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t6);
  }, t5.prototype.getAdjacentDataIndices = function() {
    return { edge: [this.dataIndex], node: [this.node1.dataIndex, this.node2.dataIndex] };
  }, t5.prototype.getTrajectoryDataIndices = function() {
    var t6 = Qn(), i2 = Qn();
    t6.set(this.dataIndex, true);
    for (var n2 = [this.node1], r2 = [this.node2], e2 = 0; e2 < n2.length; ) {
      var o2 = n2[e2];
      e2++, i2.set(o2.dataIndex, true);
      for (var a2 = 0; a2 < o2.inEdges.length; a2++) t6.set(o2.inEdges[a2].dataIndex, true), n2.push(o2.inEdges[a2].node1);
    }
    for (e2 = 0; e2 < r2.length; ) {
      var s2 = r2[e2];
      for (e2++, i2.set(s2.dataIndex, true), a2 = 0; a2 < s2.outEdges.length; a2++) t6.set(s2.outEdges[a2].dataIndex, true), r2.push(s2.outEdges[a2].node2);
    }
    return { edge: t6.keys(), node: i2.keys() };
  }, t5;
})();
function MI(t5, i2) {
  return { getValue: function(n2) {
    var r2 = this[t5][i2];
    return r2.getStore().get(r2.getDimensionIndex(n2 || "value"), this.dataIndex);
  }, setVisual: function(n2, r2) {
    this.dataIndex >= 0 && this[t5][i2].setItemVisual(this.dataIndex, n2, r2);
  }, getVisual: function(n2) {
    return this[t5][i2].getItemVisual(this.dataIndex, n2);
  }, setLayout: function(n2, r2) {
    this.dataIndex >= 0 && this[t5][i2].setItemLayout(this.dataIndex, n2, r2);
  }, getLayout: function() {
    return this[t5][i2].getItemLayout(this.dataIndex);
  }, getGraphicEl: function() {
    return this[t5][i2].getItemGraphicEl(this.dataIndex);
  }, getRawIndex: function() {
    return this[t5][i2].getRawIndex(this.dataIndex);
  } };
}
function zI(t5, i2, n2, r2, e2) {
  for (var o2 = new wI(r2), a2 = 0; a2 < t5.length; a2++) o2.addNode(Bn(t5[a2].id, t5[a2].name, a2), a2);
  var s2 = [], l2 = [], u2 = 0;
  for (a2 = 0; a2 < i2.length; a2++) {
    var f2 = i2[a2], c2 = f2.source, h2 = f2.target;
    o2.addEdge(c2, h2, u2) && (l2.push(f2), s2.push(Bn(Vs(f2.id, null), c2 + " > " + h2)), u2++);
  }
  var v2, d2 = n2.get("coordinateSystem");
  if ("cartesian2d" === d2 || "polar" === d2) v2 = ix(t5, n2);
  else {
    var p2 = bp.get(d2), m2 = p2 && p2.dimensions || [];
    yn(m2, "value") < 0 && m2.concat(["value"]);
    var b2 = Gw(t5, { coordDimensions: m2, encodeDefine: n2.getEncode() }).dimensions;
    (v2 = new $w(b2, n2)).initData(t5);
  }
  var g3 = new $w(["value"], n2);
  return g3.initData(l2, s2), e2 && e2(v2, g3), l_({ mainData: v2, struct: o2, structAttr: "graph", datas: { node: v2, edge: g3 }, datasAttr: { node: "data", edge: "edgeData" } }), o2.update(), o2;
}
wn(xI, MI("hostGraph", "data")), wn(kI, MI("hostGraph", "edgeData"));
var SI = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.hasSymbolVisual = true, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(i3) {
    t5.prototype.init.apply(this, arguments);
    var n2 = this;
    function r2() {
      return n2._categoriesData;
    }
    this.legendVisualProvider = new tC(r2, r2), this.fillDataTextStyle(i3.edges || i3.links), this._updateCategoriesData();
  }, i2.prototype.mergeOption = function(i3) {
    t5.prototype.mergeOption.apply(this, arguments), this.fillDataTextStyle(i3.edges || i3.links), this._updateCategoriesData();
  }, i2.prototype.mergeDefaultAndTheme = function(i3) {
    t5.prototype.mergeDefaultAndTheme.apply(this, arguments), Ws(i3, "edgeLabel", ["show"]);
  }, i2.prototype.getInitialData = function(t6) {
    var i3, n2 = t6.edges || t6.links || [], r2 = t6.data || t6.nodes || [], e2 = this;
    if (r2 && n2) {
      AT(i3 = this) && (i3.__curvenessList = [], i3.__edgeMap = {}, NT(i3));
      var o2 = zI(r2, n2, this, true, (function(t7, i4) {
        t7.wrapMethod("getItemModel", (function(t8) {
          var i5 = e2._categoriesModels[t8.getShallow("category")];
          return i5 && (i5.parentModel = t8.parentModel, t8.parentModel = i5), t8;
        }));
        var n3 = _v.prototype.getModel;
        function r3(t8, i5) {
          var r4 = n3.call(this, t8, i5);
          return r4.resolveParentPath = o3, r4;
        }
        function o3(t8) {
          if (t8 && ("label" === t8[0] || "label" === t8[1])) {
            var i5 = t8.slice();
            return "label" === t8[0] ? i5[0] = "edgeLabel" : "label" === t8[1] && (i5[1] = "edgeLabel"), i5;
          }
          return t8;
        }
        i4.wrapMethod("getItemModel", (function(t8) {
          return t8.resolveParentPath = o3, t8.getModel = r3, t8;
        }));
      }));
      return kn(o2.edges, (function(t7) {
        !(function(t8, i4, n3, r3) {
          if (AT(n3)) {
            var e3 = _T(t8, i4, n3), o3 = n3.__edgeMap, a2 = o3[TT(e3)];
            o3[e3] && !a2 ? o3[e3].isForward = true : a2 && o3[e3] && (a2.isForward = true, o3[e3].isForward = false), o3[e3] = o3[e3] || [], o3[e3].push(r3);
          }
        })(t7.node1, t7.node2, this, t7.dataIndex);
      }), this), o2.data;
    }
  }, i2.prototype.getGraph = function() {
    return this.getData().graph;
  }, i2.prototype.getEdgeData = function() {
    return this.getGraph().edgeData;
  }, i2.prototype.getCategoriesData = function() {
    return this._categoriesData;
  }, i2.prototype.formatTooltip = function(t6, i3, n2) {
    if ("edge" === n2) {
      var r2 = this.getData(), e2 = this.getDataParams(t6, n2), o2 = r2.graph.getEdgeByIndex(t6), a2 = r2.getName(o2.node1.dataIndex), s2 = r2.getName(o2.node2.dataIndex), l2 = [];
      return null != a2 && l2.push(a2), null != s2 && l2.push(s2), Jm("nameValue", { name: l2.join(" > "), value: e2.value, noValue: null == e2.value });
    }
    return ub({ series: this, dataIndex: t6, multipleSeries: i3 });
  }, i2.prototype._updateCategoriesData = function() {
    var t6 = Mn(this.option.categories || [], (function(t7) {
      return null != t7.value ? t7 : bn({ value: 0 }, t7);
    })), i3 = new $w(["value"], this);
    i3.initData(t6), this._categoriesData = i3, this._categoriesModels = i3.mapArray((function(t7) {
      return i3.getItemModel(t7);
    }));
  }, i2.prototype.setZoom = function(t6) {
    this.option.zoom = t6;
  }, i2.prototype.setCenter = function(t6) {
    this.option.center = t6;
  }, i2.prototype.isAnimationEnabled = function() {
    return t5.prototype.isAnimationEnabled.call(this) && !("force" === this.get("layout") && this.get(["force", "layoutAnimation"]));
  }, i2.type = "series.graph", i2.dependencies = ["grid", "polar", "geo", "singleAxis", "calendar"], i2.defaultOption = { z: 2, coordinateSystem: "view", legendHoverLink: true, layout: null, circular: { rotateLabel: false }, force: { initLayout: null, repulsion: [0, 50], gravity: 0.1, friction: 0.6, edgeLength: 30, layoutAnimation: true }, left: "center", top: "center", symbol: "circle", symbolSize: 10, edgeSymbol: ["none", "none"], edgeSymbolSize: 10, edgeLabel: { position: "middle", distance: 5 }, draggable: false, roam: false, center: null, zoom: 1, nodeScaleRatio: 0.6, label: { show: false, formatter: "{b}" }, itemStyle: {}, lineStyle: { color: "#aaa", width: 1, opacity: 0.5 }, emphasis: { scale: true, label: { show: true } }, select: { itemStyle: { borderColor: "#212121" } } }, i2;
})(vb), CI = { type: "graphRoam", event: "graphRoam", update: "none" }, AI = function() {
  this.angle = 0, this.width = 10, this.r = 10, this.x = 0, this.y = 0;
}, NI = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2.type = "pointer", n2;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new AI();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = Math.cos, r2 = Math.sin, e2 = i3.r, o2 = i3.width, a2 = i3.angle, s2 = i3.x - n2(a2) * o2 * (o2 >= e2 / 3 ? 1 : 2), l2 = i3.y - r2(a2) * o2 * (o2 >= e2 / 3 ? 1 : 2);
    a2 = i3.angle - Math.PI / 2, t6.moveTo(s2, l2), t6.lineTo(i3.x + n2(a2) * o2, i3.y + r2(a2) * o2), t6.lineTo(i3.x + n2(i3.angle) * e2, i3.y + r2(i3.angle) * e2), t6.lineTo(i3.x - n2(a2) * o2, i3.y - r2(a2) * o2), t6.lineTo(s2, l2);
  }, i2;
})(Fu);
function _I(t5, i2) {
  var n2 = null == t5 ? "" : t5 + "";
  return i2 && (In(i2) ? n2 = i2.replace("{value}", n2) : Tn(i2) && (n2 = i2(t5))), n2;
}
var TI = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    this.group.removeAll();
    var r2 = t6.get(["axisLine", "lineStyle", "color"]), e2 = (function(t7, i4) {
      var n3 = t7.get("center"), r3 = i4.getWidth(), e3 = i4.getHeight(), o2 = Math.min(r3, e3);
      return { cx: us(n3[0], i4.getWidth()), cy: us(n3[1], i4.getHeight()), r: us(t7.get("radius"), o2 / 2) };
    })(t6, n2);
    this._renderMain(t6, i3, n2, r2, e2), this._data = t6.getData();
  }, i2.prototype.dispose = function() {
  }, i2.prototype._renderMain = function(t6, i3, n2, r2, e2) {
    var o2 = this.group, a2 = t6.get("clockwise"), s2 = -t6.get("startAngle") / 180 * Math.PI, l2 = -t6.get("endAngle") / 180 * Math.PI, u2 = t6.getModel("axisLine"), f2 = u2.get("roundCap") ? gS : Uc, c2 = u2.get("show"), h2 = u2.getModel("lineStyle"), v2 = h2.get("width"), d2 = [s2, l2];
    mu(d2, !a2);
    for (var p2 = (l2 = d2[1]) - (s2 = d2[0]), m2 = s2, b2 = [], g3 = 0; c2 && g3 < r2.length; g3++) {
      var y2 = new f2({ shape: { startAngle: m2, endAngle: l2 = s2 + p2 * Math.min(Math.max(r2[g3][0], 0), 1), cx: e2.cx, cy: e2.cy, clockwise: a2, r0: e2.r - v2, r: e2.r }, silent: true });
      y2.setStyle({ fill: r2[g3][1] }), y2.setStyle(h2.getLineStyle(["color", "width"])), b2.push(y2), m2 = l2;
    }
    b2.reverse(), kn(b2, (function(t7) {
      return o2.add(t7);
    }));
    var w3 = function(t7) {
      if (t7 <= 0) return r2[0][1];
      var i4;
      for (i4 = 0; i4 < r2.length; i4++) if (r2[i4][0] >= t7 && (0 === i4 ? 0 : r2[i4 - 1][0]) < t7) return r2[i4][1];
      return r2[i4 - 1][1];
    };
    this._renderTicks(t6, i3, n2, w3, e2, s2, l2, a2, v2), this._renderTitleAndDetail(t6, i3, n2, w3, e2), this._renderAnchor(t6, e2), this._renderPointer(t6, i3, n2, w3, e2, s2, l2, a2, v2);
  }, i2.prototype._renderTicks = function(t6, i3, n2, r2, e2, o2, a2, s2, l2) {
    for (var u2, f2, c2 = this.group, h2 = e2.cx, v2 = e2.cy, d2 = e2.r, p2 = +t6.get("min"), m2 = +t6.get("max"), b2 = t6.getModel("splitLine"), g3 = t6.getModel("axisTick"), y2 = t6.getModel("axisLabel"), w3 = t6.get("splitNumber"), x2 = g3.get("splitNumber"), k2 = us(b2.get("length"), d2), M2 = us(g3.get("length"), d2), z2 = o2, S3 = (a2 - o2) / w3, C3 = S3 / x2, A3 = b2.getModel("lineStyle").getLineStyle(), N2 = g3.getModel("lineStyle").getLineStyle(), _2 = b2.get("distance"), T4 = 0; T4 <= w3; T4++) {
      if (u2 = Math.cos(z2), f2 = Math.sin(z2), b2.get("show")) {
        var I2 = new nh({ shape: { x1: u2 * (d2 - (L2 = _2 ? _2 + l2 : l2)) + h2, y1: f2 * (d2 - L2) + v2, x2: u2 * (d2 - k2 - L2) + h2, y2: f2 * (d2 - k2 - L2) + v2 }, style: A3, silent: true });
        "auto" === A3.stroke && I2.setStyle({ stroke: r2(T4 / w3) }), c2.add(I2);
      }
      if (y2.get("show")) {
        var L2 = y2.get("distance") + _2, D2 = _I(fs(T4 / w3 * (m2 - p2) + p2), y2.get("formatter")), W3 = r2(T4 / w3), E3 = u2 * (d2 - k2 - L2) + h2, O3 = f2 * (d2 - k2 - L2) + v2, F3 = y2.get("rotate"), R2 = 0;
        "radial" === F3 ? (R2 = -z2 + 2 * Math.PI) > Math.PI / 2 && (R2 += Math.PI) : "tangential" === F3 ? R2 = -z2 - Math.PI / 2 : Dn(F3) && (R2 = F3 * Math.PI / 180), c2.add(new Ku(0 === R2 ? { style: sv(y2, { text: D2, x: E3, y: O3, verticalAlign: f2 < -0.8 ? "top" : f2 > 0.8 ? "bottom" : "middle", align: u2 < -0.4 ? "left" : u2 > 0.4 ? "right" : "center" }, { inheritColor: W3 }), silent: true } : { style: sv(y2, { text: D2, x: E3, y: O3, verticalAlign: "middle", align: "center" }, { inheritColor: W3 }), silent: true, originX: E3, originY: O3, rotation: R2 }));
      }
      if (g3.get("show") && T4 !== w3) {
        L2 = (L2 = g3.get("distance")) ? L2 + l2 : l2;
        for (var P2 = 0; P2 <= x2; P2++) {
          u2 = Math.cos(z2), f2 = Math.sin(z2);
          var B3 = new nh({ shape: { x1: u2 * (d2 - L2) + h2, y1: f2 * (d2 - L2) + v2, x2: u2 * (d2 - M2 - L2) + h2, y2: f2 * (d2 - M2 - L2) + v2 }, silent: true, style: N2 });
          "auto" === N2.stroke && B3.setStyle({ stroke: r2((T4 + P2 / x2) / w3) }), c2.add(B3), z2 += C3;
        }
        z2 -= C3;
      } else z2 += S3;
    }
  }, i2.prototype._renderPointer = function(t6, i3, n2, r2, e2, o2, a2, s2, l2) {
    var u2 = this.group, f2 = this._data, c2 = this._progressEls, h2 = [], v2 = t6.get(["pointer", "show"]), d2 = t6.getModel("progress"), p2 = d2.get("show"), m2 = t6.getData(), b2 = m2.mapDimension("value"), g3 = +t6.get("min"), y2 = +t6.get("max"), w3 = [g3, y2], x2 = [o2, a2];
    function k2(i4, n3) {
      var r3, o3 = m2.getItemModel(i4).getModel("pointer"), a3 = us(o3.get("width"), e2.r), s3 = us(o3.get("length"), e2.r), l3 = t6.get(["pointer", "icon"]), u3 = o3.get("offsetCenter"), f3 = us(u3[0], e2.r), c3 = us(u3[1], e2.r), h3 = o3.get("keepAspect");
      return (r3 = l3 ? Fg(l3, f3 - a3 / 2, c3 - s3, a3, s3, null, h3) : new NI({ shape: { angle: -Math.PI / 2, width: a3, r: s3, x: f3, y: c3 } })).rotation = -(n3 + Math.PI / 2), r3.x = e2.cx, r3.y = e2.cy, r3;
    }
    function M2(t7, i4) {
      var n3 = d2.get("roundCap") ? gS : Uc, r3 = d2.get("overlap"), a3 = r3 ? d2.get("width") : l2 / m2.count(), u3 = new n3({ shape: { startAngle: o2, endAngle: i4, cx: e2.cx, cy: e2.cy, clockwise: s2, r0: r3 ? e2.r - a3 : e2.r - (t7 + 1) * a3, r: r3 ? e2.r : e2.r - t7 * a3 } });
      return r3 && (u3.z2 = ls(m2.get(b2, t7), [g3, y2], [100, 0], true)), u3;
    }
    (p2 || v2) && (m2.diff(f2).add((function(i4) {
      var n3 = m2.get(b2, i4);
      if (v2) {
        var r3 = k2(i4, o2);
        zh(r3, { rotation: -((isNaN(+n3) ? x2[0] : ls(n3, w3, x2, true)) + Math.PI / 2) }, t6), u2.add(r3), m2.setItemGraphicEl(i4, r3);
      }
      if (p2) {
        var e3 = M2(i4, o2), a3 = d2.get("clip");
        zh(e3, { shape: { endAngle: ls(n3, w3, x2, a3) } }, t6), u2.add(e3), vf(t6.seriesIndex, m2.dataType, i4, e3), h2[i4] = e3;
      }
    })).update((function(i4, n3) {
      var r3 = m2.get(b2, i4);
      if (v2) {
        var e3 = f2.getItemGraphicEl(n3), a3 = e3 ? e3.rotation : o2, s3 = k2(i4, a3);
        s3.rotation = a3, Mh(s3, { rotation: -((isNaN(+r3) ? x2[0] : ls(r3, w3, x2, true)) + Math.PI / 2) }, t6), u2.add(s3), m2.setItemGraphicEl(i4, s3);
      }
      if (p2) {
        var l3 = c2[n3], g4 = M2(i4, l3 ? l3.shape.endAngle : o2), y3 = d2.get("clip");
        Mh(g4, { shape: { endAngle: ls(r3, w3, x2, y3) } }, t6), u2.add(g4), vf(t6.seriesIndex, m2.dataType, i4, g4), h2[i4] = g4;
      }
    })).execute(), m2.each((function(t7) {
      var i4 = m2.getItemModel(t7), n3 = i4.getModel("emphasis"), e3 = n3.get("focus"), o3 = n3.get("blurScope"), a3 = n3.get("disabled");
      if (v2) {
        var s3 = m2.getItemGraphicEl(t7), l3 = m2.getItemVisual(t7, "style"), u3 = l3.fill;
        if (s3 instanceof ju) {
          var f3 = s3.style;
          s3.useStyle(bn({ image: f3.image, x: f3.x, y: f3.y, width: f3.width, height: f3.height }, l3));
        } else s3.useStyle(l3), "pointer" !== s3.type && s3.setColor(u3);
        s3.setStyle(i4.getModel(["pointer", "itemStyle"]).getItemStyle()), "auto" === s3.style.fill && s3.setStyle("fill", r2(ls(m2.get(b2, t7), w3, [0, 1], true))), s3.z2EmphasisLift = 0, ec(s3, i4), tc(s3, e3, o3, a3);
      }
      if (p2) {
        var c3 = h2[t7];
        c3.useStyle(m2.getItemVisual(t7, "style")), c3.setStyle(i4.getModel(["progress", "itemStyle"]).getItemStyle()), c3.z2EmphasisLift = 0, ec(c3, i4), tc(c3, e3, o3, a3);
      }
    })), this._progressEls = h2);
  }, i2.prototype._renderAnchor = function(t6, i3) {
    var n2 = t6.getModel("anchor");
    if (n2.get("show")) {
      var r2 = n2.get("size"), e2 = n2.get("icon"), o2 = n2.get("offsetCenter"), a2 = n2.get("keepAspect"), s2 = Fg(e2, i3.cx - r2 / 2 + us(o2[0], i3.r), i3.cy - r2 / 2 + us(o2[1], i3.r), r2, r2, null, a2);
      s2.z2 = n2.get("showAbove") ? 1 : 0, s2.setStyle(n2.getModel("itemStyle").getItemStyle()), this.group.add(s2);
    }
  }, i2.prototype._renderTitleAndDetail = function(t6, i3, n2, r2, e2) {
    var o2 = this, a2 = t6.getData(), s2 = a2.mapDimension("value"), l2 = +t6.get("min"), u2 = +t6.get("max"), f2 = new rs(), c2 = [], h2 = [], v2 = t6.isAnimationEnabled(), d2 = t6.get(["pointer", "showAbove"]);
    a2.diff(this._data).add((function(t7) {
      c2[t7] = new Ku({ silent: true }), h2[t7] = new Ku({ silent: true });
    })).update((function(t7, i4) {
      c2[t7] = o2._titleEls[i4], h2[t7] = o2._detailEls[i4];
    })).execute(), a2.each((function(i4) {
      var n3 = a2.getItemModel(i4), o3 = a2.get(s2, i4), p2 = new rs(), m2 = r2(ls(o3, [l2, u2], [0, 1], true)), b2 = n3.getModel("title");
      if (b2.get("show")) {
        var g3 = b2.get("offsetCenter"), y2 = e2.cx + us(g3[0], e2.r), w3 = e2.cy + us(g3[1], e2.r);
        (N2 = c2[i4]).attr({ z2: d2 ? 0 : 2, style: sv(b2, { x: y2, y: w3, text: a2.getName(i4), align: "center", verticalAlign: "middle" }, { inheritColor: m2 }) }), p2.add(N2);
      }
      var x2 = n3.getModel("detail");
      if (x2.get("show")) {
        var k2 = x2.get("offsetCenter"), M2 = e2.cx + us(k2[0], e2.r), z2 = e2.cy + us(k2[1], e2.r), S3 = us(x2.get("width"), e2.r), C3 = us(x2.get("height"), e2.r), A3 = t6.get(["progress", "show"]) ? a2.getItemVisual(i4, "style").fill : m2, N2 = h2[i4], _2 = x2.get("formatter");
        N2.attr({ z2: d2 ? 0 : 2, style: sv(x2, { x: M2, y: z2, text: _I(o3, _2), width: isNaN(S3) ? null : S3, height: isNaN(C3) ? null : C3, align: "center", verticalAlign: "middle" }, { inheritColor: A3 }) }), pv(N2, { normal: x2 }, o3, (function(t7) {
          return _I(t7, _2);
        })), v2 && mv(N2, i4, a2, t6, { getFormattedLabel: function(t7, i5, n4, r3, e3, a3) {
          return _I(a3 ? a3.interpolatedValue : o3, _2);
        } }), p2.add(N2);
      }
      f2.add(p2);
    })), this.group.add(f2), this._titleEls = c2, this._detailEls = h2;
  }, i2.type = "gauge", i2;
})(Sb), II = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.visualStyleAccessPath = "itemStyle", n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function() {
    return QS(this, ["value"]);
  }, i2.type = "series.gauge", i2.defaultOption = { z: 2, colorBy: "data", center: ["50%", "50%"], legendHoverLink: true, radius: "75%", startAngle: 225, endAngle: -45, clockwise: true, min: 0, max: 100, splitNumber: 10, axisLine: { show: true, roundCap: false, lineStyle: { color: [[1, "#E6EBF8"]], width: 10 } }, progress: { show: false, overlap: true, width: 10, roundCap: false, clip: true }, splitLine: { show: true, length: 10, distance: 10, lineStyle: { color: "#63677A", width: 3, type: "solid" } }, axisTick: { show: true, splitNumber: 5, length: 6, distance: 10, lineStyle: { color: "#63677A", width: 1, type: "solid" } }, axisLabel: { show: true, distance: 15, color: "#464646", fontSize: 12, rotate: 0 }, pointer: { icon: null, offsetCenter: [0, 0], show: true, showAbove: true, length: "60%", width: 6, keepAspect: false }, anchor: { show: false, showAbove: false, size: 6, icon: "circle", offsetCenter: [0, 0], keepAspect: false, itemStyle: { color: "#fff", borderWidth: 0, borderColor: "#5470c6" } }, title: { show: true, offsetCenter: [0, "20%"], color: "#464646", fontSize: 16, valueAnimation: false }, detail: { show: true, backgroundColor: "rgba(0,0,0,0)", borderWidth: 0, borderColor: "#ccc", width: 100, height: null, padding: [5, 10], offsetCenter: [0, "40%"], color: "#464646", fontSize: 30, fontWeight: "bold", lineHeight: 30, valueAnimation: false } }, i2;
})(vb), LI = ["itemStyle", "opacity"], DI = (function(t5) {
  function i2(i3, n2) {
    var r2 = t5.call(this) || this, e2 = r2, o2 = new Qc(), a2 = new Ku();
    return e2.setTextContent(a2), r2.setTextGuideLine(o2), r2.updateData(i3, n2, true), r2;
  }
  return Yi(i2, t5), i2.prototype.updateData = function(t6, i3, n2) {
    var r2 = this, e2 = t6.hostModel, o2 = t6.getItemModel(i3), a2 = t6.getItemLayout(i3), s2 = o2.getModel("emphasis"), l2 = o2.get(LI);
    l2 = null == l2 ? 1 : l2, n2 || _h(r2), r2.useStyle(t6.getItemVisual(i3, "style")), r2.style.lineJoin = "round", n2 ? (r2.setShape({ points: a2.points }), r2.style.opacity = 0, zh(r2, { style: { opacity: l2 } }, e2, i3)) : Mh(r2, { style: { opacity: l2 }, shape: { points: a2.points } }, e2, i3), ec(r2, o2), this._updateLabel(t6, i3), tc(this, s2.get("focus"), s2.get("blurScope"), s2.get("disabled"));
  }, i2.prototype._updateLabel = function(t6, i3) {
    var n2 = this, r2 = this.getTextGuideLine(), e2 = n2.getTextContent(), o2 = t6.hostModel, a2 = t6.getItemModel(i3), s2 = t6.getItemLayout(i3).label, l2 = t6.getItemVisual(i3, "style"), u2 = l2.fill;
    ov(e2, av(a2), { labelFetcher: t6.hostModel, labelDataIndex: i3, defaultOpacity: l2.opacity, defaultText: t6.getName(i3) }, { normal: { align: s2.textAlign, verticalAlign: s2.verticalAlign } }), n2.setTextConfig({ local: true, inside: !!s2.inside, insideStroke: u2, outsideFill: u2 });
    var f2 = s2.linePoints;
    r2.setShape({ points: f2 }), n2.textGuideLineConfig = { anchor: f2 ? new ne(f2[0][0], f2[0][1]) : null }, Mh(e2, { style: { x: s2.x, y: s2.y } }, o2, i3), e2.attr({ rotation: s2.rotation, originX: s2.x, originY: s2.y, z2: 10 }), tM(n2, iM(a2), { stroke: u2 });
  }, i2;
})(Jc), WI = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.ignoreLabelLineUpdate = true, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6) {
    var i3 = t6.getData(), n2 = this._data, r2 = this.group;
    i3.diff(n2).add((function(t7) {
      var n3 = new DI(i3, t7);
      i3.setItemGraphicEl(t7, n3), r2.add(n3);
    })).update((function(t7, e2) {
      var o2 = n2.getItemGraphicEl(e2);
      o2.updateData(i3, t7), r2.add(o2), i3.setItemGraphicEl(t7, o2);
    })).remove((function(i4) {
      Nh(n2.getItemGraphicEl(i4), t6, i4);
    })).execute(), this._data = i3;
  }, i2.prototype.remove = function() {
    this.group.removeAll(), this._data = null;
  }, i2.prototype.dispose = function() {
  }, i2.type = "funnel", i2;
})(Sb), EI = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(i3) {
    t5.prototype.init.apply(this, arguments), this.legendVisualProvider = new tC(An(this.getData, this), An(this.getRawData, this)), this._defaultLabelLine(i3);
  }, i2.prototype.getInitialData = function() {
    return QS(this, { coordDimensions: ["value"], encodeDefaulter: Nn(qd, this) });
  }, i2.prototype._defaultLabelLine = function(t6) {
    Ws(t6, "labelLine", ["show"]);
    var i3 = t6.labelLine, n2 = t6.emphasis.labelLine;
    i3.show = i3.show && t6.label.show, n2.show = n2.show && t6.emphasis.label.show;
  }, i2.prototype.getDataParams = function(i3) {
    var n2 = this.getData(), r2 = t5.prototype.getDataParams.call(this, i3), e2 = n2.mapDimension("value"), o2 = n2.getSum(e2);
    return r2.percent = o2 ? +(n2.get(e2, i3) / o2 * 100).toFixed(2) : 0, r2.$vars.push("percent"), r2;
  }, i2.type = "series.funnel", i2.defaultOption = { z: 2, legendHoverLink: true, colorBy: "data", left: 80, top: 60, right: 80, bottom: 60, minSize: "0%", maxSize: "100%", sort: "descending", orient: "vertical", gap: 0, funnelAlign: "center", label: { show: true, position: "outer" }, labelLine: { show: true, length: 20, lineStyle: { width: 1 } }, itemStyle: { borderColor: "#fff", borderWidth: 1 }, emphasis: { label: { show: true } }, select: { itemStyle: { borderColor: "#212121" } } }, i2;
})(vb);
function OI(t5, i2) {
  t5.eachSeriesByType("funnel", (function(t6) {
    var n2 = t6.getData(), r2 = n2.mapDimension("value"), e2 = t6.get("sort"), o2 = (function(t7, i3) {
      return Nd(t7.getBoxLayoutParams(), { width: i3.getWidth(), height: i3.getHeight() });
    })(t6, i2), a2 = t6.get("orient"), s2 = o2.width, l2 = o2.height, u2 = (function(t7, i3) {
      for (var n3 = t7.mapDimension("value"), r3 = t7.mapArray(n3, (function(t8) {
        return t8;
      })), e3 = [], o3 = "ascending" === i3, a3 = 0, s3 = t7.count(); a3 < s3; a3++) e3[a3] = a3;
      return Tn(i3) ? e3.sort(i3) : "none" !== i3 && e3.sort((function(t8, i4) {
        return o3 ? r3[t8] - r3[i4] : r3[i4] - r3[t8];
      })), e3;
    })(n2, e2), f2 = o2.x, c2 = o2.y, h2 = "horizontal" === a2 ? [us(t6.get("minSize"), l2), us(t6.get("maxSize"), l2)] : [us(t6.get("minSize"), s2), us(t6.get("maxSize"), s2)], v2 = n2.getDataExtent(r2), d2 = t6.get("min"), p2 = t6.get("max");
    null == d2 && (d2 = Math.min(v2[0], 0)), null == p2 && (p2 = v2[1]);
    var m2 = t6.get("funnelAlign"), b2 = t6.get("gap"), g3 = (("horizontal" === a2 ? s2 : l2) - b2 * (n2.count() - 1)) / n2.count(), y2 = function(t7, i3) {
      if ("horizontal" === a2) {
        var e3 = ls(n2.get(r2, t7) || 0, [d2, p2], h2, true), o3 = void 0;
        switch (m2) {
          case "top":
            o3 = c2;
            break;
          case "center":
            o3 = c2 + (l2 - e3) / 2;
            break;
          case "bottom":
            o3 = c2 + (l2 - e3);
        }
        return [[i3, o3], [i3, o3 + e3]];
      }
      var u3, v3 = ls(n2.get(r2, t7) || 0, [d2, p2], h2, true);
      switch (m2) {
        case "left":
          u3 = f2;
          break;
        case "center":
          u3 = f2 + (s2 - v3) / 2;
          break;
        case "right":
          u3 = f2 + s2 - v3;
      }
      return [[u3, i3], [u3 + v3, i3]];
    };
    "ascending" === e2 && (g3 = -g3, b2 = -b2, "horizontal" === a2 ? f2 += s2 : c2 += l2, u2 = u2.reverse());
    for (var w3 = 0; w3 < u2.length; w3++) {
      var x2 = u2[w3], k2 = u2[w3 + 1], M2 = n2.getItemModel(x2);
      if ("horizontal" === a2) {
        var z2 = M2.get(["itemStyle", "width"]);
        null == z2 ? z2 = g3 : (z2 = us(z2, s2), "ascending" === e2 && (z2 = -z2));
        var S3 = y2(x2, f2), C3 = y2(k2, f2 + z2);
        f2 += z2 + b2, n2.setItemLayout(x2, { points: S3.concat(C3.slice().reverse()) });
      } else {
        var A3 = M2.get(["itemStyle", "height"]);
        null == A3 ? A3 = g3 : (A3 = us(A3, l2), "ascending" === e2 && (A3 = -A3)), S3 = y2(x2, c2), C3 = y2(k2, c2 + A3), c2 += A3 + b2, n2.setItemLayout(x2, { points: S3.concat(C3.slice().reverse()) });
      }
    }
    !(function(t7) {
      var i3 = t7.hostModel.get("orient");
      t7.each((function(n3) {
        var r3, e3, o3, a3, s3 = t7.getItemModel(n3), l3 = s3.getModel("label").get("position"), u3 = s3.getModel("labelLine"), f3 = t7.getItemLayout(n3), c3 = f3.points, h3 = "inner" === l3 || "inside" === l3 || "center" === l3 || "insideLeft" === l3 || "insideRight" === l3;
        if (h3) "insideLeft" === l3 ? (e3 = (c3[0][0] + c3[3][0]) / 2 + 5, o3 = (c3[0][1] + c3[3][1]) / 2, r3 = "left") : "insideRight" === l3 ? (e3 = (c3[1][0] + c3[2][0]) / 2 - 5, o3 = (c3[1][1] + c3[2][1]) / 2, r3 = "right") : (e3 = (c3[0][0] + c3[1][0] + c3[2][0] + c3[3][0]) / 4, o3 = (c3[0][1] + c3[1][1] + c3[2][1] + c3[3][1]) / 4, r3 = "center"), a3 = [[e3, o3], [e3, o3]];
        else {
          var v3 = void 0, d3 = void 0, p3 = void 0, m3 = void 0, b3 = u3.get("length");
          "left" === l3 ? (d3 = (c3[3][1] + c3[0][1]) / 2, e3 = (p3 = (v3 = (c3[3][0] + c3[0][0]) / 2) - b3) - 5, r3 = "right") : "right" === l3 ? (d3 = (c3[1][1] + c3[2][1]) / 2, e3 = (p3 = (v3 = (c3[1][0] + c3[2][0]) / 2) + b3) + 5, r3 = "left") : "top" === l3 ? (v3 = (c3[3][0] + c3[0][0]) / 2, o3 = (m3 = (d3 = (c3[3][1] + c3[0][1]) / 2) - b3) - 5, r3 = "center") : "bottom" === l3 ? (v3 = (c3[1][0] + c3[2][0]) / 2, o3 = (m3 = (d3 = (c3[1][1] + c3[2][1]) / 2) + b3) + 5, r3 = "center") : "rightTop" === l3 ? (v3 = "horizontal" === i3 ? c3[3][0] : c3[1][0], d3 = "horizontal" === i3 ? c3[3][1] : c3[1][1], "horizontal" === i3 ? (o3 = (m3 = d3 - b3) - 5, r3 = "center") : (e3 = (p3 = v3 + b3) + 5, r3 = "top")) : "rightBottom" === l3 ? (v3 = c3[2][0], d3 = c3[2][1], "horizontal" === i3 ? (o3 = (m3 = d3 + b3) + 5, r3 = "center") : (e3 = (p3 = v3 + b3) + 5, r3 = "bottom")) : "leftTop" === l3 ? (v3 = c3[0][0], d3 = "horizontal" === i3 ? c3[0][1] : c3[1][1], "horizontal" === i3 ? (o3 = (m3 = d3 - b3) - 5, r3 = "center") : (e3 = (p3 = v3 - b3) - 5, r3 = "right")) : "leftBottom" === l3 ? (v3 = "horizontal" === i3 ? c3[1][0] : c3[3][0], d3 = "horizontal" === i3 ? c3[1][1] : c3[2][1], "horizontal" === i3 ? (o3 = (m3 = d3 + b3) + 5, r3 = "center") : (e3 = (p3 = v3 - b3) - 5, r3 = "right")) : (v3 = (c3[1][0] + c3[2][0]) / 2, d3 = (c3[1][1] + c3[2][1]) / 2, "horizontal" === i3 ? (o3 = (m3 = d3 + b3) + 5, r3 = "center") : (e3 = (p3 = v3 + b3) + 5, r3 = "left")), "horizontal" === i3 ? e3 = p3 = v3 : o3 = m3 = d3, a3 = [[v3, d3], [p3, m3]];
        }
        f3.label = { linePoints: a3, x: e3, y: o3, verticalAlign: "middle", textAlign: r3, inside: h3 };
      }));
    })(n2);
  }));
}
var FI = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2._dataGroup = new rs(), n2._initialized = false, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function() {
    this.group.add(this._dataGroup);
  }, i2.prototype.render = function(t6) {
    this._progressiveEls = null;
    var i3 = this._dataGroup, n2 = t6.getData(), r2 = this._data, e2 = t6.coordinateSystem, o2 = e2.dimensions, a2 = BI(t6);
    if (n2.diff(r2).add((function(t7) {
      VI(PI(n2, i3, t7, o2, e2), n2, t7, a2);
    })).update((function(i4, s3) {
      var l2 = r2.getItemGraphicEl(s3), u2 = RI(n2, i4, o2, e2);
      n2.setItemGraphicEl(i4, l2), Mh(l2, { shape: { points: u2 } }, t6, i4), _h(l2), VI(l2, n2, i4, a2);
    })).remove((function(t7) {
      var n3 = r2.getItemGraphicEl(t7);
      i3.remove(n3);
    })).execute(), !this._initialized) {
      this._initialized = true;
      var s2 = (function(t7, n3) {
        var r3 = t7.model, e3 = t7.getRect(), o3 = new Zu({ shape: { x: e3.x, y: e3.y, width: e3.width, height: e3.height } }), a3 = "horizontal" === r3.get("layout") ? "width" : "height";
        return o3.setShape(a3, 0), zh(o3, { shape: { width: e3.width, height: e3.height } }, n3, (function() {
          setTimeout((function() {
            i3.removeClipPath();
          }));
        })), o3;
      })(e2, t6);
      i3.setClipPath(s2);
    }
    this._data = n2;
  }, i2.prototype.incrementalPrepareRender = function() {
    this._initialized = true, this._data = null, this._dataGroup.removeAll();
  }, i2.prototype.incrementalRender = function(t6, i3) {
    for (var n2 = i3.getData(), r2 = i3.coordinateSystem, e2 = r2.dimensions, o2 = BI(i3), a2 = this._progressiveEls = [], s2 = t6.start; s2 < t6.end; s2++) {
      var l2 = PI(n2, this._dataGroup, s2, e2, r2);
      l2.incremental = true, VI(l2, n2, s2, o2), a2.push(l2);
    }
  }, i2.prototype.remove = function() {
    this._dataGroup && this._dataGroup.removeAll(), this._data = null;
  }, i2.type = "parallel", i2;
})(Sb);
function RI(t5, i2, n2, r2) {
  for (var e2, o2 = [], a2 = 0; a2 < n2.length; a2++) {
    var s2 = n2[a2], l2 = t5.get(t5.mapDimension(s2), i2);
    e2 = l2, ("category" === r2.getAxis(s2).type ? null == e2 : null == e2 || isNaN(e2)) || o2.push(r2.dataToPoint(l2, s2));
  }
  return o2;
}
function PI(t5, i2, n2, r2, e2) {
  var o2 = RI(t5, n2, r2, e2), a2 = new Qc({ shape: { points: o2 }, z2: 10 });
  return i2.add(a2), t5.setItemGraphicEl(n2, a2), a2;
}
function BI(t5) {
  var i2 = t5.get("smooth", true);
  return true === i2 && (i2 = 0.3), Pn(i2 = zs(i2)) && (i2 = 0), { smooth: i2 };
}
function VI(t5, i2, n2, r2) {
  t5.useStyle(i2.getItemVisual(n2, "style")), t5.style.fill = null, t5.setShape("smooth", r2.smooth);
  var e2 = i2.getItemModel(n2), o2 = e2.getModel("emphasis");
  ec(t5, e2, "lineStyle"), tc(t5, o2.get("focus"), o2.get("blurScope"), o2.get("disabled"));
}
var jI = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.visualStyleAccessPath = "lineStyle", n2.visualDrawType = "stroke", n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function() {
    return ix(null, this, { useEncodeDefaulter: An(HI, null, this) });
  }, i2.prototype.getRawIndicesByActiveState = function(t6) {
    var i3 = this.coordinateSystem, n2 = this.getData(), r2 = [];
    return i3.eachActiveState(n2, (function(i4, e2) {
      t6 === i4 && r2.push(n2.getRawIndex(e2));
    })), r2;
  }, i2.type = "series.parallel", i2.dependencies = ["parallel"], i2.defaultOption = { z: 2, coordinateSystem: "parallel", parallelIndex: 0, label: { show: false }, inactiveOpacity: 0.05, activeOpacity: 1, lineStyle: { width: 1, opacity: 0.45, type: "solid" }, emphasis: { label: { show: false } }, progressive: 500, smooth: false, animationEasing: "linear" }, i2;
})(vb);
function HI(t5) {
  var i2 = t5.ecModel.getComponent("parallel", t5.get("parallelIndex"));
  if (i2) {
    var n2 = {};
    return kn(i2.dimensions, (function(t6) {
      var i3 = +t6.replace("dim", "");
      n2[t6] = i3;
    })), n2;
  }
}
var YI = ["lineStyle", "opacity"], XI = { seriesType: "parallel", reset: function(t5) {
  var i2 = t5.coordinateSystem, n2 = { normal: t5.get(["lineStyle", "opacity"]), active: t5.get("activeOpacity"), inactive: t5.get("inactiveOpacity") };
  return { progress: function(t6, r2) {
    i2.eachActiveState(r2, (function(t7, i3) {
      var e2 = n2[t7];
      if ("normal" === t7 && r2.hasItemOption) {
        var o2 = r2.getItemModel(i3).get(YI, true);
        null != o2 && (e2 = o2);
      }
      r2.ensureUniqueItemVisual(i3, "style").opacity = e2;
    }), t6.start, t6.end);
  } };
} };
function UI(t5) {
  !(function(t6) {
    if (!t6.parallel) {
      var i2 = false;
      kn(t6.series, (function(t7) {
        t7 && "parallel" === t7.type && (i2 = true);
      })), i2 && (t6.parallel = [{}]);
    }
  })(t5), (function(t6) {
    kn(Ds(t6.parallelAxis), (function(i2) {
      if (Wn(i2)) {
        var n2 = i2.parallelIndex || 0, r2 = Ds(t6.parallel)[n2];
        r2 && r2.parallelAxisDefault && pn(i2, r2.parallelAxisDefault, false);
      }
    }));
  })(t5);
}
var $I = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    this._model = t6, this._api = n2, this._handlers || (this._handlers = {}, kn(GI, (function(t7, i4) {
      n2.getZr().on(i4, this._handlers[i4] = An(t7, this));
    }), this)), Eb(this, "_throttledDispatchExpand", t6.get("axisExpandRate"), "fixRate");
  }, i2.prototype.dispose = function(t6, i3) {
    Ob(this, "_throttledDispatchExpand"), kn(this._handlers, (function(t7, n2) {
      i3.getZr().off(n2, t7);
    })), this._handlers = null;
  }, i2.prototype._throttledDispatchExpand = function(t6) {
    this._dispatchExpand(t6);
  }, i2.prototype._dispatchExpand = function(t6) {
    t6 && this._api.dispatchAction(bn({ type: "parallelAxisExpand" }, t6));
  }, i2.type = "parallel", i2;
})(xb), GI = { mousedown: function(t5) {
  ZI(this, "click") && (this._mouseDownPoint = [t5.offsetX, t5.offsetY]);
}, mouseup: function(t5) {
  var i2 = this._mouseDownPoint;
  if (ZI(this, "click") && i2) {
    var n2 = [t5.offsetX, t5.offsetY];
    if (Math.pow(i2[0] - n2[0], 2) + Math.pow(i2[1] - n2[1], 2) > 5) return;
    var r2 = this._model.coordinateSystem.getSlidedAxisExpandWindow([t5.offsetX, t5.offsetY]);
    "none" !== r2.behavior && this._dispatchExpand({ axisExpandWindow: r2.axisExpandWindow });
  }
  this._mouseDownPoint = null;
}, mousemove: function(t5) {
  if (!this._mouseDownPoint && ZI(this, "mousemove")) {
    var i2 = this._model, n2 = i2.coordinateSystem.getSlidedAxisExpandWindow([t5.offsetX, t5.offsetY]), r2 = n2.behavior;
    "jump" === r2 && this._throttledDispatchExpand.debounceNextCall(i2.get("axisExpandDebounce")), this._throttledDispatchExpand("none" === r2 ? null : { axisExpandWindow: n2.axisExpandWindow, animation: "jump" === r2 ? null : { duration: 0 } });
  }
} };
function ZI(t5, i2) {
  var n2 = t5._model;
  return n2.get("axisExpandable") && n2.get("axisExpandTriggerOn") === i2;
}
var qI = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function() {
    t5.prototype.init.apply(this, arguments), this.mergeOption({});
  }, i2.prototype.mergeOption = function(t6) {
    t6 && pn(this.option, t6, true), this._initDimensions();
  }, i2.prototype.contains = function(t6, i3) {
    var n2 = t6.get("parallelIndex");
    return null != n2 && i3.getComponent("parallel", n2) === this;
  }, i2.prototype.setAxisExpand = function(t6) {
    kn(["axisExpandable", "axisExpandCenter", "axisExpandCount", "axisExpandWidth", "axisExpandWindow"], (function(i3) {
      t6.hasOwnProperty(i3) && (this.option[i3] = t6[i3]);
    }), this);
  }, i2.prototype._initDimensions = function() {
    var t6 = this.dimensions = [], i3 = this.parallelAxisIndex = [];
    kn(Sn(this.ecModel.queryComponents({ mainType: "parallelAxis" }), (function(t7) {
      return (t7.get("parallelIndex") || 0) === this.componentIndex;
    }), this), (function(n2) {
      t6.push("dim" + n2.get("dim")), i3.push(n2.componentIndex);
    }));
  }, i2.type = "parallel", i2.dependencies = ["parallelAxis"], i2.layoutMode = "box", i2.defaultOption = { z: 0, left: 80, top: 60, right: 80, bottom: 60, layout: "horizontal", axisExpandable: false, axisExpandCenter: null, axisExpandCount: 0, axisExpandWidth: 50, axisExpandRate: 17, axisExpandDebounce: 50, axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4], axisExpandTriggerOn: "click", parallelAxisDefault: null }, i2;
})(Ed), JI = (function(t5) {
  function i2(i3, n2, r2, e2, o2) {
    var a2 = t5.call(this, i3, n2, r2) || this;
    return a2.type = e2 || "value", a2.axisIndex = o2, a2;
  }
  return Yi(i2, t5), i2.prototype.isHorizontal = function() {
    return "horizontal" !== this.coordinateSystem.getModel().get("layout");
  }, i2;
})(Tk);
function KI(t5, i2, n2, r2, e2, o2) {
  t5 = t5 || 0;
  var a2 = n2[1] - n2[0];
  if (null != e2 && (e2 = tL(e2, [0, a2])), null != o2 && (o2 = Math.max(o2, null != e2 ? e2 : 0)), "all" === r2) {
    var s2 = Math.abs(i2[1] - i2[0]);
    s2 = tL(s2, [0, a2]), e2 = o2 = tL(s2, [e2, o2]), r2 = 0;
  }
  i2[0] = tL(i2[0], n2), i2[1] = tL(i2[1], n2);
  var l2 = QI(i2, r2);
  i2[r2] += t5;
  var u2, f2 = e2 || 0, c2 = n2.slice();
  return l2.sign < 0 ? c2[0] += f2 : c2[1] -= f2, i2[r2] = tL(i2[r2], c2), u2 = QI(i2, r2), null != e2 && (u2.sign !== l2.sign || u2.span < e2) && (i2[1 - r2] = i2[r2] + l2.sign * e2), u2 = QI(i2, r2), null != o2 && u2.span > o2 && (i2[1 - r2] = i2[r2] + u2.sign * o2), i2;
}
function QI(t5, i2) {
  var n2 = t5[i2] - t5[1 - i2];
  return { span: Math.abs(n2), sign: n2 > 0 ? -1 : n2 < 0 ? 1 : i2 ? -1 : 1 };
}
function tL(t5, i2) {
  return Math.min(null != i2[1] ? i2[1] : 1 / 0, Math.max(null != i2[0] ? i2[0] : -1 / 0, t5));
}
var iL = kn, nL = Math.min, rL = Math.max, eL = Math.floor, oL = Math.ceil, aL = fs, sL = Math.PI, lL = (function() {
  function t5(t6, i2, n2) {
    this.type = "parallel", this._axesMap = Qn(), this._axesLayout = {}, this.dimensions = t6.dimensions, this._model = t6, this._init(t6, i2, n2);
  }
  return t5.prototype._init = function(t6, i2) {
    var n2 = t6.parallelAxisIndex;
    iL(t6.dimensions, (function(t7, r2) {
      var e2 = n2[r2], o2 = i2.getComponent("parallelAxis", e2), a2 = this._axesMap.set(t7, new JI(t7, ik(o2), [0, 0], o2.get("type"), e2));
      a2.onBand = "category" === a2.type && o2.get("boundaryGap"), a2.inverse = o2.get("inverse"), o2.axis = a2, a2.model = o2, a2.coordinateSystem = o2.coordinateSystem = this;
    }), this);
  }, t5.prototype.update = function(t6) {
    this._updateAxesFromSeries(this._model, t6);
  }, t5.prototype.containPoint = function(t6) {
    var i2 = this._makeLayoutInfo(), n2 = i2.axisBase, r2 = i2.layoutBase, e2 = i2.pixelDimIndex, o2 = t6[1 - e2], a2 = t6[e2];
    return o2 >= n2 && o2 <= n2 + i2.axisLength && a2 >= r2 && a2 <= r2 + i2.layoutLength;
  }, t5.prototype.getModel = function() {
    return this._model;
  }, t5.prototype._updateAxesFromSeries = function(t6, i2) {
    i2.eachSeries((function(n2) {
      if (t6.contains(n2, i2)) {
        var r2 = n2.getData();
        iL(this.dimensions, (function(t7) {
          var i3 = this._axesMap.get(t7);
          i3.scale.unionExtentFromData(r2, r2.mapDimension(t7)), tk(i3.scale, i3.model);
        }), this);
      }
    }), this);
  }, t5.prototype.resize = function(t6, i2) {
    this._rect = Nd(t6.getBoxLayoutParams(), { width: i2.getWidth(), height: i2.getHeight() }), this._layoutAxes();
  }, t5.prototype.getRect = function() {
    return this._rect;
  }, t5.prototype._makeLayoutInfo = function() {
    var t6, i2 = this._model, n2 = this._rect, r2 = ["x", "y"], e2 = ["width", "height"], o2 = i2.get("layout"), a2 = "horizontal" === o2 ? 0 : 1, s2 = n2[e2[a2]], l2 = [0, s2], u2 = this.dimensions.length, f2 = uL(i2.get("axisExpandWidth"), l2), c2 = uL(i2.get("axisExpandCount") || 0, [0, u2]), h2 = i2.get("axisExpandable") && u2 > 3 && u2 > c2 && c2 > 1 && f2 > 0 && s2 > 0, v2 = i2.get("axisExpandWindow");
    v2 ? (t6 = uL(v2[1] - v2[0], l2), v2[1] = v2[0] + t6) : (t6 = uL(f2 * (c2 - 1), l2), (v2 = [f2 * (i2.get("axisExpandCenter") || eL(u2 / 2)) - t6 / 2])[1] = v2[0] + t6);
    var d2 = (s2 - t6) / (u2 - c2);
    d2 < 3 && (d2 = 0);
    var p2 = [eL(aL(v2[0] / f2, 1)) + 1, oL(aL(v2[1] / f2, 1)) - 1];
    return { layout: o2, pixelDimIndex: a2, layoutBase: n2[r2[a2]], layoutLength: s2, axisBase: n2[r2[1 - a2]], axisLength: n2[e2[1 - a2]], axisExpandable: h2, axisExpandWidth: f2, axisCollapseWidth: d2, axisExpandWindow: v2, axisCount: u2, winInnerIndices: p2, axisExpandWindow0Pos: d2 / f2 * v2[0] };
  }, t5.prototype._layoutAxes = function() {
    var t6 = this._rect, i2 = this._axesMap, n2 = this.dimensions, r2 = this._makeLayoutInfo(), e2 = r2.layout;
    i2.each((function(t7) {
      var i3 = [0, r2.axisLength], n3 = t7.inverse ? 1 : 0;
      t7.setExtent(i3[n3], i3[1 - n3]);
    })), iL(n2, (function(i3, n3) {
      var o2 = (r2.axisExpandable ? cL : fL)(n3, r2), a2 = { horizontal: { x: o2.position, y: r2.axisLength }, vertical: { x: 0, y: o2.position } }, s2 = [a2[e2].x + t6.x, a2[e2].y + t6.y], l2 = { horizontal: sL / 2, vertical: 0 }[e2], u2 = [1, 0, 0, 1, 0, 0];
      Qr(u2, u2, l2), Kr(u2, u2, s2), this._axesLayout[i3] = { position: s2, rotation: l2, transform: u2, axisNameAvailableWidth: o2.axisNameAvailableWidth, axisLabelShow: o2.axisLabelShow, nameTruncateMaxWidth: o2.nameTruncateMaxWidth, tickDirection: 1, labelDirection: 1 };
    }), this);
  }, t5.prototype.getAxis = function(t6) {
    return this._axesMap.get(t6);
  }, t5.prototype.dataToPoint = function(t6, i2) {
    return this.axisCoordToPoint(this._axesMap.get(i2).dataToCoord(t6), i2);
  }, t5.prototype.eachActiveState = function(t6, i2, n2, r2) {
    null == n2 && (n2 = 0), null == r2 && (r2 = t6.count());
    var e2 = this._axesMap, o2 = this.dimensions, a2 = [], s2 = [];
    kn(o2, (function(i3) {
      a2.push(t6.mapDimension(i3)), s2.push(e2.get(i3).model);
    }));
    for (var l2 = this.hasAxisBrushed(), u2 = n2; u2 < r2; u2++) {
      var f2 = void 0;
      if (l2) {
        f2 = "active";
        for (var c2 = t6.getValues(a2, u2), h2 = 0, v2 = o2.length; h2 < v2; h2++) if ("inactive" === s2[h2].getActiveState(c2[h2])) {
          f2 = "inactive";
          break;
        }
      } else f2 = "normal";
      i2(f2, u2);
    }
  }, t5.prototype.hasAxisBrushed = function() {
    for (var t6 = this.dimensions, i2 = this._axesMap, n2 = false, r2 = 0, e2 = t6.length; r2 < e2; r2++) "normal" !== i2.get(t6[r2]).model.getActiveState() && (n2 = true);
    return n2;
  }, t5.prototype.axisCoordToPoint = function(t6, i2) {
    return Hh([t6, 0], this._axesLayout[i2].transform);
  }, t5.prototype.getAxisLayout = function(t6) {
    return dn(this._axesLayout[t6]);
  }, t5.prototype.getSlidedAxisExpandWindow = function(t6) {
    var i2 = this._makeLayoutInfo(), n2 = i2.pixelDimIndex, r2 = i2.axisExpandWindow.slice(), e2 = r2[1] - r2[0], o2 = [0, i2.axisExpandWidth * (i2.axisCount - 1)];
    if (!this.containPoint(t6)) return { behavior: "none", axisExpandWindow: r2 };
    var a2, s2 = t6[n2] - i2.layoutBase - i2.axisExpandWindow0Pos, l2 = "slide", u2 = i2.axisCollapseWidth, f2 = this._model.get("axisExpandSlideTriggerArea"), c2 = null != f2[0];
    if (u2) c2 && u2 && s2 < e2 * f2[0] ? (l2 = "jump", a2 = s2 - e2 * f2[2]) : c2 && u2 && s2 > e2 * (1 - f2[0]) ? (l2 = "jump", a2 = s2 - e2 * (1 - f2[2])) : (a2 = s2 - e2 * f2[1]) >= 0 && (a2 = s2 - e2 * (1 - f2[1])) <= 0 && (a2 = 0), (a2 *= i2.axisExpandWidth / u2) ? KI(a2, r2, o2, "all") : l2 = "none";
    else {
      var h2 = r2[1] - r2[0];
      (r2 = [rL(0, o2[1] * s2 / h2 - h2 / 2)])[1] = nL(o2[1], r2[0] + h2), r2[0] = r2[1] - h2;
    }
    return { axisExpandWindow: r2, behavior: l2 };
  }, t5;
})();
function uL(t5, i2) {
  return nL(rL(t5, i2[0]), i2[1]);
}
function fL(t5, i2) {
  var n2 = i2.layoutLength / (i2.axisCount - 1);
  return { position: n2 * t5, axisNameAvailableWidth: n2, axisLabelShow: true };
}
function cL(t5, i2) {
  var n2, r2, e2 = i2.axisExpandWidth, o2 = i2.axisCollapseWidth, a2 = i2.winInnerIndices, s2 = o2, l2 = false;
  return t5 < a2[0] ? (n2 = t5 * o2, r2 = o2) : t5 <= a2[1] ? (n2 = i2.axisExpandWindow0Pos + t5 * e2 - i2.axisExpandWindow[0], s2 = e2, l2 = true) : (n2 = i2.layoutLength - (i2.axisCount - 1 - t5) * o2, r2 = o2), { position: n2, axisNameAvailableWidth: s2, axisLabelShow: l2, nameTruncateMaxWidth: r2 };
}
var hL = { create: function(t5, i2) {
  var n2 = [];
  return t5.eachComponent("parallel", (function(r2, e2) {
    var o2 = new lL(r2, t5, i2);
    o2.name = "parallel_" + e2, o2.resize(r2, i2), r2.coordinateSystem = o2, o2.model = r2, n2.push(o2);
  })), t5.eachSeries((function(t6) {
    if ("parallel" === t6.get("coordinateSystem")) {
      var i3 = t6.getReferringComponents("parallel", Zs).models[0];
      t6.coordinateSystem = i3.coordinateSystem;
    }
  })), n2;
} }, vL = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.activeIntervals = [], n2;
  }
  return Yi(i2, t5), i2.prototype.getAreaSelectStyle = function() {
    return fl([["fill", "color"], ["lineWidth", "borderWidth"], ["stroke", "borderColor"], ["width", "width"], ["opacity", "opacity"]])(this.getModel("areaSelectStyle"));
  }, i2.prototype.setActiveIntervals = function(t6) {
    var i3 = this.activeIntervals = dn(t6);
    if (i3) for (var n2 = i3.length - 1; n2 >= 0; n2--) cs(i3[n2]);
  }, i2.prototype.getActiveState = function(t6) {
    var i3 = this.activeIntervals;
    if (!i3.length) return "normal";
    if (null == t6 || isNaN(+t6)) return "inactive";
    if (1 === i3.length) {
      var n2 = i3[0];
      if (n2[0] <= t6 && t6 <= n2[1]) return "active";
    } else for (var r2 = 0, e2 = i3.length; r2 < e2; r2++) if (i3[r2][0] <= t6 && t6 <= i3[r2][1]) return "active";
    return "inactive";
  }, i2;
})(Ed);
wn(vL, lk);
var dL = true, pL = Math.min, mL = Math.max, bL = Math.pow, gL = "globalPan", yL = { w: [0, 0], e: [0, 1], n: [1, 0], s: [1, 1] }, wL = { w: "ew", e: "ew", n: "ns", s: "ns", ne: "nesw", sw: "nesw", nw: "nwse", se: "nwse" }, xL = { brushStyle: { lineWidth: 2, stroke: "rgba(210,219,238,0.3)", fill: "#D2DBEE" }, transformable: true, brushMode: "single", removeOnClick: false }, kL = 0, ML = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this) || this;
    return n2._track = [], n2._covers = [], n2._handlers = {}, n2._zr = i3, n2.group = new rs(), n2._uid = "brushController_" + kL++, kn(qL, (function(t6, i4) {
      this._handlers[i4] = An(t6, this);
    }), n2), n2;
  }
  return Yi(i2, t5), i2.prototype.enableBrush = function(t6) {
    return this._brushType && this._doDisableBrush(), t6.brushType && this._doEnableBrush(t6), this;
  }, i2.prototype._doEnableBrush = function(t6) {
    var i3 = this._zr;
    this._enableGlobalPan || (function(t7, i4, n2) {
      gA(t7)[i4] = n2;
    })(i3, gL, this._uid), kn(this._handlers, (function(t7, n2) {
      i3.on(n2, t7);
    })), this._brushType = t6.brushType, this._brushOption = pn(dn(xL), t6, true);
  }, i2.prototype._doDisableBrush = function() {
    var t6 = this._zr;
    !(function(t7, i3, n2) {
      var r2 = gA(t7);
      r2[i3] === n2 && (r2[i3] = null);
    })(t6, gL, this._uid), kn(this._handlers, (function(i3, n2) {
      t6.off(n2, i3);
    })), this._brushType = this._brushOption = null;
  }, i2.prototype.setPanels = function(t6) {
    if (t6 && t6.length) {
      var i3 = this._panels = {};
      kn(t6, (function(t7) {
        i3[t7.panelId] = dn(t7);
      }));
    } else this._panels = null;
    return this;
  }, i2.prototype.mount = function(t6) {
    this._enableGlobalPan = (t6 = t6 || {}).enableGlobalPan;
    var i3 = this.group;
    return this._zr.add(i3), i3.attr({ x: t6.x || 0, y: t6.y || 0, rotation: t6.rotation || 0, scaleX: t6.scaleX || 1, scaleY: t6.scaleY || 1 }), this._transform = i3.getLocalTransform(), this;
  }, i2.prototype.updateCovers = function(t6) {
    t6 = Mn(t6, (function(t7) {
      return pn(dn(xL), t7, true);
    }));
    var i3 = this._covers, n2 = this._covers = [], r2 = this, e2 = this._creatingCover;
    return new Mw(i3, t6, (function(t7, i4) {
      return o2(t7.__brushOption, i4);
    }), o2).add(a2).update(a2).remove((function(t7) {
      i3[t7] !== e2 && r2.group.remove(i3[t7]);
    })).execute(), this;
    function o2(t7, i4) {
      return (null != t7.id ? t7.id : "\0-brush-index-" + i4) + "-" + t7.brushType;
    }
    function a2(o3, a3) {
      var s2 = t6[o3];
      if (null != a3 && i3[a3] === e2) n2[o3] = i3[a3];
      else {
        var l2 = n2[o3] = null != a3 ? (i3[a3].__brushOption = s2, i3[a3]) : SL(r2, zL(r2, s2));
        NL(r2, l2);
      }
    }
  }, i2.prototype.unmount = function() {
    return this.enableBrush(false), LL(this), this._zr.remove(this.group), this;
  }, i2.prototype.dispose = function() {
    this.unmount(), this.off();
  }, i2;
})(Sr);
function zL(t5, i2) {
  var n2 = KL[i2.brushType].createCover(t5, i2);
  return n2.__brushOption = i2, AL(n2, i2), t5.group.add(n2), n2;
}
function SL(t5, i2) {
  var n2 = _L(i2);
  return n2.endCreating && (n2.endCreating(t5, i2), AL(i2, i2.__brushOption)), i2;
}
function CL(t5, i2) {
  var n2 = i2.__brushOption;
  _L(i2).updateCoverShape(t5, i2, n2.range, n2);
}
function AL(t5, i2) {
  var n2 = i2.z;
  null == n2 && (n2 = 1e4), t5.traverse((function(t6) {
    t6.z = n2, t6.z2 = n2;
  }));
}
function NL(t5, i2) {
  _L(i2).updateCommon(t5, i2), CL(t5, i2);
}
function _L(t5) {
  return KL[t5.__brushOption.brushType];
}
function TL(t5, i2, n2) {
  var r2, e2 = t5._panels;
  if (!e2) return dL;
  var o2 = t5._transform;
  return kn(e2, (function(t6) {
    t6.isTargetByCursor(i2, n2, o2) && (r2 = t6);
  })), r2;
}
function IL(t5, i2) {
  var n2 = t5._panels;
  if (!n2) return dL;
  var r2 = i2.__brushOption.panelId;
  return null != r2 ? n2[r2] : dL;
}
function LL(t5) {
  var i2 = t5._covers, n2 = i2.length;
  return kn(i2, (function(i3) {
    t5.group.remove(i3);
  }), t5), i2.length = 0, !!n2;
}
function DL(t5, i2) {
  var n2 = Mn(t5._covers, (function(t6) {
    var i3 = t6.__brushOption, n3 = dn(i3.range);
    return { brushType: i3.brushType, panelId: i3.panelId, range: n3 };
  }));
  t5.trigger("brush", { areas: n2, isEnd: !!i2.isEnd, removeOnClick: !!i2.removeOnClick });
}
function WL(t5) {
  var i2 = t5.length - 1;
  return i2 < 0 && (i2 = 0), [t5[0], t5[i2]];
}
function EL(t5, i2, n2, r2) {
  var e2 = new rs();
  return e2.add(new Zu({ name: "main", style: PL(n2), silent: true, draggable: true, cursor: "move", drift: Nn(jL, t5, i2, e2, ["n", "s", "w", "e"]), ondragend: Nn(DL, i2, { isEnd: true }) })), kn(r2, (function(n3) {
    e2.add(new Zu({ name: n3.join(""), style: { opacity: 0 }, draggable: true, silent: true, invisible: true, drift: Nn(jL, t5, i2, e2, n3), ondragend: Nn(DL, i2, { isEnd: true }) }));
  })), e2;
}
function OL(t5, i2, n2, r2) {
  var e2 = r2.brushStyle.lineWidth || 0, o2 = mL(e2, 6), a2 = n2[0][0], s2 = n2[1][0], l2 = a2 - e2 / 2, u2 = s2 - e2 / 2, f2 = n2[0][1], c2 = n2[1][1], h2 = f2 - o2 + e2 / 2, v2 = c2 - o2 + e2 / 2, d2 = f2 - a2, p2 = c2 - s2, m2 = d2 + e2, b2 = p2 + e2;
  RL(t5, i2, "main", a2, s2, d2, p2), r2.transformable && (RL(t5, i2, "w", l2, u2, o2, b2), RL(t5, i2, "e", h2, u2, o2, b2), RL(t5, i2, "n", l2, u2, m2, o2), RL(t5, i2, "s", l2, v2, m2, o2), RL(t5, i2, "nw", l2, u2, o2, o2), RL(t5, i2, "ne", h2, u2, o2, o2), RL(t5, i2, "sw", l2, v2, o2, o2), RL(t5, i2, "se", h2, v2, o2, o2));
}
function FL(t5, i2) {
  var n2 = i2.__brushOption, r2 = n2.transformable, e2 = i2.childAt(0);
  e2.useStyle(PL(n2)), e2.attr({ silent: !r2, cursor: r2 ? "move" : "default" }), kn([["w"], ["e"], ["n"], ["s"], ["s", "e"], ["s", "w"], ["n", "e"], ["n", "w"]], (function(n3) {
    var e3 = i2.childOfName(n3.join("")), o2 = 1 === n3.length ? VL(t5, n3[0]) : (function(t6, i3) {
      var n4 = [VL(t6, i3[0]), VL(t6, i3[1])];
      return ("e" === n4[0] || "w" === n4[0]) && n4.reverse(), n4.join("");
    })(t5, n3);
    e3 && e3.attr({ silent: !r2, invisible: !r2, cursor: r2 ? wL[o2] + "-resize" : null });
  }));
}
function RL(t5, i2, n2, r2, e2, o2, a2) {
  var s2 = i2.childOfName(n2);
  s2 && s2.setShape((function(t6) {
    var i3 = pL(t6[0][0], t6[1][0]), n3 = pL(t6[0][1], t6[1][1]);
    return { x: i3, y: n3, width: mL(t6[0][0], t6[1][0]) - i3, height: mL(t6[0][1], t6[1][1]) - n3 };
  })(XL(t5, i2, [[r2, e2], [r2 + o2, e2 + a2]])));
}
function PL(t5) {
  return gn({ strokeNoScale: true }, t5.brushStyle);
}
function BL(t5, i2, n2, r2) {
  var e2 = [pL(t5, n2), pL(i2, r2)], o2 = [mL(t5, n2), mL(i2, r2)];
  return [[e2[0], o2[0]], [e2[1], o2[1]]];
}
function VL(t5, i2) {
  var n2 = Yh({ w: "left", e: "right", n: "top", s: "bottom" }[i2], (function(t6) {
    return jh(t6.group);
  })(t5));
  return { left: "w", right: "e", top: "n", bottom: "s" }[n2];
}
function jL(t5, i2, n2, r2, e2, o2) {
  var a2 = n2.__brushOption, s2 = t5.toRectRange(a2.range), l2 = YL(i2, e2, o2);
  kn(r2, (function(t6) {
    var i3 = yL[t6];
    s2[i3[0]][i3[1]] += l2[i3[0]];
  })), a2.range = t5.fromRectRange(BL(s2[0][0], s2[1][0], s2[0][1], s2[1][1])), NL(i2, n2), DL(i2, { isEnd: false });
}
function HL(t5, i2, n2, r2) {
  var e2 = i2.__brushOption.range, o2 = YL(t5, n2, r2);
  kn(e2, (function(t6) {
    t6[0] += o2[0], t6[1] += o2[1];
  })), NL(t5, i2), DL(t5, { isEnd: false });
}
function YL(t5, i2, n2) {
  var r2 = t5.group, e2 = r2.transformCoordToLocal(i2, n2), o2 = r2.transformCoordToLocal(0, 0);
  return [e2[0] - o2[0], e2[1] - o2[1]];
}
function XL(t5, i2, n2) {
  var r2 = IL(t5, i2);
  return r2 && r2 !== dL ? r2.clipPath(n2, t5._transform) : dn(n2);
}
function UL(t5) {
  var i2 = t5.event;
  i2.preventDefault && i2.preventDefault();
}
function $L(t5, i2, n2) {
  return t5.childOfName("main").contain(i2, n2);
}
function GL(t5, i2, n2, r2) {
  var e2, o2 = t5._creatingCover, a2 = t5._creatingPanel, s2 = t5._brushOption;
  if (t5._track.push(n2.slice()), (function(t6) {
    var i3 = t6._track;
    if (!i3.length) return false;
    var n3 = i3[i3.length - 1], r3 = i3[0], e3 = n3[0] - r3[0], o3 = n3[1] - r3[1];
    return bL(e3 * e3 + o3 * o3, 0.5) > 6;
  })(t5) || o2) {
    if (a2 && !o2) {
      "single" === s2.brushMode && LL(t5);
      var l2 = dn(s2);
      l2.brushType = ZL(l2.brushType, a2), l2.panelId = a2 === dL ? null : a2.panelId, o2 = t5._creatingCover = zL(t5, l2), t5._covers.push(o2);
    }
    if (o2) {
      var u2 = KL[ZL(t5._brushType, a2)];
      o2.__brushOption.range = u2.getCreatingRange(XL(t5, o2, t5._track)), r2 && (SL(t5, o2), u2.updateCommon(t5, o2)), CL(t5, o2), e2 = { isEnd: r2 };
    }
  } else r2 && "single" === s2.brushMode && s2.removeOnClick && TL(t5, i2, n2) && LL(t5) && (e2 = { isEnd: r2, removeOnClick: true });
  return e2;
}
function ZL(t5, i2) {
  return "auto" === t5 ? i2.defaultBrushType : t5;
}
var qL = { mousedown: function(t5) {
  if (this._dragging) JL(this, t5);
  else if (!t5.target || !t5.target.draggable) {
    UL(t5);
    var i2 = this.group.transformCoordToLocal(t5.offsetX, t5.offsetY);
    this._creatingCover = null, (this._creatingPanel = TL(this, t5, i2)) && (this._dragging = true, this._track = [i2.slice()]);
  }
}, mousemove: function(t5) {
  var i2 = this.group.transformCoordToLocal(t5.offsetX, t5.offsetY);
  if ((function(t6, i3, n3) {
    if (t6._brushType && !(function(t7, i4, n4) {
      var r3 = t7._zr;
      return i4 < 0 || i4 > r3.getWidth() || n4 < 0 || n4 > r3.getHeight();
    })(t6, i3.offsetX, i3.offsetY)) {
      var r2 = t6._zr, e2 = t6._covers, o2 = TL(t6, i3, n3);
      if (!t6._dragging) for (var a2 = 0; a2 < e2.length; a2++) {
        var s2 = e2[a2].__brushOption;
        if (o2 && (o2 === dL || s2.panelId === o2.panelId) && KL[s2.brushType].contain(e2[a2], n3[0], n3[1])) return;
      }
      o2 && r2.setCursorStyle("crosshair");
    }
  })(this, t5, i2), this._dragging) {
    UL(t5);
    var n2 = GL(this, t5, i2, false);
    n2 && DL(this, n2);
  }
}, mouseup: function(t5) {
  JL(this, t5);
} };
function JL(t5, i2) {
  if (t5._dragging) {
    UL(i2);
    var n2 = t5.group.transformCoordToLocal(i2.offsetX, i2.offsetY), r2 = GL(t5, i2, n2, true);
    t5._dragging = false, t5._track = [], t5._creatingCover = null, r2 && DL(t5, r2);
  }
}
var KL = { lineX: QL(0), lineY: QL(1), rect: { createCover: function(t5, i2) {
  function n2(t6) {
    return t6;
  }
  return EL({ toRectRange: n2, fromRectRange: n2 }, t5, i2, [["w"], ["e"], ["n"], ["s"], ["s", "e"], ["s", "w"], ["n", "e"], ["n", "w"]]);
}, getCreatingRange: function(t5) {
  var i2 = WL(t5);
  return BL(i2[1][0], i2[1][1], i2[0][0], i2[0][1]);
}, updateCoverShape: function(t5, i2, n2, r2) {
  OL(t5, i2, n2, r2);
}, updateCommon: FL, contain: $L }, polygon: { createCover: function(t5, i2) {
  var n2 = new rs();
  return n2.add(new Qc({ name: "main", style: PL(i2), silent: true })), n2;
}, getCreatingRange: function(t5) {
  return t5;
}, endCreating: function(t5, i2) {
  i2.remove(i2.childAt(0)), i2.add(new Jc({ name: "main", draggable: true, drift: Nn(HL, t5, i2), ondragend: Nn(DL, t5, { isEnd: true }) }));
}, updateCoverShape: function(t5, i2, n2) {
  i2.childAt(0).setShape({ points: XL(t5, i2, n2) });
}, updateCommon: FL, contain: $L } };
function QL(t5) {
  return { createCover: function(i2, n2) {
    return EL({ toRectRange: function(i3) {
      var n3 = [i3, [0, 100]];
      return t5 && n3.reverse(), n3;
    }, fromRectRange: function(i3) {
      return i3[t5];
    } }, i2, n2, [[["w"], ["e"]], [["n"], ["s"]]][t5]);
  }, getCreatingRange: function(i2) {
    var n2 = WL(i2);
    return [pL(n2[0][t5], n2[1][t5]), mL(n2[0][t5], n2[1][t5])];
  }, updateCoverShape: function(i2, n2, r2, e2) {
    var o2, a2 = IL(i2, n2);
    if (a2 !== dL && a2.getLinearBrushOtherExtent) o2 = a2.getLinearBrushOtherExtent(t5);
    else {
      var s2 = i2._zr;
      o2 = [0, [s2.getWidth(), s2.getHeight()][1 - t5]];
    }
    var l2 = [r2, o2];
    t5 && l2.reverse(), OL(i2, n2, l2, e2);
  }, updateCommon: FL, contain: $L };
}
function tD(t5) {
  return t5 = rD(t5), function(i2) {
    return $h(i2, t5);
  };
}
function iD(t5, i2) {
  return t5 = rD(t5), function(n2) {
    var r2 = null != i2 ? i2 : n2, e2 = r2 ? t5.x : t5.y;
    return [e2, e2 + ((r2 ? t5.width : t5.height) || 0)];
  };
}
function nD(t5, i2, n2) {
  var r2 = rD(t5);
  return function(t6, e2) {
    return r2.contain(e2[0], e2[1]) && !AA(t6, i2, n2);
  };
}
function rD(t5) {
  return ce.create(t5);
}
var eD = ["axisLine", "axisTickLabel", "axisName"], oD = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(i3, n2) {
    t5.prototype.init.apply(this, arguments), (this._brushController = new ML(n2.getZr())).on("brush", An(this._onBrush, this));
  }, i2.prototype.render = function(t6, i3, n2, r2) {
    if (!(function(t7, i4, n3) {
      return n3 && "axisAreaSelect" === n3.type && i4.findComponents({ mainType: "parallelAxis", query: n3 })[0] === t7;
    })(t6, i3, r2)) {
      this.axisModel = t6, this.api = n2, this.group.removeAll();
      var e2 = this._axisGroup;
      if (this._axisGroup = new rs(), this.group.add(this._axisGroup), t6.get("show")) {
        var o2 = (function(t7, i4) {
          return i4.getComponent("parallel", t7.get("parallelIndex"));
        })(t6, i3), a2 = o2.coordinateSystem, s2 = t6.getAreaSelectStyle(), l2 = s2.width, u2 = bn({ strokeContainThreshold: l2 }, a2.getAxisLayout(t6.axis.dim)), f2 = new LC(t6, u2);
        kn(eD, f2.add, f2), this._axisGroup.add(f2.getGroup()), this._refreshBrushController(u2, s2, t6, o2, l2, n2), Uh(e2, this._axisGroup, t6);
      }
    }
  }, i2.prototype._refreshBrushController = function(t6, i3, n2, r2, e2, o2) {
    var a2 = n2.axis.getExtent(), s2 = a2[1] - a2[0], l2 = Math.min(30, 0.1 * Math.abs(s2)), u2 = ce.create({ x: a2[0], y: -e2 / 2, width: s2, height: e2 });
    u2.x -= l2, u2.width += 2 * l2, this._brushController.mount({ enableGlobalPan: true, rotation: t6.rotation, x: t6.position[0], y: t6.position[1] }).setPanels([{ panelId: "pl", clipPath: tD(u2), isTargetByCursor: nD(u2, o2, r2), getLinearBrushOtherExtent: iD(u2, 0) }]).enableBrush({ brushType: "lineX", brushStyle: i3, removeOnClick: true }).updateCovers((function(t7) {
      var i4 = t7.axis;
      return Mn(t7.activeIntervals, (function(t8) {
        return { brushType: "lineX", panelId: "pl", range: [i4.dataToCoord(t8[0], true), i4.dataToCoord(t8[1], true)] };
      }));
    })(n2));
  }, i2.prototype._onBrush = function(t6) {
    var i3 = this.axisModel, n2 = i3.axis, r2 = Mn(t6.areas, (function(t7) {
      return [n2.coordToData(t7.range[0], true), n2.coordToData(t7.range[1], true)];
    }));
    (!i3.option.realtime === t6.isEnd || t6.removeOnClick) && this.api.dispatchAction({ type: "axisAreaSelect", parallelAxisId: i3.id, intervals: r2 });
  }, i2.prototype.dispose = function() {
    this._brushController.dispose();
  }, i2.type = "parallelAxis", i2;
})(xb), aD = { type: "axisAreaSelect", event: "axisAreaSelected" }, sD = { type: "value", areaSelectStyle: { width: 20, borderWidth: 1, borderColor: "rgba(160,197,232)", color: "rgba(160,197,232)", opacity: 0.3 }, realtime: true, z: 10 };
function lD(t5) {
  t5.registerComponentView($I), t5.registerComponentModel(qI), t5.registerCoordinateSystem("parallel", hL), t5.registerPreprocessor(UI), t5.registerComponentModel(vL), t5.registerComponentView(oD), pC(t5, "parallel", vL, sD), (function(t6) {
    t6.registerAction(aD, (function(t7, i2) {
      i2.eachComponent({ mainType: "parallelAxis", query: t7 }, (function(i3) {
        i3.axis.model.setActiveIntervals(t7.intervals);
      }));
    })), t6.registerAction("parallelAxisExpand", (function(t7, i2) {
      i2.eachComponent({ mainType: "parallel", query: t7 }, (function(i3) {
        i3.setAxisExpand(t7);
      }));
    }));
  })(t5);
}
var uD = function() {
  this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.cpx2 = 0, this.cpy2 = 0, this.extent = 0;
}, fD = (function(t5) {
  function i2(i3) {
    return t5.call(this, i3) || this;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new uD();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = i3.extent;
    t6.moveTo(i3.x1, i3.y1), t6.bezierCurveTo(i3.cpx1, i3.cpy1, i3.cpx2, i3.cpy2, i3.x2, i3.y2), "vertical" === i3.orient ? (t6.lineTo(i3.x2 + n2, i3.y2), t6.bezierCurveTo(i3.cpx2 + n2, i3.cpy2, i3.cpx1 + n2, i3.cpy1, i3.x1 + n2, i3.y1)) : (t6.lineTo(i3.x2, i3.y2 + n2), t6.bezierCurveTo(i3.cpx2, i3.cpy2 + n2, i3.cpx1, i3.cpy1 + n2, i3.x1, i3.y1 + n2)), t6.closePath();
  }, i2.prototype.highlight = function() {
    Bf(this);
  }, i2.prototype.downplay = function() {
    Vf(this);
  }, i2;
})(Fu), cD = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2._focusAdjacencyDisabled = false, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    var r2 = this, e2 = t6.getGraph(), o2 = this.group, a2 = t6.layoutInfo, s2 = a2.width, l2 = a2.height, u2 = t6.getData(), f2 = t6.getData("edge"), c2 = t6.get("orient");
    this._model = t6, o2.removeAll(), o2.x = a2.x, o2.y = a2.y, e2.eachEdge((function(i4) {
      var n3 = new fD(), r3 = hf(n3);
      r3.dataIndex = i4.dataIndex, r3.seriesIndex = t6.seriesIndex, r3.dataType = "edge";
      var e3, a3, u3, h2, v2, d2, p2, m2, b2 = i4.getModel(), g3 = b2.getModel("lineStyle"), y2 = g3.get("curveness"), w3 = i4.node1.getLayout(), x2 = i4.node1.getModel(), k2 = x2.get("localX"), M2 = x2.get("localY"), z2 = i4.node2.getLayout(), S3 = i4.node2.getModel(), C3 = S3.get("localX"), A3 = S3.get("localY"), N2 = i4.getLayout();
      n3.shape.extent = Math.max(1, N2.dy), n3.shape.orient = c2, "vertical" === c2 ? (v2 = e3 = (null != k2 ? k2 * s2 : w3.x) + N2.sy, d2 = (a3 = (null != M2 ? M2 * l2 : w3.y) + w3.dy) * (1 - y2) + (h2 = null != A3 ? A3 * l2 : z2.y) * y2, p2 = u3 = (null != C3 ? C3 * s2 : z2.x) + N2.ty, m2 = a3 * y2 + h2 * (1 - y2)) : (v2 = (e3 = (null != k2 ? k2 * s2 : w3.x) + w3.dx) * (1 - y2) + (u3 = null != C3 ? C3 * s2 : z2.x) * y2, d2 = a3 = (null != M2 ? M2 * l2 : w3.y) + N2.sy, p2 = e3 * y2 + u3 * (1 - y2), m2 = h2 = (null != A3 ? A3 * l2 : z2.y) + N2.ty), n3.setShape({ x1: e3, y1: a3, x2: u3, y2: h2, cpx1: v2, cpy1: d2, cpx2: p2, cpy2: m2 }), n3.useStyle(g3.getItemStyle()), hD(n3.style, c2, i4);
      var _2 = "" + b2.get("value"), T4 = av(b2, "edgeLabel");
      ov(n3, T4, { labelFetcher: { getFormattedLabel: function(i5, n4, r4, e4, o3, a4) {
        return t6.getFormattedLabel(i5, n4, "edge", e4, jn(o3, T4.normal && T4.normal.get("formatter"), _2), a4);
      } }, labelDataIndex: i4.dataIndex, defaultText: _2 }), n3.setTextConfig({ position: "inside" });
      var I2 = b2.getModel("emphasis");
      ec(n3, b2, "lineStyle", (function(t7) {
        var n4 = t7.getItemStyle();
        return hD(n4, c2, i4), n4;
      })), o2.add(n3), f2.setItemGraphicEl(i4.dataIndex, n3);
      var L2 = I2.get("focus");
      tc(n3, "adjacency" === L2 ? i4.getAdjacentDataIndices() : "trajectory" === L2 ? i4.getTrajectoryDataIndices() : L2, I2.get("blurScope"), I2.get("disabled"));
    })), e2.eachNode((function(i4) {
      var n3 = i4.getLayout(), r3 = i4.getModel(), e3 = r3.get("localX"), a3 = r3.get("localY"), f3 = r3.getModel("emphasis"), c3 = r3.get(["itemStyle", "borderRadius"]) || 0, h2 = new Zu({ shape: { x: null != e3 ? e3 * s2 : n3.x, y: null != a3 ? a3 * l2 : n3.y, width: n3.dx, height: n3.dy, r: c3 }, style: r3.getModel("itemStyle").getItemStyle(), z2: 10 });
      ov(h2, av(r3), { labelFetcher: { getFormattedLabel: function(i5, n4) {
        return t6.getFormattedLabel(i5, n4, "node");
      } }, labelDataIndex: i4.dataIndex, defaultText: i4.id }), h2.disableLabelAnimation = true, h2.setStyle("fill", i4.getVisual("color")), h2.setStyle("decal", i4.getVisual("style").decal), ec(h2, r3), o2.add(h2), u2.setItemGraphicEl(i4.dataIndex, h2), hf(h2).dataType = "node";
      var v2 = f3.get("focus");
      tc(h2, "adjacency" === v2 ? i4.getAdjacentDataIndices() : "trajectory" === v2 ? i4.getTrajectoryDataIndices() : v2, f3.get("blurScope"), f3.get("disabled"));
    })), u2.eachItemGraphicEl((function(i4, e3) {
      u2.getItemModel(e3).get("draggable") && (i4.drift = function(i5, o3) {
        r2._focusAdjacencyDisabled = true, this.shape.x += i5, this.shape.y += o3, this.dirty(), n2.dispatchAction({ type: "dragNode", seriesId: t6.id, dataIndex: u2.getRawIndex(e3), localX: this.shape.x / s2, localY: this.shape.y / l2 });
      }, i4.ondragend = function() {
        r2._focusAdjacencyDisabled = false;
      }, i4.draggable = true, i4.cursor = "move");
    })), !this._data && t6.isAnimationEnabled() && o2.setClipPath((function(t7, i4) {
      var n3 = new Zu({ shape: { x: t7.x - 10, y: t7.y - 10, width: 0, height: t7.height + 20 } });
      return zh(n3, { shape: { width: t7.width + 20 } }, i4, (function() {
        o2.removeClipPath();
      })), n3;
    })(o2.getBoundingRect(), t6)), this._data = t6.getData();
  }, i2.prototype.dispose = function() {
  }, i2.type = "sankey", i2;
})(Sb);
function hD(t5, i2, n2) {
  switch (t5.fill) {
    case "source":
      t5.fill = n2.node1.getVisual("color"), t5.decal = n2.node1.getVisual("style").decal;
      break;
    case "target":
      t5.fill = n2.node2.getVisual("color"), t5.decal = n2.node2.getVisual("style").decal;
      break;
    case "gradient":
      var r2 = n2.node1.getVisual("color"), e2 = n2.node2.getVisual("color");
      In(r2) && In(e2) && (t5.fill = new ch(0, 0, +("horizontal" === i2), +("vertical" === i2), [{ color: r2, offset: 0 }, { color: e2, offset: 1 }]));
  }
}
var vD = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function(t6, i3) {
    var n2 = t6.edges || t6.links || [], r2 = t6.data || t6.nodes || [], e2 = t6.levels || [];
    this.levelModels = [];
    for (var o2 = this.levelModels, a2 = 0; a2 < e2.length; a2++) null != e2[a2].depth && e2[a2].depth >= 0 && (o2[e2[a2].depth] = new _v(e2[a2], this, i3));
    return zI(r2, n2, this, true, (function(t7, i4) {
      t7.wrapMethod("getItemModel", (function(t8, i5) {
        var n3 = t8.parentModel, r3 = n3.getData().getItemLayout(i5);
        if (r3) {
          var e3 = n3.levelModels[r3.depth];
          e3 && (t8.parentModel = e3);
        }
        return t8;
      })), i4.wrapMethod("getItemModel", (function(t8, i5) {
        var n3 = t8.parentModel, r3 = n3.getGraph().getEdgeByIndex(i5).node1.getLayout();
        if (r3) {
          var e3 = n3.levelModels[r3.depth];
          e3 && (t8.parentModel = e3);
        }
        return t8;
      }));
    })).data;
  }, i2.prototype.setNodePosition = function(t6, i3) {
    var n2 = (this.option.data || this.option.nodes)[t6];
    n2.localX = i3[0], n2.localY = i3[1];
  }, i2.prototype.getGraph = function() {
    return this.getData().graph;
  }, i2.prototype.getEdgeData = function() {
    return this.getGraph().edgeData;
  }, i2.prototype.formatTooltip = function(t6, i3, n2) {
    function r2(t7) {
      return isNaN(t7) || null == t7;
    }
    if ("edge" === n2) {
      var e2 = this.getDataParams(t6, n2), o2 = e2.data, a2 = e2.value;
      return Jm("nameValue", { name: o2.source + " -- " + o2.target, value: a2, noValue: r2(a2) });
    }
    var s2 = this.getGraph().getNodeByIndex(t6).getLayout().value, l2 = this.getDataParams(t6, n2).data.name;
    return Jm("nameValue", { name: null != l2 ? l2 + "" : null, value: s2, noValue: r2(s2) });
  }, i2.prototype.optionUpdated = function() {
  }, i2.prototype.getDataParams = function(i3, n2) {
    var r2 = t5.prototype.getDataParams.call(this, i3, n2);
    if (null == r2.value && "node" === n2) {
      var e2 = this.getGraph().getNodeByIndex(i3).getLayout().value;
      r2.value = e2;
    }
    return r2;
  }, i2.type = "series.sankey", i2.defaultOption = { z: 2, coordinateSystem: "view", left: "5%", top: "5%", right: "20%", bottom: "5%", orient: "horizontal", nodeWidth: 20, nodeGap: 8, draggable: true, layoutIterations: 32, label: { show: true, position: "right", fontSize: 12 }, edgeLabel: { show: false, fontSize: 12 }, levels: [], nodeAlign: "justify", lineStyle: { color: "#314656", opacity: 0.2, curveness: 0.5 }, emphasis: { label: { show: true }, lineStyle: { opacity: 0.5 } }, select: { itemStyle: { borderColor: "#212121" } }, animationEasing: "linear", animationDuration: 1e3 }, i2;
})(vb);
function dD(t5, i2) {
  t5.eachSeriesByType("sankey", (function(t6) {
    var n2 = t6.get("nodeWidth"), r2 = t6.get("nodeGap"), e2 = (function(t7, i3) {
      return Nd(t7.getBoxLayoutParams(), { width: i3.getWidth(), height: i3.getHeight() });
    })(t6, i2);
    t6.layoutInfo = e2;
    var o2 = e2.width, a2 = e2.height, s2 = t6.getGraph(), l2 = s2.nodes, u2 = s2.edges;
    !(function(t7) {
      kn(t7, (function(t8) {
        var i3 = zD(t8.outEdges, MD), n3 = zD(t8.inEdges, MD), r3 = t8.getValue() || 0, e3 = Math.max(i3, n3, r3);
        t8.setLayout({ value: e3 }, true);
      }));
    })(l2), (function(t7, i3, n3, r3, e3, o3, a3, s3, l3) {
      (function(t8, i4, n4, r4, e4, o4, a4) {
        for (var s4 = [], l4 = [], u3 = [], f2 = [], c2 = 0, h2 = 0; h2 < i4.length; h2++) s4[h2] = 1;
        for (h2 = 0; h2 < t8.length; h2++) l4[h2] = t8[h2].inEdges.length, 0 === l4[h2] && u3.push(t8[h2]);
        for (var v2 = -1; u3.length; ) {
          for (var d2 = 0; d2 < u3.length; d2++) {
            var p2 = u3[d2], m2 = p2.hostGraph.data.getRawDataItem(p2.dataIndex), b2 = null != m2.depth && m2.depth >= 0;
            b2 && m2.depth > v2 && (v2 = m2.depth), p2.setLayout({ depth: b2 ? m2.depth : c2 }, true), p2.setLayout("vertical" === o4 ? { dy: n4 } : { dx: n4 }, true);
            for (var g3 = 0; g3 < p2.outEdges.length; g3++) {
              var y2 = p2.outEdges[g3];
              s4[i4.indexOf(y2)] = 0;
              var w3 = y2.node2;
              0 == --l4[t8.indexOf(w3)] && f2.indexOf(w3) < 0 && f2.push(w3);
            }
          }
          ++c2, u3 = f2, f2 = [];
        }
        for (h2 = 0; h2 < s4.length; h2++) if (1 === s4[h2]) throw new Error("Sankey is a DAG, the original data has cycle!");
        var x2 = v2 > c2 - 1 ? v2 : c2 - 1;
        a4 && "left" !== a4 && (function(t9, i5, n5, r5) {
          if ("right" === i5) {
            for (var e5 = [], o5 = t9, a5 = 0; o5.length; ) {
              for (var s5 = 0; s5 < o5.length; s5++) {
                var l5 = o5[s5];
                l5.setLayout({ skNodeHeight: a5 }, true);
                for (var u4 = 0; u4 < l5.inEdges.length; u4++) {
                  var f3 = l5.inEdges[u4];
                  e5.indexOf(f3.node1) < 0 && e5.push(f3.node1);
                }
              }
              o5 = e5, e5 = [], ++a5;
            }
            kn(t9, (function(t10) {
              pD(t10) || t10.setLayout({ depth: Math.max(0, r5 - t10.getLayout().skNodeHeight) }, true);
            }));
          } else "justify" === i5 && (function(t10, i6) {
            kn(t10, (function(t11) {
              pD(t11) || t11.outEdges.length || t11.setLayout({ depth: i6 }, true);
            }));
          })(t9, r5);
        })(t8, a4, 0, x2), (function(t9, i5, n5) {
          kn(t9, (function(t10) {
            var r5 = t10.getLayout().depth * i5;
            t10.setLayout("vertical" === n5 ? { y: r5 } : { x: r5 }, true);
          }));
        })(t8, "vertical" === o4 ? (e4 - n4) / x2 : (r4 - n4) / x2, o4);
      })(t7, i3, n3, e3, o3, s3, l3), (function(t8, i4, n4, r4, e4, o4, a4) {
        var s4 = (function(t9, i5) {
          var n5 = [], r5 = "vertical" === i5 ? "y" : "x", e5 = Qs(t9, (function(t10) {
            return t10.getLayout()[r5];
          }));
          return e5.keys.sort((function(t10, i6) {
            return t10 - i6;
          })), kn(e5.keys, (function(t10) {
            n5.push(e5.buckets.get(t10));
          })), n5;
        })(t8, a4);
        (function(t9, i5, n5, r5, e5, o5) {
          var a5 = 1 / 0;
          kn(t9, (function(t10) {
            var i6 = t10.length, s5 = 0;
            kn(t10, (function(t11) {
              s5 += t11.getLayout().value;
            }));
            var l5 = "vertical" === o5 ? (r5 - (i6 - 1) * e5) / s5 : (n5 - (i6 - 1) * e5) / s5;
            l5 < a5 && (a5 = l5);
          })), kn(t9, (function(t10) {
            kn(t10, (function(t11, i6) {
              var n6 = t11.getLayout().value * a5;
              "vertical" === o5 ? (t11.setLayout({ x: i6 }, true), t11.setLayout({ dx: n6 }, true)) : (t11.setLayout({ y: i6 }, true), t11.setLayout({ dy: n6 }, true));
            }));
          })), kn(i5, (function(t10) {
            var i6 = +t10.getValue() * a5;
            t10.setLayout({ dy: i6 }, true);
          }));
        })(s4, i4, n4, r4, e4, a4), mD(s4, e4, n4, r4, a4);
        for (var l4 = 1; o4 > 0; o4--) bD(s4, l4 *= 0.99, a4), mD(s4, e4, n4, r4, a4), SD(s4, l4, a4), mD(s4, e4, n4, r4, a4);
      })(t7, i3, o3, e3, r3, a3, s3), (function(t8, i4) {
        var n4 = "vertical" === i4 ? "x" : "y";
        kn(t8, (function(t9) {
          t9.outEdges.sort((function(t10, i5) {
            return t10.node2.getLayout()[n4] - i5.node2.getLayout()[n4];
          })), t9.inEdges.sort((function(t10, i5) {
            return t10.node1.getLayout()[n4] - i5.node1.getLayout()[n4];
          }));
        })), kn(t8, (function(t9) {
          var i5 = 0, n5 = 0;
          kn(t9.outEdges, (function(t10) {
            t10.setLayout({ sy: i5 }, true), i5 += t10.getLayout().dy;
          })), kn(t9.inEdges, (function(t10) {
            t10.setLayout({ ty: n5 }, true), n5 += t10.getLayout().dy;
          }));
        }));
      })(t7, s3);
    })(l2, u2, n2, r2, o2, a2, 0 !== Sn(l2, (function(t7) {
      return 0 === t7.getLayout().value;
    })).length ? 0 : t6.get("layoutIterations"), t6.get("orient"), t6.get("nodeAlign"));
  }));
}
function pD(t5) {
  var i2 = t5.hostGraph.data.getRawDataItem(t5.dataIndex);
  return null != i2.depth && i2.depth >= 0;
}
function mD(t5, i2, n2, r2, e2) {
  var o2 = "vertical" === e2 ? "x" : "y";
  kn(t5, (function(t6) {
    var a2, s2, l2;
    t6.sort((function(t7, i3) {
      return t7.getLayout()[o2] - i3.getLayout()[o2];
    }));
    for (var u2 = 0, f2 = t6.length, c2 = "vertical" === e2 ? "dx" : "dy", h2 = 0; h2 < f2; h2++) (l2 = u2 - (s2 = t6[h2]).getLayout()[o2]) > 0 && (a2 = s2.getLayout()[o2] + l2, s2.setLayout("vertical" === e2 ? { x: a2 } : { y: a2 }, true)), u2 = s2.getLayout()[o2] + s2.getLayout()[c2] + i2;
    if ((l2 = u2 - i2 - ("vertical" === e2 ? r2 : n2)) > 0) for (a2 = s2.getLayout()[o2] - l2, s2.setLayout("vertical" === e2 ? { x: a2 } : { y: a2 }, true), u2 = a2, h2 = f2 - 2; h2 >= 0; --h2) (l2 = (s2 = t6[h2]).getLayout()[o2] + s2.getLayout()[c2] + i2 - u2) > 0 && (a2 = s2.getLayout()[o2] - l2, s2.setLayout("vertical" === e2 ? { x: a2 } : { y: a2 }, true)), u2 = s2.getLayout()[o2];
  }));
}
function bD(t5, i2, n2) {
  kn(t5.slice().reverse(), (function(t6) {
    kn(t6, (function(t7) {
      if (t7.outEdges.length) {
        var r2 = zD(t7.outEdges, gD, n2) / zD(t7.outEdges, MD);
        if (isNaN(r2)) {
          var e2 = t7.outEdges.length;
          r2 = e2 ? zD(t7.outEdges, yD, n2) / e2 : 0;
        }
        if ("vertical" === n2) {
          var o2 = t7.getLayout().x + (r2 - kD(t7, n2)) * i2;
          t7.setLayout({ x: o2 }, true);
        } else {
          var a2 = t7.getLayout().y + (r2 - kD(t7, n2)) * i2;
          t7.setLayout({ y: a2 }, true);
        }
      }
    }));
  }));
}
function gD(t5, i2) {
  return kD(t5.node2, i2) * t5.getValue();
}
function yD(t5, i2) {
  return kD(t5.node2, i2);
}
function wD(t5, i2) {
  return kD(t5.node1, i2) * t5.getValue();
}
function xD(t5, i2) {
  return kD(t5.node1, i2);
}
function kD(t5, i2) {
  return "vertical" === i2 ? t5.getLayout().x + t5.getLayout().dx / 2 : t5.getLayout().y + t5.getLayout().dy / 2;
}
function MD(t5) {
  return t5.getValue();
}
function zD(t5, i2, n2) {
  for (var r2 = 0, e2 = t5.length, o2 = -1; ++o2 < e2; ) {
    var a2 = +i2(t5[o2], n2);
    isNaN(a2) || (r2 += a2);
  }
  return r2;
}
function SD(t5, i2, n2) {
  kn(t5, (function(t6) {
    kn(t6, (function(t7) {
      if (t7.inEdges.length) {
        var r2 = zD(t7.inEdges, wD, n2) / zD(t7.inEdges, MD);
        if (isNaN(r2)) {
          var e2 = t7.inEdges.length;
          r2 = e2 ? zD(t7.inEdges, xD, n2) / e2 : 0;
        }
        if ("vertical" === n2) {
          var o2 = t7.getLayout().x + (r2 - kD(t7, n2)) * i2;
          t7.setLayout({ x: o2 }, true);
        } else {
          var a2 = t7.getLayout().y + (r2 - kD(t7, n2)) * i2;
          t7.setLayout({ y: a2 }, true);
        }
      }
    }));
  }));
}
function CD(t5) {
  t5.eachSeriesByType("sankey", (function(t6) {
    var i2 = t6.getGraph(), n2 = i2.nodes, r2 = i2.edges;
    if (n2.length) {
      var e2 = 1 / 0, o2 = -1 / 0;
      kn(n2, (function(t7) {
        var i3 = t7.getLayout().value;
        i3 < e2 && (e2 = i3), i3 > o2 && (o2 = i3);
      })), kn(n2, (function(i3) {
        var n3 = new Y_({ type: "color", mappingMethod: "linear", dataExtent: [e2, o2], visual: t6.get("color") }).mapValueToVisual(i3.getLayout().value), r3 = i3.getModel().get(["itemStyle", "color"]);
        null != r3 ? (i3.setVisual("color", r3), i3.setVisual("style", { fill: r3 })) : (i3.setVisual("color", n3), i3.setVisual("style", { fill: n3 }));
      }));
    }
    r2.length && kn(r2, (function(t7) {
      var i3 = t7.getModel().get("lineStyle");
      t7.setVisual("style", i3);
    }));
  }));
}
var AD = (function() {
  function t5() {
  }
  return t5.prototype._hasEncodeRule = function(t6) {
    var i2 = this.getEncode();
    return i2 && null != i2.get(t6);
  }, t5.prototype.getInitialData = function(t6, i2) {
    var n2, r2, e2 = i2.getComponent("xAxis", this.get("xAxisIndex")), o2 = i2.getComponent("yAxis", this.get("yAxisIndex")), a2 = e2.get("type"), s2 = o2.get("type");
    "category" === a2 ? (t6.layout = "horizontal", n2 = e2.getOrdinalMeta(), r2 = !this._hasEncodeRule("x")) : "category" === s2 ? (t6.layout = "vertical", n2 = o2.getOrdinalMeta(), r2 = !this._hasEncodeRule("y")) : t6.layout = t6.layout || "horizontal";
    var l2 = ["x", "y"], u2 = "horizontal" === t6.layout ? 0 : 1, f2 = this._baseAxisDim = l2[u2], c2 = l2[1 - u2], h2 = [e2, o2], v2 = h2[u2].get("type"), d2 = h2[1 - u2].get("type"), p2 = t6.data;
    if (p2 && r2) {
      var m2 = [];
      kn(p2, (function(t7, i3) {
        var n3;
        _n(t7) ? (n3 = t7.slice(), t7.unshift(i3)) : _n(t7.value) ? ((n3 = bn({}, t7)).value = n3.value.slice(), t7.value.unshift(i3)) : n3 = t7, m2.push(n3);
      })), t6.data = m2;
    }
    var b2 = this.defaultValueDimensions, g3 = [{ name: f2, type: Cw(v2), ordinalMeta: n2, otherDims: { tooltip: false, itemName: 0 }, dimsDef: ["base"] }, { name: c2, type: Cw(d2), dimsDef: b2.slice() }];
    return QS(this, { coordDimensions: g3, dimensionsCount: b2.length + 1, encodeDefaulter: Nn(Zd, g3, this) });
  }, t5.prototype.getBaseAxis = function() {
    var t6 = this._baseAxisDim;
    return this.ecModel.getComponent(t6 + "Axis", this.get(t6 + "AxisIndex")).axis;
  }, t5;
})(), ND = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.defaultValueDimensions = [{ name: "min", defaultTooltip: true }, { name: "Q1", defaultTooltip: true }, { name: "median", defaultTooltip: true }, { name: "Q3", defaultTooltip: true }, { name: "max", defaultTooltip: true }], n2.visualDrawType = "stroke", n2;
  }
  return Yi(i2, t5), i2.type = "series.boxplot", i2.dependencies = ["xAxis", "yAxis", "grid"], i2.defaultOption = { z: 2, coordinateSystem: "cartesian2d", legendHoverLink: true, layout: null, boxWidth: [7, 50], itemStyle: { color: "#fff", borderWidth: 1 }, emphasis: { scale: true, itemStyle: { borderWidth: 2, shadowBlur: 5, shadowOffsetX: 1, shadowOffsetY: 1, shadowColor: "rgba(0,0,0,0.2)" } }, animationDuration: 800 }, i2;
})(vb);
wn(ND, AD, true);
var _D = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6) {
    var i3 = t6.getData(), n2 = this.group, r2 = this._data;
    this._data || n2.removeAll();
    var e2 = "horizontal" === t6.get("layout") ? 1 : 0;
    i3.diff(r2).add((function(t7) {
      if (i3.hasValue(t7)) {
        var r3 = LD(i3.getItemLayout(t7), i3, t7, e2, true);
        i3.setItemGraphicEl(t7, r3), n2.add(r3);
      }
    })).update((function(t7, o2) {
      var a2 = r2.getItemGraphicEl(o2);
      if (i3.hasValue(t7)) {
        var s2 = i3.getItemLayout(t7);
        a2 ? (_h(a2), DD(s2, a2, i3, t7)) : a2 = LD(s2, i3, t7, e2), n2.add(a2), i3.setItemGraphicEl(t7, a2);
      } else n2.remove(a2);
    })).remove((function(t7) {
      var i4 = r2.getItemGraphicEl(t7);
      i4 && n2.remove(i4);
    })).execute(), this._data = i3;
  }, i2.prototype.remove = function() {
    var t6 = this.group, i3 = this._data;
    this._data = null, i3 && i3.eachItemGraphicEl((function(i4) {
      i4 && t6.remove(i4);
    }));
  }, i2.type = "boxplot", i2;
})(Sb), TD = function() {
}, ID = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2.type = "boxplotBoxPath", n2;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new TD();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = i3.points, r2 = 0;
    for (t6.moveTo(n2[r2][0], n2[r2][1]), r2++; r2 < 4; r2++) t6.lineTo(n2[r2][0], n2[r2][1]);
    for (t6.closePath(); r2 < n2.length; r2++) t6.moveTo(n2[r2][0], n2[r2][1]), r2++, t6.lineTo(n2[r2][0], n2[r2][1]);
  }, i2;
})(Fu);
function LD(t5, i2, n2, r2, e2) {
  var o2 = t5.ends, a2 = new ID({ shape: { points: e2 ? WD(o2, r2, t5) : o2 } });
  return DD(t5, a2, i2, n2, e2), a2;
}
function DD(t5, i2, n2, r2, e2) {
  (0, iv[e2 ? "initProps" : "updateProps"])(i2, { shape: { points: t5.ends } }, n2.hostModel, r2), i2.useStyle(n2.getItemVisual(r2, "style")), i2.style.strokeNoScale = true, i2.z2 = 100;
  var o2 = n2.getItemModel(r2), a2 = o2.getModel("emphasis");
  ec(i2, o2), tc(i2, a2.get("focus"), a2.get("blurScope"), a2.get("disabled"));
}
function WD(t5, i2, n2) {
  return Mn(t5, (function(t6) {
    return (t6 = t6.slice())[i2] = n2.initBaseline, t6;
  }));
}
var ED = kn;
function OD(t5) {
  var i2 = (function(t6) {
    var i3 = [], n2 = [];
    return t6.eachSeriesByType("boxplot", (function(t7) {
      var r2 = t7.getBaseAxis(), e2 = yn(n2, r2);
      e2 < 0 && (n2[e2 = n2.length] = r2, i3[e2] = { axis: r2, seriesModels: [] }), i3[e2].seriesModels.push(t7);
    })), i3;
  })(t5);
  ED(i2, (function(t6) {
    var i3 = t6.seriesModels;
    i3.length && ((function(t7) {
      var i4, n2 = t7.axis, r2 = t7.seriesModels, e2 = r2.length, o2 = t7.boxWidthList = [], a2 = t7.boxOffsetList = [], s2 = [];
      if ("category" === n2.type) i4 = n2.getBandWidth();
      else {
        var l2 = 0;
        ED(r2, (function(t8) {
          l2 = Math.max(l2, t8.getData().count());
        }));
        var u2 = n2.getExtent();
        i4 = Math.abs(u2[1] - u2[0]) / l2;
      }
      ED(r2, (function(t8) {
        var n3 = t8.get("boxWidth");
        _n(n3) || (n3 = [n3, n3]), s2.push([us(n3[0], i4) || 0, us(n3[1], i4) || 0]);
      }));
      var f2 = 0.8 * i4 - 2, c2 = f2 / e2 * 0.3, h2 = (f2 - c2 * (e2 - 1)) / e2, v2 = h2 / 2 - f2 / 2;
      ED(r2, (function(t8, i5) {
        a2.push(v2), v2 += c2 + h2, o2.push(Math.min(Math.max(h2, s2[i5][0]), s2[i5][1]));
      }));
    })(t6), ED(i3, (function(i4, n2) {
      !(function(t7, i5, n3) {
        var r2 = t7.coordinateSystem, e2 = t7.getData(), o2 = n3 / 2, a2 = "horizontal" === t7.get("layout") ? 0 : 1, s2 = 1 - a2, l2 = ["x", "y"], u2 = e2.mapDimension(l2[a2]), f2 = e2.mapDimensionsAll(l2[s2]);
        if (!(null == u2 || f2.length < 5)) for (var c2 = 0; c2 < e2.count(); c2++) {
          var h2 = e2.get(u2, c2), v2 = y2(h2, f2[2], c2), d2 = y2(h2, f2[0], c2), p2 = y2(h2, f2[1], c2), m2 = y2(h2, f2[3], c2), b2 = y2(h2, f2[4], c2), g3 = [];
          w3(g3, p2, false), w3(g3, m2, true), g3.push(d2, p2, b2, m2), x2(g3, d2), x2(g3, b2), x2(g3, v2), e2.setItemLayout(c2, { initBaseline: v2[s2], ends: g3 });
        }
        function y2(t8, n4, o3) {
          var l3, u3 = e2.get(n4, o3), f3 = [];
          return f3[a2] = t8, f3[s2] = u3, isNaN(t8) || isNaN(u3) ? l3 = [NaN, NaN] : (l3 = r2.dataToPoint(f3))[a2] += i5, l3;
        }
        function w3(t8, i6, n4) {
          var r3 = i6.slice(), e3 = i6.slice();
          r3[a2] += o2, e3[a2] -= o2, n4 ? t8.push(r3, e3) : t8.push(e3, r3);
        }
        function x2(t8, i6) {
          var n4 = i6.slice(), r3 = i6.slice();
          n4[a2] -= o2, r3[a2] += o2, t8.push(n4, r3);
        }
      })(i4, t6.boxOffsetList[n2], t6.boxWidthList[n2]);
    })));
  }));
}
var FD = { type: "echarts:boxplot", transform: function(t5) {
  var i2 = t5.upstream;
  i2.sourceFormat !== Vd && _s("");
  var n2 = (function(t6, i3) {
    for (var n3 = [], r2 = [], e2 = (i3 = i3 || {}).boundIQR, o2 = "none" === e2 || 0 === e2, a2 = 0; a2 < t6.length; a2++) {
      var s2 = cs(t6[a2].slice()), l2 = ks(s2, 0.25), u2 = ks(s2, 0.5), f2 = ks(s2, 0.75), c2 = s2[0], h2 = s2[s2.length - 1], v2 = (null == e2 ? 1.5 : e2) * (f2 - l2), d2 = o2 ? c2 : Math.max(c2, l2 - v2), p2 = o2 ? h2 : Math.min(h2, f2 + v2), m2 = i3.itemNameFormatter, b2 = Tn(m2) ? m2({ value: a2 }) : In(m2) ? m2.replace("{value}", a2 + "") : a2 + "";
      n3.push([b2, d2, l2, u2, f2, p2]);
      for (var g3 = 0; g3 < s2.length; g3++) {
        var y2 = s2[g3];
        (y2 < d2 || y2 > p2) && r2.push([b2, y2]);
      }
    }
    return { boxData: n3, outliers: r2 };
  })(i2.getRawData(), t5.config);
  return [{ dimensions: ["ItemName", "Low", "Q1", "Q2", "Q3", "High"], data: n2.boxData }, { data: n2.outliers }];
} }, RD = ["itemStyle", "borderColor"], PD = ["itemStyle", "borderColor0"], BD = ["itemStyle", "borderColorDoji"], VD = ["itemStyle", "color"], jD = ["itemStyle", "color0"];
function HD(t5, i2) {
  return i2.get(t5 > 0 ? VD : jD);
}
function YD(t5, i2) {
  return i2.get(0 === t5 ? BD : t5 > 0 ? RD : PD);
}
var XD = { seriesType: "candlestick", plan: kb(), performRawSeries: true, reset: function(t5, i2) {
  if (!i2.isSeriesFiltered(t5)) return !t5.pipelineContext.large && { progress: function(t6, i3) {
    for (var n2; null != (n2 = t6.next()); ) {
      var r2 = i3.getItemModel(n2), e2 = i3.getItemLayout(n2).sign, o2 = r2.getItemStyle();
      o2.fill = HD(e2, r2), o2.stroke = YD(e2, r2) || o2.fill, bn(i3.ensureUniqueItemVisual(n2, "style"), o2);
    }
  } };
} }, UD = ["color", "borderColor"], $D = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6) {
    this.group.removeClipPath(), this._progressiveEls = null, this._updateDrawMode(t6), this._isLargeDraw ? this._renderLarge(t6) : this._renderNormal(t6);
  }, i2.prototype.incrementalPrepareRender = function(t6) {
    this._clear(), this._updateDrawMode(t6);
  }, i2.prototype.incrementalRender = function(t6, i3) {
    this._progressiveEls = [], this._isLargeDraw ? this._incrementalRenderLarge(t6, i3) : this._incrementalRenderNormal(t6, i3);
  }, i2.prototype.eachRendered = function(t6) {
    tv(this._progressiveEls || this.group, t6);
  }, i2.prototype._updateDrawMode = function(t6) {
    var i3 = t6.pipelineContext.large;
    null != this._isLargeDraw && i3 === this._isLargeDraw || (this._isLargeDraw = i3, this._clear());
  }, i2.prototype._renderNormal = function(t6) {
    var i3 = t6.getData(), n2 = this._data, r2 = this.group, e2 = i3.getLayout("isSimpleBox"), o2 = t6.get("clip", true), a2 = t6.coordinateSystem, s2 = a2.getArea && a2.getArea();
    this._data || r2.removeAll(), i3.diff(n2).add((function(n3) {
      if (i3.hasValue(n3)) {
        var a3 = i3.getItemLayout(n3);
        if (o2 && JD(s2, a3)) return;
        var l2 = qD(a3, 0, true);
        zh(l2, { shape: { points: a3.ends } }, t6, n3), KD(l2, i3, n3, e2), r2.add(l2), i3.setItemGraphicEl(n3, l2);
      }
    })).update((function(a3, l2) {
      var u2 = n2.getItemGraphicEl(l2);
      if (i3.hasValue(a3)) {
        var f2 = i3.getItemLayout(a3);
        o2 && JD(s2, f2) ? r2.remove(u2) : (u2 ? (Mh(u2, { shape: { points: f2.ends } }, t6, a3), _h(u2)) : u2 = qD(f2), KD(u2, i3, a3, e2), r2.add(u2), i3.setItemGraphicEl(a3, u2));
      } else r2.remove(u2);
    })).remove((function(t7) {
      var i4 = n2.getItemGraphicEl(t7);
      i4 && r2.remove(i4);
    })).execute(), this._data = i3;
  }, i2.prototype._renderLarge = function(t6) {
    this._clear(), nW(t6, this.group);
    var i3 = t6.get("clip", true) ? tS(t6.coordinateSystem, false, t6) : null;
    i3 ? this.group.setClipPath(i3) : this.group.removeClipPath();
  }, i2.prototype._incrementalRenderNormal = function(t6, i3) {
    for (var n2, r2 = i3.getData(), e2 = r2.getLayout("isSimpleBox"); null != (n2 = t6.next()); ) {
      var o2 = qD(r2.getItemLayout(n2));
      KD(o2, r2, n2, e2), o2.incremental = true, this.group.add(o2), this._progressiveEls.push(o2);
    }
  }, i2.prototype._incrementalRenderLarge = function(t6, i3) {
    nW(i3, this.group, this._progressiveEls, true);
  }, i2.prototype.remove = function() {
    this._clear();
  }, i2.prototype._clear = function() {
    this.group.removeAll(), this._data = null;
  }, i2.type = "candlestick", i2;
})(Sb), GD = function() {
}, ZD = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2.type = "normalCandlestickBox", n2;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new GD();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2 = i3.points;
    this.__simpleBox ? (t6.moveTo(n2[4][0], n2[4][1]), t6.lineTo(n2[6][0], n2[6][1])) : (t6.moveTo(n2[0][0], n2[0][1]), t6.lineTo(n2[1][0], n2[1][1]), t6.lineTo(n2[2][0], n2[2][1]), t6.lineTo(n2[3][0], n2[3][1]), t6.closePath(), t6.moveTo(n2[4][0], n2[4][1]), t6.lineTo(n2[5][0], n2[5][1]), t6.moveTo(n2[6][0], n2[6][1]), t6.lineTo(n2[7][0], n2[7][1]));
  }, i2;
})(Fu);
function qD(t5, i2, n2) {
  var r2 = t5.ends;
  return new ZD({ shape: { points: n2 ? QD(r2, t5) : r2 }, z2: 100 });
}
function JD(t5, i2) {
  for (var n2 = true, r2 = 0; r2 < i2.ends.length; r2++) if (t5.contain(i2.ends[r2][0], i2.ends[r2][1])) {
    n2 = false;
    break;
  }
  return n2;
}
function KD(t5, i2, n2, r2) {
  var e2 = i2.getItemModel(n2);
  t5.useStyle(i2.getItemVisual(n2, "style")), t5.style.strokeNoScale = true, t5.__simpleBox = r2, ec(t5, e2);
  var o2 = i2.getItemLayout(n2).sign;
  kn(t5.states, (function(t6, i3) {
    var n3 = e2.getModel(i3), r3 = HD(o2, n3), a3 = YD(o2, n3) || r3, s2 = t6.style || (t6.style = {});
    r3 && (s2.fill = r3), a3 && (s2.stroke = a3);
  }));
  var a2 = e2.getModel("emphasis");
  tc(t5, a2.get("focus"), a2.get("blurScope"), a2.get("disabled"));
}
function QD(t5, i2) {
  return Mn(t5, (function(t6) {
    return (t6 = t6.slice())[1] = i2.initBaseline, t6;
  }));
}
var tW = function() {
}, iW = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2.type = "largeCandlestickBox", n2;
  }
  return Yi(i2, t5), i2.prototype.getDefaultShape = function() {
    return new tW();
  }, i2.prototype.buildPath = function(t6, i3) {
    for (var n2 = i3.points, r2 = 0; r2 < n2.length; ) if (this.__sign === n2[r2++]) {
      var e2 = n2[r2++];
      t6.moveTo(e2, n2[r2++]), t6.lineTo(e2, n2[r2++]);
    } else r2 += 3;
  }, i2;
})(Fu);
function nW(t5, i2, n2, r2) {
  var e2 = t5.getData().getLayout("largePoints"), o2 = new iW({ shape: { points: e2 }, __sign: 1, ignoreCoarsePointer: true });
  i2.add(o2);
  var a2 = new iW({ shape: { points: e2 }, __sign: -1, ignoreCoarsePointer: true });
  i2.add(a2);
  var s2 = new iW({ shape: { points: e2 }, __sign: 0, ignoreCoarsePointer: true });
  i2.add(s2), rW(1, o2, t5), rW(-1, a2, t5), rW(0, s2, t5), r2 && (o2.incremental = true, a2.incremental = true), n2 && n2.push(o2, a2);
}
function rW(t5, i2, n2) {
  var r2 = YD(t5, n2) || HD(t5, n2), e2 = n2.getModel("itemStyle").getItemStyle(UD);
  i2.useStyle(e2), i2.style.fill = null, i2.style.stroke = r2;
}
var eW = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.defaultValueDimensions = [{ name: "open", defaultTooltip: true }, { name: "close", defaultTooltip: true }, { name: "lowest", defaultTooltip: true }, { name: "highest", defaultTooltip: true }], n2;
  }
  return Yi(i2, t5), i2.prototype.getShadowDim = function() {
    return "open";
  }, i2.prototype.brushSelector = function(t6, i3, n2) {
    var r2 = i3.getItemLayout(t6);
    return r2 && n2.rect(r2.brushRect);
  }, i2.type = "series.candlestick", i2.dependencies = ["xAxis", "yAxis", "grid"], i2.defaultOption = { z: 2, coordinateSystem: "cartesian2d", legendHoverLink: true, layout: null, clip: true, itemStyle: { color: "#eb5454", color0: "#47b262", borderColor: "#eb5454", borderColor0: "#47b262", borderColorDoji: null, borderWidth: 1 }, emphasis: { itemStyle: { borderWidth: 2 } }, barMaxWidth: null, barMinWidth: null, barWidth: null, large: true, largeThreshold: 600, progressive: 3e3, progressiveThreshold: 1e4, progressiveChunkMode: "mod", animationEasing: "linear", animationDuration: 300 }, i2;
})(vb);
function oW(t5) {
  t5 && _n(t5.series) && kn(t5.series, (function(t6) {
    Wn(t6) && "k" === t6.type && (t6.type = "candlestick");
  }));
}
wn(eW, AD, true);
var aW = { seriesType: "candlestick", plan: kb(), reset: function(t5) {
  var i2 = t5.coordinateSystem, n2 = t5.getData(), r2 = (function(t6, i3) {
    var n3, r3 = t6.getBaseAxis(), e3 = "category" === r3.type ? r3.getBandWidth() : (n3 = r3.getExtent(), Math.abs(n3[1] - n3[0]) / i3.count()), o3 = us(Vn(t6.get("barMaxWidth"), e3), e3), a3 = us(Vn(t6.get("barMinWidth"), 1), e3), s3 = t6.get("barWidth");
    return null != s3 ? us(s3, e3) : Math.max(Math.min(e3 / 2, o3), a3);
  })(t5, n2), e2 = ["x", "y"], o2 = n2.getDimensionIndex(n2.mapDimension(e2[0])), a2 = Mn(n2.mapDimensionsAll(e2[1]), n2.getDimensionIndex, n2), s2 = a2[0], l2 = a2[1], u2 = a2[2], f2 = a2[3];
  if (n2.setLayout({ candleWidth: r2, isSimpleBox: r2 <= 1.3 }), !(o2 < 0 || a2.length < 4)) return { progress: t5.pipelineContext.large ? function(n3, r3) {
    for (var e3, a3, c2 = gx(4 * n3.count), h2 = 0, v2 = [], d2 = [], p2 = r3.getStore(), m2 = !!t5.get(["itemStyle", "borderColorDoji"]); null != (a3 = n3.next()); ) {
      var b2 = p2.get(o2, a3), g3 = p2.get(s2, a3), y2 = p2.get(l2, a3), w3 = p2.get(u2, a3), x2 = p2.get(f2, a3);
      isNaN(b2) || isNaN(w3) || isNaN(x2) ? (c2[h2++] = NaN, h2 += 3) : (c2[h2++] = sW(p2, a3, g3, y2, l2, m2), v2[0] = b2, v2[1] = w3, e3 = i2.dataToPoint(v2, null, d2), c2[h2++] = e3 ? e3[0] : NaN, c2[h2++] = e3 ? e3[1] : NaN, v2[1] = x2, e3 = i2.dataToPoint(v2, null, d2), c2[h2++] = e3 ? e3[1] : NaN);
    }
    r3.setLayout("largePoints", c2);
  } : function(t6, n3) {
    for (var e3, a3 = n3.getStore(); null != (e3 = t6.next()); ) {
      var c2 = a3.get(o2, e3), h2 = a3.get(s2, e3), v2 = a3.get(l2, e3), d2 = a3.get(u2, e3), p2 = a3.get(f2, e3), m2 = Math.min(h2, v2), b2 = Math.max(h2, v2), g3 = z2(m2, c2), y2 = z2(b2, c2), w3 = z2(d2, c2), x2 = z2(p2, c2), k2 = [];
      S3(k2, y2, 0), S3(k2, g3, 1), k2.push(A3(x2), A3(y2), A3(w3), A3(g3));
      var M2 = !!n3.getItemModel(e3).get(["itemStyle", "borderColorDoji"]);
      n3.setItemLayout(e3, { sign: sW(a3, e3, h2, v2, l2, M2), initBaseline: h2 > v2 ? y2[1] : g3[1], ends: k2, brushRect: C3(d2, p2, c2) });
    }
    function z2(t7, n4) {
      var r3 = [];
      return r3[0] = n4, r3[1] = t7, isNaN(n4) || isNaN(t7) ? [NaN, NaN] : i2.dataToPoint(r3);
    }
    function S3(t7, i3, n4) {
      var e4 = i3.slice(), o3 = i3.slice();
      e4[0] = Vh(e4[0] + r2 / 2, 1, false), o3[0] = Vh(o3[0] - r2 / 2, 1, true), n4 ? t7.push(e4, o3) : t7.push(o3, e4);
    }
    function C3(t7, i3, n4) {
      var e4 = z2(t7, n4), o3 = z2(i3, n4);
      return e4[0] -= r2 / 2, o3[0] -= r2 / 2, { x: e4[0], y: e4[1], width: r2, height: o3[1] - e4[1] };
    }
    function A3(t7) {
      return t7[0] = Vh(t7[0], 1), t7;
    }
  } };
} };
function sW(t5, i2, n2, r2, e2, o2) {
  return n2 > r2 ? -1 : n2 < r2 ? 1 : o2 ? 0 : i2 > 0 ? t5.get(e2, i2 - 1) <= r2 ? 1 : -1 : 1;
}
function lW(t5, i2) {
  var n2 = i2.rippleEffectColor || i2.color;
  t5.eachChild((function(t6) {
    t6.attr({ z: i2.z, zlevel: i2.zlevel, style: { stroke: "stroke" === i2.brushType ? n2 : null, fill: "fill" === i2.brushType ? n2 : null } });
  }));
}
var uW = (function(t5) {
  function i2(i3, n2) {
    var r2 = t5.call(this) || this, e2 = new Oz(i3, n2), o2 = new rs();
    return r2.add(e2), r2.add(o2), r2.updateData(i3, n2), r2;
  }
  return Yi(i2, t5), i2.prototype.stopEffectAnimation = function() {
    this.childAt(1).removeAll();
  }, i2.prototype.startEffectAnimation = function(t6) {
    for (var i3 = t6.symbolType, n2 = t6.color, r2 = t6.rippleNumber, e2 = this.childAt(1), o2 = 0; o2 < r2; o2++) {
      var a2 = Fg(i3, -1, -1, 2, 2, n2);
      a2.attr({ style: { strokeNoScale: true }, z2: 99, silent: true, scaleX: 0.5, scaleY: 0.5 });
      var s2 = -o2 / r2 * t6.period + t6.effectOffset;
      a2.animate("", true).when(t6.period, { scaleX: t6.rippleScale / 2, scaleY: t6.rippleScale / 2 }).delay(s2).start(), a2.animateStyle(true).when(t6.period, { opacity: 0 }).delay(s2).start(), e2.add(a2);
    }
    lW(e2, t6);
  }, i2.prototype.updateEffectAnimation = function(t6) {
    for (var i3 = this._effectCfg, n2 = this.childAt(1), r2 = ["symbolType", "period", "rippleScale", "rippleNumber"], e2 = 0; e2 < r2.length; e2++) {
      var o2 = r2[e2];
      if (i3[o2] !== t6[o2]) return this.stopEffectAnimation(), void this.startEffectAnimation(t6);
    }
    lW(n2, t6);
  }, i2.prototype.highlight = function() {
    Bf(this);
  }, i2.prototype.downplay = function() {
    Vf(this);
  }, i2.prototype.getSymbolType = function() {
    var t6 = this.childAt(0);
    return t6 && t6.getSymbolType();
  }, i2.prototype.updateData = function(t6, i3) {
    var n2 = this, r2 = t6.hostModel;
    this.childAt(0).updateData(t6, i3);
    var e2 = this.childAt(1), o2 = t6.getItemModel(i3), a2 = t6.getItemVisual(i3, "symbol"), s2 = Rg(t6.getItemVisual(i3, "symbolSize")), l2 = t6.getItemVisual(i3, "style"), u2 = l2 && l2.fill, f2 = o2.getModel("emphasis");
    e2.setScale(s2), e2.traverse((function(t7) {
      t7.setStyle("fill", u2);
    }));
    var c2 = Pg(t6.getItemVisual(i3, "symbolOffset"), s2);
    c2 && (e2.x = c2[0], e2.y = c2[1]);
    var h2 = t6.getItemVisual(i3, "symbolRotate");
    e2.rotation = (h2 || 0) * Math.PI / 180 || 0;
    var v2 = {};
    v2.showEffectOn = r2.get("showEffectOn"), v2.rippleScale = o2.get(["rippleEffect", "scale"]), v2.brushType = o2.get(["rippleEffect", "brushType"]), v2.period = 1e3 * o2.get(["rippleEffect", "period"]), v2.effectOffset = i3 / t6.count(), v2.z = r2.getShallow("z") || 0, v2.zlevel = r2.getShallow("zlevel") || 0, v2.symbolType = a2, v2.color = u2, v2.rippleEffectColor = o2.get(["rippleEffect", "color"]), v2.rippleNumber = o2.get(["rippleEffect", "number"]), "render" === v2.showEffectOn ? (this._effectCfg ? this.updateEffectAnimation(v2) : this.startEffectAnimation(v2), this._effectCfg = v2) : (this._effectCfg = null, this.stopEffectAnimation(), this.onHoverStateChange = function(t7) {
      "emphasis" === t7 ? "render" !== v2.showEffectOn && n2.startEffectAnimation(v2) : "normal" === t7 && "render" !== v2.showEffectOn && n2.stopEffectAnimation();
    }), this._effectCfg = v2, tc(this, f2.get("focus"), f2.get("blurScope"), f2.get("disabled"));
  }, i2.prototype.fadeOut = function(t6) {
    t6 && t6();
  }, i2;
})(rs), fW = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function() {
    this._symbolDraw = new Vz(uW);
  }, i2.prototype.render = function(t6) {
    var i3 = t6.getData(), n2 = this._symbolDraw;
    n2.updateData(i3, { clipShape: this._getClipShape(t6) }), this.group.add(n2.group);
  }, i2.prototype._getClipShape = function(t6) {
    var i3 = t6.coordinateSystem, n2 = i3 && i3.getArea && i3.getArea();
    return t6.get("clip", true) ? n2 : null;
  }, i2.prototype.updateTransform = function(t6, i3, n2) {
    var r2 = t6.getData();
    this.group.dirty();
    var e2 = cS("").reset(t6, i3, n2);
    e2.progress && e2.progress({ start: 0, end: r2.count(), count: r2.count() }, r2), this._symbolDraw.updateLayout();
  }, i2.prototype._updateGroupTransform = function(t6) {
    var i3, n2 = t6.coordinateSystem;
    n2 && n2.getRoamTransform && (this.group.transform = (qr(i3 = [1, 0, 0, 1, 0, 0], n2.getRoamTransform()), i3), this.group.decomposeTransform());
  }, i2.prototype.remove = function() {
    this._symbolDraw && this._symbolDraw.remove(true);
  }, i2.type = "effectScatter", i2;
})(Sb), cW = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.hasSymbolVisual = true, n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function() {
    return ix(null, this, { useEncodeDefaulter: true });
  }, i2.prototype.brushSelector = function(t6, i3, n2) {
    return n2.point(i3.getItemLayout(t6));
  }, i2.type = "series.effectScatter", i2.dependencies = ["grid", "polar"], i2.defaultOption = { coordinateSystem: "cartesian2d", z: 2, legendHoverLink: true, effectType: "ripple", progressive: 0, showEffectOn: "render", clip: true, rippleEffect: { period: 4, scale: 2.5, brushType: "fill", number: 3 }, universalTransition: { divideShape: "clone" }, symbolSize: 10 }, i2;
})(vb), hW = (function(t5) {
  function i2(i3, n2, r2) {
    var e2 = t5.call(this) || this;
    return e2.add(e2.createLine(i3, n2, r2)), e2._updateEffectSymbol(i3, n2), e2;
  }
  return Yi(i2, t5), i2.prototype.createLine = function(t6, i3, n2) {
    return new eI(t6, i3, n2);
  }, i2.prototype._updateEffectSymbol = function(t6, i3) {
    var n2 = t6.getItemModel(i3).getModel("effect"), r2 = n2.get("symbolSize"), e2 = n2.get("symbol");
    _n(r2) || (r2 = [r2, r2]);
    var o2 = t6.getItemVisual(i3, "style"), a2 = n2.get("color") || o2 && o2.stroke, s2 = this.childAt(1);
    this._symbolType !== e2 && (this.remove(s2), (s2 = Fg(e2, -0.5, -0.5, 1, 1, a2)).z2 = 100, s2.culling = true, this.add(s2)), s2 && (s2.setStyle("shadowColor", a2), s2.setStyle(n2.getItemStyle(["color"])), s2.scaleX = r2[0], s2.scaleY = r2[1], s2.setColor(a2), this._symbolType = e2, this._symbolScale = r2, this._updateEffectAnimation(t6, n2, i3));
  }, i2.prototype._updateEffectAnimation = function(t6, i3, n2) {
    var r2 = this.childAt(1);
    if (r2) {
      var e2 = t6.getItemLayout(n2), o2 = 1e3 * i3.get("period"), a2 = i3.get("loop"), s2 = i3.get("roundTrip"), l2 = i3.get("constantSpeed"), u2 = Bn(i3.get("delay"), (function(i4) {
        return i4 / t6.count() * o2 / 3;
      }));
      if (r2.ignore = true, this._updateAnimationPoints(r2, e2), l2 > 0 && (o2 = this._getLineLength(r2) / l2 * 1e3), o2 !== this._period || a2 !== this._loop || s2 !== this._roundTrip) {
        r2.stopAnimation();
        var f2 = void 0;
        f2 = Tn(u2) ? u2(n2) : u2, r2.__t > 0 && (f2 = -o2 * r2.__t), this._animateSymbol(r2, o2, f2, a2, s2);
      }
      this._period = o2, this._loop = a2, this._roundTrip = s2;
    }
  }, i2.prototype._animateSymbol = function(t6, i3, n2, r2, e2) {
    if (i3 > 0) {
      t6.__t = 0;
      var o2 = this, a2 = t6.animate("", r2).when(e2 ? 2 * i3 : i3, { __t: e2 ? 2 : 1 }).delay(n2).during((function() {
        o2._updateSymbolPosition(t6);
      }));
      r2 || a2.done((function() {
        o2.remove(t6);
      })), a2.start();
    }
  }, i2.prototype._getLineLength = function(t6) {
    return br(t6.__p1, t6.__cp1) + br(t6.__cp1, t6.__p2);
  }, i2.prototype._updateAnimationPoints = function(t6, i3) {
    t6.__p1 = i3[0], t6.__p2 = i3[1], t6.__cp1 = i3[2] || [(i3[0][0] + i3[1][0]) / 2, (i3[0][1] + i3[1][1]) / 2];
  }, i2.prototype.updateData = function(t6, i3, n2) {
    this.childAt(0).updateData(t6, i3, n2), this._updateEffectSymbol(t6, i3);
  }, i2.prototype._updateSymbolPosition = function(t6) {
    var i3 = t6.__p1, n2 = t6.__p2, r2 = t6.__cp1, e2 = t6.__t < 1 ? t6.__t : 2 - t6.__t, o2 = [t6.x, t6.y], a2 = o2.slice(), s2 = qe, l2 = Je;
    o2[0] = s2(i3[0], r2[0], n2[0], e2), o2[1] = s2(i3[1], r2[1], n2[1], e2);
    var u2 = t6.__t < 1 ? l2(i3[0], r2[0], n2[0], e2) : l2(n2[0], r2[0], i3[0], 1 - e2), f2 = t6.__t < 1 ? l2(i3[1], r2[1], n2[1], e2) : l2(n2[1], r2[1], i3[1], 1 - e2);
    t6.rotation = -Math.atan2(f2, u2) - Math.PI / 2, "line" !== this._symbolType && "rect" !== this._symbolType && "roundRect" !== this._symbolType || (void 0 !== t6.__lastT && t6.__lastT < t6.__t ? (t6.scaleY = 1.05 * br(a2, o2), 1 === e2 && (o2[0] = a2[0] + (o2[0] - a2[0]) / 2, o2[1] = a2[1] + (o2[1] - a2[1]) / 2)) : t6.scaleY = 1 === t6.__lastT ? 2 * br(i3, o2) : this._symbolScale[1]), t6.__lastT = t6.__t, t6.ignore = false, t6.x = o2[0], t6.y = o2[1];
  }, i2.prototype.updateLayout = function(t6, i3) {
    this.childAt(0).updateLayout(t6, i3);
    var n2 = t6.getItemModel(i3).getModel("effect");
    this._updateEffectAnimation(t6, n2, i3);
  }, i2;
})(rs), vW = (function(t5) {
  function i2(i3, n2, r2) {
    var e2 = t5.call(this) || this;
    return e2._createPolyline(i3, n2, r2), e2;
  }
  return Yi(i2, t5), i2.prototype._createPolyline = function(t6, i3, n2) {
    var r2 = t6.getItemLayout(i3), e2 = new Qc({ shape: { points: r2 } });
    this.add(e2), this._updateCommonStl(t6, i3, n2);
  }, i2.prototype.updateData = function(t6, i3, n2) {
    var r2 = t6.hostModel;
    Mh(this.childAt(0), { shape: { points: t6.getItemLayout(i3) } }, r2, i3), this._updateCommonStl(t6, i3, n2);
  }, i2.prototype._updateCommonStl = function(t6, i3, n2) {
    var r2 = this.childAt(0), e2 = t6.getItemModel(i3), o2 = n2 && n2.emphasisLineStyle, a2 = n2 && n2.focus, s2 = n2 && n2.blurScope, l2 = n2 && n2.emphasisDisabled;
    if (!n2 || t6.hasItemOption) {
      var u2 = e2.getModel("emphasis");
      o2 = u2.getModel("lineStyle").getLineStyle(), l2 = u2.get("disabled"), a2 = u2.get("focus"), s2 = u2.get("blurScope");
    }
    r2.useStyle(t6.getItemVisual(i3, "style")), r2.style.fill = null, r2.style.strokeNoScale = true, r2.ensureState("emphasis").style = o2, tc(this, a2, s2, l2);
  }, i2.prototype.updateLayout = function(t6, i3) {
    this.childAt(0).setShape("points", t6.getItemLayout(i3));
  }, i2;
})(rs), dW = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3._lastFrame = 0, i3._lastFramePercent = 0, i3;
  }
  return Yi(i2, t5), i2.prototype.createLine = function(t6, i3, n2) {
    return new vW(t6, i3, n2);
  }, i2.prototype._updateAnimationPoints = function(t6, i3) {
    this._points = i3;
    for (var n2 = [0], r2 = 0, e2 = 1; e2 < i3.length; e2++) r2 += br(i3[e2 - 1], i3[e2]), n2.push(r2);
    if (0 !== r2) {
      for (e2 = 0; e2 < n2.length; e2++) n2[e2] /= r2;
      this._offsets = n2, this._length = r2;
    } else this._length = 0;
  }, i2.prototype._getLineLength = function() {
    return this._length;
  }, i2.prototype._updateSymbolPosition = function(t6) {
    var i3 = t6.__t < 1 ? t6.__t : 2 - t6.__t, n2 = this._points, r2 = this._offsets, e2 = n2.length;
    if (r2) {
      var o2, a2 = this._lastFrame;
      if (i3 < this._lastFramePercent) {
        for (o2 = Math.min(a2 + 1, e2 - 1); o2 >= 0 && !(r2[o2] <= i3); o2--) ;
        o2 = Math.min(o2, e2 - 2);
      } else {
        for (o2 = a2; o2 < e2 && !(r2[o2] > i3); o2++) ;
        o2 = Math.min(o2 - 1, e2 - 2);
      }
      var s2 = (i3 - r2[o2]) / (r2[o2 + 1] - r2[o2]), l2 = n2[o2], u2 = n2[o2 + 1];
      t6.x = l2[0] * (1 - s2) + s2 * u2[0], t6.y = l2[1] * (1 - s2) + s2 * u2[1], t6.rotation = -Math.atan2(t6.__t < 1 ? u2[1] - l2[1] : l2[1] - u2[1], t6.__t < 1 ? u2[0] - l2[0] : l2[0] - u2[0]) - Math.PI / 2, this._lastFrame = o2, this._lastFramePercent = i3, t6.ignore = false;
    }
  }, i2;
})(hW), pW = function() {
  this.polyline = false, this.curveness = 0, this.segs = [];
}, mW = (function(t5) {
  function i2(i3) {
    var n2 = t5.call(this, i3) || this;
    return n2._off = 0, n2.hoverDataIdx = -1, n2;
  }
  return Yi(i2, t5), i2.prototype.reset = function() {
    this.notClear = false, this._off = 0;
  }, i2.prototype.getDefaultStyle = function() {
    return { stroke: "#000", fill: null };
  }, i2.prototype.getDefaultShape = function() {
    return new pW();
  }, i2.prototype.buildPath = function(t6, i3) {
    var n2, r2 = i3.segs, e2 = i3.curveness;
    if (i3.polyline) for (n2 = this._off; n2 < r2.length; ) {
      var o2 = r2[n2++];
      if (o2 > 0) {
        t6.moveTo(r2[n2++], r2[n2++]);
        for (var a2 = 1; a2 < o2; a2++) t6.lineTo(r2[n2++], r2[n2++]);
      }
    }
    else for (n2 = this._off; n2 < r2.length; ) {
      var s2 = r2[n2++], l2 = r2[n2++], u2 = r2[n2++], f2 = r2[n2++];
      t6.moveTo(s2, l2), e2 > 0 ? t6.quadraticCurveTo((s2 + u2) / 2 - (l2 - f2) * e2, (l2 + f2) / 2 - (u2 - s2) * e2, u2, f2) : t6.lineTo(u2, f2);
    }
    this.incremental && (this._off = n2, this.notClear = true);
  }, i2.prototype.findDataIndex = function(t6, i3) {
    var n2 = this.shape, r2 = n2.segs, e2 = n2.curveness, o2 = this.style.lineWidth;
    if (n2.polyline) for (var a2 = 0, s2 = 0; s2 < r2.length; ) {
      var l2 = r2[s2++];
      if (l2 > 0) {
        for (var u2 = r2[s2++], f2 = r2[s2++], c2 = 1; c2 < l2; c2++) if (gu(u2, f2, h2 = r2[s2++], v2 = r2[s2++], o2, t6, i3)) return a2;
      }
      a2++;
    }
    else for (a2 = 0, s2 = 0; s2 < r2.length; ) {
      u2 = r2[s2++], f2 = r2[s2++];
      var h2 = r2[s2++], v2 = r2[s2++];
      if (e2 > 0) {
        if (wu(u2, f2, (u2 + h2) / 2 - (f2 - v2) * e2, (f2 + v2) / 2 - (h2 - u2) * e2, h2, v2, o2, t6, i3)) return a2;
      } else if (gu(u2, f2, h2, v2, o2, t6, i3)) return a2;
      a2++;
    }
    return -1;
  }, i2.prototype.contain = function(t6, i3) {
    var n2 = this.transformCoordToLocal(t6, i3);
    return this.getBoundingRect().contain(t6 = n2[0], i3 = n2[1]) ? (this.hoverDataIdx = this.findDataIndex(t6, i3)) >= 0 : (this.hoverDataIdx = -1, false);
  }, i2.prototype.getBoundingRect = function() {
    var t6 = this._rect;
    if (!t6) {
      for (var i3 = this.shape.segs, n2 = 1 / 0, r2 = 1 / 0, e2 = -1 / 0, o2 = -1 / 0, a2 = 0; a2 < i3.length; ) {
        var s2 = i3[a2++], l2 = i3[a2++];
        n2 = Math.min(s2, n2), e2 = Math.max(s2, e2), r2 = Math.min(l2, r2), o2 = Math.max(l2, o2);
      }
      t6 = this._rect = new ce(n2, r2, e2, o2);
    }
    return t6;
  }, i2;
})(Fu), bW = (function() {
  function t5() {
    this.group = new rs();
  }
  return t5.prototype.updateData = function(t6) {
    this._clear();
    var i2 = this._create();
    i2.setShape({ segs: t6.getLayout("linesPoints") }), this._setCommon(i2, t6);
  }, t5.prototype.incrementalPrepareUpdate = function() {
    this.group.removeAll(), this._clear();
  }, t5.prototype.incrementalUpdate = function(t6, i2) {
    var n2 = this._newAdded[0], r2 = i2.getLayout("linesPoints"), e2 = n2 && n2.shape.segs;
    if (e2 && e2.length < 2e4) {
      var o2 = e2.length, a2 = new Float32Array(o2 + r2.length);
      a2.set(e2), a2.set(r2, o2), n2.setShape({ segs: a2 });
    } else {
      this._newAdded = [];
      var s2 = this._create();
      s2.incremental = true, s2.setShape({ segs: r2 }), this._setCommon(s2, i2), s2.__startIndex = t6.start;
    }
  }, t5.prototype.remove = function() {
    this._clear();
  }, t5.prototype.eachRendered = function(t6) {
    this._newAdded[0] && t6(this._newAdded[0]);
  }, t5.prototype._create = function() {
    var t6 = new mW({ cursor: "default", ignoreCoarsePointer: true });
    return this._newAdded.push(t6), this.group.add(t6), t6;
  }, t5.prototype._setCommon = function(t6, i2) {
    var n2 = i2.hostModel;
    t6.setShape({ polyline: n2.get("polyline"), curveness: n2.get(["lineStyle", "curveness"]) }), t6.useStyle(n2.getModel("lineStyle").getLineStyle()), t6.style.strokeNoScale = true;
    var r2 = i2.getVisual("style");
    r2 && r2.stroke && t6.setStyle("stroke", r2.stroke), t6.setStyle("fill", null);
    var e2 = hf(t6);
    e2.seriesIndex = n2.seriesIndex, t6.on("mousemove", (function() {
      e2.dataIndex = null;
      var i3 = t6.hoverDataIdx;
      i3 > 0 && (e2.dataIndex = i3 + t6.__startIndex);
    }));
  }, t5.prototype._clear = function() {
    this._newAdded = [], this.group.removeAll();
  }, t5;
})(), gW = { seriesType: "lines", plan: kb(), reset: function(t5) {
  var i2 = t5.coordinateSystem;
  if (i2) {
    var n2 = t5.get("polyline"), r2 = t5.pipelineContext.large;
    return { progress: function(e2, o2) {
      var a2 = [];
      if (r2) {
        var s2 = void 0, l2 = e2.end - e2.start;
        if (n2) {
          for (var u2 = 0, f2 = e2.start; f2 < e2.end; f2++) u2 += t5.getLineCoordsCount(f2);
          s2 = new Float32Array(l2 + 2 * u2);
        } else s2 = new Float32Array(4 * l2);
        var c2 = 0, h2 = [];
        for (f2 = e2.start; f2 < e2.end; f2++) {
          var v2 = t5.getLineCoords(f2, a2);
          n2 && (s2[c2++] = v2);
          for (var d2 = 0; d2 < v2; d2++) h2 = i2.dataToPoint(a2[d2], false, h2), s2[c2++] = h2[0], s2[c2++] = h2[1];
        }
        o2.setLayout("linesPoints", s2);
      } else for (f2 = e2.start; f2 < e2.end; f2++) {
        var p2 = o2.getItemModel(f2), m2 = (v2 = t5.getLineCoords(f2, a2), []);
        if (n2) for (var b2 = 0; b2 < v2; b2++) m2.push(i2.dataToPoint(a2[b2]));
        else {
          m2[0] = i2.dataToPoint(a2[0]), m2[1] = i2.dataToPoint(a2[1]);
          var g3 = p2.get(["lineStyle", "curveness"]);
          +g3 && (m2[2] = [(m2[0][0] + m2[1][0]) / 2 - (m2[0][1] - m2[1][1]) * g3, (m2[0][1] + m2[1][1]) / 2 - (m2[1][0] - m2[0][0]) * g3]);
        }
        o2.setItemLayout(f2, m2);
      }
    } };
  }
} }, yW = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    var r2 = t6.getData(), e2 = this._updateLineDraw(r2, t6), o2 = t6.get("zlevel"), a2 = t6.get(["effect", "trailLength"]), s2 = n2.getZr(), l2 = "svg" === s2.painter.getType();
    l2 || s2.painter.getLayer(o2).clear(true), null == this._lastZlevel || l2 || s2.configLayer(this._lastZlevel, { motionBlur: false }), this._showEffect(t6) && a2 > 0 && (l2 || s2.configLayer(o2, { motionBlur: true, lastFrameAlpha: Math.max(Math.min(a2 / 10 + 0.9, 1), 0) })), e2.updateData(r2);
    var u2 = t6.get("clip", true) && tS(t6.coordinateSystem, false, t6);
    u2 ? this.group.setClipPath(u2) : this.group.removeClipPath(), this._lastZlevel = o2, this._finished = true;
  }, i2.prototype.incrementalPrepareRender = function(t6, i3, n2) {
    var r2 = t6.getData();
    this._updateLineDraw(r2, t6).incrementalPrepareUpdate(r2), this._clearLayer(n2), this._finished = false;
  }, i2.prototype.incrementalRender = function(t6, i3) {
    this._lineDraw.incrementalUpdate(t6, i3.getData()), this._finished = t6.end === i3.getData().count();
  }, i2.prototype.eachRendered = function(t6) {
    this._lineDraw && this._lineDraw.eachRendered(t6);
  }, i2.prototype.updateTransform = function(t6, i3, n2) {
    var r2 = t6.getData(), e2 = t6.pipelineContext;
    if (!this._finished || e2.large || e2.progressiveRender) return { update: true };
    var o2 = gW.reset(t6, i3, n2);
    o2.progress && o2.progress({ start: 0, end: r2.count(), count: r2.count() }, r2), this._lineDraw.updateLayout(), this._clearLayer(n2);
  }, i2.prototype._updateLineDraw = function(t6, i3) {
    var n2 = this._lineDraw, r2 = this._showEffect(i3), e2 = !!i3.get("polyline"), o2 = i3.pipelineContext.large;
    return n2 && r2 === this._hasEffet && e2 === this._isPolyline && o2 === this._isLargeDraw || (n2 && n2.remove(), n2 = this._lineDraw = o2 ? new bW() : new oI(e2 ? r2 ? dW : vW : r2 ? hW : eI), this._hasEffet = r2, this._isPolyline = e2, this._isLargeDraw = o2), this.group.add(n2.group), n2;
  }, i2.prototype._showEffect = function(t6) {
    return !!t6.get(["effect", "show"]);
  }, i2.prototype._clearLayer = function(t6) {
    var i3 = t6.getZr();
    "svg" === i3.painter.getType() || null == this._lastZlevel || i3.painter.getLayer(this._lastZlevel).clear(true);
  }, i2.prototype.remove = function(t6, i3) {
    this._lineDraw && this._lineDraw.remove(), this._lineDraw = null, this._clearLayer(i3);
  }, i2.prototype.dispose = function(t6, i3) {
    this.remove(t6, i3);
  }, i2.type = "lines", i2;
})(Sb), wW = "undefined" == typeof Uint32Array ? Array : Uint32Array, xW = "undefined" == typeof Float64Array ? Array : Float64Array;
function kW(t5) {
  var i2 = t5.data;
  i2 && i2[0] && i2[0][0] && i2[0][0].coord && (t5.data = Mn(i2, (function(t6) {
    var i3 = { coords: [t6[0].coord, t6[1].coord] };
    return t6[0].name && (i3.fromName = t6[0].name), t6[1].name && (i3.toName = t6[1].name), mn([i3, t6[0], t6[1]]);
  })));
}
var MW = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.visualStyleAccessPath = "lineStyle", n2.visualDrawType = "stroke", n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(i3) {
    i3.data = i3.data || [], kW(i3);
    var n2 = this._processFlatCoordsArray(i3.data);
    this._flatCoords = n2.flatCoords, this._flatCoordsOffset = n2.flatCoordsOffset, n2.flatCoords && (i3.data = new Float32Array(n2.count)), t5.prototype.init.apply(this, arguments);
  }, i2.prototype.mergeOption = function(i3) {
    if (kW(i3), i3.data) {
      var n2 = this._processFlatCoordsArray(i3.data);
      this._flatCoords = n2.flatCoords, this._flatCoordsOffset = n2.flatCoordsOffset, n2.flatCoords && (i3.data = new Float32Array(n2.count));
    }
    t5.prototype.mergeOption.apply(this, arguments);
  }, i2.prototype.appendData = function(t6) {
    var i3 = this._processFlatCoordsArray(t6.data);
    i3.flatCoords && (this._flatCoords ? (this._flatCoords = tr(this._flatCoords, i3.flatCoords), this._flatCoordsOffset = tr(this._flatCoordsOffset, i3.flatCoordsOffset)) : (this._flatCoords = i3.flatCoords, this._flatCoordsOffset = i3.flatCoordsOffset), t6.data = new Float32Array(i3.count)), this.getRawData().appendData(t6.data);
  }, i2.prototype._getCoordsFromItemModel = function(t6) {
    var i3 = this.getData().getItemModel(t6);
    return i3.option instanceof Array ? i3.option : i3.getShallow("coords");
  }, i2.prototype.getLineCoordsCount = function(t6) {
    return this._flatCoordsOffset ? this._flatCoordsOffset[2 * t6 + 1] : this._getCoordsFromItemModel(t6).length;
  }, i2.prototype.getLineCoords = function(t6, i3) {
    if (this._flatCoordsOffset) {
      for (var n2 = this._flatCoordsOffset[2 * t6], r2 = this._flatCoordsOffset[2 * t6 + 1], e2 = 0; e2 < r2; e2++) i3[e2] = i3[e2] || [], i3[e2][0] = this._flatCoords[n2 + 2 * e2], i3[e2][1] = this._flatCoords[n2 + 2 * e2 + 1];
      return r2;
    }
    var o2 = this._getCoordsFromItemModel(t6);
    for (e2 = 0; e2 < o2.length; e2++) i3[e2] = i3[e2] || [], i3[e2][0] = o2[e2][0], i3[e2][1] = o2[e2][1];
    return o2.length;
  }, i2.prototype._processFlatCoordsArray = function(t6) {
    var i3 = 0;
    if (this._flatCoords && (i3 = this._flatCoords.length), Dn(t6[0])) {
      for (var n2 = t6.length, r2 = new wW(n2), e2 = new xW(n2), o2 = 0, a2 = 0, s2 = 0, l2 = 0; l2 < n2; ) {
        s2++;
        var u2 = t6[l2++];
        r2[a2++] = o2 + i3, r2[a2++] = u2;
        for (var f2 = 0; f2 < u2; f2++) {
          var c2 = t6[l2++], h2 = t6[l2++];
          e2[o2++] = c2, e2[o2++] = h2;
        }
      }
      return { flatCoordsOffset: new Uint32Array(r2.buffer, 0, a2), flatCoords: e2, count: s2 };
    }
    return { flatCoordsOffset: null, flatCoords: null, count: t6.length };
  }, i2.prototype.getInitialData = function(t6) {
    var i3 = new $w(["value"], this);
    return i3.hasItemOption = false, i3.initData(t6.data, [], (function(t7, n2, r2, e2) {
      if (t7 instanceof Array) return NaN;
      i3.hasItemOption = true;
      var o2 = t7.value;
      return null != o2 ? o2 instanceof Array ? o2[e2] : o2 : void 0;
    })), i3;
  }, i2.prototype.formatTooltip = function(t6) {
    var i3 = this.getData().getItemModel(t6), n2 = i3.get("name");
    if (n2) return n2;
    var r2 = i3.get("fromName"), e2 = i3.get("toName"), o2 = [];
    return null != r2 && o2.push(r2), null != e2 && o2.push(e2), Jm("nameValue", { name: o2.join(" > ") });
  }, i2.prototype.preventIncremental = function() {
    return !!this.get(["effect", "show"]);
  }, i2.prototype.getProgressive = function() {
    var t6 = this.option.progressive;
    return null == t6 ? this.option.large ? 1e4 : this.get("progressive") : t6;
  }, i2.prototype.getProgressiveThreshold = function() {
    var t6 = this.option.progressiveThreshold;
    return null == t6 ? this.option.large ? 2e4 : this.get("progressiveThreshold") : t6;
  }, i2.prototype.getZLevelKey = function() {
    var t6 = this.getModel("effect"), i3 = t6.get("trailLength");
    return this.getData().count() > this.getProgressiveThreshold() ? this.id : t6.get("show") && i3 > 0 ? i3 + "" : "";
  }, i2.type = "series.lines", i2.dependencies = ["grid", "polar", "geo", "calendar"], i2.defaultOption = { coordinateSystem: "geo", z: 2, legendHoverLink: true, xAxisIndex: 0, yAxisIndex: 0, symbol: ["none", "none"], symbolSize: [10, 10], geoIndex: 0, effect: { show: false, period: 4, constantSpeed: 0, symbol: "circle", symbolSize: 3, loop: true, trailLength: 0.2 }, large: false, largeThreshold: 2e3, polyline: false, clip: true, label: { show: false, position: "end" }, lineStyle: { opacity: 0.5 } }, i2;
})(vb);
function zW(t5) {
  return t5 instanceof Array || (t5 = [t5, t5]), t5;
}
var SW = { seriesType: "lines", reset: function(t5) {
  var i2 = zW(t5.get("symbol")), n2 = zW(t5.get("symbolSize")), r2 = t5.getData();
  return r2.setVisual("fromSymbol", i2 && i2[0]), r2.setVisual("toSymbol", i2 && i2[1]), r2.setVisual("fromSymbolSize", n2 && n2[0]), r2.setVisual("toSymbolSize", n2 && n2[1]), { dataEach: r2.hasItemOption ? function(t6, i3) {
    var n3 = t6.getItemModel(i3), r3 = zW(n3.getShallow("symbol", true)), e2 = zW(n3.getShallow("symbolSize", true));
    r3[0] && t6.setItemVisual(i3, "fromSymbol", r3[0]), r3[1] && t6.setItemVisual(i3, "toSymbol", r3[1]), e2[0] && t6.setItemVisual(i3, "fromSymbolSize", e2[0]), e2[1] && t6.setItemVisual(i3, "toSymbolSize", e2[1]);
  } : null };
} }, CW = (function() {
  function t5() {
    this.blurSize = 30, this.pointSize = 20, this.maxOpacity = 1, this.minOpacity = 0, this._gradientPixels = { inRange: null, outOfRange: null };
    var t6 = Ki.createCanvas();
    this.canvas = t6;
  }
  return t5.prototype.update = function(t6, i2, n2, r2, e2, o2) {
    var a2 = this._getBrush(), s2 = this._getGradient(e2, "inRange"), l2 = this._getGradient(e2, "outOfRange"), u2 = this.pointSize + this.blurSize, f2 = this.canvas, c2 = f2.getContext("2d"), h2 = t6.length;
    f2.width = i2, f2.height = n2;
    for (var v2 = 0; v2 < h2; ++v2) {
      var d2 = t6[v2], p2 = d2[0], m2 = d2[1], b2 = r2(d2[2]);
      c2.globalAlpha = b2, c2.drawImage(a2, p2 - u2, m2 - u2);
    }
    if (!f2.width || !f2.height) return f2;
    for (var g3 = c2.getImageData(0, 0, f2.width, f2.height), y2 = g3.data, w3 = 0, x2 = y2.length, k2 = this.minOpacity, M2 = this.maxOpacity - k2; w3 < x2; ) {
      b2 = y2[w3 + 3] / 256;
      var z2 = 4 * Math.floor(255 * b2);
      if (b2 > 0) {
        var S3 = o2(b2) ? s2 : l2;
        b2 > 0 && (b2 = b2 * M2 + k2), y2[w3++] = S3[z2], y2[w3++] = S3[z2 + 1], y2[w3++] = S3[z2 + 2], y2[w3++] = S3[z2 + 3] * b2 * 256;
      } else w3 += 4;
    }
    return c2.putImageData(g3, 0, 0), f2;
  }, t5.prototype._getBrush = function() {
    var t6 = this._brushCanvas || (this._brushCanvas = Ki.createCanvas()), i2 = this.pointSize + this.blurSize, n2 = 2 * i2;
    t6.width = n2, t6.height = n2;
    var r2 = t6.getContext("2d");
    return r2.clearRect(0, 0, n2, n2), r2.shadowOffsetX = n2, r2.shadowBlur = this.blurSize, r2.shadowColor = "#000", r2.beginPath(), r2.arc(-i2, i2, this.pointSize, 0, 2 * Math.PI, true), r2.closePath(), r2.fill(), t6;
  }, t5.prototype._getGradient = function(t6, i2) {
    for (var n2 = this._gradientPixels, r2 = n2[i2] || (n2[i2] = new Uint8ClampedArray(1024)), e2 = [0, 0, 0, 0], o2 = 0, a2 = 0; a2 < 256; a2++) t6[i2](a2 / 255, true, e2), r2[o2++] = e2[0], r2[o2++] = e2[1], r2[o2++] = e2[2], r2[o2++] = e2[3];
    return r2;
  }, t5;
})();
function AW(t5) {
  var i2 = t5.dimensions;
  return "lng" === i2[0] && "lat" === i2[1];
}
var NW = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    var r2;
    i3.eachComponent("visualMap", (function(i4) {
      i4.eachTargetSeries((function(n3) {
        n3 === t6 && (r2 = i4);
      }));
    })), this._progressiveEls = null, this.group.removeAll();
    var e2 = t6.coordinateSystem;
    "cartesian2d" === e2.type || "calendar" === e2.type ? this._renderOnCartesianAndCalendar(t6, n2, 0, t6.getData().count()) : AW(e2) && this._renderOnGeo(e2, t6, r2, n2);
  }, i2.prototype.incrementalPrepareRender = function() {
    this.group.removeAll();
  }, i2.prototype.incrementalRender = function(t6, i3, n2, r2) {
    var e2 = i3.coordinateSystem;
    e2 && (AW(e2) ? this.render(i3, n2, r2) : (this._progressiveEls = [], this._renderOnCartesianAndCalendar(i3, r2, t6.start, t6.end, true)));
  }, i2.prototype.eachRendered = function(t6) {
    tv(this._progressiveEls || this.group, t6);
  }, i2.prototype._renderOnCartesianAndCalendar = function(t6, i3, n2, r2, e2) {
    var o2, a2, s2, l2, u2 = t6.coordinateSystem, f2 = iS(u2, "cartesian2d");
    if (f2) {
      var c2 = u2.getAxis("x"), h2 = u2.getAxis("y");
      o2 = c2.getBandWidth() + 0.5, a2 = h2.getBandWidth() + 0.5, s2 = c2.scale.getExtent(), l2 = h2.scale.getExtent();
    }
    for (var v2 = this.group, d2 = t6.getData(), p2 = t6.getModel(["emphasis", "itemStyle"]).getItemStyle(), m2 = t6.getModel(["blur", "itemStyle"]).getItemStyle(), b2 = t6.getModel(["select", "itemStyle"]).getItemStyle(), g3 = t6.get(["itemStyle", "borderRadius"]), y2 = av(t6), w3 = t6.getModel("emphasis"), x2 = w3.get("focus"), k2 = w3.get("blurScope"), M2 = w3.get("disabled"), z2 = f2 ? [d2.mapDimension("x"), d2.mapDimension("y"), d2.mapDimension("value")] : [d2.mapDimension("time"), d2.mapDimension("value")], S3 = n2; S3 < r2; S3++) {
      var C3 = void 0, A3 = d2.getItemVisual(S3, "style");
      if (f2) {
        var N2 = d2.get(z2[0], S3), _2 = d2.get(z2[1], S3);
        if (isNaN(d2.get(z2[2], S3)) || isNaN(N2) || isNaN(_2) || N2 < s2[0] || N2 > s2[1] || _2 < l2[0] || _2 > l2[1]) continue;
        var T4 = u2.dataToPoint([N2, _2]);
        C3 = new Zu({ shape: { x: T4[0] - o2 / 2, y: T4[1] - a2 / 2, width: o2, height: a2 }, style: A3 });
      } else {
        if (isNaN(d2.get(z2[1], S3))) continue;
        C3 = new Zu({ z2: 1, shape: u2.dataToRect([d2.get(z2[0], S3)]).contentShape, style: A3 });
      }
      if (d2.hasItemOption) {
        var I2 = d2.getItemModel(S3), L2 = I2.getModel("emphasis");
        p2 = L2.getModel("itemStyle").getItemStyle(), m2 = I2.getModel(["blur", "itemStyle"]).getItemStyle(), b2 = I2.getModel(["select", "itemStyle"]).getItemStyle(), g3 = I2.get(["itemStyle", "borderRadius"]), x2 = L2.get("focus"), k2 = L2.get("blurScope"), M2 = L2.get("disabled"), y2 = av(I2);
      }
      C3.shape.r = g3;
      var D2 = t6.getRawValue(S3), W3 = "-";
      D2 && null != D2[2] && (W3 = D2[2] + ""), ov(C3, y2, { labelFetcher: t6, labelDataIndex: S3, defaultOpacity: A3.opacity, defaultText: W3 }), C3.ensureState("emphasis").style = p2, C3.ensureState("blur").style = m2, C3.ensureState("select").style = b2, tc(C3, x2, k2, M2), C3.incremental = e2, e2 && (C3.states.emphasis.hoverLayer = true), v2.add(C3), d2.setItemGraphicEl(S3, C3), this._progressiveEls && this._progressiveEls.push(C3);
    }
  }, i2.prototype._renderOnGeo = function(t6, i3, n2, r2) {
    var e2 = n2.targetVisuals.inRange, o2 = n2.targetVisuals.outOfRange, a2 = i3.getData(), s2 = this._hmLayer || this._hmLayer || new CW();
    s2.blurSize = i3.get("blurSize"), s2.pointSize = i3.get("pointSize"), s2.minOpacity = i3.get("minOpacity"), s2.maxOpacity = i3.get("maxOpacity");
    var l2 = t6.getViewRect().clone(), u2 = t6.getRoamTransform();
    l2.applyTransform(u2);
    var f2 = Math.max(l2.x, 0), c2 = Math.max(l2.y, 0), h2 = Math.min(l2.width + l2.x, r2.getWidth()), v2 = Math.min(l2.height + l2.y, r2.getHeight()), d2 = h2 - f2, p2 = v2 - c2, m2 = [a2.mapDimension("lng"), a2.mapDimension("lat"), a2.mapDimension("value")], b2 = a2.mapArray(m2, (function(i4, n3, r3) {
      var e3 = t6.dataToPoint([i4, n3]);
      return e3[0] -= f2, e3[1] -= c2, e3.push(r3), e3;
    })), g3 = n2.getExtent(), y2 = "visualMap.continuous" === n2.type ? (function(t7, i4) {
      var n3 = t7[1] - t7[0];
      return i4 = [(i4[0] - t7[0]) / n3, (i4[1] - t7[0]) / n3], function(t8) {
        return t8 >= i4[0] && t8 <= i4[1];
      };
    })(g3, n2.option.range) : (function(t7, i4, n3) {
      var r3 = t7[1] - t7[0], e3 = (i4 = Mn(i4, (function(i5) {
        return { interval: [(i5.interval[0] - t7[0]) / r3, (i5.interval[1] - t7[0]) / r3] };
      }))).length, o3 = 0;
      return function(t8) {
        var r4;
        for (r4 = o3; r4 < e3; r4++) if ((a3 = i4[r4].interval)[0] <= t8 && t8 <= a3[1]) {
          o3 = r4;
          break;
        }
        if (r4 === e3) for (r4 = o3 - 1; r4 >= 0; r4--) {
          var a3;
          if ((a3 = i4[r4].interval)[0] <= t8 && t8 <= a3[1]) {
            o3 = r4;
            break;
          }
        }
        return r4 >= 0 && r4 < e3 && n3[r4];
      };
    })(g3, n2.getPieceList(), n2.option.selected);
    s2.update(b2, d2, p2, e2.color.getNormalizer(), { inRange: e2.color.getColorMapper(), outOfRange: o2.color.getColorMapper() }, y2);
    var w3 = new ju({ style: { width: d2, height: p2, x: f2, y: c2, image: s2.canvas }, silent: true });
    this.group.add(w3);
  }, i2.type = "heatmap", i2;
})(Sb), _W = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function() {
    return ix(null, this, { generateCoord: "value" });
  }, i2.prototype.preventIncremental = function() {
    var t6 = bp.get(this.get("coordinateSystem"));
    if (t6 && t6.dimensions) return "lng" === t6.dimensions[0] && "lat" === t6.dimensions[1];
  }, i2.type = "series.heatmap", i2.dependencies = ["grid", "geo", "calendar"], i2.defaultOption = { coordinateSystem: "cartesian2d", z: 2, geoIndex: 0, blurSize: 30, pointSize: 20, maxOpacity: 1, minOpacity: 0, select: { itemStyle: { borderColor: "#212121" } } }, i2;
})(vb), TW = ["itemStyle", "borderWidth"], IW = [{ xy: "x", wh: "width", index: 0, posDesc: ["left", "right"] }, { xy: "y", wh: "height", index: 1, posDesc: ["top", "bottom"] }], LW = new Tc(), DW = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    var r2 = this.group, e2 = t6.getData(), o2 = this._data, a2 = t6.coordinateSystem, s2 = a2.getBaseAxis().isHorizontal(), l2 = a2.master.getRect(), u2 = { ecSize: { width: n2.getWidth(), height: n2.getHeight() }, seriesModel: t6, coordSys: a2, coordSysExtent: [[l2.x, l2.x + l2.width], [l2.y, l2.y + l2.height]], isHorizontal: s2, valueDim: IW[+s2], categoryDim: IW[1 - +s2] };
    e2.diff(o2).add((function(t7) {
      if (e2.hasValue(t7)) {
        var i4 = VW(e2, t7), n3 = WW(e2, t7, i4, u2), o3 = YW(e2, u2, n3);
        e2.setItemGraphicEl(t7, o3), r2.add(o3), ZW(o3, u2, n3);
      }
    })).update((function(t7, i4) {
      var n3 = o2.getItemGraphicEl(i4);
      if (e2.hasValue(t7)) {
        var a3 = VW(e2, t7), s3 = WW(e2, t7, a3, u2), l3 = UW(e2, s3);
        n3 && l3 !== n3.__pictorialShapeStr && (r2.remove(n3), e2.setItemGraphicEl(t7, null), n3 = null), n3 ? (function(t8, i5, n4) {
          Mh(t8.__pictorialBundle, { x: n4.bundlePosition[0], y: n4.bundlePosition[1] }, n4.animationModel, n4.dataIndex), n4.symbolRepeat ? FW(t8, i5, n4, true) : RW(t8, 0, n4, true), PW(t8, n4, true), BW(t8, i5, n4, true);
        })(n3, u2, s3) : n3 = YW(e2, u2, s3, true), e2.setItemGraphicEl(t7, n3), n3.__pictorialSymbolMeta = s3, r2.add(n3), ZW(n3, u2, s3);
      } else r2.remove(n3);
    })).remove((function(t7) {
      var i4 = o2.getItemGraphicEl(t7);
      i4 && XW(o2, t7, i4.__pictorialSymbolMeta.animationModel, i4);
    })).execute();
    var f2 = t6.get("clip", true) ? tS(t6.coordinateSystem, false, t6) : null;
    return f2 ? r2.setClipPath(f2) : r2.removeClipPath(), this._data = e2, this.group;
  }, i2.prototype.remove = function(t6) {
    var i3 = this.group, n2 = this._data;
    t6.get("animation") ? n2 && n2.eachItemGraphicEl((function(i4) {
      XW(n2, hf(i4).dataIndex, t6, i4);
    })) : i3.removeAll();
  }, i2.type = "pictorialBar", i2;
})(Sb);
function WW(t5, i2, n2, r2) {
  var e2 = t5.getItemLayout(i2), o2 = n2.get("symbolRepeat"), a2 = n2.get("symbolClip"), s2 = n2.get("symbolPosition") || "start", l2 = (n2.get("symbolRotate") || 0) * Math.PI / 180 || 0, u2 = n2.get("symbolPatternSize") || 2, f2 = n2.isAnimationEnabled(), c2 = { dataIndex: i2, layout: e2, itemModel: n2, symbolType: t5.getItemVisual(i2, "symbol") || "circle", style: t5.getItemVisual(i2, "style"), symbolClip: a2, symbolRepeat: o2, symbolRepeatDirection: n2.get("symbolRepeatDirection"), symbolPatternSize: u2, rotation: l2, animationModel: f2 ? n2 : null, hoverScale: f2 && n2.get(["emphasis", "scale"]), z2: n2.getShallow("z", true) || 0 };
  !(function(t6, i3, n3, r3, e3) {
    var o3, a3 = r3.valueDim, s3 = t6.get("symbolBoundingData"), l3 = r3.coordSys.getOtherAxis(r3.coordSys.getBaseAxis()), u3 = l3.toGlobalCoord(l3.dataToCoord(0)), f3 = 1 - +(n3[a3.wh] <= 0);
    if (_n(s3)) {
      var c3 = [EW(l3, s3[0]) - u3, EW(l3, s3[1]) - u3];
      c3[1] < c3[0] && c3.reverse(), o3 = c3[f3];
    } else o3 = null != s3 ? EW(l3, s3) - u3 : i3 ? r3.coordSysExtent[a3.index][f3] - u3 : n3[a3.wh];
    e3.boundingLength = o3, i3 && (e3.repeatCutLength = n3[a3.wh]);
    var h3 = "x" === a3.xy, v3 = l3.inverse;
    e3.pxSign = h3 && !v3 || !h3 && v3 ? o3 >= 0 ? 1 : -1 : o3 > 0 ? 1 : -1;
  })(n2, o2, e2, r2, c2), (function(t6, i3, n3, r3, e3, o3, a3, s3, l3, u3) {
    var f3, c3 = l3.valueDim, h3 = l3.categoryDim, v3 = Math.abs(n3[h3.wh]), d2 = t6.getItemVisual(i3, "symbolSize");
    (f3 = _n(d2) ? d2.slice() : null == d2 ? ["100%", "100%"] : [d2, d2])[h3.index] = us(f3[h3.index], v3), f3[c3.index] = us(f3[c3.index], r3 ? v3 : Math.abs(o3)), u3.symbolSize = f3, (u3.symbolScale = [f3[0] / s3, f3[1] / s3])[c3.index] *= (l3.isHorizontal ? -1 : 1) * a3;
  })(t5, i2, e2, o2, 0, c2.boundingLength, c2.pxSign, u2, r2, c2), (function(t6, i3, n3, r3, e3) {
    var o3 = t6.get(TW) || 0;
    o3 && (LW.attr({ scaleX: i3[0], scaleY: i3[1], rotation: n3 }), LW.updateTransform(), o3 /= LW.getLineScale(), o3 *= i3[r3.valueDim.index]), e3.valueLineWidth = o3 || 0;
  })(n2, c2.symbolScale, l2, r2, c2);
  var h2 = c2.symbolSize, v2 = Pg(n2.get("symbolOffset"), h2);
  return (function(t6, i3, n3, r3, e3, o3, a3, s3, l3, u3, f3, c3) {
    var h3 = f3.categoryDim, v3 = f3.valueDim, d2 = c3.pxSign, p2 = Math.max(i3[v3.index] + s3, 0), m2 = p2;
    if (r3) {
      var b2 = Math.abs(l3), g3 = Bn(t6.get("symbolMargin"), "15%") + "", y2 = false;
      g3.lastIndexOf("!") === g3.length - 1 && (y2 = true, g3 = g3.slice(0, g3.length - 1));
      var w3 = us(g3, i3[v3.index]), x2 = Math.max(p2 + 2 * w3, 0), k2 = y2 ? 0 : 2 * w3, M2 = Ss(r3), z2 = M2 ? r3 : qW((b2 + k2) / x2);
      x2 = p2 + 2 * (w3 = (b2 - z2 * p2) / 2 / (y2 ? z2 : Math.max(z2 - 1, 1))), k2 = y2 ? 0 : 2 * w3, M2 || "fixed" === r3 || (z2 = u3 ? qW((Math.abs(u3) + k2) / x2) : 0), m2 = z2 * x2 - k2, c3.repeatTimes = z2, c3.symbolMargin = w3;
    }
    var S3 = d2 * (m2 / 2), C3 = c3.pathPosition = [];
    C3[h3.index] = n3[h3.wh] / 2, C3[v3.index] = "start" === a3 ? S3 : "end" === a3 ? l3 - S3 : l3 / 2, o3 && (C3[0] += o3[0], C3[1] += o3[1]);
    var A3 = c3.bundlePosition = [];
    A3[h3.index] = n3[h3.xy], A3[v3.index] = n3[v3.xy];
    var N2 = c3.barRectShape = bn({}, n3);
    N2[v3.wh] = d2 * Math.max(Math.abs(n3[v3.wh]), Math.abs(C3[v3.index] + S3)), N2[h3.wh] = n3[h3.wh];
    var _2 = c3.clipShape = {};
    _2[h3.xy] = -n3[h3.xy], _2[h3.wh] = f3.ecSize[h3.wh], _2[v3.xy] = 0, _2[v3.wh] = n3[v3.wh];
  })(n2, h2, e2, o2, 0, v2, s2, c2.valueLineWidth, c2.boundingLength, c2.repeatCutLength, r2, c2), c2;
}
function EW(t5, i2) {
  return t5.toGlobalCoord(t5.dataToCoord(t5.scale.parse(i2)));
}
function OW(t5) {
  var i2 = t5.symbolPatternSize, n2 = Fg(t5.symbolType, -i2 / 2, -i2 / 2, i2, i2);
  return n2.attr({ culling: true }), "image" !== n2.type && n2.setStyle({ strokeNoScale: true }), n2;
}
function FW(t5, i2, n2, r2) {
  var e2 = t5.__pictorialBundle, o2 = n2.pathPosition, a2 = i2.valueDim, s2 = n2.repeatTimes || 0, l2 = 0, u2 = n2.symbolSize[i2.valueDim.index] + n2.valueLineWidth + 2 * n2.symbolMargin;
  for ($W(t5, (function(t6) {
    t6.__pictorialAnimationIndex = l2, t6.__pictorialRepeatTimes = s2, l2 < s2 ? GW(t6, null, h2(l2), n2, r2) : GW(t6, null, { scaleX: 0, scaleY: 0 }, n2, r2, (function() {
      e2.remove(t6);
    })), l2++;
  })); l2 < s2; l2++) {
    var f2 = OW(n2);
    f2.__pictorialAnimationIndex = l2, f2.__pictorialRepeatTimes = s2, e2.add(f2);
    var c2 = h2(l2);
    GW(f2, { x: c2.x, y: c2.y, scaleX: 0, scaleY: 0 }, { scaleX: c2.scaleX, scaleY: c2.scaleY, rotation: c2.rotation }, n2, r2);
  }
  function h2(t6) {
    var i3 = o2.slice(), r3 = n2.pxSign, e3 = t6;
    return ("start" === n2.symbolRepeatDirection ? r3 > 0 : r3 < 0) && (e3 = s2 - 1 - t6), i3[a2.index] = u2 * (e3 - s2 / 2 + 0.5) + o2[a2.index], { x: i3[0], y: i3[1], scaleX: n2.symbolScale[0], scaleY: n2.symbolScale[1], rotation: n2.rotation };
  }
}
function RW(t5, i2, n2, r2) {
  var e2 = t5.__pictorialBundle, o2 = t5.__pictorialMainPath;
  o2 ? GW(o2, null, { x: n2.pathPosition[0], y: n2.pathPosition[1], scaleX: n2.symbolScale[0], scaleY: n2.symbolScale[1], rotation: n2.rotation }, n2, r2) : (o2 = t5.__pictorialMainPath = OW(n2), e2.add(o2), GW(o2, { x: n2.pathPosition[0], y: n2.pathPosition[1], scaleX: 0, scaleY: 0, rotation: n2.rotation }, { scaleX: n2.symbolScale[0], scaleY: n2.symbolScale[1] }, n2, r2));
}
function PW(t5, i2, n2) {
  var r2 = bn({}, i2.barRectShape), e2 = t5.__pictorialBarRect;
  e2 ? GW(e2, null, { shape: r2 }, i2, n2) : ((e2 = t5.__pictorialBarRect = new Zu({ z2: 2, shape: r2, silent: true, style: { stroke: "transparent", fill: "transparent", lineWidth: 0 } })).disableMorphing = true, t5.add(e2));
}
function BW(t5, i2, n2, r2) {
  if (n2.symbolClip) {
    var e2 = t5.__pictorialClipPath, o2 = bn({}, n2.clipShape), a2 = i2.valueDim, s2 = n2.animationModel, l2 = n2.dataIndex;
    if (e2) Mh(e2, { shape: o2 }, s2, l2);
    else {
      o2[a2.wh] = 0, e2 = new Zu({ shape: o2 }), t5.__pictorialBundle.setClipPath(e2), t5.__pictorialClipPath = e2;
      var u2 = {};
      u2[a2.wh] = n2.clipShape[a2.wh], iv[r2 ? "updateProps" : "initProps"](e2, { shape: u2 }, s2, l2);
    }
  }
}
function VW(t5, i2) {
  var n2 = t5.getItemModel(i2);
  return n2.getAnimationDelayParams = jW, n2.isAnimationEnabled = HW, n2;
}
function jW(t5) {
  return { index: t5.__pictorialAnimationIndex, count: t5.__pictorialRepeatTimes };
}
function HW() {
  return this.parentModel.isAnimationEnabled() && !!this.getShallow("animation");
}
function YW(t5, i2, n2, r2) {
  var e2 = new rs(), o2 = new rs();
  return e2.add(o2), e2.__pictorialBundle = o2, o2.x = n2.bundlePosition[0], o2.y = n2.bundlePosition[1], n2.symbolRepeat ? FW(e2, i2, n2) : RW(e2, 0, n2), PW(e2, n2, r2), BW(e2, i2, n2, r2), e2.__pictorialShapeStr = UW(t5, n2), e2.__pictorialSymbolMeta = n2, e2;
}
function XW(t5, i2, n2, r2) {
  var e2 = r2.__pictorialBarRect;
  e2 && e2.removeTextContent();
  var o2 = [];
  $W(r2, (function(t6) {
    o2.push(t6);
  })), r2.__pictorialMainPath && o2.push(r2.__pictorialMainPath), r2.__pictorialClipPath && (n2 = null), kn(o2, (function(t6) {
    Ch(t6, { scaleX: 0, scaleY: 0 }, n2, i2, (function() {
      r2.parent && r2.parent.remove(r2);
    }));
  })), t5.setItemGraphicEl(i2, null);
}
function UW(t5, i2) {
  return [t5.getItemVisual(i2.dataIndex, "symbol") || "none", !!i2.symbolRepeat, !!i2.symbolClip].join(":");
}
function $W(t5, i2, n2) {
  kn(t5.__pictorialBundle.children(), (function(r2) {
    r2 !== t5.__pictorialBarRect && i2.call(n2, r2);
  }));
}
function GW(t5, i2, n2, r2, e2, o2) {
  i2 && t5.attr(i2), r2.symbolClip && !e2 ? n2 && t5.attr(n2) : n2 && iv[e2 ? "updateProps" : "initProps"](t5, n2, r2.animationModel, r2.dataIndex, o2);
}
function ZW(t5, i2, n2) {
  var r2 = n2.dataIndex, e2 = n2.itemModel, o2 = e2.getModel("emphasis"), a2 = o2.getModel("itemStyle").getItemStyle(), s2 = e2.getModel(["blur", "itemStyle"]).getItemStyle(), l2 = e2.getModel(["select", "itemStyle"]).getItemStyle(), u2 = e2.getShallow("cursor"), f2 = o2.get("focus"), c2 = o2.get("blurScope"), h2 = o2.get("scale");
  $W(t5, (function(t6) {
    if (t6 instanceof ju) {
      var i3 = t6.style;
      t6.useStyle(bn({ image: i3.image, x: i3.x, y: i3.y, width: i3.width, height: i3.height }, n2.style));
    } else t6.useStyle(n2.style);
    var r3 = t6.ensureState("emphasis");
    r3.style = a2, h2 && (r3.scaleX = 1.1 * t6.scaleX, r3.scaleY = 1.1 * t6.scaleY), t6.ensureState("blur").style = s2, t6.ensureState("select").style = l2, u2 && (t6.cursor = u2), t6.z2 = n2.z2;
  }));
  var v2 = i2.valueDim.posDesc[+(n2.boundingLength > 0)], d2 = t5.__pictorialBarRect;
  d2.ignoreClip = true, ov(d2, av(e2), { labelFetcher: i2.seriesModel, labelDataIndex: r2, defaultText: Wz(i2.seriesModel.getData(), r2), inheritColor: n2.style.fill, defaultOpacity: n2.style.opacity, defaultOutsidePosition: v2 }), tc(t5, f2, c2, o2.get("disabled"));
}
function qW(t5) {
  var i2 = Math.round(t5);
  return Math.abs(t5 - i2) < 1e-4 ? i2 : Math.ceil(t5);
}
var JW = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.hasSymbolVisual = true, n2.defaultSymbol = "roundRect", n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function(i3) {
    return i3.stack = null, t5.prototype.getInitialData.apply(this, arguments);
  }, i2.type = "series.pictorialBar", i2.dependencies = ["grid"], i2.defaultOption = Lv(pS.defaultOption, { symbol: "circle", symbolSize: null, symbolRotate: null, symbolPosition: null, symbolOffset: null, symbolMargin: null, symbolRepeat: false, symbolRepeatDirection: "end", symbolClip: false, symbolBoundingData: null, symbolPatternSize: 400, barGap: "-100%", clip: false, progressive: 0, emphasis: { scale: false }, select: { itemStyle: { borderColor: "#212121" } } }), i2;
})(pS), KW = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2._layers = [], n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6) {
    var i3 = t6.getData(), n2 = this, r2 = this.group, e2 = t6.getLayerSeries(), o2 = i3.getLayout("layoutInfo"), a2 = o2.rect, s2 = o2.boundaryGap;
    function l2(t7) {
      return t7.name;
    }
    r2.x = 0, r2.y = a2.y + s2[0];
    var u2 = new Mw(this._layersSeries || [], e2, l2, l2), f2 = [];
    function c2(o3, a3, s3) {
      var l3 = n2._layers;
      if ("remove" !== o3) {
        for (var u3, c3, h2 = [], v2 = [], d2 = e2[a3].indices, p2 = 0; p2 < d2.length; p2++) {
          var m2 = i3.getItemLayout(d2[p2]), b2 = m2.x, g3 = m2.y0, y2 = m2.y;
          h2.push(b2, g3), v2.push(b2, g3 + y2), u3 = i3.getItemVisual(d2[p2], "style");
        }
        var w3 = i3.getItemLayout(d2[0]), x2 = t6.getModel("label").get("margin"), k2 = t6.getModel("emphasis");
        if ("add" === o3) {
          var M2 = f2[a3] = new rs();
          c3 = new Jz({ shape: { points: h2, stackedOnPoints: v2, smooth: 0.4, stackedOnSmooth: 0.4, smoothConstraint: false }, z2: 0 }), M2.add(c3), r2.add(M2), t6.isAnimationEnabled() && c3.setClipPath((function(t7, i4) {
            var n3 = new Zu({ shape: { x: t7.x - 10, y: t7.y - 10, width: 0, height: t7.height + 20 } });
            return zh(n3, { shape: { x: t7.x - 50, width: t7.width + 100, height: t7.height + 20 } }, i4, (function() {
              c3.removeClipPath();
            })), n3;
          })(c3.getBoundingRect(), t6));
        } else c3 = (M2 = l3[s3]).childAt(0), r2.add(M2), f2[a3] = M2, Mh(c3, { shape: { points: h2, stackedOnPoints: v2 } }, t6), _h(c3);
        ov(c3, av(t6), { labelDataIndex: d2[p2 - 1], defaultText: i3.getName(d2[p2 - 1]), inheritColor: u3.fill }, { normal: { verticalAlign: "middle" } }), c3.setTextConfig({ position: null, local: true });
        var z2 = c3.getTextContent();
        z2 && (z2.x = w3.x - x2, z2.y = w3.y0 + w3.y / 2), c3.useStyle(u3), i3.setItemGraphicEl(a3, c3), ec(c3, t6), tc(c3, k2.get("focus"), k2.get("blurScope"), k2.get("disabled"));
      } else r2.remove(l3[a3]);
    }
    u2.add(An(c2, this, "add")).update(An(c2, this, "update")).remove(An(c2, this, "remove")).execute(), this._layersSeries = e2, this._layers = f2;
  }, i2.type = "themeRiver", i2;
})(Sb), QW = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(i3) {
    t5.prototype.init.apply(this, arguments), this.legendVisualProvider = new tC(An(this.getData, this), An(this.getRawData, this));
  }, i2.prototype.fixData = function(t6) {
    var i3 = t6.length, n2 = {}, r2 = Qs(t6, (function(t7) {
      return n2.hasOwnProperty(t7[0] + "") || (n2[t7[0] + ""] = -1), t7[2];
    })), e2 = [];
    r2.buckets.each((function(t7, i4) {
      e2.push({ name: i4, dataList: t7 });
    }));
    for (var o2 = e2.length, a2 = 0; a2 < o2; ++a2) {
      for (var s2 = e2[a2].name, l2 = 0; l2 < e2[a2].dataList.length; ++l2) n2[u2 = e2[a2].dataList[l2][0] + ""] = a2;
      for (var u2 in n2) n2.hasOwnProperty(u2) && n2[u2] !== a2 && (n2[u2] = a2, t6[i3] = [u2, 0, s2], i3++);
    }
    return t6;
  }, i2.prototype.getInitialData = function(t6) {
    for (var i3 = this.getReferringComponents("singleAxis", Zs).models[0].get("type"), n2 = Sn(t6.data, (function(t7) {
      return void 0 !== t7[2];
    })), r2 = this.fixData(n2 || []), e2 = this.nameMap = Qn(), o2 = 0, a2 = 0; a2 < r2.length; ++a2) e2.get(r2[a2][2]) || (e2.set(r2[a2][2], o2), o2++);
    var s2 = Gw(r2, { coordDimensions: ["single"], dimensionsDefine: [{ name: "time", type: Cw(i3) }, { name: "value", type: "float" }, { name: "name", type: "ordinal" }], encodeDefine: { single: 0, value: 1, itemName: 2 } }).dimensions, l2 = new $w(s2, this);
    return l2.initData(r2), l2;
  }, i2.prototype.getLayerSeries = function() {
    for (var t6 = this.getData(), i3 = t6.count(), n2 = [], r2 = 0; r2 < i3; ++r2) n2[r2] = r2;
    var e2 = t6.mapDimension("single"), o2 = Qs(n2, (function(i4) {
      return t6.get("name", i4);
    })), a2 = [];
    return o2.buckets.each((function(i4, n3) {
      i4.sort((function(i5, n4) {
        return t6.get(e2, i5) - t6.get(e2, n4);
      })), a2.push({ name: n3, indices: i4 });
    })), a2;
  }, i2.prototype.getAxisTooltipData = function(t6, i3) {
    _n(t6) || (t6 = t6 ? [t6] : []);
    for (var n2, r2 = this.getData(), e2 = this.getLayerSeries(), o2 = [], a2 = e2.length, s2 = 0; s2 < a2; ++s2) {
      for (var l2 = Number.MAX_VALUE, u2 = -1, f2 = e2[s2].indices.length, c2 = 0; c2 < f2; ++c2) {
        var h2 = r2.get(t6[0], e2[s2].indices[c2]), v2 = Math.abs(h2 - i3);
        v2 <= l2 && (n2 = h2, l2 = v2, u2 = e2[s2].indices[c2]);
      }
      o2.push(u2);
    }
    return { dataIndices: o2, nestestValue: n2 };
  }, i2.prototype.formatTooltip = function(t6) {
    var i3 = this.getData();
    return Jm("nameValue", { name: i3.getName(t6), value: i3.get(i3.mapDimension("value"), t6) });
  }, i2.type = "series.themeRiver", i2.dependencies = ["singleAxis"], i2.defaultOption = { z: 2, colorBy: "data", coordinateSystem: "singleAxis", boundaryGap: ["10%", "10%"], singleAxisIndex: 0, animationEasing: "linear", label: { margin: 4, show: true, position: "left", fontSize: 11 }, emphasis: { label: { show: true } } }, i2;
})(vb);
function tE(t5) {
  t5.eachSeriesByType("themeRiver", (function(t6) {
    var i2 = t6.getData(), n2 = t6.coordinateSystem, r2 = {}, e2 = n2.getRect();
    r2.rect = e2;
    var o2 = t6.get("boundaryGap"), a2 = n2.getAxis();
    r2.boundaryGap = o2, "horizontal" === a2.orient ? (o2[0] = us(o2[0], e2.height), o2[1] = us(o2[1], e2.height), iE(i2, t6, e2.height - o2[0] - o2[1])) : (o2[0] = us(o2[0], e2.width), o2[1] = us(o2[1], e2.width), iE(i2, t6, e2.width - o2[0] - o2[1])), i2.setLayout("layoutInfo", r2);
  }));
}
function iE(t5, i2, n2) {
  if (t5.count()) for (var r2, e2 = i2.coordinateSystem, o2 = i2.getLayerSeries(), a2 = t5.mapDimension("single"), s2 = t5.mapDimension("value"), l2 = Mn(o2, (function(i3) {
    return Mn(i3.indices, (function(i4) {
      var n3 = e2.dataToPoint(t5.get(a2, i4));
      return n3[1] = t5.get(s2, i4), n3;
    }));
  })), u2 = (function(t6) {
    for (var i3 = t6.length, n3 = t6[0].length, r3 = [], e3 = [], o3 = 0, a3 = 0; a3 < n3; ++a3) {
      for (var s3 = 0, l3 = 0; l3 < i3; ++l3) s3 += t6[l3][a3][1];
      s3 > o3 && (o3 = s3), r3.push(s3);
    }
    for (var u3 = 0; u3 < n3; ++u3) e3[u3] = (o3 - r3[u3]) / 2;
    o3 = 0;
    for (var f3 = 0; f3 < n3; ++f3) {
      var c3 = r3[f3] + e3[f3];
      c3 > o3 && (o3 = c3);
    }
    return { y0: e3, max: o3 };
  })(l2), f2 = u2.y0, c2 = n2 / u2.max, h2 = o2.length, v2 = o2[0].indices.length, d2 = 0; d2 < v2; ++d2) {
    t5.setItemLayout(o2[0].indices[d2], { layerIndex: 0, x: l2[0][d2][0], y0: r2 = f2[d2] * c2, y: l2[0][d2][1] * c2 });
    for (var p2 = 1; p2 < h2; ++p2) t5.setItemLayout(o2[p2].indices[d2], { layerIndex: p2, x: l2[p2][d2][0], y0: r2 += l2[p2 - 1][d2][1] * c2, y: l2[p2][d2][1] * c2 });
  }
}
var nE = (function(t5) {
  function i2(i3, n2, r2, e2) {
    var o2 = t5.call(this) || this;
    o2.z2 = 2, o2.textConfig = { inside: true }, hf(o2).seriesIndex = n2.seriesIndex;
    var a2 = new Ku({ z2: 4, silent: i3.getModel().get(["label", "silent"]) });
    return o2.setTextContent(a2), o2.updateData(true, i3, n2, r2, e2), o2;
  }
  return Yi(i2, t5), i2.prototype.updateData = function(t6, i3, n2, r2, e2) {
    this.node = i3, i3.piece = this, n2 = n2 || this._seriesModel, r2 = r2 || this._ecModel;
    var o2 = this;
    hf(o2).dataIndex = i3.dataIndex;
    var a2 = i3.getModel(), s2 = a2.getModel("emphasis"), l2 = i3.getLayout(), u2 = bn({}, l2);
    u2.label = null;
    var f2 = i3.getVisual("style");
    f2.lineJoin = "bevel";
    var c2 = i3.getVisual("decal");
    c2 && (f2.decal = fy(c2, e2));
    var h2 = xS(a2.getModel("itemStyle"), u2, true);
    bn(u2, h2), kn(gf, (function(t7) {
      var i4 = o2.ensureState(t7), n3 = a2.getModel([t7, "itemStyle"]);
      i4.style = n3.getItemStyle();
      var r3 = xS(n3, u2);
      r3 && (i4.shape = r3);
    })), t6 ? (o2.setShape(u2), o2.shape.r = l2.r0, zh(o2, { shape: { r: l2.r } }, n2, i3.dataIndex)) : (Mh(o2, { shape: u2 }, n2), _h(o2)), o2.useStyle(f2), this._updateLabel(n2);
    var v2 = a2.getShallow("cursor");
    v2 && o2.attr("cursor", v2), this._seriesModel = n2 || this._seriesModel, this._ecModel = r2 || this._ecModel;
    var d2 = s2.get("focus");
    tc(this, "relative" === d2 ? tr(i3.getAncestorsIndices(), i3.getDescendantIndices()) : "ancestor" === d2 ? i3.getAncestorsIndices() : "descendant" === d2 ? i3.getDescendantIndices() : d2, s2.get("blurScope"), s2.get("disabled"));
  }, i2.prototype._updateLabel = function(t6) {
    var i3 = this, n2 = this.node.getModel(), r2 = n2.getModel("label"), e2 = this.node.getLayout(), o2 = e2.endAngle - e2.startAngle, a2 = (e2.startAngle + e2.endAngle) / 2, s2 = Math.cos(a2), l2 = Math.sin(a2), u2 = this, f2 = u2.getTextContent(), c2 = this.node.dataIndex, h2 = r2.get("minAngle") / 180 * Math.PI, v2 = r2.get("show") && !(null != h2 && Math.abs(o2) < h2);
    function d2(t7, i4) {
      var n3 = t7.get(i4);
      return null == n3 ? r2.get(i4) : n3;
    }
    f2.ignore = !v2, kn(yf, (function(r3) {
      var h3 = n2.getModel("normal" === r3 ? "label" : [r3, "label"]), v3 = "normal" === r3, p2 = v3 ? f2 : f2.ensureState(r3), m2 = t6.getFormattedLabel(c2, r3);
      v3 && (m2 = m2 || i3.node.name), p2.style = sv(h3, {}, null, "normal" !== r3, true), m2 && (p2.style.text = m2);
      var b2 = h3.get("show");
      null == b2 || v3 || (p2.ignore = !b2);
      var g3, y2 = d2(h3, "position"), w3 = v3 ? u2 : u2.states[r3], x2 = w3.style.fill;
      w3.textConfig = { outsideFill: "inherit" === h3.get("color") ? x2 : null, inside: "outside" !== y2 };
      var k2 = d2(h3, "distance") || 0, M2 = d2(h3, "align"), z2 = d2(h3, "rotate"), S3 = 0.5 * Math.PI, C3 = 1.5 * Math.PI, A3 = ku("tangential" === z2 ? Math.PI / 2 - a2 : a2), N2 = A3 > S3 && !bs(A3 - S3) && A3 < C3;
      "outside" === y2 ? (g3 = e2.r + k2, M2 = N2 ? "right" : "left") : M2 && "center" !== M2 ? "left" === M2 ? (g3 = e2.r0 + k2, M2 = N2 ? "right" : "left") : "right" === M2 && (g3 = e2.r - k2, M2 = N2 ? "left" : "right") : (g3 = o2 === 2 * Math.PI && 0 === e2.r0 ? 0 : (e2.r + e2.r0) / 2, M2 = "center"), p2.style.align = M2, p2.style.verticalAlign = d2(h3, "verticalAlign") || "middle", p2.x = g3 * s2 + e2.cx, p2.y = g3 * l2 + e2.cy;
      var _2 = 0;
      "radial" === z2 ? _2 = ku(-a2) + (N2 ? Math.PI : 0) : "tangential" === z2 ? _2 = ku(Math.PI / 2 - a2) + (N2 ? Math.PI : 0) : Dn(z2) && (_2 = z2 * Math.PI / 180), p2.rotation = ku(_2);
    })), f2.dirtyStyle();
  }, i2;
})(Uc), rE = "sunburstRootToNode", eE = "sunburstHighlight", oE = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    var r2 = this;
    this.seriesModel = t6, this.api = n2, this.ecModel = i3;
    var e2 = t6.getData(), o2 = e2.tree.root, a2 = t6.getViewRoot(), s2 = this.group, l2 = t6.get("renderLabelForZeroData"), u2 = [];
    a2.eachNode((function(t7) {
      u2.push(t7);
    })), (function(r3, a3) {
      function u3(t7) {
        return t7.getId();
      }
      function f2(u4, f3) {
        !(function(r4, a4) {
          if (l2 || !r4 || r4.getValue() || (r4 = null), r4 !== o2 && a4 !== o2) {
            if (a4 && a4.piece) r4 ? (a4.piece.updateData(false, r4, t6, i3, n2), e2.setItemGraphicEl(r4.dataIndex, a4.piece)) : (f4 = a4) && f4.piece && (s2.remove(f4.piece), f4.piece = null);
            else if (r4) {
              var u5 = new nE(r4, t6, i3, n2);
              s2.add(u5), e2.setItemGraphicEl(r4.dataIndex, u5);
            }
          }
          var f4;
        })(null == u4 ? null : r3[u4], null == f3 ? null : a3[f3]);
      }
      0 === r3.length && 0 === a3.length || new Mw(a3, r3, u3, u3).add(f2).update(f2).remove(Nn(f2, null)).execute();
    })(u2, this._oldChildren || []), (function(e3, o3) {
      o3.depth > 0 ? (r2.virtualPiece ? r2.virtualPiece.updateData(false, e3, t6, i3, n2) : (r2.virtualPiece = new nE(e3, t6, i3, n2), s2.add(r2.virtualPiece)), o3.piece.off("click"), r2.virtualPiece.on("click", (function() {
        r2._rootToNode(o3.parentNode);
      }))) : r2.virtualPiece && (s2.remove(r2.virtualPiece), r2.virtualPiece = null);
    })(o2, a2), this._initEvents(), this._oldChildren = u2;
  }, i2.prototype._initEvents = function() {
    var t6 = this;
    this.group.off("click"), this.group.on("click", (function(i3) {
      var n2 = false;
      t6.seriesModel.getViewRoot().eachNode((function(r2) {
        if (!n2 && r2.piece && r2.piece === i3.target) {
          var e2 = r2.getModel().get("nodeClick");
          if ("rootToNode" === e2) t6._rootToNode(r2);
          else if ("link" === e2) {
            var o2 = r2.getModel(), a2 = o2.get("link");
            a2 && kd(a2, o2.get("target", true) || "_blank");
          }
          n2 = true;
        }
      }));
    }));
  }, i2.prototype._rootToNode = function(t6) {
    t6 !== this.seriesModel.getViewRoot() && this.api.dispatchAction({ type: rE, from: this.uid, seriesId: this.seriesModel.id, targetNode: t6 });
  }, i2.prototype.containPoint = function(t6, i3) {
    var n2 = i3.getData().getItemLayout(0);
    if (n2) {
      var r2 = t6[0] - n2.cx, e2 = t6[1] - n2.cy, o2 = Math.sqrt(r2 * r2 + e2 * e2);
      return o2 <= n2.r && o2 >= n2.r0;
    }
  }, i2.type = "sunburst", i2;
})(Sb), aE = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.ignoreStyleOnData = true, n2;
  }
  return Yi(i2, t5), i2.prototype.getInitialData = function(t6, i3) {
    var n2 = { name: t6.name, children: t6.data };
    sE(n2);
    var r2 = this._levelModels = Mn(t6.levels || [], (function(t7) {
      return new _v(t7, this, i3);
    }), this), e2 = b_.createTree(n2, this, (function(t7) {
      t7.wrapMethod("getItemModel", (function(t8, i4) {
        var n3 = e2.getNodeByDataIndex(i4), o2 = r2[n3.depth];
        return o2 && (t8.parentModel = o2), t8;
      }));
    }));
    return e2.data;
  }, i2.prototype.optionUpdated = function() {
    this.resetViewRoot();
  }, i2.prototype.getDataParams = function(i3) {
    var n2 = t5.prototype.getDataParams.apply(this, arguments), r2 = this.getData().tree.getNodeByDataIndex(i3);
    return n2.treePathInfo = x_(r2, this), n2;
  }, i2.prototype.getLevelModel = function(t6) {
    return this._levelModels && this._levelModels[t6.depth];
  }, i2.prototype.getViewRoot = function() {
    return this._viewRoot;
  }, i2.prototype.resetViewRoot = function(t6) {
    t6 ? this._viewRoot = t6 : t6 = this._viewRoot;
    var i3 = this.getRawData().tree.root;
    t6 && (t6 === i3 || i3.contains(t6)) || (this._viewRoot = i3);
  }, i2.prototype.enableAriaDecal = function() {
    A_(this);
  }, i2.type = "series.sunburst", i2.defaultOption = { z: 2, center: ["50%", "50%"], radius: [0, "75%"], clockwise: true, startAngle: 90, minAngle: 0, stillShowZeroSum: true, nodeClick: "rootToNode", renderLabelForZeroData: false, label: { rotate: "radial", show: true, opacity: 1, align: "center", position: "inside", distance: 5, silent: true }, itemStyle: { borderWidth: 1, borderColor: "white", borderType: "solid", shadowBlur: 0, shadowColor: "rgba(0, 0, 0, 0.2)", shadowOffsetX: 0, shadowOffsetY: 0, opacity: 1 }, emphasis: { focus: "descendant" }, blur: { itemStyle: { opacity: 0.2 }, label: { opacity: 0.1 } }, animationType: "expansion", animationDuration: 1e3, animationDurationUpdate: 500, data: [], sort: "desc" }, i2;
})(vb);
function sE(t5) {
  var i2 = 0;
  kn(t5.children, (function(t6) {
    sE(t6);
    var n3 = t6.value;
    _n(n3) && (n3 = n3[0]), i2 += n3;
  }));
  var n2 = t5.value;
  _n(n2) && (n2 = n2[0]), (null == n2 || isNaN(n2)) && (n2 = i2), n2 < 0 && (n2 = 0), _n(t5.value) ? t5.value[0] = n2 : t5.value = n2;
}
var lE = Math.PI / 180;
function uE(t5, i2, n2) {
  i2.eachSeriesByType(t5, (function(t6) {
    var i3 = t6.get("center"), r2 = t6.get("radius");
    _n(r2) || (r2 = [0, r2]), _n(i3) || (i3 = [i3, i3]);
    var e2 = n2.getWidth(), o2 = n2.getHeight(), a2 = Math.min(e2, o2), s2 = us(i3[0], e2), l2 = us(i3[1], o2), u2 = us(r2[0], a2 / 2), f2 = us(r2[1], a2 / 2), c2 = -t6.get("startAngle") * lE, h2 = t6.get("minAngle") * lE, v2 = t6.getData().tree.root, d2 = t6.getViewRoot(), p2 = d2.depth, m2 = t6.get("sort");
    null != m2 && fE(d2, m2);
    var b2 = 0;
    kn(d2.children, (function(t7) {
      !isNaN(t7.getValue()) && b2++;
    }));
    var g3 = d2.getValue(), y2 = Math.PI / (g3 || b2) * 2, w3 = d2.depth > 0, x2 = (f2 - u2) / (d2.height - (w3 ? -1 : 1) || 1), k2 = t6.get("clockwise"), M2 = t6.get("stillShowZeroSum"), z2 = k2 ? 1 : -1, S3 = function(i4, n3) {
      if (i4) {
        var r3 = n3;
        if (i4 !== v2) {
          var e3 = i4.getValue(), o3 = 0 === g3 && M2 ? y2 : e3 * y2;
          o3 < h2 && (o3 = h2), r3 = n3 + z2 * o3;
          var f3 = i4.depth - p2 - (w3 ? -1 : 1), c3 = u2 + x2 * f3, d3 = u2 + x2 * (f3 + 1), m3 = t6.getLevelModel(i4);
          if (m3) {
            var b3 = m3.get("r0", true), C4 = m3.get("r", true), A3 = m3.get("radius", true);
            null != A3 && (b3 = A3[0], C4 = A3[1]), null != b3 && (c3 = us(b3, a2 / 2)), null != C4 && (d3 = us(C4, a2 / 2));
          }
          i4.setLayout({ angle: o3, startAngle: n3, endAngle: r3, clockwise: k2, cx: s2, cy: l2, r0: c3, r: d3 });
        }
        if (i4.children && i4.children.length) {
          var N2 = 0;
          kn(i4.children, (function(t7) {
            N2 += S3(t7, n3 + N2);
          }));
        }
        return r3 - n3;
      }
    };
    if (w3) {
      var C3 = 2 * Math.PI;
      v2.setLayout({ angle: C3, startAngle: c2, endAngle: c2 + C3, clockwise: k2, cx: s2, cy: l2, r0: u2, r: u2 + x2 });
    }
    S3(d2, c2);
  }));
}
function fE(t5, i2) {
  var n2 = t5.children || [];
  t5.children = (function(t6, i3) {
    if (Tn(i3)) {
      var n3 = Mn(t6, (function(t7, i4) {
        var n4 = t7.getValue();
        return { params: { depth: t7.depth, height: t7.height, dataIndex: t7.dataIndex, getValue: function() {
          return n4;
        } }, index: i4 };
      }));
      return n3.sort((function(t7, n4) {
        return i3(t7.params, n4.params);
      })), Mn(n3, (function(i4) {
        return t6[i4.index];
      }));
    }
    var r2 = "asc" === i3;
    return t6.sort((function(t7, i4) {
      var n4 = (t7.getValue() - i4.getValue()) * (r2 ? 1 : -1);
      return 0 === n4 ? (t7.dataIndex - i4.dataIndex) * (r2 ? -1 : 1) : n4;
    }));
  })(n2, i2), n2.length && kn(t5.children, (function(t6) {
    fE(t6, i2);
  }));
}
function cE(t5) {
  var i2 = {};
  t5.eachSeriesByType("sunburst", (function(t6) {
    var n2 = t6.getData(), r2 = n2.tree;
    r2.eachNode((function(e2) {
      var o2 = e2.getModel().getModel("itemStyle").getItemStyle();
      o2.fill || (o2.fill = (function(t7, n3, r3) {
        for (var e3 = t7; e3 && e3.depth > 1; ) e3 = e3.parentNode;
        var o3 = n3.getColorFromPalette(e3.name || e3.dataIndex + "", i2);
        return t7.depth > 1 && In(o3) && (o3 = Mo(o3, (t7.depth - 1) / (r3 - 1) * 0.5)), o3;
      })(e2, t6, r2.root.height)), bn(n2.ensureUniqueItemVisual(e2.dataIndex, "style"), o2);
    }));
  }));
}
var hE = { color: "fill", borderColor: "stroke" }, vE = { symbol: 1, symbolSize: 1, symbolKeepAspect: 1, legendIcon: 1, visualMeta: 1, liftZ: 1, decal: 1 }, dE = Xs(), pE = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.optionUpdated = function() {
    this.currentZLevel = this.get("zlevel", true), this.currentZ = this.get("z", true);
  }, i2.prototype.getInitialData = function() {
    return ix(null, this);
  }, i2.prototype.getDataParams = function(i3, n2, r2) {
    var e2 = t5.prototype.getDataParams.call(this, i3, n2);
    return r2 && (e2.info = dE(r2).info), e2;
  }, i2.type = "series.custom", i2.dependencies = ["grid", "polar", "geo", "singleAxis", "calendar"], i2.defaultOption = { coordinateSystem: "cartesian2d", z: 2, legendHoverLink: true, clip: false }, i2;
})(vb);
function mE(t5, i2) {
  return i2 = i2 || [0, 0], Mn(["x", "y"], (function(n2, r2) {
    var e2 = this.getAxis(n2), o2 = i2[r2], a2 = t5[r2] / 2;
    return "category" === e2.type ? e2.getBandWidth() : Math.abs(e2.dataToCoord(o2 - a2) - e2.dataToCoord(o2 + a2));
  }), this);
}
function bE(t5, i2) {
  return i2 = i2 || [0, 0], Mn([0, 1], (function(n2) {
    var r2 = i2[n2], e2 = t5[n2] / 2, o2 = [], a2 = [];
    return o2[n2] = r2 - e2, a2[n2] = r2 + e2, o2[1 - n2] = a2[1 - n2] = i2[1 - n2], Math.abs(this.dataToPoint(o2)[n2] - this.dataToPoint(a2)[n2]);
  }), this);
}
function gE(t5, i2) {
  var n2 = this.getAxis(), r2 = i2 instanceof Array ? i2[0] : i2, e2 = (t5 instanceof Array ? t5[0] : t5) / 2;
  return "category" === n2.type ? n2.getBandWidth() : Math.abs(n2.dataToCoord(r2 - e2) - n2.dataToCoord(r2 + e2));
}
function yE(t5, i2) {
  return i2 = i2 || [0, 0], Mn(["Radius", "Angle"], (function(n2, r2) {
    var e2 = this["get" + n2 + "Axis"](), o2 = i2[r2], a2 = t5[r2] / 2, s2 = "category" === e2.type ? e2.getBandWidth() : Math.abs(e2.dataToCoord(o2 - a2) - e2.dataToCoord(o2 + a2));
    return "Angle" === n2 && (s2 = s2 * Math.PI / 180), s2;
  }), this);
}
function wE(t5, i2, n2, r2) {
  return t5 && (t5.legacy || false !== t5.legacy && !n2 && !r2 && "tspan" !== i2 && ("text" === i2 || rr(t5, "text")));
}
function xE(t5, i2, n2) {
  var r2, e2, o2, a2 = t5;
  if ("text" === i2) o2 = a2;
  else {
    o2 = {}, rr(a2, "text") && (o2.text = a2.text), rr(a2, "rich") && (o2.rich = a2.rich), rr(a2, "textFill") && (o2.fill = a2.textFill), rr(a2, "textStroke") && (o2.stroke = a2.textStroke), rr(a2, "fontFamily") && (o2.fontFamily = a2.fontFamily), rr(a2, "fontSize") && (o2.fontSize = a2.fontSize), rr(a2, "fontStyle") && (o2.fontStyle = a2.fontStyle), rr(a2, "fontWeight") && (o2.fontWeight = a2.fontWeight), e2 = { type: "text", style: o2, silent: true }, r2 = {};
    var s2 = rr(a2, "textPosition");
    n2 ? r2.position = s2 ? a2.textPosition : "inside" : s2 && (r2.position = a2.textPosition), rr(a2, "textPosition") && (r2.position = a2.textPosition), rr(a2, "textOffset") && (r2.offset = a2.textOffset), rr(a2, "textRotation") && (r2.rotation = a2.textRotation), rr(a2, "textDistance") && (r2.distance = a2.textDistance);
  }
  return kE(o2, t5), kn(o2.rich, (function(t6) {
    kE(t6, t6);
  })), { textConfig: r2, textContent: e2 };
}
function kE(t5, i2) {
  i2 && (i2.font = i2.textFont || i2.font, rr(i2, "textStrokeWidth") && (t5.lineWidth = i2.textStrokeWidth), rr(i2, "textAlign") && (t5.align = i2.textAlign), rr(i2, "textVerticalAlign") && (t5.verticalAlign = i2.textVerticalAlign), rr(i2, "textLineHeight") && (t5.lineHeight = i2.textLineHeight), rr(i2, "textWidth") && (t5.width = i2.textWidth), rr(i2, "textHeight") && (t5.height = i2.textHeight), rr(i2, "textBackgroundColor") && (t5.backgroundColor = i2.textBackgroundColor), rr(i2, "textPadding") && (t5.padding = i2.textPadding), rr(i2, "textBorderColor") && (t5.borderColor = i2.textBorderColor), rr(i2, "textBorderWidth") && (t5.borderWidth = i2.textBorderWidth), rr(i2, "textBorderRadius") && (t5.borderRadius = i2.textBorderRadius), rr(i2, "textBoxShadowColor") && (t5.shadowColor = i2.textBoxShadowColor), rr(i2, "textBoxShadowBlur") && (t5.shadowBlur = i2.textBoxShadowBlur), rr(i2, "textBoxShadowOffsetX") && (t5.shadowOffsetX = i2.textBoxShadowOffsetX), rr(i2, "textBoxShadowOffsetY") && (t5.shadowOffsetY = i2.textBoxShadowOffsetY));
}
function ME(t5, i2, n2) {
  var r2 = t5;
  r2.textPosition = r2.textPosition || n2.position || "inside", null != n2.offset && (r2.textOffset = n2.offset), null != n2.rotation && (r2.textRotation = n2.rotation), null != n2.distance && (r2.textDistance = n2.distance);
  var e2 = r2.textPosition.indexOf("inside") >= 0, o2 = t5.fill || "#000";
  zE(r2, i2);
  var a2 = null == r2.textFill;
  return e2 ? a2 && (r2.textFill = n2.insideFill || "#fff", !r2.textStroke && n2.insideStroke && (r2.textStroke = n2.insideStroke), !r2.textStroke && (r2.textStroke = o2), null == r2.textStrokeWidth && (r2.textStrokeWidth = 2)) : (a2 && (r2.textFill = t5.fill || n2.outsideFill || "#000"), !r2.textStroke && n2.outsideStroke && (r2.textStroke = n2.outsideStroke)), r2.text = i2.text, r2.rich = i2.rich, kn(i2.rich, (function(t6) {
    zE(t6, t6);
  })), r2;
}
function zE(t5, i2) {
  i2 && (rr(i2, "fill") && (t5.textFill = i2.fill), rr(i2, "stroke") && (t5.textStroke = i2.fill), rr(i2, "lineWidth") && (t5.textStrokeWidth = i2.lineWidth), rr(i2, "font") && (t5.font = i2.font), rr(i2, "fontStyle") && (t5.fontStyle = i2.fontStyle), rr(i2, "fontWeight") && (t5.fontWeight = i2.fontWeight), rr(i2, "fontSize") && (t5.fontSize = i2.fontSize), rr(i2, "fontFamily") && (t5.fontFamily = i2.fontFamily), rr(i2, "align") && (t5.textAlign = i2.align), rr(i2, "verticalAlign") && (t5.textVerticalAlign = i2.verticalAlign), rr(i2, "lineHeight") && (t5.textLineHeight = i2.lineHeight), rr(i2, "width") && (t5.textWidth = i2.width), rr(i2, "height") && (t5.textHeight = i2.height), rr(i2, "backgroundColor") && (t5.textBackgroundColor = i2.backgroundColor), rr(i2, "padding") && (t5.textPadding = i2.padding), rr(i2, "borderColor") && (t5.textBorderColor = i2.borderColor), rr(i2, "borderWidth") && (t5.textBorderWidth = i2.borderWidth), rr(i2, "borderRadius") && (t5.textBorderRadius = i2.borderRadius), rr(i2, "shadowColor") && (t5.textBoxShadowColor = i2.shadowColor), rr(i2, "shadowBlur") && (t5.textBoxShadowBlur = i2.shadowBlur), rr(i2, "shadowOffsetX") && (t5.textBoxShadowOffsetX = i2.shadowOffsetX), rr(i2, "shadowOffsetY") && (t5.textBoxShadowOffsetY = i2.shadowOffsetY), rr(i2, "textShadowColor") && (t5.textShadowColor = i2.textShadowColor), rr(i2, "textShadowBlur") && (t5.textShadowBlur = i2.textShadowBlur), rr(i2, "textShadowOffsetX") && (t5.textShadowOffsetX = i2.textShadowOffsetX), rr(i2, "textShadowOffsetY") && (t5.textShadowOffsetY = i2.textShadowOffsetY));
}
var SE = { position: ["x", "y"], scale: ["scaleX", "scaleY"], origin: ["originX", "originY"] }, CE = Cn(SE);
zn(Oa, (function(t5, i2) {
  return t5[i2] = 1, t5;
}), {}), Oa.join(", ");
var AE = ["", "style", "shape", "extra"], NE = Xs();
function _E(t5, i2, n2, r2, e2) {
  var o2 = t5 + "Animation", a2 = xh(t5, r2, e2) || {}, s2 = NE(i2).userDuring;
  return a2.duration > 0 && (a2.during = s2 ? An(OE, { el: i2, userDuring: s2 }) : null, a2.setToFinal = true, a2.scope = t5), bn(a2, n2[o2]), a2;
}
function TE(t5, i2, n2, r2) {
  var e2 = (r2 = r2 || {}).dataIndex, o2 = r2.isInit, a2 = r2.clearStyle, s2 = n2.isAnimationEnabled(), l2 = NE(t5), u2 = i2.style;
  l2.userDuring = i2.during;
  var f2 = {}, c2 = {};
  if ((function(t6, i3, n3) {
    for (var r3 = 0; r3 < CE.length; r3++) {
      var e3 = CE[r3], o3 = SE[e3], a3 = i3[e3];
      a3 && (n3[o3[0]] = a3[0], n3[o3[1]] = a3[1]);
    }
    for (r3 = 0; r3 < Oa.length; r3++) {
      var s3 = Oa[r3];
      null != i3[s3] && (n3[s3] = i3[s3]);
    }
  })(0, i2, c2), RE("shape", i2, c2), RE("extra", i2, c2), !o2 && s2 && ((function(t6, i3, n3) {
    for (var r3 = i3.transition, e3 = DE(r3) ? Oa : Ds(r3 || []), o3 = 0; o3 < e3.length; o3++) {
      var a3 = e3[o3];
      "style" !== a3 && "shape" !== a3 && "extra" !== a3 && (n3[a3] = t6[a3]);
    }
  })(t5, i2, f2), FE("shape", t5, i2, f2), FE("extra", t5, i2, f2), (function(t6, i3, n3, r3) {
    if (n3) {
      var e3, o3 = t6.style;
      if (o3) {
        var a3 = n3.transition, s3 = i3.transition;
        if (a3 && !DE(a3)) {
          var l3 = Ds(a3);
          !e3 && (e3 = r3.style = {});
          for (var u3 = 0; u3 < l3.length; u3++) e3[v3 = l3[u3]] = o3[v3];
        } else if (t6.getAnimationStyleProps && (DE(s3) || DE(a3) || yn(s3, "style") >= 0)) {
          var f3 = t6.getAnimationStyleProps(), c3 = f3 ? f3.style : null;
          if (c3) {
            !e3 && (e3 = r3.style = {});
            var h3 = Cn(n3);
            for (u3 = 0; u3 < h3.length; u3++) {
              var v3;
              c3[v3 = h3[u3]] && (e3[v3] = o3[v3]);
            }
          }
        }
      }
    }
  })(t5, i2, u2, f2)), c2.style = u2, (function(t6, i3, n3) {
    var r3 = i3.style;
    if (!t6.isGroup && r3) {
      if (n3) {
        t6.useStyle({});
        for (var e3 = t6.animators, o3 = 0; o3 < e3.length; o3++) {
          var a3 = e3[o3];
          "style" === a3.targetName && a3.changeTarget(t6.style);
        }
      }
      t6.setStyle(r3);
    }
    i3 && (i3.style = null, i3 && t6.attr(i3), i3.style = r3);
  })(t5, c2, a2), (function(t6, i3) {
    rr(i3, "silent") && (t6.silent = i3.silent), rr(i3, "ignore") && (t6.ignore = i3.ignore), t6 instanceof El && rr(i3, "invisible") && (t6.invisible = i3.invisible), t6 instanceof Fu && rr(i3, "autoBatch") && (t6.autoBatch = i3.autoBatch);
  })(t5, i2), s2) if (o2) {
    var h2 = {};
    kn(AE, (function(t6) {
      var n3 = t6 ? i2[t6] : i2;
      n3 && n3.enterFrom && (t6 && (h2[t6] = h2[t6] || {}), bn(t6 ? h2[t6] : h2, n3.enterFrom));
    }));
    var v2 = _E("enter", t5, i2, n2, e2);
    v2.duration > 0 && t5.animateFrom(h2, v2);
  } else !(function(t6, i3, n3, r3, e3) {
    if (e3) {
      var o3 = _E("update", t6, i3, r3, n3);
      o3.duration > 0 && t6.animateFrom(e3, o3);
    }
  })(t5, i2, e2 || 0, n2, f2);
  IE(t5, i2), u2 ? t5.dirty() : t5.markRedraw();
}
function IE(t5, i2) {
  for (var n2 = NE(t5).leaveToProps, r2 = 0; r2 < AE.length; r2++) {
    var e2 = AE[r2], o2 = e2 ? i2[e2] : i2;
    o2 && o2.leaveTo && (n2 || (n2 = NE(t5).leaveToProps = {}), e2 && (n2[e2] = n2[e2] || {}), bn(e2 ? n2[e2] : n2, o2.leaveTo));
  }
}
function LE(t5, i2, n2) {
  if (t5) {
    var r2 = t5.parent, e2 = NE(t5).leaveToProps;
    if (e2) {
      var o2 = _E("update", t5, i2, n2, 0);
      o2.done = function() {
        r2.remove(t5);
      }, t5.animateTo(e2, o2);
    } else r2.remove(t5);
  }
}
function DE(t5) {
  return "all" === t5;
}
var WE = {}, EE = { setTransform: function(t5, i2) {
  return WE.el[t5] = i2, this;
}, getTransform: function(t5) {
  return WE.el[t5];
}, setShape: function(t5, i2) {
  var n2 = WE.el;
  return (n2.shape || (n2.shape = {}))[t5] = i2, n2.dirtyShape && n2.dirtyShape(), this;
}, getShape: function(t5) {
  var i2 = WE.el.shape;
  if (i2) return i2[t5];
}, setStyle: function(t5, i2) {
  var n2 = WE.el, r2 = n2.style;
  return r2 && (r2[t5] = i2, n2.dirtyStyle && n2.dirtyStyle()), this;
}, getStyle: function(t5) {
  var i2 = WE.el.style;
  if (i2) return i2[t5];
}, setExtra: function(t5, i2) {
  return (WE.el.extra || (WE.el.extra = {}))[t5] = i2, this;
}, getExtra: function(t5) {
  var i2 = WE.el.extra;
  if (i2) return i2[t5];
} };
function OE() {
  var t5 = this, i2 = t5.el;
  if (i2) {
    var n2 = NE(i2).userDuring, r2 = t5.userDuring;
    n2 === r2 ? (WE.el = i2, r2(EE)) : t5.el = t5.userDuring = null;
  }
}
function FE(t5, i2, n2, r2) {
  var e2 = n2[t5];
  if (e2) {
    var o2, a2 = i2[t5];
    if (a2) {
      var s2 = n2.transition, l2 = e2.transition;
      if (l2) if (!o2 && (o2 = r2[t5] = {}), DE(l2)) bn(o2, a2);
      else for (var u2 = Ds(l2), f2 = 0; f2 < u2.length; f2++) o2[h2 = u2[f2]] = v2 = a2[h2];
      else if (DE(s2) || yn(s2, t5) >= 0) {
        !o2 && (o2 = r2[t5] = {});
        var c2 = Cn(a2);
        for (f2 = 0; f2 < c2.length; f2++) {
          var h2, v2;
          PE(e2[h2 = c2[f2]], v2 = a2[h2]) && (o2[h2] = v2);
        }
      }
    }
  }
}
function RE(t5, i2, n2) {
  var r2 = i2[t5];
  if (r2) for (var e2 = n2[t5] = {}, o2 = Cn(r2), a2 = 0; a2 < o2.length; a2++) {
    var s2 = o2[a2];
    e2[s2] = Qo(r2[s2]);
  }
}
function PE(t5, i2) {
  return xn(t5) ? t5 !== i2 : null != t5 && isFinite(t5);
}
var BE = Xs(), VE = ["percent", "easing", "shape", "style", "extra"];
function jE(t5) {
  t5.stopAnimation("keyframe"), t5.attr(BE(t5));
}
function HE(t5, i2, n2) {
  if (n2.isAnimationEnabled() && i2) if (_n(i2)) kn(i2, (function(i3) {
    HE(t5, i3, n2);
  }));
  else {
    var r2 = i2.keyframes, e2 = i2.duration;
    if (n2 && null == e2) {
      var o2 = xh("enter", n2, 0);
      e2 = o2 && o2.duration;
    }
    if (r2 && e2) {
      var a2 = BE(t5);
      kn(AE, (function(n3) {
        var o3;
        n3 && !t5[n3] || (r2.sort((function(t6, i3) {
          return t6.percent - i3.percent;
        })), kn(r2, (function(r3) {
          var s2 = t5.animators, l2 = n3 ? r3[n3] : r3;
          if (l2) {
            var u2 = Cn(l2);
            if (n3 || (u2 = Sn(u2, (function(t6) {
              return yn(VE, t6) < 0;
            }))), u2.length) {
              o3 || ((o3 = t5.animate(n3, i2.loop, true)).scope = "keyframe");
              for (var f2 = 0; f2 < s2.length; f2++) s2[f2] !== o3 && s2[f2].targetName === o3.targetName && s2[f2].stopTracks(u2);
              n3 && (a2[n3] = a2[n3] || {});
              var c2 = n3 ? a2[n3] : a2;
              kn(u2, (function(i3) {
                c2[i3] = ((n3 ? t5[n3] : t5) || {})[i3];
              })), o3.whenWithKeys(e2 * r3.percent, l2, u2, r3.easing);
            }
          }
        })), o3 && o3.delay(i2.delay || 0).duration(e2).start(i2.easing));
      }));
    }
  }
}
var YE = "emphasis", XE = "normal", UE = "blur", $E = "select", GE = [XE, YE, UE, $E], ZE = { normal: ["itemStyle"], emphasis: [YE, "itemStyle"], blur: [UE, "itemStyle"], select: [$E, "itemStyle"] }, qE = { normal: ["label"], emphasis: [YE, "label"], blur: [UE, "label"], select: [$E, "label"] }, JE = ["x", "y"], KE = { normal: {}, emphasis: {}, blur: {}, select: {} }, QE = { cartesian2d: function(t5) {
  var i2 = t5.master.getRect();
  return { coordSys: { type: "cartesian2d", x: i2.x, y: i2.y, width: i2.width, height: i2.height }, api: { coord: function(i3) {
    return t5.dataToPoint(i3);
  }, size: An(mE, t5) } };
}, geo: function(t5) {
  var i2 = t5.getBoundingRect();
  return { coordSys: { type: "geo", x: i2.x, y: i2.y, width: i2.width, height: i2.height, zoom: t5.getZoom() }, api: { coord: function(i3) {
    return t5.dataToPoint(i3);
  }, size: An(bE, t5) } };
}, single: function(t5) {
  var i2 = t5.getRect();
  return { coordSys: { type: "singleAxis", x: i2.x, y: i2.y, width: i2.width, height: i2.height }, api: { coord: function(i3) {
    return t5.dataToPoint(i3);
  }, size: An(gE, t5) } };
}, polar: function(t5) {
  var i2 = t5.getRadiusAxis(), n2 = t5.getAngleAxis(), r2 = i2.getExtent();
  return r2[0] > r2[1] && r2.reverse(), { coordSys: { type: "polar", cx: t5.cx, cy: t5.cy, r: r2[1], r0: r2[0] }, api: { coord: function(r3) {
    var e2 = i2.dataToRadius(r3[0]), o2 = n2.dataToAngle(r3[1]), a2 = t5.coordToPoint([e2, o2]);
    return a2.push(e2, o2 * Math.PI / 180), a2;
  }, size: An(yE, t5) } };
}, calendar: function(t5) {
  var i2 = t5.getRect(), n2 = t5.getRangeInfo();
  return { coordSys: { type: "calendar", x: i2.x, y: i2.y, width: i2.width, height: i2.height, cellWidth: t5.getCellWidth(), cellHeight: t5.getCellHeight(), rangeInfo: { start: n2.start, end: n2.end, weeks: n2.weeks, dayCount: n2.allDay } }, api: { coord: function(i3, n3) {
    return t5.dataToPoint(i3, n3);
  } } };
} };
function tO(t5) {
  return t5 instanceof Fu;
}
function iO(t5) {
  return t5 instanceof El;
}
var nO = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2, r2) {
    this._progressiveEls = null;
    var e2 = this._data, o2 = t6.getData(), a2 = this.group, s2 = sO(t6, o2, i3, n2);
    e2 || a2.removeAll(), o2.diff(e2).add((function(i4) {
      uO(n2, null, i4, s2(i4, r2), t6, a2, o2);
    })).remove((function(i4) {
      var n3 = e2.getItemGraphicEl(i4);
      n3 && LE(n3, dE(n3).option, t6);
    })).update((function(i4, l3) {
      var u2 = e2.getItemGraphicEl(l3);
      uO(n2, u2, i4, s2(i4, r2), t6, a2, o2);
    })).execute();
    var l2 = t6.get("clip", true) ? tS(t6.coordinateSystem, false, t6) : null;
    l2 ? a2.setClipPath(l2) : a2.removeClipPath(), this._data = o2;
  }, i2.prototype.incrementalPrepareRender = function() {
    this.group.removeAll(), this._data = null;
  }, i2.prototype.incrementalRender = function(t6, i3, n2, r2, e2) {
    var o2 = i3.getData(), a2 = sO(i3, o2, n2, r2), s2 = this._progressiveEls = [];
    function l2(t7) {
      t7.isGroup || (t7.incremental = true, t7.ensureState("emphasis").hoverLayer = true);
    }
    for (var u2 = t6.start; u2 < t6.end; u2++) {
      var f2 = uO(null, null, u2, a2(u2, e2), i3, this.group, o2);
      f2 && (f2.traverse(l2), s2.push(f2));
    }
  }, i2.prototype.eachRendered = function(t6) {
    tv(this._progressiveEls || this.group, t6);
  }, i2.prototype.filterForExposedEvent = function(t6, i3, n2) {
    var r2 = i3.element;
    if (null == r2 || n2.name === r2) return true;
    for (; (n2 = n2.__hostTarget || n2.parent) && n2 !== this.group; ) if (n2.name === r2) return true;
    return false;
  }, i2.type = "custom", i2;
})(Sb);
function rO(t5) {
  var i2, n2 = t5.type;
  if ("path" === n2) {
    var r2 = t5.shape, e2 = null != r2.width && null != r2.height ? { x: r2.x || 0, y: r2.y || 0, width: r2.width, height: r2.height } : null, o2 = yO(r2);
    i2 = Eh(o2, null, e2, r2.layout || "center"), dE(i2).customPathData = o2;
  } else if ("image" === n2) i2 = new ju({}), dE(i2).customImagePath = t5.style.image;
  else if ("text" === n2) i2 = new Ku({});
  else if ("group" === n2) i2 = new rs();
  else {
    if ("compoundPath" === n2) throw new Error('"compoundPath" is not supported yet.');
    var a2 = Wh(n2);
    a2 || _s(""), i2 = new a2();
  }
  return dE(i2).customGraphicType = n2, i2.name = t5.name, i2.z2EmphasisLift = 1, i2.z2SelectLift = 1, i2;
}
function eO(t5, i2, n2, r2, e2, o2, a2) {
  jE(i2);
  var s2 = e2 && e2.normal.cfg;
  s2 && i2.setTextConfig(s2), r2 && null == r2.transition && (r2.transition = JE);
  var l2 = r2 && r2.style;
  if (l2) {
    if ("text" === i2.type) {
      var u2 = l2;
      rr(u2, "textFill") && (u2.fill = u2.textFill), rr(u2, "textStroke") && (u2.stroke = u2.textStroke);
    }
    var f2 = void 0, c2 = tO(i2) ? l2.decal : null;
    t5 && c2 && (c2.dirty = true, f2 = fy(c2, t5)), l2.__decalPattern = f2;
  }
  iO(i2) && l2 && (f2 = l2.__decalPattern) && (l2.decal = f2), TE(i2, r2, o2, { dataIndex: n2, isInit: a2, clearStyle: true }), HE(i2, r2.keyframeAnimation, o2);
}
function oO(t5, i2, n2, r2, e2) {
  var o2 = i2.isGroup ? null : i2, a2 = e2 && e2[t5].cfg;
  if (o2) {
    var s2 = o2.ensureState(t5);
    if (false === r2) {
      var l2 = o2.getState(t5);
      l2 && (l2.style = null);
    } else s2.style = r2 || null;
    a2 && (s2.textConfig = a2), Ff(o2);
  }
}
function aO(t5, i2, n2) {
  var r2 = n2 === XE, e2 = r2 ? i2 : vO(i2, n2), o2 = e2 ? e2.z2 : null;
  null != o2 && ((r2 ? t5 : t5.ensureState(n2)).z2 = o2 || 0);
}
function sO(t5, i2, n2, r2) {
  var e2 = t5.get("renderItem"), o2 = t5.coordinateSystem, a2 = {};
  o2 && (a2 = o2.prepareCustoms ? o2.prepareCustoms(o2) : QE[o2.type](o2));
  for (var s2, l2, u2 = gn({ getWidth: r2.getWidth, getHeight: r2.getHeight, getZr: r2.getZr, getDevicePixelRatio: r2.getDevicePixelRatio, value: function(t6, n3) {
    return null == n3 && (n3 = s2), i2.getStore().get(i2.getDimensionIndex(t6 || 0), n3);
  }, style: function(n3, r3) {
    null == r3 && (r3 = s2);
    var e3 = i2.getItemVisual(r3, "style"), o3 = e3 && e3.fill, a3 = e3 && e3.opacity, l3 = g3(r3, XE).getItemStyle();
    null != o3 && (l3.fill = o3), null != a3 && (l3.opacity = a3);
    var u3 = { inheritColor: In(o3) ? o3 : "#000" }, f3 = y2(r3, XE), c3 = sv(f3, null, u3, false, true);
    c3.text = f3.getShallow("show") ? Vn(t5.getFormattedLabel(r3, XE), Wz(i2, r3)) : null;
    var h3 = lv(f3, u3, false);
    return x2(n3, l3), l3 = ME(l3, c3, h3), n3 && w3(l3, n3), l3.legacy = true, l3;
  }, ordinalRawValue: function(t6, n3) {
    null == n3 && (n3 = s2);
    var r3 = i2.getDimensionInfo(t6 = t6 || 0);
    if (!r3) {
      var e3 = i2.getDimensionIndex(t6);
      return e3 >= 0 ? i2.getStore().get(e3, n3) : void 0;
    }
    var o3 = i2.get(r3.name, n3), a3 = r3 && r3.ordinalMeta;
    return a3 ? a3.categories[o3] : o3;
  }, styleEmphasis: function(n3, r3) {
    null == r3 && (r3 = s2);
    var e3 = g3(r3, YE).getItemStyle(), o3 = y2(r3, YE), a3 = sv(o3, null, null, true, true);
    a3.text = o3.getShallow("show") ? jn(t5.getFormattedLabel(r3, YE), t5.getFormattedLabel(r3, XE), Wz(i2, r3)) : null;
    var l3 = lv(o3, null, true);
    return x2(n3, e3), e3 = ME(e3, a3, l3), n3 && w3(e3, n3), e3.legacy = true, e3;
  }, visual: function(t6, n3) {
    if (null == n3 && (n3 = s2), rr(hE, t6)) {
      var r3 = i2.getItemVisual(n3, "style");
      return r3 ? r3[hE[t6]] : null;
    }
    if (rr(vE, t6)) return i2.getItemVisual(n3, t6);
  }, barLayout: function(t6) {
    if ("cartesian2d" === o2.type) return (function(t7) {
      var i3 = [], n3 = t7.axis, r3 = "axis0";
      if ("category" === n3.type) {
        for (var e3 = n3.getBandWidth(), o3 = 0; o3 < t7.count; o3++) i3.push(gn({ bandWidth: e3, axisKey: r3, stackId: yx + o3 }, t7));
        var a3 = Sx(i3), s3 = [];
        for (o3 = 0; o3 < t7.count; o3++) {
          var l3 = a3[r3][yx + o3];
          l3.offsetCenter = l3.offset + l3.width / 2, s3.push(l3);
        }
        return s3;
      }
    })(gn({ axis: o2.getBaseAxis() }, t6));
  }, currentSeriesIndices: function() {
    return n2.getCurrentSeriesIndices();
  }, font: function(t6) {
    return vv(t6, n2);
  } }, a2.api || {}), f2 = { context: {}, seriesId: t5.id, seriesName: t5.name, seriesIndex: t5.seriesIndex, coordSys: a2.coordSys, dataInsideLength: i2.count(), encode: lO(t5.getData()) }, c2 = {}, h2 = {}, v2 = {}, d2 = {}, p2 = 0; p2 < GE.length; p2++) {
    var m2 = GE[p2];
    v2[m2] = t5.getModel(ZE[m2]), d2[m2] = t5.getModel(qE[m2]);
  }
  function b2(t6) {
    return t6 === s2 ? l2 || (l2 = i2.getItemModel(t6)) : i2.getItemModel(t6);
  }
  function g3(t6, n3) {
    return i2.hasItemOption ? t6 === s2 ? c2[n3] || (c2[n3] = b2(t6).getModel(ZE[n3])) : b2(t6).getModel(ZE[n3]) : v2[n3];
  }
  function y2(t6, n3) {
    return i2.hasItemOption ? t6 === s2 ? h2[n3] || (h2[n3] = b2(t6).getModel(qE[n3])) : b2(t6).getModel(qE[n3]) : d2[n3];
  }
  return function(t6, n3) {
    return s2 = t6, l2 = null, c2 = {}, h2 = {}, e2 && e2(gn({ dataIndexInside: t6, dataIndex: i2.getRawIndex(t6), actionType: n3 ? n3.type : null }, f2), u2);
  };
  function w3(t6, i3) {
    for (var n3 in i3) rr(i3, n3) && (t6[n3] = i3[n3]);
  }
  function x2(t6, i3) {
    t6 && (t6.textFill && (i3.textFill = t6.textFill), t6.textPosition && (i3.textPosition = t6.textPosition));
  }
}
function lO(t5) {
  var i2 = {};
  return kn(t5.dimensions, (function(n2) {
    var r2 = t5.getDimensionInfo(n2);
    if (!r2.isExtraCoord) {
      var e2 = r2.coordDim;
      (i2[e2] = i2[e2] || [])[r2.coordDimIndex] = t5.getDimensionIndex(n2);
    }
  })), i2;
}
function uO(t5, i2, n2, r2, e2, o2, a2) {
  if (r2) {
    var s2 = fO(t5, i2, n2, r2, e2, o2);
    return s2 && a2.setItemGraphicEl(n2, s2), s2 && tc(s2, r2.focus, r2.blurScope, r2.emphasisDisabled), s2;
  }
  o2.remove(i2);
}
function fO(t5, i2, n2, r2, e2, o2) {
  var a2 = -1, s2 = i2;
  i2 && cO(i2, r2, e2) && (a2 = yn(o2.childrenRef(), i2), i2 = null);
  var l2, u2, f2 = !i2, c2 = i2;
  c2 ? c2.clearStates() : (c2 = rO(r2), s2 && ((u2 = c2).copyTransform(l2 = s2), iO(u2) && iO(l2) && (u2.setStyle(l2.style), u2.z = l2.z, u2.z2 = l2.z2, u2.zlevel = l2.zlevel, u2.invisible = l2.invisible, u2.ignore = l2.ignore, tO(u2) && tO(l2) && u2.setShape(l2.shape)))), false === r2.morph ? c2.disableMorphing = true : c2.disableMorphing && (c2.disableMorphing = false), KE.normal.cfg = KE.normal.conOpt = KE.emphasis.cfg = KE.emphasis.conOpt = KE.blur.cfg = KE.blur.conOpt = KE.select.cfg = KE.select.conOpt = null, KE.isLegacy = false, (function(t6, i3, n3, r3, e3, o3) {
    if (!t6.isGroup) {
      hO(n3, null, o3), hO(n3, YE, o3);
      var a3 = o3.normal.conOpt;
      if (null != a3 || null != o3.emphasis.conOpt || null != o3.select.conOpt || null != o3.blur.conOpt) {
        var s3 = t6.getTextContent();
        if (false === a3) s3 && t6.removeTextContent();
        else {
          a3 = o3.normal.conOpt = a3 || { type: "text" }, s3 ? s3.clearStates() : (s3 = rO(a3), t6.setTextContent(s3)), eO(null, s3, i3, a3, null, r3, e3);
          for (var l3 = a3 && a3.style, u3 = 0; u3 < GE.length; u3++) {
            var f3 = GE[u3];
            if (f3 !== XE) oO(f3, s3, 0, dO(a3, o3[f3].conOpt, f3), null);
          }
          l3 ? s3.dirty() : s3.markRedraw();
        }
      }
    }
  })(c2, n2, r2, e2, f2, KE), (function(t6, i3, n3, r3, e3) {
    var o3 = n3.clipPath;
    if (false === o3) t6 && t6.getClipPath() && t6.removeClipPath();
    else if (o3) {
      var a3 = t6.getClipPath();
      a3 && cO(a3, o3, r3) && (a3 = null), a3 || (a3 = rO(o3), t6.setClipPath(a3)), eO(null, a3, i3, o3, null, r3, e3);
    }
  })(c2, n2, r2, e2, f2), eO(t5, c2, n2, r2, KE, e2, f2), rr(r2, "info") && (dE(c2).info = r2.info);
  for (var h2 = 0; h2 < GE.length; h2++) {
    var v2 = GE[h2];
    if (v2 !== XE) oO(v2, c2, 0, dO(r2, vO(r2, v2), v2), KE);
  }
  return (function(t6, i3, n3) {
    if (!t6.isGroup) {
      var r3 = t6, e3 = n3.currentZLevel;
      r3.z = n3.currentZ, r3.zlevel = e3;
      var o3 = i3.z2;
      null != o3 && (r3.z2 = o3 || 0);
      for (var a3 = 0; a3 < GE.length; a3++) aO(r3, i3, GE[a3]);
    }
  })(c2, r2, e2), "group" === r2.type && (function(t6, i3, n3, r3, e3) {
    var o3 = r3.children, a3 = o3 ? o3.length : 0, s3 = r3.$mergeChildren, l3 = "byName" === s3 || r3.diffChildrenByName, u3 = false === s3;
    if (a3 || l3 || u3) {
      if (l3) return f3 = { api: t6, oldChildren: i3.children() || [], newChildren: o3 || [], dataIndex: n3, seriesModel: e3, group: i3 }, void new Mw(f3.oldChildren, f3.newChildren, mO, mO, f3).add(bO).update(bO).remove(gO).execute();
      var f3;
      u3 && i3.removeAll();
      for (var c3 = 0; c3 < a3; c3++) {
        var h3 = o3[c3], v3 = i3.childAt(c3);
        h3 ? (null == h3.ignore && (h3.ignore = false), fO(t6, v3, n3, h3, e3, i3)) : v3.ignore = true;
      }
      for (var d2 = i3.childCount() - 1; d2 >= c3; d2--) {
        var p2 = i3.childAt(d2);
        pO(i3, p2, e3);
      }
    }
  })(t5, c2, n2, r2, e2), a2 >= 0 ? o2.replaceAt(c2, a2) : o2.add(c2), c2;
}
function cO(t5, i2, n2) {
  var r2, e2 = dE(t5), o2 = i2.type, a2 = i2.shape, s2 = i2.style;
  return n2.isUniversalTransitionEnabled() || null != o2 && o2 !== e2.customGraphicType || "path" === o2 && (r2 = a2) && (rr(r2, "pathData") || rr(r2, "d")) && yO(a2) !== e2.customPathData || "image" === o2 && rr(s2, "image") && s2.image !== e2.customImagePath;
}
function hO(t5, i2, n2) {
  var r2 = i2 ? vO(t5, i2) : t5, e2 = i2 ? dO(t5, r2, YE) : t5.style, o2 = t5.type, a2 = r2 ? r2.textConfig : null, s2 = t5.textContent, l2 = s2 ? i2 ? vO(s2, i2) : s2 : null;
  if (e2 && (n2.isLegacy || wE(e2, o2, !!a2, !!l2))) {
    n2.isLegacy = true;
    var u2 = xE(e2, o2, !i2);
    !a2 && u2.textConfig && (a2 = u2.textConfig), !l2 && u2.textContent && (l2 = u2.textContent);
  }
  !i2 && l2 && !l2.type && (l2.type = "text");
  var f2 = i2 ? n2[i2] : n2.normal;
  f2.cfg = a2, f2.conOpt = l2;
}
function vO(t5, i2) {
  return i2 ? t5 ? t5[i2] : null : t5;
}
function dO(t5, i2, n2) {
  var r2 = i2 && i2.style;
  return null == r2 && n2 === YE && t5 && (r2 = t5.styleEmphasis), r2;
}
function pO(t5, i2, n2) {
  i2 && LE(i2, dE(t5).option, n2);
}
function mO(t5, i2) {
  var n2 = t5 && t5.name;
  return null != n2 ? n2 : "e\0\0" + i2;
}
function bO(t5, i2) {
  var n2 = this.context;
  fO(n2.api, null != i2 ? n2.oldChildren[i2] : null, n2.dataIndex, null != t5 ? n2.newChildren[t5] : null, n2.seriesModel, n2.group);
}
function gO(t5) {
  var i2 = this.context, n2 = i2.oldChildren[t5];
  n2 && LE(n2, dE(n2).option, i2.seriesModel);
}
function yO(t5) {
  return t5 && (t5.pathData || t5.d);
}
var wO = Xs(), xO = dn, kO = An, MO = (function() {
  function t5() {
    this._dragging = false, this.animationThreshold = 15;
  }
  return t5.prototype.render = function(t6, i2, n2, r2) {
    var e2 = i2.get("value"), o2 = i2.get("status");
    if (this._axisModel = t6, this._axisPointerModel = i2, this._api = n2, r2 || this._lastValue !== e2 || this._lastStatus !== o2) {
      this._lastValue = e2, this._lastStatus = o2;
      var a2 = this._group, s2 = this._handle;
      if (!o2 || "hide" === o2) return a2 && a2.hide(), void (s2 && s2.hide());
      a2 && a2.show(), s2 && s2.show();
      var l2 = {};
      this.makeElOption(l2, e2, t6, i2, n2);
      var u2 = l2.graphicKey;
      u2 !== this._lastGraphicKey && this.clear(n2), this._lastGraphicKey = u2;
      var f2 = this._moveAnimation = this.determineAnimation(t6, i2);
      if (a2) {
        var c2 = Nn(zO, i2, f2);
        this.updatePointerEl(a2, l2, c2), this.updateLabelEl(a2, l2, c2, i2);
      } else a2 = this._group = new rs(), this.createPointerEl(a2, l2, t6, i2), this.createLabelEl(a2, l2, t6, i2), n2.getZr().add(a2);
      NO(a2, i2, true), this._renderHandle(e2);
    }
  }, t5.prototype.remove = function(t6) {
    this.clear(t6);
  }, t5.prototype.dispose = function(t6) {
    this.clear(t6);
  }, t5.prototype.determineAnimation = function(t6, i2) {
    var n2 = i2.get("animation"), r2 = t6.axis, e2 = "category" === r2.type, o2 = i2.get("snap");
    if (!o2 && !e2) return false;
    if ("auto" === n2 || null == n2) {
      var a2 = this.animationThreshold;
      if (e2 && r2.getBandWidth() > a2) return true;
      if (o2) {
        var s2 = PC(t6).seriesDataCount, l2 = r2.getExtent();
        return Math.abs(l2[0] - l2[1]) / s2 > a2;
      }
      return false;
    }
    return true === n2;
  }, t5.prototype.makeElOption = function() {
  }, t5.prototype.createPointerEl = function(t6, i2) {
    var n2 = i2.pointer;
    if (n2) {
      var r2 = wO(t6).pointerEl = new iv[n2.type](xO(i2.pointer));
      t6.add(r2);
    }
  }, t5.prototype.createLabelEl = function(t6, i2, n2, r2) {
    if (i2.label) {
      var e2 = wO(t6).labelEl = new Ku(xO(i2.label));
      t6.add(e2), CO(e2, r2);
    }
  }, t5.prototype.updatePointerEl = function(t6, i2, n2) {
    var r2 = wO(t6).pointerEl;
    r2 && i2.pointer && (r2.setStyle(i2.pointer.style), n2(r2, { shape: i2.pointer.shape }));
  }, t5.prototype.updateLabelEl = function(t6, i2, n2, r2) {
    var e2 = wO(t6).labelEl;
    e2 && (e2.setStyle(i2.label.style), n2(e2, { x: i2.label.x, y: i2.label.y }), CO(e2, r2));
  }, t5.prototype._renderHandle = function(t6) {
    if (!this._dragging && this.updateHandleTransform) {
      var i2, n2 = this._axisPointerModel, r2 = this._api.getZr(), e2 = this._handle, o2 = n2.getModel("handle"), a2 = n2.get("status");
      if (!o2.get("show") || !a2 || "hide" === a2) return e2 && r2.remove(e2), void (this._handle = null);
      this._handle || (i2 = true, e2 = this._handle = Gh(o2.get("icon"), { cursor: "move", draggable: true, onmousemove: function(t7) {
        Yr(t7.event);
      }, onmousedown: kO(this._onHandleDragMove, this, 0, 0), drift: kO(this._onHandleDragMove, this), ondragend: kO(this._onHandleDragEnd, this) }), r2.add(e2)), NO(e2, n2, false), e2.setStyle(o2.getItemStyle(null, ["color", "borderColor", "borderWidth", "opacity", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"]));
      var s2 = o2.get("size");
      _n(s2) || (s2 = [s2, s2]), e2.scaleX = s2[0] / 2, e2.scaleY = s2[1] / 2, Eb(this, "_doDispatchAxisPointer", o2.get("throttle") || 0, "fixRate"), this._moveHandleToValue(t6, i2);
    }
  }, t5.prototype._moveHandleToValue = function(t6, i2) {
    zO(this._axisPointerModel, !i2 && this._moveAnimation, this._handle, AO(this.getHandleTransform(t6, this._axisModel, this._axisPointerModel)));
  }, t5.prototype._onHandleDragMove = function(t6, i2) {
    var n2 = this._handle;
    if (n2) {
      this._dragging = true;
      var r2 = this.updateHandleTransform(AO(n2), [t6, i2], this._axisModel, this._axisPointerModel);
      this._payloadInfo = r2, n2.stopAnimation(), n2.attr(AO(r2)), wO(n2).lastProp = null, this._doDispatchAxisPointer();
    }
  }, t5.prototype._doDispatchAxisPointer = function() {
    if (this._handle) {
      var t6 = this._payloadInfo, i2 = this._axisModel;
      this._api.dispatchAction({ type: "updateAxisPointer", x: t6.cursorPoint[0], y: t6.cursorPoint[1], tooltipOption: t6.tooltipOption, axesInfo: [{ axisDim: i2.axis.dim, axisIndex: i2.componentIndex }] });
    }
  }, t5.prototype._onHandleDragEnd = function() {
    if (this._dragging = false, this._handle) {
      var t6 = this._axisPointerModel.get("value");
      this._moveHandleToValue(t6), this._api.dispatchAction({ type: "hideTip" });
    }
  }, t5.prototype.clear = function(t6) {
    this._lastValue = null, this._lastStatus = null;
    var i2 = t6.getZr(), n2 = this._group, r2 = this._handle;
    i2 && n2 && (this._lastGraphicKey = null, n2 && i2.remove(n2), r2 && i2.remove(r2), this._group = null, this._handle = null, this._payloadInfo = null), Ob(this, "_doDispatchAxisPointer");
  }, t5.prototype.doClear = function() {
  }, t5.prototype.buildLabel = function(t6, i2, n2) {
    return { x: t6[n2 = n2 || 0], y: t6[1 - n2], width: i2[n2], height: i2[1 - n2] };
  }, t5;
})();
function zO(t5, i2, n2, r2) {
  SO(wO(n2).lastProp, r2) || (wO(n2).lastProp = r2, i2 ? Mh(n2, r2, t5) : (n2.stopAnimation(), n2.attr(r2)));
}
function SO(t5, i2) {
  if (Wn(t5) && Wn(i2)) {
    var n2 = true;
    return kn(i2, (function(i3, r2) {
      n2 = n2 && SO(t5[r2], i3);
    })), !!n2;
  }
  return t5 === i2;
}
function CO(t5, i2) {
  t5[i2.get(["label", "show"]) ? "show" : "hide"]();
}
function AO(t5) {
  return { x: t5.x || 0, y: t5.y || 0, rotation: t5.rotation || 0 };
}
function NO(t5, i2, n2) {
  var r2 = i2.get("z"), e2 = i2.get("zlevel");
  t5 && t5.traverse((function(t6) {
    "group" !== t6.type && (null != r2 && (t6.z = r2), null != e2 && (t6.zlevel = e2), t6.silent = n2);
  }));
}
function _O(t5) {
  var i2, n2 = t5.get("type"), r2 = t5.getModel(n2 + "Style");
  return "line" === n2 ? (i2 = r2.getLineStyle()).fill = null : "shadow" === n2 && ((i2 = r2.getAreaStyle()).stroke = null), i2;
}
function TO(t5, i2, n2, r2, e2) {
  var o2 = IO(n2.get("value"), i2.axis, i2.ecModel, n2.get("seriesDataIndices"), { precision: n2.get(["label", "precision"]), formatter: n2.get(["label", "formatter"]) }), a2 = n2.getModel("label"), s2 = md(a2.get("padding") || 0), l2 = a2.getFont(), u2 = Va(o2, l2), f2 = e2.position, c2 = u2.width + s2[1] + s2[3], h2 = u2.height + s2[0] + s2[2], v2 = e2.align;
  "right" === v2 && (f2[0] -= c2), "center" === v2 && (f2[0] -= c2 / 2);
  var d2 = e2.verticalAlign;
  "bottom" === d2 && (f2[1] -= h2), "middle" === d2 && (f2[1] -= h2 / 2), (function(t6, i3, n3, r3) {
    var e3 = r3.getWidth(), o3 = r3.getHeight();
    t6[0] = Math.min(t6[0] + i3, e3) - i3, t6[1] = Math.min(t6[1] + n3, o3) - n3, t6[0] = Math.max(t6[0], 0), t6[1] = Math.max(t6[1], 0);
  })(f2, c2, h2, r2);
  var p2 = a2.get("backgroundColor");
  p2 && "auto" !== p2 || (p2 = i2.get(["axisLine", "lineStyle", "color"])), t5.label = { x: f2[0], y: f2[1], style: sv(a2, { text: o2, font: l2, fill: a2.getTextColor(), padding: s2, backgroundColor: p2 }), z2: 10 };
}
function IO(t5, i2, n2, r2, e2) {
  t5 = i2.scale.parse(t5);
  var o2 = i2.scale.getLabel({ value: t5 }, { precision: e2.precision }), a2 = e2.formatter;
  if (a2) {
    var s2 = { value: rk(i2, { value: t5 }), axisDimension: i2.dim, axisIndex: i2.index, seriesData: [] };
    kn(r2, (function(t6) {
      var i3 = n2.getSeriesByIndex(t6.seriesIndex), r3 = i3 && i3.getDataParams(t6.dataIndexInside);
      r3 && s2.seriesData.push(r3);
    })), In(a2) ? o2 = a2.replace("{value}", o2) : Tn(a2) && (o2 = a2(s2));
  }
  return o2;
}
function LO(t5, i2, n2) {
  var r2 = [1, 0, 0, 1, 0, 0];
  return Qr(r2, r2, n2.rotation), Kr(r2, r2, n2.position), Hh([t5.dataToCoord(i2), (n2.labelOffset || 0) + (n2.labelDirection || 1) * (n2.labelMargin || 0)], r2);
}
function DO(t5, i2, n2, r2, e2, o2) {
  var a2 = LC.innerTextLayout(n2.rotation, 0, n2.labelDirection);
  n2.labelMargin = e2.get(["label", "margin"]), TO(i2, r2, e2, o2, { position: LO(r2.axis, t5, n2), align: a2.textAlign, verticalAlign: a2.textVerticalAlign });
}
function WO(t5, i2, n2) {
  return { x1: t5[n2 = n2 || 0], y1: t5[1 - n2], x2: i2[n2], y2: i2[1 - n2] };
}
function EO(t5, i2, n2) {
  return { x: t5[n2 = n2 || 0], y: t5[1 - n2], width: i2[n2], height: i2[1 - n2] };
}
function OO(t5, i2, n2, r2, e2, o2) {
  return { cx: t5, cy: i2, r0: n2, r: r2, startAngle: e2, endAngle: o2, clockwise: true };
}
var FO = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.makeElOption = function(t6, i3, n2, r2, e2) {
    var o2 = n2.axis, a2 = o2.grid, s2 = r2.get("type"), l2 = RO(a2, o2).getOtherAxis(o2).getGlobalExtent(), u2 = o2.toGlobalCoord(o2.dataToCoord(i3, true));
    if (s2 && "none" !== s2) {
      var f2 = _O(r2), c2 = PO[s2](o2, u2, l2);
      c2.style = f2, t6.graphicKey = c2.type, t6.pointer = c2;
    }
    DO(i3, t6, kC(a2.model, n2), n2, r2, e2);
  }, i2.prototype.getHandleTransform = function(t6, i3, n2) {
    var r2 = kC(i3.axis.grid.model, i3, { labelInside: false });
    r2.labelMargin = n2.get(["handle", "margin"]);
    var e2 = LO(i3.axis, t6, r2);
    return { x: e2[0], y: e2[1], rotation: r2.rotation + (r2.labelDirection < 0 ? Math.PI : 0) };
  }, i2.prototype.updateHandleTransform = function(t6, i3, n2) {
    var r2 = n2.axis, e2 = r2.grid, o2 = r2.getGlobalExtent(true), a2 = RO(e2, r2).getOtherAxis(r2).getGlobalExtent(), s2 = "x" === r2.dim ? 0 : 1, l2 = [t6.x, t6.y];
    l2[s2] += i3[s2], l2[s2] = Math.min(o2[1], l2[s2]), l2[s2] = Math.max(o2[0], l2[s2]);
    var u2 = (a2[1] + a2[0]) / 2, f2 = [u2, u2];
    return f2[s2] = l2[s2], { x: l2[0], y: l2[1], rotation: t6.rotation, cursorPoint: f2, tooltipOption: [{ verticalAlign: "middle" }, { align: "center" }][s2] };
  }, i2;
})(MO);
function RO(t5, i2) {
  var n2 = {};
  return n2[i2.dim + "AxisIndex"] = i2.index, t5.getCartesian(n2);
}
var PO = { line: function(t5, i2, n2) {
  return { type: "Line", subPixelOptimize: true, shape: WO([i2, n2[0]], [i2, n2[1]], BO(t5)) };
}, shadow: function(t5, i2, n2) {
  var r2 = Math.max(1, t5.getBandWidth());
  return { type: "Rect", shape: EO([i2 - r2 / 2, n2[0]], [r2, n2[1] - n2[0]], BO(t5)) };
} };
function BO(t5) {
  return "x" === t5.dim ? 0 : 1;
}
var VO = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "axisPointer", i2.defaultOption = { show: "auto", z: 50, type: "line", snap: false, triggerTooltip: true, triggerEmphasis: true, value: null, status: null, link: [], animation: null, animationDurationUpdate: 200, lineStyle: { color: "#B9BEC9", width: 1, type: "dashed" }, shadowStyle: { color: "rgba(210,219,238,0.2)" }, label: { show: true, formatter: null, precision: "auto", margin: 3, color: "#fff", padding: [5, 7, 5, 7], backgroundColor: "auto", borderColor: null, borderWidth: 0, borderRadius: 3 }, handle: { show: false, icon: "M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z", size: 45, margin: 50, color: "#333", shadowBlur: 3, shadowColor: "#aaa", shadowOffsetX: 0, shadowOffsetY: 2, throttle: 40 } }, i2;
})(Ed), jO = Xs(), HO = kn;
function YO(t5, i2, n2) {
  if (!Ui.node) {
    var r2 = i2.getZr();
    jO(r2).records || (jO(r2).records = {}), (function(t6, i3) {
      function n3(n4, r3) {
        t6.on(n4, (function(n5) {
          var e2 = /* @__PURE__ */ (function(t7) {
            var i4 = { showTip: [], hideTip: [] }, n6 = function(r4) {
              var e3 = i4[r4.type];
              e3 ? e3.push(r4) : (r4.dispatchAction = n6, t7.dispatchAction(r4));
            };
            return { dispatchAction: n6, pendings: i4 };
          })(i3);
          HO(jO(t6).records, (function(t7) {
            t7 && r3(t7, n5, e2.dispatchAction);
          })), (function(t7, i4) {
            var n6, r4 = t7.showTip.length, e3 = t7.hideTip.length;
            r4 ? n6 = t7.showTip[r4 - 1] : e3 && (n6 = t7.hideTip[e3 - 1]), n6 && (n6.dispatchAction = null, i4.dispatchAction(n6));
          })(e2.pendings, i3);
        }));
      }
      jO(t6).initialized || (jO(t6).initialized = true, n3("click", Nn(UO, "click")), n3("mousemove", Nn(UO, "mousemove")), n3("globalout", XO));
    })(r2, i2), (jO(r2).records[t5] || (jO(r2).records[t5] = {})).handler = n2;
  }
}
function XO(t5, i2, n2) {
  t5.handler("leave", null, n2);
}
function UO(t5, i2, n2, r2) {
  i2.handler(t5, n2, r2);
}
function $O(t5, i2) {
  if (!Ui.node) {
    var n2 = i2.getZr();
    (jO(n2).records || {})[t5] && (jO(n2).records[t5] = null);
  }
}
var GO = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    var r2 = i3.getComponent("tooltip"), e2 = t6.get("triggerOn") || r2 && r2.get("triggerOn") || "mousemove|click";
    YO("axisPointer", n2, (function(t7, i4, n3) {
      "none" !== e2 && ("leave" === t7 || e2.indexOf(t7) >= 0) && n3({ type: "updateAxisPointer", currTrigger: t7, x: i4 && i4.offsetX, y: i4 && i4.offsetY });
    }));
  }, i2.prototype.remove = function(t6, i3) {
    $O("axisPointer", i3);
  }, i2.prototype.dispose = function(t6, i3) {
    $O("axisPointer", i3);
  }, i2.type = "axisPointer", i2;
})(xb);
function ZO(t5, i2) {
  var n2, r2 = [], e2 = t5.seriesIndex;
  if (null == e2 || !(n2 = i2.getSeriesByIndex(e2))) return { point: [] };
  var o2 = n2.getData(), a2 = Ys(o2, t5);
  if (null == a2 || a2 < 0 || _n(a2)) return { point: [] };
  var s2 = o2.getItemGraphicEl(a2), l2 = n2.coordinateSystem;
  if (n2.getTooltipPosition) r2 = n2.getTooltipPosition(a2) || [];
  else if (l2 && l2.dataToPoint) if (t5.isStacked) {
    var u2 = l2.getBaseAxis(), f2 = l2.getOtherAxis(u2).dim, c2 = "x" === f2 || "radius" === f2 ? 1 : 0, h2 = o2.mapDimension(u2.dim), v2 = [];
    v2[c2] = o2.get(h2, a2), v2[1 - c2] = o2.get(o2.getCalculationInfo("stackResultDimension"), a2), r2 = l2.dataToPoint(v2) || [];
  } else r2 = l2.dataToPoint(o2.getValues(Mn(l2.dimensions, (function(t6) {
    return o2.mapDimension(t6);
  })), a2)) || [];
  else if (s2) {
    var d2 = s2.getBoundingRect().clone();
    d2.applyTransform(s2.transform), r2 = [d2.x + d2.width / 2, d2.y + d2.height / 2];
  }
  return { point: r2, el: s2 };
}
var qO = Xs();
function JO(t5, i2, n2) {
  var r2 = t5.currTrigger, e2 = [t5.x, t5.y], o2 = t5, a2 = t5.dispatchAction || An(n2.dispatchAction, n2), s2 = i2.getComponent("axisPointer").coordSysAxesInfo;
  if (s2) {
    nF(e2) && (e2 = ZO({ seriesIndex: o2.seriesIndex, dataIndex: o2.dataIndex }, i2).point);
    var l2 = nF(e2), u2 = o2.axesInfo, f2 = s2.axesInfo, c2 = "leave" === r2 || nF(e2), h2 = {}, v2 = {}, d2 = { list: [], map: {} }, p2 = { showPointer: Nn(QO, v2), showTooltip: Nn(tF, d2) };
    kn(s2.coordSysMap, (function(t6, i3) {
      var n3 = l2 || t6.containPoint(e2);
      kn(s2.coordSysAxesInfo[i3], (function(t7) {
        var i4 = t7.axis, r3 = (function(t8, i5) {
          for (var n4 = 0; n4 < (t8 || []).length; n4++) {
            var r4 = t8[n4];
            if (i5.axis.dim === r4.axisDim && i5.axis.model.componentIndex === r4.axisIndex) return r4;
          }
        })(u2, t7);
        if (!c2 && n3 && (!u2 || r3)) {
          var o3 = r3 && r3.value;
          null != o3 || l2 || (o3 = i4.pointToData(e2)), null != o3 && KO(t7, o3, p2, false, h2);
        }
      }));
    }));
    var m2 = {};
    return kn(f2, (function(t6, i3) {
      var n3 = t6.linkGroup;
      n3 && !v2[i3] && kn(n3.axesInfo, (function(i4, r3) {
        var e3 = v2[r3];
        if (i4 !== t6 && e3) {
          var o3 = e3.value;
          n3.mapper && (o3 = t6.axis.scale.parse(n3.mapper(o3, iF(i4), iF(t6)))), m2[t6.key] = o3;
        }
      }));
    })), kn(m2, (function(t6, i3) {
      KO(f2[i3], t6, p2, true, h2);
    })), (function(t6, i3, n3) {
      var r3 = n3.axesInfo = [];
      kn(i3, (function(i4, n4) {
        var e3 = i4.axisPointerModel.option, o3 = t6[n4];
        o3 ? (!i4.useHandle && (e3.status = "show"), e3.value = o3.value, e3.seriesDataIndices = (o3.payloadBatch || []).slice()) : !i4.useHandle && (e3.status = "hide"), "show" === e3.status && r3.push({ axisDim: i4.axis.dim, axisIndex: i4.axis.model.componentIndex, value: e3.value });
      }));
    })(v2, f2, h2), (function(t6, i3, n3, r3) {
      if (!nF(i3) && t6.list.length) {
        var e3 = ((t6.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};
        r3({ type: "showTip", escapeConnect: true, x: i3[0], y: i3[1], tooltipOption: n3.tooltipOption, position: n3.position, dataIndexInside: e3.dataIndexInside, dataIndex: e3.dataIndex, seriesIndex: e3.seriesIndex, dataByCoordSys: t6.list });
      } else r3({ type: "hideTip" });
    })(d2, e2, t5, a2), (function(t6, i3, n3) {
      var r3 = n3.getZr(), e3 = "axisPointerLastHighlights", o3 = qO(r3)[e3] || {}, a3 = qO(r3)[e3] = {};
      kn(t6, (function(t7) {
        var i4 = t7.axisPointerModel.option;
        "show" === i4.status && t7.triggerEmphasis && kn(i4.seriesDataIndices, (function(t8) {
          a3[t8.seriesIndex + " | " + t8.dataIndex] = t8;
        }));
      }));
      var s3 = [], l3 = [];
      kn(o3, (function(t7, i4) {
        !a3[i4] && l3.push(t7);
      })), kn(a3, (function(t7, i4) {
        !o3[i4] && s3.push(t7);
      })), l3.length && n3.dispatchAction({ type: "downplay", escapeConnect: true, notBlur: true, batch: l3 }), s3.length && n3.dispatchAction({ type: "highlight", escapeConnect: true, notBlur: true, batch: s3 });
    })(f2, 0, n2), h2;
  }
}
function KO(t5, i2, n2, r2, e2) {
  var o2 = t5.axis;
  if (!o2.scale.isBlank() && o2.containData(i2)) if (t5.involveSeries) {
    var a2 = (function(t6, i3) {
      var n3 = i3.axis, r3 = n3.dim, e3 = t6, o3 = [], a3 = Number.MAX_VALUE, s3 = -1;
      return kn(i3.seriesModels, (function(i4) {
        var l3, u2, f2 = i4.getData().mapDimensionsAll(r3);
        if (i4.getAxisTooltipData) {
          var c2 = i4.getAxisTooltipData(f2, t6, n3);
          u2 = c2.dataIndices, l3 = c2.nestestValue;
        } else {
          if (!(u2 = i4.getData().indicesOfNearest(f2[0], t6, "category" === n3.type ? 0.5 : null)).length) return;
          l3 = i4.getData().get(f2[0], u2[0]);
        }
        if (null != l3 && isFinite(l3)) {
          var h2 = t6 - l3, v2 = Math.abs(h2);
          v2 <= a3 && ((v2 < a3 || h2 >= 0 && s3 < 0) && (a3 = v2, s3 = h2, e3 = l3, o3.length = 0), kn(u2, (function(t7) {
            o3.push({ seriesIndex: i4.seriesIndex, dataIndexInside: t7, dataIndex: i4.getData().getRawIndex(t7) });
          })));
        }
      })), { payloadBatch: o3, snapToValue: e3 };
    })(i2, t5), s2 = a2.payloadBatch, l2 = a2.snapToValue;
    s2[0] && null == e2.seriesIndex && bn(e2, s2[0]), !r2 && t5.snap && o2.containData(l2) && null != l2 && (i2 = l2), n2.showPointer(t5, i2, s2), n2.showTooltip(t5, a2, l2);
  } else n2.showPointer(t5, i2);
}
function QO(t5, i2, n2, r2) {
  t5[i2.key] = { value: n2, payloadBatch: r2 };
}
function tF(t5, i2, n2, r2) {
  var e2 = n2.payloadBatch, o2 = i2.axis, a2 = o2.model, s2 = i2.axisPointerModel;
  if (i2.triggerTooltip && e2.length) {
    var l2 = i2.coordSys.model, u2 = VC(l2), f2 = t5.map[u2];
    f2 || (f2 = t5.map[u2] = { coordSysId: l2.id, coordSysIndex: l2.componentIndex, coordSysType: l2.type, coordSysMainType: l2.mainType, dataByAxis: [] }, t5.list.push(f2)), f2.dataByAxis.push({ axisDim: o2.dim, axisIndex: a2.componentIndex, axisType: a2.type, axisId: a2.id, value: r2, valueLabelOpt: { precision: s2.get(["label", "precision"]), formatter: s2.get(["label", "formatter"]) }, seriesDataIndices: e2.slice() });
  }
}
function iF(t5) {
  var i2 = t5.axis.model, n2 = {}, r2 = n2.axisDim = t5.axis.dim;
  return n2.axisIndex = n2[r2 + "AxisIndex"] = i2.componentIndex, n2.axisName = n2[r2 + "AxisName"] = i2.name, n2.axisId = n2[r2 + "AxisId"] = i2.id, n2;
}
function nF(t5) {
  return !t5 || null == t5[0] || isNaN(t5[0]) || null == t5[1] || isNaN(t5[1]);
}
function rF(t5) {
  HC.registerAxisPointerClass("CartesianAxisPointer", FO), t5.registerComponentModel(VO), t5.registerComponentView(GO), t5.registerPreprocessor((function(t6) {
    if (t6) {
      (!t6.axisPointer || 0 === t6.axisPointer.length) && (t6.axisPointer = {});
      var i2 = t6.axisPointer.link;
      i2 && !_n(i2) && (t6.axisPointer.link = [i2]);
    }
  })), t5.registerProcessor(t5.PRIORITY.PROCESSOR.STATISTIC, (function(t6, i2) {
    t6.getComponent("axisPointer").coordSysAxesInfo = (function(t7, i3) {
      var n2 = { axesInfo: {}, seriesInvolved: false, coordSysAxesInfo: {}, coordSysMap: {} };
      return (function(t8, i4, n3) {
        var r2 = i4.getComponent("tooltip"), e2 = i4.getComponent("axisPointer"), o2 = e2.get("link", true) || [], a2 = [];
        kn(n3.getCoordinateSystems(), (function(n4) {
          if (n4.axisPointerEnabled) {
            var s2 = VC(n4.model), l2 = t8.coordSysAxesInfo[s2] = {};
            t8.coordSysMap[s2] = n4;
            var u2 = n4.model.getModel("tooltip", r2);
            if (kn(n4.getAxes(), Nn(v2, false, null)), n4.getTooltipAxes && r2 && u2.get("show")) {
              var f2 = "axis" === u2.get("trigger"), c2 = "cross" === u2.get(["axisPointer", "type"]), h2 = n4.getTooltipAxes(u2.get(["axisPointer", "axis"]));
              (f2 || c2) && kn(h2.baseAxes, Nn(v2, !c2 || "cross", f2)), c2 && kn(h2.otherAxes, Nn(v2, "cross", false));
            }
          }
          function v2(r3, s3, f3) {
            var c3 = f3.model.getModel("axisPointer", e2), h3 = c3.get("show");
            if (h3 && ("auto" !== h3 || r3 || BC(c3))) {
              null == s3 && (s3 = c3.get("triggerTooltip")), c3 = r3 ? (function(t9, i5, n5, r4, e3, o3) {
                var a3 = i5.getModel("axisPointer"), s4 = {};
                kn(["type", "snap", "lineStyle", "shadowStyle", "label", "animation", "animationDurationUpdate", "animationEasingUpdate", "z"], (function(t10) {
                  s4[t10] = dn(a3.get(t10));
                })), s4.snap = "category" !== t9.type && !!o3, "cross" === a3.get("type") && (s4.type = "line");
                var l3 = s4.label || (s4.label = {});
                if (null == l3.show && (l3.show = false), "cross" === e3) {
                  var u3 = a3.get(["label", "show"]);
                  if (l3.show = null == u3 || u3, !o3) {
                    var f4 = s4.lineStyle = a3.get("crossStyle");
                    f4 && gn(l3, f4.textStyle);
                  }
                }
                return t9.model.getModel("axisPointer", new _v(s4, n5, r4));
              })(f3, u2, e2, i4, r3, s3) : c3;
              var v3 = c3.get("snap"), d2 = c3.get("triggerEmphasis"), p2 = VC(f3.model), m2 = s3 || v3 || "category" === f3.type, b2 = t8.axesInfo[p2] = { key: p2, axis: f3, coordSys: n4, axisPointerModel: c3, triggerTooltip: s3, triggerEmphasis: d2, involveSeries: m2, snap: v3, useHandle: BC(c3), seriesModels: [], linkGroup: null };
              l2[p2] = b2, t8.seriesInvolved = t8.seriesInvolved || m2;
              var g3 = (function(t9, i5) {
                for (var n5 = i5.model, r4 = i5.dim, e3 = 0; e3 < t9.length; e3++) {
                  var o3 = t9[e3] || {};
                  if (RC(o3[r4 + "AxisId"], n5.id) || RC(o3[r4 + "AxisIndex"], n5.componentIndex) || RC(o3[r4 + "AxisName"], n5.name)) return e3;
                }
              })(o2, f3);
              if (null != g3) {
                var y2 = a2[g3] || (a2[g3] = { axesInfo: {} });
                y2.axesInfo[p2] = b2, y2.mapper = o2[g3].mapper, b2.linkGroup = y2;
              }
            }
          }
        }));
      })(n2, t7, i3), n2.seriesInvolved && (function(t8, i4) {
        i4.eachSeries((function(i5) {
          var n3 = i5.coordinateSystem, r2 = i5.get(["tooltip", "trigger"], true), e2 = i5.get(["tooltip", "show"], true);
          n3 && "none" !== r2 && false !== r2 && "item" !== r2 && false !== e2 && false !== i5.get(["axisPointer", "show"], true) && kn(t8.coordSysAxesInfo[VC(n3.model)], (function(t9) {
            var r3 = t9.axis;
            n3.getAxis(r3.dim) === r3 && (t9.seriesModels.push(i5), null == t9.seriesDataCount && (t9.seriesDataCount = 0), t9.seriesDataCount += i5.getData().count());
          }));
        }));
      })(n2, t7), n2;
    })(t6, i2);
  })), t5.registerAction({ type: "updateAxisPointer", event: "updateAxisPointer", update: ":updateAxisPointer" }, JO);
}
var eF = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.makeElOption = function(t6, i3, n2, r2, e2) {
    var o2 = n2.axis;
    "angle" === o2.dim && (this.animationThreshold = Math.PI / 18);
    var a2 = o2.polar, s2 = a2.getOtherAxis(o2).getExtent(), l2 = o2.dataToCoord(i3), u2 = r2.get("type");
    if (u2 && "none" !== u2) {
      var f2 = _O(r2), c2 = oF[u2](o2, a2, l2, s2);
      c2.style = f2, t6.graphicKey = c2.type, t6.pointer = c2;
    }
    var h2 = (function(t7, i4, n3, r3, e3) {
      var o3 = i4.axis, a3 = o3.dataToCoord(t7), s3 = r3.getAngleAxis().getExtent()[0];
      s3 = s3 / 180 * Math.PI;
      var l3, u3, f3, c3 = r3.getRadiusAxis().getExtent();
      if ("radius" === o3.dim) {
        var h3 = [1, 0, 0, 1, 0, 0];
        Qr(h3, h3, s3), Kr(h3, h3, [r3.cx, r3.cy]), l3 = Hh([a3, -e3], h3);
        var v2 = i4.getModel("axisLabel").get("rotate") || 0, d2 = LC.innerTextLayout(s3, v2 * Math.PI / 180, -1);
        u3 = d2.textAlign, f3 = d2.textVerticalAlign;
      } else {
        var p2 = c3[1];
        l3 = r3.coordToPoint([p2 + e3, a3]);
        var m2 = r3.cx, b2 = r3.cy;
        u3 = Math.abs(l3[0] - m2) / p2 < 0.3 ? "center" : l3[0] > m2 ? "left" : "right", f3 = Math.abs(l3[1] - b2) / p2 < 0.3 ? "middle" : l3[1] > b2 ? "top" : "bottom";
      }
      return { position: l3, align: u3, verticalAlign: f3 };
    })(i3, n2, 0, a2, r2.get(["label", "margin"]));
    TO(t6, n2, r2, e2, h2);
  }, i2;
})(MO), oF = { line: function(t5, i2, n2, r2) {
  return "angle" === t5.dim ? { type: "Line", shape: WO(i2.coordToPoint([r2[0], n2]), i2.coordToPoint([r2[1], n2])) } : { type: "Circle", shape: { cx: i2.cx, cy: i2.cy, r: n2 } };
}, shadow: function(t5, i2, n2, r2) {
  var e2 = Math.max(1, t5.getBandWidth()), o2 = Math.PI / 180;
  return "angle" === t5.dim ? { type: "Sector", shape: OO(i2.cx, i2.cy, r2[0], r2[1], (-n2 - e2 / 2) * o2, (e2 / 2 - n2) * o2) } : { type: "Sector", shape: OO(i2.cx, i2.cy, n2 - e2 / 2, n2 + e2 / 2, 0, 2 * Math.PI) };
} }, aF = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.findAxisModel = function(t6) {
    var i3;
    return this.ecModel.eachComponent(t6, (function(t7) {
      t7.getCoordSysModel() === this && (i3 = t7);
    }), this), i3;
  }, i2.type = "polar", i2.dependencies = ["radiusAxis", "angleAxis"], i2.defaultOption = { z: 0, center: ["50%", "50%"], radius: "80%" }, i2;
})(Ed), sF = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.getCoordSysModel = function() {
    return this.getReferringComponents("polar", Zs).models[0];
  }, i2.type = "polarAxis", i2;
})(Ed);
wn(sF, lk);
var lF = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "angleAxis", i2;
})(sF), uF = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "radiusAxis", i2;
})(sF), fF = (function(t5) {
  function i2(i3, n2) {
    return t5.call(this, "radius", i3, n2) || this;
  }
  return Yi(i2, t5), i2.prototype.pointToData = function(t6, i3) {
    return this.polar.pointToData(t6, i3)["radius" === this.dim ? 0 : 1];
  }, i2;
})(Tk);
fF.prototype.dataToRadius = Tk.prototype.dataToCoord, fF.prototype.radiusToData = Tk.prototype.coordToData;
var cF = Xs(), hF = (function(t5) {
  function i2(i3, n2) {
    return t5.call(this, "angle", i3, n2 || [0, 360]) || this;
  }
  return Yi(i2, t5), i2.prototype.pointToData = function(t6, i3) {
    return this.polar.pointToData(t6, i3)["radius" === this.dim ? 0 : 1];
  }, i2.prototype.calculateCategoryInterval = function() {
    var t6 = this, i3 = t6.getLabelModel(), n2 = t6.scale, r2 = n2.getExtent(), e2 = n2.count();
    if (r2[1] - r2[0] < 1) return 0;
    var o2 = r2[0], a2 = t6.dataToCoord(o2 + 1) - t6.dataToCoord(o2), s2 = Math.abs(a2), l2 = Va(null == o2 ? "" : o2 + "", i3.getFont(), "center", "top"), u2 = Math.max(l2.height, 7) / s2;
    isNaN(u2) && (u2 = 1 / 0);
    var f2 = Math.max(0, Math.floor(u2)), c2 = cF(t6.model), h2 = c2.lastAutoInterval, v2 = c2.lastTickCount;
    return null != h2 && null != v2 && Math.abs(h2 - f2) <= 1 && Math.abs(v2 - e2) <= 1 && h2 > f2 ? f2 = h2 : (c2.lastTickCount = e2, c2.lastAutoInterval = f2), f2;
  }, i2;
})(Tk);
hF.prototype.dataToAngle = Tk.prototype.dataToCoord, hF.prototype.angleToData = Tk.prototype.coordToData;
var vF = ["radius", "angle"], dF = (function() {
  function t5(t6) {
    this.dimensions = vF, this.type = "polar", this.cx = 0, this.cy = 0, this._radiusAxis = new fF(), this._angleAxis = new hF(), this.axisPointerEnabled = true, this.name = t6 || "", this._radiusAxis.polar = this._angleAxis.polar = this;
  }
  return t5.prototype.containPoint = function(t6) {
    var i2 = this.pointToCoord(t6);
    return this._radiusAxis.contain(i2[0]) && this._angleAxis.contain(i2[1]);
  }, t5.prototype.containData = function(t6) {
    return this._radiusAxis.containData(t6[0]) && this._angleAxis.containData(t6[1]);
  }, t5.prototype.getAxis = function(t6) {
    return this["_" + t6 + "Axis"];
  }, t5.prototype.getAxes = function() {
    return [this._radiusAxis, this._angleAxis];
  }, t5.prototype.getAxesByScale = function(t6) {
    var i2 = [], n2 = this._angleAxis, r2 = this._radiusAxis;
    return n2.scale.type === t6 && i2.push(n2), r2.scale.type === t6 && i2.push(r2), i2;
  }, t5.prototype.getAngleAxis = function() {
    return this._angleAxis;
  }, t5.prototype.getRadiusAxis = function() {
    return this._radiusAxis;
  }, t5.prototype.getOtherAxis = function(t6) {
    var i2 = this._angleAxis;
    return t6 === i2 ? this._radiusAxis : i2;
  }, t5.prototype.getBaseAxis = function() {
    return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAngleAxis();
  }, t5.prototype.getTooltipAxes = function(t6) {
    var i2 = null != t6 && "auto" !== t6 ? this.getAxis(t6) : this.getBaseAxis();
    return { baseAxes: [i2], otherAxes: [this.getOtherAxis(i2)] };
  }, t5.prototype.dataToPoint = function(t6, i2) {
    return this.coordToPoint([this._radiusAxis.dataToRadius(t6[0], i2), this._angleAxis.dataToAngle(t6[1], i2)]);
  }, t5.prototype.pointToData = function(t6, i2) {
    var n2 = this.pointToCoord(t6);
    return [this._radiusAxis.radiusToData(n2[0], i2), this._angleAxis.angleToData(n2[1], i2)];
  }, t5.prototype.pointToCoord = function(t6) {
    var i2 = t6[0] - this.cx, n2 = t6[1] - this.cy, r2 = this.getAngleAxis(), e2 = r2.getExtent(), o2 = Math.min(e2[0], e2[1]), a2 = Math.max(e2[0], e2[1]);
    r2.inverse ? o2 = a2 - 360 : a2 = o2 + 360;
    var s2 = Math.sqrt(i2 * i2 + n2 * n2);
    i2 /= s2, n2 /= s2;
    for (var l2 = Math.atan2(-n2, i2) / Math.PI * 180, u2 = l2 < o2 ? 1 : -1; l2 < o2 || l2 > a2; ) l2 += 360 * u2;
    return [s2, l2];
  }, t5.prototype.coordToPoint = function(t6) {
    var i2 = t6[0], n2 = t6[1] / 180 * Math.PI;
    return [Math.cos(n2) * i2 + this.cx, -Math.sin(n2) * i2 + this.cy];
  }, t5.prototype.getArea = function() {
    var t6 = this.getAngleAxis(), i2 = this.getRadiusAxis().getExtent().slice();
    i2[0] > i2[1] && i2.reverse();
    var n2 = t6.getExtent(), r2 = Math.PI / 180, e2 = 1e-4;
    return { cx: this.cx, cy: this.cy, r0: i2[0], r: i2[1], startAngle: -n2[0] * r2, endAngle: -n2[1] * r2, clockwise: t6.inverse, contain: function(t7, i3) {
      var n3 = t7 - this.cx, r3 = i3 - this.cy, o2 = n3 * n3 + r3 * r3, a2 = this.r, s2 = this.r0;
      return a2 !== s2 && o2 - e2 <= a2 * a2 && o2 + e2 >= s2 * s2;
    } };
  }, t5.prototype.convertToPixel = function(t6, i2, n2) {
    return pF(i2) === this ? this.dataToPoint(n2) : null;
  }, t5.prototype.convertFromPixel = function(t6, i2, n2) {
    return pF(i2) === this ? this.pointToData(n2) : null;
  }, t5;
})();
function pF(t5) {
  var i2 = t5.seriesModel, n2 = t5.polarModel;
  return n2 && n2.coordinateSystem || i2 && i2.coordinateSystem;
}
function mF(t5) {
  var i2 = this, n2 = i2.getAngleAxis(), r2 = i2.getRadiusAxis();
  if (n2.scale.setExtent(1 / 0, -1 / 0), r2.scale.setExtent(1 / 0, -1 / 0), t5.eachSeries((function(t6) {
    if (t6.coordinateSystem === i2) {
      var e3 = t6.getData();
      kn(sk(e3, "radius"), (function(t7) {
        r2.scale.unionExtentFromData(e3, t7);
      })), kn(sk(e3, "angle"), (function(t7) {
        n2.scale.unionExtentFromData(e3, t7);
      }));
    }
  })), tk(n2.scale, n2.model), tk(r2.scale, r2.model), "category" === n2.type && !n2.onBand) {
    var e2 = n2.getExtent(), o2 = 360 / n2.scale.count();
    n2.inverse ? e2[1] += o2 : e2[1] -= o2, n2.setExtent(e2[0], e2[1]);
  }
}
function bF(t5, i2) {
  var n2;
  if (t5.type = i2.get("type"), t5.scale = ik(i2), t5.onBand = i2.get("boundaryGap") && "category" === t5.type, t5.inverse = i2.get("inverse"), (function(t6) {
    return "angleAxis" === t6.mainType;
  })(i2)) {
    t5.inverse = t5.inverse !== i2.get("clockwise");
    var r2 = i2.get("startAngle"), e2 = null !== (n2 = i2.get("endAngle")) && void 0 !== n2 ? n2 : r2 + (t5.inverse ? -360 : 360);
    t5.setExtent(r2, e2);
  }
  i2.axis = t5, t5.model = i2;
}
var gF = { dimensions: vF, create: function(t5, i2) {
  var n2 = [];
  return t5.eachComponent("polar", (function(t6, r2) {
    var e2 = new dF(r2 + "");
    e2.update = mF;
    var o2 = e2.getRadiusAxis(), a2 = e2.getAngleAxis(), s2 = t6.findAxisModel("radiusAxis"), l2 = t6.findAxisModel("angleAxis");
    bF(o2, s2), bF(a2, l2), (function(t7, i3, n3) {
      var r3 = i3.get("center"), e3 = n3.getWidth(), o3 = n3.getHeight();
      t7.cx = us(r3[0], e3), t7.cy = us(r3[1], o3);
      var a3 = t7.getRadiusAxis(), s3 = Math.min(e3, o3) / 2, l3 = i3.get("radius");
      null == l3 ? l3 = [0, "100%"] : _n(l3) || (l3 = [0, l3]);
      var u2 = [us(l3[0], s3), us(l3[1], s3)];
      a3.inverse ? a3.setExtent(u2[1], u2[0]) : a3.setExtent(u2[0], u2[1]);
    })(e2, t6, i2), n2.push(e2), t6.coordinateSystem = e2, e2.model = t6;
  })), t5.eachSeries((function(t6) {
    if ("polar" === t6.get("coordinateSystem")) {
      var i3 = t6.getReferringComponents("polar", Zs).models[0];
      t6.coordinateSystem = i3.coordinateSystem;
    }
  })), n2;
} }, yF = ["axisLine", "axisLabel", "axisTick", "minorTick", "splitLine", "minorSplitLine", "splitArea"];
function wF(t5, i2, n2) {
  i2[1] > i2[0] && (i2 = i2.slice().reverse());
  var r2 = t5.coordToPoint([i2[0], n2]), e2 = t5.coordToPoint([i2[1], n2]);
  return { x1: r2[0], y1: r2[1], x2: e2[0], y2: e2[1] };
}
function xF(t5) {
  return t5.getRadiusAxis().inverse ? 0 : 1;
}
function kF(t5) {
  var i2 = t5[0], n2 = t5[t5.length - 1];
  i2 && n2 && Math.abs(Math.abs(i2.coord - n2.coord) - 360) < 1e-4 && t5.pop();
}
var MF = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.axisPointerClass = "PolarAxisPointer", n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6) {
    if (this.group.removeAll(), t6.get("show")) {
      var i3 = t6.axis, n2 = i3.polar, r2 = n2.getRadiusAxis().getExtent(), e2 = i3.getTicksCoords(), o2 = i3.getMinorTicksCoords(), a2 = Mn(i3.getViewLabels(), (function(t7) {
        t7 = dn(t7);
        var n3 = i3.scale, r3 = "ordinal" === n3.type ? n3.getRawOrdinalNumber(t7.tickValue) : t7.tickValue;
        return t7.coord = i3.dataToCoord(r3), t7;
      }));
      kF(a2), kF(e2), kn(yF, (function(s2) {
        !t6.get([s2, "show"]) || i3.scale.isBlank() && "axisLine" !== s2 || zF[s2](this.group, t6, n2, e2, o2, r2, a2);
      }), this);
    }
  }, i2.type = "angleAxis", i2;
})(HC), zF = { axisLine: function(t5, i2, n2, r2, e2, o2) {
  var a2, s2 = i2.getModel(["axisLine", "lineStyle"]), l2 = n2.getAngleAxis(), u2 = Math.PI / 180, f2 = l2.getExtent(), c2 = xF(n2), h2 = c2 ? 0 : 1, v2 = 360 === Math.abs(f2[1] - f2[0]) ? "Circle" : "Arc";
  (a2 = 0 === o2[h2] ? new iv[v2]({ shape: { cx: n2.cx, cy: n2.cy, r: o2[c2], startAngle: -f2[0] * u2, endAngle: -f2[1] * u2, clockwise: l2.inverse }, style: s2.getLineStyle(), z2: 1, silent: true }) : new Gc({ shape: { cx: n2.cx, cy: n2.cy, r: o2[c2], r0: o2[h2] }, style: s2.getLineStyle(), z2: 1, silent: true })).style.fill = null, t5.add(a2);
}, axisTick: function(t5, i2, n2, r2, e2, o2) {
  var a2 = i2.getModel("axisTick"), s2 = (a2.get("inside") ? -1 : 1) * a2.get("length"), l2 = o2[xF(n2)], u2 = Mn(r2, (function(t6) {
    return new nh({ shape: wF(n2, [l2, l2 + s2], t6.coord) });
  }));
  t5.add(Rh(u2, { style: gn(a2.getModel("lineStyle").getLineStyle(), { stroke: i2.get(["axisLine", "lineStyle", "color"]) }) }));
}, minorTick: function(t5, i2, n2, r2, e2, o2) {
  if (e2.length) {
    for (var a2 = i2.getModel("axisTick"), s2 = i2.getModel("minorTick"), l2 = (a2.get("inside") ? -1 : 1) * s2.get("length"), u2 = o2[xF(n2)], f2 = [], c2 = 0; c2 < e2.length; c2++) for (var h2 = 0; h2 < e2[c2].length; h2++) f2.push(new nh({ shape: wF(n2, [u2, u2 + l2], e2[c2][h2].coord) }));
    t5.add(Rh(f2, { style: gn(s2.getModel("lineStyle").getLineStyle(), gn(a2.getLineStyle(), { stroke: i2.get(["axisLine", "lineStyle", "color"]) })) }));
  }
}, axisLabel: function(t5, i2, n2, r2, e2, o2, a2) {
  var s2 = i2.getCategories(true), l2 = i2.getModel("axisLabel"), u2 = l2.get("margin"), f2 = i2.get("triggerEvent");
  kn(a2, (function(r3) {
    var e3 = l2, a3 = r3.tickValue, c2 = o2[xF(n2)], h2 = n2.coordToPoint([c2 + u2, r3.coord]), v2 = n2.cx, d2 = n2.cy, p2 = Math.abs(h2[0] - v2) / c2 < 0.3 ? "center" : h2[0] > v2 ? "left" : "right", m2 = Math.abs(h2[1] - d2) / c2 < 0.3 ? "middle" : h2[1] > d2 ? "top" : "bottom";
    if (s2 && s2[a3]) {
      var b2 = s2[a3];
      Wn(b2) && b2.textStyle && (e3 = new _v(b2.textStyle, l2, l2.ecModel));
    }
    var g3 = new Ku({ silent: LC.isLabelSilent(i2), style: sv(e3, { x: h2[0], y: h2[1], fill: e3.getTextColor() || i2.get(["axisLine", "lineStyle", "color"]), text: r3.formattedLabel, align: p2, verticalAlign: m2 }) });
    if (t5.add(g3), f2) {
      var y2 = LC.makeAxisEventDataBase(i2);
      y2.targetType = "axisLabel", y2.value = r3.rawLabel, hf(g3).eventData = y2;
    }
  }), this);
}, splitLine: function(t5, i2, n2, r2, e2, o2) {
  var a2 = i2.getModel("splitLine").getModel("lineStyle"), s2 = a2.get("color"), l2 = 0;
  s2 = s2 instanceof Array ? s2 : [s2];
  for (var u2 = [], f2 = 0; f2 < r2.length; f2++) {
    var c2 = l2++ % s2.length;
    u2[c2] = u2[c2] || [], u2[c2].push(new nh({ shape: wF(n2, o2, r2[f2].coord) }));
  }
  for (f2 = 0; f2 < u2.length; f2++) t5.add(Rh(u2[f2], { style: gn({ stroke: s2[f2 % s2.length] }, a2.getLineStyle()), silent: true, z: i2.get("z") }));
}, minorSplitLine: function(t5, i2, n2, r2, e2, o2) {
  if (e2.length) {
    for (var a2 = i2.getModel("minorSplitLine").getModel("lineStyle"), s2 = [], l2 = 0; l2 < e2.length; l2++) for (var u2 = 0; u2 < e2[l2].length; u2++) s2.push(new nh({ shape: wF(n2, o2, e2[l2][u2].coord) }));
    t5.add(Rh(s2, { style: a2.getLineStyle(), silent: true, z: i2.get("z") }));
  }
}, splitArea: function(t5, i2, n2, r2, e2, o2) {
  if (r2.length) {
    var a2 = i2.getModel("splitArea").getModel("areaStyle"), s2 = a2.get("color"), l2 = 0;
    s2 = s2 instanceof Array ? s2 : [s2];
    for (var u2 = [], f2 = Math.PI / 180, c2 = -r2[0].coord * f2, h2 = Math.min(o2[0], o2[1]), v2 = Math.max(o2[0], o2[1]), d2 = i2.get("clockwise"), p2 = 1, m2 = r2.length; p2 <= m2; p2++) {
      var b2 = p2 === m2 ? r2[0].coord : r2[p2].coord, g3 = l2++ % s2.length;
      u2[g3] = u2[g3] || [], u2[g3].push(new Uc({ shape: { cx: n2.cx, cy: n2.cy, r0: h2, r: v2, startAngle: c2, endAngle: -b2 * f2, clockwise: d2 }, silent: true })), c2 = -b2 * f2;
    }
    for (p2 = 0; p2 < u2.length; p2++) t5.add(Rh(u2[p2], { style: gn({ fill: s2[p2 % s2.length] }, a2.getAreaStyle()), silent: true }));
  }
} }, SF = ["axisLine", "axisTickLabel", "axisName"], CF = ["splitLine", "splitArea", "minorSplitLine"], AF = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.axisPointerClass = "PolarAxisPointer", n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6) {
    if (this.group.removeAll(), t6.get("show")) {
      var i3 = this._axisGroup, n2 = this._axisGroup = new rs();
      this.group.add(n2);
      var r2 = t6.axis, e2 = r2.polar, o2 = e2.getAngleAxis(), a2 = r2.getTicksCoords(), s2 = r2.getMinorTicksCoords(), l2 = o2.getExtent()[0], u2 = r2.getExtent(), f2 = (function(t7, i4, n3) {
        return { position: [t7.cx, t7.cy], rotation: n3 / 180 * Math.PI, labelDirection: -1, tickDirection: -1, nameDirection: 1, labelRotate: i4.getModel("axisLabel").get("rotate"), z2: 1 };
      })(e2, t6, l2), c2 = new LC(t6, f2);
      kn(SF, c2.add, c2), n2.add(c2.getGroup()), Uh(i3, n2, t6), kn(CF, (function(i4) {
        t6.get([i4, "show"]) && !r2.scale.isBlank() && NF[i4](this.group, t6, e2, l2, u2, a2, s2);
      }), this);
    }
  }, i2.type = "radiusAxis", i2;
})(HC), NF = { splitLine: function(t5, i2, n2, r2, e2, o2) {
  var a2 = i2.getModel("splitLine").getModel("lineStyle"), s2 = a2.get("color"), l2 = 0, u2 = n2.getAngleAxis(), f2 = Math.PI / 180, c2 = u2.getExtent(), h2 = 360 === Math.abs(c2[1] - c2[0]) ? "Circle" : "Arc";
  s2 = s2 instanceof Array ? s2 : [s2];
  for (var v2 = [], d2 = 0; d2 < o2.length; d2++) {
    var p2 = l2++ % s2.length;
    v2[p2] = v2[p2] || [], v2[p2].push(new iv[h2]({ shape: { cx: n2.cx, cy: n2.cy, r: Math.max(o2[d2].coord, 0), startAngle: -c2[0] * f2, endAngle: -c2[1] * f2, clockwise: u2.inverse } }));
  }
  for (d2 = 0; d2 < v2.length; d2++) t5.add(Rh(v2[d2], { style: gn({ stroke: s2[d2 % s2.length], fill: null }, a2.getLineStyle()), silent: true }));
}, minorSplitLine: function(t5, i2, n2, r2, e2, o2, a2) {
  if (a2.length) {
    for (var s2 = i2.getModel("minorSplitLine").getModel("lineStyle"), l2 = [], u2 = 0; u2 < a2.length; u2++) for (var f2 = 0; f2 < a2[u2].length; f2++) l2.push(new Tc({ shape: { cx: n2.cx, cy: n2.cy, r: a2[u2][f2].coord } }));
    t5.add(Rh(l2, { style: gn({ fill: null }, s2.getLineStyle()), silent: true }));
  }
}, splitArea: function(t5, i2, n2, r2, e2, o2) {
  if (o2.length) {
    var a2 = i2.getModel("splitArea").getModel("areaStyle"), s2 = a2.get("color"), l2 = 0;
    s2 = s2 instanceof Array ? s2 : [s2];
    for (var u2 = [], f2 = o2[0].coord, c2 = 1; c2 < o2.length; c2++) {
      var h2 = l2++ % s2.length;
      u2[h2] = u2[h2] || [], u2[h2].push(new Uc({ shape: { cx: n2.cx, cy: n2.cy, r0: f2, r: o2[c2].coord, startAngle: 0, endAngle: 2 * Math.PI }, silent: true })), f2 = o2[c2].coord;
    }
    for (c2 = 0; c2 < u2.length; c2++) t5.add(Rh(u2[c2], { style: gn({ fill: s2[c2 % s2.length] }, a2.getAreaStyle()), silent: true }));
  }
} };
function _F(t5) {
  return t5.get("stack") || "__ec_stack_" + t5.seriesIndex;
}
function TF(t5, i2) {
  return i2.dim + t5.model.componentIndex;
}
function IF(t5, i2) {
  var n2 = {}, r2 = (function(t6) {
    var i3 = {};
    kn(t6, (function(t7) {
      var n4 = t7.getData(), r3 = t7.coordinateSystem, e2 = r3.getBaseAxis(), o2 = TF(r3, e2), a2 = e2.getExtent(), s2 = "category" === e2.type ? e2.getBandWidth() : Math.abs(a2[1] - a2[0]) / n4.count(), l2 = i3[o2] || { bandWidth: s2, remainedWidth: s2, autoWidthCount: 0, categoryGap: "20%", gap: "30%", stacks: {} }, u2 = l2.stacks;
      i3[o2] = l2;
      var f2 = _F(t7);
      u2[f2] || l2.autoWidthCount++, u2[f2] = u2[f2] || { width: 0, maxWidth: 0 };
      var c2 = us(t7.get("barWidth"), s2), h2 = us(t7.get("barMaxWidth"), s2), v2 = t7.get("barGap"), d2 = t7.get("barCategoryGap");
      c2 && !u2[f2].width && (c2 = Math.min(l2.remainedWidth, c2), u2[f2].width = c2, l2.remainedWidth -= c2), h2 && (u2[f2].maxWidth = h2), null != v2 && (l2.gap = v2), null != d2 && (l2.categoryGap = d2);
    }));
    var n3 = {};
    return kn(i3, (function(t7, i4) {
      n3[i4] = {};
      var r3 = t7.stacks, e2 = us(t7.categoryGap, t7.bandWidth), o2 = us(t7.gap, 1), a2 = t7.remainedWidth, s2 = t7.autoWidthCount, l2 = (a2 - e2) / (s2 + (s2 - 1) * o2);
      l2 = Math.max(l2, 0), kn(r3, (function(t8) {
        var i5 = t8.maxWidth;
        i5 && i5 < l2 && (i5 = Math.min(i5, a2), t8.width && (i5 = Math.min(i5, t8.width)), a2 -= i5, t8.width = i5, s2--);
      })), l2 = (a2 - e2) / (s2 + (s2 - 1) * o2), l2 = Math.max(l2, 0);
      var u2, f2 = 0;
      kn(r3, (function(t8) {
        t8.width || (t8.width = l2), u2 = t8, f2 += t8.width * (1 + o2);
      })), u2 && (f2 -= u2.width * o2);
      var c2 = -f2 / 2;
      kn(r3, (function(t8, r4) {
        n3[i4][r4] = n3[i4][r4] || { offset: c2, width: t8.width }, c2 += t8.width * (1 + o2);
      }));
    })), n3;
  })(Sn(i2.getSeriesByType(t5), (function(t6) {
    return !i2.isSeriesFiltered(t6) && t6.coordinateSystem && "polar" === t6.coordinateSystem.type;
  })));
  i2.eachSeriesByType(t5, (function(t6) {
    if ("polar" === t6.coordinateSystem.type) {
      var i3 = t6.getData(), e2 = t6.coordinateSystem, o2 = e2.getBaseAxis(), a2 = TF(e2, o2), s2 = _F(t6), l2 = r2[a2][s2], u2 = l2.offset, f2 = l2.width, c2 = e2.getOtherAxis(o2), h2 = t6.coordinateSystem.cx, v2 = t6.coordinateSystem.cy, d2 = t6.get("barMinHeight") || 0, p2 = t6.get("barMinAngle") || 0;
      n2[s2] = n2[s2] || [];
      for (var m2 = i3.mapDimension(c2.dim), b2 = i3.mapDimension(o2.dim), g3 = Qw(i3, m2), y2 = "radius" !== o2.dim || !t6.get("roundCap", true), w3 = c2.model.get("startValue"), x2 = c2.dataToCoord(w3 || 0), k2 = 0, M2 = i3.count(); k2 < M2; k2++) {
        var z2 = i3.get(m2, k2), S3 = i3.get(b2, k2), C3 = z2 >= 0 ? "p" : "n", A3 = x2;
        g3 && (n2[s2][S3] || (n2[s2][S3] = { p: x2, n: x2 }), A3 = n2[s2][S3][C3]);
        var N2 = void 0, _2 = void 0, T4 = void 0, I2 = void 0;
        if ("radius" === c2.dim) {
          var L2 = c2.dataToCoord(z2) - x2, D2 = o2.dataToCoord(S3);
          Math.abs(L2) < d2 && (L2 = (L2 < 0 ? -1 : 1) * d2), N2 = A3, _2 = A3 + L2, I2 = (T4 = D2 - u2) - f2, g3 && (n2[s2][S3][C3] = _2);
        } else {
          var W3 = c2.dataToCoord(z2, y2) - x2, E3 = o2.dataToCoord(S3);
          Math.abs(W3) < p2 && (W3 = (W3 < 0 ? -1 : 1) * p2), _2 = (N2 = E3 + u2) + f2, T4 = A3, I2 = A3 + W3, g3 && (n2[s2][S3][C3] = I2);
        }
        i3.setItemLayout(k2, { cx: h2, cy: v2, r0: N2, r: _2, startAngle: -T4 * Math.PI / 180, endAngle: -I2 * Math.PI / 180, clockwise: T4 >= I2 });
      }
    }
  }));
}
var LF = { startAngle: 90, clockwise: true, splitNumber: 12, axisLabel: { rotate: 0 } }, DF = { splitNumber: 5 }, WF = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "polar", i2;
})(xb);
function EF(t5, i2) {
  i2 = i2 || {};
  var n2 = t5.axis, r2 = {}, e2 = n2.position, o2 = n2.orient, a2 = t5.coordinateSystem.getRect(), s2 = [a2.x, a2.x + a2.width, a2.y, a2.y + a2.height], l2 = { horizontal: { top: s2[2], bottom: s2[3] }, vertical: { left: s2[0], right: s2[1] } };
  r2.position = ["vertical" === o2 ? l2.vertical[e2] : s2[0], "horizontal" === o2 ? l2.horizontal[e2] : s2[3]], r2.rotation = Math.PI / 2 * { horizontal: 0, vertical: 1 }[o2], r2.labelDirection = r2.tickDirection = r2.nameDirection = { top: -1, bottom: 1, right: 1, left: -1 }[e2], t5.get(["axisTick", "inside"]) && (r2.tickDirection = -r2.tickDirection), Bn(i2.labelInside, t5.get(["axisLabel", "inside"])) && (r2.labelDirection = -r2.labelDirection);
  var u2 = i2.rotate;
  return null == u2 && (u2 = t5.get(["axisLabel", "rotate"])), r2.labelRotation = "top" === e2 ? -u2 : u2, r2.z2 = 1, r2;
}
var OF = ["axisLine", "axisTickLabel", "axisName"], FF = ["splitArea", "splitLine"], RF = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.axisPointerClass = "SingleAxisPointer", n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(i3, n2, r2, e2) {
    var o2 = this.group;
    o2.removeAll();
    var a2 = this._axisGroup;
    this._axisGroup = new rs();
    var s2 = EF(i3), l2 = new LC(i3, s2);
    kn(OF, l2.add, l2), o2.add(this._axisGroup), o2.add(l2.getGroup()), kn(FF, (function(t6) {
      i3.get([t6, "show"]) && PF[t6](this, this.group, this._axisGroup, i3);
    }), this), Uh(a2, this._axisGroup, i3), t5.prototype.render.call(this, i3, n2, r2, e2);
  }, i2.prototype.remove = function() {
    UC(this);
  }, i2.type = "singleAxis", i2;
})(HC), PF = { splitLine: function(t5, i2, n2, r2) {
  var e2 = r2.axis;
  if (!e2.scale.isBlank()) {
    var o2 = r2.getModel("splitLine"), a2 = o2.getModel("lineStyle"), s2 = a2.get("color");
    s2 = s2 instanceof Array ? s2 : [s2];
    for (var l2 = a2.get("width"), u2 = r2.coordinateSystem.getRect(), f2 = e2.isHorizontal(), c2 = [], h2 = 0, v2 = e2.getTicksCoords({ tickModel: o2 }), d2 = [], p2 = [], m2 = 0; m2 < v2.length; ++m2) {
      var b2 = e2.toGlobalCoord(v2[m2].coord);
      f2 ? (d2[0] = b2, d2[1] = u2.y, p2[0] = b2, p2[1] = u2.y + u2.height) : (d2[0] = u2.x, d2[1] = b2, p2[0] = u2.x + u2.width, p2[1] = b2);
      var g3 = new nh({ shape: { x1: d2[0], y1: d2[1], x2: p2[0], y2: p2[1] }, silent: true });
      Bh(g3.shape, l2);
      var y2 = h2++ % s2.length;
      c2[y2] = c2[y2] || [], c2[y2].push(g3);
    }
    var w3 = a2.getLineStyle(["color"]);
    for (m2 = 0; m2 < c2.length; ++m2) i2.add(Rh(c2[m2], { style: gn({ stroke: s2[m2 % s2.length] }, w3), silent: true }));
  }
}, splitArea: function(t5, i2, n2, r2) {
  XC(t5, n2, r2, r2);
} }, BF = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.getCoordSysModel = function() {
    return this;
  }, i2.type = "singleAxis", i2.layoutMode = "box", i2.defaultOption = { left: "5%", top: "5%", right: "5%", bottom: "5%", type: "value", position: "bottom", orient: "horizontal", axisLine: { show: true, lineStyle: { width: 1, type: "solid" } }, tooltip: { show: true }, axisTick: { show: true, length: 6, lineStyle: { width: 1 } }, axisLabel: { show: true, interval: "auto" }, splitLine: { show: true, lineStyle: { type: "dashed", opacity: 0.2 } } }, i2;
})(Ed);
wn(BF, lk.prototype);
var VF = (function(t5) {
  function i2(i3, n2, r2, e2, o2) {
    var a2 = t5.call(this, i3, n2, r2) || this;
    return a2.type = e2 || "value", a2.position = o2 || "bottom", a2;
  }
  return Yi(i2, t5), i2.prototype.isHorizontal = function() {
    var t6 = this.position;
    return "top" === t6 || "bottom" === t6;
  }, i2.prototype.pointToData = function(t6) {
    return this.coordinateSystem.pointToData(t6)[0];
  }, i2;
})(Tk), jF = ["single"], HF = (function() {
  function t5(t6, i2, n2) {
    this.type = "single", this.dimension = "single", this.dimensions = jF, this.axisPointerEnabled = true, this.model = t6, this._init(t6, i2, n2);
  }
  return t5.prototype._init = function(t6) {
    var i2 = new VF(this.dimension, ik(t6), [0, 0], t6.get("type"), t6.get("position"));
    i2.onBand = "category" === i2.type && t6.get("boundaryGap"), i2.inverse = t6.get("inverse"), i2.orient = t6.get("orient"), t6.axis = i2, i2.model = t6, i2.coordinateSystem = this, this._axis = i2;
  }, t5.prototype.update = function(t6) {
    t6.eachSeries((function(t7) {
      if (t7.coordinateSystem === this) {
        var i2 = t7.getData();
        kn(i2.mapDimensionsAll(this.dimension), (function(t8) {
          this._axis.scale.unionExtentFromData(i2, t8);
        }), this), tk(this._axis.scale, this._axis.model);
      }
    }), this);
  }, t5.prototype.resize = function(t6, i2) {
    this._rect = Nd({ left: t6.get("left"), top: t6.get("top"), right: t6.get("right"), bottom: t6.get("bottom"), width: t6.get("width"), height: t6.get("height") }, { width: i2.getWidth(), height: i2.getHeight() }), this._adjustAxis();
  }, t5.prototype.getRect = function() {
    return this._rect;
  }, t5.prototype._adjustAxis = function() {
    var t6 = this._rect, i2 = this._axis, n2 = i2.isHorizontal(), r2 = n2 ? [0, t6.width] : [0, t6.height], e2 = i2.inverse ? 1 : 0;
    i2.setExtent(r2[e2], r2[1 - e2]), this._updateAxisTransform(i2, n2 ? t6.x : t6.y);
  }, t5.prototype._updateAxisTransform = function(t6, i2) {
    var n2 = t6.getExtent(), r2 = n2[0] + n2[1], e2 = t6.isHorizontal();
    t6.toGlobalCoord = e2 ? function(t7) {
      return t7 + i2;
    } : function(t7) {
      return r2 - t7 + i2;
    }, t6.toLocalCoord = e2 ? function(t7) {
      return t7 - i2;
    } : function(t7) {
      return r2 - t7 + i2;
    };
  }, t5.prototype.getAxis = function() {
    return this._axis;
  }, t5.prototype.getBaseAxis = function() {
    return this._axis;
  }, t5.prototype.getAxes = function() {
    return [this._axis];
  }, t5.prototype.getTooltipAxes = function() {
    return { baseAxes: [this.getAxis()], otherAxes: [] };
  }, t5.prototype.containPoint = function(t6) {
    var i2 = this.getRect(), n2 = this.getAxis();
    return "horizontal" === n2.orient ? n2.contain(n2.toLocalCoord(t6[0])) && t6[1] >= i2.y && t6[1] <= i2.y + i2.height : n2.contain(n2.toLocalCoord(t6[1])) && t6[0] >= i2.y && t6[0] <= i2.y + i2.height;
  }, t5.prototype.pointToData = function(t6) {
    var i2 = this.getAxis();
    return [i2.coordToData(i2.toLocalCoord(t6["horizontal" === i2.orient ? 0 : 1]))];
  }, t5.prototype.dataToPoint = function(t6) {
    var i2 = this.getAxis(), n2 = this.getRect(), r2 = [], e2 = "horizontal" === i2.orient ? 0 : 1;
    return t6 instanceof Array && (t6 = t6[0]), r2[e2] = i2.toGlobalCoord(i2.dataToCoord(+t6)), r2[1 - e2] = 0 === e2 ? n2.y + n2.height / 2 : n2.x + n2.width / 2, r2;
  }, t5.prototype.convertToPixel = function(t6, i2, n2) {
    return YF(i2) === this ? this.dataToPoint(n2) : null;
  }, t5.prototype.convertFromPixel = function(t6, i2, n2) {
    return YF(i2) === this ? this.pointToData(n2) : null;
  }, t5;
})();
function YF(t5) {
  var i2 = t5.seriesModel, n2 = t5.singleAxisModel;
  return n2 && n2.coordinateSystem || i2 && i2.coordinateSystem;
}
var XF = { create: function(t5, i2) {
  var n2 = [];
  return t5.eachComponent("singleAxis", (function(r2, e2) {
    var o2 = new HF(r2, t5, i2);
    o2.name = "single_" + e2, o2.resize(r2, i2), r2.coordinateSystem = o2, n2.push(o2);
  })), t5.eachSeries((function(t6) {
    if ("singleAxis" === t6.get("coordinateSystem")) {
      var i3 = t6.getReferringComponents("singleAxis", Zs).models[0];
      t6.coordinateSystem = i3 && i3.coordinateSystem;
    }
  })), n2;
}, dimensions: jF }, UF = ["x", "y"], $F = ["width", "height"], GF = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.makeElOption = function(t6, i3, n2, r2, e2) {
    var o2 = n2.axis, a2 = o2.coordinateSystem, s2 = JF(a2, 1 - qF(o2)), l2 = a2.dataToPoint(i3)[0], u2 = r2.get("type");
    if (u2 && "none" !== u2) {
      var f2 = _O(r2), c2 = ZF[u2](o2, l2, s2);
      c2.style = f2, t6.graphicKey = c2.type, t6.pointer = c2;
    }
    DO(i3, t6, EF(n2), n2, r2, e2);
  }, i2.prototype.getHandleTransform = function(t6, i3, n2) {
    var r2 = EF(i3, { labelInside: false });
    r2.labelMargin = n2.get(["handle", "margin"]);
    var e2 = LO(i3.axis, t6, r2);
    return { x: e2[0], y: e2[1], rotation: r2.rotation + (r2.labelDirection < 0 ? Math.PI : 0) };
  }, i2.prototype.updateHandleTransform = function(t6, i3, n2) {
    var r2 = n2.axis, e2 = r2.coordinateSystem, o2 = qF(r2), a2 = JF(e2, o2), s2 = [t6.x, t6.y];
    s2[o2] += i3[o2], s2[o2] = Math.min(a2[1], s2[o2]), s2[o2] = Math.max(a2[0], s2[o2]);
    var l2 = JF(e2, 1 - o2), u2 = (l2[1] + l2[0]) / 2, f2 = [u2, u2];
    return f2[o2] = s2[o2], { x: s2[0], y: s2[1], rotation: t6.rotation, cursorPoint: f2, tooltipOption: { verticalAlign: "middle" } };
  }, i2;
})(MO), ZF = { line: function(t5, i2, n2) {
  return { type: "Line", subPixelOptimize: true, shape: WO([i2, n2[0]], [i2, n2[1]], qF(t5)) };
}, shadow: function(t5, i2, n2) {
  var r2 = t5.getBandWidth();
  return { type: "Rect", shape: EO([i2 - r2 / 2, n2[0]], [r2, n2[1] - n2[0]], qF(t5)) };
} };
function qF(t5) {
  return t5.isHorizontal() ? 0 : 1;
}
function JF(t5, i2) {
  var n2 = t5.getRect();
  return [n2[UF[i2]], n2[UF[i2]] + n2[$F[i2]]];
}
var KF = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "single", i2;
})(xb), QF = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(i3, n2, r2) {
    var e2 = Ld(i3);
    t5.prototype.init.apply(this, arguments), tR(i3, e2);
  }, i2.prototype.mergeOption = function(i3) {
    t5.prototype.mergeOption.apply(this, arguments), tR(this.option, i3);
  }, i2.prototype.getCellSize = function() {
    return this.option.cellSize;
  }, i2.type = "calendar", i2.defaultOption = { z: 2, left: 80, top: 60, cellSize: 20, orient: "horizontal", splitLine: { show: true, lineStyle: { color: "#000", width: 1, type: "solid" } }, itemStyle: { color: "#fff", borderWidth: 1, borderColor: "#ccc" }, dayLabel: { show: true, firstDay: 0, position: "start", margin: "50%", color: "#000" }, monthLabel: { show: true, position: "start", margin: 5, align: "center", formatter: null, color: "#000" }, yearLabel: { show: true, position: null, margin: 30, formatter: null, color: "#ccc", fontFamily: "sans-serif", fontWeight: "bolder", fontSize: 20 } }, i2;
})(Ed);
function tR(t5, i2) {
  var n2, r2 = t5.cellSize;
  1 === (n2 = _n(r2) ? r2 : t5.cellSize = [r2, r2]).length && (n2[1] = n2[0]);
  var e2 = Mn([0, 1], (function(t6) {
    return (function(t7, i3) {
      return null != t7[Sd[i3][0]] || null != t7[Sd[i3][1]] && null != t7[Sd[i3][2]];
    })(i2, t6) && (n2[t6] = "auto"), null != n2[t6] && "auto" !== n2[t6];
  }));
  Id(t5, i2, { type: "box", ignoreSize: e2 });
}
var iR = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3) {
    var n2 = this.group;
    n2.removeAll();
    var r2 = t6.coordinateSystem, e2 = r2.getRangeInfo(), o2 = r2.getOrient(), a2 = i3.getLocaleModel();
    this._renderDayRect(t6, e2, n2), this._renderLines(t6, e2, o2, n2), this._renderYearText(t6, e2, o2, n2), this._renderMonthText(t6, a2, o2, n2), this._renderWeekText(t6, a2, e2, o2, n2);
  }, i2.prototype._renderDayRect = function(t6, i3, n2) {
    for (var r2 = t6.coordinateSystem, e2 = t6.getModel("itemStyle").getItemStyle(), o2 = r2.getCellWidth(), a2 = r2.getCellHeight(), s2 = i3.start.time; s2 <= i3.end.time; s2 = r2.getNextNDay(s2, 1).time) {
      var l2 = r2.dataToRect([s2], false).tl, u2 = new Zu({ shape: { x: l2[0], y: l2[1], width: o2, height: a2 }, cursor: "default", style: e2 });
      n2.add(u2);
    }
  }, i2.prototype._renderLines = function(t6, i3, n2, r2) {
    var e2 = this, o2 = t6.coordinateSystem, a2 = t6.getModel(["splitLine", "lineStyle"]).getLineStyle(), s2 = t6.get(["splitLine", "show"]), l2 = a2.lineWidth;
    this._tlpoints = [], this._blpoints = [], this._firstDayOfMonth = [], this._firstDayPoints = [];
    for (var u2 = i3.start, f2 = 0; u2.time <= i3.end.time; f2++) {
      h2(u2.formatedDate), 0 === f2 && (u2 = o2.getDateInfo(i3.start.y + "-" + i3.start.m));
      var c2 = u2.date;
      c2.setMonth(c2.getMonth() + 1), u2 = o2.getDateInfo(c2);
    }
    function h2(i4) {
      e2._firstDayOfMonth.push(o2.getDateInfo(i4)), e2._firstDayPoints.push(o2.dataToRect([i4], false).tl);
      var l3 = e2._getLinePointsOfOneWeek(t6, i4, n2);
      e2._tlpoints.push(l3[0]), e2._blpoints.push(l3[l3.length - 1]), s2 && e2._drawSplitline(l3, a2, r2);
    }
    h2(o2.getNextNDay(i3.end.time, 1).formatedDate), s2 && this._drawSplitline(e2._getEdgesPoints(e2._tlpoints, l2, n2), a2, r2), s2 && this._drawSplitline(e2._getEdgesPoints(e2._blpoints, l2, n2), a2, r2);
  }, i2.prototype._getEdgesPoints = function(t6, i3, n2) {
    var r2 = [t6[0].slice(), t6[t6.length - 1].slice()], e2 = "horizontal" === n2 ? 0 : 1;
    return r2[0][e2] = r2[0][e2] - i3 / 2, r2[1][e2] = r2[1][e2] + i3 / 2, r2;
  }, i2.prototype._drawSplitline = function(t6, i3, n2) {
    var r2 = new Qc({ z2: 20, shape: { points: t6 }, style: i3 });
    n2.add(r2);
  }, i2.prototype._getLinePointsOfOneWeek = function(t6, i3, n2) {
    for (var r2 = t6.coordinateSystem, e2 = r2.getDateInfo(i3), o2 = [], a2 = 0; a2 < 7; a2++) {
      var s2 = r2.getNextNDay(e2.time, a2), l2 = r2.dataToRect([s2.time], false);
      o2[2 * s2.day] = l2.tl, o2[2 * s2.day + 1] = l2["horizontal" === n2 ? "bl" : "tr"];
    }
    return o2;
  }, i2.prototype._formatterLabel = function(t6, i3) {
    return In(t6) && t6 ? (n2 = t6, kn(i3, (function(t7, i4) {
      n2 = n2.replace("{" + i4 + "}", t7);
    })), n2) : Tn(t6) ? t6(i3) : i3.nameMap;
    var n2;
  }, i2.prototype._yearTextPositionControl = function(t6, i3, n2, r2, e2) {
    var o2 = i3[0], a2 = i3[1], s2 = ["center", "bottom"];
    "bottom" === r2 ? (a2 += e2, s2 = ["center", "top"]) : "left" === r2 ? o2 -= e2 : "right" === r2 ? (o2 += e2, s2 = ["center", "top"]) : a2 -= e2;
    var l2 = 0;
    return "left" !== r2 && "right" !== r2 || (l2 = Math.PI / 2), { rotation: l2, x: o2, y: a2, style: { align: s2[0], verticalAlign: s2[1] } };
  }, i2.prototype._renderYearText = function(t6, i3, n2, r2) {
    var e2 = t6.getModel("yearLabel");
    if (e2.get("show")) {
      var o2 = e2.get("margin"), a2 = e2.get("position");
      a2 || (a2 = "horizontal" !== n2 ? "top" : "left");
      var s2 = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]], l2 = (s2[0][0] + s2[1][0]) / 2, u2 = (s2[0][1] + s2[1][1]) / 2, f2 = "horizontal" === n2 ? 0 : 1, c2 = { top: [l2, s2[f2][1]], bottom: [l2, s2[1 - f2][1]], left: [s2[1 - f2][0], u2], right: [s2[f2][0], u2] }, h2 = i3.start.y;
      +i3.end.y > +i3.start.y && (h2 = h2 + "-" + i3.end.y);
      var v2 = e2.get("formatter"), d2 = this._formatterLabel(v2, { start: i3.start.y, end: i3.end.y, nameMap: h2 }), p2 = new Ku({ z2: 30, style: sv(e2, { text: d2 }), silent: e2.get("silent") });
      p2.attr(this._yearTextPositionControl(p2, c2[a2], n2, a2, o2)), r2.add(p2);
    }
  }, i2.prototype._monthTextPositionControl = function(t6, i3, n2, r2, e2) {
    var o2 = "left", a2 = "top", s2 = t6[0], l2 = t6[1];
    return "horizontal" === n2 ? (l2 += e2, i3 && (o2 = "center"), "start" === r2 && (a2 = "bottom")) : (s2 += e2, i3 && (a2 = "middle"), "start" === r2 && (o2 = "right")), { x: s2, y: l2, align: o2, verticalAlign: a2 };
  }, i2.prototype._renderMonthText = function(t6, i3, n2, r2) {
    var e2 = t6.getModel("monthLabel");
    if (e2.get("show")) {
      var o2 = e2.get("nameMap"), a2 = e2.get("margin"), s2 = e2.get("position"), l2 = e2.get("align"), u2 = [this._tlpoints, this._blpoints];
      o2 && !In(o2) || (o2 && (i3 = Bv(o2) || i3), o2 = i3.get(["time", "monthAbbr"]) || []);
      var f2 = "start" === s2 ? 0 : 1, c2 = "horizontal" === n2 ? 0 : 1;
      a2 = "start" === s2 ? -a2 : a2;
      for (var h2 = "center" === l2, v2 = e2.get("silent"), d2 = 0; d2 < u2[f2].length - 1; d2++) {
        var p2 = u2[f2][d2].slice(), m2 = this._firstDayOfMonth[d2];
        h2 && (p2[c2] = (this._firstDayPoints[d2][c2] + u2[0][d2 + 1][c2]) / 2);
        var b2 = e2.get("formatter"), g3 = o2[+m2.m - 1], y2 = { yyyy: m2.y, yy: (m2.y + "").slice(2), MM: m2.m, M: +m2.m, nameMap: g3 }, w3 = this._formatterLabel(b2, y2), x2 = new Ku({ z2: 30, style: bn(sv(e2, { text: w3 }), this._monthTextPositionControl(p2, h2, n2, s2, a2)), silent: v2 });
        r2.add(x2);
      }
    }
  }, i2.prototype._weekTextPositionControl = function(t6, i3, n2, r2, e2) {
    var o2 = "center", a2 = "middle", s2 = t6[0], l2 = t6[1], u2 = "start" === n2;
    return "horizontal" === i3 ? (s2 = s2 + r2 + (u2 ? 1 : -1) * e2[0] / 2, o2 = u2 ? "right" : "left") : (l2 = l2 + r2 + (u2 ? 1 : -1) * e2[1] / 2, a2 = u2 ? "bottom" : "top"), { x: s2, y: l2, align: o2, verticalAlign: a2 };
  }, i2.prototype._renderWeekText = function(t6, i3, n2, r2, e2) {
    var o2 = t6.getModel("dayLabel");
    if (o2.get("show")) {
      var a2 = t6.coordinateSystem, s2 = o2.get("position"), l2 = o2.get("nameMap"), u2 = o2.get("margin"), f2 = a2.getFirstDayOfWeek();
      l2 && !In(l2) || (l2 && (i3 = Bv(l2) || i3), l2 = i3.get(["time", "dayOfWeekShort"]) || Mn(i3.get(["time", "dayOfWeekAbbr"]), (function(t7) {
        return t7[0];
      })));
      var c2 = a2.getNextNDay(n2.end.time, 7 - n2.lweek).time, h2 = [a2.getCellWidth(), a2.getCellHeight()];
      u2 = us(u2, Math.min(h2[1], h2[0])), "start" === s2 && (c2 = a2.getNextNDay(n2.start.time, -(7 + n2.fweek)).time, u2 = -u2);
      for (var v2 = o2.get("silent"), d2 = 0; d2 < 7; d2++) {
        var p2, m2 = a2.getNextNDay(c2, d2), b2 = a2.dataToRect([m2.time], false).center;
        p2 = Math.abs((d2 + f2) % 7);
        var g3 = new Ku({ z2: 30, style: bn(sv(o2, { text: l2[p2] }), this._weekTextPositionControl(b2, r2, s2, u2, h2)), silent: v2 });
        e2.add(g3);
      }
    }
  }, i2.type = "calendar", i2;
})(xb), nR = 864e5, rR = (function() {
  function t5(i2) {
    this.type = "calendar", this.dimensions = t5.dimensions, this.getDimensionsInfo = t5.getDimensionsInfo, this._model = i2;
  }
  return t5.getDimensionsInfo = function() {
    return [{ name: "time", type: "time" }, "value"];
  }, t5.prototype.getRangeInfo = function() {
    return this._rangeInfo;
  }, t5.prototype.getModel = function() {
    return this._model;
  }, t5.prototype.getRect = function() {
    return this._rect;
  }, t5.prototype.getCellWidth = function() {
    return this._sw;
  }, t5.prototype.getCellHeight = function() {
    return this._sh;
  }, t5.prototype.getOrient = function() {
    return this._orient;
  }, t5.prototype.getFirstDayOfWeek = function() {
    return this._firstDayOfWeek;
  }, t5.prototype.getDateInfo = function(t6) {
    var i2 = (t6 = ys(t6)).getFullYear(), n2 = t6.getMonth() + 1, r2 = n2 < 10 ? "0" + n2 : "" + n2, e2 = t6.getDate(), o2 = e2 < 10 ? "0" + e2 : "" + e2, a2 = t6.getDay();
    return { y: i2 + "", m: r2, d: o2, day: a2 = Math.abs((a2 + 7 - this.getFirstDayOfWeek()) % 7), time: t6.getTime(), formatedDate: i2 + "-" + r2 + "-" + o2, date: t6 };
  }, t5.prototype.getNextNDay = function(t6, i2) {
    return 0 === (i2 = i2 || 0) || (t6 = new Date(this.getDateInfo(t6).time)).setDate(t6.getDate() + i2), this.getDateInfo(t6);
  }, t5.prototype.update = function(t6, i2) {
    this._firstDayOfWeek = +this._model.getModel("dayLabel").get("firstDay"), this._orient = this._model.get("orient"), this._lineWidth = this._model.getModel("itemStyle").getItemStyle().lineWidth || 0, this._rangeInfo = this._getRangeInfo(this._initRangeOption());
    var n2 = this._rangeInfo.weeks || 1, r2 = ["width", "height"], e2 = this._model.getCellSize().slice(), o2 = this._model.getBoxLayoutParams(), a2 = "horizontal" === this._orient ? [n2, 7] : [7, n2];
    kn([0, 1], (function(t7) {
      u2(e2, t7) && (o2[r2[t7]] = e2[t7] * a2[t7]);
    }));
    var s2 = { width: i2.getWidth(), height: i2.getHeight() }, l2 = this._rect = Nd(o2, s2);
    function u2(t7, i3) {
      return null != t7[i3] && "auto" !== t7[i3];
    }
    kn([0, 1], (function(t7) {
      u2(e2, t7) || (e2[t7] = l2[r2[t7]] / a2[t7]);
    })), this._sw = e2[0], this._sh = e2[1];
  }, t5.prototype.dataToPoint = function(t6, i2) {
    _n(t6) && (t6 = t6[0]), null == i2 && (i2 = true);
    var n2 = this.getDateInfo(t6), r2 = this._rangeInfo;
    if (i2 && !(n2.time >= r2.start.time && n2.time < r2.end.time + nR)) return [NaN, NaN];
    var e2 = n2.day, o2 = this._getRangeInfo([r2.start.time, n2.formatedDate]).nthWeek;
    return "vertical" === this._orient ? [this._rect.x + e2 * this._sw + this._sw / 2, this._rect.y + o2 * this._sh + this._sh / 2] : [this._rect.x + o2 * this._sw + this._sw / 2, this._rect.y + e2 * this._sh + this._sh / 2];
  }, t5.prototype.pointToData = function(t6) {
    var i2 = this.pointToDate(t6);
    return i2 && i2.time;
  }, t5.prototype.dataToRect = function(t6, i2) {
    var n2 = this.dataToPoint(t6, i2);
    return { contentShape: { x: n2[0] - (this._sw - this._lineWidth) / 2, y: n2[1] - (this._sh - this._lineWidth) / 2, width: this._sw - this._lineWidth, height: this._sh - this._lineWidth }, center: n2, tl: [n2[0] - this._sw / 2, n2[1] - this._sh / 2], tr: [n2[0] + this._sw / 2, n2[1] - this._sh / 2], br: [n2[0] + this._sw / 2, n2[1] + this._sh / 2], bl: [n2[0] - this._sw / 2, n2[1] + this._sh / 2] };
  }, t5.prototype.pointToDate = function(t6) {
    var i2 = Math.floor((t6[0] - this._rect.x) / this._sw) + 1, n2 = Math.floor((t6[1] - this._rect.y) / this._sh) + 1, r2 = this._rangeInfo.range;
    return "vertical" === this._orient ? this._getDateByWeeksAndDay(n2, i2 - 1, r2) : this._getDateByWeeksAndDay(i2, n2 - 1, r2);
  }, t5.prototype.convertToPixel = function(t6, i2, n2) {
    var r2 = eR(i2);
    return r2 === this ? r2.dataToPoint(n2) : null;
  }, t5.prototype.convertFromPixel = function(t6, i2, n2) {
    var r2 = eR(i2);
    return r2 === this ? r2.pointToData(n2) : null;
  }, t5.prototype.containPoint = function() {
    return console.warn("Not implemented."), false;
  }, t5.prototype._initRangeOption = function() {
    var t6, i2 = this._model.get("range");
    if (_n(i2) && 1 === i2.length && (i2 = i2[0]), _n(i2)) t6 = i2;
    else {
      var n2 = i2.toString();
      if (/^\d{4}$/.test(n2) && (t6 = [n2 + "-01-01", n2 + "-12-31"]), /^\d{4}[\/|-]\d{1,2}$/.test(n2)) {
        var r2 = this.getDateInfo(n2), e2 = r2.date;
        e2.setMonth(e2.getMonth() + 1);
        var o2 = this.getNextNDay(e2, -1);
        t6 = [r2.formatedDate, o2.formatedDate];
      }
      /^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n2) && (t6 = [n2, n2]);
    }
    if (!t6) return i2;
    var a2 = this._getRangeInfo(t6);
    return a2.start.time > a2.end.time && t6.reverse(), t6;
  }, t5.prototype._getRangeInfo = function(t6) {
    var i2, n2 = [this.getDateInfo(t6[0]), this.getDateInfo(t6[1])];
    n2[0].time > n2[1].time && (i2 = true, n2.reverse());
    var r2 = Math.floor(n2[1].time / nR) - Math.floor(n2[0].time / nR) + 1, e2 = new Date(n2[0].time), o2 = e2.getDate(), a2 = n2[1].date.getDate();
    e2.setDate(o2 + r2 - 1);
    var s2 = e2.getDate();
    if (s2 !== a2) for (var l2 = e2.getTime() - n2[1].time > 0 ? 1 : -1; (s2 = e2.getDate()) !== a2 && (e2.getTime() - n2[1].time) * l2 > 0; ) r2 -= l2, e2.setDate(s2 - l2);
    var u2 = Math.floor((r2 + n2[0].day + 6) / 7), f2 = i2 ? 1 - u2 : u2 - 1;
    return i2 && n2.reverse(), { range: [n2[0].formatedDate, n2[1].formatedDate], start: n2[0], end: n2[1], allDay: r2, weeks: u2, nthWeek: f2, fweek: n2[0].day, lweek: n2[1].day };
  }, t5.prototype._getDateByWeeksAndDay = function(t6, i2, n2) {
    var r2 = this._getRangeInfo(n2);
    if (t6 > r2.weeks || 0 === t6 && i2 < r2.fweek || t6 === r2.weeks && i2 > r2.lweek) return null;
    var e2 = 7 * (t6 - 1) - r2.fweek + i2, o2 = new Date(r2.start.time);
    return o2.setDate(+r2.start.d + e2), this.getDateInfo(o2);
  }, t5.create = function(i2) {
    var n2 = [];
    return i2.eachComponent("calendar", (function(i3) {
      var r2 = new t5(i3);
      n2.push(r2), i3.coordinateSystem = r2;
    })), i2.eachSeries((function(t6) {
      "calendar" === t6.get("coordinateSystem") && (t6.coordinateSystem = n2[t6.get("calendarIndex") || 0]);
    })), n2;
  }, t5.dimensions = ["time", "value"], t5;
})();
function eR(t5) {
  var i2 = t5.calendarModel, n2 = t5.seriesModel;
  return i2 ? i2.coordinateSystem : n2 ? n2.coordinateSystem : null;
}
function oR(t5, i2) {
  var n2;
  return kn(i2, (function(i3) {
    null != t5[i3] && "auto" !== t5[i3] && (n2 = true);
  })), n2;
}
var aR = ["transition", "enterFrom", "leaveTo"], sR = aR.concat(["enterAnimation", "updateAnimation", "leaveAnimation"]);
function lR(t5, i2, n2) {
  if (n2 && (!t5[n2] && i2[n2] && (t5[n2] = {}), t5 = t5[n2], i2 = i2[n2]), t5 && i2) for (var r2 = n2 ? aR : sR, e2 = 0; e2 < r2.length; e2++) {
    var o2 = r2[e2];
    null == t5[o2] && null != i2[o2] && (t5[o2] = i2[o2]);
  }
}
var uR = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.preventAutoZ = true, n2;
  }
  return Yi(i2, t5), i2.prototype.mergeOption = function(i3, n2) {
    var r2 = this.option.elements;
    this.option.elements = null, t5.prototype.mergeOption.call(this, i3, n2), this.option.elements = r2;
  }, i2.prototype.optionUpdated = function(t6, i3) {
    var n2 = this.option, r2 = (i3 ? n2 : t6).elements, e2 = n2.elements = i3 ? [] : n2.elements, o2 = [];
    this._flatten(r2, o2, null);
    var a2 = Rs(e2, o2, "normalMerge"), s2 = this._elOptionsToUpdate = [];
    kn(a2, (function(t7, i4) {
      var n3 = t7.newOption;
      n3 && (s2.push(n3), (function(t8, i5) {
        var n4 = t8.existing;
        if (i5.id = t8.keyInfo.id, !i5.type && n4 && (i5.type = n4.type), null == i5.parentId) {
          var r3 = i5.parentOption;
          r3 ? i5.parentId = r3.id : n4 && (i5.parentId = n4.parentId);
        }
        i5.parentOption = null;
      })(t7, n3), (function(t8, i5, n4) {
        var r3 = bn({}, n4), e3 = t8[i5], o3 = n4.$action || "merge";
        "merge" === o3 ? e3 ? (pn(e3, r3, true), Id(e3, r3, { ignoreSize: true }), Dd(n4, e3), lR(n4, e3), lR(n4, e3, "shape"), lR(n4, e3, "style"), lR(n4, e3, "extra"), n4.clipPath = e3.clipPath) : t8[i5] = r3 : "replace" === o3 ? t8[i5] = r3 : "remove" === o3 && e3 && (t8[i5] = null);
      })(e2, i4, n3), (function(t8, i5) {
        if (t8 && (t8.hv = i5.hv = [oR(i5, ["left", "right"]), oR(i5, ["top", "bottom"])], "group" === t8.type)) {
          var n4 = t8, r3 = i5;
          null == n4.width && (n4.width = r3.width = 0), null == n4.height && (n4.height = r3.height = 0);
        }
      })(e2[i4], n3));
    }), this), n2.elements = Sn(e2, (function(t7) {
      return t7 && delete t7.$action, null != t7;
    }));
  }, i2.prototype._flatten = function(t6, i3, n2) {
    kn(t6, (function(t7) {
      if (t7) {
        n2 && (t7.parentOption = n2), i3.push(t7);
        var r2 = t7.children;
        r2 && r2.length && this._flatten(r2, i3, t7), delete t7.children;
      }
    }), this);
  }, i2.prototype.useElOptionsToUpdate = function() {
    var t6 = this._elOptionsToUpdate;
    return this._elOptionsToUpdate = null, t6;
  }, i2.type = "graphic", i2.defaultOption = { elements: [] }, i2;
})(Ed), fR = { path: null, compoundPath: null, group: rs, image: ju, text: Ku }, cR = Xs(), hR = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function() {
    this._elMap = Qn();
  }, i2.prototype.render = function(t6, i3, n2) {
    t6 !== this._lastGraphicModel && this._clear(), this._lastGraphicModel = t6, this._updateElements(t6), this._relocate(t6, n2);
  }, i2.prototype._updateElements = function(t6) {
    var i3 = t6.useElOptionsToUpdate();
    if (i3) {
      var n2 = this._elMap, r2 = this.group, e2 = t6.get("z"), o2 = t6.get("zlevel");
      kn(i3, (function(i4) {
        var a2 = Vs(i4.id, null), s2 = null != a2 ? n2.get(a2) : null, l2 = Vs(i4.parentId, null), u2 = null != l2 ? n2.get(l2) : r2, f2 = i4.type, c2 = i4.style;
        "text" === f2 && c2 && i4.hv && i4.hv[1] && (c2.textVerticalAlign = c2.textBaseline = c2.verticalAlign = c2.align = null);
        var h2 = i4.textContent, v2 = i4.textConfig;
        if (c2 && wE(c2, f2, !!v2, !!h2)) {
          var d2 = xE(c2, f2, true);
          !v2 && d2.textConfig && (v2 = i4.textConfig = d2.textConfig), !h2 && d2.textContent && (h2 = d2.textContent);
        }
        var p2 = (function(t7) {
          return t7 = bn({}, t7), kn(["id", "parentId", "$action", "hv", "bounding", "textContent", "clipPath"].concat(zd), (function(i5) {
            delete t7[i5];
          })), t7;
        })(i4), m2 = i4.$action || "merge", b2 = "merge" === m2, g3 = "replace" === m2;
        if (b2) {
          var y2 = s2;
          (C3 = !s2) ? y2 = dR(a2, u2, i4.type, n2) : (y2 && (cR(y2).isNew = false), jE(y2)), y2 && (TE(y2, p2, t6, { isInit: C3 }), mR(y2, i4, e2, o2));
        } else if (g3) {
          pR(s2, i4, n2, t6);
          var w3 = dR(a2, u2, i4.type, n2);
          w3 && (TE(w3, p2, t6, { isInit: true }), mR(w3, i4, e2, o2));
        } else "remove" === m2 && (IE(s2, i4), pR(s2, i4, n2, t6));
        var x2 = n2.get(a2);
        if (x2 && h2) if (b2) {
          var k2 = x2.getTextContent();
          k2 ? k2.attr(h2) : x2.setTextContent(new Ku(h2));
        } else g3 && x2.setTextContent(new Ku(h2));
        if (x2) {
          var M2 = i4.clipPath;
          if (M2) {
            var z2 = M2.type, S3 = void 0, C3 = false;
            if (b2) {
              var A3 = x2.getClipPath();
              S3 = (C3 = !A3 || cR(A3).type !== z2) ? vR(z2) : A3;
            } else g3 && (C3 = true, S3 = vR(z2));
            x2.setClipPath(S3), TE(S3, M2, t6, { isInit: C3 }), HE(S3, M2.keyframeAnimation, t6);
          }
          var N2 = cR(x2);
          x2.setTextConfig(v2), N2.option = i4, (function(t7, i5, n3) {
            var r3 = hf(t7).eventData;
            t7.silent || t7.ignore || r3 || (r3 = hf(t7).eventData = { componentType: "graphic", componentIndex: i5.componentIndex, name: t7.name }), r3 && (r3.info = n3.info);
          })(x2, t6, i4), Kh({ el: x2, componentModel: t6, itemName: x2.name, itemTooltipOption: i4.tooltip }), HE(x2, i4.keyframeAnimation, t6);
        }
      }));
    }
  }, i2.prototype._relocate = function(t6, i3) {
    for (var n2 = t6.option.elements, r2 = this.group, e2 = this._elMap, o2 = i3.getWidth(), a2 = i3.getHeight(), s2 = ["x", "y"], l2 = 0; l2 < n2.length; l2++) if ((d2 = null != (v2 = Vs((h2 = n2[l2]).id, null)) ? e2.get(v2) : null) && d2.isGroup) {
      var u2 = (p2 = d2.parent) === r2, f2 = cR(d2), c2 = cR(p2);
      f2.width = us(f2.option.width, u2 ? o2 : c2.width) || 0, f2.height = us(f2.option.height, u2 ? a2 : c2.height) || 0;
    }
    for (l2 = n2.length - 1; l2 >= 0; l2--) {
      var h2, v2, d2;
      if (d2 = null != (v2 = Vs((h2 = n2[l2]).id, null)) ? e2.get(v2) : null) {
        c2 = cR(p2 = d2.parent);
        var p2, m2 = {}, b2 = _d(d2, h2, p2 === r2 ? { width: o2, height: a2 } : { width: c2.width, height: c2.height }, null, { hv: h2.hv, boundingMode: h2.bounding }, m2);
        if (!cR(d2).isNew && b2) {
          for (var g3 = h2.transition, y2 = {}, w3 = 0; w3 < s2.length; w3++) {
            var x2 = s2[w3], k2 = m2[x2];
            g3 && (DE(g3) || yn(g3, x2) >= 0) ? y2[x2] = k2 : d2[x2] = k2;
          }
          Mh(d2, y2, t6, 0);
        } else d2.attr(m2);
      }
    }
  }, i2.prototype._clear = function() {
    var t6 = this, i3 = this._elMap;
    i3.each((function(n2) {
      pR(n2, cR(n2).option, i3, t6._lastGraphicModel);
    })), this._elMap = Qn();
  }, i2.prototype.dispose = function() {
    this._clear();
  }, i2.type = "graphic", i2;
})(xb);
function vR(t5) {
  var i2 = new (rr(fR, t5) ? fR[t5] : Wh(t5))({});
  return cR(i2).type = t5, i2;
}
function dR(t5, i2, n2, r2) {
  var e2 = vR(n2);
  return i2.add(e2), r2.set(t5, e2), cR(e2).id = t5, cR(e2).isNew = true, e2;
}
function pR(t5, i2, n2, r2) {
  t5 && t5.parent && ("group" === t5.type && t5.traverse((function(t6) {
    pR(t6, i2, n2, r2);
  })), LE(t5, i2, r2), n2.removeKey(cR(t5).id));
}
function mR(t5, i2, n2, r2) {
  t5.isGroup || kn([["cursor", El.prototype.cursor], ["zlevel", r2 || 0], ["z", n2 || 0], ["z2", 0]], (function(n3) {
    var r3 = n3[0];
    rr(i2, r3) ? t5[r3] = Vn(i2[r3], n3[1]) : null == t5[r3] && (t5[r3] = n3[1]);
  })), kn(Cn(i2), (function(n3) {
    if (0 === n3.indexOf("on")) {
      var r3 = i2[n3];
      t5[n3] = Tn(r3) ? r3 : null;
    }
  })), rr(i2, "draggable") && (t5.draggable = i2.draggable), null != i2.name && (t5.name = i2.name), null != i2.id && (t5.id = i2.id);
}
var bR = ["x", "y", "radius", "angle", "single"], gR = ["cartesian2d", "polar", "singleAxis"];
function yR(t5) {
  return t5 + "Axis";
}
function wR(t5) {
  var i2 = t5.ecModel, n2 = { infoList: [], infoMap: Qn() };
  return t5.eachTargetAxis((function(t6, r2) {
    var e2 = i2.getComponent(yR(t6), r2);
    if (e2) {
      var o2 = e2.getCoordSysModel();
      if (o2) {
        var a2 = o2.uid, s2 = n2.infoMap.get(a2);
        s2 || (n2.infoList.push(s2 = { model: o2, axisModels: [] }), n2.infoMap.set(a2, s2)), s2.axisModels.push(e2);
      }
    }
  })), n2;
}
var xR = (function() {
  function t5() {
    this.indexList = [], this.indexMap = [];
  }
  return t5.prototype.add = function(t6) {
    this.indexMap[t6] || (this.indexList.push(t6), this.indexMap[t6] = true);
  }, t5;
})(), kR = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2._autoThrottle = true, n2._noTarget = true, n2._rangePropMode = ["percent", "percent"], n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3, n2) {
    var r2 = MR(t6);
    this.settledOption = r2, this.mergeDefaultAndTheme(t6, n2), this._doInit(r2);
  }, i2.prototype.mergeOption = function(t6) {
    var i3 = MR(t6);
    pn(this.option, t6, true), pn(this.settledOption, i3, true), this._doInit(i3);
  }, i2.prototype._doInit = function(t6) {
    var i3 = this.option;
    this._setDefaultThrottle(t6), this._updateRangeUse(t6);
    var n2 = this.settledOption;
    kn([["start", "startValue"], ["end", "endValue"]], (function(t7, r2) {
      "value" === this._rangePropMode[r2] && (i3[t7[0]] = n2[t7[0]] = null);
    }), this), this._resetTarget();
  }, i2.prototype._resetTarget = function() {
    var t6 = this.get("orient", true), i3 = this._targetAxisInfoMap = Qn();
    this._fillSpecifiedTargetAxis(i3) ? this._orient = t6 || this._makeAutoOrientByTargetAxis() : (this._orient = t6 || "horizontal", this._fillAutoTargetAxisByOrient(i3, this._orient)), this._noTarget = true, i3.each((function(t7) {
      t7.indexList.length && (this._noTarget = false);
    }), this);
  }, i2.prototype._fillSpecifiedTargetAxis = function(t6) {
    var i3 = false;
    return kn(bR, (function(n2) {
      var r2 = this.getReferringComponents(yR(n2), qs);
      if (r2.specified) {
        i3 = true;
        var e2 = new xR();
        kn(r2.models, (function(t7) {
          e2.add(t7.componentIndex);
        })), t6.set(n2, e2);
      }
    }), this), i3;
  }, i2.prototype._fillAutoTargetAxisByOrient = function(t6, i3) {
    var n2 = this.ecModel, r2 = true;
    if (r2) {
      var e2 = "vertical" === i3 ? "y" : "x";
      o2(n2.findComponents({ mainType: e2 + "Axis" }), e2);
    }
    function o2(i4, n3) {
      var e3 = i4[0];
      if (e3) {
        var o3 = new xR();
        if (o3.add(e3.componentIndex), t6.set(n3, o3), r2 = false, "x" === n3 || "y" === n3) {
          var a2 = e3.getReferringComponents("grid", Zs).models[0];
          a2 && kn(i4, (function(t7) {
            e3.componentIndex !== t7.componentIndex && a2 === t7.getReferringComponents("grid", Zs).models[0] && o3.add(t7.componentIndex);
          }));
        }
      }
    }
    r2 && o2(n2.findComponents({ mainType: "singleAxis", filter: function(t7) {
      return t7.get("orient", true) === i3;
    } }), "single"), r2 && kn(bR, (function(i4) {
      if (r2) {
        var e3 = n2.findComponents({ mainType: yR(i4), filter: function(t7) {
          return "category" === t7.get("type", true);
        } });
        if (e3[0]) {
          var o3 = new xR();
          o3.add(e3[0].componentIndex), t6.set(i4, o3), r2 = false;
        }
      }
    }), this);
  }, i2.prototype._makeAutoOrientByTargetAxis = function() {
    var t6;
    return this.eachTargetAxis((function(i3) {
      !t6 && (t6 = i3);
    }), this), "y" === t6 ? "vertical" : "horizontal";
  }, i2.prototype._setDefaultThrottle = function(t6) {
    if (t6.hasOwnProperty("throttle") && (this._autoThrottle = false), this._autoThrottle) {
      var i3 = this.ecModel.option;
      this.option.throttle = i3.animation && i3.animationDurationUpdate > 0 ? 100 : 20;
    }
  }, i2.prototype._updateRangeUse = function(t6) {
    var i3 = this._rangePropMode, n2 = this.get("rangeMode");
    kn([["start", "startValue"], ["end", "endValue"]], (function(r2, e2) {
      var o2 = null != t6[r2[0]], a2 = null != t6[r2[1]];
      o2 && !a2 ? i3[e2] = "percent" : !o2 && a2 ? i3[e2] = "value" : n2 ? i3[e2] = n2[e2] : o2 && (i3[e2] = "percent");
    }));
  }, i2.prototype.noTarget = function() {
    return this._noTarget;
  }, i2.prototype.getFirstTargetAxisModel = function() {
    var t6;
    return this.eachTargetAxis((function(i3, n2) {
      null == t6 && (t6 = this.ecModel.getComponent(yR(i3), n2));
    }), this), t6;
  }, i2.prototype.eachTargetAxis = function(t6, i3) {
    this._targetAxisInfoMap.each((function(n2, r2) {
      kn(n2.indexList, (function(n3) {
        t6.call(i3, r2, n3);
      }));
    }));
  }, i2.prototype.getAxisProxy = function(t6, i3) {
    var n2 = this.getAxisModel(t6, i3);
    if (n2) return n2.__dzAxisProxy;
  }, i2.prototype.getAxisModel = function(t6, i3) {
    var n2 = this._targetAxisInfoMap.get(t6);
    if (n2 && n2.indexMap[i3]) return this.ecModel.getComponent(yR(t6), i3);
  }, i2.prototype.setRawRange = function(t6) {
    var i3 = this.option, n2 = this.settledOption;
    kn([["start", "startValue"], ["end", "endValue"]], (function(r2) {
      null == t6[r2[0]] && null == t6[r2[1]] || (i3[r2[0]] = n2[r2[0]] = t6[r2[0]], i3[r2[1]] = n2[r2[1]] = t6[r2[1]]);
    }), this), this._updateRangeUse(t6);
  }, i2.prototype.setCalculatedRange = function(t6) {
    var i3 = this.option;
    kn(["start", "startValue", "end", "endValue"], (function(n2) {
      i3[n2] = t6[n2];
    }));
  }, i2.prototype.getPercentRange = function() {
    var t6 = this.findRepresentativeAxisProxy();
    if (t6) return t6.getDataPercentWindow();
  }, i2.prototype.getValueRange = function(t6, i3) {
    if (null != t6 || null != i3) return this.getAxisProxy(t6, i3).getDataValueWindow();
    var n2 = this.findRepresentativeAxisProxy();
    return n2 ? n2.getDataValueWindow() : void 0;
  }, i2.prototype.findRepresentativeAxisProxy = function(t6) {
    if (t6) return t6.__dzAxisProxy;
    for (var i3, n2 = this._targetAxisInfoMap.keys(), r2 = 0; r2 < n2.length; r2++) for (var e2 = n2[r2], o2 = this._targetAxisInfoMap.get(e2), a2 = 0; a2 < o2.indexList.length; a2++) {
      var s2 = this.getAxisProxy(e2, o2.indexList[a2]);
      if (s2.hostedBy(this)) return s2;
      i3 || (i3 = s2);
    }
    return i3;
  }, i2.prototype.getRangePropMode = function() {
    return this._rangePropMode.slice();
  }, i2.prototype.getOrient = function() {
    return this._orient;
  }, i2.type = "dataZoom", i2.dependencies = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "series", "toolbox"], i2.defaultOption = { z: 4, filterMode: "filter", start: 0, end: 100 }, i2;
})(Ed);
function MR(t5) {
  var i2 = {};
  return kn(["start", "end", "startValue", "endValue", "throttle"], (function(n2) {
    t5.hasOwnProperty(n2) && (i2[n2] = t5[n2]);
  })), i2;
}
var zR = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "dataZoom.select", i2;
})(kR), SR = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    this.dataZoomModel = t6, this.ecModel = i3, this.api = n2;
  }, i2.type = "dataZoom", i2;
})(xb), CR = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "dataZoom.select", i2;
})(SR), AR = kn, NR = cs, _R = (function() {
  function t5(t6, i2, n2, r2) {
    this._dimName = t6, this._axisIndex = i2, this.ecModel = r2, this._dataZoomModel = n2;
  }
  return t5.prototype.hostedBy = function(t6) {
    return this._dataZoomModel === t6;
  }, t5.prototype.getDataValueWindow = function() {
    return this._valueWindow.slice();
  }, t5.prototype.getDataPercentWindow = function() {
    return this._percentWindow.slice();
  }, t5.prototype.getTargetSeriesModels = function() {
    var t6 = [];
    return this.ecModel.eachSeries((function(i2) {
      if ((function(t7) {
        var i3 = t7.get("coordinateSystem");
        return yn(gR, i3) >= 0;
      })(i2)) {
        var n2 = yR(this._dimName), r2 = i2.getReferringComponents(n2, Zs).models[0];
        r2 && this._axisIndex === r2.componentIndex && t6.push(i2);
      }
    }), this), t6;
  }, t5.prototype.getAxisModel = function() {
    return this.ecModel.getComponent(this._dimName + "Axis", this._axisIndex);
  }, t5.prototype.getMinMaxSpan = function() {
    return dn(this._minMaxSpan);
  }, t5.prototype.calculateDataWindow = function(t6) {
    var i2, n2 = this._dataExtent, r2 = this.getAxisModel().axis.scale, e2 = this._dataZoomModel.getRangePropMode(), o2 = [0, 100], a2 = [], s2 = [];
    AR(["start", "end"], (function(l3, u3) {
      var f2 = t6[l3], c2 = t6[l3 + "Value"];
      "percent" === e2[u3] ? (null == f2 && (f2 = o2[u3]), c2 = r2.parse(ls(f2, o2, n2))) : (i2 = true, f2 = ls(c2 = null == c2 ? n2[u3] : r2.parse(c2), n2, o2)), s2[u3] = null == c2 || isNaN(c2) ? n2[u3] : c2, a2[u3] = null == f2 || isNaN(f2) ? o2[u3] : f2;
    })), NR(s2), NR(a2);
    var l2 = this._minMaxSpan;
    function u2(t7, i3, n3, e3, o3) {
      var a3 = o3 ? "Span" : "ValueSpan";
      KI(0, t7, n3, "all", l2["min" + a3], l2["max" + a3]);
      for (var s3 = 0; s3 < 2; s3++) i3[s3] = ls(t7[s3], n3, e3, true), o3 && (i3[s3] = r2.parse(i3[s3]));
    }
    return i2 ? u2(s2, a2, n2, o2, false) : u2(a2, s2, o2, n2, true), { valueWindow: s2, percentWindow: a2 };
  }, t5.prototype.reset = function(t6) {
    if (t6 === this._dataZoomModel) {
      var i2 = this.getTargetSeriesModels();
      this._dataExtent = (function(t7, i3, n3) {
        var r2 = [1 / 0, -1 / 0];
        AR(n3, (function(t8) {
          !(function(t9, i4, n4) {
            i4 && kn(sk(i4, n4), (function(n5) {
              var r3 = i4.getApproximateExtent(n5);
              r3[0] < t9[0] && (t9[0] = r3[0]), r3[1] > t9[1] && (t9[1] = r3[1]);
            }));
          })(r2, t8.getData(), i3);
        }));
        var e2 = t7.getAxisModel(), o2 = Jx(e2.axis.scale, e2, r2).calculate();
        return [o2.min, o2.max];
      })(this, this._dimName, i2), this._updateMinMaxSpan();
      var n2 = this.calculateDataWindow(t6.settledOption);
      this._valueWindow = n2.valueWindow, this._percentWindow = n2.percentWindow, this._setAxisModel();
    }
  }, t5.prototype.filterData = function(t6) {
    if (t6 === this._dataZoomModel) {
      var i2 = this._dimName, n2 = this.getTargetSeriesModels(), r2 = t6.get("filterMode"), e2 = this._valueWindow;
      "none" !== r2 && AR(n2, (function(t7) {
        var n3 = t7.getData(), o2 = n3.mapDimensionsAll(i2);
        if (o2.length) {
          if ("weakFilter" === r2) {
            var a2 = n3.getStore(), s2 = Mn(o2, (function(t8) {
              return n3.getDimensionIndex(t8);
            }), n3);
            n3.filterSelf((function(t8) {
              for (var i3, n4, r3, l2 = 0; l2 < o2.length; l2++) {
                var u2 = a2.get(s2[l2], t8), f2 = !isNaN(u2), c2 = u2 < e2[0], h2 = u2 > e2[1];
                if (f2 && !c2 && !h2) return true;
                f2 && (r3 = true), c2 && (i3 = true), h2 && (n4 = true);
              }
              return r3 && i3 && n4;
            }));
          } else AR(o2, (function(i3) {
            if ("empty" === r2) t7.setData(n3 = n3.map(i3, (function(t8) {
              return (function(t9) {
                return t9 >= e2[0] && t9 <= e2[1];
              })(t8) ? t8 : NaN;
            })));
            else {
              var o3 = {};
              o3[i3] = e2, n3.selectRange(o3);
            }
          }));
          AR(o2, (function(t8) {
            n3.setApproximateExtent(e2, t8);
          }));
        }
      }));
    }
  }, t5.prototype._updateMinMaxSpan = function() {
    var t6 = this._minMaxSpan = {}, i2 = this._dataZoomModel, n2 = this._dataExtent;
    AR(["min", "max"], (function(r2) {
      var e2 = i2.get(r2 + "Span"), o2 = i2.get(r2 + "ValueSpan");
      null != o2 && (o2 = this.getAxisModel().axis.scale.parse(o2)), null != o2 ? e2 = ls(n2[0] + o2, n2, [0, 100], true) : null != e2 && (o2 = ls(e2, [0, 100], n2, true) - n2[0]), t6[r2 + "Span"] = e2, t6[r2 + "ValueSpan"] = o2;
    }), this);
  }, t5.prototype._setAxisModel = function() {
    var t6 = this.getAxisModel(), i2 = this._percentWindow, n2 = this._valueWindow;
    if (i2) {
      var r2 = vs(n2, [0, 500]);
      r2 = Math.min(r2, 20);
      var e2 = t6.axis.scale.rawExtentInfo;
      0 !== i2[0] && e2.setDeterminedMinMax("min", +n2[0].toFixed(r2)), 100 !== i2[1] && e2.setDeterminedMinMax("max", +n2[1].toFixed(r2)), e2.freeze();
    }
  }, t5;
})(), TR = { getTargetSeries: function(t5) {
  function i2(i3) {
    t5.eachComponent("dataZoom", (function(n3) {
      n3.eachTargetAxis((function(r3, e2) {
        var o2 = t5.getComponent(yR(r3), e2);
        i3(r3, e2, o2, n3);
      }));
    }));
  }
  i2((function(t6, i3, n3) {
    n3.__dzAxisProxy = null;
  }));
  var n2 = [];
  i2((function(i3, r3, e2, o2) {
    e2.__dzAxisProxy || (e2.__dzAxisProxy = new _R(i3, r3, o2, t5), n2.push(e2.__dzAxisProxy));
  }));
  var r2 = Qn();
  return kn(n2, (function(t6) {
    kn(t6.getTargetSeriesModels(), (function(t7) {
      r2.set(t7.uid, t7);
    }));
  })), r2;
}, overallReset: function(t5, i2) {
  t5.eachComponent("dataZoom", (function(t6) {
    t6.eachTargetAxis((function(i3, n2) {
      t6.getAxisProxy(i3, n2).reset(t6);
    })), t6.eachTargetAxis((function(n2, r2) {
      t6.getAxisProxy(n2, r2).filterData(t6, i2);
    }));
  })), t5.eachComponent("dataZoom", (function(t6) {
    var i3 = t6.findRepresentativeAxisProxy();
    if (i3) {
      var n2 = i3.getDataPercentWindow(), r2 = i3.getDataValueWindow();
      t6.setCalculatedRange({ start: n2[0], end: n2[1], startValue: r2[0], endValue: r2[1] });
    }
  }));
} }, IR = false;
function LR(t5) {
  IR || (IR = true, t5.registerProcessor(t5.PRIORITY.PROCESSOR.FILTER, TR), (function(t6) {
    t6.registerAction("dataZoom", (function(t7, i2) {
      kn((function(t8, i3) {
        var n2, r2 = Qn(), e2 = [], o2 = Qn();
        t8.eachComponent({ mainType: "dataZoom", query: i3 }, (function(t9) {
          o2.get(t9.uid) || s2(t9);
        }));
        do {
          n2 = false, t8.eachComponent("dataZoom", a2);
        } while (n2);
        function a2(t9) {
          !o2.get(t9.uid) && (function(t10) {
            var i4 = false;
            return t10.eachTargetAxis((function(t11, n3) {
              var e3 = r2.get(t11);
              e3 && e3[n3] && (i4 = true);
            })), i4;
          })(t9) && (s2(t9), n2 = true);
        }
        function s2(t9) {
          o2.set(t9.uid, true), e2.push(t9), t9.eachTargetAxis((function(t10, i4) {
            (r2.get(t10) || r2.set(t10, []))[i4] = true;
          }));
        }
        return e2;
      })(i2, t7), (function(i3) {
        i3.setRawRange({ start: t7.start, end: t7.end, startValue: t7.startValue, endValue: t7.endValue });
      }));
    }));
  })(t5), t5.registerSubTypeDefaulter("dataZoom", (function() {
    return "slider";
  })));
}
function DR(t5) {
  t5.registerComponentModel(zR), t5.registerComponentView(CR), LR(t5);
}
var WR = function() {
}, ER = {};
function OR(t5, i2) {
  ER[t5] = i2;
}
function FR(t5) {
  return ER[t5];
}
var RR = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.optionUpdated = function() {
    t5.prototype.optionUpdated.apply(this, arguments);
    var i3 = this.ecModel;
    kn(this.option.feature, (function(t6, n2) {
      var r2 = FR(n2);
      r2 && (r2.getDefaultOption && (r2.defaultOption = r2.getDefaultOption(i3)), pn(t6, r2.defaultOption));
    }));
  }, i2.type = "toolbox", i2.layoutMode = { type: "box", ignoreSize: true }, i2.defaultOption = { show: true, z: 6, orient: "horizontal", left: "right", top: "top", backgroundColor: "transparent", borderColor: "#ccc", borderRadius: 0, borderWidth: 0, padding: 5, itemSize: 15, itemGap: 8, showTitle: true, iconStyle: { borderColor: "#666", color: "none" }, emphasis: { iconStyle: { borderColor: "#3E98C5" } }, tooltip: { show: false, position: "bottom" } }, i2;
})(Ed);
function PR(t5, i2) {
  var n2 = md(i2.get("padding")), r2 = i2.getItemStyle(["color", "opacity"]);
  return r2.fill = i2.get("backgroundColor"), new Zu({ shape: { x: t5.x - n2[3], y: t5.y - n2[0], width: t5.width + n2[1] + n2[3], height: t5.height + n2[0] + n2[2], r: i2.get("borderRadius") }, style: r2, silent: true, z2: -1 });
}
var BR = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2, r2) {
    var e2 = this.group;
    if (e2.removeAll(), t6.get("show")) {
      var o2 = +t6.get("itemSize"), a2 = "vertical" === t6.get("orient"), s2 = t6.get("feature") || {}, l2 = this._features || (this._features = {}), u2 = [];
      kn(s2, (function(t7, i4) {
        u2.push(i4);
      })), new Mw(this._featureNames || [], u2).add(f2).update(f2).remove(Nn(f2, null)).execute(), this._featureNames = u2, (function(t7, i4, n3) {
        var r3 = i4.getBoxLayoutParams(), e3 = i4.get("padding"), o3 = { width: n3.getWidth(), height: n3.getHeight() }, a3 = Nd(r3, o3, e3);
        Ad(i4.get("orient"), t7, i4.get("itemGap"), a3.width, a3.height), _d(t7, r3, o3, e3);
      })(e2, t6, n2), e2.add(PR(e2.getBoundingRect(), t6)), a2 || e2.eachChild((function(t7) {
        var i4 = t7.__title, r3 = t7.ensureState("emphasis"), a3 = r3.textConfig || (r3.textConfig = {}), s3 = t7.getTextContent(), l3 = s3 && s3.ensureState("emphasis");
        if (l3 && !Tn(l3) && i4) {
          var u3 = l3.style || (l3.style = {}), f3 = Va(i4, Ku.makeFont(u3)), c2 = t7.x + e2.x, h2 = false;
          t7.y + e2.y + o2 + f3.height > n2.getHeight() && (a3.position = "top", h2 = true);
          var v2 = h2 ? -5 - f3.height : o2 + 10;
          c2 + f3.width / 2 > n2.getWidth() ? (a3.position = ["100%", v2], u3.align = "right") : c2 - f3.width / 2 < 0 && (a3.position = [0, v2], u3.align = "left");
        }
      }));
    }
    function f2(f3, c2) {
      var h2, v2 = u2[f3], d2 = u2[c2], p2 = s2[v2], m2 = new _v(p2, t6, t6.ecModel);
      if (r2 && null != r2.newTitle && r2.featureName === v2 && (p2.title = r2.newTitle), v2 && !d2) {
        if ((function(t7) {
          return 0 === t7.indexOf("my");
        })(v2)) h2 = { onclick: m2.option.onclick, featureName: v2 };
        else {
          var b2 = FR(v2);
          if (!b2) return;
          h2 = new b2();
        }
        l2[v2] = h2;
      } else if (!(h2 = l2[d2])) return;
      h2.uid = Iv("toolbox-feature"), h2.model = m2, h2.ecModel = i3, h2.api = n2;
      var g3 = h2 instanceof WR;
      v2 || !d2 ? !m2.get("show") || g3 && h2.unusable ? g3 && h2.remove && h2.remove(i3, n2) : ((function(r3, s3, l3) {
        var u3, f4, c3 = r3.getModel("iconStyle"), h3 = r3.getModel(["emphasis", "iconStyle"]), v3 = s3 instanceof WR && s3.getIcons ? s3.getIcons() : r3.get("icon"), d3 = r3.get("title") || {};
        In(v3) ? (u3 = {})[l3] = v3 : u3 = v3, In(d3) ? (f4 = {})[l3] = d3 : f4 = d3;
        var p3 = r3.iconPaths = {};
        kn(u3, (function(l4, u4) {
          var v4 = Gh(l4, {}, { x: -o2 / 2, y: -o2 / 2, width: o2, height: o2 });
          v4.setStyle(c3.getItemStyle()), v4.ensureState("emphasis").style = h3.getItemStyle();
          var d4 = new Ku({ style: { text: f4[u4], align: h3.get("textAlign"), borderRadius: h3.get("textBorderRadius"), padding: h3.get("textPadding"), fill: null, font: vv({ fontStyle: h3.get("textFontStyle"), fontFamily: h3.get("textFontFamily"), fontSize: h3.get("textFontSize"), fontWeight: h3.get("textFontWeight") }, i3) }, ignore: true });
          v4.setTextContent(d4), Kh({ el: v4, componentModel: t6, itemName: u4, formatterParamsExtra: { title: f4[u4] } }), v4.__title = f4[u4], v4.on("mouseover", (function() {
            var i4 = h3.getItemStyle(), r4 = a2 ? null == t6.get("right") && "right" !== t6.get("left") ? "right" : "left" : null == t6.get("bottom") && "bottom" !== t6.get("top") ? "bottom" : "top";
            d4.setStyle({ fill: h3.get("textFill") || i4.fill || i4.stroke || "#000", backgroundColor: h3.get("textBackgroundColor") }), v4.setTextConfig({ position: h3.get("textPosition") || r4 }), d4.ignore = !t6.get("showTitle"), n2.enterEmphasis(this);
          })).on("mouseout", (function() {
            "emphasis" !== r3.get(["iconStatus", u4]) && n2.leaveEmphasis(this), d4.hide();
          })), ("emphasis" === r3.get(["iconStatus", u4]) ? Bf : Vf)(v4), e2.add(v4), v4.on("click", An(s3.onclick, s3, i3, n2, u4)), p3[u4] = v4;
        }));
      })(m2, h2, v2), m2.setIconStatus = function(t7, i4) {
        var n3 = this.option, r3 = this.iconPaths;
        n3.iconStatus = n3.iconStatus || {}, n3.iconStatus[t7] = i4, r3[t7] && ("emphasis" === i4 ? Bf : Vf)(r3[t7]);
      }, h2 instanceof WR && h2.render && h2.render(m2, i3, n2, r2)) : g3 && h2.dispose && h2.dispose(i3, n2);
    }
  }, i2.prototype.updateView = function(t6, i3, n2, r2) {
    kn(this._features, (function(t7) {
      t7 instanceof WR && t7.updateView && t7.updateView(t7.model, i3, n2, r2);
    }));
  }, i2.prototype.remove = function(t6, i3) {
    kn(this._features, (function(n2) {
      n2 instanceof WR && n2.remove && n2.remove(t6, i3);
    })), this.group.removeAll();
  }, i2.prototype.dispose = function(t6, i3) {
    kn(this._features, (function(n2) {
      n2 instanceof WR && n2.dispose && n2.dispose(t6, i3);
    }));
  }, i2.type = "toolbox", i2;
})(xb), VR = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.onclick = function(t6, i3) {
    var n2 = this.model, r2 = n2.get("name") || t6.get("title.0.text") || "echarts", e2 = "svg" === i3.getZr().painter.getType(), o2 = e2 ? "svg" : n2.get("type", true) || "png", a2 = i3.getConnectedDataURL({ type: o2, backgroundColor: n2.get("backgroundColor", true) || t6.get("backgroundColor") || "#fff", connectedBackgroundColor: n2.get("connectedBackgroundColor"), excludeComponents: n2.get("excludeComponents"), pixelRatio: n2.get("pixelRatio") }), s2 = Ui.browser;
    if ("function" != typeof MouseEvent || !s2.newEdge && (s2.ie || s2.edge)) if (window.navigator.msSaveOrOpenBlob || e2) {
      var l2 = a2.split(","), u2 = l2[0].indexOf("base64") > -1, f2 = e2 ? decodeURIComponent(l2[1]) : l2[1];
      u2 && (f2 = window.atob(f2));
      var c2 = r2 + "." + o2;
      if (window.navigator.msSaveOrOpenBlob) {
        for (var h2 = f2.length, v2 = new Uint8Array(h2); h2--; ) v2[h2] = f2.charCodeAt(h2);
        var d2 = new Blob([v2]);
        window.navigator.msSaveOrOpenBlob(d2, c2);
      } else {
        var p2 = document.createElement("iframe");
        document.body.appendChild(p2);
        var m2 = p2.contentWindow, b2 = m2.document;
        b2.open("image/svg+xml", "replace"), b2.write(f2), b2.close(), m2.focus(), b2.execCommand("SaveAs", true, c2), document.body.removeChild(p2);
      }
    } else {
      var g3 = n2.get("lang"), y2 = '<body style="margin:0;"><img src="' + a2 + '" style="max-width:100%;" title="' + (g3 && g3[0] || "") + '" /></body>', w3 = window.open();
      w3.document.write(y2), w3.document.title = r2;
    }
    else {
      var x2 = document.createElement("a");
      x2.download = r2 + "." + o2, x2.target = "_blank", x2.href = a2;
      var k2 = new MouseEvent("click", { view: document.defaultView, bubbles: true, cancelable: false });
      x2.dispatchEvent(k2);
    }
  }, i2.getDefaultOption = function(t6) {
    return { show: true, icon: "M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0", title: t6.getLocaleModel().get(["toolbox", "saveAsImage", "title"]), type: "png", connectedBackgroundColor: "#fff", name: "", excludeComponents: ["toolbox"], lang: t6.getLocaleModel().get(["toolbox", "saveAsImage", "lang"]) };
  }, i2;
})(WR), jR = "__ec_magicType_stack__", HR = [["line", "bar"], ["stack"]], YR = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.getIcons = function() {
    var t6 = this.model, i3 = t6.get("icon"), n2 = {};
    return kn(t6.get("type"), (function(t7) {
      i3[t7] && (n2[t7] = i3[t7]);
    })), n2;
  }, i2.getDefaultOption = function(t6) {
    return { show: true, type: [], icon: { line: "M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4", bar: "M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7", stack: "M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z" }, title: t6.getLocaleModel().get(["toolbox", "magicType", "title"]), option: {}, seriesIndex: {} };
  }, i2.prototype.onclick = function(t6, i3, n2) {
    var r2 = this.model, e2 = r2.get(["seriesIndex", n2]);
    if (XR[n2]) {
      var o2, a2 = { series: [] };
      kn(HR, (function(t7) {
        yn(t7, n2) >= 0 && kn(t7, (function(t8) {
          r2.setIconStatus(t8, "normal");
        }));
      })), r2.setIconStatus(n2, "emphasis"), t6.eachComponent({ mainType: "series", query: null == e2 ? null : { seriesIndex: e2 } }, (function(t7) {
        var i4 = XR[n2](t7.subType, t7.id, t7, r2);
        i4 && (gn(i4, t7.option), a2.series.push(i4));
        var e3 = t7.coordinateSystem;
        if (e3 && "cartesian2d" === e3.type && ("line" === n2 || "bar" === n2)) {
          var o3 = e3.getAxesByScale("ordinal")[0];
          if (o3) {
            var s3 = o3.dim + "Axis", l2 = t7.getReferringComponents(s3, Zs).models[0].componentIndex;
            a2[s3] = a2[s3] || [];
            for (var u2 = 0; u2 <= l2; u2++) a2[s3][l2] = a2[s3][l2] || {};
            a2[s3][l2].boundaryGap = "bar" === n2;
          }
        }
      }));
      var s2 = n2;
      "stack" === n2 && (o2 = pn({ stack: r2.option.title.tiled, tiled: r2.option.title.stack }, r2.option.title), "emphasis" !== r2.get(["iconStatus", n2]) && (s2 = "tiled")), i3.dispatchAction({ type: "changeMagicType", currentType: s2, newOption: a2, newTitle: o2, featureName: "magicType" });
    }
  }, i2;
})(WR), XR = { line: function(t5, i2, n2, r2) {
  if ("bar" === t5) return pn({ id: i2, type: "line", data: n2.get("data"), stack: n2.get("stack"), markPoint: n2.get("markPoint"), markLine: n2.get("markLine") }, r2.get(["option", "line"]) || {}, true);
}, bar: function(t5, i2, n2, r2) {
  if ("line" === t5) return pn({ id: i2, type: "bar", data: n2.get("data"), stack: n2.get("stack"), markPoint: n2.get("markPoint"), markLine: n2.get("markLine") }, r2.get(["option", "bar"]) || {}, true);
}, stack: function(t5, i2, n2, r2) {
  var e2 = n2.get("stack") === jR;
  if ("line" === t5 || "bar" === t5) return r2.setIconStatus("stack", e2 ? "normal" : "emphasis"), pn({ id: i2, stack: e2 ? "" : jR }, r2.get(["option", "stack"]) || {}, true);
} };
vw({ type: "changeMagicType", event: "magicTypeChanged", update: "prepareAndUpdate" }, (function(t5, i2) {
  i2.mergeOption(t5.newOption);
}));
var UR = new Array(60).join("-"), $R = "	";
function GR(t5) {
  return t5.replace(/^\s\s*/, "").replace(/\s\s*$/, "");
}
var ZR = new RegExp("[	]+", "g");
var qR = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.onclick = function(t6, i3) {
    setTimeout((function() {
      i3.dispatchAction({ type: "hideTip" });
    }));
    var n2 = i3.getDom(), r2 = this.model;
    this._dom && n2.removeChild(this._dom);
    var e2 = document.createElement("div");
    e2.style.cssText = "position:absolute;top:0;bottom:0;left:0;right:0;padding:5px", e2.style.backgroundColor = r2.get("backgroundColor") || "#fff";
    var o2 = document.createElement("h4"), a2 = r2.get("lang") || [];
    o2.innerHTML = a2[0] || r2.get("title"), o2.style.cssText = "margin:10px 20px", o2.style.color = r2.get("textColor");
    var s2 = document.createElement("div"), l2 = document.createElement("textarea");
    s2.style.cssText = "overflow:auto";
    var u2 = r2.get("optionToContent"), f2 = r2.get("contentToOption"), c2 = (function(t7) {
      var i4, n3, r3, e3 = (function(t8) {
        var i5 = {}, n4 = [], r4 = [];
        return t8.eachRawSeries((function(t9) {
          var e4 = t9.coordinateSystem;
          if (!e4 || "cartesian2d" !== e4.type && "polar" !== e4.type) n4.push(t9);
          else {
            var o3 = e4.getBaseAxis();
            if ("category" === o3.type) {
              var a3 = o3.dim + "_" + o3.index;
              i5[a3] || (i5[a3] = { categoryAxis: o3, valueAxis: e4.getOtherAxis(o3), series: [] }, r4.push({ axisDim: o3.dim, axisIndex: o3.index })), i5[a3].series.push(t9);
            } else n4.push(t9);
          }
        })), { seriesGroupByCategoryAxis: i5, other: n4, meta: r4 };
      })(t7);
      return { value: Sn([(n3 = e3.seriesGroupByCategoryAxis, r3 = [], kn(n3, (function(t8) {
        var i5 = t8.categoryAxis, n4 = t8.valueAxis.dim, e4 = [" "].concat(Mn(t8.series, (function(t9) {
          return t9.name;
        }))), o3 = [i5.model.getCategories()];
        kn(t8.series, (function(t9) {
          var i6 = t9.getRawData();
          o3.push(t9.getRawData().mapArray(i6.mapDimension(n4), (function(t10) {
            return t10;
          })));
        }));
        for (var a3 = [e4.join($R)], s3 = 0; s3 < o3[0].length; s3++) {
          for (var l3 = [], u3 = 0; u3 < o3.length; u3++) l3.push(o3[u3][s3]);
          a3.push(l3.join($R));
        }
        r3.push(a3.join("\n"));
      })), r3.join("\n\n" + UR + "\n\n")), (i4 = e3.other, Mn(i4, (function(t8) {
        var i5 = t8.getRawData(), n4 = [t8.name], r4 = [];
        return i5.each(i5.dimensions, (function() {
          for (var t9 = arguments.length, e4 = i5.getName(arguments[t9 - 1]), o3 = 0; o3 < t9 - 1; o3++) r4[o3] = arguments[o3];
          n4.push((e4 ? e4 + $R : "") + r4.join($R));
        })), n4.join("\n");
      })).join("\n\n" + UR + "\n\n"))], (function(t8) {
        return !!t8.replace(/[\n\t\s]/g, "");
      })).join("\n\n" + UR + "\n\n"), meta: e3.meta };
    })(t6);
    if (Tn(u2)) {
      var h2 = u2(i3.getOption());
      In(h2) ? s2.innerHTML = h2 : Fn(h2) && s2.appendChild(h2);
    } else {
      l2.readOnly = r2.get("readOnly");
      var v2 = l2.style;
      v2.cssText = "display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none", v2.color = r2.get("textColor"), v2.borderColor = r2.get("textareaBorderColor"), v2.backgroundColor = r2.get("textareaColor"), l2.value = c2.value, s2.appendChild(l2);
    }
    var d2 = c2.meta, p2 = document.createElement("div");
    p2.style.cssText = "position:absolute;bottom:5px;left:0;right:0";
    var m2 = "float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px", b2 = document.createElement("div"), g3 = document.createElement("div");
    m2 += ";background-color:" + r2.get("buttonColor"), m2 += ";color:" + r2.get("buttonTextColor");
    var y2 = this;
    function w3() {
      n2.removeChild(e2), y2._dom = null;
    }
    Hr(b2, "click", w3), Hr(g3, "click", (function() {
      if (null == f2 && null != u2 || null != f2 && null == u2) w3();
      else {
        var t7;
        try {
          t7 = Tn(f2) ? f2(s2, i3.getOption()) : (function(t8, i4) {
            var n3 = t8.split(new RegExp("\n*" + UR + "\n*", "g")), r3 = { series: [] };
            return kn(n3, (function(t9, n4) {
              if ((function(t10) {
                if (t10.slice(0, t10.indexOf("\n")).indexOf($R) >= 0) return true;
              })(t9)) {
                var e3 = (function(t10) {
                  for (var i5 = t10.split(/\n+/g), n5 = [], r4 = Mn(GR(i5.shift()).split(ZR), (function(t11) {
                    return { name: t11, data: [] };
                  })), e4 = 0; e4 < i5.length; e4++) {
                    var o4 = GR(i5[e4]).split(ZR);
                    n5.push(o4.shift());
                    for (var a4 = 0; a4 < o4.length; a4++) r4[a4] && (r4[a4].data[e4] = o4[a4]);
                  }
                  return { series: r4, categories: n5 };
                })(t9), o3 = i4[n4], a3 = o3.axisDim + "Axis";
                o3 && (r3[a3] = r3[a3] || [], r3[a3][o3.axisIndex] = { data: e3.categories }, r3.series = r3.series.concat(e3.series));
              } else e3 = (function(t10) {
                for (var i5 = t10.split(/\n+/g), n5 = GR(i5.shift()), r4 = [], e4 = 0; e4 < i5.length; e4++) {
                  var o4 = GR(i5[e4]);
                  if (o4) {
                    var a4 = o4.split(ZR), s3 = "", l3 = void 0, u3 = false;
                    isNaN(a4[0]) ? (u3 = true, s3 = a4[0], a4 = a4.slice(1), r4[e4] = { name: s3, value: [] }, l3 = r4[e4].value) : l3 = r4[e4] = [];
                    for (var f3 = 0; f3 < a4.length; f3++) l3.push(+a4[f3]);
                    1 === l3.length && (u3 ? r4[e4].value = l3[0] : r4[e4] = l3[0]);
                  }
                }
                return { name: n5, data: r4 };
              })(t9), r3.series.push(e3);
            })), r3;
          })(l2.value, d2);
        } catch (t8) {
          throw w3(), new Error("Data view format error " + t8);
        }
        t7 && i3.dispatchAction({ type: "changeDataView", newOption: t7 }), w3();
      }
    })), b2.innerHTML = a2[1], g3.innerHTML = a2[2], g3.style.cssText = b2.style.cssText = m2, !r2.get("readOnly") && p2.appendChild(g3), p2.appendChild(b2), e2.appendChild(o2), e2.appendChild(s2), e2.appendChild(p2), s2.style.height = n2.clientHeight - 80 + "px", n2.appendChild(e2), this._dom = e2;
  }, i2.prototype.remove = function(t6, i3) {
    this._dom && i3.getDom().removeChild(this._dom);
  }, i2.prototype.dispose = function(t6, i3) {
    this.remove(t6, i3);
  }, i2.getDefaultOption = function(t6) {
    return { show: true, readOnly: false, optionToContent: null, contentToOption: null, icon: "M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28", title: t6.getLocaleModel().get(["toolbox", "dataView", "title"]), lang: t6.getLocaleModel().get(["toolbox", "dataView", "lang"]), backgroundColor: "#fff", textColor: "#000", textareaColor: "#fff", textareaBorderColor: "#333", buttonColor: "#c23531", buttonTextColor: "#fff" };
  }, i2;
})(WR);
function JR(t5, i2) {
  return Mn(t5, (function(t6, n2) {
    var r2 = i2 && i2[n2];
    if (Wn(r2) && !_n(r2)) {
      Wn(t6) && !_n(t6) || (t6 = { value: t6 });
      var e2 = null != r2.name && null == t6.name;
      return t6 = gn(t6, r2), e2 && delete t6.name, t6;
    }
    return t6;
  }));
}
vw({ type: "changeDataView", event: "dataViewChanged", update: "prepareAndUpdate" }, (function(t5, i2) {
  var n2 = [];
  kn(t5.newOption.series, (function(t6) {
    var r2 = i2.getSeriesByName(t6.name)[0];
    if (r2) {
      var e2 = r2.get("data");
      n2.push({ name: t6.name, data: JR(t6.data, e2) });
    } else n2.push(bn({ type: "scatter" }, t6));
  })), i2.mergeOption(gn({ series: n2 }, t5.newOption));
}));
var KR = kn, QR = Xs();
function tP(t5) {
  var i2 = QR(t5);
  return i2.snapshots || (i2.snapshots = [{}]), i2.snapshots;
}
var iP = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.onclick = function(t6, i3) {
    !(function(t7) {
      QR(t7).snapshots = null;
    })(t6), i3.dispatchAction({ type: "restore", from: this.uid });
  }, i2.getDefaultOption = function(t6) {
    return { show: true, icon: "M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5", title: t6.getLocaleModel().get(["toolbox", "restore", "title"]) };
  }, i2;
})(WR);
vw({ type: "restore", event: "restore", update: "prepareAndUpdate" }, (function(t5, i2) {
  i2.resetOption("recreate");
}));
var nP = ["grid", "xAxis", "yAxis", "geo", "graph", "polar", "radiusAxis", "angleAxis", "bmap"], rP = (function() {
  function t5(t6, i2, n2) {
    var r2 = this;
    this._targetInfoList = [];
    var e2 = oP(i2, t6);
    kn(aP, (function(t7, i3) {
      (!n2 || !n2.include || yn(n2.include, i3) >= 0) && t7(e2, r2._targetInfoList);
    }));
  }
  return t5.prototype.setOutputRanges = function(t6, i2) {
    return this.matchOutputRanges(t6, i2, (function(t7, i3, n2) {
      if ((t7.coordRanges || (t7.coordRanges = [])).push(i3), !t7.coordRange) {
        t7.coordRange = i3;
        var r2 = uP[t7.brushType](0, n2, i3);
        t7.__rangeOffset = { offset: cP[t7.brushType](r2.values, t7.range, [1, 1]), xyMinMax: r2.xyMinMax };
      }
    })), t6;
  }, t5.prototype.matchOutputRanges = function(t6, i2, n2) {
    kn(t6, (function(t7) {
      var r2 = this.findTargetInfo(t7, i2);
      r2 && true !== r2 && kn(r2.coordSyses, (function(r3) {
        var e2 = uP[t7.brushType](1, r3, t7.range, true);
        n2(t7, e2.values, r3, i2);
      }));
    }), this);
  }, t5.prototype.setInputRanges = function(t6, i2) {
    kn(t6, (function(t7) {
      var n2, r2, e2, o2, a2 = this.findTargetInfo(t7, i2);
      if (t7.range = t7.range || [], a2 && true !== a2) {
        t7.panelId = a2.panelId;
        var s2 = uP[t7.brushType](0, a2.coordSys, t7.coordRange), l2 = t7.__rangeOffset;
        t7.range = l2 ? cP[t7.brushType](s2.values, l2.offset, (n2 = l2.xyMinMax, r2 = vP(s2.xyMinMax), e2 = vP(n2), o2 = [r2[0] / e2[0], r2[1] / e2[1]], isNaN(o2[0]) && (o2[0] = 1), isNaN(o2[1]) && (o2[1] = 1), o2)) : s2.values;
      }
    }), this);
  }, t5.prototype.makePanelOpts = function(t6, i2) {
    return Mn(this._targetInfoList, (function(n2) {
      var r2 = n2.getPanelRect();
      return { panelId: n2.panelId, defaultBrushType: i2 ? i2(n2) : null, clipPath: tD(r2), isTargetByCursor: nD(r2, t6, n2.coordSysModel), getLinearBrushOtherExtent: iD(r2) };
    }));
  }, t5.prototype.controlSeries = function(t6, i2, n2) {
    var r2 = this.findTargetInfo(t6, n2);
    return true === r2 || r2 && yn(r2.coordSyses, i2.coordinateSystem) >= 0;
  }, t5.prototype.findTargetInfo = function(t6, i2) {
    for (var n2 = this._targetInfoList, r2 = oP(i2, t6), e2 = 0; e2 < n2.length; e2++) {
      var o2 = n2[e2], a2 = t6.panelId;
      if (a2) {
        if (o2.panelId === a2) return o2;
      } else for (var s2 = 0; s2 < sP.length; s2++) if (sP[s2](r2, o2)) return o2;
    }
    return true;
  }, t5;
})();
function eP(t5) {
  return t5[0] > t5[1] && t5.reverse(), t5;
}
function oP(t5, i2) {
  return $s(t5, i2, { includeMainTypes: nP });
}
var aP = { grid: function(t5, i2) {
  var n2 = t5.xAxisModels, r2 = t5.yAxisModels, e2 = t5.gridModels, o2 = Qn(), a2 = {}, s2 = {};
  (n2 || r2 || e2) && (kn(n2, (function(t6) {
    var i3 = t6.axis.grid.model;
    o2.set(i3.id, i3), a2[i3.id] = true;
  })), kn(r2, (function(t6) {
    var i3 = t6.axis.grid.model;
    o2.set(i3.id, i3), s2[i3.id] = true;
  })), kn(e2, (function(t6) {
    o2.set(t6.id, t6), a2[t6.id] = true, s2[t6.id] = true;
  })), o2.each((function(t6) {
    var e3 = [];
    kn(t6.coordinateSystem.getCartesians(), (function(t7) {
      (yn(n2, t7.getAxis("x").model) >= 0 || yn(r2, t7.getAxis("y").model) >= 0) && e3.push(t7);
    })), i2.push({ panelId: "grid--" + t6.id, gridModel: t6, coordSysModel: t6, coordSys: e3[0], coordSyses: e3, getPanelRect: lP.grid, xAxisDeclared: a2[t6.id], yAxisDeclared: s2[t6.id] });
  })));
}, geo: function(t5, i2) {
  kn(t5.geoModels, (function(t6) {
    var n2 = t6.coordinateSystem;
    i2.push({ panelId: "geo--" + t6.id, geoModel: t6, coordSysModel: t6, coordSys: n2, coordSyses: [n2], getPanelRect: lP.geo });
  }));
} }, sP = [function(t5, i2) {
  var n2 = t5.xAxisModel, r2 = t5.yAxisModel, e2 = t5.gridModel;
  return !e2 && n2 && (e2 = n2.axis.grid.model), !e2 && r2 && (e2 = r2.axis.grid.model), e2 && e2 === i2.gridModel;
}, function(t5, i2) {
  var n2 = t5.geoModel;
  return n2 && n2 === i2.geoModel;
}], lP = { grid: function() {
  return this.coordSys.master.getRect().clone();
}, geo: function() {
  var t5 = this.coordSys, i2 = t5.getBoundingRect().clone();
  return i2.applyTransform(jh(t5)), i2;
} }, uP = { lineX: Nn(fP, 0), lineY: Nn(fP, 1), rect: function(t5, i2, n2, r2) {
  var e2 = t5 ? i2.pointToData([n2[0][0], n2[1][0]], r2) : i2.dataToPoint([n2[0][0], n2[1][0]], r2), o2 = t5 ? i2.pointToData([n2[0][1], n2[1][1]], r2) : i2.dataToPoint([n2[0][1], n2[1][1]], r2), a2 = [eP([e2[0], o2[0]]), eP([e2[1], o2[1]])];
  return { values: a2, xyMinMax: a2 };
}, polygon: function(t5, i2, n2, r2) {
  var e2 = [[1 / 0, -1 / 0], [1 / 0, -1 / 0]];
  return { values: Mn(n2, (function(n3) {
    var o2 = t5 ? i2.pointToData(n3, r2) : i2.dataToPoint(n3, r2);
    return e2[0][0] = Math.min(e2[0][0], o2[0]), e2[1][0] = Math.min(e2[1][0], o2[1]), e2[0][1] = Math.max(e2[0][1], o2[0]), e2[1][1] = Math.max(e2[1][1], o2[1]), o2;
  })), xyMinMax: e2 };
} };
function fP(t5, i2, n2, r2) {
  var e2 = n2.getAxis(["x", "y"][t5]), o2 = eP(Mn([0, 1], (function(t6) {
    return i2 ? e2.coordToData(e2.toLocalCoord(r2[t6]), true) : e2.toGlobalCoord(e2.dataToCoord(r2[t6]));
  }))), a2 = [];
  return a2[t5] = o2, a2[1 - t5] = [NaN, NaN], { values: o2, xyMinMax: a2 };
}
var cP = { lineX: Nn(hP, 0), lineY: Nn(hP, 1), rect: function(t5, i2, n2) {
  return [[t5[0][0] - n2[0] * i2[0][0], t5[0][1] - n2[0] * i2[0][1]], [t5[1][0] - n2[1] * i2[1][0], t5[1][1] - n2[1] * i2[1][1]]];
}, polygon: function(t5, i2, n2) {
  return Mn(t5, (function(t6, r2) {
    return [t6[0] - n2[0] * i2[r2][0], t6[1] - n2[1] * i2[r2][1]];
  }));
} };
function hP(t5, i2, n2, r2) {
  return [i2[0] - r2[t5] * n2[0], i2[1] - r2[t5] * n2[1]];
}
function vP(t5) {
  return t5 ? [t5[0][1] - t5[0][0], t5[1][1] - t5[1][0]] : [NaN, NaN];
}
var dP, pP = kn, mP = Ls + "toolbox-dataZoom_", bP = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2, r2) {
    this._brushController || (this._brushController = new ML(n2.getZr()), this._brushController.on("brush", An(this._onBrush, this)).mount()), (function(t7, i4, n3, r3, e2) {
      var o2 = n3._isZoomActive;
      r3 && "takeGlobalCursor" === r3.type && (o2 = "dataZoomSelect" === r3.key && r3.dataZoomSelectActive), n3._isZoomActive = o2, t7.setIconStatus("zoom", o2 ? "emphasis" : "normal");
      var a2 = new rP(yP(t7), i4, { include: ["grid"] }).makePanelOpts(e2, (function(t8) {
        return t8.xAxisDeclared && !t8.yAxisDeclared ? "lineX" : !t8.xAxisDeclared && t8.yAxisDeclared ? "lineY" : "rect";
      }));
      n3._brushController.setPanels(a2).enableBrush(!(!o2 || !a2.length) && { brushType: "auto", brushStyle: t7.getModel("brushStyle").getItemStyle() });
    })(t6, i3, this, r2, n2), (function(t7, i4) {
      t7.setIconStatus("back", (function(t8) {
        return tP(t8).length;
      })(i4) > 1 ? "emphasis" : "normal");
    })(t6, i3);
  }, i2.prototype.onclick = function(t6, i3, n2) {
    gP[n2].call(this);
  }, i2.prototype.remove = function() {
    this._brushController && this._brushController.unmount();
  }, i2.prototype.dispose = function() {
    this._brushController && this._brushController.dispose();
  }, i2.prototype._onBrush = function(t6) {
    var i3 = t6.areas;
    if (t6.isEnd && i3.length) {
      var n2 = {}, r2 = this.ecModel;
      this._brushController.updateCovers([]), new rP(yP(this.model), r2, { include: ["grid"] }).matchOutputRanges(i3, r2, (function(t7, i4, n3) {
        if ("cartesian2d" === n3.type) {
          var r3 = t7.brushType;
          "rect" === r3 ? (e2("x", n3, i4[0]), e2("y", n3, i4[1])) : e2({ lineX: "x", lineY: "y" }[r3], n3, i4);
        }
      })), (function(t7, i4) {
        var n3 = tP(t7);
        KR(i4, (function(i5, r3) {
          for (var e3 = n3.length - 1; e3 >= 0 && !n3[e3][r3]; e3--) ;
          if (e3 < 0) {
            var o2 = t7.queryComponents({ mainType: "dataZoom", subType: "select", id: r3 })[0];
            if (o2) {
              var a2 = o2.getPercentRange();
              n3[0][r3] = { dataZoomId: r3, start: a2[0], end: a2[1] };
            }
          }
        })), n3.push(i4);
      })(r2, n2), this._dispatchZoomAction(n2);
    }
    function e2(t7, i4, e3) {
      var o2 = i4.getAxis(t7), a2 = o2.model, s2 = (function(t8, i5, n3) {
        var r3;
        return n3.eachComponent({ mainType: "dataZoom", subType: "select" }, (function(n4) {
          n4.getAxisModel(t8, i5.componentIndex) && (r3 = n4);
        })), r3;
      })(t7, a2, r2), l2 = s2.findRepresentativeAxisProxy(a2).getMinMaxSpan();
      null == l2.minValueSpan && null == l2.maxValueSpan || (e3 = KI(0, e3.slice(), o2.scale.getExtent(), 0, l2.minValueSpan, l2.maxValueSpan)), s2 && (n2[s2.id] = { dataZoomId: s2.id, startValue: e3[0], endValue: e3[1] });
    }
  }, i2.prototype._dispatchZoomAction = function(t6) {
    var i3 = [];
    pP(t6, (function(t7) {
      i3.push(dn(t7));
    })), i3.length && this.api.dispatchAction({ type: "dataZoom", from: this.uid, batch: i3 });
  }, i2.getDefaultOption = function(t6) {
    return { show: true, filterMode: "filter", icon: { zoom: "M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1", back: "M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26" }, title: t6.getLocaleModel().get(["toolbox", "dataZoom", "title"]), brushStyle: { borderWidth: 0, color: "rgba(210,219,238,0.2)" } };
  }, i2;
})(WR), gP = { zoom: function() {
  this.api.dispatchAction({ type: "takeGlobalCursor", key: "dataZoomSelect", dataZoomSelectActive: !this._isZoomActive });
}, back: function() {
  this._dispatchZoomAction((function(t5) {
    var i2 = tP(t5), n2 = i2[i2.length - 1];
    i2.length > 1 && i2.pop();
    var r2 = {};
    return KR(n2, (function(t6, n3) {
      for (var e2 = i2.length - 1; e2 >= 0; e2--) if (t6 = i2[e2][n3]) {
        r2[n3] = t6;
        break;
      }
    })), r2;
  })(this.ecModel));
} };
function yP(t5) {
  var i2 = { xAxisIndex: t5.get("xAxisIndex", true), yAxisIndex: t5.get("yAxisIndex", true), xAxisId: t5.get("xAxisId", true), yAxisId: t5.get("yAxisId", true) };
  return null == i2.xAxisIndex && null == i2.xAxisId && (i2.xAxisIndex = "all"), null == i2.yAxisIndex && null == i2.yAxisId && (i2.yAxisIndex = "all"), i2;
}
dP = function(t5) {
  var i2 = t5.getComponent("toolbox", 0), n2 = ["feature", "dataZoom"];
  if (i2 && null != i2.get(n2)) {
    var r2 = i2.getModel(n2), e2 = [], o2 = $s(t5, yP(r2));
    return pP(o2.xAxisModels, (function(t6) {
      return a2(t6, "xAxis", "xAxisIndex");
    })), pP(o2.yAxisModels, (function(t6) {
      return a2(t6, "yAxis", "yAxisIndex");
    })), e2;
  }
  function a2(t6, i3, n3) {
    var o3 = t6.componentIndex, a3 = { type: "select", $fromToolbox: true, filterMode: r2.get("filterMode", true) || "filter", id: mP + i3 + o3 };
    a3[n3] = o3, e2.push(a3);
  }
}, Xn(null == rp.get("dataZoom") && dP), rp.set("dataZoom", dP);
var wP = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "tooltip", i2.dependencies = ["axisPointer"], i2.defaultOption = { z: 60, show: true, showContent: true, trigger: "item", triggerOn: "mousemove|click", alwaysShowContent: false, displayMode: "single", renderMode: "auto", confine: null, showDelay: 0, hideDelay: 100, transitionDuration: 0.4, enterable: false, backgroundColor: "#fff", shadowBlur: 10, shadowColor: "rgba(0, 0, 0, .2)", shadowOffsetX: 1, shadowOffsetY: 2, borderRadius: 4, borderWidth: 1, padding: null, extraCssText: "", axisPointer: { type: "line", axis: "auto", animation: "auto", animationDurationUpdate: 200, animationEasingUpdate: "exponentialOut", crossStyle: { color: "#999", width: 1, type: "dashed", textStyle: {} } }, textStyle: { color: "#666", fontSize: 14 } }, i2;
})(Ed);
function xP(t5) {
  var i2 = t5.get("confine");
  return null != i2 ? !!i2 : "richText" === t5.get("renderMode");
}
function kP(t5) {
  if (Ui.domSupported) {
    for (var i2 = document.documentElement.style, n2 = 0, r2 = t5.length; n2 < r2; n2++) if (t5[n2] in i2) return t5[n2];
  }
}
var MP = kP(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]);
function zP(t5, i2) {
  if (!t5) return i2;
  i2 = pd(i2, true);
  var n2 = t5.indexOf(i2);
  return (t5 = -1 === n2 ? i2 : "-" + t5.slice(0, n2) + "-" + i2).toLowerCase();
}
var SP = zP(kP(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]), "transition"), CP = zP(MP, "transform"), AP = "position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;" + (Ui.transform3dSupported ? "will-change:transform;" : "");
function NP(t5, i2, n2) {
  var r2 = t5.toFixed(0) + "px", e2 = i2.toFixed(0) + "px";
  if (!Ui.transformSupported) return n2 ? "top:" + e2 + ";left:" + r2 + ";" : [["top", e2], ["left", r2]];
  var o2 = Ui.transform3dSupported, a2 = "translate" + (o2 ? "3d" : "") + "(" + r2 + "," + e2 + (o2 ? ",0" : "") + ")";
  return n2 ? "top:0;left:0;" + CP + ":" + a2 + ";" : [["top", 0], ["left", 0], [MP, a2]];
}
function _P(t5, i2, n2, r2, e2) {
  var o2 = i2 && i2.painter;
  if (n2) {
    var a2 = o2 && o2.getViewportRoot();
    a2 && (function(t6, i3, n3, r3, e3) {
      Ir(Tr, i3, r3, e3, true) && Ir(t6, n3, Tr[0], Tr[1]);
    })(t5, a2, n2, r2, e2);
  } else {
    t5[0] = r2, t5[1] = e2;
    var s2 = o2 && o2.getViewportRootOffset();
    s2 && (t5[0] += s2.offsetLeft, t5[1] += s2.offsetTop);
  }
  t5[2] = t5[0] / i2.getWidth(), t5[3] = t5[1] / i2.getHeight();
}
var TP = (function() {
  function t5(t6, i2) {
    if (this._show = false, this._styleCoord = [0, 0, 0, 0], this._enterable = true, this._alwaysShowContent = false, this._firstShow = true, this._longHide = true, Ui.wxa) return null;
    var n2 = document.createElement("div");
    n2.domBelongToZr = true, this.el = n2;
    var r2 = this._zr = t6.getZr(), e2 = i2.appendTo, o2 = e2 && (In(e2) ? document.querySelector(e2) : Fn(e2) ? e2 : Tn(e2) && e2(t6.getDom()));
    _P(this._styleCoord, r2, o2, t6.getWidth() / 2, t6.getHeight() / 2), (o2 || t6.getDom()).appendChild(n2), this._api = t6, this._container = o2;
    var a2 = this;
    n2.onmouseenter = function() {
      a2._enterable && (clearTimeout(a2._hideTimeout), a2._show = true), a2._inContent = true;
    }, n2.onmousemove = function(t7) {
      if (t7 = t7 || window.event, !a2._enterable) {
        var i3 = r2.handler;
        jr(r2.painter.getViewportRoot(), t7, true), i3.dispatch("mousemove", t7);
      }
    }, n2.onmouseleave = function() {
      a2._inContent = false, a2._enterable && a2._show && a2.hideLater(a2._hideDelay);
    };
  }
  return t5.prototype.update = function(t6) {
    if (!this._container) {
      var i2 = this._api.getDom(), n2 = (o2 = (e2 = i2).currentStyle || document.defaultView && document.defaultView.getComputedStyle(e2)) ? o2.position : null, r2 = i2.style;
      "absolute" !== r2.position && "absolute" !== n2 && (r2.position = "relative");
    }
    var e2, o2, a2 = t6.get("alwaysShowContent");
    a2 && this._moveIfResized(), this._alwaysShowContent = a2, this.el.className = t6.get("className") || "";
  }, t5.prototype.show = function(t6, i2) {
    clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout);
    var n2 = this.el, r2 = n2.style, e2 = this._styleCoord;
    n2.innerHTML ? r2.cssText = AP + (function(t7, i3, n3) {
      var r3 = [], e3 = t7.get("transitionDuration"), o2 = t7.get("backgroundColor"), a2 = t7.get("shadowBlur"), s2 = t7.get("shadowColor"), l2 = t7.get("shadowOffsetX"), u2 = t7.get("shadowOffsetY"), f2 = t7.getModel("textStyle"), c2 = sb(t7, "html");
      return r3.push("box-shadow:" + l2 + "px " + u2 + "px " + a2 + "px " + s2), i3 && e3 && r3.push((function(t8, i4) {
        var n4 = "cubic-bezier(0.23,1,0.32,1)", r4 = " " + t8 / 2 + "s " + n4, e4 = "opacity" + r4 + ",visibility" + r4;
        return i4 || (r4 = " " + t8 + "s " + n4, e4 += Ui.transformSupported ? "," + CP + r4 : ",left" + r4 + ",top" + r4), SP + ":" + e4;
      })(e3, n3)), o2 && r3.push("background-color:" + o2), kn(["width", "color", "radius"], (function(i4) {
        var n4 = "border-" + i4, e4 = pd(n4), o3 = t7.get(e4);
        null != o3 && r3.push(n4 + ":" + o3 + ("color" === i4 ? "" : "px"));
      })), r3.push((function(t8) {
        var i4 = [], n4 = t8.get("fontSize"), r4 = t8.getTextColor();
        r4 && i4.push("color:" + r4), i4.push("font:" + t8.getFont());
        var e4 = Vn(t8.get("lineHeight"), Math.round(3 * n4 / 2));
        n4 && i4.push("line-height:" + e4 + "px");
        var o3 = t8.get("textShadowColor"), a3 = t8.get("textShadowBlur") || 0, s3 = t8.get("textShadowOffsetX") || 0, l3 = t8.get("textShadowOffsetY") || 0;
        return o3 && a3 && i4.push("text-shadow:" + s3 + "px " + l3 + "px " + a3 + "px " + o3), kn(["decoration", "align"], (function(n5) {
          var r5 = t8.get(n5);
          r5 && i4.push("text-" + n5 + ":" + r5);
        })), i4.join(";");
      })(f2)), null != c2 && r3.push("padding:" + md(c2).join("px ") + "px"), r3.join(";") + ";";
    })(t6, !this._firstShow, this._longHide) + NP(e2[0], e2[1], true) + "border-color:" + xd(i2) + ";" + (t6.get("extraCssText") || "") + ";pointer-events:" + (this._enterable ? "auto" : "none") : r2.display = "none", this._show = true, this._firstShow = false, this._longHide = false;
  }, t5.prototype.setContent = function(t6, i2, n2, r2, e2) {
    var o2 = this.el;
    if (null != t6) {
      var a2 = "";
      if (In(e2) && "item" === n2.get("trigger") && !xP(n2) && (a2 = (function(t7, i3, n3) {
        if (!In(n3) || "inside" === n3) return "";
        var r3 = t7.get("backgroundColor"), e3 = t7.get("borderWidth");
        i3 = xd(i3);
        var o3, a3, s3 = "left" === (o3 = n3) ? "right" : "right" === o3 ? "left" : "top" === o3 ? "bottom" : "top", l3 = Math.max(1.5 * Math.round(e3), 6), u2 = "", f2 = CP + ":";
        yn(["left", "right"], s3) > -1 ? (u2 += "top:50%", f2 += "translateY(-50%) rotate(" + (a3 = "left" === s3 ? -225 : -45) + "deg)") : (u2 += "left:50%", f2 += "translateX(-50%) rotate(" + (a3 = "top" === s3 ? 225 : 45) + "deg)");
        var c2 = a3 * Math.PI / 180, h2 = l3 + e3, v2 = h2 * Math.abs(Math.cos(c2)) + h2 * Math.abs(Math.sin(c2)), d2 = i3 + " solid " + e3 + "px;";
        return '<div style="' + ["position:absolute;width:" + l3 + "px;height:" + l3 + "px;z-index:-1;", (u2 += ";" + s3 + ":-" + Math.round(100 * ((v2 - Math.SQRT2 * e3) / 2 + Math.SQRT2 * e3 - (v2 - h2) / 2)) / 100 + "px") + ";" + f2 + ";", "border-bottom:" + d2, "border-right:" + d2, "background-color:" + r3 + ";"].join("") + '"></div>';
      })(n2, r2, e2)), In(t6)) o2.innerHTML = t6 + a2;
      else if (t6) {
        o2.innerHTML = "", _n(t6) || (t6 = [t6]);
        for (var s2 = 0; s2 < t6.length; s2++) Fn(t6[s2]) && t6[s2].parentNode !== o2 && o2.appendChild(t6[s2]);
        if (a2 && o2.childNodes.length) {
          var l2 = document.createElement("div");
          l2.innerHTML = a2, o2.appendChild(l2);
        }
      }
    } else o2.innerHTML = "";
  }, t5.prototype.setEnterable = function(t6) {
    this._enterable = t6;
  }, t5.prototype.getSize = function() {
    var t6 = this.el;
    return t6 ? [t6.offsetWidth, t6.offsetHeight] : [0, 0];
  }, t5.prototype.moveTo = function(t6, i2) {
    if (this.el) {
      var n2 = this._styleCoord;
      if (_P(n2, this._zr, this._container, t6, i2), null != n2[0] && null != n2[1]) {
        var r2 = this.el.style;
        kn(NP(n2[0], n2[1]), (function(t7) {
          r2[t7[0]] = t7[1];
        }));
      }
    }
  }, t5.prototype._moveIfResized = function() {
    var t6 = this._styleCoord[3];
    this.moveTo(this._styleCoord[2] * this._zr.getWidth(), t6 * this._zr.getHeight());
  }, t5.prototype.hide = function() {
    var t6 = this, i2 = this.el.style;
    i2.visibility = "hidden", i2.opacity = "0", Ui.transform3dSupported && (i2.willChange = ""), this._show = false, this._longHideTimeout = setTimeout((function() {
      return t6._longHide = true;
    }), 500);
  }, t5.prototype.hideLater = function(t6) {
    !this._show || this._inContent && this._enterable || this._alwaysShowContent || (t6 ? (this._hideDelay = t6, this._show = false, this._hideTimeout = setTimeout(An(this.hide, this), t6)) : this.hide());
  }, t5.prototype.isShow = function() {
    return this._show;
  }, t5.prototype.dispose = function() {
    clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout);
    var t6 = this.el.parentNode;
    t6 && t6.removeChild(this.el), this.el = this._container = null;
  }, t5;
})(), IP = (function() {
  function t5(t6) {
    this._show = false, this._styleCoord = [0, 0, 0, 0], this._alwaysShowContent = false, this._enterable = true, this._zr = t6.getZr(), WP(this._styleCoord, this._zr, t6.getWidth() / 2, t6.getHeight() / 2);
  }
  return t5.prototype.update = function(t6) {
    var i2 = t6.get("alwaysShowContent");
    i2 && this._moveIfResized(), this._alwaysShowContent = i2;
  }, t5.prototype.show = function() {
    this._hideTimeout && clearTimeout(this._hideTimeout), this.el.show(), this._show = true;
  }, t5.prototype.setContent = function(t6, i2, n2, r2) {
    var e2 = this;
    Wn(t6) && _s(""), this.el && this._zr.remove(this.el);
    var o2 = n2.getModel("textStyle");
    this.el = new Ku({ style: { rich: i2.richTextStyles, text: t6, lineHeight: 22, borderWidth: 1, borderColor: r2, textShadowColor: o2.get("textShadowColor"), fill: n2.get(["textStyle", "color"]), padding: sb(n2, "richText"), verticalAlign: "top", align: "left" }, z: n2.get("z") }), kn(["backgroundColor", "borderRadius", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"], (function(t7) {
      e2.el.style[t7] = n2.get(t7);
    })), kn(["textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], (function(t7) {
      e2.el.style[t7] = o2.get(t7) || 0;
    })), this._zr.add(this.el);
    var a2 = this;
    this.el.on("mouseover", (function() {
      a2._enterable && (clearTimeout(a2._hideTimeout), a2._show = true), a2._inContent = true;
    })), this.el.on("mouseout", (function() {
      a2._enterable && a2._show && a2.hideLater(a2._hideDelay), a2._inContent = false;
    }));
  }, t5.prototype.setEnterable = function(t6) {
    this._enterable = t6;
  }, t5.prototype.getSize = function() {
    var t6 = this.el, i2 = this.el.getBoundingRect(), n2 = DP(t6.style);
    return [i2.width + n2.left + n2.right, i2.height + n2.top + n2.bottom];
  }, t5.prototype.moveTo = function(t6, i2) {
    var n2 = this.el;
    if (n2) {
      var r2 = this._styleCoord;
      WP(r2, this._zr, t6, i2), t6 = r2[0], i2 = r2[1];
      var e2 = n2.style, o2 = LP(e2.borderWidth || 0), a2 = DP(e2);
      n2.x = t6 + o2 + a2.left, n2.y = i2 + o2 + a2.top, n2.markRedraw();
    }
  }, t5.prototype._moveIfResized = function() {
    var t6 = this._styleCoord[3];
    this.moveTo(this._styleCoord[2] * this._zr.getWidth(), t6 * this._zr.getHeight());
  }, t5.prototype.hide = function() {
    this.el && this.el.hide(), this._show = false;
  }, t5.prototype.hideLater = function(t6) {
    !this._show || this._inContent && this._enterable || this._alwaysShowContent || (t6 ? (this._hideDelay = t6, this._show = false, this._hideTimeout = setTimeout(An(this.hide, this), t6)) : this.hide());
  }, t5.prototype.isShow = function() {
    return this._show;
  }, t5.prototype.dispose = function() {
    this._zr.remove(this.el);
  }, t5;
})();
function LP(t5) {
  return Math.max(0, t5);
}
function DP(t5) {
  var i2 = LP(t5.shadowBlur || 0), n2 = LP(t5.shadowOffsetX || 0), r2 = LP(t5.shadowOffsetY || 0);
  return { left: LP(i2 - n2), right: LP(i2 + n2), top: LP(i2 - r2), bottom: LP(i2 + r2) };
}
function WP(t5, i2, n2, r2) {
  t5[0] = n2, t5[1] = r2, t5[2] = t5[0] / i2.getWidth(), t5[3] = t5[1] / i2.getHeight();
}
var EP = new Zu({ shape: { x: -1, y: -1, width: 2, height: 2 } }), OP = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3) {
    if (!Ui.node && i3.getDom()) {
      var n2, r2 = t6.getComponent("tooltip"), e2 = this._renderMode = "auto" === (n2 = r2.get("renderMode")) ? Ui.domSupported ? "html" : "richText" : n2 || "html";
      this._tooltipContent = "richText" === e2 ? new IP(i3) : new TP(i3, { appendTo: r2.get("appendToBody", true) ? "body" : r2.get("appendTo", true) });
    }
  }, i2.prototype.render = function(t6, i3, n2) {
    if (!Ui.node && n2.getDom()) {
      this.group.removeAll(), this._tooltipModel = t6, this._ecModel = i3, this._api = n2;
      var r2 = this._tooltipContent;
      r2.update(t6), r2.setEnterable(t6.get("enterable")), this._initGlobalListener(), this._keepShow(), "richText" !== this._renderMode && t6.get("transitionDuration") ? Eb(this, "_updatePosition", 50, "fixRate") : Ob(this, "_updatePosition");
    }
  }, i2.prototype._initGlobalListener = function() {
    var t6 = this._tooltipModel.get("triggerOn");
    YO("itemTooltip", this._api, An((function(i3, n2, r2) {
      "none" !== t6 && (t6.indexOf(i3) >= 0 ? this._tryShow(n2, r2) : "leave" === i3 && this._hide(r2));
    }), this));
  }, i2.prototype._keepShow = function() {
    var t6 = this._tooltipModel, i3 = this._ecModel, n2 = this._api, r2 = t6.get("triggerOn");
    if (null != this._lastX && null != this._lastY && "none" !== r2 && "click" !== r2) {
      var e2 = this;
      clearTimeout(this._refreshUpdateTimeout), this._refreshUpdateTimeout = setTimeout((function() {
        !n2.isDisposed() && e2.manuallyShowTip(t6, i3, n2, { x: e2._lastX, y: e2._lastY, dataByCoordSys: e2._lastDataByCoordSys });
      }));
    }
  }, i2.prototype.manuallyShowTip = function(t6, i3, n2, r2) {
    if (r2.from !== this.uid && !Ui.node && n2.getDom()) {
      var e2 = RP(r2, n2);
      this._ticket = "";
      var o2 = r2.dataByCoordSys, a2 = (function(t7, i4, n3) {
        var r3 = Gs(t7).queryOptionMap, e3 = r3.keys()[0];
        if (e3 && "series" !== e3) {
          var o3, a3 = Js(i4, e3, r3.get(e3), { useDefault: false, enableAll: false, enableNone: false }).models[0];
          if (a3) return n3.getViewOfComponentModel(a3).group.traverse((function(i5) {
            var n4 = hf(i5).tooltipConfig;
            if (n4 && n4.name === t7.name) return o3 = i5, true;
          })), o3 ? { componentMainType: e3, componentIndex: a3.componentIndex, el: o3 } : void 0;
        }
      })(r2, i3, n2);
      if (a2) {
        var s2 = a2.el.getBoundingRect().clone();
        s2.applyTransform(a2.el.transform), this._tryShow({ offsetX: s2.x + s2.width / 2, offsetY: s2.y + s2.height / 2, target: a2.el, position: r2.position, positionDefault: "bottom" }, e2);
      } else if (r2.tooltip && null != r2.x && null != r2.y) {
        var l2 = EP;
        l2.x = r2.x, l2.y = r2.y, l2.update(), hf(l2).tooltipConfig = { name: null, option: r2.tooltip }, this._tryShow({ offsetX: r2.x, offsetY: r2.y, target: l2 }, e2);
      } else if (o2) this._tryShow({ offsetX: r2.x, offsetY: r2.y, position: r2.position, dataByCoordSys: o2, tooltipOption: r2.tooltipOption }, e2);
      else if (null != r2.seriesIndex) {
        if (this._manuallyAxisShowTip(t6, i3, n2, r2)) return;
        var u2 = ZO(r2, i3), f2 = u2.point[0], c2 = u2.point[1];
        null != f2 && null != c2 && this._tryShow({ offsetX: f2, offsetY: c2, target: u2.el, position: r2.position, positionDefault: "bottom" }, e2);
      } else null != r2.x && null != r2.y && (n2.dispatchAction({ type: "updateAxisPointer", x: r2.x, y: r2.y }), this._tryShow({ offsetX: r2.x, offsetY: r2.y, position: r2.position, target: n2.getZr().findHover(r2.x, r2.y).target }, e2));
    }
  }, i2.prototype.manuallyHideTip = function(t6, i3, n2, r2) {
    this._tooltipModel && this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")), this._lastX = this._lastY = this._lastDataByCoordSys = null, r2.from !== this.uid && this._hide(RP(r2, n2));
  }, i2.prototype._manuallyAxisShowTip = function(t6, i3, n2, r2) {
    var e2 = r2.seriesIndex, o2 = r2.dataIndex, a2 = i3.getComponent("axisPointer").coordSysAxesInfo;
    if (null != e2 && null != o2 && null != a2) {
      var s2 = i3.getSeriesByIndex(e2);
      if (s2 && "axis" === FP([s2.getData().getItemModel(o2), s2, (s2.coordinateSystem || {}).model], this._tooltipModel).get("trigger")) return n2.dispatchAction({ type: "updateAxisPointer", seriesIndex: e2, dataIndex: o2, position: r2.position }), true;
    }
  }, i2.prototype._tryShow = function(t6, i3) {
    var n2 = t6.target;
    if (this._tooltipModel) {
      this._lastX = t6.offsetX, this._lastY = t6.offsetY;
      var r2 = t6.dataByCoordSys;
      if (r2 && r2.length) this._showAxisTooltip(r2, t6);
      else if (n2) {
        var e2, o2;
        if ("legend" === hf(n2).ssrType) return;
        this._lastDataByCoordSys = null, Sg(n2, (function(t7) {
          return null != hf(t7).dataIndex ? (e2 = t7, true) : null != hf(t7).tooltipConfig ? (o2 = t7, true) : void 0;
        }), true), e2 ? this._showSeriesItemTooltip(t6, e2, i3) : o2 ? this._showComponentItemTooltip(t6, o2, i3) : this._hide(i3);
      } else this._lastDataByCoordSys = null, this._hide(i3);
    }
  }, i2.prototype._showOrMove = function(t6, i3) {
    var n2 = t6.get("showDelay");
    i3 = An(i3, this), clearTimeout(this._showTimout), n2 > 0 ? this._showTimout = setTimeout(i3, n2) : i3();
  }, i2.prototype._showAxisTooltip = function(t6, i3) {
    var n2 = this._ecModel, r2 = this._tooltipModel, e2 = [i3.offsetX, i3.offsetY], o2 = FP([i3.tooltipOption], r2), a2 = this._renderMode, s2 = [], l2 = Jm("section", { blocks: [], noHeader: true }), u2 = [], f2 = new lb();
    kn(t6, (function(t7) {
      kn(t7.dataByAxis, (function(t8) {
        var i4 = n2.getComponent(t8.axisDim + "Axis", t8.axisIndex), e3 = t8.value;
        if (i4 && null != e3) {
          var o3 = IO(e3, i4.axis, n2, t8.seriesDataIndices, t8.valueLabelOpt), c3 = Jm("section", { header: o3, noHeader: !Un(o3), sortBlocks: true, blocks: [] });
          l2.blocks.push(c3), kn(t8.seriesDataIndices, (function(l3) {
            var h3 = n2.getSeriesByIndex(l3.seriesIndex), v3 = l3.dataIndexInside, d3 = h3.getDataParams(v3);
            if (!(d3.dataIndex < 0)) {
              d3.axisDim = t8.axisDim, d3.axisIndex = t8.axisIndex, d3.axisType = t8.axisType, d3.axisId = t8.axisId, d3.axisValue = rk(i4.axis, { value: e3 }), d3.axisValueLabel = o3, d3.marker = f2.makeTooltipMarker("item", xd(d3.color), a2);
              var p2 = vm(h3.formatTooltip(v3, true, null)), m2 = p2.frag;
              if (m2) {
                var b2 = FP([h3], r2).get("valueFormatter");
                c3.blocks.push(b2 ? bn({ valueFormatter: b2 }, m2) : m2);
              }
              p2.text && u2.push(p2.text), s2.push(d3);
            }
          }));
        }
      }));
    })), l2.blocks.reverse(), u2.reverse();
    var c2 = i3.position, h2 = o2.get("order"), v2 = rb(l2, f2, a2, h2, n2.get("useUTC"), o2.get("textStyle"));
    v2 && u2.unshift(v2);
    var d2 = u2.join("richText" === a2 ? "\n\n" : "<br/>");
    this._showOrMove(o2, (function() {
      this._updateContentNotChangedOnAxis(t6, s2) ? this._updatePosition(o2, c2, e2[0], e2[1], this._tooltipContent, s2) : this._showTooltipContent(o2, d2, s2, Math.random() + "", e2[0], e2[1], c2, null, f2);
    }));
  }, i2.prototype._showSeriesItemTooltip = function(t6, i3, n2) {
    var r2 = this._ecModel, e2 = hf(i3), o2 = e2.seriesIndex, a2 = r2.getSeriesByIndex(o2), s2 = e2.dataModel || a2, l2 = e2.dataIndex, u2 = e2.dataType, f2 = s2.getData(u2), c2 = this._renderMode, h2 = t6.positionDefault, v2 = FP([f2.getItemModel(l2), s2, a2 && (a2.coordinateSystem || {}).model], this._tooltipModel, h2 ? { position: h2 } : null), d2 = v2.get("trigger");
    if (null == d2 || "item" === d2) {
      var p2 = s2.getDataParams(l2, u2), m2 = new lb();
      p2.marker = m2.makeTooltipMarker("item", xd(p2.color), c2);
      var b2 = vm(s2.formatTooltip(l2, false, u2)), g3 = v2.get("order"), y2 = v2.get("valueFormatter"), w3 = b2.frag, x2 = w3 ? rb(y2 ? bn({ valueFormatter: y2 }, w3) : w3, m2, c2, g3, r2.get("useUTC"), v2.get("textStyle")) : b2.text, k2 = "item_" + s2.name + "_" + l2;
      this._showOrMove(v2, (function() {
        this._showTooltipContent(v2, x2, p2, k2, t6.offsetX, t6.offsetY, t6.position, t6.target, m2);
      })), n2({ type: "showTip", dataIndexInside: l2, dataIndex: f2.getRawIndex(l2), seriesIndex: o2, from: this.uid });
    }
  }, i2.prototype._showComponentItemTooltip = function(t6, i3, n2) {
    var r2 = "html" === this._renderMode, e2 = hf(i3), o2 = e2.tooltipConfig.option || {}, a2 = o2.encodeHTMLContent;
    In(o2) && (o2 = { content: o2, formatter: o2 }, a2 = true), a2 && r2 && o2.content && ((o2 = dn(o2)).content = Er(o2.content));
    var s2 = [o2], l2 = this._ecModel.getComponent(e2.componentMainType, e2.componentIndex);
    l2 && s2.push(l2), s2.push({ formatter: o2.content });
    var u2 = t6.positionDefault, f2 = FP(s2, this._tooltipModel, u2 ? { position: u2 } : null), c2 = f2.get("content"), h2 = Math.random() + "", v2 = new lb();
    this._showOrMove(f2, (function() {
      var n3 = dn(f2.get("formatterParams") || {});
      this._showTooltipContent(f2, c2, n3, h2, t6.offsetX, t6.offsetY, t6.position, i3, v2);
    })), n2({ type: "showTip", from: this.uid });
  }, i2.prototype._showTooltipContent = function(t6, i3, n2, r2, e2, o2, a2, s2, l2) {
    if (this._ticket = "", t6.get("showContent") && t6.get("show")) {
      var u2 = this._tooltipContent;
      u2.setEnterable(t6.get("enterable"));
      var f2 = t6.get("formatter");
      a2 = a2 || t6.get("position");
      var c2 = i3, h2 = this._getNearestPoint([e2, o2], n2, t6.get("trigger"), t6.get("borderColor")).color;
      if (f2) if (In(f2)) {
        var v2 = t6.ecModel.get("useUTC"), d2 = _n(n2) ? n2[0] : n2;
        c2 = f2, d2 && d2.axisType && d2.axisType.indexOf("time") >= 0 && (c2 = Jv(d2.axisValue, c2, v2)), c2 = wd(c2, n2, true);
      } else if (Tn(f2)) {
        var p2 = An((function(i4, r3) {
          i4 === this._ticket && (u2.setContent(r3, l2, t6, h2, a2), this._updatePosition(t6, a2, e2, o2, u2, n2, s2));
        }), this);
        this._ticket = r2, c2 = f2(n2, r2, p2);
      } else c2 = f2;
      u2.setContent(c2, l2, t6, h2, a2), u2.show(t6, h2), this._updatePosition(t6, a2, e2, o2, u2, n2, s2);
    }
  }, i2.prototype._getNearestPoint = function(t6, i3, n2, r2) {
    return "axis" === n2 || _n(i3) ? { color: r2 || ("html" === this._renderMode ? "#fff" : "none") } : _n(i3) ? void 0 : { color: r2 || i3.color || i3.borderColor };
  }, i2.prototype._updatePosition = function(t6, i3, n2, r2, e2, o2, a2) {
    var s2 = this._api.getWidth(), l2 = this._api.getHeight();
    i3 = i3 || t6.get("position");
    var u2 = e2.getSize(), f2 = t6.get("align"), c2 = t6.get("verticalAlign"), h2 = a2 && a2.getBoundingRect().clone();
    if (a2 && h2.applyTransform(a2.transform), Tn(i3) && (i3 = i3([n2, r2], o2, e2.el, h2, { viewSize: [s2, l2], contentSize: u2.slice() })), _n(i3)) n2 = us(i3[0], s2), r2 = us(i3[1], l2);
    else if (Wn(i3)) {
      var v2 = i3;
      v2.width = u2[0], v2.height = u2[1];
      var d2 = Nd(v2, { width: s2, height: l2 });
      n2 = d2.x, r2 = d2.y, f2 = null, c2 = null;
    } else if (In(i3) && a2) {
      var p2 = (function(t7, i4, n3, r3) {
        var e3 = n3[0], o3 = n3[1], a3 = Math.ceil(Math.SQRT2 * r3) + 8, s3 = 0, l3 = 0, u3 = i4.width, f3 = i4.height;
        switch (t7) {
          case "inside":
            s3 = i4.x + u3 / 2 - e3 / 2, l3 = i4.y + f3 / 2 - o3 / 2;
            break;
          case "top":
            s3 = i4.x + u3 / 2 - e3 / 2, l3 = i4.y - o3 - a3;
            break;
          case "bottom":
            s3 = i4.x + u3 / 2 - e3 / 2, l3 = i4.y + f3 + a3;
            break;
          case "left":
            s3 = i4.x - e3 - a3, l3 = i4.y + f3 / 2 - o3 / 2;
            break;
          case "right":
            s3 = i4.x + u3 + a3, l3 = i4.y + f3 / 2 - o3 / 2;
        }
        return [s3, l3];
      })(i3, h2, u2, t6.get("borderWidth"));
      n2 = p2[0], r2 = p2[1];
    } else p2 = (function(t7, i4, n3, r3, e3, o3, a3) {
      var s3 = n3.getSize(), l3 = s3[0], u3 = s3[1];
      return null != o3 && (t7 + l3 + o3 + 2 > r3 ? t7 -= l3 + o3 : t7 += o3), null != a3 && (i4 + u3 + a3 > e3 ? i4 -= u3 + a3 : i4 += a3), [t7, i4];
    })(n2, r2, e2, s2, l2, f2 ? null : 20, c2 ? null : 20), n2 = p2[0], r2 = p2[1];
    f2 && (n2 -= PP(f2) ? u2[0] / 2 : "right" === f2 ? u2[0] : 0), c2 && (r2 -= PP(c2) ? u2[1] / 2 : "bottom" === c2 ? u2[1] : 0), xP(t6) && (p2 = (function(t7, i4, n3, r3, e3) {
      var o3 = n3.getSize(), a3 = o3[0], s3 = o3[1];
      return t7 = Math.min(t7 + a3, r3) - a3, i4 = Math.min(i4 + s3, e3) - s3, [t7 = Math.max(t7, 0), i4 = Math.max(i4, 0)];
    })(n2, r2, e2, s2, l2), n2 = p2[0], r2 = p2[1]), e2.moveTo(n2, r2);
  }, i2.prototype._updateContentNotChangedOnAxis = function(t6, i3) {
    var n2 = this._lastDataByCoordSys, r2 = this._cbParamsList, e2 = !!n2 && n2.length === t6.length;
    return e2 && kn(n2, (function(n3, o2) {
      var a2 = n3.dataByAxis || [], s2 = (t6[o2] || {}).dataByAxis || [];
      (e2 = e2 && a2.length === s2.length) && kn(a2, (function(t7, n4) {
        var o3 = s2[n4] || {}, a3 = t7.seriesDataIndices || [], l2 = o3.seriesDataIndices || [];
        (e2 = e2 && t7.value === o3.value && t7.axisType === o3.axisType && t7.axisId === o3.axisId && a3.length === l2.length) && kn(a3, (function(t8, i4) {
          var n5 = l2[i4];
          e2 = e2 && t8.seriesIndex === n5.seriesIndex && t8.dataIndex === n5.dataIndex;
        })), r2 && kn(t7.seriesDataIndices, (function(t8) {
          var n5 = t8.seriesIndex, o4 = i3[n5], a4 = r2[n5];
          o4 && a4 && a4.data !== o4.data && (e2 = false);
        }));
      }));
    })), this._lastDataByCoordSys = t6, this._cbParamsList = i3, !!e2;
  }, i2.prototype._hide = function(t6) {
    this._lastDataByCoordSys = null, t6({ type: "hideTip", from: this.uid });
  }, i2.prototype.dispose = function(t6, i3) {
    !Ui.node && i3.getDom() && (Ob(this, "_updatePosition"), this._tooltipContent.dispose(), $O("itemTooltip", i3));
  }, i2.type = "tooltip", i2;
})(xb);
function FP(t5, i2, n2) {
  var r2, e2 = i2.ecModel;
  n2 ? (r2 = new _v(n2, e2, e2), r2 = new _v(i2.option, r2, e2)) : r2 = i2;
  for (var o2 = t5.length - 1; o2 >= 0; o2--) {
    var a2 = t5[o2];
    a2 && (a2 instanceof _v && (a2 = a2.get("tooltip", true)), In(a2) && (a2 = { formatter: a2 }), a2 && (r2 = new _v(a2, r2, e2)));
  }
  return r2;
}
function RP(t5, i2) {
  return t5.dispatchAction || An(i2.dispatchAction, i2);
}
function PP(t5) {
  return "center" === t5 || "middle" === t5;
}
var BP = ["rect", "polygon", "keep", "clear"];
function VP(t5, i2) {
  var n2 = Ds(t5 ? t5.brush : []);
  if (n2.length) {
    var r2 = [];
    kn(n2, (function(t6) {
      var i3 = t6.hasOwnProperty("toolbox") ? t6.toolbox : [];
      i3 instanceof Array && (r2 = r2.concat(i3));
    }));
    var e2 = t5 && t5.toolbox;
    _n(e2) && (e2 = e2[0]), e2 || (t5.toolbox = [e2 = { feature: {} }]);
    var o2 = e2.feature || (e2.feature = {}), a2 = o2.brush || (o2.brush = {}), s2 = a2.type || (a2.type = []);
    s2.push.apply(s2, r2), (function(t6) {
      var i3 = {};
      kn(t6, (function(t7) {
        i3[t7] = 1;
      })), t6.length = 0, kn(i3, (function(i4, n3) {
        t6.push(n3);
      }));
    })(s2), i2 && !s2.length && s2.push.apply(s2, BP);
  }
}
var jP = kn;
function HP(t5) {
  if (t5) {
    for (var i2 in t5) if (t5.hasOwnProperty(i2)) return true;
  }
}
function YP(t5, i2, n2) {
  var r2 = {};
  return jP(i2, (function(i3) {
    var e2, o2 = r2[i3] = ((e2 = function() {
    }).prototype.__hidden = e2.prototype, new e2());
    jP(t5[i3], (function(t6, r3) {
      if (Y_.isValidType(r3)) {
        var e3 = { type: r3, visual: t6 };
        n2 && n2(e3, i3), o2[r3] = new Y_(e3), "opacity" === r3 && ((e3 = dn(e3)).type = "colorAlpha", o2.__hidden.__alphaForOpacity = new Y_(e3));
      }
    }));
  })), r2;
}
function XP(t5, i2, n2) {
  var r2;
  kn(n2, (function(t6) {
    i2.hasOwnProperty(t6) && HP(i2[t6]) && (r2 = true);
  })), r2 && kn(n2, (function(n3) {
    i2.hasOwnProperty(n3) && HP(i2[n3]) ? t5[n3] = dn(i2[n3]) : delete t5[n3];
  }));
}
var UP = { lineX: $P(0), lineY: $P(1), rect: { point: function(t5, i2, n2) {
  return t5 && n2.boundingRect.contain(t5[0], t5[1]);
}, rect: function(t5, i2, n2) {
  return t5 && n2.boundingRect.intersect(t5);
} }, polygon: { point: function(t5, i2, n2) {
  return t5 && n2.boundingRect.contain(t5[0], t5[1]) && fk(n2.range, t5[0], t5[1]);
}, rect: function(t5, i2, n2) {
  var r2 = n2.range;
  if (!t5 || r2.length <= 1) return false;
  var e2 = t5.x, o2 = t5.y, a2 = t5.width, s2 = t5.height, l2 = r2[0];
  return !!(fk(r2, e2, o2) || fk(r2, e2 + a2, o2) || fk(r2, e2, o2 + s2) || fk(r2, e2 + a2, o2 + s2) || ce.create(t5).contain(l2[0], l2[1]) || Zh(e2, o2, e2 + a2, o2, r2) || Zh(e2, o2, e2, o2 + s2, r2) || Zh(e2 + a2, o2, e2 + a2, o2 + s2, r2) || Zh(e2, o2 + s2, e2 + a2, o2 + s2, r2)) || void 0;
} } };
function $P(t5) {
  var i2 = ["x", "y"], n2 = ["width", "height"];
  return { point: function(i3, n3, r2) {
    if (i3) return GP(i3[t5], r2.range);
  }, rect: function(r2, e2, o2) {
    if (r2) {
      var a2 = o2.range, s2 = [r2[i2[t5]], r2[i2[t5]] + r2[n2[t5]]];
      return s2[1] < s2[0] && s2.reverse(), GP(s2[0], a2) || GP(s2[1], a2) || GP(a2[0], s2) || GP(a2[1], s2);
    }
  } };
}
function GP(t5, i2) {
  return i2[0] <= t5 && t5 <= i2[1];
}
var ZP = ["inBrush", "outOfBrush"], qP = "__ecBrushSelect", JP = "__ecInBrushSelectEvent";
function KP(t5) {
  t5.eachComponent({ mainType: "brush" }, (function(i2) {
    (i2.brushTargetManager = new rP(i2.option, t5)).setInputRanges(i2.areas, t5);
  }));
}
function QP(t5, i2, n2) {
  var r2, e2, o2 = [];
  t5.eachComponent({ mainType: "brush" }, (function(t6) {
    n2 && "takeGlobalCursor" === n2.type && t6.setBrushOption("brush" === n2.key ? n2.brushOption : { brushType: false });
  })), KP(t5), t5.eachComponent({ mainType: "brush" }, (function(i3, n3) {
    var a2 = { brushId: i3.id, brushIndex: n3, brushName: i3.name, areas: dn(i3.areas), selected: [] };
    o2.push(a2);
    var s2 = i3.option, l2 = s2.brushLink, u2 = [], f2 = [], c2 = [], h2 = false;
    n3 || (r2 = s2.throttleType, e2 = s2.throttleDelay);
    var v2 = Mn(i3.areas, (function(t6) {
      var i4 = nB[t6.brushType], n4 = gn({ boundingRect: i4 ? i4(t6) : void 0 }, t6);
      return n4.selectors = (function(t7) {
        var i5 = t7.brushType, n5 = { point: function(r3) {
          return UP[i5].point(r3, n5, t7);
        }, rect: function(r3) {
          return UP[i5].rect(r3, n5, t7);
        } };
        return n5;
      })(n4), n4;
    })), d2 = YP(i3.option, ZP, (function(t6) {
      t6.mappingMethod = "fixed";
    }));
    function p2(t6) {
      return "all" === l2 || !!u2[t6];
    }
    function m2(t6) {
      return !!t6.length;
    }
    _n(l2) && kn(l2, (function(t6) {
      u2[t6] = 1;
    })), t5.eachSeries((function(n4, r3) {
      var e3 = c2[r3] = [];
      "parallel" === n4.subType ? (function(t6, i4) {
        var n5 = t6.coordinateSystem;
        h2 = h2 || n5.hasAxisBrushed(), p2(i4) && n5.eachActiveState(t6.getData(), (function(t7, i5) {
          "active" === t7 && (f2[i5] = 1);
        }));
      })(n4, r3) : (function(n5, r4, e4) {
        if (n5.brushSelector && !(function(t6, i4) {
          var n6 = t6.option.seriesIndex;
          return null != n6 && "all" !== n6 && (_n(n6) ? yn(n6, i4) < 0 : i4 !== n6);
        })(i3, r4) && (kn(v2, (function(r5) {
          i3.brushTargetManager.controlSeries(r5, n5, t5) && e4.push(r5), h2 = h2 || m2(e4);
        })), p2(r4) && m2(e4))) {
          var o3 = n5.getData();
          o3.each((function(t6) {
            iB(n5, e4, o3, t6) && (f2[t6] = 1);
          }));
        }
      })(n4, r3, e3);
    })), t5.eachSeries((function(t6, i4) {
      var n4 = { seriesId: t6.id, seriesIndex: i4, seriesName: t6.name, dataIndex: [] };
      a2.selected.push(n4);
      var r3 = c2[i4], e3 = t6.getData(), o3 = p2(i4) ? function(t7) {
        return f2[t7] ? (n4.dataIndex.push(e3.getRawIndex(t7)), "inBrush") : "outOfBrush";
      } : function(i5) {
        return iB(t6, r3, e3, i5) ? (n4.dataIndex.push(e3.getRawIndex(i5)), "inBrush") : "outOfBrush";
      };
      (p2(i4) ? h2 : m2(r3)) && (function(t7, i5, n5, r4) {
        var e4, o4 = {};
        function a3(t8) {
          return wg(n5, e4, t8);
        }
        function s3(t8, i6) {
          kg(n5, e4, t8, i6);
        }
        kn(ZP, (function(t8) {
          var n6 = Y_.prepareVisualTypes(i5[t8]);
          o4[t8] = n6;
        })), n5.each((function(t8) {
          var l3 = n5.getRawDataItem(e4 = t8);
          if (!l3 || false !== l3.visualMap) for (var u3 = r4.call(void 0, t8), f3 = i5[u3], c3 = o4[u3], h3 = 0, v3 = c3.length; h3 < v3; h3++) {
            var d3 = c3[h3];
            f3[d3] && f3[d3].applyVisual(t8, a3, s3);
          }
        }));
      })(0, d2, e3, o3);
    }));
  })), (function(t6, i3, n3, r3, e3) {
    if (e3) {
      var o3 = t6.getZr();
      if (!o3[JP]) o3[qP] || (o3[qP] = tB), Eb(o3, qP, n3, i3)(t6, r3);
    }
  })(i2, r2, e2, o2, n2);
}
function tB(t5, i2) {
  if (!t5.isDisposed()) {
    var n2 = t5.getZr();
    n2[JP] = true, t5.dispatchAction({ type: "brushSelect", batch: i2 }), n2[JP] = false;
  }
}
function iB(t5, i2, n2, r2) {
  for (var e2 = 0, o2 = i2.length; e2 < o2; e2++) {
    var a2 = i2[e2];
    if (t5.brushSelector(r2, n2, a2.selectors, a2)) return true;
  }
}
var nB = { rect: function(t5) {
  return rB(t5.range);
}, polygon: function(t5) {
  for (var i2, n2 = t5.range, r2 = 0, e2 = n2.length; r2 < e2; r2++) {
    var o2 = n2[r2];
    o2[0] < (i2 = i2 || [[1 / 0, -1 / 0], [1 / 0, -1 / 0]])[0][0] && (i2[0][0] = o2[0]), o2[0] > i2[0][1] && (i2[0][1] = o2[0]), o2[1] < i2[1][0] && (i2[1][0] = o2[1]), o2[1] > i2[1][1] && (i2[1][1] = o2[1]);
  }
  return i2 && rB(i2);
} };
function rB(t5) {
  return new ce(t5[0][0], t5[1][0], t5[0][1] - t5[0][0], t5[1][1] - t5[1][0]);
}
var eB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3) {
    this.ecModel = t6, this.api = i3, (this._brushController = new ML(i3.getZr())).on("brush", An(this._onBrush, this)).mount();
  }, i2.prototype.render = function(t6, i3, n2, r2) {
    this.model = t6, this._updateController(t6, i3, n2, r2);
  }, i2.prototype.updateTransform = function(t6, i3, n2, r2) {
    KP(i3), this._updateController(t6, i3, n2, r2);
  }, i2.prototype.updateVisual = function(t6, i3, n2, r2) {
    this.updateTransform(t6, i3, n2, r2);
  }, i2.prototype.updateView = function(t6, i3, n2, r2) {
    this._updateController(t6, i3, n2, r2);
  }, i2.prototype._updateController = function(t6, i3, n2, r2) {
    (!r2 || r2.$from !== t6.id) && this._brushController.setPanels(t6.brushTargetManager.makePanelOpts(n2)).enableBrush(t6.brushOption).updateCovers(t6.areas.slice());
  }, i2.prototype.dispose = function() {
    this._brushController.dispose();
  }, i2.prototype._onBrush = function(t6) {
    var i3 = this.model.id, n2 = this.model.brushTargetManager.setOutputRanges(t6.areas, this.ecModel);
    (!t6.isEnd || t6.removeOnClick) && this.api.dispatchAction({ type: "brush", brushId: i3, areas: dn(n2), $from: i3 }), t6.isEnd && this.api.dispatchAction({ type: "brushEnd", brushId: i3, areas: dn(n2), $from: i3 });
  }, i2.type = "brush", i2;
})(xb), oB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.areas = [], n2.brushOption = {}, n2;
  }
  return Yi(i2, t5), i2.prototype.optionUpdated = function(t6, i3) {
    var n2 = this.option;
    !i3 && XP(n2, t6, ["inBrush", "outOfBrush"]);
    var r2 = n2.inBrush = n2.inBrush || {};
    n2.outOfBrush = n2.outOfBrush || { color: "#ddd" }, r2.hasOwnProperty("liftZ") || (r2.liftZ = 5);
  }, i2.prototype.setAreas = function(t6) {
    t6 && (this.areas = Mn(t6, (function(t7) {
      return aB(this.option, t7);
    }), this));
  }, i2.prototype.setBrushOption = function(t6) {
    this.brushOption = aB(this.option, t6), this.brushType = this.brushOption.brushType;
  }, i2.type = "brush", i2.dependencies = ["geo", "grid", "xAxis", "yAxis", "parallel", "series"], i2.defaultOption = { seriesIndex: "all", brushType: "rect", brushMode: "single", transformable: true, brushStyle: { borderWidth: 1, color: "rgba(210,219,238,0.3)", borderColor: "#D2DBEE" }, throttleType: "fixRate", throttleDelay: 0, removeOnClick: true, z: 1e4 }, i2;
})(Ed);
function aB(t5, i2) {
  return pn({ brushType: t5.brushType, brushMode: t5.brushMode, transformable: t5.transformable, brushStyle: new _v(t5.brushStyle).getItemStyle(), removeOnClick: t5.removeOnClick, z: t5.z }, i2, true);
}
var sB = ["rect", "polygon", "lineX", "lineY", "keep", "clear"], lB = (function(t5) {
  function i2() {
    return null !== t5 && t5.apply(this, arguments) || this;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3) {
    var n2, r2, e2;
    i3.eachComponent({ mainType: "brush" }, (function(t7) {
      n2 = t7.brushType, r2 = t7.brushOption.brushMode || "single", e2 = e2 || !!t7.areas.length;
    })), this._brushType = n2, this._brushMode = r2, kn(t6.get("type", true), (function(i4) {
      t6.setIconStatus(i4, ("keep" === i4 ? "multiple" === r2 : "clear" === i4 ? e2 : i4 === n2) ? "emphasis" : "normal");
    }));
  }, i2.prototype.updateView = function(t6, i3, n2) {
    this.render(t6, i3, n2);
  }, i2.prototype.getIcons = function() {
    var t6 = this.model, i3 = t6.get("icon", true), n2 = {};
    return kn(t6.get("type", true), (function(t7) {
      i3[t7] && (n2[t7] = i3[t7]);
    })), n2;
  }, i2.prototype.onclick = function(t6, i3, n2) {
    var r2 = this._brushType, e2 = this._brushMode;
    "clear" === n2 ? (i3.dispatchAction({ type: "axisAreaSelect", intervals: [] }), i3.dispatchAction({ type: "brush", command: "clear", areas: [] })) : i3.dispatchAction({ type: "takeGlobalCursor", key: "brush", brushOption: { brushType: "keep" === n2 ? r2 : r2 !== n2 && n2, brushMode: "keep" === n2 ? "multiple" === e2 ? "single" : "multiple" : e2 } });
  }, i2.getDefaultOption = function(t6) {
    return { show: true, type: sB.slice(), icon: { rect: "M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13", polygon: "M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2", lineX: "M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4", lineY: "M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4", keep: "M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z", clear: "M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2" }, title: t6.getLocaleModel().get(["toolbox", "brush", "title"]) };
  }, i2;
})(WR), uB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.layoutMode = { type: "box", ignoreSize: true }, n2;
  }
  return Yi(i2, t5), i2.type = "title", i2.defaultOption = { z: 6, show: true, text: "", target: "blank", subtext: "", subtarget: "blank", left: 0, top: 0, backgroundColor: "rgba(0,0,0,0)", borderColor: "#ccc", borderWidth: 0, padding: 5, itemGap: 10, textStyle: { fontSize: 18, fontWeight: "bold", color: "#464646" }, subtextStyle: { fontSize: 12, color: "#6E7079" } }, i2;
})(Ed), fB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.render = function(t6, i3, n2) {
    if (this.group.removeAll(), t6.get("show")) {
      var r2 = this.group, e2 = t6.getModel("textStyle"), o2 = t6.getModel("subtextStyle"), a2 = t6.get("textAlign"), s2 = Vn(t6.get("textBaseline"), t6.get("textVerticalAlign")), l2 = new Ku({ style: sv(e2, { text: t6.get("text"), fill: e2.getTextColor() }, { disableBox: true }), z2: 10 }), u2 = l2.getBoundingRect(), f2 = t6.get("subtext"), c2 = new Ku({ style: sv(o2, { text: f2, fill: o2.getTextColor(), y: u2.height + t6.get("itemGap"), verticalAlign: "top" }, { disableBox: true }), z2: 10 }), h2 = t6.get("link"), v2 = t6.get("sublink"), d2 = t6.get("triggerEvent", true);
      l2.silent = !h2 && !d2, c2.silent = !v2 && !d2, h2 && l2.on("click", (function() {
        kd(h2, "_" + t6.get("target"));
      })), v2 && c2.on("click", (function() {
        kd(v2, "_" + t6.get("subtarget"));
      })), hf(l2).eventData = hf(c2).eventData = d2 ? { componentType: "title", componentIndex: t6.componentIndex } : null, r2.add(l2), f2 && r2.add(c2);
      var p2 = r2.getBoundingRect(), m2 = t6.getBoxLayoutParams();
      m2.width = p2.width, m2.height = p2.height;
      var b2 = Nd(m2, { width: n2.getWidth(), height: n2.getHeight() }, t6.get("padding"));
      a2 || ("middle" === (a2 = t6.get("left") || t6.get("right")) && (a2 = "center"), "right" === a2 ? b2.x += b2.width : "center" === a2 && (b2.x += b2.width / 2)), s2 || ("center" === (s2 = t6.get("top") || t6.get("bottom")) && (s2 = "middle"), "bottom" === s2 ? b2.y += b2.height : "middle" === s2 && (b2.y += b2.height / 2), s2 = s2 || "top"), r2.x = b2.x, r2.y = b2.y, r2.markRedraw();
      var g3 = { align: a2, verticalAlign: s2 };
      l2.setStyle(g3), c2.setStyle(g3), p2 = r2.getBoundingRect();
      var y2 = b2.margin, w3 = t6.getItemStyle(["color", "opacity"]);
      w3.fill = t6.get("backgroundColor");
      var x2 = new Zu({ shape: { x: p2.x - y2[3], y: p2.y - y2[0], width: p2.width + y2[1] + y2[3], height: p2.height + y2[0] + y2[2], r: t6.get("borderRadius") }, style: w3, subPixelOptimize: true, silent: true });
      r2.add(x2);
    }
  }, i2.type = "title", i2;
})(xb), cB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.layoutMode = "box", n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3, n2) {
    this.mergeDefaultAndTheme(t6, n2), this._initData();
  }, i2.prototype.mergeOption = function(i3) {
    t5.prototype.mergeOption.apply(this, arguments), this._initData();
  }, i2.prototype.setCurrentIndex = function(t6) {
    null == t6 && (t6 = this.option.currentIndex);
    var i3 = this._data.count();
    this.option.loop ? t6 = (t6 % i3 + i3) % i3 : (t6 >= i3 && (t6 = i3 - 1), t6 < 0 && (t6 = 0)), this.option.currentIndex = t6;
  }, i2.prototype.getCurrentIndex = function() {
    return this.option.currentIndex;
  }, i2.prototype.isIndexMax = function() {
    return this.getCurrentIndex() >= this._data.count() - 1;
  }, i2.prototype.setPlayState = function(t6) {
    this.option.autoPlay = !!t6;
  }, i2.prototype.getPlayState = function() {
    return !!this.option.autoPlay;
  }, i2.prototype._initData = function() {
    var t6, i3 = this.option, n2 = i3.data || [], r2 = i3.axisType, e2 = this._names = [];
    "category" === r2 ? (t6 = [], kn(n2, (function(i4, n3) {
      var r3, o2 = Vs(Os(i4), "");
      Wn(i4) ? (r3 = dn(i4)).value = n3 : r3 = n3, t6.push(r3), e2.push(o2);
    }))) : t6 = n2, (this._data = new $w([{ name: "value", type: { category: "ordinal", time: "time", value: "number" }[r2] || "number" }], this)).initData(t6, e2);
  }, i2.prototype.getData = function() {
    return this._data;
  }, i2.prototype.getCategories = function() {
    if ("category" === this.get("axisType")) return this._names.slice();
  }, i2.type = "timeline", i2.defaultOption = { z: 4, show: true, axisType: "time", realtime: true, left: "20%", top: null, right: "20%", bottom: 0, width: null, height: 40, padding: 5, controlPosition: "left", autoPlay: false, rewind: false, loop: true, playInterval: 2e3, currentIndex: 0, itemStyle: {}, label: { color: "#000" }, data: [] }, i2;
})(Ed), hB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "timeline.slider", i2.defaultOption = Lv(cB.defaultOption, { backgroundColor: "rgba(0,0,0,0)", borderColor: "#ccc", borderWidth: 0, orient: "horizontal", inverse: false, tooltip: { trigger: "item" }, symbol: "circle", symbolSize: 12, lineStyle: { show: true, width: 2, color: "#DAE1F5" }, label: { position: "auto", show: true, interval: "auto", rotate: 0, color: "#A4B1D7" }, itemStyle: { color: "#A4B1D7", borderWidth: 1 }, checkpointStyle: { symbol: "circle", symbolSize: 15, color: "#316bf3", borderColor: "#fff", borderWidth: 2, shadowBlur: 2, shadowOffsetX: 1, shadowOffsetY: 1, shadowColor: "rgba(0, 0, 0, 0.3)", animation: true, animationDuration: 300, animationEasing: "quinticInOut" }, controlStyle: { show: true, showPlayBtn: true, showPrevBtn: true, showNextBtn: true, itemSize: 24, itemGap: 12, position: "left", playIcon: "path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z", stopIcon: "path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z", nextIcon: "M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z", prevIcon: "M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z", prevBtnSize: 18, nextBtnSize: 18, color: "#A4B1D7", borderColor: "#A4B1D7", borderWidth: 1 }, emphasis: { label: { show: true, color: "#6f778d" }, itemStyle: { color: "#316BF3" }, controlStyle: { color: "#316BF3", borderColor: "#316BF3", borderWidth: 2 } }, progress: { lineStyle: { color: "#316BF3" }, itemStyle: { color: "#316BF3" }, label: { color: "#6f778d" } }, data: [] }), i2;
})(cB);
wn(hB, hm.prototype);
var vB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "timeline", i2;
})(xb), dB = (function(t5) {
  function i2(i3, n2, r2, e2) {
    var o2 = t5.call(this, i3, n2, r2) || this;
    return o2.type = e2 || "value", o2;
  }
  return Yi(i2, t5), i2.prototype.getLabelModel = function() {
    return this.model.getModel("label");
  }, i2.prototype.isHorizontal = function() {
    return "horizontal" === this.model.get("orient");
  }, i2;
})(Tk), pB = Math.PI, mB = Xs(), bB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3) {
    this.api = i3;
  }, i2.prototype.render = function(t6, i3, n2) {
    if (this.model = t6, this.api = n2, this.ecModel = i3, this.group.removeAll(), t6.get("show", true)) {
      var r2 = this._layout(t6, n2), e2 = this._createGroup("_mainGroup"), o2 = this._createGroup("_labelGroup"), a2 = this._axis = this._createAxis(r2, t6);
      t6.formatTooltip = function(t7) {
        return Jm("nameValue", { noName: true, value: a2.scale.getLabel({ value: t7 }) });
      }, kn(["AxisLine", "AxisTick", "Control", "CurrentPointer"], (function(i4) {
        this["_render" + i4](r2, e2, a2, t6);
      }), this), this._renderAxisLabel(r2, o2, a2, t6), this._position(r2, t6);
    }
    this._doPlayStop(), this._updateTicksStatus();
  }, i2.prototype.remove = function() {
    this._clearTimer(), this.group.removeAll();
  }, i2.prototype.dispose = function() {
    this._clearTimer();
  }, i2.prototype._layout = function(t6, i3) {
    var n2, r2, e2, o2, a2 = t6.get(["label", "position"]), s2 = t6.get("orient"), l2 = (function(t7, i4) {
      return Nd(t7.getBoxLayoutParams(), { width: i4.getWidth(), height: i4.getHeight() }, t7.get("padding"));
    })(t6, i3), u2 = { horizontal: "center", vertical: (n2 = null == a2 || "auto" === a2 ? "horizontal" === s2 ? l2.y + l2.height / 2 < i3.getHeight() / 2 ? "-" : "+" : l2.x + l2.width / 2 < i3.getWidth() / 2 ? "+" : "-" : In(a2) ? { horizontal: { top: "-", bottom: "+" }, vertical: { left: "-", right: "+" } }[s2][a2] : a2) >= 0 || "+" === n2 ? "left" : "right" }, f2 = { horizontal: n2 >= 0 || "+" === n2 ? "top" : "bottom", vertical: "middle" }, c2 = { horizontal: 0, vertical: pB / 2 }, h2 = "vertical" === s2 ? l2.height : l2.width, v2 = t6.getModel("controlStyle"), d2 = v2.get("show", true), p2 = d2 ? v2.get("itemSize") : 0, m2 = d2 ? v2.get("itemGap") : 0, b2 = p2 + m2, g3 = t6.get(["label", "rotate"]) || 0;
    g3 = g3 * pB / 180;
    var y2 = v2.get("position", true), w3 = d2 && v2.get("showPlayBtn", true), x2 = d2 && v2.get("showPrevBtn", true), k2 = d2 && v2.get("showNextBtn", true), M2 = 0, z2 = h2;
    "left" === y2 || "bottom" === y2 ? (w3 && (r2 = [0, 0], M2 += b2), x2 && (e2 = [M2, 0], M2 += b2), k2 && (o2 = [z2 - p2, 0], z2 -= b2)) : (w3 && (r2 = [z2 - p2, 0], z2 -= b2), x2 && (e2 = [0, 0], M2 += b2), k2 && (o2 = [z2 - p2, 0], z2 -= b2));
    var S3 = [M2, z2];
    return t6.get("inverse") && S3.reverse(), { viewRect: l2, mainLength: h2, orient: s2, rotation: c2[s2], labelRotation: g3, labelPosOpt: n2, labelAlign: t6.get(["label", "align"]) || u2[s2], labelBaseline: t6.get(["label", "verticalAlign"]) || t6.get(["label", "baseline"]) || f2[s2], playPosition: r2, prevBtnPosition: e2, nextBtnPosition: o2, axisExtent: S3, controlSize: p2, controlGap: m2 };
  }, i2.prototype._position = function(t6) {
    var i3 = this._mainGroup, n2 = this._labelGroup, r2 = t6.viewRect;
    if ("vertical" === t6.orient) {
      var e2 = [1, 0, 0, 1, 0, 0], o2 = r2.x, a2 = r2.y + r2.height;
      Kr(e2, e2, [-o2, -a2]), Qr(e2, e2, -pB / 2), Kr(e2, e2, [o2, a2]), (r2 = r2.clone()).applyTransform(e2);
    }
    var s2 = p2(r2), l2 = p2(i3.getBoundingRect()), u2 = p2(n2.getBoundingRect()), f2 = [i3.x, i3.y], c2 = [n2.x, n2.y];
    c2[0] = f2[0] = s2[0][0];
    var h2, v2 = t6.labelPosOpt;
    function d2(t7) {
      t7.originX = s2[0][0] - t7.x, t7.originY = s2[1][0] - t7.y;
    }
    function p2(t7) {
      return [[t7.x, t7.x + t7.width], [t7.y, t7.y + t7.height]];
    }
    function m2(t7, i4, n3, r3, e3) {
      t7[r3] += n3[r3][e3] - i4[r3][e3];
    }
    null == v2 || In(v2) ? (m2(f2, l2, s2, 1, h2 = "+" === v2 ? 0 : 1), m2(c2, u2, s2, 1, 1 - h2)) : (m2(f2, l2, s2, 1, h2 = v2 >= 0 ? 0 : 1), c2[1] = f2[1] + v2), i3.setPosition(f2), n2.setPosition(c2), i3.rotation = n2.rotation = t6.rotation, d2(i3), d2(n2);
  }, i2.prototype._createAxis = function(t6, i3) {
    var n2 = i3.getData(), r2 = i3.get("axisType"), e2 = (function(t7, i4) {
      if (i4 = i4 || t7.get("type")) switch (i4) {
        case "category":
          return new vx({ ordinalMeta: t7.getCategories(), extent: [1 / 0, -1 / 0] });
        case "time":
          return new Tx({ locale: t7.ecModel.getLocaleModel(), useUTC: t7.ecModel.get("useUTC") });
        default:
          return new px();
      }
    })(i3, r2);
    e2.getTicks = function() {
      return n2.mapArray(["value"], (function(t7) {
        return { value: t7 };
      }));
    };
    var o2 = n2.getDataExtent("value");
    e2.setExtent(o2[0], o2[1]), e2.calcNiceTicks();
    var a2 = new dB("value", e2, t6.axisExtent, r2);
    return a2.model = i3, a2;
  }, i2.prototype._createGroup = function(t6) {
    var i3 = this[t6] = new rs();
    return this.group.add(i3), i3;
  }, i2.prototype._renderAxisLine = function(t6, i3, n2, r2) {
    var e2 = n2.getExtent();
    if (r2.get(["lineStyle", "show"])) {
      var o2 = new nh({ shape: { x1: e2[0], y1: 0, x2: e2[1], y2: 0 }, style: bn({ lineCap: "round" }, r2.getModel("lineStyle").getLineStyle()), silent: true, z2: 1 });
      i3.add(o2);
      var a2 = this._progressLine = new nh({ shape: { x1: e2[0], x2: this._currentPointer ? this._currentPointer.x : e2[0], y1: 0, y2: 0 }, style: gn({ lineCap: "round", lineWidth: o2.style.lineWidth }, r2.getModel(["progress", "lineStyle"]).getLineStyle()), silent: true, z2: 1 });
      i3.add(a2);
    }
  }, i2.prototype._renderAxisTick = function(t6, i3, n2, r2) {
    var e2 = this, o2 = r2.getData(), a2 = n2.scale.getTicks();
    this._tickSymbols = [], kn(a2, (function(t7) {
      var a3 = n2.dataToCoord(t7.value), s2 = o2.getItemModel(t7.value), l2 = s2.getModel("itemStyle"), u2 = s2.getModel(["emphasis", "itemStyle"]), f2 = s2.getModel(["progress", "itemStyle"]), c2 = { x: a3, y: 0, onclick: An(e2._changeTimeline, e2, t7.value) }, h2 = gB(s2, l2, i3, c2);
      h2.ensureState("emphasis").style = u2.getItemStyle(), h2.ensureState("progress").style = f2.getItemStyle(), Qf(h2);
      var v2 = hf(h2);
      s2.get("tooltip") ? (v2.dataIndex = t7.value, v2.dataModel = r2) : v2.dataIndex = v2.dataModel = null, e2._tickSymbols.push(h2);
    }));
  }, i2.prototype._renderAxisLabel = function(t6, i3, n2, r2) {
    var e2 = this;
    if (n2.getLabelModel().get("show")) {
      var o2 = r2.getData(), a2 = n2.getViewLabels();
      this._tickLabels = [], kn(a2, (function(r3) {
        var a3 = r3.tickValue, s2 = o2.getItemModel(a3), l2 = s2.getModel("label"), u2 = s2.getModel(["emphasis", "label"]), f2 = s2.getModel(["progress", "label"]), c2 = n2.dataToCoord(r3.tickValue), h2 = new Ku({ x: c2, y: 0, rotation: t6.labelRotation - t6.rotation, onclick: An(e2._changeTimeline, e2, a3), silent: false, style: sv(l2, { text: r3.formattedLabel, align: t6.labelAlign, verticalAlign: t6.labelBaseline }) });
        h2.ensureState("emphasis").style = sv(u2), h2.ensureState("progress").style = sv(f2), i3.add(h2), Qf(h2), mB(h2).dataIndex = a3, e2._tickLabels.push(h2);
      }));
    }
  }, i2.prototype._renderControl = function(t6, i3, n2, r2) {
    var e2 = t6.controlSize, o2 = t6.rotation, a2 = r2.getModel("controlStyle").getItemStyle(), s2 = r2.getModel(["emphasis", "controlStyle"]).getItemStyle(), l2 = r2.getPlayState(), u2 = r2.get("inverse", true);
    function f2(t7, n3, l3, u3) {
      if (t7) {
        var f3 = Xa(Vn(r2.get(["controlStyle", n3 + "BtnSize"]), e2), e2), c2 = (function(t8, i4, n4, r3) {
          var e3 = r3.style, o3 = Gh(t8.get(["controlStyle", i4]), r3 || {}, new ce(n4[0], n4[1], n4[2], n4[3]));
          return e3 && o3.setStyle(e3), o3;
        })(r2, n3 + "Icon", [0, -f3 / 2, f3, f3], { x: t7[0], y: t7[1], originX: e2 / 2, originY: 0, rotation: u3 ? -o2 : 0, rectHover: true, style: a2, onclick: l3 });
        c2.ensureState("emphasis").style = s2, i3.add(c2), Qf(c2);
      }
    }
    f2(t6.nextBtnPosition, "next", An(this._changeTimeline, this, u2 ? "-" : "+")), f2(t6.prevBtnPosition, "prev", An(this._changeTimeline, this, u2 ? "+" : "-")), f2(t6.playPosition, l2 ? "stop" : "play", An(this._handlePlayClick, this, !l2), true);
  }, i2.prototype._renderCurrentPointer = function(t6, i3, n2, r2) {
    var e2 = r2.getData(), o2 = r2.getCurrentIndex(), a2 = e2.getItemModel(o2).getModel("checkpointStyle"), s2 = this;
    this._currentPointer = gB(a2, a2, this._mainGroup, {}, this._currentPointer, { onCreate: function(t7) {
      t7.draggable = true, t7.drift = An(s2._handlePointerDrag, s2), t7.ondragend = An(s2._handlePointerDragend, s2), yB(t7, s2._progressLine, o2, n2, r2, true);
    }, onUpdate: function(t7) {
      yB(t7, s2._progressLine, o2, n2, r2);
    } });
  }, i2.prototype._handlePlayClick = function(t6) {
    this._clearTimer(), this.api.dispatchAction({ type: "timelinePlayChange", playState: t6, from: this.uid });
  }, i2.prototype._handlePointerDrag = function(t6, i3, n2) {
    this._clearTimer(), this._pointerChangeTimeline([n2.offsetX, n2.offsetY]);
  }, i2.prototype._handlePointerDragend = function(t6) {
    this._pointerChangeTimeline([t6.offsetX, t6.offsetY], true);
  }, i2.prototype._pointerChangeTimeline = function(t6, i3) {
    var n2 = this._toAxisCoord(t6)[0], r2 = cs(this._axis.getExtent().slice());
    n2 > r2[1] && (n2 = r2[1]), n2 < r2[0] && (n2 = r2[0]), this._currentPointer.x = n2, this._currentPointer.markRedraw();
    var e2 = this._progressLine;
    e2 && (e2.shape.x2 = n2, e2.dirty());
    var o2 = this._findNearestTick(n2), a2 = this.model;
    (i3 || o2 !== a2.getCurrentIndex() && a2.get("realtime")) && this._changeTimeline(o2);
  }, i2.prototype._doPlayStop = function() {
    var t6 = this;
    this._clearTimer(), this.model.getPlayState() && (this._timer = setTimeout((function() {
      var i3 = t6.model;
      t6._changeTimeline(i3.getCurrentIndex() + (i3.get("rewind", true) ? -1 : 1));
    }), this.model.get("playInterval")));
  }, i2.prototype._toAxisCoord = function(t6) {
    return Hh(t6, this._mainGroup.getLocalTransform(), true);
  }, i2.prototype._findNearestTick = function(t6) {
    var i3, n2 = this.model.getData(), r2 = 1 / 0, e2 = this._axis;
    return n2.each(["value"], (function(n3, o2) {
      var a2 = e2.dataToCoord(n3), s2 = Math.abs(a2 - t6);
      s2 < r2 && (r2 = s2, i3 = o2);
    })), i3;
  }, i2.prototype._clearTimer = function() {
    this._timer && (clearTimeout(this._timer), this._timer = null);
  }, i2.prototype._changeTimeline = function(t6) {
    var i3 = this.model.getCurrentIndex();
    "+" === t6 ? t6 = i3 + 1 : "-" === t6 && (t6 = i3 - 1), this.api.dispatchAction({ type: "timelineChange", currentIndex: t6, from: this.uid });
  }, i2.prototype._updateTicksStatus = function() {
    var t6 = this.model.getCurrentIndex(), i3 = this._tickSymbols, n2 = this._tickLabels;
    if (i3) for (var r2 = 0; r2 < i3.length; r2++) i3 && i3[r2] && i3[r2].toggleState("progress", r2 < t6);
    if (n2) for (r2 = 0; r2 < n2.length; r2++) n2 && n2[r2] && n2[r2].toggleState("progress", mB(n2[r2]).dataIndex <= t6);
  }, i2.type = "timeline.slider", i2;
})(vB);
function gB(t5, i2, n2, r2, e2, o2) {
  var a2 = i2.get("color");
  e2 ? (e2.setColor(a2), n2.add(e2), o2 && o2.onUpdate(e2)) : ((e2 = Fg(t5.get("symbol"), -1, -1, 2, 2, a2)).setStyle("strokeNoScale", true), n2.add(e2), o2 && o2.onCreate(e2));
  var s2 = i2.getItemStyle(["color"]);
  e2.setStyle(s2), r2 = pn({ rectHover: true, z2: 100 }, r2, true);
  var l2 = Rg(t5.get("symbolSize"));
  r2.scaleX = l2[0] / 2, r2.scaleY = l2[1] / 2;
  var u2 = Pg(t5.get("symbolOffset"), l2);
  u2 && (r2.x = (r2.x || 0) + u2[0], r2.y = (r2.y || 0) + u2[1]);
  var f2 = t5.get("symbolRotate");
  return r2.rotation = (f2 || 0) * Math.PI / 180 || 0, e2.attr(r2), e2.updateTransform(), e2;
}
function yB(t5, i2, n2, r2, e2, o2) {
  if (!t5.dragging) {
    var a2 = e2.getModel("checkpointStyle"), s2 = r2.dataToCoord(e2.getData().get("value", n2));
    if (o2 || !a2.get("animation", true)) t5.attr({ x: s2, y: 0 }), i2 && i2.attr({ shape: { x2: s2 } });
    else {
      var l2 = { duration: a2.get("animationDuration", true), easing: a2.get("animationEasing", true) };
      t5.stopAnimation(null, true), t5.animateTo({ x: s2, y: 0 }, l2), i2 && i2.animateTo({ shape: { x2: s2 } }, l2);
    }
  }
}
function wB(t5) {
  var i2 = t5 && t5.timeline;
  _n(i2) || (i2 = i2 ? [i2] : []), kn(i2, (function(t6) {
    t6 && (function(t7) {
      var i3 = t7.type, n2 = { number: "value", time: "time" };
      if (n2[i3] && (t7.axisType = n2[i3], delete t7.type), xB(t7), kB(t7, "controlPosition")) {
        var r2 = t7.controlStyle || (t7.controlStyle = {});
        kB(r2, "position") || (r2.position = t7.controlPosition), "none" !== r2.position || kB(r2, "show") || (r2.show = false, delete r2.position), delete t7.controlPosition;
      }
      kn(t7.data || [], (function(t8) {
        Wn(t8) && !_n(t8) && (!kB(t8, "value") && kB(t8, "name") && (t8.value = t8.name), xB(t8));
      }));
    })(t6);
  }));
}
function xB(t5) {
  var i2 = t5.itemStyle || (t5.itemStyle = {}), n2 = i2.emphasis || (i2.emphasis = {}), r2 = t5.label || t5.label || {}, e2 = r2.normal || (r2.normal = {}), o2 = { normal: 1, emphasis: 1 };
  kn(r2, (function(t6, i3) {
    o2[i3] || kB(e2, i3) || (e2[i3] = t6);
  })), n2.label && !kB(r2, "emphasis") && (r2.emphasis = n2.label, delete n2.label);
}
function kB(t5, i2) {
  return t5.hasOwnProperty(i2);
}
function MB(t5, i2) {
  if (!t5) return false;
  for (var n2 = _n(t5) ? t5 : [t5], r2 = 0; r2 < n2.length; r2++) if (n2[r2] && n2[r2][i2]) return true;
  return false;
}
function zB(t5) {
  Ws(t5, "label", ["show"]);
}
var SB = Xs(), CB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.createdBySelf = false, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3, n2) {
    this.mergeDefaultAndTheme(t6, n2), this._mergeOption(t6, n2, false, true);
  }, i2.prototype.isAnimationEnabled = function() {
    if (Ui.node) return false;
    var t6 = this.__hostSeries;
    return this.getShallow("animation") && t6 && t6.isAnimationEnabled();
  }, i2.prototype.mergeOption = function(t6, i3) {
    this._mergeOption(t6, i3, false, false);
  }, i2.prototype._mergeOption = function(t6, i3, n2, r2) {
    var e2 = this.mainType;
    n2 || i3.eachSeries((function(t7) {
      var n3 = t7.get(this.mainType, true), o2 = SB(t7)[e2];
      n3 && n3.data ? (o2 ? o2._mergeOption(n3, i3, true) : (r2 && zB(n3), kn(n3.data, (function(t8) {
        t8 instanceof Array ? (zB(t8[0]), zB(t8[1])) : zB(t8);
      })), bn(o2 = this.createMarkerModelFromSeries(n3, this, i3), { mainType: this.mainType, seriesIndex: t7.seriesIndex, name: t7.name, createdBySelf: true }), o2.__hostSeries = t7), SB(t7)[e2] = o2) : SB(t7)[e2] = null;
    }), this);
  }, i2.prototype.formatTooltip = function(t6) {
    var i3 = this.getData(), n2 = this.getRawValue(t6), r2 = i3.getName(t6);
    return Jm("section", { header: this.name, blocks: [Jm("nameValue", { name: r2, value: n2, noName: !r2, noValue: null == n2 })] });
  }, i2.prototype.getData = function() {
    return this._data;
  }, i2.prototype.setData = function(t6) {
    this._data = t6;
  }, i2.prototype.getDataParams = function(t6, i3) {
    var n2 = hm.prototype.getDataParams.call(this, t6, i3), r2 = this.__hostSeries;
    return r2 && (n2.seriesId = r2.id, n2.seriesName = r2.name, n2.seriesType = r2.subType), n2;
  }, i2.getMarkerModelFromSeries = function(t6, i3) {
    return SB(t6)[i3];
  }, i2.type = "marker", i2.dependencies = ["series", "grid", "polar", "geo"], i2;
})(Ed);
wn(CB, hm.prototype);
var AB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.createMarkerModelFromSeries = function(t6, n2, r2) {
    return new i2(t6, n2, r2);
  }, i2.type = "markPoint", i2.defaultOption = { z: 5, symbol: "pin", symbolSize: 50, tooltip: { trigger: "item" }, label: { show: true, position: "inside" }, itemStyle: { borderWidth: 2 }, emphasis: { label: { show: true } } }, i2;
})(CB);
function NB(t5) {
  return !(isNaN(parseFloat(t5.x)) && isNaN(parseFloat(t5.y)));
}
function _B(t5, i2, n2, r2, e2, o2) {
  var a2 = [], s2 = Qw(i2, r2) ? i2.getCalculationInfo("stackResultDimension") : r2, l2 = EB(i2, s2, t5), u2 = i2.indicesOfNearest(s2, l2)[0];
  a2[e2] = i2.get(n2, u2), a2[o2] = i2.get(s2, u2);
  var f2 = i2.get(r2, u2), c2 = hs(i2.get(r2, u2));
  return (c2 = Math.min(c2, 20)) >= 0 && (a2[o2] = +a2[o2].toFixed(c2)), [a2, f2];
}
var TB = { min: Nn(_B, "min"), max: Nn(_B, "max"), average: Nn(_B, "average"), median: Nn(_B, "median") };
function IB(t5, i2) {
  if (i2) {
    var n2 = t5.getData(), r2 = t5.coordinateSystem, e2 = r2 && r2.dimensions;
    if (!(function(t6) {
      return !isNaN(parseFloat(t6.x)) && !isNaN(parseFloat(t6.y));
    })(i2) && !_n(i2.coord) && _n(e2)) {
      var o2 = LB(i2, n2, r2, t5);
      if ((i2 = dn(i2)).type && TB[i2.type] && o2.baseAxis && o2.valueAxis) {
        var a2 = yn(e2, o2.baseAxis.dim), s2 = yn(e2, o2.valueAxis.dim), l2 = TB[i2.type](n2, o2.baseDataDim, o2.valueDataDim, a2, s2);
        i2.coord = l2[0], i2.value = l2[1];
      } else i2.coord = [null != i2.xAxis ? i2.xAxis : i2.radiusAxis, null != i2.yAxis ? i2.yAxis : i2.angleAxis];
    }
    if (null != i2.coord && _n(e2)) for (var u2 = i2.coord, f2 = 0; f2 < 2; f2++) TB[u2[f2]] && (u2[f2] = EB(n2, n2.mapDimension(e2[f2]), u2[f2]));
    else i2.coord = [];
    return i2;
  }
}
function LB(t5, i2, n2, r2) {
  var e2 = {};
  return null != t5.valueIndex || null != t5.valueDim ? (e2.valueDataDim = null != t5.valueIndex ? i2.getDimension(t5.valueIndex) : t5.valueDim, e2.valueAxis = n2.getAxis((function(t6, i3) {
    var n3 = t6.getData().getDimensionInfo(i3);
    return n3 && n3.coordDim;
  })(r2, e2.valueDataDim)), e2.baseAxis = n2.getOtherAxis(e2.valueAxis), e2.baseDataDim = i2.mapDimension(e2.baseAxis.dim)) : (e2.baseAxis = r2.getBaseAxis(), e2.valueAxis = n2.getOtherAxis(e2.baseAxis), e2.baseDataDim = i2.mapDimension(e2.baseAxis.dim), e2.valueDataDim = i2.mapDimension(e2.valueAxis.dim)), e2;
}
function DB(t5, i2) {
  return !(t5 && t5.containData && i2.coord && !NB(i2)) || t5.containData(i2.coord);
}
function WB(t5, i2) {
  return t5 ? function(t6, n2, r2, e2) {
    return bm(e2 < 2 ? t6.coord && t6.coord[e2] : t6.value, i2[e2]);
  } : function(t6, n2, r2, e2) {
    return bm(t6.value, i2[e2]);
  };
}
function EB(t5, i2, n2) {
  if ("average" === n2) {
    var r2 = 0, e2 = 0;
    return t5.each(i2, (function(t6) {
      isNaN(t6) || (r2 += t6, e2++);
    })), r2 / e2;
  }
  return "median" === n2 ? t5.getMedian(i2) : t5.getDataExtent(i2)["max" === n2 ? 1 : 0];
}
var OB = Xs(), FB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function() {
    this.markerGroupMap = Qn();
  }, i2.prototype.render = function(t6, i3, n2) {
    var r2 = this, e2 = this.markerGroupMap;
    e2.each((function(t7) {
      OB(t7).keep = false;
    })), i3.eachSeries((function(t7) {
      var e3 = CB.getMarkerModelFromSeries(t7, r2.type);
      e3 && r2.renderSeries(t7, e3, i3, n2);
    })), e2.each((function(t7) {
      !OB(t7).keep && r2.group.remove(t7.group);
    }));
  }, i2.prototype.markKeep = function(t6) {
    OB(t6).keep = true;
  }, i2.prototype.toggleBlurSeries = function(t6, i3) {
    var n2 = this;
    kn(t6, (function(t7) {
      var r2 = CB.getMarkerModelFromSeries(t7, n2.type);
      r2 && r2.getData().eachItemGraphicEl((function(t8) {
        t8 && (i3 ? jf(t8) : Hf(t8));
      }));
    }));
  }, i2.type = "marker", i2;
})(xb);
function RB(t5, i2, n2) {
  var r2 = i2.coordinateSystem;
  t5.each((function(e2) {
    var o2, a2 = t5.getItemModel(e2), s2 = us(a2.get("x"), n2.getWidth()), l2 = us(a2.get("y"), n2.getHeight());
    if (isNaN(s2) || isNaN(l2)) {
      if (i2.getMarkerPosition) o2 = i2.getMarkerPosition(t5.getValues(t5.dimensions, e2));
      else if (r2) {
        var u2 = t5.get(r2.dimensions[0], e2), f2 = t5.get(r2.dimensions[1], e2);
        o2 = r2.dataToPoint([u2, f2]);
      }
    } else o2 = [s2, l2];
    isNaN(s2) || (o2[0] = s2), isNaN(l2) || (o2[1] = l2), t5.setItemLayout(e2, o2);
  }));
}
var PB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.updateTransform = function(t6, i3, n2) {
    i3.eachSeries((function(t7) {
      var i4 = CB.getMarkerModelFromSeries(t7, "markPoint");
      i4 && (RB(i4.getData(), t7, n2), this.markerGroupMap.get(t7.id).updateLayout());
    }), this);
  }, i2.prototype.renderSeries = function(t6, i3, n2, r2) {
    var e2 = t6.coordinateSystem, o2 = t6.id, a2 = t6.getData(), s2 = this.markerGroupMap, l2 = s2.get(o2) || s2.set(o2, new Vz()), u2 = (function(t7, i4, n3) {
      var r3;
      r3 = t7 ? Mn(t7 && t7.dimensions, (function(t8) {
        return bn(bn({}, i4.getData().getDimensionInfo(i4.getData().mapDimension(t8)) || {}), { name: t8, ordinalMeta: null });
      })) : [{ name: "value", type: "float" }];
      var e3 = new $w(r3, n3), o3 = Mn(n3.get("data"), Nn(IB, i4));
      t7 && (o3 = Sn(o3, Nn(DB, t7)));
      var a3 = WB(!!t7, r3);
      return e3.initData(o3, null, a3), e3;
    })(e2, t6, i3);
    i3.setData(u2), RB(i3.getData(), t6, r2), u2.each((function(t7) {
      var n3 = u2.getItemModel(t7), r3 = n3.getShallow("symbol"), e3 = n3.getShallow("symbolSize"), o3 = n3.getShallow("symbolRotate"), s3 = n3.getShallow("symbolOffset"), l3 = n3.getShallow("symbolKeepAspect");
      if (Tn(r3) || Tn(e3) || Tn(o3) || Tn(s3)) {
        var f2 = i3.getRawValue(t7), c2 = i3.getDataParams(t7);
        Tn(r3) && (r3 = r3(f2, c2)), Tn(e3) && (e3 = e3(f2, c2)), Tn(o3) && (o3 = o3(f2, c2)), Tn(s3) && (s3 = s3(f2, c2));
      }
      var h2 = n3.getModel("itemStyle").getItemStyle(), v2 = xg(a2, "color");
      h2.fill || (h2.fill = v2), u2.setItemVisual(t7, { symbol: r3, symbolSize: e3, symbolRotate: o3, symbolOffset: s3, symbolKeepAspect: l3, style: h2 });
    })), l2.updateData(u2), this.group.add(l2.group), u2.eachItemGraphicEl((function(t7) {
      t7.traverse((function(t8) {
        hf(t8).dataModel = i3;
      }));
    })), this.markKeep(l2), l2.group.silent = i3.get("silent") || t6.get("silent");
  }, i2.type = "markPoint", i2;
})(FB), BB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.createMarkerModelFromSeries = function(t6, n2, r2) {
    return new i2(t6, n2, r2);
  }, i2.type = "markLine", i2.defaultOption = { z: 5, symbol: ["circle", "arrow"], symbolSize: [8, 16], symbolOffset: 0, precision: 2, tooltip: { trigger: "item" }, label: { show: true, position: "end", distance: 5 }, lineStyle: { type: "dashed" }, emphasis: { label: { show: true }, lineStyle: { width: 3 } }, animationEasing: "linear" }, i2;
})(CB), VB = Xs(), jB = function(t5, i2, n2, r2) {
  var e2, o2 = t5.getData();
  if (_n(r2)) e2 = r2;
  else {
    var a2 = r2.type;
    if ("min" === a2 || "max" === a2 || "average" === a2 || "median" === a2 || null != r2.xAxis || null != r2.yAxis) {
      var s2 = void 0, l2 = void 0;
      if (null != r2.yAxis || null != r2.xAxis) s2 = i2.getAxis(null != r2.yAxis ? "y" : "x"), l2 = Bn(r2.yAxis, r2.xAxis);
      else {
        var u2 = LB(r2, o2, i2, t5);
        s2 = u2.valueAxis, l2 = EB(o2, tx(o2, u2.valueDataDim), a2);
      }
      var f2 = "x" === s2.dim ? 0 : 1, c2 = 1 - f2, h2 = dn(r2), v2 = { coord: [] };
      h2.type = null, h2.coord = [], h2.coord[c2] = -1 / 0, v2.coord[c2] = 1 / 0;
      var d2 = n2.get("precision");
      d2 >= 0 && Dn(l2) && (l2 = +l2.toFixed(Math.min(d2, 20))), h2.coord[f2] = v2.coord[f2] = l2, e2 = [h2, v2, { type: a2, valueIndex: r2.valueIndex, value: l2 }];
    } else e2 = [];
  }
  var p2 = [IB(t5, e2[0]), IB(t5, e2[1]), bn({}, e2[2])];
  return p2[2].type = p2[2].type || null, pn(p2[2], p2[0]), pn(p2[2], p2[1]), p2;
};
function HB(t5) {
  return !isNaN(t5) && !isFinite(t5);
}
function YB(t5, i2, n2, r2) {
  var e2 = 1 - t5, o2 = r2.dimensions[t5];
  return HB(i2[e2]) && HB(n2[e2]) && i2[t5] === n2[t5] && r2.getAxis(o2).containData(i2[t5]);
}
function XB(t5, i2) {
  if ("cartesian2d" === t5.type) {
    var n2 = i2[0].coord, r2 = i2[1].coord;
    if (n2 && r2 && (YB(1, n2, r2, t5) || YB(0, n2, r2, t5))) return true;
  }
  return DB(t5, i2[0]) && DB(t5, i2[1]);
}
function UB(t5, i2, n2, r2, e2) {
  var o2, a2 = r2.coordinateSystem, s2 = t5.getItemModel(i2), l2 = us(s2.get("x"), e2.getWidth()), u2 = us(s2.get("y"), e2.getHeight());
  if (isNaN(l2) || isNaN(u2)) {
    if (r2.getMarkerPosition) o2 = r2.getMarkerPosition(t5.getValues(t5.dimensions, i2));
    else {
      var f2 = t5.get((h2 = a2.dimensions)[0], i2), c2 = t5.get(h2[1], i2);
      o2 = a2.dataToPoint([f2, c2]);
    }
    if (iS(a2, "cartesian2d")) {
      var h2, v2 = a2.getAxis("x"), d2 = a2.getAxis("y");
      HB(t5.get((h2 = a2.dimensions)[0], i2)) ? o2[0] = v2.toGlobalCoord(v2.getExtent()[n2 ? 0 : 1]) : HB(t5.get(h2[1], i2)) && (o2[1] = d2.toGlobalCoord(d2.getExtent()[n2 ? 0 : 1]));
    }
    isNaN(l2) || (o2[0] = l2), isNaN(u2) || (o2[1] = u2);
  } else o2 = [l2, u2];
  t5.setItemLayout(i2, o2);
}
var $B = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.updateTransform = function(t6, i3, n2) {
    i3.eachSeries((function(t7) {
      var i4 = CB.getMarkerModelFromSeries(t7, "markLine");
      if (i4) {
        var r2 = i4.getData(), e2 = VB(i4).from, o2 = VB(i4).to;
        e2.each((function(i5) {
          UB(e2, i5, true, t7, n2), UB(o2, i5, false, t7, n2);
        })), r2.each((function(t8) {
          r2.setItemLayout(t8, [e2.getItemLayout(t8), o2.getItemLayout(t8)]);
        })), this.markerGroupMap.get(t7.id).updateLayout();
      }
    }), this);
  }, i2.prototype.renderSeries = function(t6, i3, n2, r2) {
    var e2 = t6.coordinateSystem, o2 = t6.id, a2 = t6.getData(), s2 = this.markerGroupMap, l2 = s2.get(o2) || s2.set(o2, new oI());
    this.group.add(l2.group);
    var u2 = (function(t7, i4, n3) {
      var r3;
      r3 = t7 ? Mn(t7 && t7.dimensions, (function(t8) {
        return bn(bn({}, i4.getData().getDimensionInfo(i4.getData().mapDimension(t8)) || {}), { name: t8, ordinalMeta: null });
      })) : [{ name: "value", type: "float" }];
      var e3 = new $w(r3, n3), o3 = new $w(r3, n3), a3 = new $w([], n3), s3 = Mn(n3.get("data"), Nn(jB, i4, t7, n3));
      t7 && (s3 = Sn(s3, Nn(XB, t7)));
      var l3 = WB(!!t7, r3);
      return e3.initData(Mn(s3, (function(t8) {
        return t8[0];
      })), null, l3), o3.initData(Mn(s3, (function(t8) {
        return t8[1];
      })), null, l3), a3.initData(Mn(s3, (function(t8) {
        return t8[2];
      }))), a3.hasItemOption = true, { from: e3, to: o3, line: a3 };
    })(e2, t6, i3), f2 = u2.from, c2 = u2.to, h2 = u2.line;
    VB(i3).from = f2, VB(i3).to = c2, i3.setData(h2);
    var v2 = i3.get("symbol"), d2 = i3.get("symbolSize"), p2 = i3.get("symbolRotate"), m2 = i3.get("symbolOffset");
    function b2(i4, n3, e3) {
      var o3 = i4.getItemModel(n3);
      UB(i4, n3, e3, t6, r2);
      var s3 = o3.getModel("itemStyle").getItemStyle();
      null == s3.fill && (s3.fill = xg(a2, "color")), i4.setItemVisual(n3, { symbolKeepAspect: o3.get("symbolKeepAspect"), symbolOffset: Vn(o3.get("symbolOffset", true), m2[e3 ? 0 : 1]), symbolRotate: Vn(o3.get("symbolRotate", true), p2[e3 ? 0 : 1]), symbolSize: Vn(o3.get("symbolSize"), d2[e3 ? 0 : 1]), symbol: Vn(o3.get("symbol", true), v2[e3 ? 0 : 1]), style: s3 });
    }
    _n(v2) || (v2 = [v2, v2]), _n(d2) || (d2 = [d2, d2]), _n(p2) || (p2 = [p2, p2]), _n(m2) || (m2 = [m2, m2]), u2.from.each((function(t7) {
      b2(f2, t7, true), b2(c2, t7, false);
    })), h2.each((function(t7) {
      var i4 = h2.getItemModel(t7).getModel("lineStyle").getLineStyle();
      h2.setItemLayout(t7, [f2.getItemLayout(t7), c2.getItemLayout(t7)]), null == i4.stroke && (i4.stroke = f2.getItemVisual(t7, "style").fill), h2.setItemVisual(t7, { fromSymbolKeepAspect: f2.getItemVisual(t7, "symbolKeepAspect"), fromSymbolOffset: f2.getItemVisual(t7, "symbolOffset"), fromSymbolRotate: f2.getItemVisual(t7, "symbolRotate"), fromSymbolSize: f2.getItemVisual(t7, "symbolSize"), fromSymbol: f2.getItemVisual(t7, "symbol"), toSymbolKeepAspect: c2.getItemVisual(t7, "symbolKeepAspect"), toSymbolOffset: c2.getItemVisual(t7, "symbolOffset"), toSymbolRotate: c2.getItemVisual(t7, "symbolRotate"), toSymbolSize: c2.getItemVisual(t7, "symbolSize"), toSymbol: c2.getItemVisual(t7, "symbol"), style: i4 });
    })), l2.updateData(h2), u2.line.eachItemGraphicEl((function(t7) {
      hf(t7).dataModel = i3, t7.traverse((function(t8) {
        hf(t8).dataModel = i3;
      }));
    })), this.markKeep(l2), l2.group.silent = i3.get("silent") || t6.get("silent");
  }, i2.type = "markLine", i2;
})(FB), GB = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.createMarkerModelFromSeries = function(t6, n2, r2) {
    return new i2(t6, n2, r2);
  }, i2.type = "markArea", i2.defaultOption = { z: 1, tooltip: { trigger: "item" }, animation: false, label: { show: true, position: "top" }, itemStyle: { borderWidth: 0 }, emphasis: { label: { show: true, position: "top" } } }, i2;
})(CB), ZB = Xs(), qB = function(t5, i2, n2, r2) {
  var e2 = r2[0], o2 = r2[1];
  if (e2 && o2) {
    var a2 = IB(t5, e2), s2 = IB(t5, o2), l2 = a2.coord, u2 = s2.coord;
    l2[0] = Bn(l2[0], -1 / 0), l2[1] = Bn(l2[1], -1 / 0), u2[0] = Bn(u2[0], 1 / 0), u2[1] = Bn(u2[1], 1 / 0);
    var f2 = mn([{}, a2, s2]);
    return f2.coord = [a2.coord, s2.coord], f2.x0 = a2.x, f2.y0 = a2.y, f2.x1 = s2.x, f2.y1 = s2.y, f2;
  }
};
function JB(t5) {
  return !isNaN(t5) && !isFinite(t5);
}
function KB(t5, i2, n2) {
  var r2 = 1 - t5;
  return JB(i2[r2]) && JB(n2[r2]);
}
function QB(t5, i2) {
  var n2 = i2.coord[0], r2 = i2.coord[1], e2 = { coord: n2, x: i2.x0, y: i2.y0 }, o2 = { coord: r2, x: i2.x1, y: i2.y1 };
  return iS(t5, "cartesian2d") ? !(!n2 || !r2 || !KB(1, n2, r2) && !KB(0, n2, r2)) || (function(t6, i3, n3) {
    return !(t6 && t6.containZone && i3.coord && n3.coord && !NB(i3) && !NB(n3)) || t6.containZone(i3.coord, n3.coord);
  })(t5, e2, o2) : DB(t5, e2) || DB(t5, o2);
}
function tV(t5, i2, n2, r2, e2) {
  var o2, a2 = r2.coordinateSystem, s2 = t5.getItemModel(i2), l2 = us(s2.get(n2[0]), e2.getWidth()), u2 = us(s2.get(n2[1]), e2.getHeight());
  if (isNaN(l2) || isNaN(u2)) {
    if (r2.getMarkerPosition) {
      var f2 = t5.getValues(["x0", "y0"], i2), c2 = t5.getValues(["x1", "y1"], i2), h2 = a2.clampData(f2), v2 = a2.clampData(c2), d2 = [];
      d2[0] = "x0" === n2[0] ? h2[0] > v2[0] ? c2[0] : f2[0] : h2[0] > v2[0] ? f2[0] : c2[0], d2[1] = "y0" === n2[1] ? h2[1] > v2[1] ? c2[1] : f2[1] : h2[1] > v2[1] ? f2[1] : c2[1], o2 = r2.getMarkerPosition(d2, n2, true);
    } else {
      var p2 = [g3 = t5.get(n2[0], i2), y2 = t5.get(n2[1], i2)];
      a2.clampData && a2.clampData(p2, p2), o2 = a2.dataToPoint(p2, true);
    }
    if (iS(a2, "cartesian2d")) {
      var m2 = a2.getAxis("x"), b2 = a2.getAxis("y"), g3 = t5.get(n2[0], i2), y2 = t5.get(n2[1], i2);
      JB(g3) ? o2[0] = m2.toGlobalCoord(m2.getExtent()["x0" === n2[0] ? 0 : 1]) : JB(y2) && (o2[1] = b2.toGlobalCoord(b2.getExtent()["y0" === n2[1] ? 0 : 1]));
    }
    isNaN(l2) || (o2[0] = l2), isNaN(u2) || (o2[1] = u2);
  } else o2 = [l2, u2];
  return o2;
}
var iV = [["x0", "y0"], ["x1", "y0"], ["x1", "y1"], ["x0", "y1"]], nV = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.updateTransform = function(t6, i3, n2) {
    i3.eachSeries((function(t7) {
      var i4 = CB.getMarkerModelFromSeries(t7, "markArea");
      if (i4) {
        var r2 = i4.getData();
        r2.each((function(i5) {
          var e2 = Mn(iV, (function(e3) {
            return tV(r2, i5, e3, t7, n2);
          }));
          r2.setItemLayout(i5, e2), r2.getItemGraphicEl(i5).setShape("points", e2);
        }));
      }
    }), this);
  }, i2.prototype.renderSeries = function(t6, i3, n2, r2) {
    var e2 = t6.coordinateSystem, o2 = t6.id, a2 = t6.getData(), s2 = this.markerGroupMap, l2 = s2.get(o2) || s2.set(o2, { group: new rs() });
    this.group.add(l2.group), this.markKeep(l2);
    var u2 = (function(t7, i4, n3) {
      var r3, e3;
      if (t7) {
        var o3 = Mn(t7 && t7.dimensions, (function(t8) {
          var n4 = i4.getData();
          return bn(bn({}, n4.getDimensionInfo(n4.mapDimension(t8)) || {}), { name: t8, ordinalMeta: null });
        }));
        e3 = Mn(["x0", "y0", "x1", "y1"], (function(t8, i5) {
          return { name: t8, type: o3[i5 % 2].type };
        })), r3 = new $w(e3, n3);
      } else r3 = new $w(e3 = [{ name: "value", type: "float" }], n3);
      var a3 = Mn(n3.get("data"), Nn(qB, i4, t7, n3));
      return t7 && (a3 = Sn(a3, Nn(QB, t7))), r3.initData(a3, null, t7 ? function(t8, i5, n4, r4) {
        return bm(t8.coord[Math.floor(r4 / 2)][r4 % 2], e3[r4]);
      } : function(t8, i5, n4, r4) {
        return bm(t8.value, e3[r4]);
      }), r3.hasItemOption = true, r3;
    })(e2, t6, i3);
    i3.setData(u2), u2.each((function(i4) {
      var n3 = Mn(iV, (function(n4) {
        return tV(u2, i4, n4, t6, r2);
      })), o3 = e2.getAxis("x").scale, s3 = e2.getAxis("y").scale, l3 = o3.getExtent(), f2 = s3.getExtent(), c2 = [o3.parse(u2.get("x0", i4)), o3.parse(u2.get("x1", i4))], h2 = [s3.parse(u2.get("y0", i4)), s3.parse(u2.get("y1", i4))];
      cs(c2), cs(h2), u2.setItemLayout(i4, { points: n3, allClipped: !!(l3[0] > c2[1] || l3[1] < c2[0] || f2[0] > h2[1] || f2[1] < h2[0]) });
      var v2 = u2.getItemModel(i4).getModel("itemStyle").getItemStyle(), d2 = xg(a2, "color");
      v2.fill || (v2.fill = d2, In(v2.fill) && (v2.fill = Co(v2.fill, 0.4))), v2.stroke || (v2.stroke = d2), u2.setItemVisual(i4, "style", v2);
    })), u2.diff(ZB(l2).data).add((function(t7) {
      var i4 = u2.getItemLayout(t7);
      if (!i4.allClipped) {
        var n3 = new Jc({ shape: { points: i4.points } });
        u2.setItemGraphicEl(t7, n3), l2.group.add(n3);
      }
    })).update((function(t7, n3) {
      var r3 = ZB(l2).data.getItemGraphicEl(n3), e3 = u2.getItemLayout(t7);
      e3.allClipped ? r3 && l2.group.remove(r3) : (r3 ? Mh(r3, { shape: { points: e3.points } }, i3, t7) : r3 = new Jc({ shape: { points: e3.points } }), u2.setItemGraphicEl(t7, r3), l2.group.add(r3));
    })).remove((function(t7) {
      var i4 = ZB(l2).data.getItemGraphicEl(t7);
      l2.group.remove(i4);
    })).execute(), u2.eachItemGraphicEl((function(t7, n3) {
      var r3 = u2.getItemModel(n3), e3 = u2.getItemVisual(n3, "style");
      t7.useStyle(u2.getItemVisual(n3, "style")), ov(t7, av(r3), { labelFetcher: i3, labelDataIndex: n3, defaultText: u2.getName(n3) || "", inheritColor: In(e3.fill) ? Co(e3.fill, 1) : "#000" }), ec(t7, r3), tc(t7, null, null, r3.get(["emphasis", "disabled"])), hf(t7).dataModel = i3;
    })), ZB(l2).data = u2, l2.group.silent = i3.get("silent") || t6.get("silent");
  }, i2.type = "markArea", i2;
})(FB), rV = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.layoutMode = { type: "box", ignoreSize: true }, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3, n2) {
    this.mergeDefaultAndTheme(t6, n2), t6.selected = t6.selected || {}, this._updateSelector(t6);
  }, i2.prototype.mergeOption = function(i3, n2) {
    t5.prototype.mergeOption.call(this, i3, n2), this._updateSelector(i3);
  }, i2.prototype._updateSelector = function(t6) {
    var i3 = t6.selector, n2 = this.ecModel;
    true === i3 && (i3 = t6.selector = ["all", "inverse"]), _n(i3) && kn(i3, (function(t7, r2) {
      In(t7) && (t7 = { type: t7 }), i3[r2] = pn(t7, (function(t8, i4) {
        return "all" === i4 ? { type: "all", title: t8.getLocaleModel().get(["legend", "selector", "all"]) } : "inverse" === i4 ? { type: "inverse", title: t8.getLocaleModel().get(["legend", "selector", "inverse"]) } : void 0;
      })(n2, t7.type));
    }));
  }, i2.prototype.optionUpdated = function() {
    this._updateData(this.ecModel);
    var t6 = this._data;
    if (t6[0] && "single" === this.get("selectedMode")) {
      for (var i3 = false, n2 = 0; n2 < t6.length; n2++) {
        var r2 = t6[n2].get("name");
        if (this.isSelected(r2)) {
          this.select(r2), i3 = true;
          break;
        }
      }
      !i3 && this.select(t6[0].get("name"));
    }
  }, i2.prototype._updateData = function(t6) {
    var i3 = [], n2 = [];
    t6.eachRawSeries((function(r3) {
      var e3;
      if (n2.push(r3.name), r3.legendVisualProvider) {
        var o3 = r3.legendVisualProvider.getAllNames();
        t6.isSeriesFiltered(r3) || (n2 = n2.concat(o3)), o3.length ? i3 = i3.concat(o3) : e3 = true;
      } else e3 = true;
      e3 && js(r3) && i3.push(r3.name);
    })), this._availableNames = n2;
    var r2 = this.get("data") || i3, e2 = Qn(), o2 = Mn(r2, (function(t7) {
      return (In(t7) || Dn(t7)) && (t7 = { name: t7 }), e2.get(t7.name) ? null : (e2.set(t7.name, true), new _v(t7, this, this.ecModel));
    }), this);
    this._data = Sn(o2, (function(t7) {
      return !!t7;
    }));
  }, i2.prototype.getData = function() {
    return this._data;
  }, i2.prototype.select = function(t6) {
    var i3 = this.option.selected;
    "single" === this.get("selectedMode") && kn(this._data, (function(t7) {
      i3[t7.get("name")] = false;
    })), i3[t6] = true;
  }, i2.prototype.unSelect = function(t6) {
    "single" !== this.get("selectedMode") && (this.option.selected[t6] = false);
  }, i2.prototype.toggleSelected = function(t6) {
    var i3 = this.option.selected;
    i3.hasOwnProperty(t6) || (i3[t6] = true), this[i3[t6] ? "unSelect" : "select"](t6);
  }, i2.prototype.allSelect = function() {
    var t6 = this.option.selected;
    kn(this._data, (function(i3) {
      t6[i3.get("name", true)] = true;
    }));
  }, i2.prototype.inverseSelect = function() {
    var t6 = this.option.selected;
    kn(this._data, (function(i3) {
      var n2 = i3.get("name", true);
      t6.hasOwnProperty(n2) || (t6[n2] = true), t6[n2] = !t6[n2];
    }));
  }, i2.prototype.isSelected = function(t6) {
    var i3 = this.option.selected;
    return !(i3.hasOwnProperty(t6) && !i3[t6]) && yn(this._availableNames, t6) >= 0;
  }, i2.prototype.getOrient = function() {
    return "vertical" === this.get("orient") ? { index: 1, name: "vertical" } : { index: 0, name: "horizontal" };
  }, i2.type = "legend.plain", i2.dependencies = ["series"], i2.defaultOption = { z: 4, show: true, orient: "horizontal", left: "center", top: 0, align: "auto", backgroundColor: "rgba(0,0,0,0)", borderColor: "#ccc", borderRadius: 0, borderWidth: 0, padding: 5, itemGap: 10, itemWidth: 25, itemHeight: 14, symbolRotate: "inherit", symbolKeepAspect: true, inactiveColor: "#ccc", inactiveBorderColor: "#ccc", inactiveBorderWidth: "auto", itemStyle: { color: "inherit", opacity: "inherit", borderColor: "inherit", borderWidth: "auto", borderCap: "inherit", borderJoin: "inherit", borderDashOffset: "inherit", borderMiterLimit: "inherit" }, lineStyle: { width: "auto", color: "inherit", inactiveColor: "#ccc", inactiveWidth: 2, opacity: "inherit", type: "inherit", cap: "inherit", join: "inherit", dashOffset: "inherit", miterLimit: "inherit" }, textStyle: { color: "#333" }, selectedMode: true, selector: false, selectorLabel: { show: true, borderRadius: 10, padding: [3, 5, 3, 5], fontSize: 12, fontFamily: "sans-serif", color: "#666", borderWidth: 1, borderColor: "#666" }, emphasis: { selectorLabel: { show: true, color: "#eee", backgroundColor: "#666" } }, selectorPosition: "auto", selectorItemGap: 7, selectorButtonGap: 10, tooltip: { show: false } }, i2;
})(Ed), eV = Nn, oV = kn, aV = rs, sV = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.newlineDisabled = false, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function() {
    this.group.add(this._contentGroup = new aV()), this.group.add(this._selectorGroup = new aV()), this._isFirstRender = true;
  }, i2.prototype.getContentGroup = function() {
    return this._contentGroup;
  }, i2.prototype.getSelectorGroup = function() {
    return this._selectorGroup;
  }, i2.prototype.render = function(t6, i3, n2) {
    var r2 = this._isFirstRender;
    if (this._isFirstRender = false, this.resetInner(), t6.get("show", true)) {
      var e2 = t6.get("align"), o2 = t6.get("orient");
      e2 && "auto" !== e2 || (e2 = "right" === t6.get("left") && "vertical" === o2 ? "right" : "left");
      var a2 = t6.get("selector", true), s2 = t6.get("selectorPosition", true);
      !a2 || s2 && "auto" !== s2 || (s2 = "horizontal" === o2 ? "end" : "start"), this.renderInner(e2, t6, i3, n2, a2, o2, s2);
      var l2 = t6.getBoxLayoutParams(), u2 = { width: n2.getWidth(), height: n2.getHeight() }, f2 = t6.get("padding"), c2 = Nd(l2, u2, f2), h2 = this.layoutInner(t6, e2, c2, r2, a2, s2), v2 = Nd(gn({ width: h2.width, height: h2.height }, l2), u2, f2);
      this.group.x = v2.x - h2.x, this.group.y = v2.y - h2.y, this.group.markRedraw(), this.group.add(this._backgroundEl = PR(h2, t6));
    }
  }, i2.prototype.resetInner = function() {
    this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl), this.getSelectorGroup().removeAll();
  }, i2.prototype.renderInner = function(t6, i3, n2, r2, e2, o2, a2) {
    var s2 = this.getContentGroup(), l2 = Qn(), u2 = i3.get("selectedMode"), f2 = [];
    n2.eachRawSeries((function(t7) {
      !t7.get("legendHoverLink") && f2.push(t7.id);
    })), oV(i3.getData(), (function(e3, o3) {
      var a3 = e3.get("name");
      if (!this.newlineDisabled && ("" === a3 || "\n" === a3)) {
        var c2 = new aV();
        return c2.newline = true, void s2.add(c2);
      }
      var h2 = n2.getSeriesByName(a3)[0];
      if (!l2.get(a3)) if (h2) {
        var v2 = h2.getData(), d2 = v2.getVisual("legendLineStyle") || {}, p2 = v2.getVisual("legendIcon"), m2 = v2.getVisual("style"), b2 = this._createItem(h2, a3, o3, e3, i3, t6, d2, m2, p2, u2, r2);
        b2.on("click", eV(lV, a3, null, r2, f2)).on("mouseover", eV(fV, h2.name, null, r2, f2)).on("mouseout", eV(cV, h2.name, null, r2, f2)), n2.ssr && b2.eachChild((function(t7) {
          var i4 = hf(t7);
          i4.seriesIndex = h2.seriesIndex, i4.dataIndex = o3, i4.ssrType = "legend";
        })), l2.set(a3, true);
      } else n2.eachRawSeries((function(s3) {
        if (!l2.get(a3) && s3.legendVisualProvider) {
          var c3 = s3.legendVisualProvider;
          if (!c3.containName(a3)) return;
          var h3 = c3.indexOfName(a3), v3 = c3.getItemVisual(h3, "style"), d3 = c3.getItemVisual(h3, "legendIcon"), p3 = xo(v3.fill);
          p3 && 0 === p3[3] && (p3[3] = 0.2, v3 = bn(bn({}, v3), { fill: Ao(p3, "rgba") }));
          var m3 = this._createItem(s3, a3, o3, e3, i3, t6, {}, v3, d3, u2, r2);
          m3.on("click", eV(lV, null, a3, r2, f2)).on("mouseover", eV(fV, null, a3, r2, f2)).on("mouseout", eV(cV, null, a3, r2, f2)), n2.ssr && m3.eachChild((function(t7) {
            var i4 = hf(t7);
            i4.seriesIndex = s3.seriesIndex, i4.dataIndex = o3, i4.ssrType = "legend";
          })), l2.set(a3, true);
        }
      }), this);
    }), this), e2 && this._createSelector(e2, i3, r2, o2, a2);
  }, i2.prototype._createSelector = function(t6, i3, n2) {
    var r2 = this.getSelectorGroup();
    oV(t6, (function(t7) {
      var e2 = t7.type, o2 = new Ku({ style: { x: 0, y: 0, align: "center", verticalAlign: "middle" }, onclick: function() {
        n2.dispatchAction({ type: "all" === e2 ? "legendAllSelect" : "legendInverseSelect", legendId: i3.id });
      } });
      r2.add(o2), ov(o2, { normal: i3.getModel("selectorLabel"), emphasis: i3.getModel(["emphasis", "selectorLabel"]) }, { defaultText: t7.title }), Qf(o2);
    }));
  }, i2.prototype._createItem = function(t6, i3, n2, r2, e2, o2, a2, s2, l2, u2, f2) {
    var c2, h2, v2, d2 = t6.visualDrawType, p2 = e2.get("itemWidth"), m2 = e2.get("itemHeight"), b2 = e2.isSelected(i3), g3 = r2.get("symbolRotate"), y2 = r2.get("symbolKeepAspect"), w3 = r2.get("icon"), x2 = (function(t7, i4, n3, r3, e3, o3, a3) {
      function s3(t8, i5) {
        "auto" === t8.lineWidth && (t8.lineWidth = i5.lineWidth > 0 ? 2 : 0), oV(t8, (function(n4, r4) {
          "inherit" === t8[r4] && (t8[r4] = i5[r4]);
        }));
      }
      var l3 = i4.getModel("itemStyle"), u3 = l3.getItemStyle(), f3 = 0 === t7.lastIndexOf("empty", 0) ? "fill" : "stroke", c3 = l3.getShallow("decal");
      u3.decal = c3 && "inherit" !== c3 ? fy(c3, a3) : r3.decal, "inherit" === u3.fill && (u3.fill = r3[e3]), "inherit" === u3.stroke && (u3.stroke = r3[f3]), "inherit" === u3.opacity && (u3.opacity = ("fill" === e3 ? r3 : n3).opacity), s3(u3, r3);
      var h3 = i4.getModel("lineStyle"), v3 = h3.getLineStyle();
      if (s3(v3, n3), "auto" === u3.fill && (u3.fill = r3.fill), "auto" === u3.stroke && (u3.stroke = r3.fill), "auto" === v3.stroke && (v3.stroke = r3.fill), !o3) {
        var d3 = i4.get("inactiveBorderWidth");
        u3.lineWidth = "auto" === d3 ? r3.lineWidth > 0 && u3[f3] ? 2 : 0 : u3.lineWidth, u3.fill = i4.get("inactiveColor"), u3.stroke = i4.get("inactiveBorderColor"), v3.stroke = h3.get("inactiveColor"), v3.lineWidth = h3.get("inactiveWidth");
      }
      return { itemStyle: u3, lineStyle: v3 };
    })(l2 = w3 || l2 || "roundRect", r2, a2, s2, d2, b2, f2), k2 = new aV(), M2 = r2.getModel("textStyle");
    if (!Tn(t6.getLegendIcon) || w3 && "inherit" !== w3) {
      var z2 = "inherit" === w3 && t6.getData().getVisual("symbol") ? "inherit" === g3 ? t6.getData().getVisual("symbolRotate") : g3 : 0;
      k2.add(((v2 = Fg(h2 = (c2 = { itemWidth: p2, itemHeight: m2, icon: l2, iconRotate: z2, itemStyle: x2.itemStyle, symbolKeepAspect: y2 }).icon || "roundRect", 0, 0, c2.itemWidth, c2.itemHeight, c2.itemStyle.fill, c2.symbolKeepAspect)).setStyle(c2.itemStyle), v2.rotation = (c2.iconRotate || 0) * Math.PI / 180, v2.setOrigin([c2.itemWidth / 2, c2.itemHeight / 2]), h2.indexOf("empty") > -1 && (v2.style.stroke = v2.style.fill, v2.style.fill = "#fff", v2.style.lineWidth = 2), v2));
    } else k2.add(t6.getLegendIcon({ itemWidth: p2, itemHeight: m2, icon: l2, iconRotate: g3, itemStyle: x2.itemStyle, lineStyle: x2.lineStyle, symbolKeepAspect: y2 }));
    var S3 = "left" === o2 ? p2 + 5 : -5, C3 = o2, A3 = e2.get("formatter"), N2 = i3;
    In(A3) && A3 ? N2 = A3.replace("{name}", null != i3 ? i3 : "") : Tn(A3) && (N2 = A3(i3));
    var _2 = b2 ? M2.getTextColor() : r2.get("inactiveColor");
    k2.add(new Ku({ style: sv(M2, { text: N2, x: S3, y: m2 / 2, fill: _2, align: C3, verticalAlign: "middle" }, { inheritColor: _2 }) }));
    var T4 = new Zu({ shape: k2.getBoundingRect(), style: { fill: "transparent" } }), I2 = r2.getModel("tooltip");
    return I2.get("show") && Kh({ el: T4, componentModel: e2, itemName: i3, itemTooltipOption: I2.option }), k2.add(T4), k2.eachChild((function(t7) {
      t7.silent = true;
    })), T4.silent = !u2, this.getContentGroup().add(k2), Qf(k2), k2.__legendDataIndex = n2, k2;
  }, i2.prototype.layoutInner = function(t6, i3, n2, r2, e2, o2) {
    var a2 = this.getContentGroup(), s2 = this.getSelectorGroup();
    Ad(t6.get("orient"), a2, t6.get("itemGap"), n2.width, n2.height);
    var l2 = a2.getBoundingRect(), u2 = [-l2.x, -l2.y];
    if (s2.markRedraw(), a2.markRedraw(), e2) {
      Ad("horizontal", s2, t6.get("selectorItemGap", true));
      var f2 = s2.getBoundingRect(), c2 = [-f2.x, -f2.y], h2 = t6.get("selectorButtonGap", true), v2 = t6.getOrient().index, d2 = 0 === v2 ? "width" : "height", p2 = 0 === v2 ? "height" : "width", m2 = 0 === v2 ? "y" : "x";
      "end" === o2 ? c2[v2] += l2[d2] + h2 : u2[v2] += f2[d2] + h2, c2[1 - v2] += l2[p2] / 2 - f2[p2] / 2, s2.x = c2[0], s2.y = c2[1], a2.x = u2[0], a2.y = u2[1];
      var b2 = { x: 0, y: 0 };
      return b2[d2] = l2[d2] + h2 + f2[d2], b2[p2] = Math.max(l2[p2], f2[p2]), b2[m2] = Math.min(0, f2[m2] + c2[1 - v2]), b2;
    }
    return a2.x = u2[0], a2.y = u2[1], this.group.getBoundingRect();
  }, i2.prototype.remove = function() {
    this.getContentGroup().removeAll(), this._isFirstRender = true;
  }, i2.type = "legend.plain", i2;
})(xb);
function lV(t5, i2, n2, r2) {
  cV(t5, i2, n2, r2), n2.dispatchAction({ type: "legendToggleSelect", name: null != t5 ? t5 : i2 }), fV(t5, i2, n2, r2);
}
function uV(t5) {
  for (var i2, n2 = t5.getZr().storage.getDisplayList(), r2 = 0, e2 = n2.length; r2 < e2 && !(i2 = n2[r2].states.emphasis); ) r2++;
  return i2 && i2.hoverLayer;
}
function fV(t5, i2, n2, r2) {
  uV(n2) || n2.dispatchAction({ type: "highlight", seriesName: t5, name: i2, excludeSeriesId: r2 });
}
function cV(t5, i2, n2, r2) {
  uV(n2) || n2.dispatchAction({ type: "downplay", seriesName: t5, name: i2, excludeSeriesId: r2 });
}
function hV(t5) {
  var i2 = t5.findComponents({ mainType: "legend" });
  i2 && i2.length && t5.filterSeries((function(t6) {
    for (var n2 = 0; n2 < i2.length; n2++) if (!i2[n2].isSelected(t6.name)) return false;
    return true;
  }));
}
function vV(t5, i2, n2) {
  var r2 = "allSelect" === t5 || "inverseSelect" === t5, e2 = {}, o2 = [];
  n2.eachComponent({ mainType: "legend", query: i2 }, (function(n3) {
    r2 ? n3[t5]() : n3[t5](i2.name), dV(n3, e2), o2.push(n3.componentIndex);
  }));
  var a2 = {};
  return n2.eachComponent("legend", (function(t6) {
    kn(e2, (function(i3, n3) {
      t6[i3 ? "select" : "unSelect"](n3);
    })), dV(t6, a2);
  })), r2 ? { selected: a2, legendIndex: o2 } : { name: i2.name, selected: a2 };
}
function dV(t5, i2) {
  var n2 = i2 || {};
  return kn(t5.getData(), (function(i3) {
    var r2 = i3.get("name");
    if ("\n" !== r2 && "" !== r2) {
      var e2 = t5.isSelected(r2);
      n2[r2] = rr(n2, r2) ? n2[r2] && e2 : e2;
    }
  })), n2;
}
function pV(t5) {
  t5.registerComponentModel(rV), t5.registerComponentView(sV), t5.registerProcessor(t5.PRIORITY.PROCESSOR.SERIES_FILTER, hV), t5.registerSubTypeDefaulter("legend", (function() {
    return "plain";
  })), (function(t6) {
    t6.registerAction("legendToggleSelect", "legendselectchanged", Nn(vV, "toggleSelected")), t6.registerAction("legendAllSelect", "legendselectall", Nn(vV, "allSelect")), t6.registerAction("legendInverseSelect", "legendinverseselect", Nn(vV, "inverseSelect")), t6.registerAction("legendSelect", "legendselected", Nn(vV, "select")), t6.registerAction("legendUnSelect", "legendunselected", Nn(vV, "unSelect"));
  })(t5);
}
var mV = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.setScrollDataIndex = function(t6) {
    this.option.scrollDataIndex = t6;
  }, i2.prototype.init = function(i3, n2, r2) {
    var e2 = Ld(i3);
    t5.prototype.init.call(this, i3, n2, r2), bV(this, i3, e2);
  }, i2.prototype.mergeOption = function(i3, n2) {
    t5.prototype.mergeOption.call(this, i3, n2), bV(this, this.option, i3);
  }, i2.type = "legend.scroll", i2.defaultOption = Lv(rV.defaultOption, { scrollDataIndex: 0, pageButtonItemGap: 5, pageButtonGap: null, pageButtonPosition: "end", pageFormatter: "{current}/{total}", pageIcons: { horizontal: ["M0,0L12,-10L12,10z", "M0,0L-12,-10L-12,10z"], vertical: ["M0,0L20,0L10,-20z", "M0,0L20,0L10,20z"] }, pageIconColor: "#2f4554", pageIconInactiveColor: "#aaa", pageIconSize: 15, pageTextStyle: { color: "#333" }, animationDurationUpdate: 800 }), i2;
})(rV);
function bV(t5, i2, n2) {
  var r2 = [1, 1];
  r2[t5.getOrient().index] = 0, Id(i2, n2, { type: "box", ignoreSize: !!r2 });
}
var gV = rs, yV = ["width", "height"], wV = ["x", "y"], xV = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.newlineDisabled = true, n2._currentIndex = 0, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function() {
    t5.prototype.init.call(this), this.group.add(this._containerGroup = new gV()), this._containerGroup.add(this.getContentGroup()), this.group.add(this._controllerGroup = new gV());
  }, i2.prototype.resetInner = function() {
    t5.prototype.resetInner.call(this), this._controllerGroup.removeAll(), this._containerGroup.removeClipPath(), this._containerGroup.__rectSize = null;
  }, i2.prototype.renderInner = function(i3, n2, r2, e2, o2, a2, s2) {
    var l2 = this;
    t5.prototype.renderInner.call(this, i3, n2, r2, e2, o2, a2, s2);
    var u2 = this._controllerGroup, f2 = n2.get("pageIconSize", true), c2 = _n(f2) ? f2 : [f2, f2];
    v2("pagePrev", 0);
    var h2 = n2.getModel("pageTextStyle");
    function v2(t6, i4) {
      var r3 = t6 + "DataIndex", o3 = Gh(n2.get("pageIcons", true)[n2.getOrient().name][i4], { onclick: An(l2._pageGo, l2, r3, n2, e2) }, { x: -c2[0] / 2, y: -c2[1] / 2, width: c2[0], height: c2[1] });
      o3.name = t6, u2.add(o3);
    }
    u2.add(new Ku({ name: "pageText", style: { text: "xx/xx", fill: h2.getTextColor(), font: h2.getFont(), verticalAlign: "middle", align: "center" }, silent: true })), v2("pageNext", 1);
  }, i2.prototype.layoutInner = function(t6, i3, n2, r2, e2, o2) {
    var a2 = this.getSelectorGroup(), s2 = t6.getOrient().index, l2 = yV[s2], u2 = wV[s2], f2 = yV[1 - s2], c2 = wV[1 - s2];
    e2 && Ad("horizontal", a2, t6.get("selectorItemGap", true));
    var h2 = t6.get("selectorButtonGap", true), v2 = a2.getBoundingRect(), d2 = [-v2.x, -v2.y], p2 = dn(n2);
    e2 && (p2[l2] = n2[l2] - v2[l2] - h2);
    var m2 = this._layoutContentAndController(t6, r2, p2, s2, l2, f2, c2, u2);
    if (e2) {
      if ("end" === o2) d2[s2] += m2[l2] + h2;
      else {
        var b2 = v2[l2] + h2;
        d2[s2] -= b2, m2[u2] -= b2;
      }
      m2[l2] += v2[l2] + h2, d2[1 - s2] += m2[c2] + m2[f2] / 2 - v2[f2] / 2, m2[f2] = Math.max(m2[f2], v2[f2]), m2[c2] = Math.min(m2[c2], v2[c2] + d2[1 - s2]), a2.x = d2[0], a2.y = d2[1], a2.markRedraw();
    }
    return m2;
  }, i2.prototype._layoutContentAndController = function(t6, i3, n2, r2, e2, o2, a2, s2) {
    var l2 = this.getContentGroup(), u2 = this._containerGroup, f2 = this._controllerGroup;
    Ad(t6.get("orient"), l2, t6.get("itemGap"), r2 ? n2.width : null, r2 ? null : n2.height), Ad("horizontal", f2, t6.get("pageButtonItemGap", true));
    var c2 = l2.getBoundingRect(), h2 = f2.getBoundingRect(), v2 = this._showController = c2[e2] > n2[e2], d2 = [-c2.x, -c2.y];
    i3 || (d2[r2] = l2[s2]);
    var p2 = [0, 0], m2 = [-h2.x, -h2.y], b2 = Vn(t6.get("pageButtonGap", true), t6.get("itemGap", true));
    v2 && ("end" === t6.get("pageButtonPosition", true) ? m2[r2] += n2[e2] - h2[e2] : p2[r2] += h2[e2] + b2), m2[1 - r2] += c2[o2] / 2 - h2[o2] / 2, l2.setPosition(d2), u2.setPosition(p2), f2.setPosition(m2);
    var g3 = { x: 0, y: 0 };
    if (g3[e2] = v2 ? n2[e2] : c2[e2], g3[o2] = Math.max(c2[o2], h2[o2]), g3[a2] = Math.min(0, h2[a2] + m2[1 - r2]), u2.__rectSize = n2[e2], v2) {
      var y2 = { x: 0, y: 0 };
      y2[e2] = Math.max(n2[e2] - h2[e2] - b2, 0), y2[o2] = g3[o2], u2.setClipPath(new Zu({ shape: y2 })), u2.__rectSize = y2[e2];
    } else f2.eachChild((function(t7) {
      t7.attr({ invisible: true, silent: true });
    }));
    var w3 = this._getPageInfo(t6);
    return null != w3.pageIndex && Mh(l2, { x: w3.contentPosition[0], y: w3.contentPosition[1] }, v2 ? t6 : null), this._updatePageInfoView(t6, w3), g3;
  }, i2.prototype._pageGo = function(t6, i3, n2) {
    var r2 = this._getPageInfo(i3)[t6];
    null != r2 && n2.dispatchAction({ type: "legendScroll", scrollDataIndex: r2, legendId: i3.id });
  }, i2.prototype._updatePageInfoView = function(t6, i3) {
    var n2 = this._controllerGroup;
    kn(["pagePrev", "pageNext"], (function(r3) {
      var e3 = null != i3[r3 + "DataIndex"], o3 = n2.childOfName(r3);
      o3 && (o3.setStyle("fill", t6.get(e3 ? "pageIconColor" : "pageIconInactiveColor", true)), o3.cursor = e3 ? "pointer" : "default");
    }));
    var r2 = n2.childOfName("pageText"), e2 = t6.get("pageFormatter"), o2 = i3.pageIndex, a2 = null != o2 ? o2 + 1 : 0, s2 = i3.pageCount;
    r2 && e2 && r2.setStyle("text", In(e2) ? e2.replace("{current}", null == a2 ? "" : a2 + "").replace("{total}", null == s2 ? "" : s2 + "") : e2({ current: a2, total: s2 }));
  }, i2.prototype._getPageInfo = function(t6) {
    var i3 = t6.get("scrollDataIndex", true), n2 = this.getContentGroup(), r2 = this._containerGroup.__rectSize, e2 = t6.getOrient().index, o2 = yV[e2], a2 = wV[e2], s2 = this._findTargetItemIndex(i3), l2 = n2.children(), u2 = l2[s2], f2 = l2.length, c2 = f2 ? 1 : 0, h2 = { contentPosition: [n2.x, n2.y], pageCount: c2, pageIndex: c2 - 1, pagePrevDataIndex: null, pageNextDataIndex: null };
    if (!u2) return h2;
    var v2 = g3(u2);
    h2.contentPosition[e2] = -v2.s;
    for (var d2 = s2 + 1, p2 = v2, m2 = v2, b2 = null; d2 <= f2; ++d2) (!(b2 = g3(l2[d2])) && m2.e > p2.s + r2 || b2 && !y2(b2, p2.s)) && (p2 = m2.i > p2.i ? m2 : b2) && (null == h2.pageNextDataIndex && (h2.pageNextDataIndex = p2.i), ++h2.pageCount), m2 = b2;
    for (d2 = s2 - 1, p2 = v2, m2 = v2, b2 = null; d2 >= -1; --d2) (b2 = g3(l2[d2])) && y2(m2, b2.s) || !(p2.i < m2.i) || (m2 = p2, null == h2.pagePrevDataIndex && (h2.pagePrevDataIndex = p2.i), ++h2.pageCount, ++h2.pageIndex), p2 = b2;
    return h2;
    function g3(t7) {
      if (t7) {
        var i4 = t7.getBoundingRect(), n3 = i4[a2] + t7[a2];
        return { s: n3, e: n3 + i4[o2], i: t7.__legendDataIndex };
      }
    }
    function y2(t7, i4) {
      return t7.e >= i4 && t7.s <= i4 + r2;
    }
  }, i2.prototype._findTargetItemIndex = function(t6) {
    return this._showController ? (this.getContentGroup().eachChild((function(r2, e2) {
      var o2 = r2.__legendDataIndex;
      null == n2 && null != o2 && (n2 = e2), o2 === t6 && (i3 = e2);
    })), null != i3 ? i3 : n2) : 0;
    var i3, n2;
  }, i2.type = "legend.scroll", i2;
})(sV);
function kV(t5) {
  ww(pV), t5.registerComponentModel(mV), t5.registerComponentView(xV), (function(t6) {
    t6.registerAction("legendScroll", "legendscroll", (function(t7, i2) {
      var n2 = t7.scrollDataIndex;
      null != n2 && i2.eachComponent({ mainType: "legend", subType: "scroll", query: t7 }, (function(t8) {
        t8.setScrollDataIndex(n2);
      }));
    }));
  })(t5);
}
var MV = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "dataZoom.inside", i2.defaultOption = Lv(kR.defaultOption, { disabled: false, zoomLock: false, zoomOnMouseWheel: true, moveOnMouseMove: true, moveOnMouseWheel: false, preventDefaultMouseMove: true }), i2;
})(kR), zV = Xs();
function SV(t5, i2) {
  if (i2) {
    t5.removeKey(i2.model.uid);
    var n2 = i2.controller;
    n2 && n2.dispose();
  }
}
function CV(t5, i2) {
  t5.isDisposed() || t5.dispatchAction({ type: "dataZoom", animation: { easing: "cubicOut", duration: 100 }, batch: i2 });
}
function AV(t5, i2, n2, r2) {
  return t5.coordinateSystem.containPoint([n2, r2]);
}
var NV = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.type = "dataZoom.inside", i3;
  }
  return Yi(i2, t5), i2.prototype.render = function(i3, n2, r2) {
    t5.prototype.render.apply(this, arguments), i3.noTarget() ? this._clear() : (this.range = i3.getPercentRange(), (function(t6, i4, n3) {
      zV(t6).coordSysRecordMap.each((function(t7) {
        var r3 = t7.dataZoomInfoMap.get(i4.uid);
        r3 && (r3.getRange = n3);
      }));
    })(r2, i3, { pan: An(_V.pan, this), zoom: An(_V.zoom, this), scrollMove: An(_V.scrollMove, this) }));
  }, i2.prototype.dispose = function() {
    this._clear(), t5.prototype.dispose.apply(this, arguments);
  }, i2.prototype._clear = function() {
    !(function(t6, i3) {
      for (var n2 = zV(t6).coordSysRecordMap, r2 = n2.keys(), e2 = 0; e2 < r2.length; e2++) {
        var o2 = n2.get(r2[e2]), a2 = o2.dataZoomInfoMap;
        if (a2) {
          var s2 = i3.uid;
          a2.get(s2) && (a2.removeKey(s2), a2.keys().length || SV(n2, o2));
        }
      }
    })(this.api, this.dataZoomModel), this.range = null;
  }, i2.type = "dataZoom.inside", i2;
})(SR), _V = { zoom: function(t5, i2, n2, r2) {
  var e2 = this.range, o2 = e2.slice(), a2 = t5.axisModels[0];
  if (a2) {
    var s2 = IV[i2](null, [r2.originX, r2.originY], a2, n2, t5), l2 = (s2.signal > 0 ? s2.pixelStart + s2.pixelLength - s2.pixel : s2.pixel - s2.pixelStart) / s2.pixelLength * (o2[1] - o2[0]) + o2[0], u2 = Math.max(1 / r2.scale, 0);
    o2[0] = (o2[0] - l2) * u2 + l2, o2[1] = (o2[1] - l2) * u2 + l2;
    var f2 = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();
    return KI(0, o2, [0, 100], 0, f2.minSpan, f2.maxSpan), this.range = o2, e2[0] !== o2[0] || e2[1] !== o2[1] ? o2 : void 0;
  }
}, pan: TV((function(t5, i2, n2, r2, e2, o2) {
  var a2 = IV[r2]([o2.oldX, o2.oldY], [o2.newX, o2.newY], i2, e2, n2);
  return a2.signal * (t5[1] - t5[0]) * a2.pixel / a2.pixelLength;
})), scrollMove: TV((function(t5, i2, n2, r2, e2, o2) {
  return IV[r2]([0, 0], [o2.scrollDelta, o2.scrollDelta], i2, e2, n2).signal * (t5[1] - t5[0]) * o2.scrollDelta;
})) };
function TV(t5) {
  return function(i2, n2, r2, e2) {
    var o2 = this.range, a2 = o2.slice(), s2 = i2.axisModels[0];
    if (s2) return KI(t5(a2, s2, i2, n2, r2, e2), a2, [0, 100], "all"), this.range = a2, o2[0] !== a2[0] || o2[1] !== a2[1] ? a2 : void 0;
  };
}
var IV = { grid: function(t5, i2, n2, r2, e2) {
  var o2 = n2.axis, a2 = {}, s2 = e2.model.coordinateSystem.getRect();
  return t5 = t5 || [0, 0], "x" === o2.dim ? (a2.pixel = i2[0] - t5[0], a2.pixelLength = s2.width, a2.pixelStart = s2.x, a2.signal = o2.inverse ? 1 : -1) : (a2.pixel = i2[1] - t5[1], a2.pixelLength = s2.height, a2.pixelStart = s2.y, a2.signal = o2.inverse ? -1 : 1), a2;
}, polar: function(t5, i2, n2, r2, e2) {
  var o2 = n2.axis, a2 = {}, s2 = e2.model.coordinateSystem, l2 = s2.getRadiusAxis().getExtent(), u2 = s2.getAngleAxis().getExtent();
  return t5 = t5 ? s2.pointToCoord(t5) : [0, 0], i2 = s2.pointToCoord(i2), "radiusAxis" === n2.mainType ? (a2.pixel = i2[0] - t5[0], a2.pixelLength = l2[1] - l2[0], a2.pixelStart = l2[0], a2.signal = o2.inverse ? 1 : -1) : (a2.pixel = i2[1] - t5[1], a2.pixelLength = u2[1] - u2[0], a2.pixelStart = u2[0], a2.signal = o2.inverse ? -1 : 1), a2;
}, singleAxis: function(t5, i2, n2, r2, e2) {
  var o2 = n2.axis, a2 = e2.model.coordinateSystem.getRect(), s2 = {};
  return t5 = t5 || [0, 0], "horizontal" === o2.orient ? (s2.pixel = i2[0] - t5[0], s2.pixelLength = a2.width, s2.pixelStart = a2.x, s2.signal = o2.inverse ? 1 : -1) : (s2.pixel = i2[1] - t5[1], s2.pixelLength = a2.height, s2.pixelStart = a2.y, s2.signal = o2.inverse ? -1 : 1), s2;
} };
function LV(t5) {
  LR(t5), t5.registerComponentModel(MV), t5.registerComponentView(NV), (function(t6) {
    t6.registerProcessor(t6.PRIORITY.PROCESSOR.FILTER, (function(t7, i2) {
      var n2 = zV(i2), r2 = n2.coordSysRecordMap || (n2.coordSysRecordMap = Qn());
      r2.each((function(t8) {
        t8.dataZoomInfoMap = null;
      })), t7.eachComponent({ mainType: "dataZoom", subType: "inside" }, (function(t8) {
        kn(wR(t8).infoList, (function(n3) {
          var e2 = n3.model.uid, o2 = r2.get(e2) || r2.set(e2, (function(t9, i3) {
            var n4 = { model: i3, containsPoint: Nn(AV, i3), dispatchAction: Nn(CV, t9), dataZoomInfoMap: null, controller: null }, r3 = n4.controller = new yA(t9.getZr());
            return kn(["pan", "zoom", "scrollMove"], (function(t10) {
              r3.on(t10, (function(i4) {
                var r4 = [];
                n4.dataZoomInfoMap.each((function(e3) {
                  if (i4.isAvailableBehavior(e3.model.option)) {
                    var o3 = (e3.getRange || {})[t10], a2 = o3 && o3(e3.dzReferCoordSysInfo, n4.model.mainType, n4.controller, i4);
                    !e3.model.get("disabled", true) && a2 && r4.push({ dataZoomId: e3.model.id, start: a2[0], end: a2[1] });
                  }
                })), r4.length && n4.dispatchAction(r4);
              }));
            })), n4;
          })(i2, n3.model));
          (o2.dataZoomInfoMap || (o2.dataZoomInfoMap = Qn())).set(t8.uid, { dzReferCoordSysInfo: n3, model: t8, getRange: null });
        }));
      })), r2.each((function(t8) {
        var i3, n3 = t8.controller, e2 = t8.dataZoomInfoMap;
        if (e2) {
          var o2 = e2.keys()[0];
          null != o2 && (i3 = e2.get(o2));
        }
        if (i3) {
          var a2 = (function(t9) {
            var i4, n4 = "type_", r3 = { type_true: 2, type_move: 1, type_false: 0, type_undefined: -1 }, e3 = true;
            return t9.each((function(t10) {
              var o3 = t10.model, a3 = !o3.get("disabled", true) && (!o3.get("zoomLock", true) || "move");
              r3[n4 + a3] > r3[n4 + i4] && (i4 = a3), e3 = e3 && o3.get("preventDefaultMouseMove", true);
            })), { controlType: i4, opt: { zoomOnMouseWheel: true, moveOnMouseMove: true, moveOnMouseWheel: true, preventDefaultMouseMove: !!e3 } };
          })(e2);
          n3.enable(a2.controlType, a2.opt), n3.setPointerChecker(t8.containsPoint), Eb(t8, "dispatchAction", i3.model.get("throttle", true), "fixRate");
        } else SV(r2, t8);
      }));
    }));
  })(t5);
}
var DV = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.type = "dataZoom.slider", i2.layoutMode = "box", i2.defaultOption = Lv(kR.defaultOption, { show: true, right: "ph", top: "ph", width: "ph", height: "ph", left: null, bottom: null, borderColor: "#d2dbee", borderRadius: 3, backgroundColor: "rgba(47,69,84,0)", dataBackground: { lineStyle: { color: "#d2dbee", width: 0.5 }, areaStyle: { color: "#d2dbee", opacity: 0.2 } }, selectedDataBackground: { lineStyle: { color: "#8fb0f7", width: 0.5 }, areaStyle: { color: "#8fb0f7", opacity: 0.2 } }, fillerColor: "rgba(135,175,274,0.2)", handleIcon: "path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z", handleSize: "100%", handleStyle: { color: "#fff", borderColor: "#ACB8D1" }, moveHandleSize: 7, moveHandleIcon: "path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z", moveHandleStyle: { color: "#D2DBEE", opacity: 0.7 }, showDetail: true, showDataShadow: "auto", realtime: true, zoomLock: false, textStyle: { color: "#6E7079" }, brushSelect: true, brushStyle: { color: "rgba(135,175,274,0.15)" }, emphasis: { handleLabel: { show: true }, handleStyle: { borderColor: "#8FB0F7" }, moveHandleStyle: { color: "#8FB0F7" } } }), i2;
})(kR), WV = Zu, EV = "horizontal", OV = "vertical", FV = ["line", "bar", "candlestick", "scatter"], RV = { easing: "cubicOut", duration: 100, delay: 0 }, PV = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2._displayables = {}, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3) {
    this.api = i3, this._onBrush = An(this._onBrush, this), this._onBrushEnd = An(this._onBrushEnd, this);
  }, i2.prototype.render = function(i3, n2, r2, e2) {
    if (t5.prototype.render.apply(this, arguments), Eb(this, "_dispatchZoomAction", i3.get("throttle"), "fixRate"), this._orient = i3.getOrient(), false !== i3.get("show")) {
      if (i3.noTarget()) return this._clear(), void this.group.removeAll();
      e2 && "dataZoom" === e2.type && e2.from === this.uid || this._buildView(), this._updateView();
    } else this.group.removeAll();
  }, i2.prototype.dispose = function() {
    this._clear(), t5.prototype.dispose.apply(this, arguments);
  }, i2.prototype._clear = function() {
    Ob(this, "_dispatchZoomAction");
    var t6 = this.api.getZr();
    t6.off("mousemove", this._onBrush), t6.off("mouseup", this._onBrushEnd);
  }, i2.prototype._buildView = function() {
    var t6 = this.group;
    t6.removeAll(), this._brushing = false, this._displayables.brushRect = null, this._resetLocation(), this._resetInterval();
    var i3 = this._displayables.sliderGroup = new rs();
    this._renderBackground(), this._renderHandle(), this._renderDataShadow(), t6.add(i3), this._positionGroup();
  }, i2.prototype._resetLocation = function() {
    var t6 = this.dataZoomModel, i3 = this.api, n2 = t6.get("brushSelect") ? 7 : 0, r2 = this._findCoordRect(), e2 = { width: i3.getWidth(), height: i3.getHeight() }, o2 = this._orient === EV ? { right: e2.width - r2.x - r2.width, top: e2.height - 30 - 7 - n2, width: r2.width, height: 30 } : { right: 7, top: r2.y, width: 30, height: r2.height }, a2 = Ld(t6.option);
    kn(["right", "top", "width", "height"], (function(t7) {
      "ph" === a2[t7] && (a2[t7] = o2[t7]);
    }));
    var s2 = Nd(a2, e2);
    this._location = { x: s2.x, y: s2.y }, this._size = [s2.width, s2.height], this._orient === OV && this._size.reverse();
  }, i2.prototype._positionGroup = function() {
    var t6 = this.group, i3 = this._location, n2 = this._orient, r2 = this.dataZoomModel.getFirstTargetAxisModel(), e2 = r2 && r2.get("inverse"), o2 = this._displayables.sliderGroup, a2 = (this._dataShadowInfo || {}).otherAxisInverse;
    o2.attr(n2 !== EV || e2 ? n2 === EV && e2 ? { scaleY: a2 ? 1 : -1, scaleX: -1 } : n2 !== OV || e2 ? { scaleY: a2 ? -1 : 1, scaleX: -1, rotation: Math.PI / 2 } : { scaleY: a2 ? -1 : 1, scaleX: 1, rotation: Math.PI / 2 } : { scaleY: a2 ? 1 : -1, scaleX: 1 });
    var s2 = t6.getBoundingRect([o2]);
    t6.x = i3.x - s2.x, t6.y = i3.y - s2.y, t6.markRedraw();
  }, i2.prototype._getViewExtent = function() {
    return [0, this._size[0]];
  }, i2.prototype._renderBackground = function() {
    var t6 = this.dataZoomModel, i3 = this._size, n2 = this._displayables.sliderGroup, r2 = t6.get("brushSelect");
    n2.add(new WV({ silent: true, shape: { x: 0, y: 0, width: i3[0], height: i3[1] }, style: { fill: t6.get("backgroundColor") }, z2: -40 }));
    var e2 = new WV({ shape: { x: 0, y: 0, width: i3[0], height: i3[1] }, style: { fill: "transparent" }, z2: 0, onclick: An(this._onClickPanel, this) }), o2 = this.api.getZr();
    r2 ? (e2.on("mousedown", this._onBrushStart, this), e2.cursor = "crosshair", o2.on("mousemove", this._onBrush), o2.on("mouseup", this._onBrushEnd)) : (o2.off("mousemove", this._onBrush), o2.off("mouseup", this._onBrushEnd)), n2.add(e2);
  }, i2.prototype._renderDataShadow = function() {
    var t6 = this._dataShadowInfo = this._prepareDataShadowInfo();
    if (this._displayables.dataShadowSegs = [], t6) {
      var i3 = this._size, n2 = this._shadowSize || [], r2 = t6.series, e2 = r2.getRawData(), o2 = r2.getShadowDim && r2.getShadowDim(), a2 = o2 && e2.getDimensionInfo(o2) ? r2.getShadowDim() : t6.otherDim;
      if (null != a2) {
        var s2 = this._shadowPolygonPts, l2 = this._shadowPolylinePts;
        if (e2 !== this._shadowData || a2 !== this._shadowDim || i3[0] !== n2[0] || i3[1] !== n2[1]) {
          var u2 = e2.getDataExtent(a2), f2 = 0.3 * (u2[1] - u2[0]);
          u2 = [u2[0] - f2, u2[1] + f2];
          var c2, h2 = [0, i3[1]], v2 = [[i3[0], 0], [0, 0]], d2 = [], p2 = i3[0] / (e2.count() - 1), m2 = 0, b2 = Math.round(e2.count() / i3[0]);
          e2.each([a2], (function(t7, i4) {
            if (b2 > 0 && i4 % b2) m2 += p2;
            else {
              var n3 = null == t7 || isNaN(t7) || "" === t7, r3 = n3 ? 0 : ls(t7, u2, h2, true);
              n3 && !c2 && i4 ? (v2.push([v2[v2.length - 1][0], 0]), d2.push([d2[d2.length - 1][0], 0])) : !n3 && c2 && (v2.push([m2, 0]), d2.push([m2, 0])), v2.push([m2, r3]), d2.push([m2, r3]), m2 += p2, c2 = n3;
            }
          })), s2 = this._shadowPolygonPts = v2, l2 = this._shadowPolylinePts = d2;
        }
        this._shadowData = e2, this._shadowDim = a2, this._shadowSize = [i3[0], i3[1]];
        for (var g3 = this.dataZoomModel, y2 = 0; y2 < 3; y2++) {
          var w3 = x2(1 === y2);
          this._displayables.sliderGroup.add(w3), this._displayables.dataShadowSegs.push(w3);
        }
      }
    }
    function x2(t7) {
      var i4 = g3.getModel(t7 ? "selectedDataBackground" : "dataBackground"), n3 = new rs(), r3 = new Jc({ shape: { points: s2 }, segmentIgnoreThreshold: 1, style: i4.getModel("areaStyle").getAreaStyle(), silent: true, z2: -20 }), e3 = new Qc({ shape: { points: l2 }, segmentIgnoreThreshold: 1, style: i4.getModel("lineStyle").getLineStyle(), silent: true, z2: -19 });
      return n3.add(r3), n3.add(e3), n3;
    }
  }, i2.prototype._prepareDataShadowInfo = function() {
    var t6 = this.dataZoomModel, i3 = t6.get("showDataShadow");
    if (false !== i3) {
      var n2, r2 = this.ecModel;
      return t6.eachTargetAxis((function(e2, o2) {
        kn(t6.getAxisProxy(e2, o2).getTargetSeriesModels(), (function(t7) {
          if (!(n2 || true !== i3 && yn(FV, t7.get("type")) < 0)) {
            var a2, s2 = r2.getComponent(yR(e2), o2).axis, l2 = { x: "y", y: "x", radius: "angle", angle: "radius" }[e2], u2 = t7.coordinateSystem;
            null != l2 && u2.getOtherAxis && (a2 = u2.getOtherAxis(s2).inverse), l2 = t7.getData().mapDimension(l2), n2 = { thisAxis: s2, series: t7, thisDim: e2, otherDim: l2, otherAxisInverse: a2 };
          }
        }), this);
      }), this), n2;
    }
  }, i2.prototype._renderHandle = function() {
    var t6 = this.group, i3 = this._displayables, n2 = i3.handles = [null, null], r2 = i3.handleLabels = [null, null], e2 = this._displayables.sliderGroup, o2 = this._size, a2 = this.dataZoomModel, s2 = this.api, l2 = a2.get("borderRadius") || 0, u2 = a2.get("brushSelect"), f2 = i3.filler = new WV({ silent: u2, style: { fill: a2.get("fillerColor") }, textConfig: { position: "inside" } });
    e2.add(f2), e2.add(new WV({ silent: true, subPixelOptimize: true, shape: { x: 0, y: 0, width: o2[0], height: o2[1], r: l2 }, style: { stroke: a2.get("dataBackgroundColor") || a2.get("borderColor"), lineWidth: 1, fill: "rgba(0,0,0,0)" } })), kn([0, 1], (function(i4) {
      var o3 = a2.get("handleIcon");
      !Wg[o3] && o3.indexOf("path://") < 0 && o3.indexOf("image://") < 0 && (o3 = "path://" + o3);
      var s3 = Fg(o3, -1, 0, 2, 2, null, true);
      s3.attr({ cursor: BV(this._orient), draggable: true, drift: An(this._onDragMove, this, i4), ondragend: An(this._onDragEnd, this), onmouseover: An(this._showDataInfo, this, true), onmouseout: An(this._showDataInfo, this, false), z2: 5 });
      var l3 = s3.getBoundingRect(), u3 = a2.get("handleSize");
      this._handleHeight = us(u3, this._size[1]), this._handleWidth = l3.width / l3.height * this._handleHeight, s3.setStyle(a2.getModel("handleStyle").getItemStyle()), s3.style.strokeNoScale = true, s3.rectHover = true, s3.ensureState("emphasis").style = a2.getModel(["emphasis", "handleStyle"]).getItemStyle(), Qf(s3);
      var f3 = a2.get("handleColor");
      null != f3 && (s3.style.fill = f3), e2.add(n2[i4] = s3);
      var c3 = a2.getModel("textStyle"), h3 = a2.get("handleLabel") || {};
      t6.add(r2[i4] = new Ku({ silent: true, invisible: !h3.show, style: sv(c3, { x: 0, y: 0, text: "", verticalAlign: "middle", align: "center", fill: c3.getTextColor(), font: c3.getFont() }), z2: 10 }));
    }), this);
    var c2 = f2;
    if (u2) {
      var h2 = us(a2.get("moveHandleSize"), o2[1]), v2 = i3.moveHandle = new Zu({ style: a2.getModel("moveHandleStyle").getItemStyle(), silent: true, shape: { r: [0, 0, 2, 2], y: o2[1] - 0.5, height: h2 } }), d2 = 0.8 * h2, p2 = i3.moveHandleIcon = Fg(a2.get("moveHandleIcon"), -d2 / 2, -d2 / 2, d2, d2, "#fff", true);
      p2.silent = true, p2.y = o2[1] + h2 / 2 - 0.5, v2.ensureState("emphasis").style = a2.getModel(["emphasis", "moveHandleStyle"]).getItemStyle();
      var m2 = Math.min(o2[1] / 2, Math.max(h2, 10));
      (c2 = i3.moveZone = new Zu({ invisible: true, shape: { y: o2[1] - m2, height: h2 + m2 } })).on("mouseover", (function() {
        s2.enterEmphasis(v2);
      })).on("mouseout", (function() {
        s2.leaveEmphasis(v2);
      })), e2.add(v2), e2.add(p2), e2.add(c2);
    }
    c2.attr({ draggable: true, cursor: BV(this._orient), drift: An(this._onDragMove, this, "all"), ondragstart: An(this._showDataInfo, this, true), ondragend: An(this._onDragEnd, this), onmouseover: An(this._showDataInfo, this, true), onmouseout: An(this._showDataInfo, this, false) });
  }, i2.prototype._resetInterval = function() {
    var t6 = this._range = this.dataZoomModel.getPercentRange(), i3 = this._getViewExtent();
    this._handleEnds = [ls(t6[0], [0, 100], i3, true), ls(t6[1], [0, 100], i3, true)];
  }, i2.prototype._updateInterval = function(t6, i3) {
    var n2 = this.dataZoomModel, r2 = this._handleEnds, e2 = this._getViewExtent(), o2 = n2.findRepresentativeAxisProxy().getMinMaxSpan(), a2 = [0, 100];
    KI(i3, r2, e2, n2.get("zoomLock") ? "all" : t6, null != o2.minSpan ? ls(o2.minSpan, a2, e2, true) : null, null != o2.maxSpan ? ls(o2.maxSpan, a2, e2, true) : null);
    var s2 = this._range, l2 = this._range = cs([ls(r2[0], e2, a2, true), ls(r2[1], e2, a2, true)]);
    return !s2 || s2[0] !== l2[0] || s2[1] !== l2[1];
  }, i2.prototype._updateView = function(t6) {
    var i3 = this._displayables, n2 = this._handleEnds, r2 = cs(n2.slice()), e2 = this._size;
    kn([0, 1], (function(t7) {
      var r3 = this._handleHeight;
      i3.handles[t7].attr({ scaleX: r3 / 2, scaleY: r3 / 2, x: n2[t7] + (t7 ? -1 : 1), y: e2[1] / 2 - r3 / 2 });
    }), this), i3.filler.setShape({ x: r2[0], y: 0, width: r2[1] - r2[0], height: e2[1] });
    var o2 = { x: r2[0], width: r2[1] - r2[0] };
    i3.moveHandle && (i3.moveHandle.setShape(o2), i3.moveZone.setShape(o2), i3.moveZone.getBoundingRect(), i3.moveHandleIcon && i3.moveHandleIcon.attr("x", o2.x + o2.width / 2));
    for (var a2 = i3.dataShadowSegs, s2 = [0, r2[0], r2[1], e2[0]], l2 = 0; l2 < a2.length; l2++) {
      var u2 = a2[l2], f2 = u2.getClipPath();
      f2 || (f2 = new Zu(), u2.setClipPath(f2)), f2.setShape({ x: s2[l2], y: 0, width: s2[l2 + 1] - s2[l2], height: e2[1] });
    }
    this._updateDataInfo(t6);
  }, i2.prototype._updateDataInfo = function(t6) {
    var i3 = this.dataZoomModel, n2 = this._displayables, r2 = n2.handleLabels, e2 = this._orient, o2 = ["", ""];
    if (i3.get("showDetail")) {
      var a2 = i3.findRepresentativeAxisProxy();
      if (a2) {
        var s2 = a2.getAxisModel().axis, l2 = this._range, u2 = t6 ? a2.calculateDataWindow({ start: l2[0], end: l2[1] }).valueWindow : a2.getDataValueWindow();
        o2 = [this._formatLabel(u2[0], s2), this._formatLabel(u2[1], s2)];
      }
    }
    var f2 = cs(this._handleEnds.slice());
    function c2(t7) {
      var i4 = jh(n2.handles[t7].parent, this.group), a3 = Yh(0 === t7 ? "right" : "left", i4), s3 = this._handleWidth / 2 + 5, l3 = Hh([f2[t7] + (0 === t7 ? -s3 : s3), this._size[1] / 2], i4);
      r2[t7].setStyle({ x: l3[0], y: l3[1], verticalAlign: e2 === EV ? "middle" : a3, align: e2 === EV ? a3 : "center", text: o2[t7] });
    }
    c2.call(this, 0), c2.call(this, 1);
  }, i2.prototype._formatLabel = function(t6, i3) {
    var n2 = this.dataZoomModel, r2 = n2.get("labelFormatter"), e2 = n2.get("labelPrecision");
    null != e2 && "auto" !== e2 || (e2 = i3.getPixelPrecision());
    var o2 = null == t6 || isNaN(t6) ? "" : "category" === i3.type || "time" === i3.type ? i3.scale.getLabel({ value: Math.round(t6) }) : t6.toFixed(Math.min(e2, 20));
    return Tn(r2) ? r2(t6, o2) : In(r2) ? r2.replace("{value}", o2) : o2;
  }, i2.prototype._showDataInfo = function(t6) {
    var i3 = (this.dataZoomModel.get("handleLabel") || {}).show || false, n2 = this.dataZoomModel.getModel(["emphasis", "handleLabel"]).get("show") || false, r2 = t6 || this._dragging ? n2 : i3, e2 = this._displayables, o2 = e2.handleLabels;
    o2[0].attr("invisible", !r2), o2[1].attr("invisible", !r2), e2.moveHandle && this.api[r2 ? "enterEmphasis" : "leaveEmphasis"](e2.moveHandle, 1);
  }, i2.prototype._onDragMove = function(t6, i3, n2, r2) {
    this._dragging = true, Yr(r2.event);
    var e2 = Hh([i3, n2], this._displayables.sliderGroup.getLocalTransform(), true), o2 = this._updateInterval(t6, e2[0]), a2 = this.dataZoomModel.get("realtime");
    this._updateView(!a2), o2 && a2 && this._dispatchZoomAction(true);
  }, i2.prototype._onDragEnd = function() {
    this._dragging = false, this._showDataInfo(false), !this.dataZoomModel.get("realtime") && this._dispatchZoomAction(false);
  }, i2.prototype._onClickPanel = function(t6) {
    var i3 = this._size, n2 = this._displayables.sliderGroup.transformCoordToLocal(t6.offsetX, t6.offsetY);
    if (!(n2[0] < 0 || n2[0] > i3[0] || n2[1] < 0 || n2[1] > i3[1])) {
      var r2 = this._handleEnds, e2 = this._updateInterval("all", n2[0] - (r2[0] + r2[1]) / 2);
      this._updateView(), e2 && this._dispatchZoomAction(false);
    }
  }, i2.prototype._onBrushStart = function(t6) {
    this._brushStart = new ne(t6.offsetX, t6.offsetY), this._brushing = true, this._brushStartTime = +/* @__PURE__ */ new Date();
  }, i2.prototype._onBrushEnd = function() {
    if (this._brushing) {
      var t6 = this._displayables.brushRect;
      if (this._brushing = false, t6) {
        t6.attr("ignore", true);
        var i3 = t6.shape;
        if (!(+/* @__PURE__ */ new Date() - this._brushStartTime < 200 && Math.abs(i3.width) < 5)) {
          var n2 = this._getViewExtent(), r2 = [0, 100];
          this._range = cs([ls(i3.x, n2, r2, true), ls(i3.x + i3.width, n2, r2, true)]), this._handleEnds = [i3.x, i3.x + i3.width], this._updateView(), this._dispatchZoomAction(false);
        }
      }
    }
  }, i2.prototype._onBrush = function(t6) {
    this._brushing && (Yr(t6.event), this._updateBrushRect(t6.offsetX, t6.offsetY));
  }, i2.prototype._updateBrushRect = function(t6, i3) {
    var n2 = this._displayables, r2 = n2.brushRect;
    r2 || (r2 = n2.brushRect = new WV({ silent: true, style: this.dataZoomModel.getModel("brushStyle").getItemStyle() }), n2.sliderGroup.add(r2)), r2.attr("ignore", false);
    var e2 = this._brushStart, o2 = this._displayables.sliderGroup, a2 = o2.transformCoordToLocal(t6, i3), s2 = o2.transformCoordToLocal(e2.x, e2.y), l2 = this._size;
    a2[0] = Math.max(Math.min(l2[0], a2[0]), 0), r2.setShape({ x: s2[0], y: 0, width: a2[0] - s2[0], height: l2[1] });
  }, i2.prototype._dispatchZoomAction = function(t6) {
    var i3 = this._range;
    this.api.dispatchAction({ type: "dataZoom", from: this.uid, dataZoomId: this.dataZoomModel.id, animation: t6 ? RV : null, start: i3[0], end: i3[1] });
  }, i2.prototype._findCoordRect = function() {
    var t6, i3 = wR(this.dataZoomModel).infoList;
    if (!t6 && i3.length) {
      var n2 = i3[0].model.coordinateSystem;
      t6 = n2.getRect && n2.getRect();
    }
    if (!t6) {
      var r2 = this.api.getWidth(), e2 = this.api.getHeight();
      t6 = { x: 0.2 * r2, y: 0.2 * e2, width: 0.6 * r2, height: 0.6 * e2 };
    }
    return t6;
  }, i2.type = "dataZoom.slider", i2;
})(SR);
function BV(t5) {
  return "vertical" === t5 ? "ns-resize" : "ew-resize";
}
function VV(t5) {
  t5.registerComponentModel(DV), t5.registerComponentView(PV), LR(t5);
}
var jV = function(t5, i2, n2) {
  var r2 = dn((HV[t5] || {})[i2]);
  return n2 && _n(r2) ? r2[r2.length - 1] : r2;
}, HV = { color: { active: ["#006edd", "#e0ffff"], inactive: ["rgba(0,0,0,0)"] }, colorHue: { active: [0, 360], inactive: [0, 0] }, colorSaturation: { active: [0.3, 1], inactive: [0, 0] }, colorLightness: { active: [0.9, 0.5], inactive: [0, 0] }, colorAlpha: { active: [0.3, 1], inactive: [0, 0] }, opacity: { active: [0.3, 1], inactive: [0, 0] }, symbol: { active: ["circle", "roundRect", "diamond"], inactive: ["none"] }, symbolSize: { active: [10, 50], inactive: [0, 0] } }, YV = Y_.mapVisual, XV = Y_.eachVisual, UV = _n, $V = kn, GV = cs, ZV = ls, qV = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.stateList = ["inRange", "outOfRange"], n2.replacableOptionKeys = ["inRange", "outOfRange", "target", "controller", "color"], n2.layoutMode = { type: "box", ignoreSize: true }, n2.dataBound = [-1 / 0, 1 / 0], n2.targetVisuals = {}, n2.controllerVisuals = {}, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3, n2) {
    this.mergeDefaultAndTheme(t6, n2);
  }, i2.prototype.optionUpdated = function(t6, i3) {
    !i3 && XP(this.option, t6, this.replacableOptionKeys), this.textStyleModel = this.getModel("textStyle"), this.resetItemSize(), this.completeVisualOption();
  }, i2.prototype.resetVisual = function(t6) {
    var i3 = this.stateList;
    t6 = An(t6, this), this.controllerVisuals = YP(this.option.controller, i3, t6), this.targetVisuals = YP(this.option.target, i3, t6);
  }, i2.prototype.getItemSymbol = function() {
    return null;
  }, i2.prototype.getTargetSeriesIndices = function() {
    var t6 = this.option.seriesIndex, i3 = [];
    return null == t6 || "all" === t6 ? this.ecModel.eachSeries((function(t7, n2) {
      i3.push(n2);
    })) : i3 = Ds(t6), i3;
  }, i2.prototype.eachTargetSeries = function(t6, i3) {
    kn(this.getTargetSeriesIndices(), (function(n2) {
      var r2 = this.ecModel.getSeriesByIndex(n2);
      r2 && t6.call(i3, r2);
    }), this);
  }, i2.prototype.isTargetSeries = function(t6) {
    var i3 = false;
    return this.eachTargetSeries((function(n2) {
      n2 === t6 && (i3 = true);
    })), i3;
  }, i2.prototype.formatValueText = function(t6, i3, n2) {
    var r2, e2 = this.option, o2 = e2.precision, a2 = this.dataBound, s2 = e2.formatter;
    n2 = n2 || ["<", ">"], _n(t6) && (t6 = t6.slice(), r2 = true);
    var l2 = i3 ? t6 : r2 ? [u2(t6[0]), u2(t6[1])] : u2(t6);
    return In(s2) ? s2.replace("{value}", r2 ? l2[0] : l2).replace("{value2}", r2 ? l2[1] : l2) : Tn(s2) ? r2 ? s2(t6[0], t6[1]) : s2(t6) : r2 ? t6[0] === a2[0] ? n2[0] + " " + l2[1] : t6[1] === a2[1] ? n2[1] + " " + l2[0] : l2[0] + " - " + l2[1] : l2;
    function u2(t7) {
      return t7 === a2[0] ? "min" : t7 === a2[1] ? "max" : (+t7).toFixed(Math.min(o2, 20));
    }
  }, i2.prototype.resetExtent = function() {
    var t6 = this.option, i3 = GV([t6.min, t6.max]);
    this._dataExtent = i3;
  }, i2.prototype.getDataDimensionIndex = function(t6) {
    var i3 = this.option.dimension;
    if (null != i3) return t6.getDimensionIndex(i3);
    for (var n2 = t6.dimensions, r2 = n2.length - 1; r2 >= 0; r2--) {
      var e2 = t6.getDimensionInfo(n2[r2]);
      if (!e2.isCalculationCoord) return e2.storeDimIndex;
    }
  }, i2.prototype.getExtent = function() {
    return this._dataExtent.slice();
  }, i2.prototype.completeVisualOption = function() {
    var t6 = this.ecModel, i3 = this.option, n2 = { inRange: i3.inRange, outOfRange: i3.outOfRange }, r2 = i3.target || (i3.target = {}), e2 = i3.controller || (i3.controller = {});
    pn(r2, n2), pn(e2, n2);
    var o2 = this.isCategory();
    function a2(n3) {
      UV(i3.color) && !n3.inRange && (n3.inRange = { color: i3.color.slice().reverse() }), n3.inRange = n3.inRange || { color: t6.get("gradientColor") };
    }
    a2.call(this, r2), a2.call(this, e2), (function(t7, i4, n3) {
      var r3 = t7[i4], e3 = t7[n3];
      r3 && !e3 && (e3 = t7[n3] = {}, $V(r3, (function(t8, i5) {
        if (Y_.isValidType(i5)) {
          var n4 = jV(i5, "inactive", o2);
          null != n4 && (e3[i5] = n4, "color" !== i5 || e3.hasOwnProperty("opacity") || e3.hasOwnProperty("colorAlpha") || (e3.opacity = [0, 0]));
        }
      })));
    }).call(this, r2, "inRange", "outOfRange"), (function(t7) {
      var i4 = (t7.inRange || {}).symbol || (t7.outOfRange || {}).symbol, n3 = (t7.inRange || {}).symbolSize || (t7.outOfRange || {}).symbolSize, r3 = this.get("inactiveColor"), e3 = this.getItemSymbol() || "roundRect";
      $V(this.stateList, (function(a3) {
        var s2 = this.itemSize, l2 = t7[a3];
        l2 || (l2 = t7[a3] = { color: o2 ? r3 : [r3] }), null == l2.symbol && (l2.symbol = i4 && dn(i4) || (o2 ? e3 : [e3])), null == l2.symbolSize && (l2.symbolSize = n3 && dn(n3) || (o2 ? s2[0] : [s2[0], s2[0]])), l2.symbol = YV(l2.symbol, (function(t8) {
          return "none" === t8 ? e3 : t8;
        }));
        var u2 = l2.symbolSize;
        if (null != u2) {
          var f2 = -1 / 0;
          XV(u2, (function(t8) {
            t8 > f2 && (f2 = t8);
          })), l2.symbolSize = YV(u2, (function(t8) {
            return ZV(t8, [0, f2], [0, s2[0]], true);
          }));
        }
      }), this);
    }).call(this, e2);
  }, i2.prototype.resetItemSize = function() {
    this.itemSize = [parseFloat(this.get("itemWidth")), parseFloat(this.get("itemHeight"))];
  }, i2.prototype.isCategory = function() {
    return !!this.option.categories;
  }, i2.prototype.setSelected = function() {
  }, i2.prototype.getSelected = function() {
    return null;
  }, i2.prototype.getValueState = function() {
    return null;
  }, i2.prototype.getVisualMeta = function() {
    return null;
  }, i2.type = "visualMap", i2.dependencies = ["series"], i2.defaultOption = { show: true, z: 4, seriesIndex: "all", min: 0, max: 200, left: 0, right: null, top: null, bottom: 0, itemWidth: null, itemHeight: null, inverse: false, orient: "vertical", backgroundColor: "rgba(0,0,0,0)", borderColor: "#ccc", contentColor: "#5793f3", inactiveColor: "#aaa", borderWidth: 0, padding: 5, textGap: 10, precision: 0, textStyle: { color: "#333" } }, i2;
})(Ed), JV = [20, 140], KV = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.optionUpdated = function(i3, n2) {
    t5.prototype.optionUpdated.apply(this, arguments), this.resetExtent(), this.resetVisual((function(t6) {
      t6.mappingMethod = "linear", t6.dataExtent = this.getExtent();
    })), this._resetRange();
  }, i2.prototype.resetItemSize = function() {
    t5.prototype.resetItemSize.apply(this, arguments);
    var i3 = this.itemSize;
    (null == i3[0] || isNaN(i3[0])) && (i3[0] = JV[0]), (null == i3[1] || isNaN(i3[1])) && (i3[1] = JV[1]);
  }, i2.prototype._resetRange = function() {
    var t6 = this.getExtent(), i3 = this.option.range;
    !i3 || i3.auto ? (t6.auto = 1, this.option.range = t6) : _n(i3) && (i3[0] > i3[1] && i3.reverse(), i3[0] = Math.max(i3[0], t6[0]), i3[1] = Math.min(i3[1], t6[1]));
  }, i2.prototype.completeVisualOption = function() {
    t5.prototype.completeVisualOption.apply(this, arguments), kn(this.stateList, (function(t6) {
      var i3 = this.option.controller[t6].symbolSize;
      i3 && i3[0] !== i3[1] && (i3[0] = i3[1] / 3);
    }), this);
  }, i2.prototype.setSelected = function(t6) {
    this.option.range = t6.slice(), this._resetRange();
  }, i2.prototype.getSelected = function() {
    var t6 = this.getExtent(), i3 = cs((this.get("range") || []).slice());
    return i3[0] > t6[1] && (i3[0] = t6[1]), i3[1] > t6[1] && (i3[1] = t6[1]), i3[0] < t6[0] && (i3[0] = t6[0]), i3[1] < t6[0] && (i3[1] = t6[0]), i3;
  }, i2.prototype.getValueState = function(t6) {
    var i3 = this.option.range, n2 = this.getExtent();
    return (i3[0] <= n2[0] || i3[0] <= t6) && (i3[1] >= n2[1] || t6 <= i3[1]) ? "inRange" : "outOfRange";
  }, i2.prototype.findTargetDataIndices = function(t6) {
    var i3 = [];
    return this.eachTargetSeries((function(n2) {
      var r2 = [], e2 = n2.getData();
      e2.each(this.getDataDimensionIndex(e2), (function(i4, n3) {
        t6[0] <= i4 && i4 <= t6[1] && r2.push(n3);
      }), this), i3.push({ seriesId: n2.id, dataIndex: r2 });
    }), this), i3;
  }, i2.prototype.getVisualMeta = function(t6) {
    var i3 = QV(0, 0, this.getExtent()), n2 = QV(0, 0, this.option.range.slice()), r2 = [];
    function e2(i4, n3) {
      r2.push({ value: i4, color: t6(i4, n3) });
    }
    for (var o2 = 0, a2 = 0, s2 = n2.length, l2 = i3.length; a2 < l2 && (!n2.length || i3[a2] <= n2[0]); a2++) i3[a2] < n2[o2] && e2(i3[a2], "outOfRange");
    for (var u2 = 1; o2 < s2; o2++, u2 = 0) u2 && r2.length && e2(n2[o2], "outOfRange"), e2(n2[o2], "inRange");
    for (u2 = 1; a2 < l2; a2++) (!n2.length || n2[n2.length - 1] < i3[a2]) && (u2 && (r2.length && e2(r2[r2.length - 1].value, "outOfRange"), u2 = 0), e2(i3[a2], "outOfRange"));
    var f2 = r2.length;
    return { stops: r2, outerColors: [f2 ? r2[0].color : "transparent", f2 ? r2[f2 - 1].color : "transparent"] };
  }, i2.type = "visualMap.continuous", i2.defaultOption = Lv(qV.defaultOption, { align: "auto", calculable: false, hoverLink: true, realtime: true, handleIcon: "path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z", handleSize: "120%", handleStyle: { borderColor: "#fff", borderWidth: 1 }, indicatorIcon: "circle", indicatorSize: "50%", indicatorStyle: { borderColor: "#fff", borderWidth: 2, shadowBlur: 2, shadowOffsetX: 1, shadowOffsetY: 1, shadowColor: "rgba(0,0,0,0.2)" } }), i2;
})(qV);
function QV(t5, i2, n2) {
  if (n2[0] === n2[1]) return n2.slice();
  for (var r2 = (n2[1] - n2[0]) / 200, e2 = n2[0], o2 = [], a2 = 0; a2 <= 200 && e2 < n2[1]; a2++) o2.push(e2), e2 += r2;
  return o2.push(n2[1]), o2;
}
var tj = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2.autoPositionValues = { left: 1, right: 1, top: 1, bottom: 1 }, n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(t6, i3) {
    this.ecModel = t6, this.api = i3;
  }, i2.prototype.render = function(t6, i3, n2, r2) {
    this.visualMapModel = t6, false !== t6.get("show") ? this.doRender(t6, i3, n2, r2) : this.group.removeAll();
  }, i2.prototype.renderBackground = function(t6) {
    var i3 = this.visualMapModel, n2 = md(i3.get("padding") || 0), r2 = t6.getBoundingRect();
    t6.add(new Zu({ z2: -1, silent: true, shape: { x: r2.x - n2[3], y: r2.y - n2[0], width: r2.width + n2[3] + n2[1], height: r2.height + n2[0] + n2[2] }, style: { fill: i3.get("backgroundColor"), stroke: i3.get("borderColor"), lineWidth: i3.get("borderWidth") } }));
  }, i2.prototype.getControllerVisual = function(t6, i3, n2) {
    var r2 = (n2 = n2 || {}).forceState, e2 = this.visualMapModel, o2 = {};
    if ("color" === i3) {
      var a2 = e2.get("contentColor");
      o2.color = a2;
    }
    function s2(t7) {
      return o2[t7];
    }
    function l2(t7, i4) {
      o2[t7] = i4;
    }
    var u2 = e2.controllerVisuals[r2 || e2.getValueState(t6)];
    return kn(Y_.prepareVisualTypes(u2), (function(r3) {
      var e3 = u2[r3];
      n2.convertOpacityToAlpha && "opacity" === r3 && (r3 = "colorAlpha", e3 = u2.__alphaForOpacity), Y_.dependsOn(r3, i3) && e3 && e3.applyVisual(t6, s2, l2);
    })), o2[i3];
  }, i2.prototype.positionGroup = function(t6) {
    var i3 = this.api;
    _d(t6, this.visualMapModel.getBoxLayoutParams(), { width: i3.getWidth(), height: i3.getHeight() });
  }, i2.prototype.doRender = function() {
  }, i2.type = "visualMap", i2;
})(xb), ij = [["left", "right", "width"], ["top", "bottom", "height"]];
function nj(t5, i2, n2) {
  var r2 = t5.option, e2 = r2.align;
  if (null != e2 && "auto" !== e2) return e2;
  for (var o2 = { width: i2.getWidth(), height: i2.getHeight() }, a2 = "horizontal" === r2.orient ? 1 : 0, s2 = ij[a2], l2 = [0, null, 10], u2 = {}, f2 = 0; f2 < 3; f2++) u2[ij[1 - a2][f2]] = l2[f2], u2[s2[f2]] = 2 === f2 ? n2[0] : r2[s2[f2]];
  var c2 = [["x", "width", 3], ["y", "height", 0]][a2], h2 = Nd(u2, o2, r2.padding);
  return s2[(h2.margin[c2[2]] || 0) + h2[c2[0]] + 0.5 * h2[c2[1]] < 0.5 * o2[c2[1]] ? 0 : 1];
}
function rj(t5, i2) {
  return kn(t5 || [], (function(t6) {
    null != t6.dataIndex && (t6.dataIndexInside = t6.dataIndex, t6.dataIndex = null), t6.highlightKey = "visualMap" + (i2 ? i2.componentIndex : "");
  })), t5;
}
var ej = ls, oj = kn, aj = Math.min, sj = Math.max, lj = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2._shapes = {}, n2._dataInterval = [], n2._handleEnds = [], n2._hoverLinkDataIndices = [], n2;
  }
  return Yi(i2, t5), i2.prototype.init = function(i3, n2) {
    t5.prototype.init.call(this, i3, n2), this._hoverLinkFromSeriesMouseOver = An(this._hoverLinkFromSeriesMouseOver, this), this._hideIndicator = An(this._hideIndicator, this);
  }, i2.prototype.doRender = function(t6, i3, n2, r2) {
    r2 && "selectDataRange" === r2.type && r2.from === this.uid || this._buildView();
  }, i2.prototype._buildView = function() {
    this.group.removeAll();
    var t6 = this.visualMapModel, i3 = this.group;
    this._orient = t6.get("orient"), this._useHandle = t6.get("calculable"), this._resetInterval(), this._renderBar(i3);
    var n2 = t6.get("text");
    this._renderEndsText(i3, n2, 0), this._renderEndsText(i3, n2, 1), this._updateView(true), this.renderBackground(i3), this._updateView(), this._enableHoverLinkToSeries(), this._enableHoverLinkFromSeries(), this.positionGroup(i3);
  }, i2.prototype._renderEndsText = function(t6, i3, n2) {
    if (i3) {
      var r2 = i3[1 - n2];
      r2 = null != r2 ? r2 + "" : "";
      var e2 = this.visualMapModel, o2 = e2.get("textGap"), a2 = e2.itemSize, s2 = this._shapes.mainGroup, l2 = this._applyTransform([a2[0] / 2, 0 === n2 ? -o2 : a2[1] + o2], s2), u2 = this._applyTransform(0 === n2 ? "bottom" : "top", s2), f2 = this._orient;
      this.group.add(new Ku({ style: sv(this.visualMapModel.textStyleModel, { x: l2[0], y: l2[1], verticalAlign: "horizontal" === f2 ? "middle" : u2, align: "horizontal" === f2 ? u2 : "center", text: r2 }) }));
    }
  }, i2.prototype._renderBar = function(t6) {
    var i3 = this.visualMapModel, n2 = this._shapes, r2 = i3.itemSize, e2 = this._orient, o2 = this._useHandle, a2 = nj(i3, this.api, r2), s2 = n2.mainGroup = this._createBarGroup(a2), l2 = new rs();
    s2.add(l2), l2.add(n2.outOfRange = uj()), l2.add(n2.inRange = uj(null, o2 ? cj(this._orient) : null, An(this._dragHandle, this, "all", false), An(this._dragHandle, this, "all", true))), l2.setClipPath(new Zu({ shape: { x: 0, y: 0, width: r2[0], height: r2[1], r: 3 } }));
    var u2 = i3.textStyleModel.getTextRect(""), f2 = sj(u2.width, u2.height);
    o2 && (n2.handleThumbs = [], n2.handleLabels = [], n2.handleLabelPoints = [], this._createHandle(i3, s2, 0, r2, f2, e2), this._createHandle(i3, s2, 1, r2, f2, e2)), this._createIndicator(i3, s2, r2, f2, e2), t6.add(s2);
  }, i2.prototype._createHandle = function(t6, i3, n2, r2) {
    var e2 = An(this._dragHandle, this, n2, false), o2 = An(this._dragHandle, this, n2, true), a2 = Xa(t6.get("handleSize"), r2[0]), s2 = Fg(t6.get("handleIcon"), -a2 / 2, -a2 / 2, a2, a2, null, true), l2 = cj(this._orient);
    s2.attr({ cursor: l2, draggable: true, drift: e2, ondragend: o2, onmousemove: function(t7) {
      Yr(t7.event);
    } }), s2.x = r2[0] / 2, s2.useStyle(t6.getModel("handleStyle").getItemStyle()), s2.setStyle({ strokeNoScale: true, strokeFirst: true }), s2.style.lineWidth *= 2, s2.ensureState("emphasis").style = t6.getModel(["emphasis", "handleStyle"]).getItemStyle(), oc(s2, true), i3.add(s2);
    var u2 = new Ku({ cursor: l2, draggable: true, drift: e2, onmousemove: function(t7) {
      Yr(t7.event);
    }, ondragend: o2, style: sv(this.visualMapModel.textStyleModel, { x: 0, y: 0, text: "" }) });
    u2.ensureState("blur").style = { opacity: 0.1 }, u2.stateTransition = { duration: 200 }, this.group.add(u2);
    var f2 = [a2, 0], c2 = this._shapes;
    c2.handleThumbs[n2] = s2, c2.handleLabelPoints[n2] = f2, c2.handleLabels[n2] = u2;
  }, i2.prototype._createIndicator = function(t6, i3, n2, r2, e2) {
    var o2 = Xa(t6.get("indicatorSize"), n2[0]), a2 = Fg(t6.get("indicatorIcon"), -o2 / 2, -o2 / 2, o2, o2, null, true);
    a2.attr({ cursor: "move", invisible: true, silent: true, x: n2[0] / 2 });
    var s2 = t6.getModel("indicatorStyle").getItemStyle();
    if (a2 instanceof ju) {
      var l2 = a2.style;
      a2.useStyle(bn({ image: l2.image, x: l2.x, y: l2.y, width: l2.width, height: l2.height }, s2));
    } else a2.useStyle(s2);
    i3.add(a2);
    var u2 = new Ku({ silent: true, invisible: true, style: sv(this.visualMapModel.textStyleModel, { x: 0, y: 0, text: "" }) });
    this.group.add(u2);
    var f2 = [("horizontal" === e2 ? r2 / 2 : 6) + n2[0] / 2, 0], c2 = this._shapes;
    c2.indicator = a2, c2.indicatorLabel = u2, c2.indicatorLabelPoint = f2, this._firstShowIndicator = true;
  }, i2.prototype._dragHandle = function(t6, i3, n2, r2) {
    if (this._useHandle) {
      if (this._dragging = !i3, !i3) {
        var e2 = this._applyTransform([n2, r2], this._shapes.mainGroup, true);
        this._updateInterval(t6, e2[1]), this._hideIndicator(), this._updateView();
      }
      i3 === !this.visualMapModel.get("realtime") && this.api.dispatchAction({ type: "selectDataRange", from: this.uid, visualMapId: this.visualMapModel.id, selected: this._dataInterval.slice() }), i3 ? !this._hovering && this._clearHoverLinkToSeries() : fj(this.visualMapModel) && this._doHoverLinkToSeries(this._handleEnds[t6], false);
    }
  }, i2.prototype._resetInterval = function() {
    var t6 = this.visualMapModel, i3 = this._dataInterval = t6.getSelected(), n2 = t6.getExtent(), r2 = [0, t6.itemSize[1]];
    this._handleEnds = [ej(i3[0], n2, r2, true), ej(i3[1], n2, r2, true)];
  }, i2.prototype._updateInterval = function(t6, i3) {
    var n2 = this.visualMapModel, r2 = this._handleEnds, e2 = [0, n2.itemSize[1]];
    KI(i3 = i3 || 0, r2, e2, t6, 0);
    var o2 = n2.getExtent();
    this._dataInterval = [ej(r2[0], e2, o2, true), ej(r2[1], e2, o2, true)];
  }, i2.prototype._updateView = function(t6) {
    var i3 = this.visualMapModel, n2 = i3.getExtent(), r2 = this._shapes, e2 = [0, i3.itemSize[1]], o2 = t6 ? e2 : this._handleEnds, a2 = this._createBarVisual(this._dataInterval, n2, o2, "inRange"), s2 = this._createBarVisual(n2, n2, e2, "outOfRange");
    r2.inRange.setStyle({ fill: a2.barColor }).setShape("points", a2.barPoints), r2.outOfRange.setStyle({ fill: s2.barColor }).setShape("points", s2.barPoints), this._updateHandle(o2, a2);
  }, i2.prototype._createBarVisual = function(t6, i3, n2, r2) {
    var e2 = { forceState: r2, convertOpacityToAlpha: true }, o2 = this._makeColorGradient(t6, e2), a2 = [this.getControllerVisual(t6[0], "symbolSize", e2), this.getControllerVisual(t6[1], "symbolSize", e2)], s2 = this._createBarPoints(n2, a2);
    return { barColor: new ch(0, 0, 0, 1, o2), barPoints: s2, handlesColor: [o2[0].color, o2[o2.length - 1].color] };
  }, i2.prototype._makeColorGradient = function(t6, i3) {
    var n2 = [], r2 = (t6[1] - t6[0]) / 100;
    n2.push({ color: this.getControllerVisual(t6[0], "color", i3), offset: 0 });
    for (var e2 = 1; e2 < 100; e2++) {
      var o2 = t6[0] + r2 * e2;
      if (o2 > t6[1]) break;
      n2.push({ color: this.getControllerVisual(o2, "color", i3), offset: e2 / 100 });
    }
    return n2.push({ color: this.getControllerVisual(t6[1], "color", i3), offset: 1 }), n2;
  }, i2.prototype._createBarPoints = function(t6, i3) {
    var n2 = this.visualMapModel.itemSize;
    return [[n2[0] - i3[0], t6[0]], [n2[0], t6[0]], [n2[0], t6[1]], [n2[0] - i3[1], t6[1]]];
  }, i2.prototype._createBarGroup = function(t6) {
    var i3 = this._orient, n2 = this.visualMapModel.get("inverse");
    return new rs("horizontal" !== i3 || n2 ? "horizontal" === i3 && n2 ? { scaleX: "bottom" === t6 ? -1 : 1, rotation: -Math.PI / 2 } : "vertical" !== i3 || n2 ? { scaleX: "left" === t6 ? 1 : -1 } : { scaleX: "left" === t6 ? 1 : -1, scaleY: -1 } : { scaleX: "bottom" === t6 ? 1 : -1, rotation: Math.PI / 2 });
  }, i2.prototype._updateHandle = function(t6, i3) {
    if (this._useHandle) {
      var n2 = this._shapes, r2 = this.visualMapModel, e2 = n2.handleThumbs, o2 = n2.handleLabels, a2 = r2.itemSize, s2 = r2.getExtent(), l2 = this._applyTransform("left", n2.mainGroup);
      oj([0, 1], (function(u2) {
        var f2 = e2[u2];
        f2.setStyle("fill", i3.handlesColor[u2]), f2.y = t6[u2];
        var c2 = ej(t6[u2], [0, a2[1]], s2, true), h2 = this.getControllerVisual(c2, "symbolSize");
        f2.scaleX = f2.scaleY = h2 / a2[0], f2.x = a2[0] - h2 / 2;
        var v2 = Hh(n2.handleLabelPoints[u2], jh(f2, this.group));
        "horizontal" === this._orient && (v2[1] += "left" === l2 || "top" === l2 ? (a2[0] - h2) / 2 : (a2[0] - h2) / -2), o2[u2].setStyle({ x: v2[0], y: v2[1], text: r2.formatValueText(this._dataInterval[u2]), verticalAlign: "middle", align: "vertical" === this._orient ? this._applyTransform("left", n2.mainGroup) : "center" });
      }), this);
    }
  }, i2.prototype._showIndicator = function(t6, i3, n2) {
    var r2 = this.visualMapModel, e2 = r2.getExtent(), o2 = r2.itemSize, a2 = [0, o2[1]], s2 = this._shapes, l2 = s2.indicator;
    if (l2) {
      l2.attr("invisible", false);
      var u2 = this.getControllerVisual(t6, "color", { convertOpacityToAlpha: true }), f2 = this.getControllerVisual(t6, "symbolSize"), c2 = ej(t6, e2, a2, true), h2 = o2[0] - f2 / 2, v2 = { x: l2.x, y: l2.y };
      l2.y = c2, l2.x = h2;
      var d2 = Hh(s2.indicatorLabelPoint, jh(l2, this.group)), p2 = s2.indicatorLabel;
      p2.attr("invisible", false);
      var m2 = this._applyTransform("left", s2.mainGroup), b2 = "horizontal" === this._orient;
      p2.setStyle({ text: (n2 || "") + r2.formatValueText(i3), verticalAlign: b2 ? m2 : "middle", align: b2 ? "center" : m2 });
      var g3 = { x: h2, y: c2, style: { fill: u2 } }, y2 = { style: { x: d2[0], y: d2[1] } };
      if (r2.ecModel.isAnimationEnabled() && !this._firstShowIndicator) {
        var w3 = { duration: 100, easing: "cubicInOut", additive: true };
        l2.x = v2.x, l2.y = v2.y, l2.animateTo(g3, w3), p2.animateTo(y2, w3);
      } else l2.attr(g3), p2.attr(y2);
      this._firstShowIndicator = false;
      var x2 = this._shapes.handleLabels;
      if (x2) for (var k2 = 0; k2 < x2.length; k2++) this.api.enterBlur(x2[k2]);
    }
  }, i2.prototype._enableHoverLinkToSeries = function() {
    var t6 = this;
    this._shapes.mainGroup.on("mousemove", (function(i3) {
      if (t6._hovering = true, !t6._dragging) {
        var n2 = t6.visualMapModel.itemSize, r2 = t6._applyTransform([i3.offsetX, i3.offsetY], t6._shapes.mainGroup, true, true);
        r2[1] = aj(sj(0, r2[1]), n2[1]), t6._doHoverLinkToSeries(r2[1], 0 <= r2[0] && r2[0] <= n2[0]);
      }
    })).on("mouseout", (function() {
      t6._hovering = false, !t6._dragging && t6._clearHoverLinkToSeries();
    }));
  }, i2.prototype._enableHoverLinkFromSeries = function() {
    var t6 = this.api.getZr();
    this.visualMapModel.option.hoverLink ? (t6.on("mouseover", this._hoverLinkFromSeriesMouseOver, this), t6.on("mouseout", this._hideIndicator, this)) : this._clearHoverLinkFromSeries();
  }, i2.prototype._doHoverLinkToSeries = function(t6, i3) {
    var n2 = this.visualMapModel;
    if (n2.option.hoverLink) {
      var r2 = [0, n2.itemSize[1]], e2 = n2.getExtent();
      t6 = aj(sj(r2[0], t6), r2[1]);
      var o2 = (function(t7, i4, n3) {
        var r3 = 6, e3 = t7.get("hoverLinkDataSize");
        return e3 && (r3 = ej(e3, i4, n3, true) / 2), r3;
      })(n2, e2, r2), a2 = [t6 - o2, t6 + o2], s2 = ej(t6, r2, e2, true), l2 = [ej(a2[0], r2, e2, true), ej(a2[1], r2, e2, true)];
      a2[0] < r2[0] && (l2[0] = -1 / 0), a2[1] > r2[1] && (l2[1] = 1 / 0), i3 && (l2[0] === -1 / 0 ? this._showIndicator(s2, l2[1], "< ", o2) : l2[1] === 1 / 0 ? this._showIndicator(s2, l2[0], "> ", o2) : this._showIndicator(s2, s2, " ", o2));
      var u2 = this._hoverLinkDataIndices, f2 = [];
      (i3 || fj(n2)) && (f2 = this._hoverLinkDataIndices = n2.findTargetDataIndices(l2));
      var c2 = (function(t7, i4) {
        var n3 = {}, r3 = {};
        return e3(t7 || [], n3), e3(i4 || [], r3, n3), [o3(n3), o3(r3)];
        function e3(t8, i5, n4) {
          for (var r4 = 0, e4 = t8.length; r4 < e4; r4++) {
            var o4 = Vs(t8[r4].seriesId, null);
            if (null == o4) return;
            for (var a3 = Ds(t8[r4].dataIndex), s3 = n4 && n4[o4], l3 = 0, u3 = a3.length; l3 < u3; l3++) {
              var f3 = a3[l3];
              s3 && s3[f3] ? s3[f3] = null : (i5[o4] || (i5[o4] = {}))[f3] = 1;
            }
          }
        }
        function o3(t8, i5) {
          var n4 = [];
          for (var r4 in t8) if (t8.hasOwnProperty(r4) && null != t8[r4]) if (i5) n4.push(+r4);
          else {
            var e4 = o3(t8[r4], true);
            e4.length && n4.push({ seriesId: r4, dataIndex: e4 });
          }
          return n4;
        }
      })(u2, f2);
      this._dispatchHighDown("downplay", rj(c2[0], n2)), this._dispatchHighDown("highlight", rj(c2[1], n2));
    }
  }, i2.prototype._hoverLinkFromSeriesMouseOver = function(t6) {
    var i3;
    if (Sg(t6.target, (function(t7) {
      var n3 = hf(t7);
      if (null != n3.dataIndex) return i3 = n3, true;
    }), true), i3) {
      var n2 = this.ecModel.getSeriesByIndex(i3.seriesIndex), r2 = this.visualMapModel;
      if (r2.isTargetSeries(n2)) {
        var e2 = n2.getData(i3.dataType), o2 = e2.getStore().get(r2.getDataDimensionIndex(e2), i3.dataIndex);
        isNaN(o2) || this._showIndicator(o2, o2);
      }
    }
  }, i2.prototype._hideIndicator = function() {
    var t6 = this._shapes;
    t6.indicator && t6.indicator.attr("invisible", true), t6.indicatorLabel && t6.indicatorLabel.attr("invisible", true);
    var i3 = this._shapes.handleLabels;
    if (i3) for (var n2 = 0; n2 < i3.length; n2++) this.api.leaveBlur(i3[n2]);
  }, i2.prototype._clearHoverLinkToSeries = function() {
    this._hideIndicator();
    var t6 = this._hoverLinkDataIndices;
    this._dispatchHighDown("downplay", rj(t6, this.visualMapModel)), t6.length = 0;
  }, i2.prototype._clearHoverLinkFromSeries = function() {
    this._hideIndicator();
    var t6 = this.api.getZr();
    t6.off("mouseover", this._hoverLinkFromSeriesMouseOver), t6.off("mouseout", this._hideIndicator);
  }, i2.prototype._applyTransform = function(t6, i3, n2, r2) {
    var e2 = jh(i3, r2 ? null : this.group);
    return _n(t6) ? Hh(t6, e2, n2) : Yh(t6, e2, n2);
  }, i2.prototype._dispatchHighDown = function(t6, i3) {
    i3 && i3.length && this.api.dispatchAction({ type: t6, batch: i3 });
  }, i2.prototype.dispose = function() {
    this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries();
  }, i2.type = "visualMap.continuous", i2;
})(tj);
function uj(t5, i2, n2, r2) {
  return new Jc({ shape: { points: t5 }, draggable: !!n2, cursor: i2, drift: n2, onmousemove: function(t6) {
    Yr(t6.event);
  }, ondragend: r2 });
}
function fj(t5) {
  var i2 = t5.get("hoverLinkOnHandle");
  return !!(null == i2 ? t5.get("realtime") : i2);
}
function cj(t5) {
  return "vertical" === t5 ? "ns-resize" : "ew-resize";
}
var hj = { type: "selectDataRange", event: "dataRangeSelected", update: "update" }, vj = function(t5, i2) {
  i2.eachComponent({ mainType: "visualMap", query: t5 }, (function(i3) {
    i3.setSelected(t5.selected);
  }));
}, dj = [{ createOnAllSeries: true, reset: function(t5, i2) {
  var n2 = [];
  return i2.eachComponent("visualMap", (function(i3) {
    var r2, e2, o2, a2, s2, l2 = t5.pipelineContext;
    !i3.isTargetSeries(t5) || l2 && l2.large || n2.push((r2 = i3.stateList, e2 = i3.targetVisuals, o2 = An(i3.getValueState, i3), a2 = i3.getDataDimensionIndex(t5.getData()), s2 = {}, kn(r2, (function(t6) {
      var i4 = Y_.prepareVisualTypes(e2[t6]);
      s2[t6] = i4;
    })), { progress: function(t6, i4) {
      var n3, r3;
      function l3(t7) {
        return wg(i4, r3, t7);
      }
      function u2(t7, n4) {
        kg(i4, r3, t7, n4);
      }
      null != a2 && (n3 = i4.getDimensionIndex(a2));
      for (var f2 = i4.getStore(); null != (r3 = t6.next()); ) {
        var c2 = i4.getRawDataItem(r3);
        if (!c2 || false !== c2.visualMap) for (var h2 = null != a2 ? f2.get(n3, r3) : r3, v2 = o2(h2), d2 = e2[v2], p2 = s2[v2], m2 = 0, b2 = p2.length; m2 < b2; m2++) {
          var g3 = p2[m2];
          d2[g3] && d2[g3].applyVisual(h2, l3, u2);
        }
      }
    } }));
  })), n2;
} }, { createOnAllSeries: true, reset: function(t5, i2) {
  var n2 = t5.getData(), r2 = [];
  i2.eachComponent("visualMap", (function(i3) {
    if (i3.isTargetSeries(t5)) {
      var e2 = i3.getVisualMeta(An(pj, null, t5, i3)) || { stops: [], outerColors: [] }, o2 = i3.getDataDimensionIndex(n2);
      o2 >= 0 && (e2.dimension = o2, r2.push(e2));
    }
  })), t5.getData().setVisual("visualMeta", r2);
} }];
function pj(t5, i2, n2, r2) {
  for (var e2 = i2.targetVisuals[r2], o2 = Y_.prepareVisualTypes(e2), a2 = { color: xg(t5.getData(), "color") }, s2 = 0, l2 = o2.length; s2 < l2; s2++) {
    var u2 = o2[s2], f2 = e2["opacity" === u2 ? "__alphaForOpacity" : u2];
    f2 && f2.applyVisual(n2, c2, h2);
  }
  return a2.color;
  function c2(t6) {
    return a2[t6];
  }
  function h2(t6, i3) {
    a2[t6] = i3;
  }
}
var mj = kn;
function bj(t5) {
  var i2 = t5 && t5.visualMap;
  _n(i2) || (i2 = i2 ? [i2] : []), mj(i2, (function(t6) {
    if (t6) {
      gj(t6, "splitList") && !gj(t6, "pieces") && (t6.pieces = t6.splitList, delete t6.splitList);
      var i3 = t6.pieces;
      i3 && _n(i3) && mj(i3, (function(t7) {
        Wn(t7) && (gj(t7, "start") && !gj(t7, "min") && (t7.min = t7.start), gj(t7, "end") && !gj(t7, "max") && (t7.max = t7.end));
      }));
    }
  }));
}
function gj(t5, i2) {
  return t5 && t5.hasOwnProperty && t5.hasOwnProperty(i2);
}
var yj = false;
function wj(t5) {
  yj || (yj = true, t5.registerSubTypeDefaulter("visualMap", (function(t6) {
    return t6.categories || (t6.pieces ? t6.pieces.length > 0 : t6.splitNumber > 0) && !t6.calculable ? "piecewise" : "continuous";
  })), t5.registerAction(hj, vj), kn(dj, (function(i2) {
    t5.registerVisual(t5.PRIORITY.VISUAL.COMPONENT, i2);
  })), t5.registerPreprocessor(bj));
}
function xj(t5) {
  t5.registerComponentModel(KV), t5.registerComponentView(lj), wj(t5);
}
var kj = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2._pieceList = [], n2;
  }
  return Yi(i2, t5), i2.prototype.optionUpdated = function(i3, n2) {
    t5.prototype.optionUpdated.apply(this, arguments), this.resetExtent();
    var r2 = this._mode = this._determineMode();
    this._pieceList = [], Mj[this._mode].call(this, this._pieceList), this._resetSelected(i3, n2);
    var e2 = this.option.categories;
    this.resetVisual((function(t6, i4) {
      "categories" === r2 ? (t6.mappingMethod = "category", t6.categories = dn(e2)) : (t6.dataExtent = this.getExtent(), t6.mappingMethod = "piecewise", t6.pieceList = Mn(this._pieceList, (function(t7) {
        return t7 = dn(t7), "inRange" !== i4 && (t7.visual = null), t7;
      })));
    }));
  }, i2.prototype.completeVisualOption = function() {
    var i3 = this.option, n2 = {}, r2 = Y_.listVisualTypes(), e2 = this.isCategory();
    function o2(t6, i4, n3) {
      return t6 && t6[i4] && t6[i4].hasOwnProperty(n3);
    }
    kn(i3.pieces, (function(t6) {
      kn(r2, (function(i4) {
        t6.hasOwnProperty(i4) && (n2[i4] = 1);
      }));
    })), kn(n2, (function(t6, n3) {
      var r3 = false;
      kn(this.stateList, (function(t7) {
        r3 = r3 || o2(i3, t7, n3) || o2(i3.target, t7, n3);
      }), this), !r3 && kn(this.stateList, (function(t7) {
        (i3[t7] || (i3[t7] = {}))[n3] = jV(n3, "inRange" === t7 ? "active" : "inactive", e2);
      }));
    }), this), t5.prototype.completeVisualOption.apply(this, arguments);
  }, i2.prototype._resetSelected = function(t6, i3) {
    var n2 = this.option, r2 = this._pieceList, e2 = (i3 ? n2 : t6).selected || {};
    if (n2.selected = e2, kn(r2, (function(t7) {
      var i4 = this.getSelectedMapKey(t7);
      e2.hasOwnProperty(i4) || (e2[i4] = true);
    }), this), "single" === n2.selectedMode) {
      var o2 = false;
      kn(r2, (function(t7) {
        var i4 = this.getSelectedMapKey(t7);
        e2[i4] && (o2 ? e2[i4] = false : o2 = true);
      }), this);
    }
  }, i2.prototype.getItemSymbol = function() {
    return this.get("itemSymbol");
  }, i2.prototype.getSelectedMapKey = function(t6) {
    return "categories" === this._mode ? t6.value + "" : t6.index + "";
  }, i2.prototype.getPieceList = function() {
    return this._pieceList;
  }, i2.prototype._determineMode = function() {
    var t6 = this.option;
    return t6.pieces && t6.pieces.length > 0 ? "pieces" : this.option.categories ? "categories" : "splitNumber";
  }, i2.prototype.setSelected = function(t6) {
    this.option.selected = dn(t6);
  }, i2.prototype.getValueState = function(t6) {
    var i3 = Y_.findPieceIndex(t6, this._pieceList);
    return null != i3 && this.option.selected[this.getSelectedMapKey(this._pieceList[i3])] ? "inRange" : "outOfRange";
  }, i2.prototype.findTargetDataIndices = function(t6) {
    var i3 = [], n2 = this._pieceList;
    return this.eachTargetSeries((function(r2) {
      var e2 = [], o2 = r2.getData();
      o2.each(this.getDataDimensionIndex(o2), (function(i4, r3) {
        Y_.findPieceIndex(i4, n2) === t6 && e2.push(r3);
      }), this), i3.push({ seriesId: r2.id, dataIndex: e2 });
    }), this), i3;
  }, i2.prototype.getRepresentValue = function(t6) {
    var i3;
    if (this.isCategory()) i3 = t6.value;
    else if (null != t6.value) i3 = t6.value;
    else {
      var n2 = t6.interval || [];
      i3 = n2[0] === -1 / 0 && n2[1] === 1 / 0 ? 0 : (n2[0] + n2[1]) / 2;
    }
    return i3;
  }, i2.prototype.getVisualMeta = function(t6) {
    if (!this.isCategory()) {
      var i3 = [], n2 = ["", ""], r2 = this, e2 = this._pieceList.slice();
      if (e2.length) {
        var o2 = e2[0].interval[0];
        o2 !== -1 / 0 && e2.unshift({ interval: [-1 / 0, o2] }), (o2 = e2[e2.length - 1].interval[1]) !== 1 / 0 && e2.push({ interval: [o2, 1 / 0] });
      } else e2.push({ interval: [-1 / 0, 1 / 0] });
      var a2 = -1 / 0;
      return kn(e2, (function(t7) {
        var i4 = t7.interval;
        i4 && (i4[0] > a2 && s2([a2, i4[0]], "outOfRange"), s2(i4.slice()), a2 = i4[1]);
      }), this), { stops: i3, outerColors: n2 };
    }
    function s2(e3, o3) {
      var a3 = r2.getRepresentValue({ interval: e3 });
      o3 || (o3 = r2.getValueState(a3));
      var s3 = t6(a3, o3);
      e3[0] === -1 / 0 ? n2[0] = s3 : e3[1] === 1 / 0 ? n2[1] = s3 : i3.push({ value: e3[0], color: s3 }, { value: e3[1], color: s3 });
    }
  }, i2.type = "visualMap.piecewise", i2.defaultOption = Lv(qV.defaultOption, { selected: null, minOpen: false, maxOpen: false, align: "auto", itemWidth: 20, itemHeight: 14, itemSymbol: "roundRect", pieces: null, categories: null, splitNumber: 5, selectedMode: "multiple", itemGap: 10, hoverLink: true }), i2;
})(qV), Mj = { splitNumber: function(t5) {
  var i2 = this.option, n2 = Math.min(i2.precision, 20), r2 = this.getExtent(), e2 = i2.splitNumber;
  e2 = Math.max(parseInt(e2, 10), 1), i2.splitNumber = e2;
  for (var o2 = (r2[1] - r2[0]) / e2; +o2.toFixed(n2) !== o2 && n2 < 5; ) n2++;
  i2.precision = n2, o2 = +o2.toFixed(n2), i2.minOpen && t5.push({ interval: [-1 / 0, r2[0]], close: [0, 0] });
  for (var a2 = 0, s2 = r2[0]; a2 < e2; s2 += o2, a2++) t5.push({ interval: [s2, a2 === e2 - 1 ? r2[1] : s2 + o2], close: [1, 1] });
  i2.maxOpen && t5.push({ interval: [r2[1], 1 / 0], close: [0, 0] }), Ms(t5), kn(t5, (function(t6, i3) {
    t6.index = i3, t6.text = this.formatValueText(t6.interval);
  }), this);
}, categories: function(t5) {
  var i2 = this.option;
  kn(i2.categories, (function(i3) {
    t5.push({ text: this.formatValueText(i3, true), value: i3 });
  }), this), zj(i2, t5);
}, pieces: function(t5) {
  var i2 = this.option;
  kn(i2.pieces, (function(i3, n2) {
    Wn(i3) || (i3 = { value: i3 });
    var r2 = { text: "", index: n2 };
    if (null != i3.label && (r2.text = i3.label), i3.hasOwnProperty("value")) {
      var e2 = r2.value = i3.value;
      r2.interval = [e2, e2], r2.close = [1, 1];
    } else {
      for (var o2 = r2.interval = [], a2 = r2.close = [0, 0], s2 = [1, 0, 1], l2 = [-1 / 0, 1 / 0], u2 = [], f2 = 0; f2 < 2; f2++) {
        for (var c2 = [["gte", "gt", "min"], ["lte", "lt", "max"]][f2], h2 = 0; h2 < 3 && null == o2[f2]; h2++) o2[f2] = i3[c2[h2]], a2[f2] = s2[h2], u2[f2] = 2 === h2;
        null == o2[f2] && (o2[f2] = l2[f2]);
      }
      u2[0] && o2[1] === 1 / 0 && (a2[0] = 0), u2[1] && o2[0] === -1 / 0 && (a2[1] = 0), o2[0] === o2[1] && a2[0] && a2[1] && (r2.value = o2[0]);
    }
    r2.visual = Y_.retrieveVisuals(i3), t5.push(r2);
  }), this), zj(i2, t5), Ms(t5), kn(t5, (function(t6) {
    var i3 = t6.close;
    t6.text = t6.text || this.formatValueText(null != t6.value ? t6.value : t6.interval, false, [["<", ""][i3[1]], [">", ""][i3[0]]]);
  }), this);
} };
function zj(t5, i2) {
  var n2 = t5.inverse;
  ("vertical" === t5.orient ? !n2 : n2) && i2.reverse();
}
var Sj = (function(t5) {
  function i2() {
    var n2 = null !== t5 && t5.apply(this, arguments) || this;
    return n2.type = i2.type, n2;
  }
  return Yi(i2, t5), i2.prototype.doRender = function() {
    var t6 = this.group;
    t6.removeAll();
    var i3 = this.visualMapModel, n2 = i3.get("textGap"), r2 = i3.textStyleModel, e2 = r2.getFont(), o2 = r2.getTextColor(), a2 = this._getItemAlign(), s2 = i3.itemSize, l2 = this._getViewData(), u2 = l2.endsText, f2 = Bn(i3.get("showLabel", true), !u2), c2 = !i3.get("selectedMode");
    u2 && this._renderEndsText(t6, u2[0], s2, f2, a2), kn(l2.viewPieceList, (function(r3) {
      var l3 = r3.piece, u3 = new rs();
      u3.onclick = An(this._onItemClick, this, l3), this._enableHoverLink(u3, r3.indexInModelPieceList);
      var h2 = i3.getRepresentValue(l3);
      if (this._createItemSymbol(u3, h2, [0, 0, s2[0], s2[1]], c2), f2) {
        var v2 = this.visualMapModel.getValueState(h2);
        u3.add(new Ku({ style: { x: "right" === a2 ? -n2 : s2[0] + n2, y: s2[1] / 2, text: l3.text, verticalAlign: "middle", align: a2, font: e2, fill: o2, opacity: "outOfRange" === v2 ? 0.5 : 1 }, silent: c2 }));
      }
      t6.add(u3);
    }), this), u2 && this._renderEndsText(t6, u2[1], s2, f2, a2), Ad(i3.get("orient"), t6, i3.get("itemGap")), this.renderBackground(t6), this.positionGroup(t6);
  }, i2.prototype._enableHoverLink = function(t6, i3) {
    var n2 = this;
    t6.on("mouseover", (function() {
      return r2("highlight");
    })).on("mouseout", (function() {
      return r2("downplay");
    }));
    var r2 = function(t7) {
      var r3 = n2.visualMapModel;
      r3.option.hoverLink && n2.api.dispatchAction({ type: t7, batch: rj(r3.findTargetDataIndices(i3), r3) });
    };
  }, i2.prototype._getItemAlign = function() {
    var t6 = this.visualMapModel, i3 = t6.option;
    if ("vertical" === i3.orient) return nj(t6, this.api, t6.itemSize);
    var n2 = i3.align;
    return n2 && "auto" !== n2 || (n2 = "left"), n2;
  }, i2.prototype._renderEndsText = function(t6, i3, n2, r2, e2) {
    if (i3) {
      var o2 = new rs();
      o2.add(new Ku({ style: sv(this.visualMapModel.textStyleModel, { x: r2 ? "right" === e2 ? n2[0] : 0 : n2[0] / 2, y: n2[1] / 2, verticalAlign: "middle", align: r2 ? e2 : "center", text: i3 }) })), t6.add(o2);
    }
  }, i2.prototype._getViewData = function() {
    var t6 = this.visualMapModel, i3 = Mn(t6.getPieceList(), (function(t7, i4) {
      return { piece: t7, indexInModelPieceList: i4 };
    })), n2 = t6.get("text"), r2 = t6.get("orient"), e2 = t6.get("inverse");
    return ("horizontal" === r2 ? e2 : !e2) ? i3.reverse() : n2 && (n2 = n2.slice().reverse()), { viewPieceList: i3, endsText: n2 };
  }, i2.prototype._createItemSymbol = function(t6, i3, n2, r2) {
    var e2 = Fg(this.getControllerVisual(i3, "symbol"), n2[0], n2[1], n2[2], n2[3], this.getControllerVisual(i3, "color"));
    e2.silent = r2, t6.add(e2);
  }, i2.prototype._onItemClick = function(t6) {
    var i3 = this.visualMapModel, n2 = i3.option, r2 = n2.selectedMode;
    if (r2) {
      var e2 = dn(n2.selected), o2 = i3.getSelectedMapKey(t6);
      "single" === r2 || true === r2 ? (e2[o2] = true, kn(e2, (function(t7, i4) {
        e2[i4] = i4 === o2;
      }))) : e2[o2] = !e2[o2], this.api.dispatchAction({ type: "selectDataRange", from: this.uid, visualMapId: this.visualMapModel.id, selected: e2 });
    }
  }, i2.type = "visualMap.piecewise", i2;
})(tj);
function Cj(t5) {
  t5.registerComponentModel(kj), t5.registerComponentView(Sj), wj(t5);
}
var Aj = { label: { enabled: true }, decal: { show: false } }, Nj = Xs(), _j = {};
function Tj(t5, i2) {
  var n2 = t5.getModel("aria");
  if (n2.get("enabled")) {
    var r2 = dn(Aj);
    pn(r2.label, t5.getLocaleModel().get("aria"), false), pn(n2.option, r2, false), (function() {
      if (n2.getModel("decal").get("show")) {
        var i3 = Qn();
        t5.eachSeries((function(t6) {
          if (!t6.isColorBySeries()) {
            var n3 = i3.get(t6.type);
            n3 || i3.set(t6.type, n3 = {}), Nj(t6).scope = n3;
          }
        })), t5.eachRawSeries((function(i4) {
          if (!t5.isSeriesFiltered(i4)) if (Tn(i4.enableAriaDecal)) i4.enableAriaDecal();
          else {
            var n3 = i4.getData();
            if (i4.isColorBySeries()) {
              var r3 = sp(i4.ecModel, i4.name, _j, t5.getSeriesCount()), e3 = n3.getVisual("decal");
              n3.setVisual("decal", u2(e3, r3));
            } else {
              var o2 = i4.getRawData(), a2 = {}, s2 = Nj(i4).scope;
              n3.each((function(t6) {
                var i5 = n3.getRawIndex(t6);
                a2[i5] = t6;
              }));
              var l2 = o2.count();
              o2.each((function(t6) {
                var r4 = a2[t6], e4 = o2.getName(t6) || t6 + "", f2 = sp(i4.ecModel, e4, s2, l2), c2 = n3.getItemVisual(r4, "decal");
                n3.setItemVisual(r4, "decal", u2(c2, f2));
              }));
            }
          }
          function u2(t6, i5) {
            var n4 = t6 ? bn(bn({}, i5), t6) : i5;
            return n4.dirty = true, n4;
          }
        }));
      }
    })(), (function() {
      var r3 = i2.getZr().dom;
      if (r3) {
        var o2 = t5.getLocaleModel().get("aria"), a2 = n2.getModel("label");
        if (a2.option = gn(a2.option, o2), a2.get("enabled")) if (r3.setAttribute("role", "img"), a2.get("description")) r3.setAttribute("aria-label", a2.get("description"));
        else {
          var s2, l2 = t5.getSeriesCount(), u2 = a2.get(["data", "maxCount"]) || 10, f2 = a2.get(["series", "maxCount"]) || 10, c2 = Math.min(l2, f2);
          if (!(l2 < 1)) {
            var h2 = (function() {
              var i3 = t5.get("title");
              return i3 && i3.length && (i3 = i3[0]), i3 && i3.text;
            })();
            s2 = h2 ? e2(a2.get(["general", "withTitle"]), { title: h2 }) : a2.get(["general", "withoutTitle"]);
            var v2 = [];
            s2 += e2(a2.get(l2 > 1 ? ["series", "multiple", "prefix"] : ["series", "single", "prefix"]), { seriesCount: l2 }), t5.eachSeries((function(i3, n3) {
              if (n3 < c2) {
                var r4 = void 0, o3 = i3.get("name") ? "withName" : "withoutName";
                r4 = e2(r4 = a2.get(l2 > 1 ? ["series", "multiple", o3] : ["series", "single", o3]), { seriesId: i3.seriesIndex, seriesName: i3.get("name"), seriesType: (w3 = i3.subType, x2 = t5.getLocaleModel().get(["series", "typeNames"]), x2[w3] || x2.chart) });
                var s3 = i3.getData();
                s3.count() > u2 ? r4 += e2(a2.get(["data", "partialData"]), { displayCnt: u2 }) : r4 += a2.get(["data", "allData"]);
                for (var f3 = a2.get(["data", "separator", "middle"]), h3 = a2.get(["data", "separator", "end"]), d3 = a2.get(["data", "excludeDimensionId"]), p3 = [], m3 = 0; m3 < s3.count(); m3++) if (m3 < u2) {
                  var b2 = s3.getName(m3), g3 = d3 ? Sn(s3.getValues(m3), (function(t6, i4) {
                    return -1 === yn(d3, i4);
                  })) : s3.getValues(m3), y2 = a2.get(["data", b2 ? "withName" : "withoutName"]);
                  p3.push(e2(y2, { name: b2, value: g3.join(f3) }));
                }
                r4 += p3.join(f3) + h3, v2.push(r4);
              }
              var w3, x2;
            }));
            var d2 = a2.getModel(["series", "multiple", "separator"]), p2 = d2.get("middle"), m2 = d2.get("end");
            s2 += v2.join(p2) + m2, r3.setAttribute("aria-label", s2);
          }
        }
      }
    })();
  }
  function e2(t6, i3) {
    if (!In(t6)) return t6;
    var n3 = t6;
    return kn(i3, (function(t7, i4) {
      n3 = n3.replace(new RegExp("\\{\\s*" + i4 + "\\s*\\}", "g"), t7);
    })), n3;
  }
}
function Ij(t5) {
  if (t5 && t5.aria) {
    var i2 = t5.aria;
    null != i2.show && (i2.enabled = i2.show), i2.label = i2.label || {}, kn(["description", "general", "series", "data"], (function(t6) {
      null != i2[t6] && (i2.label[t6] = i2[t6]);
    }));
  }
}
var Lj = { value: "eq", "<": "lt", "<=": "lte", ">": "gt", ">=": "gte", "=": "eq", "!=": "ne", "<>": "ne" }, Dj = (function() {
  function t5(t6) {
    null == (this._condVal = In(t6) ? new RegExp(t6) : "[object RegExp]" === nn.call(t6) ? t6 : null) && _s("");
  }
  return t5.prototype.evaluate = function(t6) {
    var i2 = typeof t6;
    return In(i2) ? this._condVal.test(t6) : !!Dn(i2) && this._condVal.test(t6 + "");
  }, t5;
})(), Wj = (function() {
  function t5() {
  }
  return t5.prototype.evaluate = function() {
    return this.value;
  }, t5;
})(), Ej = (function() {
  function t5() {
  }
  return t5.prototype.evaluate = function() {
    for (var t6 = this.children, i2 = 0; i2 < t6.length; i2++) if (!t6[i2].evaluate()) return false;
    return true;
  }, t5;
})(), Oj = (function() {
  function t5() {
  }
  return t5.prototype.evaluate = function() {
    for (var t6 = this.children, i2 = 0; i2 < t6.length; i2++) if (t6[i2].evaluate()) return true;
    return false;
  }, t5;
})(), Fj = (function() {
  function t5() {
  }
  return t5.prototype.evaluate = function() {
    return !this.child.evaluate();
  }, t5;
})(), Rj = (function() {
  function t5() {
  }
  return t5.prototype.evaluate = function() {
    for (var t6 = !!this.valueParser, i2 = (0, this.getValue)(this.valueGetterParam), n2 = t6 ? this.valueParser(i2) : null, r2 = 0; r2 < this.subCondList.length; r2++) if (!this.subCondList[r2].evaluate(t6 ? n2 : i2)) return false;
    return true;
  }, t5;
})();
function Pj(t5, i2) {
  if (true === t5 || false === t5) {
    var n2 = new Wj();
    return n2.value = t5, n2;
  }
  return Vj(t5) || _s(""), t5.and ? Bj("and", t5, i2) : t5.or ? Bj("or", t5, i2) : t5.not ? (function(t6, i3) {
    var n3 = t6.not;
    Vj(n3) || _s("");
    var r2 = new Fj();
    return r2.child = Pj(n3, i3), r2.child || _s(""), r2;
  })(t5, i2) : (function(t6, i3) {
    for (var n3 = i3.prepareGetValue(t6), r2 = [], e2 = Cn(t6), o2 = t6.parser, a2 = o2 ? ym(o2) : null, s2 = 0; s2 < e2.length; s2++) {
      var l2 = e2[s2];
      if ("parser" !== l2 && !i3.valueGetterAttrMap.get(l2)) {
        var u2 = rr(Lj, l2) ? Lj[l2] : l2, f2 = t6[l2], c2 = a2 ? a2(f2) : f2, h2 = zm(u2, c2) || "reg" === u2 && new Dj(c2);
        h2 || _s(""), r2.push(h2);
      }
    }
    r2.length || _s("");
    var v2 = new Rj();
    return v2.valueGetterParam = n3, v2.valueParser = a2, v2.getValue = i3.getValue, v2.subCondList = r2, v2;
  })(t5, i2);
}
function Bj(t5, i2, n2) {
  var r2 = i2[t5];
  _n(r2) || _s(""), r2.length || _s("");
  var e2 = "and" === t5 ? new Ej() : new Oj();
  return e2.children = Mn(r2, (function(t6) {
    return Pj(t6, n2);
  })), e2.children.length || _s(""), e2;
}
function Vj(t5) {
  return Wn(t5) && !xn(t5);
}
var jj = (function() {
  function t5(t6, i2) {
    this._cond = Pj(t6, i2);
  }
  return t5.prototype.evaluate = function() {
    return this._cond.evaluate();
  }, t5;
})(), Hj = { type: "echarts:filter", transform: function(t5) {
  for (var i2, n2, r2, e2 = t5.upstream, o2 = (n2 = t5.config, r2 = { valueGetterAttrMap: Qn({ dimension: true }), prepareGetValue: function(t6) {
    var i3 = t6.dimension;
    rr(t6, "dimension") || _s("");
    var n3 = e2.getDimensionInfo(i3);
    return n3 || _s(""), { dimIdx: n3.index };
  }, getValue: function(t6) {
    return e2.retrieveValueFromItem(i2, t6.dimIdx);
  } }, new jj(n2, r2)), a2 = [], s2 = 0, l2 = e2.count(); s2 < l2; s2++) i2 = e2.getRawDataItem(s2), o2.evaluate() && a2.push(i2);
  return { data: a2 };
} }, Yj = { type: "echarts:sort", transform: function(t5) {
  var i2 = t5.upstream, n2 = "", r2 = Ds(t5.config);
  r2.length || _s(n2);
  var e2 = [];
  kn(r2, (function(t6) {
    var r3 = t6.dimension, o3 = t6.order, a3 = t6.parser, s3 = t6.incomparable;
    null == r3 && _s(n2), "asc" !== o3 && "desc" !== o3 && _s(n2), s3 && "min" !== s3 && "max" !== s3 && _s(""), "asc" !== o3 && "desc" !== o3 && _s("");
    var l3 = i2.getDimensionInfo(r3);
    l3 || _s(n2);
    var u2 = a3 ? ym(a3) : null;
    a3 && !u2 && _s(n2), e2.push({ dimIdx: l3.index, parser: u2, comparator: new km(o3, s3) });
  }));
  var o2 = i2.sourceFormat;
  o2 !== Vd && o2 !== jd && _s(n2);
  for (var a2 = [], s2 = 0, l2 = i2.count(); s2 < l2; s2++) a2.push(i2.getRawDataItem(s2));
  return a2.sort((function(t6, n3) {
    for (var r3 = 0; r3 < e2.length; r3++) {
      var o3 = e2[r3], a3 = i2.retrieveValueFromItem(t6, o3.dimIdx), s3 = i2.retrieveValueFromItem(n3, o3.dimIdx);
      o3.parser && (a3 = o3.parser(a3), s3 = o3.parser(s3));
      var l3 = o3.comparator.evaluate(a3, s3);
      if (0 !== l3) return l3;
    }
    return 0;
  })), { data: a2 };
} }, Xj = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.type = "dataset", i3;
  }
  return Yi(i2, t5), i2.prototype.init = function(i3, n2, r2) {
    t5.prototype.init.call(this, i3, n2, r2), this._sourceManager = new Hm(this), Ym(this);
  }, i2.prototype.mergeOption = function(i3, n2) {
    t5.prototype.mergeOption.call(this, i3, n2), Ym(this);
  }, i2.prototype.optionUpdated = function() {
    this._sourceManager.dirty();
  }, i2.prototype.getSourceManager = function() {
    return this._sourceManager;
  }, i2.type = "dataset", i2.defaultOption = { seriesLayoutBy: Ud }, i2;
})(Ed), Uj = (function(t5) {
  function i2() {
    var i3 = null !== t5 && t5.apply(this, arguments) || this;
    return i3.type = "dataset", i3;
  }
  return Yi(i2, t5), i2.type = "dataset", i2;
})(xb), $j = bu.CMD;
function Gj(t5, i2) {
  return Math.abs(t5 - i2) < 1e-5;
}
function Zj(t5) {
  var i2, n2, r2, e2, o2, a2 = t5.data, s2 = t5.len(), l2 = [], u2 = 0, f2 = 0, c2 = 0, h2 = 0;
  function v2(t6, n3) {
    i2 && i2.length > 2 && l2.push(i2), i2 = [t6, n3];
  }
  function d2(t6, n3, r3, e3) {
    Gj(t6, r3) && Gj(n3, e3) || i2.push(t6, n3, r3, e3, r3, e3);
  }
  function p2(t6, n3, r3, e3, o3, a3) {
    var s3 = Math.abs(n3 - t6), l3 = 4 * Math.tan(s3 / 4) / 3, u3 = n3 < t6 ? -1 : 1, f3 = Math.cos(t6), c3 = Math.sin(t6), h3 = Math.cos(n3), v3 = Math.sin(n3), d3 = h3 * o3 + r3, p3 = v3 * a3 + e3, m3 = o3 * l3 * u3, b3 = a3 * l3 * u3;
    i2.push(f3 * o3 + r3 - m3 * c3, c3 * a3 + e3 + b3 * f3, d3 + m3 * v3, p3 - b3 * h3, d3, p3);
  }
  for (var m2 = 0; m2 < s2; ) {
    var b2 = a2[m2++], g3 = 1 === m2;
    switch (g3 && (c2 = u2 = a2[m2], h2 = f2 = a2[m2 + 1], b2 !== $j.L && b2 !== $j.C && b2 !== $j.Q || (i2 = [c2, h2])), b2) {
      case $j.M:
        u2 = c2 = a2[m2++], f2 = h2 = a2[m2++], v2(c2, h2);
        break;
      case $j.L:
        d2(u2, f2, n2 = a2[m2++], r2 = a2[m2++]), u2 = n2, f2 = r2;
        break;
      case $j.C:
        i2.push(a2[m2++], a2[m2++], a2[m2++], a2[m2++], u2 = a2[m2++], f2 = a2[m2++]);
        break;
      case $j.Q:
        n2 = a2[m2++], r2 = a2[m2++], e2 = a2[m2++], o2 = a2[m2++], i2.push(u2 + 2 / 3 * (n2 - u2), f2 + 2 / 3 * (r2 - f2), e2 + 2 / 3 * (n2 - e2), o2 + 2 / 3 * (r2 - o2), e2, o2), u2 = e2, f2 = o2;
        break;
      case $j.A:
        var y2 = a2[m2++], w3 = a2[m2++], x2 = a2[m2++], k2 = a2[m2++], M2 = a2[m2++], z2 = a2[m2++] + M2;
        m2 += 1;
        var S3 = !a2[m2++];
        n2 = Math.cos(M2) * x2 + y2, r2 = Math.sin(M2) * k2 + w3, g3 ? v2(c2 = n2, h2 = r2) : d2(u2, f2, n2, r2), u2 = Math.cos(z2) * x2 + y2, f2 = Math.sin(z2) * k2 + w3;
        for (var C3 = (S3 ? -1 : 1) * Math.PI / 2, A3 = M2; S3 ? A3 > z2 : A3 < z2; A3 += C3) p2(A3, S3 ? Math.max(A3 + C3, z2) : Math.min(A3 + C3, z2), y2, w3, x2, k2);
        break;
      case $j.R:
        c2 = u2 = a2[m2++], h2 = f2 = a2[m2++], n2 = c2 + a2[m2++], r2 = h2 + a2[m2++], v2(n2, h2), d2(n2, h2, n2, r2), d2(n2, r2, c2, r2), d2(c2, r2, c2, h2), d2(c2, h2, n2, h2);
        break;
      case $j.Z:
        i2 && d2(u2, f2, c2, h2), u2 = c2, f2 = h2;
    }
  }
  return i2 && i2.length > 2 && l2.push(i2), l2;
}
function qj(t5, i2, n2, r2, e2, o2, a2, s2, l2, u2) {
  if (Gj(t5, n2) && Gj(i2, r2) && Gj(e2, a2) && Gj(o2, s2)) l2.push(a2, s2);
  else {
    var f2 = 2 / u2, c2 = f2 * f2, h2 = a2 - t5, v2 = s2 - i2, d2 = Math.sqrt(h2 * h2 + v2 * v2);
    h2 /= d2, v2 /= d2;
    var p2 = n2 - t5, m2 = r2 - i2, b2 = e2 - a2, g3 = o2 - s2, y2 = p2 * p2 + m2 * m2, w3 = b2 * b2 + g3 * g3;
    if (y2 < c2 && w3 < c2) l2.push(a2, s2);
    else {
      var x2 = h2 * p2 + v2 * m2, k2 = -h2 * b2 - v2 * g3;
      if (y2 - x2 * x2 < c2 && x2 >= 0 && w3 - k2 * k2 < c2 && k2 >= 0) l2.push(a2, s2);
      else {
        var M2 = [], z2 = [];
        $e(t5, n2, e2, a2, 0.5, M2), $e(i2, r2, o2, s2, 0.5, z2), qj(M2[0], z2[0], M2[1], z2[1], M2[2], z2[2], M2[3], z2[3], l2, u2), qj(M2[4], z2[4], M2[5], z2[5], M2[6], z2[6], M2[7], z2[7], l2, u2);
      }
    }
  }
}
function Jj(t5, i2, n2) {
  var r2 = Math.abs(t5[i2] / t5[1 - i2]), e2 = Math.ceil(Math.sqrt(r2 * n2)), o2 = Math.floor(n2 / e2);
  0 === o2 && (o2 = 1, e2 = n2);
  for (var a2 = [], s2 = 0; s2 < e2; s2++) a2.push(o2);
  var l2 = n2 - e2 * o2;
  if (l2 > 0) for (s2 = 0; s2 < l2; s2++) a2[s2 % e2] += 1;
  return a2;
}
function Kj(t5, i2, n2) {
  for (var r2 = t5.r0, e2 = t5.r, o2 = t5.startAngle, a2 = Math.abs(t5.endAngle - o2), s2 = a2 * e2, l2 = e2 - r2, u2 = s2 > Math.abs(l2), f2 = Jj([s2, l2], u2 ? 0 : 1, i2), c2 = (u2 ? a2 : l2) / f2.length, h2 = 0; h2 < f2.length; h2++) for (var v2 = (u2 ? l2 : a2) / f2[h2], d2 = 0; d2 < f2[h2]; d2++) {
    var p2 = {};
    u2 ? (p2.startAngle = o2 + c2 * h2, p2.endAngle = o2 + c2 * (h2 + 1), p2.r0 = r2 + v2 * d2, p2.r = r2 + v2 * (d2 + 1)) : (p2.startAngle = o2 + v2 * d2, p2.endAngle = o2 + v2 * (d2 + 1), p2.r0 = r2 + c2 * h2, p2.r = r2 + c2 * (h2 + 1)), p2.clockwise = t5.clockwise, p2.cx = t5.cx, p2.cy = t5.cy, n2.push(p2);
  }
}
function Qj(t5, i2, n2, r2) {
  return t5 * r2 - n2 * i2;
}
function tH(t5, i2, n2, r2, e2, o2, a2, s2) {
  var l2 = n2 - t5, u2 = r2 - i2, f2 = a2 - e2, c2 = s2 - o2, h2 = Qj(f2, c2, l2, u2);
  if (Math.abs(h2) < 1e-6) return null;
  var v2 = Qj(t5 - e2, i2 - o2, f2, c2) / h2;
  return v2 < 0 || v2 > 1 ? null : new ne(v2 * l2 + t5, v2 * u2 + i2);
}
function iH(t5, i2, n2) {
  var r2 = new ne();
  ne.sub(r2, n2, i2), r2.normalize();
  var e2 = new ne();
  return ne.sub(e2, t5, i2), e2.dot(r2);
}
function nH(t5, i2) {
  var n2 = t5[t5.length - 1];
  n2 && n2[0] === i2[0] && n2[1] === i2[1] || t5.push(i2);
}
function rH(t5) {
  var i2 = t5.points, n2 = [], r2 = [];
  Ul(i2, n2, r2);
  var e2 = new ce(n2[0], n2[1], r2[0] - n2[0], r2[1] - n2[1]), o2 = e2.width, a2 = e2.height, s2 = e2.x, l2 = e2.y, u2 = new ne(), f2 = new ne();
  return o2 > a2 ? (u2.x = f2.x = s2 + o2 / 2, u2.y = l2, f2.y = l2 + a2) : (u2.y = f2.y = l2 + a2 / 2, u2.x = s2, f2.x = s2 + o2), (function(t6, i3, n3) {
    for (var r3 = t6.length, e3 = [], o3 = 0; o3 < r3; o3++) {
      var a3 = t6[o3], s3 = t6[(o3 + 1) % r3], l3 = tH(a3[0], a3[1], s3[0], s3[1], i3.x, i3.y, n3.x, n3.y);
      l3 && e3.push({ projPt: iH(l3, i3, n3), pt: l3, idx: o3 });
    }
    if (e3.length < 2) return [{ points: t6 }, { points: t6 }];
    e3.sort((function(t7, i4) {
      return t7.projPt - i4.projPt;
    }));
    var u3 = e3[0], f3 = e3[e3.length - 1];
    if (f3.idx < u3.idx) {
      var c2 = u3;
      u3 = f3, f3 = c2;
    }
    var h2 = [u3.pt.x, u3.pt.y], v2 = [f3.pt.x, f3.pt.y], d2 = [h2], p2 = [v2];
    for (o3 = u3.idx + 1; o3 <= f3.idx; o3++) nH(d2, t6[o3].slice());
    for (nH(d2, v2), nH(d2, h2), o3 = f3.idx + 1; o3 <= u3.idx + r3; o3++) nH(p2, t6[o3 % r3].slice());
    return nH(p2, h2), nH(p2, v2), [{ points: d2 }, { points: p2 }];
  })(i2, u2, f2);
}
function eH(t5, i2, n2, r2) {
  if (1 === n2) r2.push(i2);
  else {
    var e2 = Math.floor(n2 / 2), o2 = t5(i2);
    eH(t5, o2[0], e2, r2), eH(t5, o2[1], n2 - e2, r2);
  }
  return r2;
}
function oH(t5, i2) {
  i2.setStyle(t5.style), i2.z = t5.z, i2.z2 = t5.z2, i2.zlevel = t5.zlevel;
}
function aH(t5, i2) {
  var n2 = t5.length, r2 = i2.length;
  if (n2 === r2) return [t5, i2];
  for (var e2 = [], o2 = [], a2 = n2 < r2 ? t5 : i2, s2 = Math.min(n2, r2), l2 = Math.abs(r2 - n2) / 6, u2 = Math.ceil(l2 / ((s2 - 2) / 6)) + 1, f2 = [a2[0], a2[1]], c2 = l2, h2 = 2; h2 < s2; ) {
    var v2 = a2[h2 - 2], d2 = a2[h2 - 1], p2 = a2[h2++], m2 = a2[h2++], b2 = a2[h2++], g3 = a2[h2++], y2 = a2[h2++], w3 = a2[h2++];
    if (c2 <= 0) f2.push(p2, m2, b2, g3, y2, w3);
    else {
      for (var x2 = Math.min(c2, u2 - 1) + 1, k2 = 1; k2 <= x2; k2++) {
        var M2 = k2 / x2;
        $e(v2, p2, b2, y2, M2, e2), $e(d2, m2, g3, w3, M2, o2), f2.push(e2[1], o2[1], e2[2], o2[2], v2 = e2[3], d2 = o2[3]), p2 = e2[5], m2 = o2[5], b2 = e2[6], g3 = o2[6];
      }
      c2 -= x2 - 1;
    }
  }
  return a2 === t5 ? [f2, i2] : [t5, f2];
}
function sH(t5, i2) {
  for (var n2 = t5.length, r2 = t5[n2 - 2], e2 = t5[n2 - 1], o2 = [], a2 = 0; a2 < i2.length; ) o2[a2++] = r2, o2[a2++] = e2;
  return o2;
}
function lH(t5) {
  for (var i2 = 0, n2 = 0, r2 = 0, e2 = t5.length, o2 = 0, a2 = e2 - 2; o2 < e2; a2 = o2, o2 += 2) {
    var s2 = t5[a2], l2 = t5[a2 + 1], u2 = t5[o2], f2 = t5[o2 + 1], c2 = s2 * f2 - u2 * l2;
    i2 += c2, n2 += (s2 + u2) * c2, r2 += (l2 + f2) * c2;
  }
  return 0 === i2 ? [t5[0] || 0, t5[1] || 0] : [n2 / i2 / 3, r2 / i2 / 3, i2];
}
function uH(t5, i2, n2, r2) {
  for (var e2 = (t5.length - 2) / 6, o2 = 1 / 0, a2 = 0, s2 = t5.length, l2 = s2 - 2, u2 = 0; u2 < e2; u2++) {
    for (var f2 = 6 * u2, c2 = 0, h2 = 0; h2 < s2; h2 += 2) {
      var v2 = 0 === h2 ? f2 : (f2 + h2 - 2) % l2 + 2, d2 = i2[h2] - r2[0] - (t5[v2] - n2[0]), p2 = i2[h2 + 1] - r2[1] - (t5[v2 + 1] - n2[1]);
      c2 += d2 * d2 + p2 * p2;
    }
    c2 < o2 && (o2 = c2, a2 = u2);
  }
  return a2;
}
function fH(t5) {
  for (var i2 = [], n2 = t5.length, r2 = 0; r2 < n2; r2 += 2) i2[r2] = t5[n2 - r2 - 2], i2[r2 + 1] = t5[n2 - r2 - 1];
  return i2;
}
function cH(t5) {
  return t5.__isCombineMorphing;
}
var hH = "__mOriginal_";
function vH(t5, i2, n2) {
  var r2 = hH + i2, e2 = t5[r2] || t5[i2];
  t5[r2] || (t5[r2] = t5[i2]);
  var o2 = n2.replace, a2 = n2.after, s2 = n2.before;
  t5[i2] = function() {
    var t6, i3 = arguments;
    return s2 && s2.apply(this, i3), t6 = o2 ? o2.apply(this, i3) : e2.apply(this, i3), a2 && a2.apply(this, i3), t6;
  };
}
function dH(t5, i2) {
  var n2 = hH + i2;
  t5[n2] && (t5[i2] = t5[n2], t5[n2] = null);
}
function pH(t5, i2) {
  for (var n2 = 0; n2 < t5.length; n2++) for (var r2 = t5[n2], e2 = 0; e2 < r2.length; ) {
    var o2 = r2[e2], a2 = r2[e2 + 1];
    r2[e2++] = i2[0] * o2 + i2[2] * a2 + i2[4], r2[e2++] = i2[1] * o2 + i2[3] * a2 + i2[5];
  }
}
function mH(t5, i2) {
  var n2 = t5.getUpdatedPathProxy(), r2 = i2.getUpdatedPathProxy(), e2 = (function(t6, i3) {
    for (var n3, r3, e3, o3 = [], a3 = [], s3 = 0; s3 < Math.max(t6.length, i3.length); s3++) {
      var l3 = t6[s3], u3 = i3[s3], f3 = void 0, c2 = void 0;
      l3 ? u3 ? (r3 = f3 = (n3 = aH(l3, u3))[0], e3 = c2 = n3[1]) : (c2 = sH(e3 || l3, l3), f3 = l3) : (f3 = sH(r3 || u3, u3), c2 = u3), o3.push(f3), a3.push(c2);
    }
    return [o3, a3];
  })(Zj(n2), Zj(r2)), o2 = e2[0], a2 = e2[1], s2 = t5.getComputedTransform(), l2 = i2.getComputedTransform();
  s2 && pH(o2, s2), l2 && pH(a2, l2), vH(i2, "updateTransform", { replace: function() {
    this.transform = null;
  } }), i2.transform = null;
  var u2 = (function(t6, i3, n3, r3) {
    for (var e3, o3 = [], a3 = 0; a3 < t6.length; a3++) {
      var s3 = t6[a3], l3 = i3[a3], u3 = lH(s3), f3 = lH(l3);
      null == e3 && (e3 = u3[2] < 0 != f3[2] < 0);
      var c2 = [], h2 = [], v2 = 0, d2 = 1 / 0, p2 = [], m2 = s3.length;
      e3 && (s3 = fH(s3));
      for (var b2 = 6 * uH(s3, l3, u3, f3), g3 = m2 - 2, y2 = 0; y2 < g3; y2 += 2) {
        var w3 = (b2 + y2) % g3 + 2;
        c2[y2 + 2] = s3[w3] - u3[0], c2[y2 + 3] = s3[w3 + 1] - u3[1];
      }
      c2[0] = s3[b2] - u3[0], c2[1] = s3[b2 + 1] - u3[1];
      for (var x2 = r3 / 10, k2 = -r3 / 2; k2 <= r3 / 2; k2 += x2) {
        var M2 = Math.sin(k2), z2 = Math.cos(k2), S3 = 0;
        for (y2 = 0; y2 < s3.length; y2 += 2) {
          var C3 = c2[y2], A3 = c2[y2 + 1], N2 = l3[y2] - f3[0], _2 = l3[y2 + 1] - f3[1], T4 = N2 * z2 - _2 * M2, I2 = N2 * M2 + _2 * z2;
          p2[y2] = T4, p2[y2 + 1] = I2;
          var L2 = T4 - C3, D2 = I2 - A3;
          S3 += L2 * L2 + D2 * D2;
        }
        if (S3 < d2) {
          d2 = S3, v2 = k2;
          for (var W3 = 0; W3 < p2.length; W3++) h2[W3] = p2[W3];
        }
      }
      o3.push({ from: c2, to: h2, fromCp: u3, toCp: f3, rotation: -v2 });
    }
    return o3;
  })(o2, a2, 0, Math.PI), f2 = [];
  vH(i2, "buildPath", { replace: function(t6) {
    for (var n3 = i2.__morphT, r3 = 1 - n3, e3 = [], o3 = 0; o3 < u2.length; o3++) {
      var a3 = u2[o3], s3 = a3.from, l3 = a3.to, c2 = a3.rotation * n3, h2 = a3.fromCp, v2 = a3.toCp, d2 = Math.sin(c2), p2 = Math.cos(c2);
      yr(e3, h2, v2, n3);
      for (var m2 = 0; m2 < s3.length; m2 += 2) {
        var b2 = s3[m2] * r3 + (x2 = l3[m2]) * n3, g3 = s3[m2 + 1] * r3 + (k2 = l3[m2 + 1]) * n3;
        f2[m2] = b2 * p2 - g3 * d2 + e3[0], f2[m2 + 1] = b2 * d2 + g3 * p2 + e3[1];
      }
      var y2 = f2[0], w3 = f2[1];
      for (t6.moveTo(y2, w3), m2 = 2; m2 < s3.length; ) {
        var x2 = f2[m2++], k2 = f2[m2++], M2 = f2[m2++], z2 = f2[m2++], S3 = f2[m2++], C3 = f2[m2++];
        y2 === x2 && w3 === k2 && M2 === S3 && z2 === C3 ? t6.lineTo(S3, C3) : t6.bezierCurveTo(x2, k2, M2, z2, S3, C3), y2 = S3, w3 = C3;
      }
    }
  } });
}
function bH(t5, i2, n2) {
  if (!t5 || !i2) return i2;
  var r2 = n2.done, e2 = n2.during;
  return mH(t5, i2), i2.__morphT = 0, i2.animateTo({ __morphT: 1 }, gn({ during: function(t6) {
    i2.dirtyShape(), e2 && e2(t6);
  }, done: function() {
    dH(i2, "buildPath"), dH(i2, "updateTransform"), i2.__morphT = -1, i2.createPathProxy(), i2.dirtyShape(), r2 && r2();
  } }, n2)), i2;
}
function gH(t5, i2, n2, r2, e2, o2) {
  t5 = e2 === n2 ? 0 : Math.round(32767 * (t5 - n2) / (e2 - n2)), i2 = o2 === r2 ? 0 : Math.round(32767 * (i2 - r2) / (o2 - r2));
  for (var a2, s2 = 0, l2 = 32768; l2 > 0; l2 /= 2) {
    var u2 = 0, f2 = 0;
    (t5 & l2) > 0 && (u2 = 1), (i2 & l2) > 0 && (f2 = 1), s2 += l2 * l2 * (3 * u2 ^ f2), 0 === f2 && (1 === u2 && (t5 = l2 - 1 - t5, i2 = l2 - 1 - i2), a2 = t5, t5 = i2, i2 = a2);
  }
  return s2;
}
function yH(t5) {
  var i2 = 1 / 0, n2 = 1 / 0, r2 = -1 / 0, e2 = -1 / 0, o2 = Mn(t5, (function(t6) {
    var o3 = t6.getBoundingRect(), a2 = t6.getComputedTransform(), s2 = o3.x + o3.width / 2 + (a2 ? a2[4] : 0), l2 = o3.y + o3.height / 2 + (a2 ? a2[5] : 0);
    return i2 = Math.min(s2, i2), n2 = Math.min(l2, n2), r2 = Math.max(s2, r2), e2 = Math.max(l2, e2), [s2, l2];
  }));
  return Mn(o2, (function(o3, a2) {
    return { cp: o3, z: gH(o3[0], o3[1], i2, n2, r2, e2), path: t5[a2] };
  })).sort((function(t6, i3) {
    return t6.z - i3.z;
  })).map((function(t6) {
    return t6.path;
  }));
}
function wH(t5) {
  return (function(t6, i2) {
    var n2, r2 = [], e2 = t6.shape;
    switch (t6.type) {
      case "rect":
        !(function(t7, i3, n3) {
          for (var r3 = t7.width, e3 = t7.height, o3 = r3 > e3, a3 = Jj([r3, e3], o3 ? 0 : 1, i3), s3 = o3 ? "width" : "height", l3 = o3 ? "height" : "width", u3 = o3 ? "x" : "y", f3 = o3 ? "y" : "x", c3 = t7[s3] / a3.length, h3 = 0; h3 < a3.length; h3++) for (var v3 = t7[l3] / a3[h3], d3 = 0; d3 < a3[h3]; d3++) {
            var p3 = {};
            p3[u3] = h3 * c3, p3[f3] = d3 * v3, p3[s3] = c3, p3[l3] = v3, p3.x += t7.x, p3.y += t7.y, n3.push(p3);
          }
        })(e2, i2, r2), n2 = Zu;
        break;
      case "sector":
        Kj(e2, i2, r2), n2 = Uc;
        break;
      case "circle":
        Kj({ r0: 0, r: e2.r, startAngle: 0, endAngle: 2 * Math.PI, cx: e2.cx, cy: e2.cy }, i2, r2), n2 = Uc;
        break;
      default:
        var o2 = t6.getComputedTransform(), a2 = o2 ? Math.sqrt(Math.max(o2[0] * o2[0] + o2[1] * o2[1], o2[2] * o2[2] + o2[3] * o2[3])) : 1, s2 = Mn((function(t7, i3) {
          var n3 = Zj(t7), r3 = [];
          i3 = i3 || 1;
          for (var e3 = 0; e3 < n3.length; e3++) {
            var o3 = n3[e3], a3 = [], s3 = o3[0], l3 = o3[1];
            a3.push(s3, l3);
            for (var u3 = 2; u3 < o3.length; ) {
              var f3 = o3[u3++], c3 = o3[u3++], h3 = o3[u3++], v3 = o3[u3++], d3 = o3[u3++], p3 = o3[u3++];
              qj(s3, l3, f3, c3, h3, v3, d3, p3, a3, i3), s3 = d3, l3 = p3;
            }
            r3.push(a3);
          }
          return r3;
        })(t6.getUpdatedPathProxy(), a2), (function(t7) {
          return (function(t8) {
            for (var i3 = [], n3 = 0; n3 < t8.length; ) i3.push([t8[n3++], t8[n3++]]);
            return i3;
          })(t7);
        })), l2 = s2.length;
        if (0 === l2) eH(rH, { points: s2[0] }, i2, r2);
        else if (l2 === i2) for (var u2 = 0; u2 < l2; u2++) r2.push({ points: s2[u2] });
        else {
          var f2 = 0, c2 = Mn(s2, (function(t7) {
            var i3 = [], n3 = [];
            Ul(t7, i3, n3);
            var r3 = (n3[1] - i3[1]) * (n3[0] - i3[0]);
            return f2 += r3, { poly: t7, area: r3 };
          }));
          c2.sort((function(t7, i3) {
            return i3.area - t7.area;
          }));
          var h2 = i2;
          for (u2 = 0; u2 < l2; u2++) {
            var v2 = c2[u2];
            if (h2 <= 0) break;
            var d2 = u2 === l2 - 1 ? h2 : Math.ceil(v2.area / f2 * i2);
            d2 < 0 || (eH(rH, { points: v2.poly }, d2, r2), h2 -= d2);
          }
        }
        n2 = Jc;
    }
    if (!n2) return (function(t7, i3) {
      for (var n3 = [], r3 = 0; r3 < i3; r3++) n3.push(Nc(t7));
      return n3;
    })(t6, i2);
    var p2 = [];
    for (u2 = 0; u2 < r2.length; u2++) {
      var m2 = new n2();
      m2.setShape(r2[u2]), oH(t6, m2), p2.push(m2);
    }
    return p2;
  })(t5.path, t5.count);
}
function xH(t5) {
  return _n(t5[0]);
}
function kH(t5, i2) {
  for (var n2 = [], r2 = t5.length, e2 = 0; e2 < r2; e2++) n2.push({ one: t5[e2], many: [] });
  for (e2 = 0; e2 < i2.length; e2++) {
    var o2 = i2[e2].length, a2 = void 0;
    for (a2 = 0; a2 < o2; a2++) n2[a2 % r2].many.push(i2[e2][a2]);
  }
  var s2 = 0;
  for (e2 = r2 - 1; e2 >= 0; e2--) if (!n2[e2].many.length) {
    var l2 = n2[s2].many;
    if (l2.length <= 1) {
      if (!s2) return n2;
      s2 = 0;
    }
    o2 = l2.length;
    var u2 = Math.ceil(o2 / 2);
    n2[e2].many = l2.slice(u2, o2), n2[s2].many = l2.slice(0, u2), s2++;
  }
  return n2;
}
var MH = { clone: function(t5) {
  for (var i2 = [], n2 = 1 - Math.pow(1 - t5.path.style.opacity, 1 / t5.count), r2 = 0; r2 < t5.count; r2++) {
    var e2 = Nc(t5.path);
    e2.setStyle("opacity", n2), i2.push(e2);
  }
  return i2;
}, split: null };
function zH(t5, i2, n2, r2, e2, o2) {
  if (t5.length && i2.length) {
    var a2 = xh("update", r2, e2);
    if (a2 && a2.duration > 0) {
      var s2, l2, u2 = r2.getModel("universalTransition").get("delay"), f2 = Object.assign({ setToFinal: true }, a2);
      xH(t5) && (s2 = t5, l2 = i2), xH(i2) && (s2 = i2, l2 = t5);
      for (var c2 = s2 ? s2 === t5 : t5.length > i2.length, h2 = s2 ? kH(l2, s2) : kH(c2 ? i2 : t5, [c2 ? t5 : i2]), v2 = 0, d2 = 0; d2 < h2.length; d2++) v2 += h2[d2].many.length;
      var p2 = 0;
      for (d2 = 0; d2 < h2.length; d2++) m2(h2[d2], c2, p2, v2), p2 += h2[d2].many.length;
    }
  }
  function m2(t6, i3, r3, e3, a3) {
    var s3 = t6.many, l3 = t6.one;
    if (1 !== s3.length || a3) for (var c3 = gn({ dividePath: MH[n2], individualDelay: u2 && function(t7) {
      return u2(t7 + r3, e3);
    } }, f2), h3 = i3 ? (function(t7, i4, n3) {
      var r4 = [];
      !(function t8(i5) {
        for (var n4 = 0; n4 < i5.length; n4++) {
          var e5 = i5[n4];
          cH(e5) ? t8(e5.childrenRef()) : e5 instanceof Fu && r4.push(e5);
        }
      })(t7);
      var e4 = r4.length;
      if (!e4) return { fromIndividuals: [], toIndividuals: [], count: 0 };
      var o3 = (n3.dividePath || wH)({ path: i4, count: e4 });
      if (o3.length !== e4) return console.error("Invalid morphing: unmatched splitted path"), { fromIndividuals: [], toIndividuals: [], count: 0 };
      r4 = yH(r4), o3 = yH(o3);
      for (var a4 = n3.done, s4 = n3.during, l4 = n3.individualDelay, u3 = new Ea(), f3 = 0; f3 < e4; f3++) {
        var c4 = r4[f3], h4 = o3[f3];
        h4.parent = i4, h4.copyTransform(u3), l4 || mH(c4, h4);
      }
      function v4(t8) {
        for (var i5 = 0; i5 < o3.length; i5++) o3[i5].addSelfToZr(t8);
      }
      function d4() {
        i4.__isCombineMorphing = false, i4.__morphT = -1, i4.childrenRef = null, dH(i4, "addSelfToZr"), dH(i4, "removeSelfFromZr");
      }
      i4.__isCombineMorphing = true, i4.childrenRef = function() {
        return o3;
      }, vH(i4, "addSelfToZr", { after: function(t8) {
        v4(t8);
      } }), vH(i4, "removeSelfFromZr", { after: function(t8) {
        for (var i5 = 0; i5 < o3.length; i5++) o3[i5].removeSelfFromZr(t8);
      } });
      var p4 = o3.length;
      if (l4) {
        var m3 = p4, b3 = function() {
          0 == --m3 && (d4(), a4 && a4());
        };
        for (f3 = 0; f3 < p4; f3++) {
          var g4 = l4 ? gn({ delay: (n3.delay || 0) + l4(f3, p4, r4[f3], o3[f3]), done: b3 }, n3) : n3;
          bH(r4[f3], o3[f3], g4);
        }
      } else i4.__morphT = 0, i4.animateTo({ __morphT: 1 }, gn({ during: function(t8) {
        for (var n4 = 0; n4 < p4; n4++) {
          var r5 = o3[n4];
          r5.__morphT = i4.__morphT, r5.dirtyShape();
        }
        s4 && s4(t8);
      }, done: function() {
        d4();
        for (var i5 = 0; i5 < t7.length; i5++) dH(t7[i5], "updateTransform");
        a4 && a4();
      } }, n3));
      return i4.__zr && v4(i4.__zr), { fromIndividuals: r4, toIndividuals: o3, count: p4 };
    })(s3, l3, c3) : (function(t7, i4, n3) {
      var r4 = i4.length, e4 = [], o3 = n3.dividePath || wH;
      if (cH(t7)) {
        !(function t8(i5) {
          for (var n4 = 0; n4 < i5.length; n4++) {
            var r5 = i5[n4];
            cH(r5) ? t8(r5.childrenRef()) : r5 instanceof Fu && e4.push(r5);
          }
        })(t7.childrenRef());
        var a4 = e4.length;
        if (a4 < r4) for (var s4 = 0, l4 = a4; l4 < r4; l4++) e4.push(Nc(e4[s4++ % a4]));
        e4.length = r4;
      } else {
        e4 = o3({ path: t7, count: r4 });
        var u3 = t7.getComputedTransform();
        for (l4 = 0; l4 < e4.length; l4++) e4[l4].setLocalTransform(u3);
        if (e4.length !== r4) return console.error("Invalid morphing: unmatched splitted path"), { fromIndividuals: [], toIndividuals: [], count: 0 };
      }
      e4 = yH(e4), i4 = yH(i4);
      var f3 = n3.individualDelay;
      for (l4 = 0; l4 < r4; l4++) {
        var c4 = f3 ? gn({ delay: (n3.delay || 0) + f3(l4, r4, e4[l4], i4[l4]) }, n3) : n3;
        bH(e4[l4], i4[l4], c4);
      }
      return { fromIndividuals: e4, toIndividuals: i4, count: i4.length };
    })(l3, s3, c3), v3 = h3.fromIndividuals, d3 = h3.toIndividuals, p3 = v3.length, b2 = 0; b2 < p3; b2++) g3 = u2 ? gn({ delay: u2(b2, p3) }, f2) : f2, o2(v3[b2], d3[b2], i3 ? s3[b2] : t6.one, i3 ? t6.one : s3[b2], g3);
    else {
      var g3, y2 = i3 ? s3[0] : l3, w3 = i3 ? l3 : s3[0];
      cH(y2) ? m2({ many: [y2], one: w3 }, true, r3, e3, true) : (bH(y2, w3, g3 = u2 ? gn({ delay: u2(r3, e3) }, f2) : f2), o2(y2, w3, y2, w3, g3));
    }
  }
}
function SH(t5) {
  if (!t5) return [];
  if (_n(t5)) {
    for (var i2 = [], n2 = 0; n2 < t5.length; n2++) i2.push(SH(t5[n2]));
    return i2;
  }
  var r2 = [];
  return t5.traverse((function(t6) {
    t6 instanceof Fu && !t6.disableMorphing && !t6.invisible && !t6.ignore && r2.push(t6);
  })), r2;
}
var CH = Xs();
function AH(t5, i2, n2, r2) {
  var e2 = (function(t6, i3) {
    for (var n3 = t6.dimensions, r3 = 0; r3 < n3.length; r3++) {
      var e3 = t6.getDimensionInfo(n3[r3]);
      if (e3 && 0 === e3.otherDims[i3]) return n3[r3];
    }
  })(t5, r2 ? "itemChildGroupId" : "itemGroupId");
  if (e2) {
    var o2 = (function(t6, i3, n3) {
      var r3 = t6.getDimensionInfo(n3), e3 = r3 && r3.ordinalMeta;
      if (r3) {
        var o3 = t6.get(r3.name, i3);
        return e3 && e3.categories[o3] || o3 + "";
      }
    })(t5, i2, e2);
    return o2;
  }
  var a2 = t5.getRawDataItem(i2), s2 = r2 ? "childGroupId" : "groupId";
  return a2 && a2[s2] ? a2[s2] + "" : r2 ? void 0 : n2 || t5.getId(i2);
}
function NH(t5) {
  var i2 = [];
  return kn(t5, (function(t6) {
    var n2 = t6.data, r2 = t6.dataGroupId;
    if (!(n2.count() > 1e4)) for (var e2 = n2.getIndices(), o2 = 0; o2 < e2.length; o2++) i2.push({ data: n2, groupId: AH(n2, o2, r2, false), childGroupId: AH(n2, o2, r2, true), divide: t6.divide, dataIndex: o2 });
  })), i2;
}
function _H(t5, i2, n2) {
  t5.traverse((function(t6) {
    t6 instanceof Fu && zh(t6, { style: { opacity: 0 } }, i2, { dataIndex: n2, isFrom: true });
  }));
}
function TH(t5) {
  if (t5.parent) {
    var i2 = t5.getComputedTransform();
    t5.setLocalTransform(i2), t5.parent.remove(t5);
  }
}
function IH(t5) {
  t5.stopAnimation(), t5.isGroup && t5.traverse((function(t6) {
    t6.stopAnimation();
  }));
}
function LH(t5, i2, n2) {
  var r2 = NH(t5), e2 = NH(i2);
  function o2(t6, i3, n3, r3, e3) {
    (n3 || t6) && i3.animateFrom({ style: n3 && n3 !== t6 ? bn(bn({}, n3.style), t6.style) : t6.style }, e3);
  }
  var a2 = false, s2 = 0, l2 = Qn(), u2 = Qn();
  r2.forEach((function(t6) {
    t6.groupId && l2.set(t6.groupId, true), t6.childGroupId && u2.set(t6.childGroupId, true);
  }));
  for (var f2 = 0; f2 < e2.length; f2++) {
    if (u2.get(e2[f2].groupId)) {
      s2 = 1;
      break;
    }
    var c2 = e2[f2].childGroupId;
    if (c2 && l2.get(c2)) {
      s2 = 2;
      break;
    }
  }
  function h2(t6, i3) {
    return function(n3) {
      return i3 ? n3.data.getId(n3.dataIndex) : t6 ? 1 === s2 ? n3.childGroupId : n3.groupId : 2 === s2 ? n3.childGroupId : n3.groupId;
    };
  }
  var v2 = (function(t6, i3) {
    var n3 = t6.length;
    if (n3 !== i3.length) return false;
    for (var r3 = 0; r3 < n3; r3++) {
      var e3 = t6[r3], o3 = i3[r3];
      if (e3.data.getId(e3.dataIndex) !== o3.data.getId(o3.dataIndex)) return false;
    }
    return true;
  })(r2, e2), d2 = {};
  if (!v2) for (f2 = 0; f2 < e2.length; f2++) {
    var p2 = e2[f2], m2 = p2.data.getItemGraphicEl(p2.dataIndex);
    m2 && (d2[m2.id] = true);
  }
  function b2(t6, i3) {
    var n3 = r2[i3], s3 = e2[t6], l3 = s3.data.hostModel, u3 = n3.data.getItemGraphicEl(n3.dataIndex), f3 = s3.data.getItemGraphicEl(s3.dataIndex);
    u3 !== f3 ? u3 && d2[u3.id] || f3 && (IH(f3), u3 ? (IH(u3), TH(u3), a2 = true, zH(SH(u3), SH(f3), s3.divide, l3, t6, o2)) : _H(f3, l3, t6)) : f3 && (function(t7, i4, n4) {
      var r3 = xh("update", n4, i4);
      r3 && t7.traverse((function(t8) {
        if (t8 instanceof El) {
          var i5 = (function(t9) {
            return wh(t9).oldStyle;
          })(t8);
          i5 && t8.animateFrom({ style: i5 }, r3);
        }
      }));
    })(f3, s3.dataIndex, l3);
  }
  new Mw(r2, e2, h2(true, v2), h2(false, v2), null, "multiple").update(b2).updateManyToOne((function(t6, i3) {
    var n3 = e2[t6], s3 = n3.data, l3 = s3.hostModel, u3 = s3.getItemGraphicEl(n3.dataIndex), f3 = Sn(Mn(i3, (function(t7) {
      return r2[t7].data.getItemGraphicEl(r2[t7].dataIndex);
    })), (function(t7) {
      return t7 && t7 !== u3 && !d2[t7.id];
    }));
    u3 && (IH(u3), f3.length ? (kn(f3, (function(t7) {
      IH(t7), TH(t7);
    })), a2 = true, zH(SH(f3), SH(u3), n3.divide, l3, t6, o2)) : _H(u3, l3, n3.dataIndex));
  })).updateOneToMany((function(t6, i3) {
    var n3 = r2[i3], s3 = n3.data.getItemGraphicEl(n3.dataIndex);
    if (!s3 || !d2[s3.id]) {
      var l3 = Sn(Mn(t6, (function(t7) {
        return e2[t7].data.getItemGraphicEl(e2[t7].dataIndex);
      })), (function(t7) {
        return t7 && t7 !== s3;
      })), u3 = e2[t6[0]].data.hostModel;
      l3.length && (kn(l3, (function(t7) {
        return IH(t7);
      })), s3 ? (IH(s3), TH(s3), a2 = true, zH(SH(s3), SH(l3), n3.divide, u3, t6[0], o2)) : kn(l3, (function(i4) {
        return _H(i4, u3, t6[0]);
      })));
    }
  })).updateManyToMany((function(t6, i3) {
    new Mw(i3, t6, (function(t7) {
      return r2[t7].data.getId(r2[t7].dataIndex);
    }), (function(t7) {
      return e2[t7].data.getId(e2[t7].dataIndex);
    })).update((function(n3, r3) {
      b2(t6[n3], i3[r3]);
    })).execute();
  })).execute(), a2 && kn(i2, (function(t6) {
    var i3 = t6.data.hostModel, r3 = i3 && n2.getViewOfSeriesModel(i3), e3 = xh("update", i3, 0);
    r3 && i3.isAnimationEnabled() && e3 && e3.duration > 0 && r3.group.traverse((function(t7) {
      t7 instanceof Fu && !t7.animators.length && t7.animateFrom({ style: { opacity: 0 } }, e3);
    }));
  }));
}
function DH(t5) {
  return t5.getModel("universalTransition").get("seriesKey") || t5.id;
}
function WH(t5) {
  return _n(t5) ? t5.sort().join(",") : t5;
}
function EH(t5) {
  if (t5.hostModel) return t5.hostModel.getModel("universalTransition").get("divideShape");
}
function OH(t5, i2) {
  for (var n2 = 0; n2 < t5.length; n2++) if (null != i2.seriesIndex && i2.seriesIndex === t5[n2].seriesIndex || null != i2.seriesId && i2.seriesId === t5[n2].id) return n2;
}
ww([function(t5) {
  t5.registerPainter("canvas", Lz);
}]), ww([function(t5) {
  t5.registerPainter("svg", Cz);
}]), ww([function(t5) {
  t5.registerChartView(fS), t5.registerSeriesModel(Dz), t5.registerLayout(cS("line", true)), t5.registerVisual({ seriesType: "line", reset: function(t6) {
    var i2 = t6.getData(), n2 = t6.getModel("lineStyle").getLineStyle();
    n2 && !n2.stroke && (n2.stroke = i2.getVisual("style").fill), i2.setVisual("legendLineStyle", n2);
  } }), t5.registerProcessor(t5.PRIORITY.PROCESSOR.STATISTIC, dS("line"));
}, function(t5) {
  t5.registerChartView(zS), t5.registerSeriesModel(mS), t5.registerLayout(t5.PRIORITY.VISUAL.LAYOUT, Nn(Cx, "bar")), t5.registerLayout(t5.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, Ax("bar")), t5.registerProcessor(t5.PRIORITY.PROCESSOR.STATISTIC, dS("bar")), t5.registerAction({ type: "changeAxisOrder", event: "changeAxisOrder", update: "update" }, (function(t6, i2) {
    i2.eachComponent({ mainType: t6.componentType || "series", query: t6 }, (function(i3) {
      t6.sortInfo && i3.axis.setCategorySortInfo(t6.sortInfo);
    }));
  }));
}, function(t5) {
  t5.registerChartView(KS), t5.registerSeriesModel(nC), Mg("pie", t5.registerAction), t5.registerLayout(Nn(YS, "pie")), t5.registerProcessor(US("pie")), t5.registerProcessor({ seriesType: "pie", reset: function(t6) {
    var i2 = t6.getData();
    i2.filterSelf((function(t7) {
      var n2 = i2.mapDimension("value"), r2 = i2.get(n2, t7);
      return !(Dn(r2) && !isNaN(r2) && r2 < 0);
    }));
  } });
}, function(t5) {
  ww(iA), t5.registerSeriesModel(rC), t5.registerChartView(sC), t5.registerLayout(cS("scatter"));
}, function(t5) {
  ww(pA), t5.registerChartView(aA), t5.registerSeriesModel(sA), t5.registerLayout(nA), t5.registerProcessor(US("radar")), t5.registerPreprocessor(oA);
}, function(t5) {
  ww(jN), t5.registerChartView(MN), t5.registerSeriesModel(zN), t5.registerLayout(CN), t5.registerProcessor(t5.PRIORITY.PROCESSOR.STATISTIC, SN), Mg("map", t5.registerAction);
}, function(t5) {
  t5.registerChartView(t_), t5.registerSeriesModel(k_), t5.registerLayout(z_), t5.registerVisual(S_), (function(t6) {
    t6.registerAction({ type: "treeExpandAndCollapse", event: "treeExpandAndCollapse", update: "update" }, (function(t7, i2) {
      i2.eachComponent({ mainType: "series", subType: "tree", query: t7 }, (function(i3) {
        var n2 = t7.dataIndex, r2 = i3.getData().tree.getNodeByDataIndex(n2);
        r2.isExpand = !r2.isExpand;
      }));
    })), t6.registerAction({ type: "treeRoam", event: "treeRoam", update: "none" }, (function(t7, i2, n2) {
      i2.eachComponent({ mainType: "series", subType: "tree", query: t7 }, (function(i3) {
        var r2 = PN(i3.coordinateSystem, t7, void 0, n2);
        i3.setCenter && i3.setCenter(r2.center), i3.setZoom && i3.setZoom(r2.zoom);
      }));
    }));
  })(t5);
}, function(t5) {
  t5.registerSeriesModel(N_), t5.registerChartView(V_), t5.registerVisual(rT), t5.registerLayout(mT), (function(t6) {
    for (var i2 = 0; i2 < C_.length; i2++) t6.registerAction({ type: C_[i2], update: "updateView" }, er);
    t6.registerAction({ type: "treemapRootToNode", update: "updateView" }, (function(t7, i3) {
      i3.eachComponent({ mainType: "series", subType: "treemap", query: t7 }, (function(i4) {
        var n2 = g_(t7, ["treemapZoomToNode", "treemapRootToNode"], i4);
        if (n2) {
          var r2 = i4.getViewRoot();
          r2 && (t7.direction = w_(r2, n2.node) ? "rollUp" : "drillDown"), i4.resetViewRoot(n2.node);
        }
      }));
    }));
  })(t5);
}, function(t5) {
  t5.registerChartView(gI), t5.registerSeriesModel(SI), t5.registerProcessor(kT), t5.registerVisual(MT), t5.registerVisual(ST), t5.registerLayout(ET), t5.registerLayout(t5.PRIORITY.VISUAL.POST_CHART_LAYOUT, HT), t5.registerLayout(XT), t5.registerCoordinateSystem("graphView", { dimensions: NN.dimensions, create: UT }), t5.registerAction({ type: "focusNodeAdjacency", event: "focusNodeAdjacency", update: "series:focusNodeAdjacency" }, er), t5.registerAction({ type: "unfocusNodeAdjacency", event: "unfocusNodeAdjacency", update: "series:unfocusNodeAdjacency" }, er), t5.registerAction(CI, (function(t6, i2, n2) {
    i2.eachComponent({ mainType: "series", query: t6 }, (function(i3) {
      var r2 = PN(i3.coordinateSystem, t6, void 0, n2);
      i3.setCenter && i3.setCenter(r2.center), i3.setZoom && i3.setZoom(r2.zoom);
    }));
  }));
}, function(t5) {
  t5.registerChartView(TI), t5.registerSeriesModel(II);
}, function(t5) {
  t5.registerChartView(WI), t5.registerSeriesModel(EI), t5.registerLayout(OI), t5.registerProcessor(US("funnel"));
}, function(t5) {
  ww(lD), t5.registerChartView(FI), t5.registerSeriesModel(jI), t5.registerVisual(t5.PRIORITY.VISUAL.BRUSH, XI);
}, function(t5) {
  t5.registerChartView(cD), t5.registerSeriesModel(vD), t5.registerLayout(dD), t5.registerVisual(CD), t5.registerAction({ type: "dragNode", event: "dragnode", update: "update" }, (function(t6, i2) {
    i2.eachComponent({ mainType: "series", subType: "sankey", query: t6 }, (function(i3) {
      i3.setNodePosition(t6.dataIndex, [t6.localX, t6.localY]);
    }));
  }));
}, function(t5) {
  t5.registerSeriesModel(ND), t5.registerChartView(_D), t5.registerLayout(OD), t5.registerTransform(FD);
}, function(t5) {
  t5.registerChartView($D), t5.registerSeriesModel(eW), t5.registerPreprocessor(oW), t5.registerVisual(XD), t5.registerLayout(aW);
}, function(t5) {
  t5.registerChartView(fW), t5.registerSeriesModel(cW), t5.registerLayout(cS("effectScatter"));
}, function(t5) {
  t5.registerChartView(yW), t5.registerSeriesModel(MW), t5.registerLayout(gW), t5.registerVisual(SW);
}, function(t5) {
  t5.registerChartView(NW), t5.registerSeriesModel(_W);
}, function(t5) {
  t5.registerChartView(DW), t5.registerSeriesModel(JW), t5.registerLayout(t5.PRIORITY.VISUAL.LAYOUT, Nn(Cx, "pictorialBar")), t5.registerLayout(t5.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, Ax("pictorialBar"));
}, function(t5) {
  t5.registerChartView(KW), t5.registerSeriesModel(QW), t5.registerLayout(tE), t5.registerProcessor(US("themeRiver"));
}, function(t5) {
  t5.registerChartView(oE), t5.registerSeriesModel(aE), t5.registerLayout(Nn(uE, "sunburst")), t5.registerProcessor(Nn(US, "sunburst")), t5.registerVisual(cE), (function(t6) {
    t6.registerAction({ type: rE, update: "updateView" }, (function(t7, i2) {
      i2.eachComponent({ mainType: "series", subType: "sunburst", query: t7 }, (function(i3) {
        var n2 = g_(t7, [rE], i3);
        if (n2) {
          var r2 = i3.getViewRoot();
          r2 && (t7.direction = w_(r2, n2.node) ? "rollUp" : "drillDown"), i3.resetViewRoot(n2.node);
        }
      }));
    })), t6.registerAction({ type: eE, update: "none" }, (function(t7, i2, n2) {
      t7 = bn({}, t7), i2.eachComponent({ mainType: "series", subType: "sunburst", query: t7 }, (function(i3) {
        var n3 = g_(t7, [eE], i3);
        n3 && (t7.dataIndex = n3.node.dataIndex);
      })), n2.dispatchAction(bn(t7, { type: "highlight" }));
    })), t6.registerAction({ type: "sunburstUnhighlight", update: "updateView" }, (function(t7, i2, n2) {
      t7 = bn({}, t7), n2.dispatchAction(bn(t7, { type: "downplay" }));
    }));
  })(t5);
}, function(t5) {
  t5.registerChartView(nO), t5.registerSeriesModel(pE);
}]), ww((function() {
  ww(iA), ww(rF);
})), ww((function(t5) {
  ww(rF), HC.registerAxisPointerClass("PolarAxisPointer", eF), t5.registerCoordinateSystem("polar", gF), t5.registerComponentModel(aF), t5.registerComponentView(WF), pC(t5, "angle", lF, LF), pC(t5, "radius", uF, DF), t5.registerComponentView(MF), t5.registerComponentView(AF), t5.registerLayout(Nn(IF, "bar"));
})), ww(jN), ww((function(t5) {
  ww(rF), HC.registerAxisPointerClass("SingleAxisPointer", GF), t5.registerComponentView(KF), t5.registerComponentView(RF), t5.registerComponentModel(BF), pC(t5, "single", BF, BF.defaultOption), t5.registerCoordinateSystem("single", XF);
})), ww(lD), ww((function(t5) {
  t5.registerComponentModel(QF), t5.registerComponentView(iR), t5.registerCoordinateSystem("calendar", rR);
})), ww((function(t5) {
  t5.registerComponentModel(uR), t5.registerComponentView(hR), t5.registerPreprocessor((function(t6) {
    var i2 = t6.graphic;
    _n(i2) ? t6.graphic = i2[0] && i2[0].elements ? [t6.graphic[0]] : [{ elements: i2 }] : i2 && !i2.elements && (t6.graphic = [{ elements: [i2] }]);
  }));
})), ww((function(t5) {
  t5.registerComponentModel(RR), t5.registerComponentView(BR), OR("saveAsImage", VR), OR("magicType", YR), OR("dataView", qR), OR("dataZoom", bP), OR("restore", iP), ww(DR);
})), ww((function(t5) {
  ww(rF), t5.registerComponentModel(wP), t5.registerComponentView(OP), t5.registerAction({ type: "showTip", event: "showTip", update: "tooltip:manuallyShowTip" }, er), t5.registerAction({ type: "hideTip", event: "hideTip", update: "tooltip:manuallyHideTip" }, er);
})), ww(rF), ww((function(t5) {
  t5.registerComponentView(eB), t5.registerComponentModel(oB), t5.registerPreprocessor(VP), t5.registerVisual(t5.PRIORITY.VISUAL.BRUSH, QP), t5.registerAction({ type: "brush", event: "brush", update: "updateVisual" }, (function(t6, i2) {
    i2.eachComponent({ mainType: "brush", query: t6 }, (function(i3) {
      i3.setAreas(t6.areas);
    }));
  })), t5.registerAction({ type: "brushSelect", event: "brushSelected", update: "none" }, er), t5.registerAction({ type: "brushEnd", event: "brushEnd", update: "none" }, er), OR("brush", lB);
})), ww((function(t5) {
  t5.registerComponentModel(uB), t5.registerComponentView(fB);
})), ww((function(t5) {
  t5.registerComponentModel(hB), t5.registerComponentView(bB), t5.registerSubTypeDefaulter("timeline", (function() {
    return "slider";
  })), (function(t6) {
    t6.registerAction({ type: "timelineChange", event: "timelineChanged", update: "prepareAndUpdate" }, (function(t7, i2, n2) {
      var r2 = i2.getComponent("timeline");
      return r2 && null != t7.currentIndex && (r2.setCurrentIndex(t7.currentIndex), !r2.get("loop", true) && r2.isIndexMax() && r2.getPlayState() && (r2.setPlayState(false), n2.dispatchAction({ type: "timelinePlayChange", playState: false, from: t7.from }))), i2.resetOption("timeline", { replaceMerge: r2.get("replaceMerge", true) }), gn({ currentIndex: r2.option.currentIndex }, t7);
    })), t6.registerAction({ type: "timelinePlayChange", event: "timelinePlayChanged", update: "update" }, (function(t7, i2) {
      var n2 = i2.getComponent("timeline");
      n2 && null != t7.playState && n2.setPlayState(t7.playState);
    }));
  })(t5), t5.registerPreprocessor(wB);
})), ww((function(t5) {
  t5.registerComponentModel(AB), t5.registerComponentView(PB), t5.registerPreprocessor((function(t6) {
    MB(t6.series, "markPoint") && (t6.markPoint = t6.markPoint || {});
  }));
})), ww((function(t5) {
  t5.registerComponentModel(BB), t5.registerComponentView($B), t5.registerPreprocessor((function(t6) {
    MB(t6.series, "markLine") && (t6.markLine = t6.markLine || {});
  }));
})), ww((function(t5) {
  t5.registerComponentModel(GB), t5.registerComponentView(nV), t5.registerPreprocessor((function(t6) {
    MB(t6.series, "markArea") && (t6.markArea = t6.markArea || {});
  }));
})), ww((function() {
  ww(pV), ww(kV);
})), ww((function() {
  ww(LV), ww(VV);
})), ww(LV), ww(VV), ww((function() {
  ww(xj), ww(Cj);
})), ww(xj), ww(Cj), ww((function(t5) {
  t5.registerPreprocessor(Ij), t5.registerVisual(t5.PRIORITY.VISUAL.ARIA, Tj);
})), ww((function(t5) {
  t5.registerTransform(Hj), t5.registerTransform(Yj);
})), ww((function(t5) {
  t5.registerComponentModel(Xj), t5.registerComponentView(Uj);
})), ww((function(t5) {
  t5.registerUpdateLifecycle("series:beforeupdate", (function(t6, i2, n2) {
    kn(Ds(n2.seriesTransition), (function(t7) {
      kn(Ds(t7.to), (function(t8) {
        for (var i3 = n2.updatedSeries, r2 = 0; r2 < i3.length; r2++) (null != t8.seriesIndex && t8.seriesIndex === i3[r2].seriesIndex || null != t8.seriesId && t8.seriesId === i3[r2].id) && (i3[r2][hb] = true);
      }));
    }));
  })), t5.registerUpdateLifecycle("series:transition", (function(t6, i2, n2) {
    var r2 = CH(i2);
    if (r2.oldSeries && n2.updatedSeries && n2.optionChanged) {
      var e2 = n2.seriesTransition;
      if (e2) kn(Ds(e2), (function(t7) {
        !(function(t8, i3, n3, r3) {
          var e3 = [], o3 = [];
          kn(Ds(t8.from), (function(t9) {
            var n4 = OH(i3.oldSeries, t9);
            n4 >= 0 && e3.push({ dataGroupId: i3.oldDataGroupIds[n4], data: i3.oldData[n4], divide: EH(i3.oldData[n4]), groupIdDim: t9.dimension });
          })), kn(Ds(t8.to), (function(t9) {
            var r4 = OH(n3.updatedSeries, t9);
            if (r4 >= 0) {
              var e4 = n3.updatedSeries[r4].getData();
              o3.push({ dataGroupId: i3.oldDataGroupIds[r4], data: e4, divide: EH(e4), groupIdDim: t9.dimension });
            }
          })), e3.length > 0 && o3.length > 0 && LH(e3, o3, r3);
        })(t7, r2, n2, i2);
      }));
      else {
        var o2 = (function(t7, i3) {
          var n3 = Qn(), r3 = Qn(), e3 = Qn();
          return kn(t7.oldSeries, (function(i4, n4) {
            var o3 = t7.oldDataGroupIds[n4], a3 = t7.oldData[n4], s3 = DH(i4), l3 = WH(s3);
            r3.set(l3, { dataGroupId: o3, data: a3 }), _n(s3) && kn(s3, (function(t8) {
              e3.set(t8, { key: l3, dataGroupId: o3, data: a3 });
            }));
          })), kn(i3.updatedSeries, (function(t8) {
            if (t8.isUniversalTransitionEnabled() && t8.isAnimationEnabled()) {
              var i4 = t8.get("dataGroupId"), o3 = t8.getData(), a3 = DH(t8), s3 = WH(a3), l3 = r3.get(s3);
              if (l3) n3.set(s3, { oldSeries: [{ dataGroupId: l3.dataGroupId, divide: EH(l3.data), data: l3.data }], newSeries: [{ dataGroupId: i4, divide: EH(o3), data: o3 }] });
              else if (_n(a3)) {
                var u3 = [];
                kn(a3, (function(t9) {
                  var i5 = r3.get(t9);
                  i5.data && u3.push({ dataGroupId: i5.dataGroupId, divide: EH(i5.data), data: i5.data });
                })), u3.length && n3.set(s3, { oldSeries: u3, newSeries: [{ dataGroupId: i4, data: o3, divide: EH(o3) }] });
              } else {
                var f3 = e3.get(a3);
                if (f3) {
                  var c3 = n3.get(f3.key);
                  c3 || (c3 = { oldSeries: [{ dataGroupId: f3.dataGroupId, data: f3.data, divide: EH(f3.data) }], newSeries: [] }, n3.set(f3.key, c3)), c3.newSeries.push({ dataGroupId: i4, data: o3, divide: EH(o3) });
                }
              }
            }
          })), n3;
        })(r2, n2);
        kn(o2.keys(), (function(t7) {
          var n3 = o2.get(t7);
          LH(n3.oldSeries, n3.newSeries, i2);
        }));
      }
      kn(n2.updatedSeries, (function(t7) {
        t7[hb] && (t7[hb] = false);
      }));
    }
    for (var a2 = t6.getSeries(), s2 = r2.oldSeries = [], l2 = r2.oldDataGroupIds = [], u2 = r2.oldData = [], f2 = 0; f2 < a2.length; f2++) {
      var c2 = a2[f2].getData();
      c2.count() < 1e4 && (s2.push(a2[f2]), l2.push(a2[f2].get("dataGroupId")), u2.push(c2));
    }
  }));
})), ww((function(t5) {
  t5.registerUpdateLifecycle("series:beforeupdate", (function(t6, i2) {
    var n2 = pM(i2).labelManager;
    n2 || (n2 = pM(i2).labelManager = new dM()), n2.clearLabels();
  })), t5.registerUpdateLifecycle("series:layoutlabels", (function(t6, i2, n2) {
    var r2 = pM(i2).labelManager;
    n2.updatedSeries.forEach((function(t7) {
      r2.addLabelsOfSeries(i2.getViewOfSeriesModel(t7));
    })), r2.updateLayoutConfig(i2), r2.layout(i2), r2.processLabelsOverall();
  }));
}));
const FH = (t5, i2) => `${t5}${i2}`;
function RH(t5, i2) {
  return new ch(0, 0, 0, 1, [{ offset: 0, color: `rgba(${i2(t5).rgbValues}, 0.25)` }, { offset: 0.5, color: `rgba(${i2(t5).rgbValues}, 0.45)` }, { offset: 1, color: `rgba(${i2(t5).rgbValues}, 0.6)` }]);
}
function PH(t5, i2) {
  return new ch(0, 0, 0, 1, [{ offset: 0, color: `rgba(${i2(t5).rgbValues}, 0.4)` }, { offset: 0.5, color: `rgba(${i2(t5).rgbValues}, 0.65)` }, { offset: 1, color: `rgba(${i2(t5).rgbValues}, 0.4)` }]);
}
function BH(t5, i2 = 0.15) {
  return { shadowBlur: 10, shadowColor: `rgba(${t5}, ${i2})`, shadowOffsetX: 3, shadowOffsetY: 3 };
}
const VH = (t5, i2) => ({ ...t5, options: { basic: () => ((t6) => {
  const { manager: i3, mappedType: n2, seriesData: r2, style: e2, xAxesData: o2 } = t6().controller.get, { axis: a2, legend: s2, seriesColor: l2, theme: u2, tooltip: f2 } = e2, { compute: c2 } = i3.color, { background: h2, font: v2, text: d2 } = u2(), p2 = [], m2 = [], b2 = ["bottom", "top"], g3 = ["left", "right"];
  for (let t7 = 0; t7 < o2().length; t7++) {
    const i4 = o2()[t7], n3 = g3[t7 % g3.length];
    p2.push({ type: "category", data: i4.data, position: b2[t7 % b2.length], offset: 30 * t7, axisLabel: { ...a2("x").axisLabel, interval: 0 }, ...a2("x") }), m2.push({ type: "value", position: n3, offset: 30 * t7, ...a2("y") });
  }
  const y2 = r2(), w3 = l2(y2.length), x2 = y2.map(((t7, i4) => {
    const { axisIndex: r3, data: e3, name: o3, type: a3 } = t7, s3 = w3[i4], l3 = n2(a3);
    let u3;
    if ("line" === l3) u3 = { name: o3, type: "line", data: e3, xAxisIndex: r3, yAxisIndex: r3, itemStyle: { color: RH(s3, c2), borderWidth: 1, borderColor: `rgba(${c2(s3).rgbValues}, 0.25)`, ...BH(c2(h2).rgbValues, 0.1) }, emphasis: { itemStyle: { color: PH(s3, c2), ...BH(c2(d2).rgbValues, 0.25) } } }, "area" === a3 && (u3.areaStyle = { color: new ch(0, 0, 0, 0.25, [{ offset: 0, color: `rgba(${c2(s3).rgbValues}, 0.375)` }]) }), "gaussian" === a3 && (u3.smooth = true);
    else if ("bar" === l3) {
      const t8 = "sbar" === a3;
      u3 = { name: o3, type: "bar", data: e3, xAxisIndex: r3, yAxisIndex: r3, itemStyle: { color: RH(s3, c2), borderWidth: 1, borderColor: `rgba(${c2(s3).rgbValues}, 0.25)`, ...BH(c2(h2).rgbValues, 0.1) }, emphasis: { itemStyle: { color: PH(s3, c2), ...BH(c2(d2).rgbValues, 0.25) } }, stack: t8 && "total" }, "hbar" === a3 && (p2[r3].type = "value", m2[r3].type = "category");
    } else u3 = "scatter" === l3 ? { name: o3, type: "scatter", data: e3, xAxisIndex: r3, yAxisIndex: r3, itemStyle: { color: RH(s3, c2), borderWidth: 1, borderColor: `rgba(${c2(s3).rgbValues}, 0.25)`, ...BH(c2(h2).rgbValues, 0.1) }, emphasis: { itemStyle: { color: PH(s3, c2), ...BH(c2(d2).rgbValues, 0.25) } } } : "heatmap" === l3 ? { name: o3, type: "heatmap", data: e3, xAxisIndex: 0, yAxisIndex: 0, itemStyle: { color: RH(s3, c2), borderWidth: 1, borderColor: `rgba(${c2(s3).rgbValues}, 0.25)`, ...BH(c2(h2).rgbValues, 0.1) }, emphasis: { itemStyle: { color: PH(s3, c2), ...BH(c2(d2).rgbValues, 0.25) } } } : { name: o3, type: a3, data: e3, xAxisIndex: r3, yAxisIndex: r3, itemStyle: { color: RH(s3, c2), borderWidth: 1, borderColor: `rgba(${c2(s3).rgbValues}, 0.25)`, ...BH(c2(h2).rgbValues, 0.1) }, emphasis: { itemStyle: { color: PH(s3, c2), ...BH(c2(d2).rgbValues, 0.25) } } };
    return u3;
  })), k2 = x2.some(((t7) => "heatmap" === t7.type));
  return { color: w3, legend: s2(), tooltip: { ...f2(), trigger: "axis" }, xAxis: p2, yAxis: m2, series: x2, visualMap: k2 && { min: Math.min(...x2.filter(((t7) => "heatmap" === t7.type)).flatMap(((t7) => t7.data.map(((t8) => t8[2]))))), max: Math.max(...x2.filter(((t7) => "heatmap" === t7.type)).flatMap(((t7) => t7.data.map(((t8) => t8[2]))))), calculable: true, orient: "vertical", left: "left", bottom: "15%", inRange: { color: ["#f6efa6", w3[0]] }, text: ["High", "Low"], textStyle: { color: d2, fontFamily: v2 } } };
})(i2), bubble: () => ((t6) => {
  var _a2, _b2;
  const { get: i3 } = t6().controller, { columnById: n2, compInstance: r2, manager: e2, style: o2 } = i3, { lfAxis: a2, lfDataset: s2, lfSeries: l2 } = r2, { axis: u2, seriesColor: f2, theme: c2, tooltip: h2 } = o2, { stringify: v2 } = e2.data.cell, { font: d2, text: p2 } = c2(), m2 = a2[0], b2 = a2[1], g3 = l2[0], y2 = s2.nodes.map(((t7) => {
    var _a3;
    return parseFloat(v2((_a3 = t7.cells[m2]) == null ? void 0 : _a3.value) || "0");
  })), w3 = s2.nodes.map(((t7) => {
    var _a3;
    return parseFloat(v2((_a3 = t7.cells[b2]) == null ? void 0 : _a3.value) || "0");
  })), x2 = s2.nodes.map(((t7) => {
    var _a3;
    return parseFloat(v2((_a3 = t7.cells[g3]) == null ? void 0 : _a3.value) || "0");
  })), k2 = y2.map(((t7, i4) => [t7, w3[i4], x2[i4]]));
  return { xAxis: { name: ((_a2 = n2(m2)) == null ? void 0 : _a2.title) || m2, nameLocation: "middle", nameGap: 25, axisLabel: u2("x").axisLabel }, yAxis: { name: ((_b2 = n2(b2)) == null ? void 0 : _b2.title) || b2, axisLabel: u2("y").axisLabel }, series: [{ label: { color: p2, fontFamily: d2 }, type: "scatter", data: k2, symbolSize: (t7) => t7[2], itemStyle: { color: f2(1)[0] } }], tooltip: h2(((t7) => {
    var _a3, _b3, _c2;
    const { data: i4 } = t7, [r3, e3, o3] = i4;
    return `
              ${((_a3 = n2(m2)) == null ? void 0 : _a3.title) || m2}: <strong>${r3}</strong><br/>
              ${((_b3 = n2(b2)) == null ? void 0 : _b3.title) || b2}: <strong>${e3}</strong><br/>
              ${((_c2 = n2(g3)) == null ? void 0 : _c2.title) || g3}: <strong>${o3}</strong>
          `;
  })) };
})(i2), calendar: () => ((t6) => {
  const { compInstance: i3, manager: n2, style: r2 } = t6().controller.get, { lfAxis: e2, lfDataset: o2, lfSeries: a2 } = i3, { seriesColor: s2, theme: l2, tooltip: u2 } = r2, { stringify: f2 } = n2.data.cell, { background: c2, border: h2, font: v2, text: d2 } = l2(), p2 = e2[0], m2 = a2[0], b2 = o2.nodes.map(((t7) => {
    var _a2, _b2;
    return [String(((_a2 = t7.cells[p2]) == null ? void 0 : _a2.value) || (/* @__PURE__ */ new Date()).toISOString().split("T")[0]), parseFloat(f2((_b2 = t7.cells[m2]) == null ? void 0 : _b2.value) || "0")];
  })), g3 = new Date(Math.min(...b2.map((([t7]) => new Date(t7).getTime())))).getFullYear(), y2 = s2(1);
  return { color: y2[0], calendar: { range: g3, cellSize: ["auto", 24], itemStyle: { borderWidth: 1, borderColor: h2, color: c2 }, dayLabel: { color: d2, fontFamily: v2 }, monthLabel: { color: d2, fontFamily: v2 }, yearLabel: { color: d2, fontFamily: v2 } }, series: [{ type: "heatmap", coordinateSystem: "calendar", data: b2, label: { show: false }, itemStyle: { color: y2[0] } }], tooltip: u2(((t7) => {
    const { value: i4 } = t7;
    return `
              <strong>Date:</strong> ${i4[0]}<br/>
              <strong>Value:</strong> ${i4[1]}
          `;
  })), visualMap: { align: "auto", bottom: "bottom", inRange: { color: [c2, y2[0]] }, left: "center", max: Math.max(...b2.map((([t7, i4]) => Number(i4)))), min: Math.min(...b2.map((([t7, i4]) => Number(i4)))), orient: "horizontal", text: ["High", "Low"], textStyle: { color: d2, fontFamily: v2 } } };
})(i2), candlestick: () => ((t6) => {
  const { compInstance: i3, manager: n2, style: r2 } = t6().controller.get, { lfAxis: e2, lfDataset: o2 } = i3, { theme: a2, tooltip: s2 } = r2, { stringify: l2 } = n2.data.cell, { compute: u2 } = n2.color, { border: f2, danger: c2, font: h2, success: v2, text: d2 } = a2(), p2 = e2[0], m2 = o2.nodes.map(((t7) => {
    var _a2, _b2, _c2, _d2;
    return [parseFloat(l2((_a2 = t7.cells.Open) == null ? void 0 : _a2.value) || "0"), parseFloat(l2((_b2 = t7.cells.Close) == null ? void 0 : _b2.value) || "0"), parseFloat(l2((_c2 = t7.cells.Low) == null ? void 0 : _c2.value) || "0"), parseFloat(l2((_d2 = t7.cells.High) == null ? void 0 : _d2.value) || "0")];
  }));
  return { color: [v2, c2], xAxis: { type: "category", data: o2.nodes.map(((t7) => {
    var _a2;
    return l2(((_a2 = t7.cells[p2]) == null ? void 0 : _a2.value) || "");
  })), axisLabel: { color: d2, fontFamily: h2 }, axisLine: { lineStyle: { color: f2 } } }, yAxis: { type: "value", axisLabel: { color: d2, fontFamily: h2 }, axisLine: { lineStyle: { color: f2 } }, splitLine: { lineStyle: { color: f2 } } }, series: [{ type: "candlestick", data: m2, itemStyle: { color: RH(v2, u2), borderColor: `rgba(${u2(v2).rgbValues}, 0.25)`, color0: RH(c2, u2), borderColor0: `rgba(${u2(c2).rgbValues}, 0.25)`, borderWidth: 1, ...BH(u2(f2).rgbValues, 0.1) }, emphasis: { itemStyle: { color: PH(v2, u2), color0: PH(c2, u2), ...BH(u2(d2).rgbValues, 0.25) } } }], tooltip: s2() };
})(i2), funnel: () => ((t6) => {
  const { compInstance: i3, manager: n2, style: r2 } = t6().controller.get, { lfDataset: e2, lfSeries: o2 } = i3, { legend: a2, seriesColor: s2, theme: l2, tooltip: u2 } = r2, { stringify: f2 } = n2.data.cell, { compute: c2 } = n2.color, { border: h2, font: v2, text: d2 } = l2(), p2 = o2.map(((t7) => {
    const i4 = e2.nodes.reduce(((i5, n3) => {
      var _a2;
      return i5 + parseFloat(f2((_a2 = n3.cells[t7]) == null ? void 0 : _a2.value) || "0");
    }), 0);
    return { name: String(t7), value: i4 };
  }));
  return { color: s2(p2.length).map(((t7) => {
    const { rgbValues: i4 } = c2(t7);
    return `rgba(${i4}, 0.475)`;
  })), legend: { ...a2(), data: p2.map(((t7) => t7.name)) }, series: [{ type: "funnel", data: p2, sort: "descending", label: { show: true, position: "outer", color: d2, fontFamily: v2 }, itemStyle: { borderColor: h2, borderWidth: 1 } }], tooltip: u2(((t7) => {
    const { name: i4, value: n3, percent: r3 } = t7;
    return `
              <strong>${i4}</strong><br/>
              Value: ${n3}<br/>
              Percent: ${r3}%
          `;
  })) };
})(i2), heatmap: () => ((t6) => {
  const { compInstance: i3, manager: n2, style: r2 } = t6().controller.get, { lfAxis: e2, lfDataset: o2, lfSeries: a2 } = i3, { seriesColor: s2, theme: l2, tooltip: u2 } = r2, { stringify: f2 } = n2.data.cell, { border: c2, font: h2, text: v2 } = l2(), d2 = e2[0], p2 = a2[0], m2 = a2[1], b2 = /* @__PURE__ */ new Set(), g3 = /* @__PURE__ */ new Set(), y2 = o2.nodes.map(((t7) => {
    var _a2, _b2, _c2;
    const i4 = f2((_a2 = t7.cells[d2]) == null ? void 0 : _a2.value) || "", n3 = f2((_b2 = t7.cells[p2]) == null ? void 0 : _b2.value) || "", r3 = parseFloat(f2((_c2 = t7.cells[m2]) == null ? void 0 : _c2.value) || "0");
    return b2.add(i4), g3.add(n3), [i4, n3, r3];
  })), w3 = Array.from(b2), x2 = Array.from(g3), k2 = new Map(w3.map(((t7, i4) => [t7, i4]))), M2 = new Map(x2.map(((t7, i4) => [t7, i4]))), z2 = y2.map((([t7, i4, n3]) => [k2.get(f2(t7)), M2.get(f2(i4)), n3])), S3 = s2(1);
  return { color: S3[0], xAxis: { type: "category", data: w3, axisLabel: { color: v2, fontFamily: h2 } }, yAxis: { type: "category", data: x2, axisLabel: { color: v2, fontFamily: h2 } }, series: [{ type: "heatmap", data: z2, label: { show: false }, itemStyle: { borderColor: c2, borderWidth: 1 }, emphasis: { itemStyle: { shadowBlur: 10, shadowColor: "rgba(0, 0, 0, 0.5)" } } }], tooltip: u2(), visualMap: { min: Math.min(...z2.map(((t7) => Number(t7[2])))), max: Math.max(...z2.map(((t7) => Number(t7[2])))), calculable: true, orient: "vertical", left: "left", bottom: "15%", inRange: { color: ["#f6efa6", S3[0]] }, text: ["High", "Low"], textStyle: { color: v2, fontFamily: h2 } } };
})(i2), pie: () => ((t6) => {
  const { columnById: i3, compInstance: n2, manager: r2, seriesData: e2, style: o2 } = t6().controller.get, { lfAxis: a2 } = n2, { compute: s2 } = r2.color, { label: l2, legend: u2, seriesColor: f2, tooltip: c2 } = o2, h2 = e2().map(((t7) => ({ name: t7.name, value: t7.data.reduce(((t8, i4) => t8 + i4), 0) })));
  return { color: f2(h2.length).map(((t7) => {
    const { rgbValues: i4 } = s2(t7);
    return `rgba(${i4}, 0.475)`;
  })), label: l2(), legend: u2(), tooltip: { ...c2(((t7) => {
    const { data: { name: n3, value: r3 }, percent: e3, seriesName: o3 } = t7;
    return `<strong>${i3(o3).title || o3}</strong><br/>${n3}: ${r3.toLocaleString()} (${e3.toFixed(2)}%)`;
  })), trigger: "item" }, series: [{ name: a2[0] || "Data", type: "pie", data: h2 }] };
})(i2), radar: () => ((t6) => {
  const { compInstance: i3, manager: n2, seriesData: r2, style: e2 } = t6().controller.get, { lfAxis: o2, lfDataset: a2, lfSeries: s2 } = i3, { legend: l2, seriesColor: u2, theme: f2, tooltip: c2 } = e2, { stringify: h2 } = n2.data.cell, { font: v2, text: d2 } = f2(), p2 = s2.map(((t7) => {
    var _a2;
    const i4 = ((_a2 = r2().find(((i5) => i5.name === t7))) == null ? void 0 : _a2.data.reduce(((t8, i5) => Math.max(t8, i5)), 0)) || 100;
    return { name: t7, max: i4 };
  })), m2 = a2.nodes.map(((t7) => {
    var _a2;
    return { name: h2((_a2 = t7.cells[o2[0]]) == null ? void 0 : _a2.value) || "Entity", value: s2.map(((i4) => {
      var _a3;
      return parseFloat(h2((_a3 = t7.cells[i4]) == null ? void 0 : _a3.value) || "0");
    })) };
  })), b2 = u2(m2.length);
  return { color: b2, legend: { ...l2(), data: m2.map(((t7) => t7.name)) }, radar: { indicator: p2, shape: "circle", axisName: { color: d2, fontFamily: v2 }, splitArea: { show: true, areaStyle: { color: [FH(b2[0], "1A"), FH(b2[1], "0D")] } }, splitLine: { lineStyle: { color: b2[2] || "rgba(128, 128, 128, 0.5)", type: "dashed" } }, axisLine: { lineStyle: { color: b2[2] || "rgba(128, 128, 128, 0.5)" } }, axisTick: { alignWithLabel: false, show: false } }, series: [{ areaStyle: { opacity: 0.2 }, lineStyle: { width: 2 }, symbol: "circle", symbolSize: 6, type: "radar", data: m2 }], tooltip: c2() };
})(i2), sankey: () => ((t6) => {
  const { compInstance: i3, manager: n2, style: r2 } = t6().controller.get, { lfAxis: e2, lfDataset: o2, lfSeries: a2 } = i3, { seriesColor: s2, theme: l2, tooltip: u2 } = r2, { stringify: f2 } = n2.data.cell, { font: c2, text: h2 } = l2(), v2 = e2[0], d2 = a2[0], p2 = a2[1], m2 = o2.nodes.map(((t7) => {
    var _a2, _b2, _c2;
    return { source: f2(((_a2 = t7.cells[v2]) == null ? void 0 : _a2.value) || "Source"), target: f2(((_b2 = t7.cells[d2]) == null ? void 0 : _b2.value) || "Target"), value: parseFloat(f2((_c2 = t7.cells[p2]) == null ? void 0 : _c2.value) || "0") };
  })), b2 = { color: s2(m2.length), series: [{ type: "sankey", data: [...new Set(m2.flatMap(((t7) => [t7.source, t7.target])))].map(((t7) => ({ name: t7 }))), links: m2, label: { show: true, color: h2, fontFamily: c2 }, lineStyle: { color: "gradient", curveness: 0.5 } }], tooltip: u2(((t7) => {
    if ("edge" === t7.dataType) {
      const { source: i4, target: n3, value: r3 } = t7.data;
      return `
                  <strong>Flow:</strong><br/>
                  ${i4}  ${n3}<br/>
                  Value: ${r3}
              `;
    }
    return `<strong>${t7.name}</strong>`;
  })) };
  return b2;
})(i2) } }), jH = (t5) => /* @__PURE__ */ ((t6) => ({ onClick: (i2) => {
  var _a2, _b2;
  const { compInstance: n2, seriesColumn: r2 } = t6().controller.get, { lfDataset: e2 } = n2, o2 = n2, a2 = i2.seriesName, s2 = i2.dataIndex, l2 = ((_a2 = e2 == null ? void 0 : e2.nodes) == null ? void 0 : _a2[s2]) || { id: "*NOTFOUND*" }, u2 = ((_b2 = r2(a2)) == null ? void 0 : _b2[0]) || { id: "*NOTFOUND*", title: a2 }, f2 = i2.name;
  let c2 = "number" != typeof i2.value && "string" != typeof i2.value ? String(i2.value).valueOf() : i2.value;
  "string" != typeof c2 && "number" != typeof c2 && (c2 = String(c2)), o2.onLfEvent(new Event("click"), "click", { column: u2, node: l2, x: f2, y: c2 });
} }))(t5);
var HH, YH, XH, UH, $H, GH, ZH, qH, JH, KH, QH, tY, iY, nY, rY, eY, oY, aY, sY, lY, uY, fY, cY, hY = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, vY = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const dY = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-chart-event"), HH.add(this), this.themeValues = { background: null, border: null, danger: null, font: null, success: null, text: null }, this.lfAxis = [], this.lfColors = [], this.lfDataset = null, this.lfLegend = "bottom", this.lfSeries = [], this.lfSizeX = "100%", this.lfSizeY = "100%", this.lfStyle = "", this.lfTypes = ["line"], this.lfXAxis = null, this.lfYAxis = null, YH.set(this, void 0), XH.set(this, LF_CHART_BLOCKS), UH.set(this, LF_CHART_PARTS), $H.set(this, LF_STYLE_ID), GH.set(this, LF_CHART_CSS_VARS), ZH.set(this, LF_WRAPPER_ID), qH.set(this, void 0), JH.set(this, void 0), KH.set(this, void 0), QH.set(this, void 0), tY.set(this, []), iY.set(this, []), nY.set(this, void 0), eY.set(this, (() => {
      var t5, i2, n2;
      vY(this, nY, (t5 = { compInstance: this, columnById: (t6) => hY(this, YH, "f").data.column.find(this.lfDataset, { id: t6 })[0], manager: hY(this, YH, "f"), mappedType: (t6) => {
        switch (t6) {
          case "area":
          case "gaussian":
            return "line";
          case "calendar":
          case "hbar":
          case "sbar":
            return "bar";
          case "bubble":
            return "scatter";
          default:
            return t6;
        }
      }, seriesColumn: (t6) => hY(this, YH, "f").data.column.find(this.lfDataset, { title: t6 }), seriesData: () => hY(this, iY, "f"), style: { axis: () => (() => {
        const t6 = (() => hY(this, nY, "f"))(), { manager: i3, style: n3 } = t6.controller.get, { border: r2, font: e2, text: o2 } = n3.theme(), { compute: a2 } = i3.color;
        return { alignTicks: false, axisLabel: { color: o2, fontFamily: e2, hideOverlap: true, margin: 12, overflow: "truncate" }, axisLine: { lineStyle: { color: `rgba(${a2(o2).rgbValues}, 0.25)`, width: 1 } }, axisPointer: { label: { color: o2 } }, axisTick: { lineStyle: { color: r2 } }, boundaryGap: ["0%", "0%"], nameGap: 20, nameTextStyle: { color: o2, fontFamily: e2 }, splitLine: { lineStyle: { color: `rgba(${a2(o2).rgbValues}, 0.25)` } } };
      })(), label: () => ((t6) => {
        const { font: i3, text: n3 } = t6().controller.get.style.theme();
        return { show: true, formatter: "{b|{b}}", rich: { b: { color: n3, fontFamily: i3, textShadow: "none" } }, textShadowColor: "transparent", textShadowOffsetX: 0, textShadowOffsetY: 0, textShadowBlur: 0 };
      })((() => hY(this, nY, "f"))), legend: () => ((t6) => {
        const { compInstance: i3, seriesData: n3, style: r2 } = t6().controller.get, { lfLegend: e2 } = i3, { font: o2, text: a2 } = r2.theme();
        return "hidden" === e2 ? null : { data: n3().map(((t7) => t7.name)), itemGap: 12, [e2]: 0, textStyle: { color: a2, fontFamily: o2 } };
      })((() => hY(this, nY, "f"))), seriesColor: (t6) => ((t7, i3) => {
        const { compInstance: n3, manager: r2 } = t7().controller.get, { lfColors: e2 } = n3, { compute: o2, random: a2 } = r2.color, { variables: s2 } = r2.theme.get.current(), l2 = [];
        if ((e2 == null ? void 0 : e2.length) > 0) l2.push(...e2.map(((t8) => o2(t8).hexColor)));
        else {
          let t8 = 1, i4 = `${LF_THEME_COLORS_DATA_PREFIX}${t8}`;
          for (; s2[i4]; ) l2.push(o2(String(s2[i4])).hexColor), t8++, i4 = `${LF_THEME_COLORS_DATA_PREFIX}${t8}`;
        }
        for (; l2.length < i3; ) l2.push(a2(128));
        return l2.slice(0, i3);
      })((() => hY(this, nY, "f")), t6), theme: () => this.themeValues, tooltip: (t6) => ((t7, i3) => {
        const n3 = (() => hY(this, nY, "f"))(), { manager: r2, style: e2 } = n3.controller.get, { background: o2, border: a2, font: s2, text: l2 } = e2.theme(), { compute: u2 } = r2.color;
        return { backgroundColor: `rgba(${u2(o2).rgbValues}, 0.875)`, formatter: i3, textStyle: { color: l2, fontFamily: s2, textShadowColor: `rgba(${u2(o2).rgbValues}, 0.5)`, textShadowBlur: 2 }, borderWidth: 1, borderColor: `rgba(${u2(a2).rgbValues}, 0.25)` };
      })(0, t6) }, xAxesData: () => hY(this, tY, "f") }, i2 = { style: { theme: () => hY(this, HH, "m", cY).call(this) } }, { controller: { get: VH(t5, n2 = () => hY(this, nY, "f")), set: i2 }, handlers: jH(n2) }));
    }));
  }
  onLfEvent(t5, i2, n2) {
    this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5, data: n2 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_CHART_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async resize() {
    hY(this, QH, "f") && hY(this, qH, "f") && hY(this, QH, "f").resize(), this.refresh();
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    hY(this, YH, "f") && hY(this, YH, "f").theme.register(this);
  }
  async componentWillLoad() {
    var _a2, _b2;
    vY(this, YH, await a(this)), hY(this, eY, "f").call(this);
    const { logs: t5 } = hY(this, YH, "f").debug;
    ((_a2 = this.lfDataset) == null ? void 0 : _a2.columns) && ((_b2 = this.lfDataset) == null ? void 0 : _b2.nodes) ? hY(this, HH, "m", oY).call(this) : t5.new(this, "No data provided. Please provide a data set to render the chart.", "informational");
  }
  componentDidLoad() {
    const { info: t5 } = hY(this, YH, "f").debug;
    vY(this, JH, new ResizeObserver((() => {
      clearTimeout(hY(this, KH, "f")), vY(this, KH, setTimeout((() => {
        this.resize();
      }), 100), "f");
    }))), hY(this, JH, "f").observe(hY(this, qH, "f")), this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = hY(this, YH, "f").debug;
    hY(this, nY, "f").controller.set.style.theme(), t5.update(this, "will-render");
  }
  componentDidRender() {
    const { debug: t5 } = hY(this, YH, "f"), { lfDataset: i2 } = this;
    (i2 == null ? void 0 : i2.columns) && (i2 == null ? void 0 : i2.nodes) ? hY(this, HH, "m", rY).call(this) : t5.logs.new(this, "Not enough data. (" + JSON.stringify(i2) + ")", "informational"), t5.info.update(this, "did-render");
  }
  render() {
    const { bemClass: t5, setLfStyle: i2 } = hY(this, YH, "f").theme, { lfSizeX: n2, lfSizeY: o2, lfStyle: a2 } = this;
    return D$a(W$e, { key: "fe29e3c4cd8a014cdbae214b959e341b6be147ec" }, D$a("style", { key: "45326471d3662daf9aed87b87f9eef2db8a62743", id: hY(this, $H, "f") }, `
            :host {
               ${hY(this, GH, "f").height}: ${o2 || "100%"};
               ${hY(this, GH, "f").width}: ${n2 || "100%"};
            }
            ${a2 && i2(this) || ""}
          `), D$a("div", { key: "7bb7fe2662018987eb363f5259873c574a49d5f8", id: hY(this, ZH, "f") }, D$a("div", { key: "daebdefe4b992f3ed824a62d9d1bff82711a2f2b", class: t5(hY(this, XH, "f").chart._), part: hY(this, UH, "f").chart, ref: (t6) => vY(this, qH, t6) })));
  }
  disconnectedCallback() {
    var _a2;
    hY(this, JH, "f") && hY(this, JH, "f").disconnect(), sw(hY(this, qH, "f")), (_a2 = hY(this, YH, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
YH = /* @__PURE__ */ new WeakMap(), XH = /* @__PURE__ */ new WeakMap(), UH = /* @__PURE__ */ new WeakMap(), $H = /* @__PURE__ */ new WeakMap(), GH = /* @__PURE__ */ new WeakMap(), ZH = /* @__PURE__ */ new WeakMap(), qH = /* @__PURE__ */ new WeakMap(), JH = /* @__PURE__ */ new WeakMap(), KH = /* @__PURE__ */ new WeakMap(), QH = /* @__PURE__ */ new WeakMap(), tY = /* @__PURE__ */ new WeakMap(), iY = /* @__PURE__ */ new WeakMap(), nY = /* @__PURE__ */ new WeakMap(), eY = /* @__PURE__ */ new WeakMap(), HH = /* @__PURE__ */ new WeakSet(), rY = function() {
  const { debug: t5 } = hY(this, YH, "f");
  hY(this, QH, "f") && sw(hY(this, qH, "f")), this.lfTypes && this.lfTypes.length > 0 ? (vY(this, QH, (function(t6) {
    var i2 = lw(t6);
    if (i2) return i2;
    var n2 = new $y(t6, void 0, void 0);
    return n2.id = "ec_" + ow++, rw[n2.id] = n2, Ks(t6, aw, n2.id), jy(n2), dy.trigger("afterinit", n2), n2;
  })(hY(this, qH, "f"))), hY(this, HH, "m", uY).call(this)) : t5.logs.new(this, "Can't initialize chart without specifying at least 1 type.", "warning");
}, oY = function() {
  const { logs: t5 } = hY(this, YH, "f").debug;
  if ("string" == typeof this.lfAxis && (this.lfAxis = [this.lfAxis], t5.new(this, "Axis must be an array. Converted to array.", "informational")), "string" == typeof this.lfSeries && (this.lfSeries = [this.lfSeries], t5.new(this, "Series must be an array. Converted to array.", "informational")), Array.isArray(this.lfSeries) && 0 === this.lfSeries.length) {
    const i2 = /* @__PURE__ */ new Set();
    this.lfDataset.columns.forEach(((t6) => {
      t6.id !== this.lfAxis[0] && i2.add(t6.id);
    })), this.lfSeries = Array.from(i2), t5.new(this, "No series specified. Using all columns as series.", "informational");
  }
  this.lfSeries.length > 0 && 0 === this.lfTypes.length && (t5.new(this, "Series are defined but no types are specified. Defaulting to line chart.", "informational"), this.lfTypes = ["line"]);
}, aY = function() {
  var _a2, _b2;
  const { stringify: t5 } = hY(this, YH, "f").data.cell;
  vY(this, tY, []);
  const i2 = this.lfAxis || [], n2 = this.lfDataset;
  if ((_a2 = n2 == null ? void 0 : n2.nodes) == null ? void 0 : _a2.length) for (const r2 of i2) {
    const i3 = [];
    for (const e2 of n2.nodes) {
      const n3 = (_b2 = e2.cells) == null ? void 0 : _b2[r2];
      i3.push(null != (n3 == null ? void 0 : n3.value) ? t5(n3.value) : "");
    }
    hY(this, tY, "f").push({ id: r2, data: i3 });
  }
}, sY = function(t5) {
  const i2 = /* @__PURE__ */ new Map();
  return t5.forEach(((t6, n2) => i2.set(t6, n2))), i2;
}, lY = function() {
  var _a2, _b2, _c2, _d2, _e2, _f2, _g2, _h2, _i2, _j2, _k2, _l2;
  const { stringify: t5 } = hY(this, YH, "f").data.cell, { find: i2 } = hY(this, YH, "f").data.column;
  vY(this, iY, []);
  const n2 = this.lfSeries || [], r2 = this.lfDataset;
  if ((_a2 = r2 == null ? void 0 : r2.nodes) == null ? void 0 : _a2.length) {
    const e2 = ((_b2 = hY(this, tY, "f")[0]) == null ? void 0 : _b2.data) || [], o2 = ((_c2 = hY(this, tY, "f")[1]) == null ? void 0 : _c2.data) || [], a2 = hY(this, HH, "m", sY).call(this, e2), s2 = hY(this, HH, "m", sY).call(this, o2);
    for (let o3 = 0; o3 < n2.length; o3++) {
      const l2 = n2[o3], u2 = ((_d2 = this.lfTypes) == null ? void 0 : _d2[o3]) || ((_e2 = this.lfTypes) == null ? void 0 : _e2[0]) || "line", f2 = [];
      if ("heatmap" === u2) for (const i3 of r2.nodes) {
        const n3 = t5((_f2 = i3.cells[this.lfAxis[0]]) == null ? void 0 : _f2.value), r3 = t5((_g2 = i3.cells[this.lfAxis[1]]) == null ? void 0 : _g2.value), e3 = parseFloat(t5((_h2 = i3.cells[l2]) == null ? void 0 : _h2.value) || "0");
        f2.push([a2.get(n3), s2.get(r3), e3]);
      }
      else {
        const i3 = /* @__PURE__ */ new Map();
        for (const n3 of r2.nodes) {
          const r3 = t5((_i2 = n3.cells[this.lfAxis[0]]) == null ? void 0 : _i2.value), e3 = parseFloat(t5((_j2 = n3.cells[l2]) == null ? void 0 : _j2.value) || "0");
          i3.set(r3, e3);
        }
        for (const t6 of e2) f2.push(i3.get(t6) ?? 0);
      }
      const c2 = ((_l2 = (_k2 = i2(r2, { id: l2 })) == null ? void 0 : _k2[0]) == null ? void 0 : _l2.title) || l2, h2 = 0;
      hY(this, iY, "f").push({ name: c2, data: f2, axisIndex: h2, type: u2 });
    }
  }
}, uY = async function() {
  hY(this, HH, "m", aY).call(this), hY(this, HH, "m", lY).call(this);
  const t5 = hY(this, HH, "m", fY).call(this);
  hY(this, QH, "f").setOption(t5, true), hY(this, QH, "f").on("click", hY(this, nY, "f").handlers.onClick);
}, fY = function() {
  var _a2;
  const { options: t5 } = hY(this, nY, "f").controller.get, { basic: i2, bubble: n2, calendar: r2, candlestick: e2, funnel: o2, heatmap: a2, pie: s2, radar: l2, sankey: u2 } = t5;
  switch (((_a2 = this.lfTypes) == null ? void 0 : _a2[0]) || "line") {
    case "bubble":
      return n2();
    case "calendar":
      return r2();
    case "candlestick":
      return e2();
    case "funnel":
      return o2();
    case "heatmap":
      return a2();
    case "pie":
      return s2();
    case "radar":
      return l2();
    case "sankey":
      return u2();
    default:
      return hY(this, HH, "m", aY).call(this), i2();
  }
}, cY = function() {
  const { themeValues: t5 } = this, { "--lf-color-bg": i2, "--lf-color-border": n2, "--lf-color-danger": r2, "--lf-color-success": e2, "--lf-color-on-bg": o2, "--lf-font-family-primary": a2 } = hY(this, YH, "f").theme.get.current().variables;
  t5.background = i2, t5.border = n2, t5.danger = r2, t5.font = a2, t5.success = e2, t5.text = o2;
}, dY.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}:host{display:block;font-family:var(--lf-chart-font-family, var(--lf-font-family-primary));font-size:var(--lf-chart-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-chart-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-chart-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-chart-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-chart-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-chart-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-chart-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-chart-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{height:var(--lf_chart_height, 100%);min-height:var(--lf_chart_height, 100%);min-width:var(--lf_chart_width, 100%);width:var(--lf_chart_width, 100%)}.chart{background-color:rgba(var(--lf-chart-color-bg, var(--lf-color-bg)), 0.075);color:rgb(var(--lf-chart-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%}";
const pY = async (t5) => {
  var _a2, _b2, _c2, _d2;
  const { get: i2, set: n2 } = t5.controller, { compInstance: r2, history: e2, manager: o2 } = i2, { lfEndpointUrl: a2 } = r2, { debug: s2, llm: l2 } = o2, u2 = r2;
  try {
    const i3 = gY(t5);
    if (l2.stream) {
      const t6 = (_a2 = l2.createAbort) == null ? void 0 : _a2.call(l2);
      n2.currentAbortStreaming(t6), n2.history((() => e2().push({ role: "assistant", content: "" })));
      try {
        let r3 = e2().length - 1, o3 = 0;
        for await (const s3 of l2.stream(i3, a2, { signal: t6 == null ? void 0 : t6.signal })) (s3 == null ? void 0 : s3.contentDelta) && n2.history((() => {
          const t7 = e2();
          t7[r3] && (t7[r3].content += s3.contentDelta, o3 % 5 == 0 && requestAnimationFrame((() => u2.scrollToBottom(true))), o3++);
        }));
        requestAnimationFrame((() => u2.scrollToBottom("end")));
      } finally {
        n2.currentAbortStreaming(null);
      }
    } else {
      const t6 = await l2.fetch(i3, a2), r3 = (_d2 = (_c2 = (_b2 = t6.choices) == null ? void 0 : _b2[0]) == null ? void 0 : _c2.message) == null ? void 0 : _d2.content, o3 = { role: "assistant", content: r3 };
      n2.history((() => e2().push(o3)));
    }
  } catch (t6) {
    const i3 = t6 instanceof Error ? t6.message : String(t6 ?? "Unknown error");
    s2.logs.new(r2, `Error calling LLM: ${i3}`, "error");
  }
}, mY = async (t5) => {
  const { compInstance: i2, history: n2 } = t5.controller.get, { lfContextWindow: r2, lfSystem: e2 } = i2;
  if (!r2) return { current: 0, percentage: 0 };
  let o2 = e2 ? e2.length : 0;
  n2().forEach(((t6) => o2 += t6.content.length));
  const a2 = o2 / 4;
  return { current: a2, percentage: a2 / r2 * 100 };
}, bY = async (t5) => {
  const { textarea: i2 } = t5.elements.refs.chat;
  requestAnimationFrame((async () => {
    await i2.setValue(""), await i2.setFocus();
  }));
}, gY = (t5) => {
  const { compInstance: i2, history: n2 } = t5.controller.get, { lfMaxTokens: r2, lfSeed: e2, lfSystem: o2, lfTemperature: a2 } = i2, s2 = [];
  o2 && s2.push({ role: "system", content: o2 });
  for (const t6 of n2()) s2.push({ role: t6.role, content: t6.content });
  return { temperature: a2, max_tokens: r2, seed: e2, messages: s2 };
}, yY = async (t5) => {
  const { get: i2, set: n2 } = t5.controller, r2 = i2.compInstance;
  requestAnimationFrame((async () => {
    n2.currentPrompt(null), bY(t5), r2.scrollToBottom();
  }));
}, wY = async (t5) => {
  const { get: i2, set: n2 } = t5.controller, { history: r2 } = i2, e2 = await i2.newPrompt();
  if (requestAnimationFrame((() => {
    n2.currentPrompt(e2);
  })), e2) {
    const i3 = r2();
    n2.history((() => i3.push(e2))), await pY(t5);
  }
  yY(t5);
}, xY = (t5) => ({ clear: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, currentPrompt: a2, cyAttributes: s2, manager: l2, parts: u2 } = i2.get, { button: f2 } = e2.chat, { chat: c2 } = n2.refs, { assignRef: h2, theme: v2 } = l2, { bemClass: d2, get: p2 } = v2, { "--lf-icon-clear": m2 } = p2.current().variables;
  return D$a("lf-button", { class: d2(o2.chat._, o2.chat.clear), "data-cy": s2.button, id: LF_CHAT_IDS.chat.clear, lfIcon: m2, lfLabel: "Clear", lfStyling: "flat", lfUiState: a2() ? "disabled" : "danger", "onLf-button-event": f2, part: u2.clear, ref: h2(c2, "clear"), title: "Clear the textarea." });
}, configuration: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, cyAttributes: a2, manager: s2, parts: l2 } = i2.get, { chat: u2 } = n2.refs, { button: f2 } = e2.chat, { assignRef: c2, theme: h2 } = s2, { bemClass: v2, get: d2 } = h2;
  return D$a("lf-button", { class: v2(o2.chat._, o2.chat.configuration), "data-cy": a2.button, id: LF_CHAT_IDS.chat.configuration, key: LF_CHAT_IDS.chat.configuration, lfIcon: d2.current().variables["--lf-icon-settings"], lfLabel: "Configuration", lfStyling: "outlined", "onLf-button-event": f2, part: l2.configuration, ref: c2(u2, "configuration") });
}, messageBlock: (i2, n2) => {
  const { controller: e2 } = t5(), { blocks: o2, compInstance: a2, manager: s2 } = e2.get, { lfTypewriterProps: l2 } = a2, { sanitizeProps: u2, theme: f2 } = s2, { bemClass: c2 } = f2, h2 = !("assistant" !== n2 || "object" != typeof l2 || null === l2), v2 = c2(o2.messages._, o2.messages.paragraph);
  return h2 ? D$a("lf-typewriter", { class: v2, ...u2(l2, "LfTypewriter"), lfUpdatable: false, lfValue: i2 }) : D$a("div", { class: v2 }, i2);
}, progressbar: () => {
  const { controller: i2, elements: n2 } = t5(), { chat: e2 } = n2.refs, { blocks: o2, compInstance: a2, currentTokens: s2, manager: l2 } = i2.get, { lfContextWindow: u2 } = a2, { assignRef: f2, theme: c2 } = l2, { bemClass: h2, get: v2 } = c2, { current: d2, percentage: p2 } = s2(), m2 = `Estimated tokens used: ${d2}/${u2}`;
  return D$a("lf-progressbar", { class: h2(o2.input._, o2.input.progressbar), lfCenteredLabel: true, lfIcon: v2.icon("percentage60"), lfLabel: "Context window", lfUiSize: "xsmall", lfValue: p2, ref: f2(e2, "progressbar"), title: m2 });
}, send: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, currentAbortStreaming: a2, currentPrompt: s2, cyAttributes: l2, manager: u2, parts: f2 } = i2.get, { chat: c2 } = n2.refs, { button: h2 } = e2.chat, { assignRef: v2, theme: d2 } = u2, { bemClass: p2 } = d2, m2 = Boolean(a2()), b2 = Boolean(s2() && !m2), g3 = d2.get.icon(m2 ? "offSend" : "send"), y2 = m2 ? "Stop" : "Send", w3 = m2 ? "danger" : "primary";
  return D$a("lf-button", { class: p2(o2.chat._, o2.chat.send), "data-cy": l2.button, id: LF_CHAT_IDS.chat.send, lfIcon: g3, lfLabel: y2, lfShowSpinner: b2, lfUiState: w3, "onLf-button-event": h2, part: f2.send, ref: v2(c2, "send"), title: "Send your prompt (CTRL + Enter)." });
}, settings: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, cyAttributes: a2, manager: s2 } = i2.get, { chat: l2 } = n2.refs, { button: u2 } = e2.chat, { assignRef: f2, theme: c2 } = s2, { bemClass: h2 } = c2;
  return D$a("lf-button", { class: h2(o2.input._, o2.input.button), "data-cy": a2.button, id: LF_CHAT_IDS.chat.settings, lfIcon: "settings", lfStretchY: true, lfStyling: "flat", "onLf-button-event": u2, ref: f2(l2, "settings") });
}, spinner: () => {
  const { controller: i2, elements: n2 } = t5(), { currentPrompt: e2, manager: o2 } = i2.get, { chat: a2 } = n2.refs, { assignRef: s2 } = o2, l2 = Boolean(e2());
  return D$a("lf-spinner", { lfActive: l2, lfBarVariant: true, lfDimensions: "3px", ref: s2(a2, "spinner") });
}, stt: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, cyAttributes: a2, manager: s2, parts: l2 } = i2.get, { chat: u2 } = n2.refs, { button: f2 } = e2.chat, { assignRef: c2, theme: h2 } = s2, { bemClass: v2, get: d2 } = h2, p2 = d2.icon("microphone");
  return D$a("lf-button", { class: v2(o2.commands._, o2.commands.stt), "data-cy": a2.button, id: LF_CHAT_IDS.chat.stt, lfIcon: p2, lfStyling: "icon", "onLf-button-event": f2, part: l2.stt, ref: c2(u2, "stt"), title: "Activate Speech To Text with your browser's API (if supported)." });
}, textarea: () => {
  const { controller: i2, elements: n2 } = t5(), { blocks: e2, currentPrompt: o2, cyAttributes: a2, manager: s2, parts: l2 } = i2.get, { chat: u2 } = n2.refs, { assignRef: f2, theme: c2 } = s2, { bemClass: h2 } = c2;
  return D$a("lf-textfield", { class: h2(e2.input._, e2.input.textarea), "data-cy": a2.input, id: LF_CHAT_IDS.chat.prompt, lfStretchX: true, lfLabel: "What's on your mind?", lfStyling: "textarea", lfUiState: o2() ? "disabled" : "primary", part: l2.prompt, ref: f2(u2, "textarea") });
} }), kY = (t5) => ({ blockquote: (i2) => {
  const { controller: n2 } = t5(), { blocks: e2, manager: o2 } = n2.get, { theme: a2 } = o2, { bemClass: s2 } = a2, { messages: l2 } = e2;
  return D$a("blockquote", { class: s2(l2._, l2.blockquote) }, i2);
}, bold: (i2) => {
  const { controller: n2 } = t5(), { blocks: e2, manager: o2 } = n2.get, { theme: a2 } = o2, { bemClass: s2 } = a2, { messages: l2 } = e2;
  return D$a("strong", { class: s2(l2._, l2.bold) }, i2);
}, bulletList: (i2) => {
  const { controller: n2 } = t5(), { blocks: e2, manager: o2 } = n2.get, { theme: a2 } = o2, { bemClass: s2 } = a2, { messages: l2 } = e2;
  return D$a("ul", { class: s2(l2._, l2.list) }, i2);
}, codeFence: (i2, n2) => {
  const { controller: e2 } = t5(), { blocks: o2, manager: a2 } = e2.get, { theme: s2 } = a2, { bemClass: l2 } = s2, { messages: u2 } = o2;
  return D$a("lf-code", { class: l2(u2._, u2.code), lfFadeIn: false, lfLanguage: i2, lfValue: n2 });
}, heading: (i2, n2) => {
  const { controller: e2 } = t5(), { blocks: o2, manager: a2 } = e2.get, { theme: s2 } = a2, { bemClass: l2 } = s2, { messages: u2 } = o2, f2 = l2(u2._, u2.heading);
  return D$a(`h${i2}`, { class: f2 }, n2);
}, horizontalRule: () => {
  const { controller: i2 } = t5(), { blocks: n2, manager: e2 } = i2.get, { theme: o2 } = e2, { bemClass: a2 } = o2, { messages: s2 } = n2;
  return D$a("hr", { class: a2(s2._, s2.hr) });
}, inlineCode: (i2) => {
  const { controller: n2 } = t5(), { blocks: e2, manager: o2 } = n2.get, { theme: a2 } = o2, { bemClass: s2 } = a2, { messages: l2 } = e2;
  return D$a("code", { class: s2(l2._, l2.inlineCode) }, i2);
}, inlineContainer: (i2) => {
  const { controller: n2 } = t5(), { blocks: e2, manager: o2 } = n2.get, { theme: a2 } = o2, { bemClass: s2 } = a2, { messages: l2 } = e2;
  return D$a("div", { class: s2(l2._, l2.inlineContainer) }, i2);
}, italic: (i2) => {
  const { controller: n2 } = t5(), { blocks: e2, manager: o2 } = n2.get, { theme: a2 } = o2, { bemClass: s2 } = a2, { messages: l2 } = e2;
  return D$a("em", { class: s2(l2._, l2.italic) }, i2);
}, lineBreak: () => {
  const { controller: i2 } = t5(), { blocks: n2, manager: e2 } = i2.get, { theme: o2 } = e2, { bemClass: a2 } = o2, { messages: s2 } = n2;
  return D$a("br", { class: a2(s2._, s2.lineBreak) });
}, link: (i2, n2) => {
  const { controller: e2 } = t5(), { blocks: o2, manager: a2 } = e2.get, { theme: s2 } = a2, { bemClass: l2 } = s2, { messages: u2 } = o2;
  return D$a("a", { class: l2(u2._, u2.link), href: i2, target: "_blank", rel: "noopener noreferrer" }, n2);
}, listItem: (i2) => {
  const { controller: n2 } = t5(), { blocks: e2, manager: o2 } = n2.get, { theme: a2 } = o2, { bemClass: s2 } = a2, { messages: l2 } = e2;
  return D$a("li", { class: s2(l2._, l2.listItem) }, i2);
}, orderedList: (i2) => {
  const { controller: n2 } = t5(), { blocks: e2, manager: o2 } = n2.get, { theme: a2 } = o2, { bemClass: s2 } = a2, { messages: l2 } = e2;
  return D$a("ol", { class: s2(l2._, l2.list) }, i2);
}, paragraph: (i2) => {
  const { controller: n2 } = t5(), { blocks: e2, manager: o2 } = n2.get, { theme: a2 } = o2, { bemClass: s2 } = a2, { messages: l2 } = e2;
  return D$a("div", { class: s2(l2._, l2.paragraph) }, i2);
} }), MY = (t5) => ({ back: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, cyAttributes: a2, manager: s2, parts: l2 } = i2.get, { settings: u2 } = n2.refs, { button: f2 } = e2.settings, { assignRef: c2, theme: h2 } = s2, { bemClass: v2, get: d2 } = h2, p2 = d2.current().variables["--lf-icon-previous"];
  return D$a("lf-button", { class: v2(o2.settings._, o2.settings.back), "data-cy": a2.button, id: LF_CHAT_IDS.options.back, lfIcon: p2, lfLabel: "Back", lfStretchX: true, "onLf-button-event": f2, part: l2.back, ref: c2(u2, "back") });
}, endpoint: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, compInstance: a2, cyAttributes: s2, manager: l2, parts: u2 } = i2.get, { settings: f2 } = n2.refs, { textfield: c2 } = e2.settings, { assignRef: h2, theme: v2 } = l2, { bemClass: d2, get: p2 } = v2;
  return D$a("lf-textfield", { class: d2(o2.settings._, o2.settings.textfield), "data-cy": s2.input, id: LF_CHAT_IDS.options.endpointUrl, lfIcon: p2.icon("network"), lfLabel: "Endpoint URL", lfValue: a2.lfEndpointUrl, "onLf-textfield-event": c2, part: u2.endpointUrl, ref: h2(f2, "endpoint") });
}, maxTokens: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, compInstance: a2, cyAttributes: s2, manager: l2, parts: u2 } = i2.get, { settings: f2 } = n2.refs, { textfield: c2 } = e2.settings, { assignRef: h2, data: v2, theme: d2 } = l2, { stringify: p2 } = v2.cell, { bemClass: m2, get: b2 } = d2;
  return D$a("lf-textfield", { class: m2(o2.settings._, o2.settings.textfield), "data-cy": s2.input, id: LF_CHAT_IDS.options.maxTokens, lfHtmlAttributes: { min: 10, type: "number" }, lfIcon: b2.icon("numbers"), lfLabel: "Max tokens count", lfValue: p2(a2.lfMaxTokens), "onLf-textfield-event": c2, part: u2.maxTokens, ref: h2(f2, "maxTokens") });
}, polling: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, compInstance: a2, cyAttributes: s2, manager: l2, parts: u2 } = i2.get, { settings: f2 } = n2.refs, { textfield: c2 } = e2.settings, { assignRef: h2, data: v2, theme: d2 } = l2, { stringify: p2 } = v2.cell, { bemClass: m2, get: b2 } = d2;
  return D$a("lf-textfield", { class: m2(o2.settings._, o2.settings.textfield), "data-cy": s2.input, id: LF_CHAT_IDS.options.polling, lfHtmlAttributes: { min: 10, type: "number" }, lfIcon: b2.icon("hourglassLow"), lfLabel: "Polling interval", lfValue: p2(a2.lfPollingInterval), "onLf-textfield-event": c2, part: u2.polling, ref: h2(f2, "polling") });
}, system: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, compInstance: a2, cyAttributes: s2, manager: l2, parts: u2 } = i2.get, { settings: f2 } = n2.refs, { textfield: c2 } = e2.settings, { assignRef: h2, theme: v2 } = l2, { bemClass: d2 } = v2;
  return D$a("lf-textfield", { class: d2(o2.settings._, o2.settings.textarea), "data-cy": s2.input, id: LF_CHAT_IDS.options.system, lfLabel: "System prompt", lfStyling: "textarea", lfValue: a2.lfSystem, "onLf-textfield-event": c2, part: u2.system, ref: h2(f2, "system"), title: "The system prompt is used to generate the first response in the conversation." });
}, temperature: () => {
  const { controller: i2, elements: n2, handlers: e2 } = t5(), { blocks: o2, compInstance: a2, cyAttributes: s2, manager: l2, parts: u2 } = i2.get, { settings: f2 } = n2.refs, { textfield: c2 } = e2.settings, { assignRef: h2, data: v2, theme: d2 } = l2, { stringify: p2 } = v2.cell, { bemClass: m2, get: b2 } = d2;
  return D$a("lf-textfield", { class: m2(o2.settings._, o2.settings.textfield), "data-cy": s2.input, id: LF_CHAT_IDS.options.temperature, lfHtmlAttributes: { max: 1, min: 0.1, type: "number" }, lfIcon: b2.icon("temperature"), lfLabel: "Temperature", lfValue: p2(a2.lfTemperature), "onLf-textfield-event": c2, part: u2.temperature, ref: h2(f2, "temperature") });
} }), zY = (t5) => ({ copyContent: (i2) => {
  const { controller: n2, elements: e2, handlers: o2 } = t5(), { blocks: a2, currentPrompt: s2, manager: l2, parts: u2 } = n2.get, { toolbar: f2 } = e2.refs, { button: c2 } = o2.toolbar, { assignRef: h2, theme: v2 } = l2, { bemClass: d2, get: p2 } = v2, m2 = Boolean(s2());
  return D$a("lf-button", { class: d2(a2.toolbar._, a2.toolbar.button), id: LF_CHAT_IDS.toolbar.copyContent, lfIcon: p2.current().variables["--lf-icon-copy"], lfStyling: "flat", lfUiState: m2 ? "disabled" : "primary", "onLf-button-event": (t6) => c2(t6, i2), part: u2.copyContent, ref: h2(f2, "copyContent"), title: "Copy text to clipboard." });
}, deleteMessage: (i2) => {
  const { controller: n2, elements: e2, handlers: o2 } = t5(), { blocks: a2, currentPrompt: s2, manager: l2, parts: u2 } = n2.get, { toolbar: f2 } = e2.refs, { button: c2 } = o2.toolbar, { assignRef: h2, theme: v2 } = l2, { bemClass: d2, get: p2 } = v2, m2 = Boolean(s2());
  return D$a("lf-button", { class: d2(a2.toolbar._, a2.toolbar.button), id: LF_CHAT_IDS.toolbar.deleteMessage, lfIcon: p2.current().variables["--lf-icon-delete"], lfStyling: "flat", lfUiState: m2 ? "disabled" : "danger", "onLf-button-event": (t6) => c2(t6, i2), part: u2.deleteMessage, ref: h2(f2, "deleteMessage"), title: "Delete this message from the chat history." });
}, regenerate: (i2) => {
  const { controller: n2, elements: e2, handlers: o2 } = t5(), { blocks: a2, currentPrompt: s2, manager: l2, parts: u2 } = n2.get, { toolbar: f2 } = e2.refs, { button: c2 } = o2.toolbar, { assignRef: h2, theme: v2 } = l2, { bemClass: d2, get: p2 } = v2, m2 = Boolean(s2());
  return D$a("lf-button", { class: d2(a2.toolbar._, a2.toolbar.button), id: LF_CHAT_IDS.toolbar.regenerate, lfIcon: p2.current().variables["--lf-icon-refresh"], lfStyling: "flat", lfUiState: m2 ? "disabled" : "primary", "onLf-button-event": (t6) => c2(t6, i2), part: u2.regenerate, ref: h2(f2, "regenerate"), title: "Regenerate the response to this request." });
} }), SY = (t5) => ({ button: async (i2) => {
  const { eventType: n2, id: r2 } = i2.detail, e2 = t5(), { controller: o2, elements: a2 } = e2, { get: s2, set: l2 } = o2, { refs: u2 } = a2, { stt: f2, textarea: c2 } = u2.chat, { llm: h2 } = s2.manager;
  if ("click" === n2) switch (r2) {
    case LF_CHAT_IDS.chat.clear:
      bY(e2);
      break;
    case LF_CHAT_IDS.chat.send:
      s2.currentAbortStreaming() ? s2.compInstance.abortStreaming() : wY(e2);
      break;
    case LF_CHAT_IDS.chat.configuration:
    case LF_CHAT_IDS.chat.settings:
      l2.view("settings");
      break;
    case LF_CHAT_IDS.chat.stt:
      h2.speechToText(c2, f2);
  }
} }), CY = (t5) => ({ button: async (i2) => {
  const { eventType: n2, id: r2 } = i2.detail, { get: e2, set: o2 } = t5().controller, { compInstance: a2 } = e2;
  "click" === n2 && r2 === LF_CHAT_IDS.options.back && (a2.onLfEvent(i2, "config"), o2.view("main"));
}, textfield: (i2) => {
  const { eventType: n2, id: r2, value: e2 } = i2.detail, { get: o2 } = t5().controller, { compInstance: a2 } = o2;
  if ("change" === n2) switch (r2) {
    case LF_CHAT_IDS.options.contextWindow:
      a2.lfContextWindow = parseInt(e2);
      break;
    case LF_CHAT_IDS.options.endpointUrl:
      a2.lfEndpointUrl = e2;
      break;
    case LF_CHAT_IDS.options.maxTokens:
      a2.lfMaxTokens = parseInt(e2);
      break;
    case LF_CHAT_IDS.options.polling:
      a2.lfPollingInterval = parseInt(e2);
      break;
    case LF_CHAT_IDS.options.system:
      a2.lfSystem = e2;
      break;
    case LF_CHAT_IDS.options.temperature:
      a2.lfTemperature = parseFloat(e2);
  }
} }), AY = (t5) => ({ button: async (i2, n2) => {
  const { eventType: r2, id: e2 } = i2.detail;
  if ("click" === r2) switch (e2) {
    case LF_CHAT_IDS.toolbar.copyContent:
      navigator.clipboard.writeText(n2.content);
      break;
    case LF_CHAT_IDS.toolbar.deleteMessage:
      ((t6, i3) => {
        const { get: n3, set: r3 } = t6.controller, e3 = n3.history(), o2 = e3.indexOf(i3);
        -1 !== o2 && r3.history((() => e3.splice(o2, 1)));
      })(t5(), n2);
      break;
    case LF_CHAT_IDS.toolbar.regenerate:
      (async (t6, i3) => {
        const { get: n3, set: r3 } = t6.controller, e3 = n3.history(), o2 = n3.compInstance;
        requestAnimationFrame((async () => {
          r3.currentPrompt(i3);
        }));
        const a2 = e3.indexOf(i3);
        -1 !== a2 && await r3.history((() => {
          o2.history = e3.slice(0, a2 + 1);
        })), await pY(t6), yY(t6);
      })(t5(), n2);
  }
} }), NY = (t5, i2) => ({ ...t5, newPrompt: async () => {
  const { textarea: t6 } = i2().elements.refs.chat;
  await t6.setBlur();
  const n2 = await t6.getValue();
  return n2 ? { role: "user", content: n2 } : null;
} }), _Y = (t5) => ({ chat: xY(t5), content: kY(t5), settings: MY(t5), toolbar: zY(t5) }), TY = (t5) => ({ chat: SY(t5), settings: CY(t5), toolbar: AY(t5) });
var IY, LY, DY, WY, EY, OY, FY, RY, PY, BY, VY, jY, HY, YY, XY, UY, $Y, GY, ZY, qY, JY = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, KY = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const QY = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-chat-event"), IY.add(this), this.currentAbortStreaming = null, this.currentTokens = { current: 0, percentage: 0 }, this.history = [], this.status = "connecting", this.view = "main", this.lfContextWindow = 8192, this.lfEmpty = "Your chat history is empty!", this.lfEndpointUrl = "http://localhost:5001", this.lfLayout = "top", this.lfMaxTokens = 2048, this.lfPollingInterval = 1e4, this.lfSeed = -1, this.lfStyle = "", this.lfSystem = "You are a helpful and cheerful assistant eager to help the user out with his tasks.", this.lfTemperature = 0.7, this.lfTypewriterProps = false, this.lfUiSize = "medium", this.lfValue = [], LY.set(this, void 0), DY.set(this, LF_CHAT_BLOCKS), WY.set(this, CY_ATTRIBUTES), EY.set(this, LF_ATTRIBUTES), OY.set(this, LF_CHAT_PARTS), FY.set(this, LF_STYLE_ID), RY.set(this, LF_WRAPPER_ID), PY.set(this, void 0), BY.set(this, null), VY.set(this, null), jY.set(this, void 0), HY.set(this, (() => {
      var t5, i2, n2;
      KY(this, jY, (t5 = { blocks: JY(this, DY, "f"), compInstance: this, currentAbortStreaming: () => this.currentAbortStreaming, currentPrompt: () => this.currentPrompt, currentTokens: () => this.currentTokens, cyAttributes: JY(this, WY, "f"), history: () => this.history, lastMessage: (t6 = "user") => this.history.slice().reverse().find(((i3) => i3.role === t6)), lfAttributes: JY(this, EY, "f"), manager: JY(this, LY, "f"), parts: JY(this, OY, "f"), status: () => this.status, view: () => this.view }, i2 = { currentAbortStreaming: (t6) => this.currentAbortStreaming = t6, currentPrompt: (t6) => this.currentPrompt = t6, currentTokens: (t6) => this.currentTokens = t6, history: async (t6) => {
        t6(), this.currentTokens = await mY(JY(this, jY, "f")), this.onLfEvent(new CustomEvent("update"), "update");
      }, status: (t6) => this.status = t6, view: (t6) => this.view = t6 }, { controller: { get: NY(t5, n2 = () => JY(this, jY, "f")), set: i2 }, elements: { jsx: _Y(n2), refs: { chat: { clear: null, configuration: null, progressbar: null, send: null, settings: null, spinner: null, stt: null, textarea: null }, settings: { back: null, endpoint: null, maxTokens: null, polling: null, system: null, temperature: null }, toolbar: { copyContent: null, deleteMessage: null, regenerate: null } } }, handlers: TY(n2) }));
    })), XY.set(this, (() => {
      const { bemClass: t5 } = JY(this, LY, "f").theme, { chat: i2, commands: n2, input: e2, messages: o2, request: s2 } = JY(this, DY, "f"), { clear: l2, progressbar: u2, send: f2, settings: c2, spinner: h2, stt: v2, textarea: d2 } = JY(this, jY, "f").elements.jsx.chat, { history: p2, lfEmpty: m2 } = this;
      return D$a(jt$1, null, D$a("div", { class: t5(s2._) }, D$a("div", { class: t5(e2._) }, c2(), d2(), u2()), D$a("div", { class: t5(n2._) }, l2(), v2(), f2())), D$a("div", { class: t5(o2._), ref: (t6) => KY(this, VY, t6) }, (p2 == null ? void 0 : p2.length) ? p2.map(((i3, n3) => D$a("div", { class: t5(o2._, o2.container, { [i3.role]: true }), key: n3, ref: (t6) => {
        t6 && n3 === p2.length - 1 && KY(this, BY, t6);
      } }, D$a("div", { class: t5(o2._, o2.content, { [i3.role]: true }) }, JY(this, $Y, "f").call(this, i3)), JY(this, qY, "f").call(this, i3)))) : D$a("div", { class: t5(o2._, o2.empty) }, m2)), D$a("div", { class: t5(i2._, i2.spinnerBar) }, h2()));
    })), UY.set(this, (() => {
      const { bemClass: t5 } = JY(this, LY, "f").theme, { chat: i2 } = JY(this, DY, "f");
      return D$a(jt$1, null, D$a("div", { class: t5(i2._, i2.spinner) }, D$a("lf-spinner", { lfActive: true, lfDimensions: "7px", lfLayout: 6 })), D$a("div", { class: t5(i2._, i2.title) }, "Just a moment."), D$a("div", { class: t5(i2._, i2.text) }, "Contacting the LLM endpoint..."));
    })), $Y.set(this, ((t5) => ((t6, i2, n2) => {
      var _a2;
      const { elements: r2, controller: e2 } = t6, { manager: o2 } = e2.get, { syntax: a2 } = o2, { messageBlock: s2 } = r2.jsx.chat, l2 = r2.jsx.content, u2 = a2.parseMarkdown(i2 || ""), f2 = [], c2 = (t7) => {
        const i3 = [];
        for (let r3 = 0; r3 < t7.length; r3++) {
          const e3 = t7[r3];
          if ("text" !== e3.type) if ("code_inline" !== e3.type) if ("strong_open" !== e3.type) if ("em_open" !== e3.type) if ("link_open" !== e3.type) "softbreak" !== e3.type && "hardbreak" !== e3.type ? e3.content && i3.push(s2(e3.content, n2)) : i3.push(l2.lineBreak());
          else {
            const n3 = e3.attrGet("href") || "#", o3 = [];
            for (r3++; r3 < t7.length && "link_close" !== t7[r3].type; ) o3.push(t7[r3]), r3++;
            i3.push(l2.link(n3, c2(o3)));
          }
          else {
            const n3 = [];
            for (r3++; r3 < t7.length && "em_close" !== t7[r3].type; ) n3.push(t7[r3]), r3++;
            i3.push(l2.italic(c2(n3)));
          }
          else {
            const n3 = [];
            for (r3++; r3 < t7.length && "strong_close" !== t7[r3].type; ) n3.push(t7[r3]), r3++;
            i3.push(l2.bold(c2(n3)));
          }
          else i3.push(l2.inlineCode(e3.content));
          else i3.push(e3.content);
        }
        return i3.flat();
      };
      for (let t7 = 0; t7 < u2.length; t7++) {
        const i3 = u2[t7];
        if ("fence" !== i3.type) if ("heading_open" !== i3.type) if ("blockquote_open" !== i3.type) if ("bullet_list_open" !== i3.type) if ("ordered_list_open" !== i3.type) if ("hr" !== i3.type) if ("paragraph_open" !== i3.type) if ("inline" !== i3.type) i3.children ? f2.push(l2.inlineContainer(c2(i3.children))) : i3.content && f2.push(s2(i3.content, n2));
        else {
          const t8 = c2(i3.children || []);
          f2.push(l2.inlineContainer(t8));
        }
        else {
          if (t7++, t7 < u2.length && "inline" === u2[t7].type) {
            const i4 = c2(u2[t7].children || []);
            f2.push(l2.paragraph(i4));
          }
          t7++;
        }
        else f2.push(l2.horizontalRule());
        else {
          const i4 = [];
          for (t7++; t7 < u2.length && "ordered_list_close" !== u2[t7].type; ) {
            if ("list_item_open" === u2[t7].type) {
              const n3 = [];
              for (t7++; t7 < u2.length && "list_item_close" !== u2[t7].type; ) "inline" === u2[t7].type && n3.push(...c2(u2[t7].children || [])), t7++;
              i4.push(l2.listItem(n3));
            }
            t7++;
          }
          f2.push(l2.orderedList(i4));
        }
        else {
          const i4 = [];
          for (t7++; t7 < u2.length && "bullet_list_close" !== u2[t7].type; ) {
            if ("list_item_open" === u2[t7].type) {
              const n3 = [];
              for (t7++; t7 < u2.length && "list_item_close" !== u2[t7].type; ) "inline" === u2[t7].type && n3.push(...c2(u2[t7].children || [])), t7++;
              i4.push(l2.listItem(n3));
            }
            t7++;
          }
          f2.push(l2.bulletList(i4));
        }
        else {
          const i4 = [];
          for (t7++; t7 < u2.length && "blockquote_close" !== u2[t7].type; ) "inline" === u2[t7].type && i4.push(...c2(u2[t7].children || [])), t7++;
          f2.push(l2.blockquote(i4));
        }
        else {
          const n3 = parseInt(((_a2 = i3.tag) == null ? void 0 : _a2.replace("h", "")) || "1", 10);
          if (t7++, t7 < u2.length && "inline" === u2[t7].type) {
            const i4 = c2(u2[t7].children || []);
            f2.push(l2.heading(n3, i4));
          }
          t7++;
        }
        else {
          const t8 = (i3.info || "").trim() || "text", n3 = i3.content.trim();
          f2.push(l2.codeFence(t8, n3));
        }
      }
      return f2;
    })(JY(this, jY, "f"), t5.content, t5.role))), GY.set(this, (() => {
      const { bemClass: t5, get: i2 } = JY(this, LY, "f").theme, { chat: n2 } = JY(this, DY, "f"), { configuration: e2 } = JY(this, jY, "f").elements.jsx.chat, o2 = i2.icon("door"), { style: s2 } = JY(this, LY, "f").assets.get(`./assets/svg/${o2}.svg`);
      return D$a(jt$1, null, D$a("div", { class: t5(n2._, n2.error) }, D$a("div", { class: t5(n2._, n2.icon), style: s2 }), D$a("div", { class: t5(n2._, n2.title) }, "Zzz..."), D$a("div", { class: t5(n2._, n2.text) }, "The LLM endpoint is currently offline.")), e2());
    })), ZY.set(this, (() => {
      const { bemClass: t5 } = JY(this, LY, "f").theme, { settings: i2 } = JY(this, DY, "f"), { back: n2, endpoint: e2, maxTokens: o2, polling: s2, system: l2, temperature: u2 } = JY(this, jY, "f").elements.jsx.settings;
      return D$a(jt$1, null, n2(), D$a("div", { class: t5(i2._, i2.configuration), part: JY(this, OY, "f").settings }, l2(), e2(), u2(), o2(), s2()));
    })), qY.set(this, ((t5) => {
      const { bemClass: i2 } = JY(this, LY, "f").theme, { toolbar: n2 } = JY(this, DY, "f"), { copyContent: e2, deleteMessage: o2, regenerate: a2 } = JY(this, jY, "f").elements.jsx.toolbar;
      return D$a("div", { class: i2(n2._), part: JY(this, OY, "f").toolbar }, o2(t5), e2(t5), "user" === t5.role && a2(t5));
    }));
  }
  onLfEvent(t5, i2) {
    this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5, history: JSON.stringify(this.history) || "", status: this.status });
  }
  listenKeydown(t5) {
    "Enter" === t5.key ? t5.ctrlKey && (t5.preventDefault(), t5.stopPropagation(), wY(JY(this, jY, "f"))) : t5.stopPropagation();
  }
  updatePollingInterval() {
    JY(this, LY, "f") && (clearInterval(JY(this, PY, "f")), KY(this, PY, setInterval(JY(this, IY, "m", YY), this.lfPollingInterval)));
  }
  async updateTokensCount() {
    JY(this, LY, "f") && (this.currentTokens = await mY(JY(this, jY, "f")));
  }
  async abortStreaming() {
    this.currentAbortStreaming && this.currentAbortStreaming.abort();
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getHistory() {
    try {
      return JSON.stringify(this.history);
    } catch {
      return "";
    }
  }
  async getLastMessage() {
    var _a2, _b2, _c2;
    return ((_c2 = (_b2 = (_a2 = this.history) == null ? void 0 : _a2.slice(-1)) == null ? void 0 : _b2[0]) == null ? void 0 : _c2.content) ?? "";
  }
  async getProps() {
    const t5 = LF_CHAT_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async scrollToBottom(t5 = "nearest") {
    var _a2;
    const { status: i2 } = JY(this, jY, "f").controller.get;
    "ready" === i2() && (true !== t5 ? (_a2 = JY(this, BY, "f")) == null ? void 0 : _a2.scrollIntoView({ behavior: "smooth", block: t5 }) : JY(this, VY, "f") && JY(this, VY, "f").scrollTo({ top: JY(this, VY, "f").scrollHeight, behavior: "smooth" }));
  }
  async setHistory(t5) {
    const { set: i2 } = JY(this, jY, "f").controller;
    try {
      i2.history((() => this.history = JSON.parse(t5)));
    } catch {
    }
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    JY(this, LY, "f") && JY(this, LY, "f").theme.register(this);
  }
  async componentWillLoad() {
    KY(this, LY, await a(this)), JY(this, HY, "f").call(this);
    const { debug: t5 } = JY(this, LY, "f"), { set: i2 } = JY(this, jY, "f").controller;
    if (this.lfValue) try {
      const t6 = "string" == typeof this.lfValue ? JSON.parse(this.lfValue) : this.lfValue;
      i2.history((() => this.history = t6));
    } catch (i3) {
      t5.logs.new(this, "Couldn't set value for chat history", "warning");
    }
  }
  componentDidLoad() {
    const { info: t5 } = JY(this, LY, "f").debug;
    KY(this, PY, setInterval((async () => JY(this, IY, "m", YY).call(this)), this.lfPollingInterval)), this.onLfEvent(new CustomEvent("ready"), "ready"), JY(this, IY, "m", YY).call(this), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = JY(this, LY, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = JY(this, LY, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { bemClass: t5, setLfStyle: i2 } = JY(this, LY, "f").theme, { chat: n2 } = JY(this, DY, "f"), { lfLayout: o2, lfStyle: a2, status: s2, view: l2 } = this;
    return D$a(W$e, { key: "a0dba3ddca9d3f1ef210194181886ad119121954" }, a2 && D$a("style", { key: "d3f931447b3398ad30a679b9342dce961ced4641", id: JY(this, FY, "f") }, i2(this)), D$a("div", { key: "817ab8a7aa06cd3ca50c9da2aaf86bae4d540280", id: JY(this, RY, "f") }, D$a("div", { key: "0beec7ed7f5405b201d50e7deba116b731100d25", class: t5(n2._, null, { [l2]: true, [o2]: true, [s2]: true }), part: JY(this, OY, "f").chat }, "settings" === this.view ? JY(this, ZY, "f").call(this) : "ready" === this.status ? JY(this, XY, "f").call(this) : "connecting" === this.status ? JY(this, UY, "f").call(this) : JY(this, GY, "f").call(this))));
  }
  disconnectedCallback() {
    var _a2;
    clearInterval(JY(this, PY, "f")), (_a2 = JY(this, LY, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfPollingInterval: ["updatePollingInterval"], lfSystem: ["updateTokensCount"] };
  }
};
LY = /* @__PURE__ */ new WeakMap(), DY = /* @__PURE__ */ new WeakMap(), WY = /* @__PURE__ */ new WeakMap(), EY = /* @__PURE__ */ new WeakMap(), OY = /* @__PURE__ */ new WeakMap(), FY = /* @__PURE__ */ new WeakMap(), RY = /* @__PURE__ */ new WeakMap(), PY = /* @__PURE__ */ new WeakMap(), BY = /* @__PURE__ */ new WeakMap(), VY = /* @__PURE__ */ new WeakMap(), jY = /* @__PURE__ */ new WeakMap(), HY = /* @__PURE__ */ new WeakMap(), XY = /* @__PURE__ */ new WeakMap(), UY = /* @__PURE__ */ new WeakMap(), $Y = /* @__PURE__ */ new WeakMap(), GY = /* @__PURE__ */ new WeakMap(), ZY = /* @__PURE__ */ new WeakMap(), qY = /* @__PURE__ */ new WeakMap(), IY = /* @__PURE__ */ new WeakSet(), YY = async function() {
  const { llm: t5 } = JY(this, LY, "f");
  "offline" === this.status && (this.status = "connecting");
  try {
    (await t5.poll(this.lfEndpointUrl)).ok ? ("ready" !== this.status && requestAnimationFrame((() => {
      this.scrollToBottom(true);
    })), this.status = "ready") : this.status = "offline";
  } catch (t6) {
    this.status = "offline";
  }
  this.onLfEvent(new CustomEvent("polling"), "polling");
}, QY.style = '.messages{align-content:start;box-sizing:border-box;display:grid;grid-area:messages;grid-gap:var(--lf-chat-grid-gap, 0.75em);grid-template-columns:1fr;margin-bottom:var(--lf-chat-margin-bottom, 1em);margin-top:var(--lf-chat-margin-top, 1em);overflow:auto;padding:var(--lf-chat-inner-padding, 0 1em);width:100%;word-break:normal}.messages__container{border:0;border-style:solid;border-color:rgba(var(--lf-chat-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-chat-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-chat-color-bg, var(--lf-color-bg)), 0.075);color:rgb(var(--lf-chat-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:background-color 200ms cubic-bezier(0.4, 0, 0.6, 1);height:max-content;max-width:var(--lf-chat-message-max-width, 75%);position:relative}.messages__container:hover{background-color:rgba(var(--lf-chat-color-bg, var(--lf-color-bg)), 0.125);color:rgb(var(--lf-chat-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.messages__container--assistant{--lf-typewriter-color-bg:none;--lf-typewriter-padding:0;justify-self:start}.messages__container--user{justify-self:end}.messages__empty{font-style:italic;opacity:0.5;text-align:center}.messages__content{font-size:1em;font-weight:400;line-height:1.6em;letter-spacing:0em;margin-bottom:1em;margin:0;max-width:100%;padding:0.75em;white-space:pre-line}.messages__code{height:auto;padding:0.75em 0}.messages__inline-code{background-color:rgba(var(--lf-chat-color-surface, var(--lf-color-surface)), 0.125);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);font-family:var(--lf-font-family-monospace, monospace);font-size:0.875em;font-weight:400;hyphens:none;line-height:1.5em;letter-spacing:0.01em;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal;border-radius:var(--lf-chat-inline-code-border-radius, var(--lf-border-radius, 0.25em));padding:var(--lf-chat-inline-code-padding, 0.2em 0.4em)}.messages__heading{font-size:1.25em;font-weight:500;line-height:1.4em;letter-spacing:0em;margin-top:var(--lf-chat-heading-margin-top, 1em);margin-bottom:var(--lf-chat-heading-margin-bottom, 0.5em)}.messages__heading:first-child{margin-top:0}.messages__blockquote{border-left-width:var(--lf-chat-blockquote-border-width, 3px);border-left-style:solid;border-left-color:rgba(var(--lf-color-surface), var(--lf-chat-blockquote-border-opacity, 0.3));padding:var(--lf-chat-blockquote-padding, 0.5em 1em);margin:var(--lf-chat-blockquote-margin, 1em 0);font-style:italic}.messages__list{margin:var(--lf-chat-list-margin, 0.5em 0);padding-left:var(--lf-chat-list-padding-left, 2em)}.messages__list-item{margin:var(--lf-chat-list-item-margin, 0.25em 0)}.messages__link{cursor:pointer;font-size:1em;font-weight:400;line-height:1.5em;letter-spacing:0em;text-decoration:underline}.messages__link:hover,.messages__link:focus{text-decoration:none}.messages__link{transition:opacity 200ms cubic-bezier(0.4, 0, 0.6, 1)}.messages__hr{border:none;border-top-width:var(--lf-chat-hr-border-width, 1px);border-top-style:solid;border-top-color:rgba(var(--lf-color-surface), 0.125);opacity:var(--lf-chat-hr-opacity, 0.2);margin:var(--lf-chat-hr-margin, 1em 0)}::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}:host{display:block;font-family:var(--lf-chat-font-family, var(--lf-font-family-primary));font-size:var(--lf-chat-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-chat-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-chat-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-chat-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-chat-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-chat-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-chat-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-chat-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}#lf-component{position:relative}.chat{background-color:rgba(var(--lf-chat-color-bg, var(--lf-color-bg)), 0.075);color:rgb(var(--lf-chat-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);box-sizing:border-box;display:grid;height:100%;margin:auto;padding:var(--lf-chat-padding, 1em)}.chat--bottom{align-content:center;grid-gap:var(--lf-chat-outer-grid-gap, 0.75em);grid-template-areas:"messages" "spinner" "request";grid-template-rows:1fr auto auto}.chat--top{grid-gap:var(--lf-chat-outer-grid-gap, 0.75em);grid-template-areas:"request" "messages" "spinner";grid-template-rows:auto 1fr auto}.chat--connecting,.chat--offline{grid-template-areas:none;grid-template-rows:repeat(3, auto)}.chat__configuration{justify-self:center}.chat__error{display:grid;grid-template-rows:repeat(3, auto);padding:2em}.chat__icon{background-color:rgba(var(--lf-chat-color-on-bg, var(--lf-color-on-bg)), 0.75);height:4em;width:4em;overflow:hidden;justify-self:center;margin-bottom:0.75em}.chat__spinner{min-height:3em}.chat__spinner-bar{bottom:0;grid-area:spinner;height:0.25em;left:0;position:absolute;width:100%}.chat__text{font-size:0.875em;font-weight:500;line-height:1.375em;letter-spacing:0.01em;font-style:italic;opacity:0.6;text-align:center}.chat__title{font-size:1.25em;font-weight:500;line-height:1.4em;letter-spacing:0em;text-align:center}.request{box-sizing:border-box;grid-area:request;max-width:100%;padding:var(--lf-chat-inner-padding, 0 1em);width:100%}.commands{align-items:center;display:flex;justify-content:space-evenly;padding:var(--lf-chat-buttons-padding, 1em 0)}.commands__stt{padding:0 1em}.input{display:grid;grid-template-areas:"textarea button" "progressbar button";grid-template-columns:1fr auto}.input__button{grid-area:button}.input__progressbar{grid-area:progressbar}.input__textarea{grid-area:textarea;overflow-x:hidden}.settings{display:grid;grid-gap:0.5em;grid-template-rows:auto 1fr;height:100%}.settings__configuration{overflow:auto}.settings__textfield{box-sizing:border-box;padding-top:0.75em}.settings__textarea{box-sizing:border-box;overflow:hidden;padding-top:0.75em 0}.toolbar{background-color:rgba(var(--lf-chat-color-surface, var(--lf-color-surface)), 0.875);color:rgb(var(--lf-chat-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border-bottom-left-radius:var(--lf-chat-border-radius, var(--lf-ui-border-radius));border-bottom-right-radius:var(--lf-chat-border-radius, var(--lf-ui-border-radius));box-sizing:border-box;display:flex;justify-content:flex-end;padding:0.5em;width:100%}.toolbar__button{margin:0 2px}';
var tX, iX, nX, rX, eX, oX, aX, sX, lX, uX, fX, cX, hX, vX, dX, pX, mX, bX, gX, yX, wX, xX, kX, MX, zX, SX = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, CX = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const AX = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-chip-event"), tX.add(this), this.expandedNodes = /* @__PURE__ */ new Set(), this.hiddenNodes = /* @__PURE__ */ new Set(), this.selectedNodes = /* @__PURE__ */ new Set(), this.lfAriaLabel = "", this.lfDataset = null, this.lfRipple = true, this.lfStyle = "", this.lfStyling = "standard", this.lfUiSize = "medium", this.lfUiState = "primary", this.lfValue = null, iX.set(this, void 0), nX.set(this, LF_CHIP_BLOCKS), rX.set(this, CY_ATTRIBUTES), eX.set(this, LF_ATTRIBUTES), oX.set(this, LF_CHIP_PARTS), aX.set(this, LF_STYLE_ID), sX.set(this, LF_WRAPPER_ID), lX.set(this, {}), uX.set(this, []);
  }
  onLfEvent(t5, i2, n2) {
    var _a2;
    const { effects: r2 } = SX(this, iX, "f"), { expandedNodes: e2, lfDataset: o2, lfRipple: a2, selectedNodes: s2 } = this, { expansion: l2, node: u2 } = n2 || {};
    switch (i2) {
      case "click":
        l2 && SX(this, tX, "m", fX).call(this, u2) ? (e2.has(u2) ? e2.delete(u2) : e2.add(u2), this.expandedNodes = new Set(e2)) : u2 && (s2.has(u2) ? s2.delete(u2) : s2.add(u2), this.selectedNodes = new Set(s2));
        break;
      case "delete":
        const i3 = (_a2 = o2 == null ? void 0 : o2.nodes) == null ? void 0 : _a2.indexOf(u2);
        i3 > -1 && o2.nodes.splice(i3, 1);
        break;
      case "pointerdown":
        a2 && SX(this, tX, "m", vX).call(this) && r2.ripple(t5, SX(this, lX, "f")[u2.id]);
    }
    this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5, node: u2, selectedNodes: this.selectedNodes });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_CHIP_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async getSelectedNodes() {
    return this.selectedNodes;
  }
  async refresh() {
    pt(this);
  }
  async setSelectedNodes(t5) {
    var _a2, _b2;
    const i2 = /* @__PURE__ */ new Set(), n2 = Array.isArray(t5) && t5.every(((t6) => "string" == typeof t6));
    (_b2 = (_a2 = this.lfDataset) == null ? void 0 : _a2.nodes) == null ? void 0 : _b2.forEach(((r2) => {
      n2 ? "string" == typeof r2.id && t5.includes(r2.id) && i2.add(r2) : t5.includes(r2) && i2.add(r2);
    })), this.selectedNodes = i2;
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    SX(this, iX, "f") && SX(this, iX, "f").theme.register(this);
  }
  async componentWillLoad() {
    var _a2;
    CX(this, iX, await a(this)), ((_a2 = this.lfValue) == null ? void 0 : _a2.length) && this.setSelectedNodes(this.lfValue);
  }
  componentDidLoad() {
    const { debug: t5 } = SX(this, iX, "f");
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.info.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = SX(this, iX, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { debug: t5 } = SX(this, iX, "f");
    t5.info.update(this, "did-render");
  }
  render() {
    const { bemClass: t5, setLfStyle: i2 } = SX(this, iX, "f").theme, { lfStyle: n2 } = this;
    return CX(this, uX, []), D$a(W$e, { key: "cd8dfeca402bae46afdeacfea4da8e937eba0d22" }, n2 && D$a("style", { key: "5f7e245dba02283619419e34ea3f88eb1b570156", id: SX(this, aX, "f") }, i2(this)), D$a("div", { key: "526ea2e9ab69b5cc9c50222773678b0ced5daa10", id: SX(this, sX, "f") }, D$a("div", { key: "5ab0ce58699a3b6ecf7a6d005fedba24e51a21d3", class: t5(SX(this, nX, "f").chip._, null, { choice: SX(this, tX, "m", hX).call(this), filter: SX(this, tX, "m", pX).call(this), input: SX(this, tX, "m", mX).call(this) }), part: SX(this, oX, "f").chip, role: "grid" }, SX(this, tX, "m", xX).call(this))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = SX(this, iX, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
iX = /* @__PURE__ */ new WeakMap(), nX = /* @__PURE__ */ new WeakMap(), rX = /* @__PURE__ */ new WeakMap(), eX = /* @__PURE__ */ new WeakMap(), oX = /* @__PURE__ */ new WeakMap(), aX = /* @__PURE__ */ new WeakMap(), sX = /* @__PURE__ */ new WeakMap(), lX = /* @__PURE__ */ new WeakMap(), uX = /* @__PURE__ */ new WeakMap(), tX = /* @__PURE__ */ new WeakSet(), fX = function(t5) {
  return !(!t5.children || !t5.children.length);
}, cX = function(t5) {
  return !(!t5.icon || t5.value);
}, hX = function() {
  return "choice" === this.lfStyling;
}, vX = function() {
  return "choice" === this.lfStyling || "filter" === this.lfStyling;
}, dX = function(t5) {
  return this.expandedNodes.has(t5);
}, pX = function() {
  return "filter" === this.lfStyling;
}, mX = function() {
  return "input" === this.lfStyling;
}, bX = function(t5) {
  return this.selectedNodes.has(t5);
}, gX = function(t5) {
  const { bemClass: i2 } = SX(this, iX, "f").theme, { item: n2 } = SX(this, nX, "f");
  return D$a("div", { class: i2(n2._, n2.icon, { "has-actions": true, trailing: true }), "data-cy": SX(this, rX, "f").button, "data-lf": SX(this, eX, "f").icon, key: t5.id + "_delete", onClick: (i3) => {
    this.onLfEvent(i3, "delete", { node: t5 });
  } });
}, yX = function(t5) {
  const { get: i2 } = SX(this, iX, "f").assets, { bemClass: n2 } = SX(this, iX, "f").theme, { item: e2 } = SX(this, nX, "f"), o2 = [];
  if (t5.icon) {
    const { style: a2 } = i2(`./assets/svg/${t5.icon}.svg`);
    o2.push(D$a("div", { class: n2(e2._, e2.icon, { leading: true, hidden: "filter" === this.lfStyling && SX(this, tX, "m", bX).call(this, t5) }), "data-cy": SX(this, rX, "f").maskedSvg, style: a2 }));
  }
  return SX(this, tX, "m", pX).call(this) && o2.push(D$a("span", { class: n2(e2._, e2.checkmark) }, D$a("svg", { class: n2(e2._, e2.checkmarkSvg), viewBox: "-2 -3 30 30" }, D$a("path", { class: n2(e2._, e2.checkmarkPath), d: "M1.73,12.91 8.1,19.28 22.79,4.59", fill: "none", stroke: "currentColor" })))), o2;
}, wX = function(t5, i2) {
  const { bemClass: n2 } = SX(this, iX, "f").theme, { item: e2 } = SX(this, nX, "f");
  return D$a("div", { class: n2(e2._, null, { "no-label": SX(this, tX, "m", cX).call(this, t5), selected: SX(this, tX, "m", bX).call(this, t5) }), "data-cy": SX(this, rX, "f").node, "data-lf": SX(this, eX, "f")[this.lfUiState], "data-value": t5.id, onClick: (i3) => {
    this.onLfEvent(i3, "click", { node: t5 });
  }, part: SX(this, oX, "f").item, role: "row", title: t5.description ?? "" }, SX(this, tX, "m", MX).call(this, t5), D$a("span", { class: n2(e2._, e2.indent) }), SX(this, tX, "m", yX).call(this, t5), D$a("span", { class: n2(e2._, e2.primaryAction), "data-cy": SX(this, rX, "f").input, onBlur: (i3) => {
    this.onLfEvent(i3, "blur", { node: t5 });
  }, onFocus: (i3) => {
    this.onLfEvent(i3, "focus", { node: t5 });
  }, role: "button", tabindex: i2, "aria-label": ((SX(this, tX, "m", cX).call(this, t5) ? this.lfAriaLabel : "") || ("string" == typeof t5.value ? t5.value : "") || t5.icon || this.rootElement.id || "chip item").toString().trim() }, D$a("span", { class: n2(e2._, e2.text) }, t5.value)), SX(this, tX, "m", mX).call(this) && SX(this, tX, "m", gX).call(this, t5));
}, xX = function() {
  var _a2, _b2;
  const { bemClass: t5 } = SX(this, iX, "f").theme, { chip: i2 } = SX(this, nX, "f"), n2 = [], e2 = (_b2 = (_a2 = this.lfDataset) == null ? void 0 : _a2.nodes) == null ? void 0 : _b2.length;
  for (let o2 = 0; e2 && o2 < e2; o2++) {
    CX(this, uX, []);
    const e3 = this.lfDataset.nodes[o2];
    SX(this, tX, "m", kX).call(this, e3, 0), n2.push(D$a("div", { class: t5(i2._, i2.node) }, SX(this, uX, "f")));
  }
  return n2;
}, kX = function t2(i2, n2) {
  const { bemClass: e2 } = SX(this, iX, "f").theme, { wrapper: o2 } = SX(this, nX, "f"), a2 = SX(this, tX, "m", fX).call(this, i2), s2 = SX(this, tX, "m", dX).call(this, i2), l2 = { [LF_CHIP_CSS_VARS.indentOffset]: n2.toString() }, u2 = e2(o2._, o2.node, { expanded: s2, hidden: Boolean(!a2 && n2) });
  if (SX(this, uX, "f").push(D$a("div", { class: e2(o2._, null, { hidden: SX(this, tX, "m", fX).call(this, i2) && !SX(this, tX, "m", zX).call(this, i2) }) }, D$a("div", { class: e2(o2._, o2.indent), part: SX(this, oX, "f").indent, style: l2 }), a2 ? D$a("div", { class: u2, onClick: (t5) => {
    this.onLfEvent(t5, "click", { expansion: true, node: i2 });
  } }) : n2 ? D$a("div", { class: u2 }) : null, SX(this, tX, "m", wX).call(this, i2, n2))), SX(this, tX, "m", zX).call(this, i2)) for (let r2 = 0; r2 < i2.children.length; r2++) i2.children[r2] && SX(this, tX, "m", t2).call(this, i2.children[r2], n2 + 1);
}, MX = function(t5) {
  if (this.lfRipple && SX(this, tX, "m", vX).call(this)) return D$a("div", { "data-cy": SX(this, rX, "f").rippleSurface, "data-lf": SX(this, eX, "f").rippleSurface, onPointerDown: (i2) => this.onLfEvent(i2, "pointerdown", { node: t5 }), ref: (i2) => {
    i2 && this.lfRipple && (SX(this, lX, "f")[t5.id] = i2);
  } });
}, zX = function(t5) {
  return this.expandedNodes.has(t5);
}, AX.style = ".item{border:0;border-style:solid;border-radius:var(--lf-chip-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-chip-color-surface, var(--lf-color-surface)), 0.75);color:rgb(var(--lf-chip-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);font-size:1em;font-weight:400;line-height:1.6em;letter-spacing:0em;margin-bottom:0.5em;margin-left:1.5em;transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);align-items:center;box-shadow:1px 1px 2px 0px rgba(var(--lf-color-on-surface), 0.25), 0 0 1px 0 rgba(var(--lf-color-on-surface), 0.375);box-sizing:border-box;display:inline-flex;height:var(--lf-chip-item-height, 2em);margin:var(--lf-chip-item-margin, 0.25em);max-width:var(--lf-chip-item-max-width, max-content);outline:var(--lf-chip-item-outline, none);padding:var(--lf-chip-item-padding, 0 0.75em);position:relative;text-decoration:var(--lf-chip-item-text-decoration, inherit);text-transform:var(--lf-chip-item-text-transform, inherit)}.item__icon--leading:not(.chip__icon--hidden){margin-left:-0.25em;margin-right:0.35em}.item__icon{background-color:rgba(var(--lf-chip-color-on-surface, var(--lf-color-on-surface)), 1);height:1em;width:1em;overflow:hidden;display:block;outline:none}.item__icon--leading:not(.chip__icon--hidden){background-color:rgba(var(--lf-chip-color-on-surface, var(--lf-color-on-surface)), 1);height:1.25em;width:1.25em;overflow:hidden}.item__icon--trailing{margin-right:-0.25em;margin-left:0.35em}.item__checkmark-svg{transition:width 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);width:0;height:1.25em}.item__checkmark-path{transition:stroke-dashoffset 250ms cubic-bezier(0.34, 1.56, 0.64, 1);stroke-width:0.15em;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.item svg path{color:rgb(var(--lf-chip-color-on-surface, var(--lf-color-on-surface)));stroke:rgb(var(--lf-chip-color-on-surface, var(--lf-color-on-surface)))}.item__primary-action{outline:none}.item__primary-action .item__text{white-space:nowrap}.wrapper{align-items:center;display:flex}.wrapper--hidden .dropdown-icon{transform:unset}.wrapper__indent{width:calc(var(--lf-chip-margin, 0.25em) * var(--lf_chip_indent_offset) * var(--lf-chip-indent-multiplier, 10))}.wrapper__node{display:flex;flex-direction:column}.wrapper__node{-webkit-mask:var(--lf-icon-collapsed);mask:var(--lf-icon-collapsed);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-chip-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden;transition:transform 150ms cubic-bezier(0.42, 0, 0.58, 1);cursor:pointer;margin:0;overflow:hidden}.wrapper__node:hover{transform:scale(1.25)}.wrapper__node--expanded{-webkit-mask:var(--lf-icon-expanded);mask:var(--lf-icon-expanded);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-chip-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden}.wrapper__node--hidden{visibility:hidden}::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=danger]{--lf-chip-color-primary:var(\n    --lf-chip-color-danger,\n    var(--lf-color-danger)\n  );--lf-chip-color-on-primary:var(\n    --lf-chip-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-chip-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-chip-color-primary:var(\n    --lf-chip-color-info,\n    var(--lf-color-info)\n  );--lf-chip-color-on-primary:var(\n    --lf-chip-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-chip-color-primary:var(\n    --lf-chip-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-chip-color-on-primary:var(\n    --lf-chip-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-chip-color-primary:var(\n    --lf-chip-color-success,\n    var(--lf-color-success)\n  );--lf-chip-color-on-primary:var(\n    --lf-chip-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-chip-color-primary:var(\n    --lf-chip-color-warning,\n    var(--lf-color-warning)\n  );--lf-chip-color-on-primary:var(\n    --lf-chip-color-warning,\n    var(--lf-color-on-warning)\n  )}:host{display:block;font-family:var(--lf-chip-font-family, var(--lf-font-family-primary));font-size:var(--lf-chip-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-chip-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-chip-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-chip-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-chip-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-chip-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-chip-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-chip-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%;outline:none}.chip{width:100%;height:100%;align-content:center;box-sizing:border-box;display:flex;flex-wrap:wrap;justify-content:center;padding:0.25em}.chip--choice .item{cursor:pointer}.chip--choice .item:hover{background-color:rgba(var(--lf-chip-color-primary, var(--lf-color-primary)), 0.125);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.chip--choice .item--selected{background-color:rgba(var(--lf-chip-color-primary, var(--lf-color-primary)), 0.875);color:rgb(var(--lf-chip-color-on-primary, var(--lf-color-on-primary)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.chip--choice .item--selected:hover{background-color:rgba(var(--lf-chip-color-primary, var(--lf-color-primary)), 0.75);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.chip--choice .item--selected .item__icon--leading:not(.item__icon--hidden){background-color:rgba(var(--lf-chip-color-on-primary, var(--lf-color-on-primary)), 1)}.chip--filter .item{cursor:pointer}.chip--filter .item__icon--leading{transition:opacity 200ms cubic-bezier(0.4, 0, 0.6, 1);opacity:1}.chip--filter .item__icon--leading+.item__checkmark{transition:opacity 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);opacity:0}.chip--filter .item__icon--leading+.item__checkmark .item__checkmark-svg{transition:width 150ms cubic-bezier(0.42, 0, 0.58, 1)}.chip--filter .item__icon--leading.item__icon--hidden{display:none;opacity:0;width:0}.chip--filter .item__icon--leading.item__icon--hidden+.item__checkmark{height:1.25em;opacity:1;width:1.25em}.chip--filter .item--selected .item__icon--leading{opacity:0}.chip--filter .item--selected .item__checkmark-path{stroke-dashoffset:0}.chip--filter .item--selected .item__checkmark{margin-left:-0.25em;margin-right:0.25em}.chip--filter .item--selected .item__checkmark .item__checkmark-svg{height:1.25em;width:1.25em}.chip--input .item__icon--trailing{cursor:pointer;margin-left:0.25em;margin-right:-0.25em}.chip--input .item__icon--trailing:hover{opacity:0.75}.chip--input .item__icon--has-actions{-webkit-mask:var(--lf-icon-delete);mask:var(--lf-icon-delete);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-chip-color-on-surface, var(--lf-color-on-surface)), 1);height:1.5em;width:1.5em;overflow:hidden}";
var NX, _X, TX, IX, LX, DX, WX, EX, OX, FX, RX, PX, BX, VX, jX, HX = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, YX = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const XX = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-code-event"), NX.add(this), this.value = "", this.lfFadeIn = true, this.lfFormat = true, this.lfLanguage = "javascript", this.lfShowCopy = true, this.lfShowHeader = true, this.lfStickyHeader = true, this.lfStyle = "", this.lfUiSize = "medium", this.lfUiState = "primary", this.lfValue = "", _X.set(this, void 0), TX.set(this, LF_CODE_BLOCKS), IX.set(this, CY_ATTRIBUTES), LX.set(this, LF_ATTRIBUTES), DX.set(this, LF_CODE_PARTS), WX.set(this, LF_STYLE_ID), EX.set(this, LF_WRAPPER_ID), OX.set(this, void 0);
  }
  onLfEvent(t5, i2) {
    this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5 });
  }
  async loadLanguage() {
    if (!HX(this, _X, "f")) return;
    if ("undefined" == typeof window || "undefined" == typeof document) return;
    const { syntax: t5 } = HX(this, _X, "f"), i2 = this.lfLanguage.toLowerCase();
    t5.isLanguageLoaded(i2) || await t5.loadLanguage(i2);
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_CODE_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    HX(this, _X, "f") && HX(this, _X, "f").theme.register(this);
  }
  async componentWillLoad() {
    YX(this, _X, await a(this)), await this.loadLanguage(), HX(this, NX, "m", VX).call(this);
  }
  componentDidLoad() {
    const { info: t5 } = HX(this, _X, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillUpdate() {
    this.value = HX(this, NX, "m", FX).call(this, this.lfValue);
  }
  componentWillRender() {
    const { info: t5 } = HX(this, _X, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = HX(this, _X, "f").debug, { syntax: i2 } = HX(this, _X, "f");
    HX(this, OX, "f") && i2.highlightElement(HX(this, OX, "f")), t5.update(this, "did-render");
  }
  render() {
    const { bemClass: t5, setLfStyle: i2 } = HX(this, _X, "f").theme, { code: n2 } = HX(this, TX, "f"), { lfLanguage: o2, lfPreserveSpaces: a2, lfStyle: s2 } = this, l2 = !(true === a2 || false === a2), u2 = o2.toLowerCase(), f2 = a2 || l2 && !("css" === u2 || "doc" === u2 || "markdown" === u2 || "plaintext" === u2 || "text" === u2 || "" === u2), c2 = f2 ? "pre" : "div";
    return D$a(W$e, { key: "8ab5ff766e1ebee50169bf71d6bb6f151ff3b471" }, s2 && D$a("style", { key: "42cae9278621315b05b29f6427b15e50f2d031c8", id: HX(this, WX, "f") }, i2(this)), D$a("div", { key: "22759222f572d4b0e143dd1768ea1ac6b6386b6b", id: HX(this, EX, "f") }, D$a("div", { key: "ef5fbe84351342161b2641b4d0fedab23703308f", class: t5(n2._, null, { "has-header": this.lfShowHeader }), part: HX(this, DX, "f").code }, this.lfShowHeader && HX(this, NX, "m", jX).call(this), D$a(c2, { class: `language-${o2} ${f2 ? "" : "body"}`, "data-lf": this.lfFadeIn && HX(this, LX, "f").fadeIn, key: this.value, part: HX(this, DX, "f").prism, ref: (t6) => {
      t6 && YX(this, OX, t6);
    } }, f2 ? D$a("code", null, this.value) : this.value))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = HX(this, _X, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfLanguage: ["loadLanguage"] };
  }
};
_X = /* @__PURE__ */ new WeakMap(), TX = /* @__PURE__ */ new WeakMap(), IX = /* @__PURE__ */ new WeakMap(), LX = /* @__PURE__ */ new WeakMap(), DX = /* @__PURE__ */ new WeakMap(), WX = /* @__PURE__ */ new WeakMap(), EX = /* @__PURE__ */ new WeakMap(), OX = /* @__PURE__ */ new WeakMap(), NX = /* @__PURE__ */ new WeakSet(), FX = function(t5) {
  const { stringify: i2 } = HX(this, _X, "f").data.cell;
  if ("string" == typeof t5 && /^[\{\}]\s*$/i.test(t5)) return t5.trim();
  if (HX(this, NX, "m", BX).call(this, t5)) {
    const i3 = JSON.parse(t5);
    return JSON.stringify(i3, null, 2);
  }
  return i2(t5);
}, RX = function(t5) {
  return "object" == typeof t5 && null !== t5;
}, PX = function(t5) {
  return HX(this, NX, "m", RX).call(this, t5) && Object.values(t5).every(((t6) => null != t6));
}, BX = function(t5) {
  var _a2;
  return "json" === ((_a2 = this.lfLanguage) == null ? void 0 : _a2.toLowerCase()) || HX(this, NX, "m", PX).call(this, t5);
}, VX = function() {
  const { lfFormat: t5, lfValue: i2 } = this;
  this.value = t5 ? HX(this, NX, "m", FX).call(this, i2) : i2;
}, jX = function() {
  const { bemClass: t5, get: i2 } = HX(this, _X, "f").theme, { "--lf-icon-copy": n2, "--lf-icon-copy-ok": e2, "--lf-icon-warning": o2 } = i2.current().variables, { code: a2 } = HX(this, TX, "f"), { lfLanguage: s2, lfShowCopy: l2, lfValue: u2 } = this;
  return D$a("div", { class: t5(a2._, a2.header, { sticky: this.lfStickyHeader }), "data-lf": HX(this, LX, "f")[this.lfUiState], part: HX(this, DX, "f").header }, D$a("span", { class: t5(a2._, a2.title), part: HX(this, DX, "f").title }, s2), l2 && D$a("lf-button", { "data-cy": HX(this, IX, "f").button, lfIcon: n2, lfLabel: "Copy", lfStretchY: true, lfStyling: "flat", lfUiSize: this.lfUiSize, lfUiState: this.lfUiState, "onLf-button-event": (t6) => {
    const { comp: i3, eventType: n3 } = t6.detail;
    if ("click" === n3) try {
      navigator.clipboard.writeText(u2), i3.setMessage("Copied!", e2);
    } catch (t7) {
      i3.setMessage("Failed...", o2);
    }
  }, part: HX(this, DX, "f").copy }));
}, XX.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=danger]{--lf-code-color-primary:var(\n    --lf-code-color-danger,\n    var(--lf-color-danger)\n  );--lf-code-color-on-primary:var(\n    --lf-code-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-code-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-code-color-primary:var(\n    --lf-code-color-info,\n    var(--lf-color-info)\n  );--lf-code-color-on-primary:var(\n    --lf-code-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-code-color-primary:var(\n    --lf-code-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-code-color-on-primary:var(\n    --lf-code-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-code-color-primary:var(\n    --lf-code-color-success,\n    var(--lf-color-success)\n  );--lf-code-color-on-primary:var(\n    --lf-code-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-code-color-primary:var(\n    --lf-code-color-warning,\n    var(--lf-color-warning)\n  );--lf-code-color-on-primary:var(\n    --lf-code-color-warning,\n    var(--lf-color-on-warning)\n  )}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-code-font-family, var(--lf-font-family-primary));font-size:var(--lf-code-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-code-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-code-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-code-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-code-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-code-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-code-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-code-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}#lf-component,.container{position:relative}.container{width:100%;height:100%}.code{display:grid;grid-template-rows:1fr;height:var(--lf-code-height, 100%)}.code--has-header{grid-template-rows:auto 1fr}.code__header{border:0;border-style:solid;border-radius:var(--lf-code-border-radius, var(--lf-ui-border-radius));border-bottom-left-radius:0;border-bottom-right-radius:0;background-color:rgba(var(--lf-code-color-surface, var(--lf-color-surface)), 0.775);color:rgb(var(--lf-code-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);align-items:center;border-left-color:rgb(var(--lf-code-color-primary, rgb(var(--lf-color-primary))));border-left-style:outset;border-left-width:0.25em;border-right:var(--lf-code-border-right, 1px solid rgb(var(--lf-color-border)));border-top:var(--lf-comp-border-top, 1px solid rgb(var(--lf-color-border)));box-sizing:border-box;display:flex;height:var(--lf-code-header-height, 2.25em);justify-content:var(--lf-code-header-justify, space-between);padding:var(--lf-code-header-padding, 0.25em 0.75em)}.code__header--sticky{position:var(--lf-code-header-position, sticky);top:0;z-index:1}.code__title{font-size:0.875em;font-weight:400;line-height:1.25em;letter-spacing:0.2em;padding:0.5em;text-transform:uppercase}.body,pre,:not(pre)>code{border:0;border-style:solid;border-color:rgba(var(--lf-code-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-code-border-radius, var(--lf-ui-border-radius));border-top-left-radius:0;border-top-right-radius:0;box-sizing:border-box;overflow:auto;background-color:rgba(var(--lf-code-color-surface, var(--lf-color-surface)), 0.375);color:rgb(var(--lf-code-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.body{font-size:1em;font-weight:400;line-height:1.6em;letter-spacing:0em;margin-bottom:1em;box-sizing:border-box;margin-bottom:0;padding:1em;white-space:pre-line}.code-snippet{display:initial}:not(pre)>code,pre{font-family:var(--lf-font-family-monospace, monospace);font-size:0.875em;font-weight:400;hyphens:none;line-height:1.5em;letter-spacing:0.01em;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal}code ::-moz-selection,code::-moz-selection,pre ::-moz-selection,pre::-moz-selection,code ::selection,code::selection,pre ::selection,pre::selection{background-color:rgba(var(--lf-code-color-primary, var(--lf-color-primary)), 1);color:rgb(var(--lf-code-color-on-primary, var(--lf-color-on-primary)));text-shadow:none}pre{box-sizing:border-box;margin:0;min-height:calc(100% - 2.25em);overflow:auto;padding:1.75em 1em;white-space:pre-wrap}:not(pre)>code{padding:0.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:rgb(var(--lf-code-color-on-bg, var(--lf-color-on-bg)))}.token.punctuation{color:rgb(var(--lf-code-color-on-bg, var(--lf-color-on-bg)))}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:rgb(var(--lf-color-data-1))}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:rgb(var(--lf-color-data-2))}.token.atrule,.token.attr-value,.token.keyword{color:rgb(var(--lf--color-data-3))}.token.class-name,.token.function{color:rgb(var(--lf-color-data-4))}.token.important,.token.regex,.token.variable{color:rgb(var(--lf-color-data-5))}";
var UX, $X, GX, ZX, qX, JX, KX, QX, tU, iU, nU, rU, eU, oU, aU, sU, lU, uU, fU = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, cU = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const hU = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-image-event"), UX.add(this), this.error = false, this.isLoaded = false, this.lfHtmlAttributes = {}, this.lfMode = "sprite", this.lfShowSpinner = false, this.lfSizeX = "100%", this.lfSizeY = "100%", this.lfStyle = "", this.lfUiState = "primary", this.lfValue = "", $X.set(this, void 0), GX.set(this, LF_IMAGE_BLOCKS), ZX.set(this, CY_ATTRIBUTES), qX.set(this, LF_ATTRIBUTES), JX.set(this, LF_IMAGE_PARTS), KX.set(this, LF_STYLE_ID), QX.set(this, LF_IMAGE_CSS_VARS), tU.set(this, LF_WRAPPER_ID), iU.set(this, null), nU.set(this, void 0), rU.set(this, void 0), uU.set(this, ((t5) => {
      const { assets: i2 } = fU(this, $X, "f"), { mask: n2 } = i2.get(`./assets/svg/${t5}.svg`).style;
      cU(this, nU, n2);
    }));
  }
  onLfEvent(t5, i2) {
    this.lfEvent.emit({ comp: this, id: this.rootElement.id, originalEvent: t5, eventType: i2 });
  }
  async resetState(t5, i2) {
    if (fU(this, $X, "f") && (this.error = false, this.isLoaded = false, this.resolvedSpriteName = void 0, cU(this, rU, void 0), t5 && !fU(this, UX, "m", aU).call(this))) {
      if ("sprite" === this.lfMode) {
        this.isLoaded = true;
        try {
          const { theme: t6 } = fU(this, $X, "f");
          t6.get.sprite.ids();
        } catch (t6) {
        }
      }
      if ("mask" === this.lfMode) try {
        await fU(this, UX, "m", sU).call(this, t5), this.isLoaded = true;
      } catch (t6) {
        this.error = true;
      }
    }
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getImage() {
    return fU(this, iU, "f");
  }
  async getProps() {
    const t5 = LF_IMAGE_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    fU(this, $X, "f") && fU(this, $X, "f").theme.register(this);
  }
  async componentWillLoad() {
    cU(this, $X, await a(this));
    const { logs: t5 } = fU(this, $X, "f").debug;
    if (!fU(this, UX, "m", aU).call(this) && this.lfValue) if ("mask" === this.lfMode) try {
      await fU(this, UX, "m", sU).call(this, this.lfValue), this.isLoaded = true;
    } catch (i2) {
      t5.new(this, "Failed to preload icon", "warning"), this.error = true;
    }
    else {
      const { theme: t6 } = fU(this, $X, "f");
      this.isLoaded = true, t6.get.sprite.ids();
    }
  }
  componentDidLoad() {
    const { info: t5 } = fU(this, $X, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = fU(this, $X, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = fU(this, $X, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { debug: t5, theme: i2 } = fU(this, $X, "f"), { bemClass: n2, get: o2 } = i2, { variables: a2 } = o2.current(), { image: s2 } = fU(this, GX, "f"), { error: l2, isLoaded: u2, lfSizeX: f2, lfSizeY: c2, lfStyle: h2, lfValue: v2 } = this;
    if (!v2) return void t5.logs.new(this, "Empty image.");
    cU(this, nU, "");
    const d2 = fU(this, UX, "m", aU).call(this), p2 = !d2 && "sprite" === this.lfMode;
    if ("mask" === this.lfMode) {
      if (l2) {
        const { "--lf-icon-broken-image": t6 } = a2;
        fU(this, uU, "f").call(this, t6);
      } else if (!d2) {
        const t6 = v2.indexOf(CSS_VAR_PREFIX) > -1 ? a2[v2] : v2;
        fU(this, uU, "f").call(this, t6);
      }
    }
    return D$a(W$e, null, D$a("style", { id: fU(this, KX, "f") }, `
          :host {
            ${fU(this, QX, "f").mask}: ${"mask" === this.lfMode && fU(this, nU, "f") ? fU(this, nU, "f") : "none"};
            ${fU(this, QX, "f").height}: ${c2 || "100%"};
            ${fU(this, QX, "f").width}: ${f2 || "100%"};
          }
          ${h2 && i2.setLfStyle(this) || ""}`), D$a("div", { id: fU(this, tU, "f") }, D$a("div", { class: n2(s2._, null), "data-lf": fU(this, qX, "f").fadeIn, onClick: (t6) => {
      this.onLfEvent(t6, "click");
    }, part: fU(this, JX, "f").image }, (() => l2 ? "mask" === this.lfMode ? fU(this, UX, "m", eU).call(this) : fU(this, UX, "m", lU).call(this) : d2 ? fU(this, UX, "m", oU).call(this) : p2 && u2 ? fU(this, UX, "m", lU).call(this, v2) : "mask" === this.lfMode && u2 ? fU(this, UX, "m", eU).call(this) : null)())));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = fU(this, $X, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfValue: ["resetState"] };
  }
};
$X = /* @__PURE__ */ new WeakMap(), GX = /* @__PURE__ */ new WeakMap(), ZX = /* @__PURE__ */ new WeakMap(), qX = /* @__PURE__ */ new WeakMap(), JX = /* @__PURE__ */ new WeakMap(), KX = /* @__PURE__ */ new WeakMap(), QX = /* @__PURE__ */ new WeakMap(), tU = /* @__PURE__ */ new WeakMap(), iU = /* @__PURE__ */ new WeakMap(), nU = /* @__PURE__ */ new WeakMap(), rU = /* @__PURE__ */ new WeakMap(), uU = /* @__PURE__ */ new WeakMap(), UX = /* @__PURE__ */ new WeakSet(), eU = function() {
  const { sanitizeProps: t5, theme: i2 } = fU(this, $X, "f"), { bemClass: n2 } = i2, { image: e2 } = fU(this, GX, "f");
  return D$a("div", { ...t5(this.lfHtmlAttributes), class: n2(e2._, e2.icon), "data-cy": fU(this, ZX, "f").maskedSvg, "data-lf": this.lfUiState, part: fU(this, JX, "f").icon });
}, oU = function() {
  const { sanitizeProps: t5, theme: i2 } = fU(this, $X, "f"), { bemClass: n2 } = i2, { image: e2 } = fU(this, GX, "f");
  return D$a("img", { ...t5(this.lfHtmlAttributes), class: n2(e2._, e2.img), "data-cy": fU(this, ZX, "f").image, onError: (t6) => {
    this.error = true, this.isLoaded = false, this.onLfEvent(t6, "error");
  }, onLoad: (t6) => {
    this.error = false, this.isLoaded = true, this.onLfEvent(t6, "load");
  }, part: fU(this, JX, "f").img, ref: (t6) => {
    t6 && cU(this, iU, t6);
  }, src: this.lfValue });
}, aU = function() {
  const { lfValue: t5 } = this;
  return !(!t5 || "string" != typeof t5) && /^(?:(?:https?:\/\/|\/|\.{1,2}\/|[a-zA-Z]:\\|\\\\|blob:).+|data:image\/[a-zA-Z0-9+.-]+(?:;charset=[^;,]+)?(?:;base64)?,.*)$/.test(t5);
}, sU = async function(t5) {
  const { assets: i2, theme: n2 } = fU(this, $X, "f"), { variables: r2 } = n2.get.current(), { "--lf-icon-broken-image": e2 } = r2, o2 = t5.indexOf(CSS_VAR_PREFIX) > -1, a2 = i2.get(`./assets/svg/${this.error ? e2 : o2 ? r2[t5] : t5}.svg`), s2 = new Image(), l2 = new URL(a2.path, window.location.origin).href, u2 = new Promise(((t6, i3) => {
    s2.onload = () => t6(), s2.onerror = (t7) => i3(t7);
  }));
  s2.src = l2, await u2;
}, lU = function(t5) {
  const { theme: i2, sanitizeProps: n2 } = fU(this, $X, "f"), { bemClass: e2 } = i2, { image: o2 } = fU(this, GX, "f"), { variables: a2 } = i2.get.current(), s2 = t5 ? t5.indexOf(CSS_VAR_PREFIX) > -1 ? a2[t5] : t5 : a2["--lf-icon-broken-image"];
  fU(this, rU, "f") !== s2 && (this.resolvedSpriteName = void 0, cU(this, rU, s2), i2.get.sprite.hasIcon(s2).then(((t6) => {
    fU(this, rU, "f") === s2 && (this.resolvedSpriteName = t6 ? s2 : a2["--lf-icon-broken-image"]);
  })));
  const l2 = this.resolvedSpriteName ?? s2, u2 = `${i2.get.sprite.path()}#${l2}`;
  return D$a("svg", { ...n2(this.lfHtmlAttributes), "aria-hidden": "true", class: e2(o2._, o2.icon), "data-cy": fU(this, ZX, "f").maskedSvg, "data-lf": this.lfUiState, part: fU(this, JX, "f").icon, ref: (t6) => {
    t6 && cU(this, iU, t6);
  }, viewBox: "0 0 24 24" }, D$a("use", { href: u2 }));
}, hU.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=danger]{--lf-image-color-primary:var(\n    --lf-image-color-danger,\n    var(--lf-color-danger)\n  );--lf-image-color-on-primary:var(\n    --lf-image-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-image-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-image-color-primary:var(\n    --lf-image-color-info,\n    var(--lf-color-info)\n  );--lf-image-color-on-primary:var(\n    --lf-image-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-image-color-primary:var(\n    --lf-image-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-image-color-on-primary:var(\n    --lf-image-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-image-color-primary:var(\n    --lf-image-color-success,\n    var(--lf-color-success)\n  );--lf-image-color-on-primary:var(\n    --lf-image-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-image-color-primary:var(\n    --lf-image-color-warning,\n    var(--lf-color-warning)\n  );--lf-image-color-on-primary:var(\n    --lf-image-color-warning,\n    var(--lf-color-on-warning)\n  )}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-image-font-family, var(--lf-font-family-primary));font-size:var(--lf-image-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-image-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-image-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-image-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-image-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-image-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-image-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-image-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host,#lf-component,.image{height:var(--lf_image_height, 0);position:relative;width:var(--lf_image_width, 0)}.image__icon,.image__img{display:block;height:var(--lf_image_height, 0);margin:var(--lf-image-margin, auto);width:var(--lf_image_width, 0)}.image__icon{transition:all 150ms cubic-bezier(0.42, 0, 0.58, 1);aspect-ratio:var(--lf-comp-aspect-ratio, 1);mask:var(--lf_image_mask);-webkit-mask:var(--lf_image_mask)}.image__img{object-fit:var(--lf-image-object-fit, cover)}:host([lf-mode=mask]) .image__icon{background-color:rgba(var(--lf-image-color-primary, var(--lf-color-primary)), 0.775);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}:host([lf-mode=sprite]) .image__icon{color:rgb(var(--lf-image-color-primary, var(--lf-color-primary)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}";
var vU, dU, pU, mU, bU, gU, yU, wU, xU, kU, MU, zU, SU, CU, AU, NU, _U = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, TU = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const IU = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-list-event"), vU.add(this), this.lfDataset = null, this.lfEmpty = "Empty data.", this.lfEnableDeletions = false, this.lfNavigation = true, this.lfRipple = true, this.lfSelectable = true, this.lfStyle = "", this.lfUiSize = "medium", this.lfUiState = "primary", this.lfValue = null, dU.set(this, void 0), pU.set(this, LF_LIST_BLOCKS), mU.set(this, CY_ATTRIBUTES), bU.set(this, LF_ATTRIBUTES), gU.set(this, LF_LIST_PARTS), yU.set(this, []), wU.set(this, LF_STYLE_ID), xU.set(this, LF_WRAPPER_ID), kU.set(this, []);
  }
  onLfEvent(t5, i2, n2, r2 = 0) {
    const { effects: e2 } = _U(this, dU, "f");
    switch (i2) {
      case "blur":
        this.focused = null;
        break;
      case "click":
        this.focused = r2, _U(this, vU, "m", MU).call(this, r2);
        break;
      case "delete":
        r2 > -1 && (this.lfDataset.nodes.splice(r2, 1), this.refresh());
        break;
      case "focus":
        this.focused = r2;
        break;
      case "pointerdown":
        this.lfRipple && e2.ripple(t5, _U(this, yU, "f")[r2]);
    }
    this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5, node: n2 });
  }
  listenKeydown(t5) {
    const { focused: i2, lfNavigation: n2 } = this;
    if (n2) switch (t5.key) {
      case "ArrowDown":
        t5.preventDefault(), t5.stopPropagation(), this.focusNext();
        break;
      case "ArrowUp":
        t5.preventDefault(), t5.stopPropagation(), this.focusPrevious();
        break;
      case "Enter":
        t5.preventDefault(), t5.stopPropagation(), _U(this, vU, "m", MU).call(this, i2);
    }
  }
  async focusNext() {
    const { focused: t5, selected: i2 } = this;
    isNaN(t5) || null == t5 ? this.focused = i2 : this.focused++, this.focused > _U(this, kU, "f").length - 1 && (this.focused = 0), _U(this, kU, "f")[this.focused].focus();
  }
  async focusPrevious() {
    const { focused: t5, selected: i2 } = this;
    isNaN(t5) || null == t5 ? this.focused = i2 : this.focused--, this.focused < 0 && (this.focused = _U(this, kU, "f").length - 1), _U(this, kU, "f")[this.focused].focus();
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_LIST_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async getSelected() {
    return this.lfDataset.nodes[this.selected];
  }
  async refresh() {
    pt(this);
  }
  async selectNode(t5) {
    void 0 === t5 && (t5 = this.focused), _U(this, vU, "m", MU).call(this, t5);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    _U(this, dU, "f") && _U(this, dU, "f").theme.register(this);
  }
  async componentWillLoad() {
    TU(this, dU, await a(this)), this.lfValue && "number" == typeof this.lfValue && (this.selected = this.lfValue);
  }
  componentDidLoad() {
    const { debug: t5 } = _U(this, dU, "f");
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.info.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = _U(this, dU, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = _U(this, dU, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    var _a2;
    const { bemClass: t5, setLfStyle: i2 } = _U(this, dU, "f").theme, { emptyData: n2, list: o2 } = _U(this, pU, "f"), { lfDataset: a2, lfEmpty: s2, lfSelectable: l2, lfStyle: u2 } = this, f2 = !((_a2 = a2 == null ? void 0 : a2.nodes) == null ? void 0 : _a2.length);
    return TU(this, kU, []), D$a(W$e, { key: "920d6630b6043b025f9a6c066db56b9ff190a668" }, u2 && D$a("style", { key: "a00dee232d2154959fe11670b4c981aaf731e6ac", id: _U(this, wU, "f") }, i2(this)), D$a("div", { key: "90126f0615ae2b49569977bd0d045df3edfccd78", id: _U(this, xU, "f") }, f2 ? D$a("div", { class: t5(n2._), part: _U(this, gU, "f").emptyData }, D$a("div", { class: t5(n2._, n2.text) }, s2)) : D$a("ul", { "aria-multiselectable": "false", class: t5(o2._, null, { empty: f2, selectable: l2 }), part: _U(this, gU, "f").list, role: "listbox" }, a2.nodes.map(((t6, i3) => _U(this, vU, "m", CU).call(this, t6, i3))))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = _U(this, dU, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
dU = /* @__PURE__ */ new WeakMap(), pU = /* @__PURE__ */ new WeakMap(), mU = /* @__PURE__ */ new WeakMap(), bU = /* @__PURE__ */ new WeakMap(), gU = /* @__PURE__ */ new WeakMap(), yU = /* @__PURE__ */ new WeakMap(), wU = /* @__PURE__ */ new WeakMap(), xU = /* @__PURE__ */ new WeakMap(), kU = /* @__PURE__ */ new WeakMap(), vU = /* @__PURE__ */ new WeakSet(), MU = function(t5) {
  this.lfSelectable && null != t5 && !isNaN(t5) && (this.selected = t5);
}, zU = function(t5) {
  const { bemClass: i2 } = _U(this, dU, "f").theme;
  return D$a("div", { class: i2(_U(this, pU, "f").delete._), "data-cy": _U(this, mU, "f").button, "data-lf": _U(this, bU, "f").icon, onClick: (i3) => {
    var _a2, _b2;
    const n2 = (_b2 = (_a2 = this.lfDataset) == null ? void 0 : _a2.nodes) == null ? void 0 : _b2.indexOf(t5);
    this.onLfEvent(i3, "delete", t5, n2);
  }, part: _U(this, gU, "f").delete }, D$a("div", { class: i2(_U(this, pU, "f").delete._, _U(this, pU, "f").delete.icon), key: t5.id + "_delete" }));
}, SU = function(t5) {
  const { get: i2 } = _U(this, dU, "f").assets, { bemClass: n2 } = _U(this, dU, "f").theme, { style: e2 } = i2(`./assets/svg/${t5.icon}.svg`);
  return D$a("div", { class: n2(_U(this, pU, "f").node._, _U(this, pU, "f").node.icon), "data-cy": _U(this, mU, "f").maskedSvg, style: e2 });
}, CU = function(t5, i2) {
  const { stringify: n2 } = _U(this, dU, "f").data.cell, { bemClass: e2 } = _U(this, dU, "f").theme, { list: o2 } = _U(this, pU, "f"), { focused: a2, lfDataset: s2, lfRipple: l2, selected: u2 } = this, f2 = a2 === s2.nodes.findIndex(((i3) => i3.id === t5.id)), c2 = u2 === s2.nodes.findIndex(((i3) => i3.id === t5.id));
  return D$a("li", { class: e2(o2._, o2.item, { focused: f2, "has-description": !!t5.description, selected: c2 }), "data-lf": _U(this, bU, "f")[this.lfUiState], key: t5.id }, this.lfEnableDeletions ? _U(this, vU, "m", zU).call(this, t5) : null, D$a("div", { "aria-checked": c2, "aria-selected": c2, class: e2(_U(this, pU, "f").node._), "data-cy": _U(this, mU, "f").node, "data-index": i2.toString(), onBlur: (n3) => this.onLfEvent(n3, "blur", t5, i2), onClick: (n3) => this.onLfEvent(n3, "click", t5, i2), onFocus: (n3) => this.onLfEvent(n3, "focus", t5, i2), onPointerDown: (n3) => this.onLfEvent(n3, "pointerdown", t5, i2), part: _U(this, gU, "f").node, ref: (t6) => {
    t6 && _U(this, kU, "f").push(t6);
  }, role: "option", tabindex: c2 ? "0" : "-1", title: n2(t5.value) || n2(t5.description) }, D$a("div", { "data-cy": _U(this, mU, "f").rippleSurface, "data-lf": _U(this, bU, "f").rippleSurface, ref: (t6) => {
    l2 && t6 && _U(this, yU, "f").push(t6);
  } }), t5.icon && _U(this, vU, "m", SU).call(this, t5), D$a("span", { class: e2(_U(this, pU, "f").node._, _U(this, pU, "f").node.text) }, _U(this, vU, "m", NU).call(this, t5), _U(this, vU, "m", AU).call(this, t5))));
}, AU = function(t5) {
  const { bemClass: i2 } = _U(this, dU, "f").theme;
  return t5.description && D$a("div", { class: i2(_U(this, pU, "f").node._, _U(this, pU, "f").node.subtitle) }, t5.description);
}, NU = function(t5) {
  const { bemClass: i2 } = _U(this, dU, "f").theme;
  return String(t5.value).valueOf() && D$a("div", { class: i2(_U(this, pU, "f").node._, _U(this, pU, "f").node.title) }, String(t5.value).valueOf());
}, IU.style = '::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=danger]{--lf-list-color-primary:var(\n    --lf-list-color-danger,\n    var(--lf-color-danger)\n  );--lf-list-color-on-primary:var(\n    --lf-list-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-list-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-list-color-primary:var(\n    --lf-list-color-info,\n    var(--lf-color-info)\n  );--lf-list-color-on-primary:var(\n    --lf-list-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-list-color-primary:var(\n    --lf-list-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-list-color-on-primary:var(\n    --lf-list-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-list-color-primary:var(\n    --lf-list-color-success,\n    var(--lf-color-success)\n  );--lf-list-color-on-primary:var(\n    --lf-list-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-list-color-primary:var(\n    --lf-list-color-warning,\n    var(--lf-color-warning)\n  );--lf-list-color-on-primary:var(\n    --lf-list-color-warning,\n    var(--lf-color-on-warning)\n  )}:host{display:block;font-family:var(--lf-list-font-family, var(--lf-font-family-primary));font-size:var(--lf-list-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-list-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-list-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-list-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-list-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-list-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-list-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-list-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%;outline:none}.list{border:0;border-style:solid;border-color:rgba(var(--lf-list-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-list-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-list-color-bg, var(--lf-color-bg)), 0.275);color:rgb(var(--lf-list-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%;box-sizing:border-box;list-style-type:none;margin:0;overflow:auto;padding:0.5em 0}.list--empty{padding:0}.list--selectable .list__item{cursor:pointer;user-select:none}.list:not(.list.list--selectable) .list__item{cursor:default;pointer-events:none}.list__item{transition:all 150ms cubic-bezier(0.42, 0, 0.58, 1);display:flex;height:var(--lf-list-item-height, 2.5em);width:100%}.list__item:hover{background-color:rgba(var(--lf-list-color-on-bg, var(--lf-color-on-bg)), 0.125);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.list__item:hover .delete{width:1.5em}.list__item--has-description{height:var(--lf-list-item-with-description-height, 3.6em)}.list__item--focused{background-color:rgba(var(--lf-list-color-primary, var(--lf-color-primary)), 0.225);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.list__item--selected{background-color:rgba(var(--lf-list-color-primary, var(--lf-color-primary)), 0.325);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.list__item--selected:hover{background-color:rgba(var(--lf-list-color-primary, var(--lf-color-primary)), 0.475);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.delete{background-color:rgba(var(--lf-list-color-danger, var(--lf-color-danger)), 0.575);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 150ms cubic-bezier(0.42, 0, 0.58, 1);align-content:center;box-sizing:border-box;opacity:0.75;overflow:hidden;width:0}.delete:hover{opacity:1}.delete__icon{-webkit-mask:var(--lf-icon-clear);mask:var(--lf-icon-clear);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-list-color-on-danger, var(--lf-color-on-danger)), 1);height:1.5em;width:1.5em;overflow:hidden;margin:0}.node{transition:all 150ms cubic-bezier(0.42, 0, 0.58, 1);align-items:center;box-sizing:border-box;display:flex;justify-content:flex-start;padding:var(--lf-list-item-padding, 0 0.75em);position:relative;outline:none;overflow:hidden;width:100%}.node__title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:1em;font-weight:400;line-height:1.6em;letter-spacing:0em;margin-bottom:0.5em;margin-left:1.5em;display:block;margin-bottom:-1.5em;margin-left:0;margin-top:0}.node__title:before{content:"";display:inline-block;height:1.5em;vertical-align:0;width:0}.node__title:after{content:"";display:inline-block;width:0;height:2em;vertical-align:-2em}.node__subtitle{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.875em;font-weight:500;line-height:1.375em;letter-spacing:0.01em;display:block;margin-top:0;opacity:0.75;padding-bottom:0.5em}.node__icon{background-color:rgba(var(--lf-list-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden;margin:0 0.75em 0 0}.node__text{overflow:hidden;width:100%}.empty-data{border:0;border-style:solid;border-color:rgba(var(--lf-list-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-list-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-list-color-bg, var(--lf-color-bg)), 0.275);color:rgb(var(--lf-list-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%;font-size:1em;font-weight:400;line-height:1.6em;letter-spacing:0em;margin-bottom:1em;align-items:center;box-sizing:border-box;display:flex;justify-content:center}';
var LU, DU, WU, EU, OU, FU, RU, PU, BU, VU, jU, HU, YU, XU, UU = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, $U = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const GU = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-photoframe-event"), LU.add(this), this.imageOrientation = "", this.isInViewport = false, this.isReady = false, this.lfOverlay = null, this.lfPlaceholder = null, this.lfStyle = "", this.lfThreshold = 0.25, this.lfValue = null, DU.set(this, void 0), WU.set(this, LF_PHOTOFRAME_BLOCKS), EU.set(this, CY_ATTRIBUTES), OU.set(this, LF_PHOTOFRAME_PARTS), FU.set(this, LF_STYLE_ID), RU.set(this, LF_WRAPPER_ID), PU.set(this, void 0), BU.set(this, void 0), jU.set(this, (() => {
      const { lfOverlay: t5 } = this;
      if (!t5 || "object" != typeof t5) return null;
      const { bemClass: i2 } = UU(this, DU, "f").theme, { overlay: n2 } = UU(this, WU, "f"), { description: e2, hideOnClick: o2, icon: a2, title: s2 } = t5;
      return D$a("div", { class: i2(n2._, null, { "has-actions": o2 }), onClick: o2 ? (t6) => {
        this.onLfEvent(t6, "overlay"), this.lfOverlay = null;
      } : void 0, part: UU(this, OU, "f").overlay }, D$a("div", { class: i2(n2._, n2.content) }, a2 && D$a("lf-image", { class: i2(n2._, n2.icon), lfSizeX: "3em", lfSizeY: "3em", lfValue: a2, part: UU(this, OU, "f").icon }), s2 && D$a("div", { class: i2(n2._, n2.title), part: UU(this, OU, "f").title }, s2), e2 && D$a("div", { class: i2(n2._, n2.description), part: UU(this, OU, "f").description }, e2)));
    }));
  }
  onLfEvent(t5, i2, n2 = false) {
    "load" === i2 && (n2 ? this.imageOrientation = UU(this, LU, "m", VU).call(this, UU(this, BU, "f")) ? "horizontal" : "vertical" : this.isReady = true), this.lfEvent.emit({ comp: this, id: this.rootElement.id, originalEvent: t5, eventType: i2, isPlaceholder: n2 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_PHOTOFRAME_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    UU(this, DU, "f") && (UU(this, DU, "f").theme.register(this), UU(this, LU, "m", HU).call(this));
  }
  async componentWillLoad() {
    $U(this, DU, await a(this));
  }
  componentDidLoad() {
    var _a2;
    const { info: t5 } = UU(this, DU, "f").debug;
    UU(this, LU, "m", HU).call(this), (_a2 = UU(this, PU, "f")) == null ? void 0 : _a2.observe(this.rootElement), this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = UU(this, DU, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = UU(this, DU, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { sanitizeProps: t5, theme: i2 } = UU(this, DU, "f"), { bemClass: n2, setLfStyle: o2 } = i2, { photoframe: a2 } = UU(this, WU, "f"), { isInViewport: s2, isReady: l2, lfPlaceholder: u2, lfStyle: f2, lfValue: c2 } = this, h2 = Boolean(s2 && l2);
    return D$a(W$e, { key: "bd51874e64388e55d293b6baf88b8e402b3a6fed" }, f2 && D$a("style", { key: "6f3d86a9ca8d0402563929a1d3556bf88576013b", id: UU(this, FU, "f") }, o2(this)), D$a("div", { key: "b2f4e1ce92baacc009153b2dc0668b420a8cf5bf", class: n2(a2._, null, { [this.imageOrientation]: this.imageOrientation && true }), id: UU(this, RU, "f") }, UU(this, jU, "f").call(this), D$a("img", { key: "9bbdb38a9bce72bb40956193f6f602bce5764872", class: n2(a2._, a2.placeholder, { loaded: Boolean(this.imageOrientation), hidden: h2 }), "data-cy": UU(this, EU, "f").image, onLoad: (t6) => {
      UU(this, LU, "m", XU).call(this, t6, true);
    }, part: UU(this, OU, "f").placeholder, ref: (t6) => {
      t6 && $U(this, BU, t6);
    }, ...t5(u2) }), s2 && D$a("img", { key: "b8332f4a831038fd2b4b47b64a92c4a2c2a1740c", class: n2(a2._, a2.image, { active: h2 }), "data-cy": UU(this, EU, "f").image, onLoad: (t6) => {
      UU(this, LU, "m", XU).call(this, t6, false);
    }, part: UU(this, OU, "f").image, ...t5(c2) })));
  }
  disconnectedCallback() {
    var _a2, _b2;
    (_a2 = UU(this, DU, "f")) == null ? void 0 : _a2.theme.unregister(this), (_b2 = UU(this, PU, "f")) == null ? void 0 : _b2.unobserve(this.rootElement);
  }
  get rootElement() {
    return z$d(this);
  }
};
DU = /* @__PURE__ */ new WeakMap(), WU = /* @__PURE__ */ new WeakMap(), EU = /* @__PURE__ */ new WeakMap(), OU = /* @__PURE__ */ new WeakMap(), FU = /* @__PURE__ */ new WeakMap(), RU = /* @__PURE__ */ new WeakMap(), PU = /* @__PURE__ */ new WeakMap(), BU = /* @__PURE__ */ new WeakMap(), jU = /* @__PURE__ */ new WeakMap(), LU = /* @__PURE__ */ new WeakSet(), VU = function(t5) {
  return Boolean(t5.naturalWidth > t5.naturalHeight);
}, HU = function() {
  $U(this, PU, new IntersectionObserver(((t5) => {
    t5.forEach(((t6) => {
      const i2 = this.rootElement.hasAttribute("lf-hydrated");
      t6.isIntersecting && i2 && this.rootElement.isConnected && requestAnimationFrame((() => {
        this.isInViewport = true, UU(this, PU, "f").unobserve(this.rootElement);
      }));
    }));
  }), { threshold: this.lfThreshold }));
}, YU = function(t5) {
  return new Promise(((i2) => {
    let n2 = null;
    const r2 = () => {
      if (this.rootElement.isConnected) {
        if (null === n2) n2 = performance.now();
        else if (performance.now() - n2 >= t5) return void i2();
      } else n2 = null;
      requestAnimationFrame(r2);
    };
    r2();
  }));
}, XU = function(t5, i2, n2 = 100) {
  UU(this, LU, "m", YU).call(this, n2).then((() => {
    this.onLfEvent(t5, "load", i2);
  }));
}, GU.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}:host{display:block;font-family:var(--lf-photoframe-font-family, var(--lf-font-family-primary));font-size:var(--lf-photoframe-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-photoframe-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%;box-sizing:border-box;position:relative}#lf-component{position:relative}img{width:100%;height:100%}.photoframe--landscape img{width:100%}.photoframe--portrait img{height:100%}.photoframe__image{display:none;left:0;object-fit:var(--lf-comp-image-fit, cover);position:absolute;top:0;z-index:0}.photoframe__image--active{display:block;position:relative}.photoframe__placeholder{display:none;object-fit:var(--lf-comp-placeholder-fit, cover);transition:opacity var(--lf-comp-fade-out-time, 1750ms) ease-out;will-change:opacity;z-index:1}.photoframe__placeholder--hidden{opacity:0;position:absolute}.photoframe__placeholder--loaded{display:block}.overlay{background-color:rgba(var(--lf-photoframe-color-bg, var(--lf-color-bg)), 1);width:100%;height:100%;display:flex;justify-content:center;left:0;position:absolute;top:0;z-index:var(--lf-comp-overlay-zindex, 2)}.overlay--has-actions{cursor:pointer}.overlay--has-actions:hover .overlay__content{transform:scale(1.5)}.overlay__content,.overlay__description,.overlay__title{color:rgb(var(--lf-photoframe-color-on-bg, var(--lf-color-on-bg)));text-align:center}.overlay__content{font-size:0.875em;font-weight:500;line-height:1.375em;letter-spacing:0.01em;transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);display:grid;grid-gap:0.75em;margin:auto;overflow:hidden}.overlay__description{font-size:0.875em;font-weight:400;line-height:1.25em;letter-spacing:0.2em}.overlay__title{font-size:1.25em;font-weight:500;line-height:1.4em;letter-spacing:0em}.overlay__icon{margin:auto}";
var ZU, qU, JU, KU, QU, t$, i$, n$, r$, e$, o$, a$, s$, l$, u$ = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
};
const f$ = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-progressbar-event"), ZU.add(this), this.lfAnimated = false, this.lfCenteredLabel = false, this.lfIcon = "", this.lfIsRadial = false, this.lfLabel = "", this.lfStyle = "", this.lfUiSize = "medium", this.lfUiState = "primary", this.lfValue = 0, qU.set(this, void 0), JU.set(this, LF_PROGRESSBAR_BLOCKS), KU.set(this, CY_ATTRIBUTES), QU.set(this, LF_ATTRIBUTES), t$.set(this, LF_PROGRESSBAR_PARTS), i$.set(this, LF_STYLE_ID), n$.set(this, LF_PROGRESSBAR_CSS_VARIABLES), r$.set(this, LF_WRAPPER_ID);
  }
  onLfEvent(t5, i2) {
    this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_PROGRESSBAR_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    u$(this, qU, "f") && u$(this, qU, "f").theme.register(this);
  }
  async componentWillLoad() {
    !(function(t5, i2, n2, r2, e2) {
      if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
      i2.set(t5, n2);
    })(this, qU, await a(this));
  }
  componentDidLoad() {
    const { info: t5 } = u$(this, qU, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = u$(this, qU, "f").debug, i2 = u$(this, ZU, "m", e$).call(this, this.lfValue);
    i2 !== this.lfValue && (this.lfValue = i2), t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = u$(this, qU, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { theme: t5 } = u$(this, qU, "f"), { lfIsRadial: i2, lfStyle: n2, lfValue: o2 } = this;
    return D$a(W$e, { key: "d9a8d7111183396fb00cc1b2ef1af2c0796e72eb" }, D$a("style", { key: "899c667b0de054d1c7c15448376ecf822f95836c", id: u$(this, i$, "f") }, `
                :host {
                  ${u$(this, n$, "f").transform}: rotate(${3.6 * o2}deg);
                  ${u$(this, n$, "f").width}: ${o2}%;
                }
                ${n2 && t5.setLfStyle(this) || ""}`), D$a("div", { key: "f02bb1170822d6154ce28d0cd1cff2f07439ac5b", id: u$(this, r$, "f") }, i2 ? u$(this, ZU, "m", l$).call(this) : u$(this, ZU, "m", s$).call(this)));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = u$(this, qU, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
qU = /* @__PURE__ */ new WeakMap(), JU = /* @__PURE__ */ new WeakMap(), KU = /* @__PURE__ */ new WeakMap(), QU = /* @__PURE__ */ new WeakMap(), t$ = /* @__PURE__ */ new WeakMap(), i$ = /* @__PURE__ */ new WeakMap(), n$ = /* @__PURE__ */ new WeakMap(), r$ = /* @__PURE__ */ new WeakMap(), ZU = /* @__PURE__ */ new WeakSet(), e$ = function(t5) {
  return "number" != typeof t5 || Number.isNaN(t5) || !Number.isFinite(t5) || t5 <= 0 ? 0 : t5 >= 100 ? 100 : t5;
}, o$ = function() {
  const { get: t5 } = u$(this, qU, "f").assets, { bemClass: i2 } = u$(this, qU, "f").theme, { progressbar: n2 } = u$(this, JU, "f"), { lfIcon: e2 } = this, { style: o2 } = t5(`./assets/svg/${e2}.svg`);
  return D$a("div", { class: i2(n2._, n2.icon), "data-cy": u$(this, KU, "f").maskedSvg, part: u$(this, t$, "f").icon, style: o2 });
}, a$ = function() {
  const { bemClass: t5 } = u$(this, qU, "f").theme, { progressbar: i2 } = u$(this, JU, "f"), { lfIcon: n2, lfLabel: e2, lfValue: o2 } = this, a2 = e2 ? [D$a("div", { class: t5(i2._, i2.text), part: u$(this, t$, "f").text }, e2)] : [D$a("div", { class: t5(i2._, i2.text), part: u$(this, t$, "f").text }, o2), D$a("div", { class: t5(i2._, i2.mu), part: u$(this, t$, "f").mu }, "%")];
  return D$a("div", { class: t5(i2._, i2.label) }, n2 && u$(this, ZU, "m", o$).call(this), a2);
}, s$ = function() {
  const { bemClass: t5 } = u$(this, qU, "f").theme, { progressbar: i2 } = u$(this, JU, "f");
  return D$a("div", { class: t5(i2._), "data-lf": u$(this, QU, "f")[this.lfUiState], part: u$(this, t$, "f").progressbar }, D$a("div", { class: t5(i2._, i2.percentage), part: u$(this, t$, "f").percentage }, !this.lfCenteredLabel && u$(this, ZU, "m", a$).call(this)), this.lfCenteredLabel && u$(this, ZU, "m", a$).call(this));
}, l$ = function() {
  const { bemClass: t5 } = u$(this, qU, "f").theme, { pie: i2, progressbar: n2 } = u$(this, JU, "f");
  return D$a("div", { class: t5(n2._), "data-lf": u$(this, QU, "f")[this.lfUiState], part: u$(this, t$, "f").progressbar }, u$(this, ZU, "m", a$).call(this), D$a("div", { class: t5(i2._, null, { empty: this.lfValue <= 50, full: this.lfValue > 50, "has-value": Boolean(this.lfValue) }) }, D$a("div", { class: t5(i2._, i2.halfCircle, { left: true }) }), D$a("div", { class: t5(i2._, i2.halfCircle, { right: true }) })), D$a("div", { class: t5(i2._, i2.track), part: u$(this, t$, "f").track }));
}, f$.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=danger]{--lf-progressbar-color-primary:var(\n    --lf-progressbar-color-danger,\n    var(--lf-color-danger)\n  );--lf-progressbar-color-on-primary:var(\n    --lf-progressbar-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-progressbar-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-progressbar-color-primary:var(\n    --lf-progressbar-color-info,\n    var(--lf-color-info)\n  );--lf-progressbar-color-on-primary:var(\n    --lf-progressbar-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-progressbar-color-primary:var(\n    --lf-progressbar-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-progressbar-color-on-primary:var(\n    --lf-progressbar-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-progressbar-color-primary:var(\n    --lf-progressbar-color-success,\n    var(--lf-color-success)\n  );--lf-progressbar-color-on-primary:var(\n    --lf-progressbar-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-progressbar-color-primary:var(\n    --lf-progressbar-color-warning,\n    var(--lf-color-warning)\n  );--lf-progressbar-color-on-primary:var(\n    --lf-progressbar-color-warning,\n    var(--lf-color-on-warning)\n  )}:host{display:block;font-family:var(--lf-progressbar-font-family, var(--lf-font-family-primary));font-size:var(--lf-progressbar-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-progressbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-progressbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-progressbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-progressbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-progressbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-progressbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-progressbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}#lf-component{background-color:rgba(var(--lf-progressbar-color-surface, var(--lf-color-surface)), 0.225);color:rgb(var(--lf-progressbar-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.progressbar{border:0;border-style:solid;border-color:rgba(var(--lf-progressbar-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-progressbar-border-radius, var(--lf-ui-border-radius));box-sizing:border-box;height:var(--lf-progressbar-height, 100%);overflow:hidden;width:var(--lf-progressbar-width, 100%)}.progressbar__icon{background-color:rgba(var(--lf-progressbar-color-on-primary, var(--lf-color-on-primary)), 1);height:1.5em;width:1.5em;overflow:hidden;margin:0 0.75em}.progressbar__label{color:rgb(var(--lf-progressbar-color-on-primary, var(--lf-color-on-primary)));width:100%;height:100%;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;align-items:center;display:flex;justify-content:center;left:0;min-width:max-content;position:absolute;top:0}.progressbar__mu{font-size:0.875em;font-weight:500;line-height:1.375em;letter-spacing:0.01em;font-size:0.5em}.progressbar__percentage{border:0;border-style:solid;border-radius:var(--lf-progressbar-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-progressbar-color-primary, var(--lf-color-primary)), 0.775);color:rgb(var(--lf-progressbar-color-on-primary, var(--lf-color-on-primary)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);box-sizing:border-box;height:var(--lf-progressbar-height, 100%);padding:var(--lf-progressbar-padding, 1em 0);position:relative;text-align:center;width:var(--lf_progressbar_percentage_width)}:host([lf-centered-label]) .progressbar{position:relative}:host([lf-centered-label]) .progressbar__percentage{position:static}:host([lf-is-radial]){box-sizing:border-box;margin:auto}:host([lf-is-radial]) #lf-component{display:flex;font-size:10em;margin:auto;padding:0.1em 0}:host([lf-is-radial]) .progressbar{background:none;border:none;height:1em;margin:auto;overflow:visible;position:relative;width:1em}:host([lf-is-radial]) .progressbar:nth-child(3n+1){clear:both}:host([lf-is-radial]) .progressbar__icon{background-color:rgba(var(--lf-progressbar-color-on-bg, var(--lf-color-on-bg)), 1);height:0.75em;width:0.75em;overflow:hidden;margin:0 0.15em}:host([lf-is-radial]) .progressbar__label{color:rgb(var(--lf-progressbar-color-on-bg, var(--lf-color-on-bg)));cursor:default;display:flex;font-size:0.15em}:host([lf-is-radial]) .progressbar__um{color:rgb(var(--lf-progressbar-color-on-bg, var(--lf-color-on-bg)));font-size:0.5em;padding-bottom:0.75em}:host([lf-is-radial]) *,:host([lf-is-radial]) *:before,:host([lf-is-radial]) *:after{box-sizing:border-box}:host([lf-animated]) .progressbar__percentage{animation:running-stripes 2s linear infinite;background-image:linear-gradient(-45deg, rgba(var(--lf-color-surface), 0.125) 25%, transparent 25%, transparent 50%, rgba(var(--lf-color-surface), 0.125) 50%, rgba(var(--lf-color-surface), 0.125) 75%, transparent 75%, transparent);background-size:3em 3em}.pie{clip:rect(0, 1em, 1em, 0.5em);height:1em;left:0;position:absolute;top:0;width:1em}.pie--empty__half-circle--right{display:none}.pie--full{clip:rect(auto, auto, auto, auto)}.pie--full .pie__half-circle--right{transform:rotate(180deg)}.pie--has-value .pie__half-circle{border-color:rgb(var(--lf-progressbar-color-primary, rgb(var(--lf-color-primary))))}.pie--has-value .pie__half-circle--left{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);transform:var(--lf_progressbar_transform)}.pie__half-circle{height:1em;width:1em;border:0.1em solid rgba(var(--lf-color-surface), 0.375);border-radius:50%;clip:rect(0, 0.5em, 1em, 0);left:0;position:absolute;top:0}.pie__track{height:1em;width:1em;border:0.1em solid rgba(var(--lf-color-surface), 0.375);border-radius:50%}@keyframes running-stripes{0%{background-position:0 0}100%{background-position:3em 3em}}";
const c$ = { 1: { className: "spinner-bar-v1", elements: () => [] }, 2: { className: "spinner-bar-v2", elements: () => [] }, 3: { className: "spinner-bar-v3", elements: (t5) => [D$a("div", { class: "progress-bar", style: { width: `${t5}%` } })] } }, h$ = { 7: { className: "spinner-v7", elements: () => Array(6).fill(0).map((() => D$a("div", { class: "sk-spinner-v7-dot" }))) }, 9: { className: "spinner-v9", elements: () => [D$a("div", { class: "sk-spinner-v9-bounce1" }), D$a("div", { class: "sk-spinner-v9-bounce2" })] }, 10: { className: "spinner-v10", elements: () => [D$a("div", { class: "sk-spinner-v10-cube1" }), D$a("div", { class: "sk-spinner-v10-cube2" })] }, 12: { className: "spinner-v12", elements: () => [D$a("div", { class: "sk-spinner-v12-dot1" }), D$a("div", { class: "sk-spinner-v12-dot2" })] }, 13: { className: "spinner-v13", elements: () => Array(9).fill(0).map(((t5, i2) => D$a("div", { class: `sk-spinner-v13-cube sk-spinner-v13-cube${i2 + 1}` }))) }, 14: { className: "spinner-v14", elements: () => Array(12).fill(0).map(((t5, i2) => D$a("div", { class: `sk-spinner-v14-circle${i2 + 1} sk-spinner-v14-circle` }))) } };
var v$, d$, p$, m$, b$, g$, y$, w$, x$ = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, k$ = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const M$ = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-spinner-event"), v$.add(this), this.bigWait = false, this.progress = 0, this.lfActive = false, this.lfBarVariant = false, this.lfDimensions = "", this.lfFader = false, this.lfFaderTimeout = 3500, this.lfFullScreen = false, this.lfLayout = 1, this.lfStyle = "", this.lfTimeout = 0, d$.set(this, void 0), p$.set(this, LF_STYLE_ID), m$.set(this, LF_WRAPPER_ID), b$.set(this, void 0), g$.set(this, void 0);
  }
  onFaderChange() {
    x$(this, v$, "m", w$).call(this);
  }
  lfBarVariantChanged(t5) {
    x$(this, d$, "f") && (t5 && this.lfTimeout ? x$(this, v$, "m", y$).call(this) : (this.progress = 0, cancelAnimationFrame(x$(this, b$, "f"))));
  }
  lfTimeoutChanged(t5, i2) {
    x$(this, d$, "f") && t5 !== i2 && this.lfBarVariant && x$(this, v$, "m", y$).call(this);
  }
  onLfEvent(t5, i2) {
    this.lfEvent.emit({ comp: this, id: this.rootElement.id, originalEvent: t5, eventType: i2 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_SPINNER_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    x$(this, d$, "f") && x$(this, d$, "f").theme.register(this);
  }
  async componentWillLoad() {
    k$(this, d$, await a(this));
  }
  componentDidLoad() {
    const { info: t5 } = x$(this, d$, "f").debug, { lfBarVariant: i2, lfTimeout: n2 } = this;
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load"), i2 && n2 && x$(this, v$, "m", y$).call(this);
  }
  componentWillRender() {
    const { info: t5 } = x$(this, d$, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = x$(this, d$, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { setLfStyle: t5 } = x$(this, d$, "f").theme, { bigWait: i2, lfBarVariant: n2, lfDimensions: o2, lfFullScreen: a2, lfLayout: s2, lfStyle: l2, progress: u2 } = this, f2 = { height: a2 ? void 0 : "100%", width: a2 ? void 0 : "100%", fontSize: o2 || (n2 ? "0.25em" : ".875em") }, c2 = n2 ? c$[s2] : h$[s2], h2 = n2 ? "loading-wrapper-master-bar" : "loading-wrapper-master-spinner", v2 = { "spinner-version": !n2, "loading-wrapper-big-wait": i2 }, d2 = (c2 == null ? void 0 : c2.className) || `spinner-${n2 ? "bar-v" : "v"}${s2}`, p2 = (c2 == null ? void 0 : c2.elements(u2)) || [];
    return D$a(W$e, { key: "3cb8aa55dec4b4f7515a75849230fddc9b21a6a1", style: f2 }, l2 && D$a("style", { key: "4ff095e9df43b734a0f75c0a685aa9926c313215", id: x$(this, p$, "f") }, t5(this)), D$a("div", { key: "4c1996399657b6287dfce2d473eb11a3d46aeb70", id: x$(this, m$, "f"), style: f2 }, D$a("div", { key: "ce955d64e9e355a8a33356079a164a37ce3d4134", id: "loading-wrapper-master", class: { ...v2 }, style: f2 }, D$a("div", { key: "69b3088b9f4ffb51fedb19c3074db91f4b12b902", id: h2, style: f2 }, D$a("div", { key: "b295bb48ad8142df459508d675e61f9403236bd7", class: d2 }, p2)))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = x$(this, d$, "f")) == null ? void 0 : _a2.theme.unregister(this), cancelAnimationFrame(x$(this, b$, "f")), x$(this, g$, "f") && clearTimeout(x$(this, g$, "f"));
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfActive: ["onFaderChange"], lfFader: ["onFaderChange"], lfFaderTimeout: ["onFaderChange"], lfBarVariant: ["lfBarVariantChanged"], lfTimeout: ["lfTimeoutChanged"] };
  }
};
d$ = /* @__PURE__ */ new WeakMap(), p$ = /* @__PURE__ */ new WeakMap(), m$ = /* @__PURE__ */ new WeakMap(), b$ = /* @__PURE__ */ new WeakMap(), g$ = /* @__PURE__ */ new WeakMap(), v$ = /* @__PURE__ */ new WeakSet(), y$ = function() {
  this.progress = 0;
  const t5 = Date.now(), i2 = this.lfTimeout, n2 = () => {
    const r2 = Date.now() - t5;
    this.progress = Math.min(r2 / i2 * 100, 100), this.progress < 100 ? k$(this, b$, requestAnimationFrame(n2)) : cancelAnimationFrame(x$(this, b$, "f"));
  };
  k$(this, b$, requestAnimationFrame(n2));
}, w$ = function() {
  x$(this, g$, "f") && (clearTimeout(x$(this, g$, "f")), k$(this, g$, void 0)), this.bigWait = false, this.lfFader && this.lfActive && k$(this, g$, window.setTimeout((() => {
    this.bigWait = true;
  }), this.lfFaderTimeout));
}, M$.style = '.spinner-bar-v1{position:absolute;overflow:hidden;transform:translateZ(0);width:100%;height:1em}.spinner-bar-v1:before{content:"";position:absolute;width:25%;height:1em;animation:sk-spinner-bar-v1 5s linear infinite;transform:translateZ(0)}.spinner-bar-v2{position:absolute;overflow:hidden;transform:translateZ(0);box-shadow:-1px 0px 2px 2px rgb(var(--lf-color-on-spinner));height:calc(1em - 2px);width:100%;animation:sk-spinner-bar-v2 5s forwards;animation-timing-function:cubic-bezier(0.19, 0.78, 0.19, 0.78)}.spinner-bar-v3{background-color:rgb(var(--lf-color-spinner));height:calc(1.5em - 2px);position:absolute;overflow:hidden;width:100%}.spinner-bar-v3 .progress-bar{animation:sk-spinner-bar-v3 1s infinite ease-in-out;background-color:rgb(var(--lf-color-on-spinner));height:100%;transition:width 0.1s linear}@keyframes sk-spinner-bar-v1{from{left:-25%;background:linear-gradient(to left, rgb(var(--lf-color-on-spinner)) 0, transparent 100%)}50%{left:100%}to{left:-25%;background:linear-gradient(to right, rgb(var(--lf-color-on-spinner)) 0, transparent 100%)}}@keyframes sk-spinner-bar-v2{from{left:-100%}to{left:-1%}}@keyframes sk-spinner-bar-v3{0%{opacity:1}50%{opacity:0.6}100%{opacity:1}}.spinner-v1{width:7em;height:7em;border-radius:50%;border-top:1em solid rgb(var(--lf-color-spinner));border-right:1em solid rgb(var(--lf-color-spinner));border-bottom:1em solid rgb(var(--lf-color-spinner));border-left:1em solid rgb(var(--lf-color-on-spinner));transform:translateZ(0);animation:sk-spinner-v1 1.1s infinite linear}.spinner-v2,.spinner-v2:before,.spinner-v2:after{border-radius:50%;width:2em;height:2em;animation-fill-mode:both;animation:sk-spinner-v2 1.4s infinite ease-in-out;transform:translateZ(0)}.spinner-v2{backface-visibility:hidden;color:rgb(var(--lf-color-on-spinner));font-size:1em;transform:translateY(-2.5em);animation-delay:-0.16s}.spinner-v2:before,.spinner-v2:after{content:"";position:absolute;top:0}.spinner-v2:before{left:-4em;animation-delay:-0.32s}.spinner-v2:after{left:4em}.spinner-v3{color:rgb(var(--lf-color-on-spinner));font-size:6em;width:1em;height:1em;border-radius:50%;transform:translateZ(0);animation:sk-spinner-v3 1.7s infinite ease, sk-spinner-v3-1 1.7s infinite ease}.spinner-v4{color:rgb(var(--lf-color-on-spinner));width:1em;height:1em;border-radius:50%;transform:translateZ(0);animation:sk-spinner-v4 1.3s infinite linear}.spinner-v5{width:9em;height:9em;margin-top:-0.8em;border-radius:50%;background:linear-gradient(to right, rgb(var(--lf-color-on-spinner)) 10%, rgba(255, 255, 255, 0) 42%);transform:translateZ(0);animation:sk-spinner-v5 1.4s infinite linear}.spinner-v5::before{content:"";width:50%;height:50%;background:rgb(var(--lf-color-on-spinner));border-radius:100% 0 0 0;position:absolute;top:0;left:0}.spinner-v5::after{content:"";width:75%;height:75%;background:rgb(var(--lf-color-spinner));border-radius:50%;position:absolute;margin:auto;top:0;right:0;bottom:0;left:0}.spinner-v6,.spinner-v6:before,.spinner-v6:after{background:rgb(var(--lf-color-on-spinner));animation:sk-spinner-v6 1s infinite ease-in-out;width:1em;height:4em}.spinner-v6{color:rgb(var(--lf-color-on-spinner));margin-top:2em;transform:translateZ(0);animation-delay:-0.16s}.spinner-v6:before,.spinner-v6:after{content:"";position:absolute;top:0}.spinner-v6:before{left:-1.5em;animation-delay:-0.32s}.spinner-v6:after{left:1.5em}.spinner-v7{width:6em;height:6em;position:relative;animation:sk-spinner-v7 2.5s infinite linear both}.sk-spinner-v7-dot{width:100%;height:100%;position:absolute;left:0;top:0;animation:sk-spinner-v7-dot 2s infinite ease-in-out both}.sk-spinner-v7-dot:before{content:"";display:block;width:25%;height:25%;background-color:rgb(var(--lf-color-on-spinner));border-radius:100%;animation:sk-spinner-v7-dot-before 2s infinite ease-in-out both}.sk-spinner-v7-dot:nth-child(1){animation-delay:-1.1s}.sk-spinner-v7-dot:nth-child(1):before{animation-delay:-1.1s}.sk-spinner-v7-dot:nth-child(2){animation-delay:-1s}.sk-spinner-v7-dot:nth-child(2):before{animation-delay:-1s}.sk-spinner-v7-dot:nth-child(3){animation-delay:-0.9s}.sk-spinner-v7-dot:nth-child(3):before{animation-delay:-0.9s}.sk-spinner-v7-dot:nth-child(4){animation-delay:-0.8s}.sk-spinner-v7-dot:nth-child(4):before{animation-delay:-0.8s}.sk-spinner-v7-dot:nth-child(5){animation-delay:-0.7s}.sk-spinner-v7-dot:nth-child(5):before{animation-delay:-0.7s}.sk-spinner-v7-dot:nth-child(6){animation-delay:-0.6s}.sk-spinner-v7-dot:nth-child(6):before{animation-delay:-0.6s}.spinner-v8{width:8em;height:8em;background-color:rgb(var(--lf-color-on-spinner));animation:sk-spinner-v8 1.2s infinite ease-in-out;transform:perspective(120px) rotateX(0deg) rotateY(0deg)}.spinner-v9{width:8em;height:8em;position:relative}.sk-spinner-v9-bounce1,.sk-spinner-v9-bounce2{width:100%;height:100%;background-color:rgb(var(--lf-color-on-spinner));border-radius:50%;opacity:0.6;position:absolute;top:0;left:0;animation:sk-spinner-v9 2s infinite ease-in-out}.sk-spinner-v9-bounce2{animation-delay:-1s}.spinner-v10{width:8em;height:8em;position:relative}.sk-spinner-v10-cube1,.sk-spinner-v10-cube2{backface-visibility:hidden;background-color:rgb(var(--lf-color-on-spinner));width:2em;height:2em;position:absolute;top:0;left:0;animation:sk-spinner-v10 1.8s infinite ease-in-out}.sk-spinner-v10-cube2{animation-delay:-0.9s}.spinner-v11{width:8em;height:8em;background-color:rgb(var(--lf-color-on-spinner));border-radius:100%;animation:sk-spinner-v11 1s infinite ease-in-out}.spinner-v12{width:8em;height:8em;position:relative;text-align:center;animation:sk-spinner-v12 2s infinite linear}.sk-spinner-v12-dot1,.sk-spinner-v12-dot2{width:60%;height:60%;display:inline-block;position:absolute;background-color:rgb(var(--lf-color-on-spinner));border-radius:100%;animation:sk-spinner-v12-1 2s infinite ease-in-out}.sk-spinner-v12-dot2{bottom:0 !important;animation-delay:-1s}.spinner-v13{width:7em;height:7em}.spinner-v13 .sk-spinner-v13-cube{backface-visibility:hidden;background-color:rgb(var(--lf-color-on-spinner));float:left;width:33%;height:33%;position:relative !important;animation:sk-spinner-v13 1.3s infinite ease-in-out;outline:1px solid transparent}.spinner-v13 .sk-spinner-v13-cube.sk-spinner-v13-cube1{animation-delay:0.2s}.spinner-v13 .sk-spinner-v13-cube.sk-spinner-v13-cube2{animation-delay:0.3s}.spinner-v13 .sk-spinner-v13-cube.sk-spinner-v13-cube3{animation-delay:0.4s}.spinner-v13 .sk-spinner-v13-cube.sk-spinner-v13-cube4{animation-delay:0.1s}.spinner-v13 .sk-spinner-v13-cube.sk-spinner-v13-cube5{animation-delay:0.2s}.spinner-v13 .sk-spinner-v13-cube.sk-spinner-v13-cube6{animation-delay:0.3s}.spinner-v13 .sk-spinner-v13-cube.sk-spinner-v13-cube7{animation-delay:0s}.spinner-v13 .sk-spinner-v13-cube.sk-spinner-v13-cube8{animation-delay:0.1s}.spinner-v13 .sk-spinner-v13-cube.sk-spinner-v13-cube9{animation-delay:0.2s}.spinner-v14{width:8em;height:8em;position:relative}.spinner-v14 .sk-spinner-v14-circle{width:100%;height:100%;position:absolute;left:0;top:0}.spinner-v14 .sk-spinner-v14-circle:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:rgb(var(--lf-color-on-spinner));border-radius:100%;animation:sk-spinner-v14-circleFadeDelay 1.2s infinite ease-in-out both}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle2{transform:rotate(30deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle2:before{animation-delay:-1.1s}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle3{transform:rotate(60deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle3:before{animation-delay:-1s}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle4{transform:rotate(90deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle4:before{animation-delay:-0.9s}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle5{transform:rotate(120deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle5:before{animation-delay:-0.8s}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle6{transform:rotate(150deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle6:before{animation-delay:-0.7s}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle7{transform:rotate(180deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle7:before{animation-delay:-0.6s}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle8{transform:rotate(210deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle8:before{animation-delay:-0.5s}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle9{transform:rotate(240deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle9:before{animation-delay:-0.4s}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle10{transform:rotate(270deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle10:before{animation-delay:-0.3s}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle11{transform:rotate(300deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle11:before{animation-delay:-0.2s}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle12{transform:rotate(330deg)}.spinner-v14 .sk-spinner-v14-circle.sk-spinner-v14-circle12:before{animation-delay:-0.1s}@keyframes sk-spinner-v1{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes sk-spinner-v2{0%,80%,100%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes sk-spinner-v3{0%{box-shadow:0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em}5%,95%{box-shadow:0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em}10%,59%{box-shadow:0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em}20%{box-shadow:0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em}38%{box-shadow:0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em}100%{box-shadow:0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em}}@keyframes sk-spinner-v3-1{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes sk-spinner-v4{0%,100%{box-shadow:0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0}12.5%{box-shadow:0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em}25%{box-shadow:0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em}37.5%{box-shadow:0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em}50%{box-shadow:0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em}62.5%{box-shadow:0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em}75%{box-shadow:0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0}87.5%{box-shadow:0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em}}@keyframes sk-spinner-v5{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes sk-spinner-v6{0%,80%,100%{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}@keyframes sk-spinner-v7{100%{transform:rotate(360deg)}}@keyframes sk-spinner-v7-dot{80%,100%{transform:rotate(360deg)}}@keyframes sk-spinner-v7-dot-before{0%,100%{transform:scale(1)}50%{transform:scale(0.4)}}@keyframes sk-spinner-v8{0%{transform:perspective(120px) rotateX(0deg) rotateY(0deg)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg)}100%{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}@keyframes sk-spinner-v9{0%,100%{transform:scale(0)}50%{transform:scale(1)}}@keyframes sk-spinner-v10{25%{transform:translateX(5em) rotate(-90deg) scale(0.5)}50%{transform:translateX(5em) translateY(5em) rotate(-179deg)}50.1%{transform:translateX(5em) translateY(5em) rotate(-180deg)}75%{transform:translateX(0) translateY(5em) rotate(-270deg) scale(0.5)}100%{transform:rotate(-360deg)}}@keyframes sk-spinner-v11{0%{transform:scale(0)}100%{transform:scale(1);opacity:0}}@keyframes sk-spinner-v12{100%{transform:rotate(360deg)}}@keyframes sk-spinner-v12-1{0%,100%{transform:scale(0)}50%{transform:scale(1)}}@keyframes sk-spinner-v13{0%,70%,100%{transform:scale3D(1, 1, 1)}35%{transform:scale3D(0, 0, 1)}}@keyframes sk-spinner-v14-circleFadeDelay{0%,39%,100%{opacity:0}40%{opacity:1}}::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=danger]{--lf-spinner-color-primary:var(\n    --lf-spinner-color-danger,\n    var(--lf-color-danger)\n  );--lf-spinner-color-on-primary:var(\n    --lf-spinner-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-spinner-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-spinner-color-primary:var(\n    --lf-spinner-color-info,\n    var(--lf-color-info)\n  );--lf-spinner-color-on-primary:var(\n    --lf-spinner-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-spinner-color-primary:var(\n    --lf-spinner-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-spinner-color-on-primary:var(\n    --lf-spinner-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-spinner-color-primary:var(\n    --lf-spinner-color-success,\n    var(--lf-color-success)\n  );--lf-spinner-color-on-primary:var(\n    --lf-spinner-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-spinner-color-primary:var(\n    --lf-spinner-color-warning,\n    var(--lf-color-warning)\n  );--lf-spinner-color-on-primary:var(\n    --lf-spinner-color-warning,\n    var(--lf-color-on-warning)\n  )}:host{display:block;font-family:var(--lf-spinner-font-family, var(--lf-font-family-primary));font-size:var(--lf-spinner-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-spinner-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-spinner-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-spinner-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-spinner-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-spinner-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-spinner-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-spinner-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}#loading-wrapper-master{transition:all 200ms cubic-bezier(0.4, 0, 0.6, 1);background:transparent;opacity:0;overflow:hidden;transform:translateZ(0)}#loading-wrapper-master.spinner-version>#loading-wrapper-master-spinner{width:100%;height:100%;position:relative}#loading-wrapper-master.spinner-version>#loading-wrapper-master-spinner div{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto}:host([lf-active]) #loading-wrapper-master{opacity:1}:host([lf-active]) #loading-wrapper-master.spinner-version>#loading-wrapper-master-spinner{opacity:1;overflow:hidden}:host([lf-active]) #loading-wrapper-master[lf-bar-variant]>#loading-wrapper-master-bar{opacity:1}:host([lf-active]) #loading-wrapper-master[lf-bar-variant]>#loading-wrapper-master-bar div.spinner-bar-v2{animation:sk-spinner-bar-v2 20s;background-color:rgb(var(--lf-color-on-spinner));left:-1%}:host([lf-active]) #loading-wrapper-master.loading-wrapper-big-wait{background:rgba(var(--lf-comp-color-bg, var(--lf-color-bg)), 0.25)}:host([lf-active]) #loading-wrapper-master.loading-wrapper-big-wait>#loading-wrapper-master-spinner{font-size:10px}:host([lf-full-screen]) #loading-wrapper-master{position:fixed;top:0;left:0;right:0;bottom:0;pointer-events:none;width:100%;z-index:9999}:host([lf-full-screen]) #loading-wrapper-master div,:host([lf-full-screen]) #loading-wrapper-master.spinner-version #loading-wrapper-master-spinner{position:fixed;transition:opacity 1.25s ease-in, background-color 1s ease-in, top 0.5s ease-in}:host([lf-active][lf-fader]) #loading-wrapper-master{pointer-events:all;cursor:not-allowed}';
var z$, S$, C$, A$, N$, _$, T$, I$, L$, D$, W$, E$, O$, F$, R$, P$, B$, V$, j$, H$, Y$, X$, U$, $$, G$, Z$ = function(t5, i2, n2, r2) {
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, q$ = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const J$ = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-textfield-event"), this.status = /* @__PURE__ */ new Set(), this.value = "", this.lfFormatJSON = null, this.lfHelper = null, this.lfIcon = "", this.lfLabel = "", this.lfStretchX = false, this.lfStretchY = false, this.lfStyle = "", this.lfStyling = "raised", this.lfTrailingIcon = false, this.lfUiSize = "medium", this.lfUiState = "primary", this.lfValue = "", z$.set(this, void 0), S$.set(this, LF_TEXTFIELD_BLOCKS), C$.set(this, CY_ATTRIBUTES), A$.set(this, LF_ATTRIBUTES), N$.set(this, LF_TEXTFIELD_PARTS), _$.set(this, LF_STYLE_ID), T$.set(this, LF_WRAPPER_ID), I$.set(this, void 0), L$.set(this, void 0), D$.set(this, void 0), W$.set(this, void 0), E$.set(this, void 0), O$.set(this, void 0), F$.set(this, (() => "disabled" === this.lfUiState)), R$.set(this, (() => "outlined" === this.lfStyling || "textarea" === this.lfStyling)), P$.set(this, (() => "textarea" === this.lfStyling)), B$.set(this, ((t5, i2 = new CustomEvent("change")) => {
      Z$(this, F$, "f").call(this) || (this.value = t5, this.onLfEvent(i2, "change"));
    })), V$.set(this, (() => {
      if (!Z$(this, O$, "f")) return null;
      const { bemClass: t5 } = Z$(this, z$, "f").theme, { textfield: i2 } = Z$(this, S$, "f");
      return D$a("div", { class: t5(i2._, i2.counter), part: Z$(this, N$, "f").counter }, "'0 / ' + ", Z$(this, O$, "f").toString());
    })), j$.set(this, (() => {
      var _a2;
      if (!((_a2 = this.lfHelper) == null ? void 0 : _a2.value)) return null;
      const { bemClass: t5 } = Z$(this, z$, "f").theme, { textfield: i2 } = Z$(this, S$, "f"), n2 = this.lfHelper.showWhenFocused && this.status.has("focused") || !this.lfHelper.showWhenFocused;
      return D$a("div", { class: t5(i2._, i2.helperLine) }, D$a("div", { class: t5(i2._, i2.helperText, { active: n2 }) }, this.lfHelper.value), !Z$(this, P$, "f").call(this) && Z$(this, V$, "f").call(this));
    })), H$.set(this, (() => {
      if (!this.lfIcon) return null;
      const { get: t5 } = Z$(this, z$, "f").assets, { bemClass: i2 } = Z$(this, z$, "f").theme, { textfield: n2 } = Z$(this, S$, "f"), { style: e2 } = t5(`./assets/svg/${this.lfIcon}.svg`);
      return D$a("div", { class: i2(n2._, n2.icon, { trailing: this.lfTrailingIcon }), "data-cy": Z$(this, C$, "f").maskedSvg, onClick: (t6) => {
        this.onLfEvent(t6, "click", true);
      }, part: Z$(this, N$, "f").icon, ref: (t6) => {
        t6 && q$(this, W$, t6);
      }, style: e2, tabIndex: 0 });
    })), Y$.set(this, (() => {
      const { sanitizeProps: t5, theme: i2 } = Z$(this, z$, "f"), { bemClass: n2 } = i2, { textfield: e2 } = Z$(this, S$, "f");
      return D$a("input", { ...t5(this.lfHtmlAttributes), class: n2(e2._, e2.input), "data-cy": Z$(this, C$, "f").input, disabled: Z$(this, F$, "f").call(this), onBlur: (t6) => {
        this.onLfEvent(t6, "blur");
      }, onChange: (t6) => {
        Z$(this, B$, "f").call(this, t6.currentTarget.value);
      }, onClick: (t6) => {
        this.onLfEvent(t6, "click");
      }, onFocus: (t6) => {
        this.onLfEvent(t6, "focus");
      }, onInput: (t6) => {
        this.onLfEvent(t6, "input");
      }, part: Z$(this, N$, "f").input, placeholder: Z$(this, R$, "f").call(this) && this.lfLabel || "", ref: (t6) => {
        t6 && q$(this, E$, t6);
      }, value: this.value });
    })), X$.set(this, (() => {
      if (Z$(this, R$, "f").call(this) || !this.lfLabel) return null;
      const { bemClass: t5 } = Z$(this, z$, "f").theme, { textfield: i2 } = Z$(this, S$, "f");
      return D$a("label", { class: t5(i2._, i2.label), htmlFor: "input", part: Z$(this, N$, "f").label }, this.lfLabel);
    })), U$.set(this, (() => {
      const { bemClass: t5 } = Z$(this, z$, "f").theme, { textfield: i2 } = Z$(this, S$, "f");
      return !Z$(this, D$, "f") && D$a("span", { class: t5(i2._, i2.rippleSurface), "data-cy": Z$(this, C$, "f").rippleSurface, "data-lf": Z$(this, A$, "f").rippleSurface });
    })), $$.set(this, (() => {
      const { sanitizeProps: t5, theme: i2 } = Z$(this, z$, "f"), { bemClass: n2 } = i2, { textfield: e2 } = Z$(this, S$, "f"), { displayBorderOnError: o2, displayErrorAsTitle: a2, onBlur: s2, onInput: l2 } = this.lfFormatJSON || {}, u2 = Boolean(Z$(this, L$, "f")), f2 = null !== this.lfFormatJSON;
      return D$a("span", { class: n2(e2._, e2.resizer) }, D$a("textarea", { ...t5(this.lfHtmlAttributes), class: n2(e2._, e2.input, { error: f2 && u2 && o2 }), "data-cy": Z$(this, C$, "f").input, id: "input", onBlur: (t6) => {
        this.onLfEvent(t6, "blur");
      }, onChange: (t6) => {
        Z$(this, B$, "f").call(this, t6.currentTarget.value), f2 && s2 && this.formatJSON();
      }, onClick: (t6) => {
        this.onLfEvent(t6, "click");
      }, onFocus: (t6) => {
        this.onLfEvent(t6, "focus");
      }, onInput: (t6) => {
        if (this.onLfEvent(t6, "input"), f2 && "number" == typeof l2) {
          clearTimeout(Z$(this, I$, "f"));
          const i3 = Math.max(0, Math.floor(l2));
          q$(this, I$, setTimeout((() => {
            this.value = t6.currentTarget.value, this.formatJSON();
          }), i3));
        }
      }, part: Z$(this, N$, "f").input, placeholder: Z$(this, R$, "f").call(this) && this.lfLabel || "", ref: (t6) => {
        t6 && q$(this, E$, t6);
      }, title: f2 && u2 && a2 ? Z$(this, L$, "f") : "", value: this.value }));
    })), G$.set(this, (() => {
      [{ condition: () => Boolean(this.value), status: "filled" }, { condition: () => Z$(this, F$, "f").call(this), status: "disabled" }, { condition: () => Boolean(this.lfStretchX), status: "full-width" }, { condition: () => Boolean(this.lfIcon), status: "has-icon" }, { condition: () => Boolean(this.lfLabel), status: "has-label" }].forEach((({ condition: t5, status: i2 }) => {
        t5() ? this.status.add(i2) : this.status.delete(i2);
      }));
    }));
  }
  onLfEvent(t5, i2, n2 = false) {
    const r2 = t5.target, e2 = r2 == null ? void 0 : r2.value;
    switch (i2) {
      case "blur":
        this.status.delete("focused"), this.status = new Set(this.status);
        break;
      case "focus":
        this.status.add("focused"), this.status = new Set(this.status);
    }
    this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5, inputValue: e2, target: Z$(this, n2 ? W$ : E$, "f"), value: this.value });
  }
  async formatJSON() {
    var _a2;
    try {
      const t5 = ((_a2 = this.lfFormatJSON) == null ? void 0 : _a2.indentSpaces) || 2, i2 = (this.value ?? "").trim(), r2 = JSON.parse(i2);
      this.value = JSON.stringify(r2, null, t5), q$(this, L$, "", "f"), pt(this);
    } catch (t5) {
      return q$(this, L$, (t5 == null ? void 0 : t5.message) || "Invalid JSON format"), void pt(this);
    }
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getElement() {
    return Z$(this, E$, "f");
  }
  async getProps() {
    const t5 = LF_TEXTFIELD_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async getValue() {
    return this.value;
  }
  async refresh() {
    pt(this);
  }
  async setBlur() {
    Z$(this, E$, "f").blur();
  }
  async setFocus() {
    Z$(this, E$, "f").focus();
  }
  async setValue(t5) {
    Z$(this, B$, "f").call(this, t5);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    Z$(this, z$, "f") && Z$(this, z$, "f").theme.register(this);
  }
  async componentWillLoad() {
    q$(this, z$, await a(this)), this.lfValue && (this.status.add("filled"), this.value = this.lfValue, this.lfFormatJSON && await this.formatJSON());
  }
  componentDidLoad() {
    const { info: t5 } = Z$(this, z$, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    var _a2;
    const { info: t5 } = Z$(this, z$, "f").debug;
    t5.update(this, "will-render"), q$(this, D$, Z$(this, R$, "f").call(this)), q$(this, O$, (_a2 = this.lfHtmlAttributes) == null ? void 0 : _a2.maxLength), Z$(this, G$, "f").call(this);
  }
  componentDidRender() {
    const { info: t5 } = Z$(this, z$, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { bemClass: t5, setLfStyle: i2 } = Z$(this, z$, "f").theme, { lfStyle: n2, lfStyling: o2, status: a2 } = this, s2 = "textarea" === o2, l2 = { [o2]: true };
    return a2.forEach(((t6) => {
      l2[t6] = true;
    })), D$a(W$e, { key: "9c9e7d8d87bf3bb59e50da6d6014abe82c105f4c" }, n2 && D$a("style", { key: "3e50967d7e9e7a99c0d6c4e55d2177ce3e3dd0b1", id: Z$(this, _$, "f") }, i2(this)), D$a("div", { key: "d795451f48c73a8abcc4dd1c75af5d04d4d0ae9f", id: Z$(this, T$, "f") }, D$a("div", { key: "c0bda67659b916660dd234ff46d7ea1c84660491", class: t5(Z$(this, S$, "f").textfield._, null, l2), "data-lf": Z$(this, A$, "f")[this.lfUiState], part: Z$(this, N$, "f").textfield }, s2 ? [Z$(this, V$, "f").call(this), Z$(this, H$, "f").call(this), Z$(this, $$, "f").call(this)] : [Z$(this, H$, "f").call(this), Z$(this, Y$, "f").call(this), Z$(this, X$, "f").call(this), Z$(this, U$, "f").call(this)]), Z$(this, j$, "f").call(this)));
  }
  disconnectedCallback() {
    var _a2;
    try {
      clearTimeout(Z$(this, I$, "f"));
    } catch (t5) {
    }
    (_a2 = Z$(this, z$, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
z$ = /* @__PURE__ */ new WeakMap(), S$ = /* @__PURE__ */ new WeakMap(), C$ = /* @__PURE__ */ new WeakMap(), A$ = /* @__PURE__ */ new WeakMap(), N$ = /* @__PURE__ */ new WeakMap(), _$ = /* @__PURE__ */ new WeakMap(), T$ = /* @__PURE__ */ new WeakMap(), I$ = /* @__PURE__ */ new WeakMap(), L$ = /* @__PURE__ */ new WeakMap(), D$ = /* @__PURE__ */ new WeakMap(), W$ = /* @__PURE__ */ new WeakMap(), E$ = /* @__PURE__ */ new WeakMap(), O$ = /* @__PURE__ */ new WeakMap(), F$ = /* @__PURE__ */ new WeakMap(), R$ = /* @__PURE__ */ new WeakMap(), P$ = /* @__PURE__ */ new WeakMap(), B$ = /* @__PURE__ */ new WeakMap(), V$ = /* @__PURE__ */ new WeakMap(), j$ = /* @__PURE__ */ new WeakMap(), H$ = /* @__PURE__ */ new WeakMap(), Y$ = /* @__PURE__ */ new WeakMap(), X$ = /* @__PURE__ */ new WeakMap(), U$ = /* @__PURE__ */ new WeakMap(), $$ = /* @__PURE__ */ new WeakMap(), G$ = /* @__PURE__ */ new WeakMap(), J$.style = '::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=danger]{--lf-textfield-color-primary:var(\n    --lf-textfield-color-danger,\n    var(--lf-color-danger)\n  );--lf-textfield-color-on-primary:var(\n    --lf-textfield-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-textfield-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-textfield-color-primary:var(\n    --lf-textfield-color-info,\n    var(--lf-color-info)\n  );--lf-textfield-color-on-primary:var(\n    --lf-textfield-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-textfield-color-primary:var(\n    --lf-textfield-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-textfield-color-on-primary:var(\n    --lf-textfield-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-textfield-color-primary:var(\n    --lf-textfield-color-success,\n    var(--lf-color-success)\n  );--lf-textfield-color-on-primary:var(\n    --lf-textfield-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-textfield-color-primary:var(\n    --lf-textfield-color-warning,\n    var(--lf-color-warning)\n  );--lf-textfield-color-on-primary:var(\n    --lf-textfield-color-warning,\n    var(--lf-color-on-warning)\n  )}:host{display:block;font-family:var(--lf-textfield-font-family, var(--lf-font-family-primary));font-size:var(--lf-textfield-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-textfield-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-textfield-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-textfield-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-textfield-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-textfield-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-textfield-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-textfield-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%}:host([lf-stretch-y]),:host([lf-stretch-y]) #lf-component,:host([lf-stretch-y]) .textfield{height:100%}:host([lf-trailing-icon]) #lf-component .textfield{flex-direction:row-reverse}:host([lf-trailing-icon]) #lf-component .textfield__icon{padding-left:0.5em}:host([lf-trailing-icon]) #lf-component .textfield__label{left:1em}.textfield{border:0;border-style:solid;border-radius:var(--lf-textfield-border-radius, var(--lf-ui-border-radius));transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);align-items:baseline;box-sizing:border-box;display:inline-flex;height:var(--lf-textfield-height, 3.5em);padding:var(--lf-textfield-padding, 0 1em);position:relative;width:100%}.textfield--has-icon .textfield__label{left:1.25em}.textfield--filled .textfield__icon,.textfield--focused .textfield__icon{background-color:rgba(var(--lf-textfield-color-primary, var(--lf-color-primary)), 1)}.textfield--filled .textfield__label,.textfield--focused .textfield__label{color:rgb(var(--lf-textfield-color-primary, var(--lf-color-primary)))}.textfield--filled .textfield__ripple-surface:after,.textfield--focused .textfield__ripple-surface:after{width:100%}.textfield--flat.textfield--filled .textfield__label,.textfield--flat.textfield--focused .textfield__label,.textfield--raised.textfield--filled .textfield__label,.textfield--raised.textfield--focused .textfield__label{transform:translateY(-130%) scale(0.75)}.textfield--flat.textfield--has-icon .textfield__label,.textfield--raised.textfield--has-icon .textfield__label{left:3.5em}.textfield--flat .textfield__label,.textfield--raised .textfield__label{left:1.25em;right:initial}.textfield--raised{background-color:rgba(var(--lf-textfield-color-surface, var(--lf-color-surface)), 0.125);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.textfield--raised:hover{background-color:rgba(var(--lf-textfield-color-surface, var(--lf-color-surface)), 0.275);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.textfield--raised.textfield--focused{background-color:rgba(var(--lf-textfield-color-surface, var(--lf-color-surface)), 0.525);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.textfield--outlined,.textfield--textarea{border:0;border-style:solid;border-color:rgba(var(--lf-textfield-border-color, var(--lf-color-border)), 1);border-width:1px;padding-top:0}.textfield--outlined:hover,.textfield--textarea:hover{background-color:rgba(var(--lf-textfield-color-surface, var(--lf-color-surface)), 0.075);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border-color:rgba(var(--lf-textfield-color-primary, var(--lf-color-primary)), 0.775)}.textfield--outlined.textfield--focused,.textfield--textarea.textfield--focused{border-color:rgb(var(--lf-textfield-color-primary, var(--lf-color-primary)));box-shadow:inset 0 0 0 0.15em rgb(var(--lf-textfield-color-primary, var(--lf-color-primary)))}.textfield--outlined.textfield--filled,.textfield--textarea.textfield--filled{background-color:rgba(var(--lf-textfield-color-surface, var(--lf-color-surface)), 0.175);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px)}.textfield--textarea{align-items:center;flex-direction:column;height:auto;overflow:visible;padding:0;transition:none}.textfield--textarea .textfield__input{box-shadow:inset 0px 0px 0px 0px rgba(var(--lf-color-border), 0);box-sizing:border-box;flex-grow:1;height:auto;overflow-x:hidden;overflow-y:auto;padding:1em;resize:none;transition:box-shadow 0.2s ease-in-out}.textfield--textarea .textfield__input--error{box-shadow:inset 0px 0px 4px 1px rgba(var(--lf-color-danger), 0.775)}.textfield--textarea .textfield__label{left:0.25em;position:relative;top:2.75em}.textfield__input,.textfield__label{box-sizing:border-box}.textfield__icon{background-color:rgba(var(--lf-textfield-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden;transition:all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);align-self:center;cursor:pointer;outline:none;padding-right:0.75em}.textfield__icon:hover{opacity:0.75}.textfield__icon:focus{box-shadow:0 0 0 0.15em rgb(var(--lf-textfield-color-primary, var(--lf-color-primary)))}.textfield__input{color:rgb(var(--lf-textfield-color-on-bg, var(--lf-color-on-bg)));font-family:var(--lf-textfield-font-family, var(--lf-font-family-primary));width:100%;height:100%;font-size:1em;font-weight:400;line-height:1.5em;letter-spacing:0em;transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);appearance:none;-webkit-appearance:none;background:none;border:none;border-radius:0;box-sizing:border-box;caret-color:rgba(var(--lf-textfield-color-primary, var(--lf-color-primary)), 0.75);-webkit-font-smoothing:antialiased;margin:0;min-width:0;outline:none;padding:0;text-decoration:inherit;text-transform:inherit}.textfield__input:placeholder{color:rgb(var(--lf-textfield-color-on-bg, var(--lf-color-on-bg)))}.textfield__label{color:rgb(var(--lf-textfield-color-on-bg, var(--lf-color-on-bg)));overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.875em;font-weight:500;line-height:1.5em;letter-spacing:0.01em;transition:all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);cursor:text;left:0.25em;overflow:hidden;pointer-events:none;position:absolute;right:initial;text-align:left;top:50%;transform:translateY(-50%);transform-origin:left top}.textfield__ripple-surface{max-width:100%;overflow:hidden}.textfield__ripple-surface:before,.textfield__ripple-surface:after{border-radius:2px;bottom:0;content:"";height:2px;left:0;position:absolute}.textfield__ripple-surface:before{background-color:rgba(var(--lf-textfield-color-on-bg, var(--lf-color-on-bg)), 0.225);width:100%}.textfield__ripple-surface:after{background-color:rgba(var(--lf-textfield-color-primary, var(--lf-color-primary)), 0.775);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1);width:0}.textfield__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:var(--lf-textfield-height, 3em);min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both;transform:translateX(-1px) translateY(-1px)}.textfield__helper-text{color:rgb(var(--lf-textfield-color-primary, var(--lf-color-primary)));font-size:0.875em;font-weight:500;line-height:1.375em;letter-spacing:0.01em;transition:all 200ms cubic-bezier(0.4, 0, 0.6, 1);line-height:normal;margin:0;opacity:0;text-decoration:inherit;text-transform:inherit;will-change:opacity}.textfield__helper-text--active{opacity:1;transition:none;will-change:initial}.textfield__helper-line{border-top:1px solid rgba(var(--lf-color-border), 0.775);box-sizing:border-box;display:flex;justify-content:space-between;padding-right:1em;padding-left:1em}';
var K$, Q$, tG, iG, nG, rG, eG, oG, aG, sG, lG, uG, fG = function(t5, i2, n2, r2) {
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, cG = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const hG = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-toggle-event"), this.value = "off", this.lfAriaLabel = "", this.lfLabel = "", this.lfLeadingLabel = false, this.lfRipple = true, this.lfStyle = "", this.lfUiSize = "medium", this.lfUiState = "primary", this.lfValue = false, K$.set(this, void 0), Q$.set(this, LF_TOGGLE_BLOCKS), tG.set(this, CY_ATTRIBUTES), iG.set(this, LF_ATTRIBUTES), nG.set(this, LF_TOGGLE_PARTS), rG.set(this, LF_STYLE_ID), eG.set(this, LF_WRAPPER_ID), oG.set(this, void 0), aG.set(this, (() => "disabled" === this.lfUiState)), sG.set(this, (() => "on" === this.value)), lG.set(this, ((t5) => "off" === t5 || "on" === t5)), uG.set(this, ((t5, i2 = new CustomEvent("change")) => {
      "boolean" == typeof t5 && (t5 = t5 ? "on" : "off"), !fG(this, aG, "f").call(this) && fG(this, lG, "f").call(this, t5) && (this.value = t5, this.onLfEvent(i2, "change"));
    }));
  }
  onLfEvent(t5, i2) {
    const { effects: n2 } = fG(this, K$, "f"), { lfRipple: r2, value: e2 } = this;
    "pointerdown" === i2 && r2 && n2.ripple(t5, fG(this, oG, "f")), this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5, value: e2, valueAsBoolean: "on" === e2 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_TOGGLE_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async getValue() {
    return this.value;
  }
  async refresh() {
    pt(this);
  }
  async setValue(t5) {
    fG(this, uG, "f").call(this, t5);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    fG(this, K$, "f") && fG(this, K$, "f").theme.register(this);
  }
  async componentWillLoad() {
    cG(this, K$, await a(this)), this.lfValue && (this.value = "on");
  }
  componentDidLoad() {
    const { debug: t5 } = fG(this, K$, "f");
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.info.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = fG(this, K$, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = fG(this, K$, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { bemClass: t5, setLfStyle: i2 } = fG(this, K$, "f").theme, { formField: n2, toggle: o2 } = fG(this, Q$, "f"), { lfAriaLabel: a2, lfLabel: s2, lfLeadingLabel: l2, lfRipple: u2, lfStyle: f2, value: c2 } = this, h2 = (a2 || s2 || this.rootElement.id || "toggle").trim();
    return D$a(W$e, { key: "c2c3993d6774b72883b1ab90c3bef545e0c0bde1" }, f2 && D$a("style", { key: "e8f6acb3b96a9a7cc5207a79caa402dd105e92b6", id: fG(this, rG, "f") }, i2(this)), D$a("div", { key: "a71a4da29faa1ea252ff029d9178e8d96f1a26f7", id: fG(this, eG, "f") }, D$a("div", { key: "be6fc0ca5ff050719184d2c9f9ec7e1ace1f3695", class: t5(n2._, null, { leading: l2 }) }, D$a("div", { key: "111780a1f96cd3c473a972c53a78d2cb3de0fc12", class: t5(o2._, null, { active: fG(this, sG, "f").call(this) }), "data-lf": fG(this, iG, "f")[this.lfUiState], part: fG(this, nG, "f").toggle }, D$a("div", { key: "f04115e45fa4c213b5d03939a99b5a974dff0565", class: t5(o2._, o2.track), part: fG(this, nG, "f").track }), D$a("div", { key: "f0b97b3397b02d993e64ba05dc992fbf5f294bd0", class: t5(o2._, o2.thumbUnderlay) }, D$a("div", { key: "48f28483fd5b5d2f0bd9279dd20f91b661a428c5", class: t5(o2._, o2.thumb) }, D$a("div", { key: "d8d28b5800aaab9c50222f4352d89fc412b74af9", "data-cy": fG(this, tG, "f").rippleSurface, "data-lf": fG(this, iG, "f").rippleSurface, ref: (t6) => {
      t6 && u2 && cG(this, oG, t6);
    } })), D$a("input", { key: "272e2ea5f2e01dfd779e0647e3c8623ad2be6726", class: t5(o2._, o2.nativeControl), checked: fG(this, sG, "f").call(this), "data-cy": fG(this, tG, "f").input, disabled: fG(this, aG, "f").call(this), "aria-label": h2, onBlur: (t6) => {
      this.onLfEvent(t6, "blur");
    }, onChange: (t6) => {
      fG(this, uG, "f").call(this, fG(this, sG, "f").call(this) ? "off" : "on", t6);
    }, onFocus: (t6) => {
      this.onLfEvent(t6, "focus");
    }, onPointerDown: (t6) => {
      this.onLfEvent(t6, "pointerdown");
    }, part: fG(this, nG, "f").nativeControl, role: "toggle", type: "checkbox", value: c2 ? "on" : "off" }))), D$a("label", { key: "307d3b588a431ef1f097c96a3d2c3438a7dbaabf", class: t5(n2._, n2.label), onClick: (t6) => {
      this.onLfEvent(t6, "change");
    }, part: fG(this, nG, "f").label }, s2))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = fG(this, K$, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
K$ = /* @__PURE__ */ new WeakMap(), Q$ = /* @__PURE__ */ new WeakMap(), tG = /* @__PURE__ */ new WeakMap(), iG = /* @__PURE__ */ new WeakMap(), nG = /* @__PURE__ */ new WeakMap(), rG = /* @__PURE__ */ new WeakMap(), eG = /* @__PURE__ */ new WeakMap(), oG = /* @__PURE__ */ new WeakMap(), aG = /* @__PURE__ */ new WeakMap(), sG = /* @__PURE__ */ new WeakMap(), lG = /* @__PURE__ */ new WeakMap(), uG = /* @__PURE__ */ new WeakMap(), hG.style = '::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=danger]{--lf-toggle-color-primary:var(\n    --lf-toggle-color-danger,\n    var(--lf-color-danger)\n  );--lf-toggle-color-on-primary:var(\n    --lf-toggle-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-toggle-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-toggle-color-primary:var(\n    --lf-toggle-color-info,\n    var(--lf-color-info)\n  );--lf-toggle-color-on-primary:var(\n    --lf-toggle-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-toggle-color-primary:var(\n    --lf-toggle-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-toggle-color-on-primary:var(\n    --lf-toggle-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-toggle-color-primary:var(\n    --lf-toggle-color-success,\n    var(--lf-color-success)\n  );--lf-toggle-color-on-primary:var(\n    --lf-toggle-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-toggle-color-primary:var(\n    --lf-toggle-color-warning,\n    var(--lf-color-warning)\n  );--lf-toggle-color-on-primary:var(\n    --lf-toggle-color-warning,\n    var(--lf-color-on-warning)\n  )}:host{display:block;font-family:var(--lf-toggle-font-family, var(--lf-font-family-primary));font-size:var(--lf-toggle-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-toggle-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-toggle-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-toggle-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-toggle-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-toggle-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-toggle-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-toggle-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}.form-field{color:rgb(var(--lf-toggle-color-on-bg, var(--lf-color-on-bg)));width:100%;height:100%;font-size:0.875em;font-weight:500;line-height:1.5em;letter-spacing:0.01em;align-items:center;box-sizing:border-box;display:inline-flex;justify-content:center;padding:var(--lf-toggle-form-padding, 0.5em);vertical-align:middle}.form-field__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:var(--lf-toggle-label-min-width, max-content);padding-left:var(--lf-toggle-label-padding-left, 1em)}.form-field--leading .form-field__label{margin-right:0;order:-1;padding-left:0;padding-right:var(--lf-toggle-label-padding-right, 1em)}.toggle{align-items:center;display:inline-flex;margin:var(--lf-toggle-margin, 1em 0.5em);min-width:var(--lf-toggle-min-width, 4em);outline:none;position:relative;user-select:none}.toggle:hover:before{background-color:rgba(var(--lf-toggle-color-on-surface, var(--lf-color-on-surface)), 0.125);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);transition:all 200ms cubic-bezier(0.4, 0, 0.6, 1);border-radius:50%;content:"";height:2.5em;left:calc(50% - 0.5em);padding:0.5em;position:absolute;top:50%;transform:translate(-50%, -50%);width:2.5em}.toggle--active .toggle__track{background-color:rgba(var(--lf-toggle-color-primary, var(--lf-color-primary)), 0.675);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.toggle--active .toggle__thumb{transform:translateX(100%) translateY(-50%);background-color:rgba(var(--lf-toggle-color-primary, var(--lf-color-primary)), 0.775);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.toggle__track{border:0;border-style:solid;border-radius:var(--lf-toggle-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-toggle-color-on-surface, var(--lf-color-on-surface)), 0.275);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 300ms cubic-bezier(0.5, 1.7, 0.2, 1);border-radius:var(--lf-ui-border-radius, 1em);box-sizing:border-box;height:var(--lf-toggle-track-height, 0.5em);position:relative;width:var(--lf-toggle-track-width, 3em)}.toggle__thumb{background-color:rgba(var(--lf-toggle-color-on-surface, var(--lf-color-on-surface)), 0.375);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);transition:all 300ms cubic-bezier(0.5, 1.7, 0.2, 1);border-radius:50%;cursor:pointer;height:var(--lf-toggle-thumb-size, 1.5em);left:0;overflow:hidden;position:absolute;top:50%;transform:translateY(-50%);width:var(--lf-toggle-thumb-size, 1.5em)}.toggle__thumb:hover{background-color:rgba(var(--lf-toggle-color-surface, var(--lf-color-surface)), 0.8);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.toggle__native-control{cursor:pointer;height:var(--lf-toggle-input-height, 3em);left:-0.5em;opacity:0;position:absolute;top:-1.25em;width:4em;z-index:1}';
var vG, dG, pG, mG, bG, gG, yG, wG, xG, kG, MG, zG, SG, CG, AG = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, NG = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const _G = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-typewriter-event"), vG.add(this), this.displayedText = "", this.isDeleting = false, this.currentTextIndex = 0, this.lfCursor = "auto", this.lfDeleteSpeed = 50, this.lfLoop = false, this.lfPause = 500, this.lfSpeed = 50, this.lfStyle = "", this.lfTag = "p", this.lfUiSize = "medium", this.lfUpdatable = true, this.lfValue = "", dG.set(this, void 0), pG.set(this, LF_TYPEWRITER_BLOCKS), mG.set(this, LF_TYPEWRITER_PARTS), bG.set(this, LF_STYLE_ID), gG.set(this, LF_WRAPPER_ID), yG.set(this, void 0), wG.set(this, []);
  }
  onLfEvent(t5, i2) {
    this.lfEvent.emit({ comp: this, id: this.rootElement.id, originalEvent: t5, eventType: i2 });
  }
  handleLfValueChange() {
    AG(this, dG, "f") && this.lfUpdatable && (AG(this, vG, "m", xG).call(this), AG(this, vG, "m", MG).call(this));
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_TYPEWRITER_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    AG(this, dG, "f") && AG(this, dG, "f").theme.register(this);
  }
  async componentWillLoad() {
    NG(this, dG, await a(this)), AG(this, vG, "m", xG).call(this);
  }
  componentDidLoad() {
    const { info: t5 } = AG(this, dG, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), requestAnimationFrame((async () => AG(this, vG, "m", kG).call(this))), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = AG(this, dG, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = AG(this, dG, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { theme: t5 } = AG(this, dG, "f"), { lfStyle: i2 } = this;
    return D$a(W$e, { key: "740b94d1d18a93390519ab1b53603e9dc41313b2" }, i2 && D$a("style", { key: "100aa1b3a02e91b65480b58e39311ceb77c4d004", id: AG(this, bG, "f") }, t5.setLfStyle(this)), D$a("div", { key: "dc2df62cf20d91fd1a8857077f005efb260f0a6f", id: AG(this, gG, "f") }, AG(this, vG, "m", CG).call(this)));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = AG(this, dG, "f")) == null ? void 0 : _a2.theme.unregister(this), clearTimeout(AG(this, yG, "f"));
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfValue: ["handleLfValueChange"] };
  }
};
dG = /* @__PURE__ */ new WeakMap(), pG = /* @__PURE__ */ new WeakMap(), mG = /* @__PURE__ */ new WeakMap(), bG = /* @__PURE__ */ new WeakMap(), gG = /* @__PURE__ */ new WeakMap(), yG = /* @__PURE__ */ new WeakMap(), wG = /* @__PURE__ */ new WeakMap(), vG = /* @__PURE__ */ new WeakSet(), xG = function() {
  const { lfValue: t5 } = this;
  NG(this, wG, Array.isArray(t5) ? t5 : [t5]);
}, kG = function t3() {
  const i2 = AG(this, wG, "f")[this.currentTextIndex] || "";
  this.displayedText = i2.substring(0, this.isDeleting ? this.displayedText.length - 1 : this.displayedText.length + 1), this.isDeleting || this.displayedText !== i2 ? this.isDeleting && "" === this.displayedText ? (this.isDeleting = false, this.currentTextIndex = (this.currentTextIndex + 1) % AG(this, wG, "f").length) : NG(this, yG, setTimeout((() => AG(this, vG, "m", t3).call(this)), this.isDeleting ? this.lfDeleteSpeed : this.lfSpeed)) : NG(this, yG, setTimeout((() => {
    this.lfLoop && (this.isDeleting = true);
  }), this.lfPause));
}, MG = function() {
  clearTimeout(AG(this, yG, "f")), this.displayedText ? (this.isDeleting = true, AG(this, vG, "m", zG).call(this, (() => {
    AG(this, vG, "m", SG).call(this);
  }))) : AG(this, vG, "m", SG).call(this);
}, zG = function t4(i2) {
  this.displayedText.length > 0 ? (this.displayedText = this.displayedText.slice(0, -1), NG(this, yG, setTimeout((() => {
    AG(this, vG, "m", t4).call(this, i2);
  }), this.lfDeleteSpeed))) : i2();
}, SG = function() {
  this.isDeleting = false, this.currentTextIndex = 0, AG(this, vG, "m", kG).call(this);
}, CG = function() {
  const { bemClass: t5 } = AG(this, dG, "f").theme, { typewriter: i2 } = AG(this, pG, "f"), { currentTextIndex: n2, displayedText: e2, isDeleting: o2, lfCursor: a2, lfTag: s2 } = this, l2 = "enabled" === a2 || "auto" === a2 && !o2 && e2 !== AG(this, wG, "f")[n2], u2 = s2 || "div";
  return D$a("div", { class: t5(i2._), part: AG(this, mG, "f").typewriter }, D$a(u2, { class: t5(i2._, i2.text), part: AG(this, mG, "f").text }, D$a("span", null, e2 || ""), l2 && D$a("span", { class: t5(i2._, i2.cursor), part: AG(this, mG, "f").cursor })));
}, _G.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}:host{display:block;font-family:var(--lf-typewriter-font-family, var(--lf-font-family-primary));font-size:var(--lf-typewriter-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-typewriter-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-typewriter-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-typewriter-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-typewriter-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-typewriter-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-typewriter-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-typewriter-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}.typewriter{background-color:rgba(var(--lf-typewriter-color-bg, var(--lf-color-bg)), 0.125);color:rgb(var(--lf-typewriter-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%;box-sizing:border-box;padding:var(--lf-typewriter-padding, 1em)}.typewriter__text{width:100%;height:100%;display:inline-block;margin:var(--lf-typewriter-margin, 0)}.typewriter__cursor{background-color:rgba(var(--lf-typewriter-color-on-bg, var(--lf-color-on-bg)), 0.575);color:rgb(var(--lf-typewriter-color-bg, var(--lf-color-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);animation:blink var(--lf-typewriter-cursor-height, 800ms) infinite;display:inline-block;height:var(--lf-typewriter-cursor-height, 1.25em);margin-left:var(--lf-typewriter-cursor-margin-left, 0.15em);vertical-align:var(--lf-typewriter-cursor-vertical-align, top);width:var(--lf-typewriter-cursor-width, 0.125em)}@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}";
var TG, IG, LG, DG, WG, EG, OG, FG, RG, PG, BG, VG, jG, HG, YG = function(t5, i2, n2, r2) {
  if ("a" === n2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof i2 ? t5 !== i2 || !r2 : !i2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === n2 ? r2 : "a" === n2 ? r2.call(t5) : r2 ? r2.value : i2.get(t5);
}, XG = function(t5, i2, n2, r2, e2) {
  if ("function" == typeof i2 ? t5 !== i2 || true : !i2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return i2.set(t5, n2), n2;
};
const UG = class {
  constructor(n$1) {
    n(this, n$1), this.lfEvent = V$4(this, "lf-upload-event"), TG.add(this), this.selectedFiles = [], this.lfLabel = "Upload files...", this.lfRipple = true, this.lfStyle = "", this.lfValue = null, IG.set(this, void 0), LG.set(this, LF_UPLOAD_BLOCKS), DG.set(this, CY_ATTRIBUTES), WG.set(this, LF_ATTRIBUTES), EG.set(this, LF_UPLOAD_PARTS), OG.set(this, LF_STYLE_ID), FG.set(this, LF_WRAPPER_ID), RG.set(this, void 0), PG.set(this, void 0), HG.set(this, ((t5, i2 = false) => {
      const { assets: n2, theme: e2 } = YG(this, IG, "f"), { get: o2 } = n2, { bemClass: a2 } = e2, { file: s2, movie: l2, music: u2, pdf: f2, photo: c2, zip: h2 } = YG(this, IG, "f").theme.get.icons(), { "--lf-icon-clear": v2 } = YG(this, IG, "f").theme.get.current().variables, { fileInfo: d2 } = YG(this, LG, "f"), p2 = t5.type.includes("image") || t5.type.includes("jpg") || t5.type.includes("png") || t5.type.includes("jpeg") || t5.type.includes("gif"), m2 = t5.type.includes("audio") || t5.type.includes("mp3") || t5.type.includes("wav") || t5.type.includes("ogg"), b2 = t5.type.includes("video") || t5.type.includes("mp4") || t5.type.includes("avi") || t5.type.includes("mov"), g3 = t5.type.includes("7z") || t5.type.includes("zip") || t5.type.includes("application/zip") || t5.type.includes("application/x-zip-compressed"), y2 = t5.type.includes("pdf"), w3 = i2 ? v2 : p2 ? c2 : m2 ? u2 : b2 ? l2 : y2 ? f2 : g3 ? h2 : s2, { style: x2 } = o2(`./assets/svg/${w3}.svg`);
      return D$a("div", { class: a2(d2._, d2.icon, { "has-actions": i2 }), "data-cy": YG(this, DG, "f").maskedSvg, onClick: i2 ? (i3) => this.onLfEvent(i3, "delete", t5) : null, part: YG(this, EG, "f").icon, style: x2, tabIndex: i2 && 0, title: i2 ? "Remove file" : t5.type });
    }));
  }
  onLfEvent(t5, i2, n2) {
    const { effects: r2 } = YG(this, IG, "f");
    switch (i2) {
      case "delete":
        this.selectedFiles = this.selectedFiles.filter(((t6) => t6 !== n2));
        break;
      case "pointerdown":
        this.lfRipple && r2.ripple(t5, YG(this, RG, "f"));
    }
    this.lfEvent.emit({ comp: this, eventType: i2, id: this.rootElement.id, originalEvent: t5, selectedFiles: this.selectedFiles });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_UPLOAD_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async getValue() {
    return this.selectedFiles;
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    YG(this, IG, "f") && YG(this, IG, "f").theme.register(this);
  }
  async componentWillLoad() {
    XG(this, IG, await a(this)), Array.isArray(this.lfValue) && (this.selectedFiles = this.lfValue);
  }
  componentDidLoad() {
    const { debug: t5 } = YG(this, IG, "f");
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.info.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = YG(this, IG, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = YG(this, IG, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { sanitizeProps: t5, theme: i2 } = YG(this, IG, "f"), { bemClass: n2, setLfStyle: o2 } = i2, { fileInfo: a2, fileUpload: s2, upload: l2 } = YG(this, LG, "f"), { lfLabel: u2, lfRipple: f2, lfStyle: c2, selectedFiles: h2 } = this, v2 = !!(h2 == null ? void 0 : h2.length);
    return D$a(W$e, { key: "69cd616922a33bad6c455450fe66bf0530b8c543" }, c2 && D$a("style", { key: "ae1ba8dadac043d3042993e1b2f468e602b62881", id: YG(this, OG, "f") }, o2(this)), D$a("div", { key: "2f48839e0a3f8f8b8fc75b3315904fd6f81184fb", id: YG(this, FG, "f") }, D$a("div", { key: "dd011c3d13f8dcd3a106b6b3cc6e3e24a7e70c55", class: n2(l2._, null, { "has-description": Boolean(h2 == null ? void 0 : h2.length) }) }, D$a("div", { key: "b928a61ad5d594a9897988807b54225134797b7a", class: n2(s2._), onPointerDown: (t6) => this.onLfEvent(t6, "pointerdown") }, D$a("input", { key: "2f907da11aa514bff439e91b638941e2a815a015", ...t5(this.lfHtmlAttributes), class: n2(s2._, s2.input), "data-cy": YG(this, DG, "f").input, id: "upload-input", multiple: true, onChange: () => YG(this, TG, "m", VG).call(this), ref: (t6) => {
      t6 && XG(this, PG, t6);
    }, type: "file" }), D$a("label", { key: "e731760a793db8f0502f300ba78b23b314fec689", class: n2(s2._, s2.label), "data-cy": YG(this, DG, "f").rippleSurface, "data-lf": YG(this, WG, "f").rippleSurface, htmlFor: "upload-input", ref: (t6) => {
      f2 && XG(this, RG, t6);
    } }, D$a("div", { key: "b4bd72fce346f90b899db3c7dd412a6551c80323", class: n2(s2._, s2.text) }, u2))), D$a("div", { key: "9d497d030e94eebd955ea200d1bb62dd73cbc8c0", class: n2(a2._) }, v2 && YG(this, TG, "m", jG).call(this)))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = YG(this, IG, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
IG = /* @__PURE__ */ new WeakMap(), LG = /* @__PURE__ */ new WeakMap(), DG = /* @__PURE__ */ new WeakMap(), WG = /* @__PURE__ */ new WeakMap(), EG = /* @__PURE__ */ new WeakMap(), OG = /* @__PURE__ */ new WeakMap(), FG = /* @__PURE__ */ new WeakMap(), RG = /* @__PURE__ */ new WeakMap(), PG = /* @__PURE__ */ new WeakMap(), HG = /* @__PURE__ */ new WeakMap(), TG = /* @__PURE__ */ new WeakSet(), BG = function(t5) {
  const i2 = ["Bytes", "KB", "MB", "GB", "TB"];
  let n2 = 0;
  if (t5 > 1e4) t5 /= 1024, t5 /= 1024, n2 = 2;
  else for (; t5 >= 1024 && n2 < i2.length - 1; ) t5 /= 1024, n2++;
  return `${t5.toFixed(2)} ${i2[n2]}`;
}, VG = function() {
  this.selectedFiles = YG(this, PG, "f").files ? Array.from(YG(this, PG, "f").files) : [], this.onLfEvent(new CustomEvent("upload"), "upload");
}, jG = function() {
  const { bemClass: t5 } = YG(this, IG, "f").theme, { fileInfo: i2 } = YG(this, LG, "f");
  return this.selectedFiles.map(((n2, e2) => D$a("div", { class: t5(i2._, i2.item), "data-lf": YG(this, WG, "f").fadeIn, key: e2 }, YG(this, HG, "f").call(this, n2), D$a("span", { class: t5(i2._, i2.name), title: n2.name }, n2.name), D$a("span", { class: t5(i2._, i2.size), title: n2.size.toString() }, YG(this, TG, "m", BG).call(this, n2.size)), YG(this, HG, "f").call(this, n2, true))));
}, UG.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-upload-font-family, var(--lf-font-family-primary));font-size:var(--lf-upload-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}.upload{border:0;border-style:solid;border-color:rgba(var(--lf-upload-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-upload-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-upload-color-surface, var(--lf-color-surface)), 0.175);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%;box-sizing:border-box;display:grid;grid-template-rows:1fr;min-height:var(--lf-upload-min-height, 8em);padding:var(--lf-upload-padding, 1em)}.upload--has-description{grid-gap:var(--lf-upload-grid-gap, 1.25em);grid-template-rows:var(--lf-upload-button-height, 2.75em) var(--lf-upload-info-height, minmax(auto, 25vh))}.upload--has-description .file-info{padding:var(--lf-upload-item-padding, 0.75em)}.file-upload{border:0;border-style:solid;border-color:rgba(var(--lf-upload-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-upload-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-upload-color-surface, var(--lf-color-surface)), 0.175);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);display:flex}.file-upload__input{display:none}.file-upload__label{width:100%;height:100%;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;align-content:center;cursor:pointer;display:block;margin:auto;text-align:center}.file-upload:hover{box-shadow:0 5px 5px -3px rgba(var(--lf-color-on-bg), 0.25), 0 8px 10px 1px rgba(var(--lf-color-on-bg), 0.18), 0 3px 14px 2px rgba(var(--lf-color-on-bg), 0.15)}.file-info{transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);max-height:25dvh;overflow:auto}.file-info__icon{background-color:rgba(var(--lf-upload-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden}.file-info__icon--has-actions{transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer}.file-info__icon--has-actions:hover{opacity:0.75}.file-info__item{align-items:center;display:flex;justify-content:center}.file-info__name,.file-info__size{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.875em;font-weight:400;line-height:1.25em;letter-spacing:0.2em;flex-grow:1}.file-info__name{padding:0 0.5em;width:100%}.file-info__size{min-width:max-content;padding:0 0.5em}";
const p48b2a65e_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_badge: At,
  lf_button: Qt,
  lf_canvas: zi,
  lf_card: ji,
  lf_chart: dY,
  lf_chat: QY,
  lf_chip: AX,
  lf_code: XX,
  lf_image: hU,
  lf_list: IU,
  lf_photoframe: GU,
  lf_progressbar: f$,
  lf_spinner: M$,
  lf_textfield: J$,
  lf_toggle: hG,
  lf_typewriter: _G,
  lf_upload: UG
}, Symbol.toStringTag, { value: "Module" }));
const m$6 = { start: (t5) => {
  const { controller: e2 } = t5, { get: s2, set: i2 } = e2, { compInstance: r2 } = s2, { lfAutoPlay: a2, lfInterval: o2 } = r2;
  a2 && o2 > 0 && i2.interval(setInterval((() => {
    i2.index.next();
  }), o2));
}, stop: (t5) => {
  const { controller: e2 } = t5, { get: s2, set: i2 } = e2, { interval: r2 } = s2;
  r2() && (clearInterval(r2()), i2.interval(null));
} }, g$6 = (t5, e2) => {
  const { start: s2, stop: i2 } = m$6;
  return { ...t5, autoplay: { start: () => s2(e2()), stop: () => i2(e2()) } };
}, y$8 = (e2) => /* @__PURE__ */ ((e3) => ({ back: () => {
  const { controller: s2, elements: i2, handlers: r2 } = e3(), { blocks: a2, cyAttributes: o2, manager: n2, parts: c2 } = s2.get, { assignRef: f2, theme: h2 } = n2, { refs: u2 } = i2, { button: d2 } = r2, { "--lf-icon-previous": b2 } = h2.get.current().variables;
  return D$a("lf-button", { class: h2.bemClass(a2.carousel._, a2.carousel.back), "data-cy": o2.button, id: LF_CAROUSEL_IDS.back, lfIcon: b2, lfStyling: "icon", lfUiSize: "large", "onLf-button-event": d2, part: c2.back, ref: f2(u2, "back"), title: "Previous slide." });
}, forward: () => {
  const { controller: s2, elements: i2, handlers: r2 } = e3(), { blocks: a2, cyAttributes: o2, manager: n2, parts: c2 } = s2.get, { assignRef: f2, theme: h2 } = n2, { refs: u2 } = i2, { button: d2 } = r2, { "--lf-icon-next": b2 } = h2.get.current().variables;
  return D$a("lf-button", { class: h2.bemClass(a2.carousel._, a2.carousel.forward), "data-cy": o2.button, id: LF_CAROUSEL_IDS.forward, lfIcon: b2, lfStyling: "icon", lfUiSize: "large", "onLf-button-event": d2, part: c2.forward, ref: f2(u2, "forward"), title: "Next slide." });
} }))(e2), w$9 = (t5) => /* @__PURE__ */ ((t6) => ({ button: (e2) => {
  const { eventType: s2, id: i2 } = e2.detail, { next: r2, previous: a2 } = t6().controller.set.index;
  if ("click" === s2) switch (i2) {
    case LF_CAROUSEL_IDS.back:
      a2();
      break;
    case LF_CAROUSEL_IDS.forward:
      r2();
  }
} }))(t5);
var k$9, z$a, x$9, _$6, S$5, E$8, W$9, j$6, C$8, M$7, T$7, I$3, L$4, P$3, D$6, A$4, R$2, H$3 = function(t5, e2, s2, i2) {
  if ("a" === s2 && !i2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof e2 ? t5 !== e2 || !i2 : !e2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === s2 ? i2 : "a" === s2 ? i2.call(t5) : i2 ? i2.value : e2.get(t5);
}, B$3 = function(t5, e2, s2, i2, r2) {
  if ("function" == typeof e2 ? t5 !== e2 || true : !e2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return e2.set(t5, s2), s2;
};
const O$2 = class O {
  constructor(t5) {
    n(this, t5), this.lfEvent = V$4(this, "lf-carousel-event"), k$9.add(this), this.currentIndex = 0, this.shapes = {}, this.lfDataset = null, this.lfAutoPlay = false, this.lfInterval = 3e3, this.lfLightbox = false, this.lfNavigation = false, this.lfShape = "image", this.lfStyle = "", z$a.set(this, void 0), x$9.set(this, LF_CAROUSEL_BLOCKS), _$6.set(this, CY_ATTRIBUTES), S$5.set(this, LF_ATTRIBUTES), E$8.set(this, LF_CAROUSEL_PARTS), W$9.set(this, LF_STYLE_ID), j$6.set(this, LF_WRAPPER_ID), C$8.set(this, void 0), M$7.set(this, void 0), T$7.set(this, void 0), I$3.set(this, (() => {
      var t6;
      B$3(this, T$7, { controller: { get: { blocks: H$3(this, x$9, "f"), compInstance: this, cyAttributes: CY_ATTRIBUTES, index: { current: () => this.currentIndex }, interval: () => H$3(this, M$7, "f"), manager: H$3(this, z$a, "f"), parts: LF_CAROUSEL_PARTS, totalSlides: () => H$3(this, k$9, "m", L$4).call(this) }, set: g$6({ index: { current: (t7) => this.currentIndex = t7, next: () => {
        var t7, e2;
        this.currentIndex = (t7 = this.currentIndex, e2 = H$3(this, k$9, "m", L$4).call(this), (t7 + 1) % e2);
      }, previous: () => {
        var t7, e2;
        this.currentIndex = (t7 = this.currentIndex, e2 = H$3(this, k$9, "m", L$4).call(this), (t7 - 1 + e2) % e2);
      } }, interval: (t7) => B$3(this, M$7, t7, "f") }, t6 = () => H$3(this, T$7, "f")) }, elements: { jsx: y$8(t6), refs: { back: null, forward: null } }, handlers: w$9(t6) });
    }));
  }
  onLfEvent(t5, e2) {
    const { lightbox: s2 } = H$3(this, z$a, "f").effects;
    if ("lf-event" === e2 && this.lfLightbox) {
      const { comp: e3, eventType: i2 } = t5.detail;
      if ("click" === i2) {
        const { rootElement: t6 } = e3;
        t6 instanceof HTMLElement && s2.show(t6);
      }
    }
    this.lfEvent.emit({ comp: this, eventType: e2, id: this.rootElement.id, originalEvent: t5 });
  }
  async updateShapes() {
    if (!H$3(this, z$a, "f")) return;
    const { data: t5, debug: e2 } = H$3(this, z$a, "f");
    try {
      this.shapes = t5.cell.shapes.getAll(this.lfDataset);
    } catch (t6) {
      e2.logs.new(this, "Error updating shapes: " + t6, "error");
    }
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_CAROUSEL_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async goToSlide(t5) {
    const { current: e2 } = H$3(this, T$7, "f").controller.set.index;
    e2(t5);
  }
  async nextSlide() {
    const { next: t5 } = H$3(this, T$7, "f").controller.set.index;
    t5();
  }
  async prevSlide() {
    const { previous: t5 } = H$3(this, T$7, "f").controller.set.index;
    t5();
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    H$3(this, z$a, "f") && H$3(this, z$a, "f").theme.register(this);
  }
  async componentWillLoad() {
    B$3(this, z$a, await a(this)), H$3(this, I$3, "f").call(this), this.updateShapes(), this.lfAutoPlay && m$6.start(H$3(this, T$7, "f"));
  }
  componentDidLoad() {
    const { info: t5 } = H$3(this, z$a, "f").debug, { register: e2 } = H$3(this, z$a, "f").drag, { next: s2, previous: i2 } = H$3(this, T$7, "f").controller.set.index;
    e2.swipe(H$3(this, C$8, "f"), { onEnd: (t6, e3) => {
      var _a2;
      if ((_a2 = e3.swipeData) == null ? void 0 : _a2.direction) {
        const { direction: t7 } = e3.swipeData;
        "left" === t7 ? s2() : "right" === t7 && i2();
      }
    } }), this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = H$3(this, z$a, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = H$3(this, z$a, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { bemClass: e2, setLfStyle: s2 } = H$3(this, z$a, "f").theme, { lfStyle: i2 } = this, { carousel: a2 } = H$3(this, x$9, "f");
    return D$a(W$e, { key: "80540b7fb5566ef47c904a27811e0f15de3b4f3e" }, i2 && D$a("style", { key: "07913ca7e055a83fde61905b79e923092bdb3f9e", id: H$3(this, W$9, "f") }, s2(this)), D$a("div", { key: "901aef70c78f967fe0e8925f21146e3ff7453a69", id: H$3(this, j$6, "f") }, D$a("div", { key: "2ab6f3383322d90fcd4b4fb0cfe68999d24f3c87", class: e2(a2._), part: H$3(this, E$8, "f").carousel, ref: (t5) => {
      t5 && B$3(this, C$8, t5);
    }, role: "region" }, H$3(this, k$9, "m", D$6).call(this))));
  }
  disconnectedCallback() {
    var _a2, _b2;
    (_a2 = H$3(this, z$a, "f")) == null ? void 0 : _a2.drag.unregister.swipe(H$3(this, C$8, "f")), (_b2 = H$3(this, z$a, "f")) == null ? void 0 : _b2.theme.unregister(this), m$6.stop(H$3(this, T$7, "f"));
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfDataset: ["updateShapes"], lfShape: ["updateShapes"] };
  }
};
z$a = /* @__PURE__ */ new WeakMap(), x$9 = /* @__PURE__ */ new WeakMap(), _$6 = /* @__PURE__ */ new WeakMap(), S$5 = /* @__PURE__ */ new WeakMap(), E$8 = /* @__PURE__ */ new WeakMap(), W$9 = /* @__PURE__ */ new WeakMap(), j$6 = /* @__PURE__ */ new WeakMap(), C$8 = /* @__PURE__ */ new WeakMap(), M$7 = /* @__PURE__ */ new WeakMap(), T$7 = /* @__PURE__ */ new WeakMap(), I$3 = /* @__PURE__ */ new WeakMap(), k$9 = /* @__PURE__ */ new WeakSet(), L$4 = function() {
  var _a2, _b2;
  return ((_b2 = (_a2 = this.shapes) == null ? void 0 : _a2[this.lfShape]) == null ? void 0 : _b2.length) || 0;
}, P$3 = function() {
  var _a2;
  return !!((_a2 = this.shapes) == null ? void 0 : _a2[this.lfShape]);
}, D$6 = function() {
  const { bemClass: e2 } = H$3(this, z$a, "f").theme, { carousel: s2 } = H$3(this, x$9, "f"), { elements: i2 } = H$3(this, T$7, "f"), { jsx: r2 } = i2, { back: a2, forward: l2 } = r2;
  if (H$3(this, k$9, "m", P$3).call(this)) {
    const i3 = this.shapes[this.lfShape];
    if (i3 == null ? void 0 : i3.length) return D$a(jt$1, null, D$a("div", { "aria-live": "polite", class: e2(s2._, s2.track), part: H$3(this, E$8, "f").track, role: "region" }, H$3(this, k$9, "m", R$2).call(this), this.lfNavigation && a2(), this.lfNavigation && l2()), H$3(this, k$9, "m", A$4).call(this));
  }
  return null;
}, A$4 = function() {
  const { bemClass: e2 } = H$3(this, z$a, "f").theme, { slideBar: s2 } = H$3(this, x$9, "f"), i2 = H$3(this, k$9, "m", L$4).call(this), r2 = [];
  for (let a2 = 0; a2 < i2; a2++) {
    const i3 = `Jump to slide ${a2 + 1}`;
    r2.push(D$a("div", { "aria-label": i3, class: e2(s2._, s2.segment, { active: a2 === this.currentIndex }), "data-cy": H$3(this, _$6, "f").button, "data-index": a2, onClick: async () => this.goToSlide(a2), part: H$3(this, E$8, "f").segment, role: "button", tabIndex: 0, title: i3 }));
  }
  return D$a("div", { class: e2(s2._), part: H$3(this, E$8, "f").slideBar }, r2);
}, R$2 = function() {
  const { bemClass: e2 } = H$3(this, z$a, "f").theme, { currentIndex: s2, lfShape: i2 } = this, { carousel: r$12 } = H$3(this, x$9, "f"), a2 = this.shapes[i2].map((() => ({ htmlProps: { dataset: { lf: H$3(this, S$5, "f").fadeIn } } }))), o2 = this.shapes[i2][s2], l2 = a2[s2];
  return D$a("div", { class: e2(r$12._, r$12.slide), "data-index": s2 }, D$a(r, { cell: Object.assign(l2, o2), index: s2, shape: i2, eventDispatcher: async (t5) => this.onLfEvent(t5, "lf-event"), framework: H$3(this, z$a, "f") }));
}, O$2.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-carousel-font-family, var(--lf-font-family-primary));font-size:var(--lf-carousel-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%;margin:auto;overflow:hidden;position:relative}:host([lf-lightbox]) [data-lf=fade-in]{cursor:pointer}.carousel{border:0;border-style:solid;border-radius:var(--lf-carousel-border-radius, var(--lf-ui-border-radius));width:100%;height:100%;display:flex;justify-content:center;overflow:hidden;position:relative}.carousel:hover .slide-bar{opacity:1}.carousel:hover .carousel__back,.carousel:hover .carousel__forward{opacity:1}.carousel:hover .carousel__back{left:0.5em}.carousel:hover .carousel__forward{right:0.5em}.carousel__back,.carousel__forward{transition:all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);opacity:0;position:absolute;top:50%;transform:translateY(-50%)}.carousel__back{left:0}.carousel__forward{right:0}.carousel__track{width:100%;height:100%;transition:all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);display:flex;will-change:transform}.carousel__slide{width:100%;height:100%;align-items:center;flex-shrink:0;justify-content:center}.slide-bar{background-color:rgba(var(--lf-carousel-color-surface, var(--lf-color-surface)), 0.75);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);align-items:center;bottom:0;box-sizing:border-box;display:flex;flex-wrap:nowrap;height:var(--lf-carousel-slide-bar-height, 0.75em);left:0;opacity:var(--lf-carousel-slide-bar-opacity, 0.75);position:absolute;width:100%}.slide-bar:hover{opacity:var(--lf-carousel-slide-bar-opacity-hover, 1)}.slide-bar__segment{background-color:rgba(var(--lf-carousel-color-surface, var(--lf-color-surface)), 1);width:100%;height:100%;transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer}.slide-bar__segment:not(.slide-bar__segment--active):hover{background-color:rgba(var(--lf-carousel-color-on-surface, var(--lf-color-on-surface)), 0.5)}.slide-bar__segment--active{background-color:rgba(var(--lf-carousel-color-on-surface, var(--lf-color-on-surface)), 1)}";
const p5d51f267_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_carousel: O$2
}, Symbol.toStringTag, { value: "Module" }));
var g$5, u$6, p$5, y$7, b$7, z$9, w$8, k$8, x$8, C$7, E$7, j$5, W$8, S$4, D$5 = function(t5, e2, i2, a2) {
  if ("a" === i2 && !a2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof e2 ? t5 !== e2 || !a2 : !e2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === i2 ? a2 : "a" === i2 ? a2.call(t5) : a2 ? a2.value : e2.get(t5);
};
const T$6 = class T {
  constructor(i2) {
    n(this, i2), this.lfEvent = V$4(this, "lf-article-event"), g$5.add(this), this.lfDataset = null, this.lfEmpty = "Empty data.", this.lfStyle = "", this.lfUiSize = "medium", u$6.set(this, void 0), p$5.set(this, LF_ARTICLE_BLOCKS), y$7.set(this, CY_ATTRIBUTES), b$7.set(this, LF_ARTICLE_PARTS), z$9.set(this, LF_STYLE_ID), w$8.set(this, LF_WRAPPER_ID);
  }
  onLfEvent(t5, e2) {
    this.lfEvent.emit({ comp: this, eventType: e2, id: this.rootElement.id, originalEvent: t5 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_ARTICLE_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    D$5(this, u$6, "f") && D$5(this, u$6, "f").theme.register(this);
  }
  async componentWillLoad() {
    !(function(t5, e2, i2, a2, r2) {
      if ("function" == typeof e2 ? t5 !== e2 || true : !e2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
      e2.set(t5, i2);
    })(this, u$6, await a(this));
  }
  componentDidLoad() {
    const { info: t5 } = D$5(this, u$6, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = D$5(this, u$6, "f").debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = D$5(this, u$6, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    var _a2;
    const { theme: t5 } = D$5(this, u$6, "f"), { bemClass: e2, setLfStyle: i2 } = t5, { lfDataset: l2, lfEmpty: o2, lfStyle: s2 } = this, { emptyData: n2 } = D$5(this, p$5, "f");
    return D$a(W$e, { key: "facc45a56c7f608d4ea63431396e1a044bf952cc" }, s2 && D$a("style", { key: "32ff6a90169431aa5dba003da5e168715cbeb1f5", id: D$5(this, z$9, "f") }, i2(this)), D$a("div", { key: "c5549c09dd1786060182280c0586fee4d7c45985", id: D$5(this, w$8, "f") }, ((_a2 = l2 == null ? void 0 : l2.nodes) == null ? void 0 : _a2.length) ? D$5(this, g$5, "m", x$8).call(this) : D$a("div", { class: e2(n2._), part: D$5(this, b$7, "f").emptyData }, D$a("div", { class: e2(n2._, n2.text) }, o2))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = D$5(this, u$6, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
u$6 = /* @__PURE__ */ new WeakMap(), p$5 = /* @__PURE__ */ new WeakMap(), y$7 = /* @__PURE__ */ new WeakMap(), b$7 = /* @__PURE__ */ new WeakMap(), z$9 = /* @__PURE__ */ new WeakMap(), w$8 = /* @__PURE__ */ new WeakMap(), g$5 = /* @__PURE__ */ new WeakSet(), k$8 = function(t5, e2) {
  var _a2;
  switch (e2) {
    case 0:
      return D$5(this, g$5, "m", C$7).call(this, t5, e2);
    case 1:
      return D$5(this, g$5, "m", E$7).call(this, t5, e2);
    case 2:
      return D$5(this, g$5, "m", W$8).call(this, t5, e2);
    default:
      return ((_a2 = t5.children) == null ? void 0 : _a2.length) ? D$5(this, g$5, "m", j$5).call(this, t5, e2) : D$5(this, g$5, "m", S$4).call(this, t5, e2);
  }
}, x$8 = function() {
  const t5 = [], { nodes: e2 } = this.lfDataset;
  for (let i2 = 0; i2 < e2.length; i2++) {
    const a2 = e2[i2];
    t5.push(D$5(this, g$5, "m", k$8).call(this, a2, 0));
  }
  return D$a(jt$1, null, t5);
}, C$7 = function(t5, e2) {
  const { bemClass: i2 } = D$5(this, u$6, "f").theme, { children: r2, cssStyle: l2, value: s2 } = t5;
  return D$a(jt$1, null, D$a("article", { class: i2(D$5(this, p$5, "f").article._), "data-cy": D$5(this, y$7, "f").node, "data-depth": e2.toString(), part: D$5(this, b$7, "f").article, style: l2 }, s2 && D$a("h1", null, s2), r2 && t5.children.map(((t6) => D$5(this, g$5, "m", k$8).call(this, t6, e2 + 1)))));
}, E$7 = function(t5, e2) {
  const { bemClass: i2 } = D$5(this, u$6, "f").theme, { children: r2, cssStyle: l2, value: s2 } = t5;
  return D$a(jt$1, null, D$a("section", { class: i2(D$5(this, p$5, "f").section._), "data-cy": D$5(this, y$7, "f").node, "data-depth": e2.toString(), part: D$5(this, b$7, "f").section, style: l2 }, s2 && D$a("h2", null, s2), r2 && r2.map(((t6) => D$5(this, g$5, "m", k$8).call(this, t6, e2 + 1)))));
}, j$5 = function(t5, e2) {
  const { bemClass: i2 } = D$5(this, u$6, "f").theme, { children: r2, cssStyle: l2, tagName: s2, value: n2 } = t5, f2 = (r2 == null ? void 0 : r2.some(((t6) => "li" === t6.tagName))) ? "ul" : s2 || "div";
  return D$a(jt$1, null, n2 && D$a("div", null, n2), D$a(f2, { class: i2(D$5(this, p$5, "f").content._), "data-cy": D$5(this, y$7, "f").node, "data-depth": e2.toString(), part: D$5(this, b$7, "f").content, style: l2 }, r2 && r2.map(((t6) => D$5(this, g$5, "m", k$8).call(this, t6, e2 + 1)))));
}, W$8 = function(t5, e2) {
  const { bemClass: i2 } = D$5(this, u$6, "f").theme, { children: r2, cssStyle: l2, value: s2 } = t5;
  return D$a(jt$1, null, D$a("p", { class: i2(D$5(this, p$5, "f").paragraph._), "data-cy": D$5(this, y$7, "f").node, "data-depth": e2.toString(), part: D$5(this, b$7, "f").paragraph, style: l2 }, s2 && D$a("h3", null, s2), r2 && r2.map(((t6) => D$5(this, g$5, "m", k$8).call(this, t6, e2 + 1)))));
}, S$4 = function(t5, e2) {
  const { theme: i2 } = D$5(this, u$6, "f"), { cells: r$12, cssStyle: l2, tagName: o2, value: s2 } = t5, n2 = r$12 && Object.keys(r$12)[0], f2 = r$12 == null ? void 0 : r$12[n2], { content: c2 } = D$5(this, p$5, "f");
  if (f2) return D$a(r, { cell: f2, index: 0, shape: f2.shape, eventDispatcher: async (t6) => this.onLfEvent(t6, "lf-event"), framework: D$5(this, u$6, "f") });
  {
    const t6 = o2 || "span";
    return D$a(t6, { class: i2.bemClass(c2._, c2.body, { [t6]: Boolean(t6) }), "data-depth": e2.toString(), part: D$5(this, b$7, "f").content, style: l2 }, s2);
  }
}, T$6.style = "h1{font-size:2em;font-weight:600;line-height:1.2em;letter-spacing:0em;margin-bottom:0.5em;color:rgb(var(--lf-article-color-h1, var(--lf-color-on-bg)));font-family:var(--lf-article-font-family-h1, var(--lf-font-family-primary));font-size:var(--lf-article-font-size-h1, 2em);margin-top:0;margin-bottom:1em;word-break:break-word}h2{font-size:1.75em;font-weight:500;line-height:1.3em;letter-spacing:0em;margin-bottom:0.5em;color:rgb(var(--lf-article-color-h2, var(--lf-color-on-bg)));font-family:var(--lf-article-font-family-h2, var(--lf-font-family-primary));font-size:var(--lf-article-font-size-h2, 1.75em);margin:1.5em 0 0.5em}h3{font-size:1.5em;font-weight:500;line-height:1.4em;letter-spacing:0em;margin-bottom:0.5em;color:rgb(var(--lf-article-color-h3, var(--lf-color-on-bg)));font-family:var(--lf-article-font-family-h3, var(--lf-font-family-primary));font-size:var(--lf-article-font-size-h3, 1.5em);margin:1em 0 0.5em}h4{font-size:1.25em;font-weight:500;line-height:1.5em;letter-spacing:0em;margin-bottom:0.5em;color:rgb(var(--lf-article-color-h4, var(--lf-color-on-bg)));font-family:var(--lf-article-font-family-h4, var(--lf-font-family-primary));font-size:var(--lf-article-font-size-h4, 1.25em);margin:1em 0 0.5em}h5{font-size:1.125em;font-weight:500;line-height:1.6em;letter-spacing:0em;margin-bottom:0.5em;color:rgb(var(--lf-article-color-h5, var(--lf-color-on-bg)));font-family:var(--lf-article-font-family-h5, var(--lf-font-family-primary));font-size:var(--lf-article-font-size-h5, 1.125em);margin:1em 0 0.5em}h6{font-size:1em;font-weight:500;line-height:1.5em;letter-spacing:0em;margin-bottom:0.5em;color:rgb(var(--lf-article-color-h6, var(--lf-color-on-bg)));font-family:var(--lf-article-font-family-h6, var(--lf-font-family-primary));font-size:var(--lf-article-font-size-h6, 1em);margin:1em 0 0.5em}ul,ol{font-size:1em;font-weight:400;line-height:1.6em;letter-spacing:0em;margin-bottom:0.5em;margin-left:1.5em;margin:1em 0;padding-inline-start:var(--lf-article-padding-ul, 1.25em)}::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}:host{display:block;font-family:var(--lf-article-font-family, var(--lf-font-family-primary));font-size:var(--lf-article-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-article-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-article-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-article-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-article-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-article-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-article-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-article-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{border:0;border-style:solid;border-radius:var(--lf-article-border-radius, var(--lf-ui-border-radius));color:rgb(var(--lf-article-color-on-bg, var(--lf-color-on-bg)))}.article{background-color:rgba(var(--lf-article-color-bg, var(--lf-color-bg)), 0.375);color:rgb(var(--lf-article-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);margin:var(--lf-article-margin, auto);max-width:var(--lf-article-max-width, 1200px);padding:var(--lf-article-padding, 2.5em)}.content__body{font-size:1em;font-weight:400;line-height:1.6em;letter-spacing:0em;margin-bottom:1em;font-family:var(--lf-article-font-family-body, var(--lf-font-family-primary));font-size:var(--lf-article-font-size-body, var(--lf-font-size))}.empty-data{width:100%;height:100%;align-items:center;display:flex;justify-content:center}[data-component=LfCode]{max-width:max-content;margin:auto;padding:1.75em 0}";
const p62695161_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_article: T$6
}, Symbol.toStringTag, { value: "Module" }));
const u$5 = async (e2, t5 = null) => {
  const { history: a2 } = e2.controller.set;
  null === t5 ? (a2.pop(), b$6(e2)) : a2.pop(t5);
}, b$6 = async (e2) => {
  const { controller: t5, elements: a2 } = e2, { masonry: s2 } = a2.refs.navigation, { set: i2 } = t5;
  i2.currentShape({}), i2.history.index(null), s2.setSelectedShape(null);
}, v$6 = (e2) => {
  const { compInstance: t5, currentShape: a2, manager: s2 } = e2.controller.get, { lfDataset: i2 } = t5, { getAll: n2 } = s2.data.cell.shapes, r2 = a2();
  return n2(i2, false).image.find(((e3) => e3.value === r2.value || e3.lfValue === r2.value));
}, p$4 = async (e2, t5) => {
  requestAnimationFrame((() => e2.lfShowSpinner = true)), await t5(), requestAnimationFrame((() => e2.lfShowSpinner = false));
}, y$6 = (e2, t5) => {
  const a2 = e2;
  e2.value = t5, a2.lfValue && (a2.lfValue = t5);
}, w$7 = (t5) => ({ canvas: () => {
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, history: l2, lfAttribute: o2, manager: c2 } = a2.get, { details: f2 } = s2.refs, { canvas: d2 } = i2.details, { currentSnapshot: h2 } = l2, { assignRef: g3, theme: m2 } = c2, { bemClass: u2 } = m2, b2 = h2();
  if (b2) return D$a("lf-canvas", { class: u2(n2.detailsGrid._, n2.detailsGrid.canvas), "data-lf": o2.fadeIn, id: IDS.details.canvas, lfImageProps: { lfValue: b2.value }, "onLf-canvas-event": d2, ref: g3(f2, "canvas") });
}, clearHistory: () => {
  var _a2;
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, cyAttributes: l2, history: o2, manager: c2 } = a2.get, { details: f2 } = s2.refs, { button: d2 } = i2.details, { current: h2 } = o2, { assignRef: g3, theme: m2 } = c2, { bemClass: u2, get: b2 } = m2, v2 = b2.icon("stackPop"), p2 = !(((_a2 = h2()) == null ? void 0 : _a2.length) > 1);
  return D$a("lf-button", { class: u2(n2.detailsGrid._, n2.detailsGrid.clearHistory), "data-cy": l2.button, id: IDS.details.clearHistory, lfIcon: v2, lfLabel: "Clear history", lfStretchX: true, lfStyling: "flat", lfUiState: p2 ? "disabled" : "danger", "onLf-button-event": d2, ref: g3(f2, "clearHistory") });
}, deleteShape: () => {
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, cyAttributes: l2, manager: o2 } = a2.get, { details: c2 } = s2.refs, { button: f2 } = i2.details, { assignRef: d2, theme: h2 } = o2, { bemClass: g3, get: m2 } = h2, { "--lf-icon-clear": u2 } = m2.current().variables;
  return D$a("lf-button", { class: g3(n2.detailsGrid._, n2.detailsGrid.delete), "data-cy": l2.button, id: IDS.details.deleteShape, lfIcon: u2, lfLabel: "Delete image", lfStretchX: true, lfUiState: "danger", "onLf-button-event": f2, ref: d2(c2, "deleteShape") });
}, redo: () => {
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, cyAttributes: l2, history: o2, manager: c2 } = a2.get, { current: f2, index: d2 } = o2, { details: h2 } = s2.refs, { button: g3 } = i2.details, { assignRef: m2, theme: u2 } = c2, { bemClass: b2, get: v2 } = u2, { "--lf-icon-next": p2 } = v2.current().variables, y2 = f2(), w3 = !((y2 == null ? void 0 : y2.length) && d2() < y2.length - 1);
  return D$a("lf-button", { class: b2(n2.detailsGrid._, n2.detailsGrid.redo), "data-cy": l2.button, id: IDS.details.redo, lfIcon: p2, lfLabel: "Redo", lfStretchX: true, lfStyling: "flat", lfUiState: w3 ? "disabled" : "primary", "onLf-button-event": g3, ref: m2(h2, "redo") });
}, save: () => {
  var _a2;
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, cyAttributes: l2, history: o2, manager: c2 } = a2.get, { current: f2 } = o2, { details: d2 } = s2.refs, { button: h2 } = i2.details, { assignRef: g3, theme: m2 } = c2, { bemClass: u2, get: b2 } = m2, { "--lf-icon-success": v2 } = b2.current().variables, p2 = !(((_a2 = f2()) == null ? void 0 : _a2.length) > 1);
  return D$a("lf-button", { class: u2(n2.detailsGrid._, n2.detailsGrid.commitChanges), "data-cy": l2.button, id: IDS.details.save, lfIcon: v2, lfLabel: "Save snapshot", lfStretchX: true, lfUiState: p2 ? "disabled" : "success", "onLf-button-event": h2, ref: g3(d2, "save") });
}, spinner: () => {
  const { controller: a2, elements: s2 } = t5(), { blocks: i2, manager: n2, spinnerStatus: l2 } = a2.get, { details: o2 } = s2.refs, { assignRef: c2, theme: f2 } = n2, { bemClass: d2 } = f2;
  return D$a("lf-spinner", { class: d2(i2.detailsGrid._, i2.detailsGrid.spinner), id: IDS.details.spinner, lfActive: l2(), lfDimensions: "16px", lfFader: true, lfFaderTimeout: 125, lfLayout: 14, ref: c2(o2, "save") });
}, tree: () => {
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, compInstance: l2, cyAttributes: o2, manager: c2 } = a2.get, { details: f2 } = s2.refs, { tree: d2 } = i2.details, { assignRef: h2, theme: g3 } = c2, { bemClass: m2 } = g3;
  return D$a("lf-tree", { class: m2(n2.detailsGrid._, n2.detailsGrid.tree), "data-cy": o2.input, id: IDS.details.tree, lfAccordionLayout: true, lfDataset: l2.lfValue, lfFilter: false, lfSelectable: true, lfUiSize: "small", "onLf-tree-event": d2, ref: h2(f2, "tree") });
}, undo: () => {
  var _a2;
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, cyAttributes: l2, history: o2, manager: c2 } = a2.get, { current: f2, index: d2 } = o2, { details: h2 } = s2.refs, { button: g3 } = i2.details, { assignRef: m2, theme: u2 } = c2, { bemClass: b2, get: v2 } = u2, { "--lf-icon-previous": p2 } = v2.current().variables, y2 = !(((_a2 = f2()) == null ? void 0 : _a2.length) && d2() > 0);
  return D$a("lf-button", { class: b2(n2.detailsGrid._, n2.detailsGrid.undo), "data-cy": l2.button, id: IDS.details.undo, lfIcon: p2, lfLabel: "Undo", lfStretchX: true, lfStyling: "flat", lfUiState: y2 ? "disabled" : "primary", "onLf-button-event": g3, ref: m2(h2, "undo") });
} }), x$7 = (t5) => ({ load: () => {
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, cyAttributes: l2, manager: o2 } = a2.get, { navigation: c2 } = s2.refs, { button: f2 } = i2.navigation, { assignRef: d2, theme: h2 } = o2, { bemClass: g3 } = h2;
  return D$a("lf-button", { class: g3(n2.navigationGrid._, n2.navigationGrid.button), "data-cy": l2.button, id: IDS.navigation.load, lfLabel: "Load", lfStretchX: true, "onLf-button-event": f2, ref: d2(c2, "load") }, D$a("lf-spinner", { lfActive: true, lfDimensions: "2px", lfLayout: 1, slot: "spinner" }));
}, masonry: () => {
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, compInstance: l2, manager: o2 } = a2.get, { navigation: c2 } = s2.refs, { masonry: f2 } = i2.navigation, { lfDataset: d2 } = l2, { assignRef: h2, theme: g3 } = o2, { bemClass: m2 } = g3;
  return D$a("lf-masonry", { class: m2(n2.navigationGrid._, n2.navigationGrid.masonry), id: IDS.navigation.masonry, lfActions: true, lfDataset: d2, lfSelectable: true, "onLf-masonry-event": f2, ref: h2(c2, "masonry") });
}, navToggle: () => {
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, cyAttributes: l2, manager: o2 } = a2.get, { navigation: c2 } = s2.refs, { navToggle: f2 } = i2.navigation, { assignRef: d2, theme: h2 } = o2, { bemClass: g3 } = h2, { "--lf-icon-next": m2, "--lf-icon-previous": u2 } = h2.get.current().variables, b2 = a2.get.navigation.isTreeOpen();
  return D$a("lf-button", { class: g3(n2.navigationGrid._, n2.navigationGrid.navToggle), "data-cy": l2.button, id: IDS.navigation.navToggle, lfAriaLabel: b2 ? "Collapse navigation tree" : "Expand navigation tree", lfIcon: b2 ? u2 : m2, lfStretchY: true, "onLf-button-event": f2, ref: d2(c2, "navToggle"), title: b2 ? "Collapse" : "Expand" });
}, textfield: () => {
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, cyAttributes: l2, manager: o2 } = a2.get, { navigation: c2 } = s2.refs, { textfield: f2 } = i2.navigation, { assignRef: d2, theme: h2 } = o2, { bemClass: g3 } = h2;
  return D$a("lf-textfield", { class: g3(n2.navigationGrid._, n2.navigationGrid.textfield), "data-cy": l2.input, id: IDS.navigation.textfield, lfIcon: "folder", lfLabel: "Directory", lfStretchX: true, lfStyling: "flat", "onLf-textfield-event": f2, ref: d2(c2, "textfield") });
}, tree: () => {
  const { controller: a2, elements: s2, handlers: i2 } = t5(), { blocks: n2, compInstance: l2, manager: o2 } = a2.get, { navigation: c2 } = s2.refs, { tree: f2 } = i2.navigation, { assignRef: d2, sanitizeProps: h2, theme: g3 } = o2, { bemClass: m2 } = g3, u2 = l2.lfNavigation || {};
  return D$a("lf-tree", { class: m2(n2.navigationGrid._, n2.navigationGrid.tree), id: IDS.navigation.tree, "onLf-tree-event": f2, ref: d2(c2, "tree"), ...h2(u2.treeProps, "LfTree") });
} }), k$7 = (e2) => ({ button: async (t5) => {
  const { comp: a2, eventType: s2, id: i2 } = t5.detail, n2 = e2(), { compInstance: l2, currentShape: o2 } = n2.controller.get;
  if (l2.onLfEvent(t5, "lf-event"), "click" === s2) switch (i2) {
    case IDS.details.clearHistory:
      const e3 = o2().shape.index;
      p$4(a2, (async () => u$5(n2, e3)));
      break;
    case IDS.details.deleteShape:
      p$4(a2, (() => (async (e4) => {
        const { compInstance: t6, currentShape: a3, manager: s3 } = e4.controller.get, { lfDataset: i3 } = t6, { findNodeByCell: n3, pop: r2 } = s3.data.node;
        await u$5(e4, a3().shape.index);
        const l3 = n3(i3, v$6(e4));
        r2(i3.nodes, l3), t6.lfDataset = { ...i3 }, await b$6(e4);
      })(n2)));
      break;
    case IDS.details.redo:
      p$4(a2, (() => (async (e4) => {
        const { controller: t6 } = e4, { get: a3, set: s3 } = t6, { current: i3, index: n3 } = a3.history, r2 = i3(), l3 = n3();
        r2 && l3 < r2.length - 1 && s3.history.index(l3 + 1);
      })(n2)));
      break;
    case IDS.details.save:
      p$4(a2, (() => (async (e4) => {
        const { compInstance: t6, currentShape: a3, history: s3 } = e4.controller.get, { lfDataset: i3 } = t6, n3 = a3();
        if (!n3) return;
        const r2 = n3.shape.index, l3 = n3.shape.shape, o3 = s3.currentSnapshot().value, c2 = v$6(e4);
        c2.value = o3, c2.lfValue = o3, y$6(l3, o3), await u$5(e4, r2), t6.lfDataset = { ...i3 };
      })(n2)));
      break;
    case IDS.details.undo:
      p$4(a2, (() => (async (e4) => {
        const { controller: t6 } = e4, { get: a3, set: s3 } = t6, { history: i3 } = a3, { index: n3 } = i3, r2 = n3();
        r2 > 0 && s3.history.index(r2 - 1);
      })(n2)));
  }
}, canvas: (t5) => {
  const a2 = e2(), { compInstance: s2 } = a2.controller.get;
  s2.onLfEvent(t5, "lf-event");
}, tree: (t5) => {
  const a2 = e2(), { compInstance: s2 } = a2.controller.get;
  s2.onLfEvent(t5, "lf-event");
} }), z$8 = (e2) => ({ button: async (t5) => {
  const { comp: a2, eventType: s2 } = t5.detail, i2 = e2(), { compInstance: n2 } = i2.controller.get;
  n2.onLfEvent(t5, "lf-event"), "click" === s2 && p$4(a2, (() => (async (e3) => {
    const { controller: t6, elements: a3 } = e3, { textfield: s3 } = a3.refs.navigation, { compInstance: i3 } = t6.get, { lfLoadCallback: n3 } = i3;
    try {
      await n3(i3, await s3.getValue()), u$5(e3);
    } catch (e4) {
      console.error("Load operation failed:", e4);
    }
  })(i2)));
}, masonry: (t5) => {
  var _a2;
  const { eventType: a2, originalEvent: s2, selectedShape: i2 } = t5.detail, n2 = e2(), { controller: r2 } = n2, { get: l2, set: o2 } = r2, { compInstance: c2, history: f2 } = l2, { current: d2 } = f2;
  if (c2.onLfEvent(t5, "lf-event"), "lf-event" === a2 && "click" === s2.detail.eventType) {
    const e3 = l2.currentShape();
    if (((_a2 = e3 == null ? void 0 : e3.shape) == null ? void 0 : _a2.index) === i2.index) b$6(n2);
    else {
      o2.currentShape(i2);
      const e4 = d2();
      o2.history.index(e4 ? e4.length - 1 : 0), o2.history.new(i2);
    }
  }
}, navToggle: (t5) => {
  const { eventType: a2 } = t5.detail, s2 = e2(), { controller: i2 } = s2, { get: n2, set: r2 } = i2, { compInstance: l2 } = n2;
  l2.onLfEvent(t5, "lf-event"), "click" === a2 && r2.navigation.toggleTree();
}, textfield: (t5) => {
  const a2 = e2(), { compInstance: s2 } = a2.controller.get;
  s2.onLfEvent(t5, "lf-event");
}, tree: (t5) => {
  const a2 = e2(), { compInstance: s2 } = a2.controller.get;
  s2.onLfEvent(t5, "lf-event");
} }), S$3 = (e2, t5) => ({ ...e2, spinnerStatus: (e3) => t5().elements.refs.details.spinner.lfActive = e3 }), L$3 = (e2) => ({ details: w$7(e2), navigation: x$7(e2) }), C$6 = (e2) => ({ details: k$7(e2), navigation: z$8(e2) });
var _$5, I$2, T$5, A$3, R$1, D$4, E$6, W$7, M$6, j$4, H$2, P$2, U$1, X, O$1 = function(e2, t5, a2, s2) {
  if ("a" === a2 && !s2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof t5 ? e2 !== t5 || !s2 : !t5.has(e2)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === a2 ? s2 : "a" === a2 ? s2.call(e2) : s2 ? s2.value : t5.get(e2);
}, B$2 = function(e2, t5, a2, s2, i2) {
  if ("function" == typeof t5 ? e2 !== t5 || true : !t5.has(e2)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return t5.set(e2, a2), a2;
};
const F$2 = class F {
  constructor(e2) {
    n(this, e2), this.lfEvent = V$4(this, "lf-imageviewer-event"), _$5.add(this), this.currentShape = {}, this.history = {}, this.historyIndex = null, this.isNavigationTreeOpen = false, this.isSpinnerActive = false, this.lfDataset = {}, this.lfLoadCallback = null, this.lfStyle = "", this.lfValue = {}, I$2.set(this, void 0), T$5.set(this, LF_IMAGEVIEWER_BLOCKS), A$3.set(this, CY_ATTRIBUTES), R$1.set(this, LF_ATTRIBUTES), D$4.set(this, LF_IMAGEVIEWER_PARTS), E$6.set(this, LF_STYLE_ID), W$7.set(this, LF_WRAPPER_ID), M$6.set(this, void 0), j$4.set(this, (() => {
      var e3;
      B$2(this, M$6, { controller: { get: { blocks: O$1(this, T$5, "f"), compInstance: this, currentShape: () => O$1(this, _$5, "m", H$2).call(this, this.currentShape), cyAttributes: O$1(this, A$3, "f"), history: { current: () => this.history[this.currentShape.index], currentSnapshot: () => {
        if (null === this.historyIndex) return null;
        const e4 = this.history[this.currentShape.index][this.historyIndex];
        return O$1(this, _$5, "m", H$2).call(this, e4);
      }, full: () => this.history, index: () => this.historyIndex }, lfAttribute: O$1(this, R$1, "f"), manager: O$1(this, I$2, "f"), navigation: { hasNav: () => {
        var _a2, _b2;
        return Boolean((_b2 = (_a2 = this.lfNavigation) == null ? void 0 : _a2.treeProps) == null ? void 0 : _b2.lfDataset);
      }, isTreeOpen: () => this.isNavigationTreeOpen }, parts: O$1(this, D$4, "f"), spinnerStatus: () => this.isSpinnerActive }, set: S$3({ currentShape: (e4) => this.currentShape = e4, history: { index: (e4) => this.historyIndex = e4, new: (e4, t5 = false) => {
        var _a2;
        const a2 = ((_a2 = this.history) == null ? void 0 : _a2[e4.index]) || [];
        this.historyIndex < a2.length - 1 && a2.splice(this.historyIndex + 1), !(a2 == null ? void 0 : a2.length) || t5 ? (a2.push(e4), this.history[e4.index] = a2, this.historyIndex = a2.length - 1) : a2[0] = e4;
      }, pop: (e4 = null) => {
        null !== e4 ? (this.history[e4] = [this.history[e4][0]], 0 === this.historyIndex ? this.refresh() : this.historyIndex = 0) : (this.history = {}, this.historyIndex = null);
      } }, navigation: { isTreeOpen: (e4) => {
        this.isNavigationTreeOpen = e4;
      }, toggleTree: () => {
        this.isNavigationTreeOpen = !this.isNavigationTreeOpen;
      } } }, e3 = () => O$1(this, M$6, "f")) }, elements: { jsx: L$3(e3), refs: { details: { canvas: null, clearHistory: null, deleteShape: null, redo: null, save: null, spinner: null, undo: null, tree: null }, navigation: { load: null, masonry: null, navToggle: null, tree: null, textfield: null } } }, handlers: C$6(e3) });
    }));
  }
  onLfEvent(e2, t5) {
    this.lfEvent.emit({ comp: this, eventType: t5, id: this.rootElement.id, originalEvent: e2 });
  }
  async addSnapshot(e2) {
    var _a2;
    const { currentShape: t5 } = this;
    if (!t5 || !((_a2 = Object.keys(t5)) == null ? void 0 : _a2.length)) return;
    const { history: a2 } = O$1(this, M$6, "f").controller.set, s2 = JSON.parse(JSON.stringify(t5));
    y$6(s2.shape, e2), a2.new(s2, true);
  }
  async clearHistory(e2 = null) {
    await u$5(O$1(this, M$6, "f"), e2);
  }
  async clearSelection() {
    await b$6(O$1(this, M$6, "f"));
  }
  async getComponents() {
    return O$1(this, M$6, "f").elements.refs;
  }
  async getCurrentSnapshot() {
    return O$1(this, M$6, "f").controller.get.history.currentSnapshot();
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const e2 = LF_IMAGEVIEWER_PROPS.map(((e3) => [e3, this[e3]]));
    return Object.fromEntries(e2);
  }
  async refresh() {
    pt(this);
  }
  async reset() {
    await u$5(O$1(this, M$6, "f")), await b$6(O$1(this, M$6, "f"));
  }
  async setSpinnerStatus(e2) {
    this.isSpinnerActive = e2;
  }
  async unmount(e2 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), e2);
  }
  connectedCallback() {
    O$1(this, I$2, "f") && O$1(this, I$2, "f").theme.register(this);
  }
  async componentWillLoad() {
    B$2(this, I$2, await a(this)), O$1(this, j$4, "f").call(this), O$1(this, M$6, "f").controller.get.navigation.hasNav() && (this.isNavigationTreeOpen = true);
  }
  componentDidLoad() {
    const { info: e2 } = O$1(this, I$2, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), e2.update(this, "did-load");
  }
  componentWillRender() {
    const { info: e2 } = O$1(this, I$2, "f").debug;
    e2.update(this, "will-render");
  }
  componentDidRender() {
    const { info: e2 } = O$1(this, I$2, "f").debug;
    e2.update(this, "did-render");
  }
  render() {
    const { bemClass: t5, setLfStyle: a2 } = O$1(this, I$2, "f").theme, { lfStyle: s2 } = this;
    return D$a(W$e, { key: "fbd19d0e1e615d75bbc7158fc9f9733dee8f350e" }, s2 && D$a("style", { key: "d1bb9217fe9805fbe843e672e56a2cf7d606b6f5", id: O$1(this, E$6, "f") }, a2(this)), D$a("div", { key: "d40bd5f1c362aa925e808d0cc889d0ce021b5d3d", id: O$1(this, W$7, "f") }, D$a("div", { key: "18f1b3febb27f6919d4a62590f87e3515212dd6c", class: t5(O$1(this, T$5, "f").imageviewer._), part: O$1(this, D$4, "f").imageviewer }, O$1(this, _$5, "m", U$1).call(this))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = O$1(this, I$2, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
I$2 = /* @__PURE__ */ new WeakMap(), T$5 = /* @__PURE__ */ new WeakMap(), A$3 = /* @__PURE__ */ new WeakMap(), R$1 = /* @__PURE__ */ new WeakMap(), D$4 = /* @__PURE__ */ new WeakMap(), E$6 = /* @__PURE__ */ new WeakMap(), W$7 = /* @__PURE__ */ new WeakMap(), M$6 = /* @__PURE__ */ new WeakMap(), j$4 = /* @__PURE__ */ new WeakMap(), _$5 = /* @__PURE__ */ new WeakSet(), H$2 = function(e2) {
  const { data: t5 } = O$1(this, I$2, "f"), { cell: a2 } = t5, { stringify: s2 } = a2;
  return void 0 !== e2.index ? { shape: e2, value: s2(e2.shape.value || e2.shape.lfValue) } : null;
}, P$2 = function() {
  const { bemClass: t5 } = O$1(this, I$2, "f").theme, { detailsGrid: a2 } = O$1(this, T$5, "f"), { canvas: s2, clearHistory: i2, deleteShape: n2, redo: r2, save: l2, spinner: o2, tree: c2, undo: f2 } = O$1(this, M$6, "f").elements.jsx.details;
  return D$a("div", { class: t5(a2._), part: O$1(this, D$4, "f").details }, D$a("div", { class: t5(a2._, a2.preview) }, s2(), o2()), D$a("div", { class: t5(a2._, a2.actions) }, n2(), i2(), f2(), r2(), l2()), c2(), D$a("div", { class: t5(a2._, a2.settings) }, D$a("slot", { name: "settings" })));
}, U$1 = function() {
  const { bemClass: t5 } = O$1(this, I$2, "f").theme, { currentShape: a2 } = O$1(this, M$6, "f").controller.get;
  return D$a("div", { class: t5(O$1(this, T$5, "f").mainGrid._, null, { selected: !!a2() }) }, O$1(this, _$5, "m", X).call(this), O$1(this, _$5, "m", P$2).call(this));
}, X = function() {
  var _a2, _b2, _c2, _d2;
  const { bemClass: t5 } = O$1(this, I$2, "f").theme, { load: a2, masonry: s2, navToggle: i2, textfield: n2, tree: r2 } = O$1(this, M$6, "f").elements.jsx.navigation, l2 = O$1(this, T$5, "f").navigationGrid, o2 = Boolean((_b2 = (_a2 = this.lfNavigation) == null ? void 0 : _a2.treeProps) == null ? void 0 : _b2.lfDataset) && Boolean((_d2 = (_c2 = this.lfNavigation) == null ? void 0 : _c2.treeProps) == null ? void 0 : _d2.lfDataset), c2 = t5(l2._, void 0, { "has-drawer": o2 && this.isNavigationTreeOpen, "has-nav": o2 });
  return D$a("div", { class: c2, part: O$1(this, D$4, "f").navigation }, r2(), i2(), n2(), a2(), s2());
}, F$2.style = '::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-imageviewer-font-family, var(--lf-font-family-primary));font-size:var(--lf-imageviewer-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-imageviewer-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-imageviewer-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-imageviewer-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-imageviewer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-imageviewer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-imageviewer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-imageviewer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{background-color:rgba(var(--lf-imageviewer-color-bg, var(--lf-color-bg)), 0.125);color:rgb(var(--lf-imageviewer-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%}.imageviewer{width:100%;height:100%}.main-grid{border:0;border-style:solid;border-color:rgba(var(--lf-imageviewer-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-imageviewer-border-radius, var(--lf-ui-border-radius));width:100%;height:100%;box-sizing:border-box;display:grid;grid-template-columns:100% 0;overflow:auto}.main-grid--selected{grid-template-columns:30% 70%}.main-grid--selected .details-grid{display:grid}.navigation-grid{width:100%;height:100%;box-sizing:border-box;display:grid;grid-template-areas:"textfield" "button" "masonry";grid-template-columns:1fr;grid-template-rows:repeat(2, auto) 1fr;overflow:hidden}.navigation-grid--has-nav{grid-template-areas:"nav-toggle textfield" "nav-toggle button" "nav-toggle masonry";grid-template-columns:auto 1fr}.navigation-grid--has-nav .navigation-grid__nav-toggle{display:block}.navigation-grid--has-drawer{grid-template-areas:"tree nav-toggle textfield" "tree nav-toggle button" "tree nav-toggle masonry";grid-template-columns:var(--lf-imageviewer-nav-width, auto) auto 1fr}.navigation-grid--has-drawer .navigation-grid__tree{display:grid}.navigation-grid__button{grid-area:button;padding-bottom:0.75em}.navigation-grid__masonry{grid-area:masonry;overflow:auto;position:relative}.navigation-grid__nav-toggle{border-right:1px solid rgba(var(--lf-color-border));box-sizing:border-box;display:none;grid-area:nav-toggle}.navigation-grid__textfield{grid-area:textfield;padding:0}.navigation-grid__tree{display:none;grid-area:tree;overflow:auto}.details-grid{width:100%;height:100%;border-left:1px solid rgba(var(--lf-color-border));box-sizing:border-box;display:none;grid-template-areas:"image image" "actions actions" "tree settings";grid-template-columns:40% 1fr;grid-template-rows:60% auto 1fr;overflow:auto}.details-grid__actions{border-left:1px solid rgba(var(--lf-color-border));box-sizing:border-box;display:flex;grid-area:actions}.details-grid__canvas{border-bottom:1px solid rgba(var(--lf-color-border));box-sizing:border-box}.details-grid__preview{align-content:center;grid-area:image;position:relative}.details-grid__spinner{width:100%;height:100%;left:0;pointer-events:none;position:absolute;top:0}.details-grid__tree{border-right:1px solid rgba(var(--lf-color-border));box-sizing:border-box;grid-area:tree;overflow:auto}.details-grid__settings{grid-area:settings;overflow:auto}';
const p988ad9c7_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_imageviewer: F$2
}, Symbol.toStringTag, { value: "Module" }));
var b$5, u$4, p$3, v$5, m$5, z$7 = function(e2, r2, a2, i2) {
  if ("function" == typeof r2 ? e2 !== r2 || true : !r2.has(e2)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return r2.get(e2);
};
const w$6 = class w {
  constructor(a2) {
    n(this, a2), this.lfEvent = V$4(this, "lf-header-event"), this.lfStyle = "", b$5.set(this, void 0), u$4.set(this, LF_HEADER_BLOCKS), p$3.set(this, LF_HEADER_PARTS), v$5.set(this, LF_STYLE_ID), m$5.set(this, LF_WRAPPER_ID);
  }
  onLfEvent(e2, r2) {
    this.lfEvent.emit({ comp: this, id: this.rootElement.id, originalEvent: e2, eventType: r2 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const e2 = LF_HEADER_PROPS.map(((e3) => [e3, this[e3]]));
    return Object.fromEntries(e2);
  }
  async refresh() {
    pt(this);
  }
  async unmount(e2 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), e2);
  }
  connectedCallback() {
    z$7(this, b$5) && z$7(this, b$5).theme.register(this);
  }
  async componentWillLoad() {
    !(function(e2, r2, a2, i2, t5) {
      if ("function" == typeof r2 ? e2 !== r2 || true : !r2.has(e2)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
      r2.set(e2, a2);
    })(this, b$5, await a(this));
  }
  componentDidLoad() {
    const { info: e2 } = z$7(this, b$5).debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), e2.update(this, "did-load");
  }
  componentWillRender() {
    const { info: e2 } = z$7(this, b$5).debug;
    e2.update(this, "will-render");
  }
  componentDidRender() {
    const { info: e2 } = z$7(this, b$5).debug;
    e2.update(this, "did-render");
  }
  render() {
    const { bemClass: e2, setLfStyle: r2 } = z$7(this, b$5).theme, { header: a2 } = z$7(this, u$4), { lfStyle: o2 } = this;
    return D$a(W$e, { key: "d08eda643b8a9c7bc9d1bb117f09ab64660180f8" }, o2 && D$a("style", { key: "daa7eb123c72b285ce1c827f8adfdc0b0900f59c", id: z$7(this, v$5) }, r2(this)), D$a("div", { key: "b7499d58b9725b78bc9a608d82b051d5e63cefc3", id: z$7(this, m$5) }, D$a("header", { key: "027236b510cbaf1326bcd6a1e948f428670fbb40", class: e2(a2._), part: z$7(this, p$3).header }, D$a("section", { key: "11efdf4a877acc8d00e1e2aecb14fdce8963972f", class: e2(a2._, a2.section), part: z$7(this, p$3).section }, D$a("slot", { key: "87c980b4af04a6144b0f3000796a249d8a72bc00", name: LF_HEADER_SLOT })))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = z$7(this, b$5)) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
b$5 = /* @__PURE__ */ new WeakMap(), u$4 = /* @__PURE__ */ new WeakMap(), p$3 = /* @__PURE__ */ new WeakMap(), v$5 = /* @__PURE__ */ new WeakMap(), m$5 = /* @__PURE__ */ new WeakMap(), w$6.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}:host{display:block;font-family:var(--lf-header-font-family, var(--lf-font-family-primary));font-size:var(--lf-header-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-header-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-header-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-header-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-header-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-header-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-header-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-header-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{border:0;border-style:solid;border-radius:var(--lf-header-border-radius, var(--lf-ui-border-radius));border-top-left-radius:0;border-top-right-radius:0;background-color:rgba(var(--lf-header-color-header, var(--lf-color-header)), 0.375);color:rgb(var(--lf-header-color-on-header, var(--lf-color-on-header)));backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:0 2px 4px -1px rgba(var(--lf-color-on-header), 0.2), 0 4px 5px 0 rgba(var(--lf-color-on-header), 0.14), 0 1px 10px 0 rgba(var(--lf-color-on-header), 0.12);box-sizing:border-box;display:block;height:var(--lf-ui-height-header);left:0;top:0;width:100%;z-index:var(--lf-ui-zindex-header)}.header{width:100%;height:100%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:var(--lf-header-justify, space-between);padding:var(--lf-header-padding, 0.5em 0.75em)}.header__section{width:100%;height:100%;box-sizing:border-box;display:flex;position:relative}";
const pA6642965_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_header: w$6
}, Symbol.toStringTag, { value: "Module" }));
const m$4 = ({ depth: t5, expanded: r2 = false, manager: i2, node: o2, onClickExpand: n2, type: d2 }) => {
  const { get: c2 } = i2.assets, { bemClass: f2 } = i2.theme;
  switch (d2) {
    case "dropdown":
      return D$a("div", { class: f2(LF_TREE_BLOCKS.node._, LF_TREE_BLOCKS.node.dropdown, { expanded: r2 }), "data-cy": CY_ATTRIBUTES.maskedSvg });
    case "expand":
      return D$a("div", { class: f2(LF_TREE_BLOCKS.node._, LF_TREE_BLOCKS.node.expand, { expanded: r2 }), "data-cy": CY_ATTRIBUTES.maskedSvg, onClick: n2 });
    case "icon":
      const { style: i3 } = c2(`./assets/svg/${o2.icon}.svg`);
      return D$a("div", { class: f2(LF_TREE_BLOCKS.node._, LF_TREE_BLOCKS.node.icon), "data-cy": CY_ATTRIBUTES.maskedSvg, style: i3 });
    case "padding":
      return D$a("div", { class: f2(LF_TREE_BLOCKS.node._, LF_TREE_BLOCKS.node.padding), style: { [LF_TREE_CSS_VARIABLES.multiplier]: t5.toString() } });
    default:
      return D$a("div", { class: f2(LF_TREE_BLOCKS.node._, LF_TREE_BLOCKS.node.expand, { hidden: true }) });
  }
}, b$4 = (t5) => {
  var _a2, _b2;
  const { manager: r2 } = t5, { bemClass: i2 } = r2.theme, { accordionLayout: o2, depth: n2, elements: s2, events: c2, expanded: f2, node: h2, selected: p2 } = t5 || {}, u2 = D$a(m$4, h2.icon ? { manager: r2, node: h2, type: "icon" } : { manager: r2, type: "placeholder" });
  return o2 ? D$a("div", { class: i2(LF_TREE_BLOCKS.node._, null, { expanded: f2, selected: p2 }), "data-cy": CY_ATTRIBUTES.node, "data-depth": n2.toString(), key: h2.id, onClick: c2.onClickExpand, onPointerDown: c2.onPointerDown, part: LF_TREE_PARTS.node, title: h2.description }, D$a("div", { class: i2(LF_TREE_BLOCKS.node._, LF_TREE_BLOCKS.node.content) }, s2.ripple, u2, s2.value, D$a(m$4, ((_a2 = h2.children) == null ? void 0 : _a2.length) ? { expanded: f2, manager: r2, node: h2, type: "dropdown" } : { manager: r2, type: "placeholder" }))) : D$a("div", { class: i2(LF_TREE_BLOCKS.node._, null, { expanded: f2, selected: p2 }), "data-cy": CY_ATTRIBUTES.node, "data-depth": n2.toString(), key: h2.id, onClick: c2.onClick, onPointerDown: c2.onPointerDown, title: h2.description }, D$a("div", { class: "node__content" }, s2.ripple, D$a(m$4, { depth: n2, manager: r2, type: "padding" }), D$a(m$4, ((_b2 = h2.children) == null ? void 0 : _b2.length) ? { expanded: f2, manager: r2, node: h2, onClickExpand: c2.onClickExpand, type: "expand" } : { manager: r2, type: "placeholder" }), u2, s2.value));
}, v$4 = (t5) => ({ filter: () => {
  const { controller: r2, handlers: i2 } = t5(), { compInstance: o2, manager: n2 } = r2.get, { theme: a2 } = n2, { bemClass: s2, get: l2 } = a2, d2 = r2.get.blocks.tree;
  return o2.lfFilter ? D$a("lf-textfield", { class: s2(d2._, d2.filter), lfStretchX: true, lfIcon: l2.current().variables["--lf-icon-search"], lfLabel: "Search...", lfStyling: "flat", "onLf-textfield-event": (e2) => i2.filter.input(e2), ref: (e2) => t5().elements.refs.filterField = e2 }) : null;
}, header: () => {
  const { controller: r2 } = t5(), i2 = r2.get.columns(), { blocks: o2, isGrid: n2, manager: a2, parts: s2 } = r2.get;
  if (!(n2() && i2.length > 0)) return null;
  const { bemClass: l2 } = a2.theme, d2 = o2.header;
  return D$a("div", { class: l2(d2._), part: s2.header }, D$a("div", { class: l2(d2._, d2.row) }, i2.map(((t6, r3) => D$a("div", { class: l2(d2._, d2.cell), part: 0 === r3 ? s2.headerRow : void 0, "data-column": t6.id, "data-index": r3.toString(), key: t6.id }, t6.title)))));
}, nodes: () => {
  const r$12 = t5(), { controller: i2, elements: o2, handlers: n2 } = r$12, { get: a2 } = i2, { blocks: s2, manager: l2, parts: d2 } = a2, { bemClass: c2 } = l2.theme, { tree: f2 } = s2, h2 = l2.data.cell.stringify, p2 = a2.filterValue() || "", u2 = a2.columns(), m2 = a2.isGrid(), v2 = a2.dataset(), w3 = a2.manager.data.node.traverseVisible(v2 == null ? void 0 : v2.nodes, { isExpanded: a2.isExpanded, isHidden: a2.isHidden, isSelected: a2.isSelected, forceExpand: !!p2 }), k2 = w3.length > 0, y2 = w3.map((({ node: t6, depth: r$13, expanded: i3, selected: f3 }) => {
    const p3 = s2.node, v3 = ((t7) => {
      if (!m2 || !u2.length) return null;
      const r$14 = s2.node;
      return D$a("div", { class: c2(r$14._, r$14.grid), part: d2.node + "-grid" }, u2.map(((r$15, i4) => ((t8, r$16, i5) => {
        var _a2;
        const o3 = s2.node, n3 = (_a2 = t8.cells) == null ? void 0 : _a2[r$16.id];
        if (!n3) {
          const n4 = c2(o3._, o3.gridCell);
          return D$a("div", { class: i5 ? n4 + " value" : n4, "data-column": r$16.id }, i5 ? h2(t8.value) : "");
        }
        const d3 = n3.shape || "text", f4 = "text" === d3 || "number" === d3 || "slot" === d3, p4 = l2.data.cell.shapes.get(n3);
        Object.prototype.hasOwnProperty.call(p4, "lfValue") || (p4.lfValue = n3.value);
        const u3 = p4.lfValue ?? n3.value;
        return D$a("div", { class: c2(o3._, o3.gridCell), "data-column": r$16.id }, f4 ? h2(u3) : D$a(r, { framework: l2, shape: d3, index: 0, cell: p4, eventDispatcher: async (e2) => a2.compInstance.onLfEvent(e2, "lf-event", { node: t8 }) }));
      })(t7, r$15, 0 === i4))));
    })(t6), w4 = a2.compInstance.lfGrid && v3 ? D$a("div", { class: c2(p3._, p3.value, { grid: true }) }, v3) : D$a("div", { class: c2(p3._, p3.value) }, h2(t6.value));
    return D$a(b$4, { accordionLayout: a2.compInstance.lfAccordionLayout && 0 === r$13, depth: r$13, elements: { ripple: D$a("div", { "data-cy": a2.cyAttributes.rippleSurface, "data-lf": a2.lfAttributes.rippleSurface, ref: (e2) => {
      e2 && a2.compInstance.lfRipple && (o2.refs.rippleSurfaces[t6.id] = e2);
    } }), value: w4 }, events: { onClick: (e2) => n2.node.click(e2, t6), onClickExpand: (e2) => n2.node.expand(e2, t6), onPointerDown: (e2) => n2.node.pointerDown(e2, t6) }, expanded: i3, manager: l2, node: t6, selected: f3 });
  }));
  if (k2) return D$a("div", { class: c2(f2._, f2.nodesWrapper) }, y2);
  if (p2) {
    const { noMatches: t6 } = s2;
    return D$a("div", { class: c2(t6._) }, D$a("div", { class: c2(t6._, t6.icon) }), D$a("div", { class: c2(t6._, t6.text) }, 'No matches found for "', D$a("strong", { class: c2(t6._, t6.filter) }, p2), '".'));
  }
  return D$a("div", { class: c2(f2._, f2.nodesWrapper) });
}, empty: () => {
  const { controller: r2 } = t5(), { compInstance: i2, manager: o2 } = r2.get, { theme: n2 } = o2, { bemClass: a2 } = n2, s2 = r2.get.blocks, { emptyData: l2 } = s2, d2 = r2.get.parts;
  return D$a("div", { class: a2(l2._), part: d2.emptyData }, D$a("div", { class: a2(l2._, l2.text) }, i2.lfEmpty));
} }), w$5 = (e2) => ({ filter: { input: (t5) => {
  var _a2, _b2;
  const r2 = e2(), { controller: i2 } = r2, o2 = i2.get.compInstance, n2 = ((_a2 = t5.detail.inputValue) == null ? void 0 : _a2.toLowerCase()) || "";
  clearTimeout(o2._filterTimeout), o2._filterTimeout = setTimeout((() => {
    i2.set.filter.setValue(n2), i2.set.filter.apply(n2);
  }), 300), (_b2 = o2.onLfEvent) == null ? void 0 : _b2.call(o2, t5, "lf-event");
} }, node: { click: (t5, r2) => {
  var _a2;
  const i2 = e2(), { controller: o2 } = i2, n2 = o2.get.compInstance;
  o2.set.state.selection.set(r2), (_a2 = n2.onLfEvent) == null ? void 0 : _a2.call(n2, t5, "click", { node: r2 });
}, expand: (t5, r2) => {
  var _a2;
  const i2 = e2(), { controller: o2 } = i2, n2 = o2.get.compInstance;
  o2.set.state.expansion.toggle(r2), (_a2 = n2.onLfEvent) == null ? void 0 : _a2.call(n2, t5, "click", { node: r2 });
}, pointerDown: (t5, r2) => {
  var _a2;
  const i2 = e2(), { controller: o2 } = i2, n2 = o2.get.compInstance;
  (_a2 = n2.onLfEvent) == null ? void 0 : _a2.call(n2, t5, "pointerdown", { node: r2 });
} } }), k$6 = /* @__PURE__ */ new WeakMap();
let y$5 = 0;
const x$6 = (e2) => {
  if (null == e2) return [];
  if (Array.isArray(e2)) return e2.map(((e3) => "string" == typeof e3 || "number" == typeof e3 ? String(e3) : null)).filter(((e3) => !!e3));
  if (e2 instanceof Set) return Array.from(e2).map(((e3) => "string" == typeof e3 || "number" == typeof e3 ? String(e3) : null)).filter(((e3) => !!e3));
  if ("string" == typeof e2) {
    try {
      const t5 = JSON.parse(e2);
      if (Array.isArray(t5)) return x$6(t5);
    } catch (t5) {
      const r2 = e2.split(/[\,\s]+/).map(((e3) => e3.trim())).filter(Boolean);
      if (r2.length) return r2;
    }
    return e2 ? [e2] : [];
  }
  return [];
}, _$4 = (e2) => null == e2 ? [] : Array.isArray(e2) ? e2 : [e2], z$6 = (e2) => {
  if (!e2) return null;
  const t5 = e2.id;
  if (null != t5) {
    const r3 = String(t5).trim();
    if (r3) return k$6.delete(e2), r3;
  }
  const r2 = k$6.get(e2);
  if (r2) return e2.id = r2, r2;
  var i2;
  const o2 = `${("string" == typeof (i2 = e2.value) && i2.trim() ? i2.trim().toLowerCase().replace(/[^a-z0-9]+/g, "-").replace(/^-+|-+$/g, "").slice(0, 32) || null : "number" != typeof i2 || Number.isNaN(i2) ? null : String(i2)) ?? "node"}-${(++y$5).toString(36)}`;
  return k$6.set(e2, o2), e2.id = o2, o2;
}, S$2 = (e2) => {
  const t5 = [];
  for (const r2 of e2) if ("string" == typeof r2 || "number" == typeof r2) {
    const e3 = String(r2);
    e3 && t5.push(e3);
  } else {
    const e3 = z$6(r2);
    e3 && t5.push(e3);
  }
  return t5;
}, P$1 = (e2, t5) => {
  let r2, i2 = false;
  const o2 = (e3) => {
    var r3, o3;
    (r3 = x$6(t5.getProp())).length === (o3 = e3).length && r3.every(((e4, t6) => e4 === o3[t6])) || (i2 = true, t5.setProp([...e3]), i2 = false);
  };
  return { syncProp: o2, applyIdsWithSanitization: (e3, i3, o3) => {
    const n2 = x$6(e3), a2 = t5.getManager();
    if (!a2) return r2 = [...n2], o3(n2, i3), n2;
    const { ids: s2 } = a2.data.node.sanitizeIds(t5.getDataset(), n2);
    return r2 = void 0, o3(s2, i3), s2;
  }, handlePropChange: (e3, t6) => {
    if (i2) return;
    const r3 = t6(x$6(e3), { emit: false, updateProp: false });
    o2(r3);
  }, initialisePersistentState: (e3, t6, i3) => {
    const o3 = x$6(e3);
    return o3.length ? (t6(o3, { emit: false, updateProp: true }), void (r2 = void 0)) : r2 && r2.length ? (t6(r2, { emit: false, updateProp: true }), void (r2 = void 0)) : void (i3 && i3());
  }, reconcileAfterDatasetChange: (e3, r3, i3) => {
    const n2 = x$6(t5.getProp());
    if (n2.length) {
      const e4 = r3(n2, { emit: false, updateProp: false });
      o2(e4);
    } else {
      if (e3 && e3.length) {
        const t6 = r3(e3, { emit: false, updateProp: false });
        if (o2(t6), t6.length) return;
      }
      i3 && i3();
    }
  }, getPendingIds: () => r2, clearPendingIds: () => {
    r2 = void 0;
  } };
};
var C$5, E$5, D$3, I$1, A$2, N, M$5, W$6, T$4, j$3, L$2, F$1, H$1, V$1 = function(e2, t5, r2, i2) {
  if ("a" === r2 && !i2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof t5 ? e2 !== t5 || !i2 : !t5.has(e2)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === r2 ? i2 : "a" === r2 ? i2.call(e2) : i2 ? i2.value : t5.get(e2);
}, $$1 = function(e2, t5, r2, i2, o2) {
  if ("function" == typeof t5 ? e2 !== t5 || true : !t5.has(e2)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return t5.set(e2, r2), r2;
};
const B$1 = class B {
  constructor(e2) {
    n(this, e2), this.lfEvent = V$4(this, "lf-tree-event"), C$5.add(this), this.expandedNodes = /* @__PURE__ */ new Set(), this.hiddenNodes = /* @__PURE__ */ new Set(), this.selectedNode = null, this.lfAccordionLayout = true, this.lfDataset = null, this.lfEmpty = "Empty data.", this.lfFilter = true, this.lfGrid = false, this.lfRipple = true, this.lfSelectable = true, this.lfStyle = "", this.lfUiSize = "medium", E$5.set(this, void 0), D$3.set(this, LF_TREE_BLOCKS), I$1.set(this, LF_TREE_PARTS), A$2.set(this, CY_ATTRIBUTES), N.set(this, LF_ATTRIBUTES), M$5.set(this, LF_STYLE_ID), W$6.set(this, LF_WRAPPER_ID), this._filterValue = "", T$4.set(this, void 0), j$3.set(this, void 0), L$2.set(this, void 0);
  }
  handleDatasetChange() {
    if (!V$1(this, E$5, "f") || !V$1(this, j$3, "f") || !V$1(this, L$2, "f")) return;
    const e2 = new Set(this.expandedNodes), t5 = z$6(this.selectedNode);
    V$1(this, j$3, "f").reconcileAfterDatasetChange(e2), V$1(this, L$2, "f").reconcileAfterDatasetChange(t5), this.hiddenNodes = /* @__PURE__ */ new Set();
  }
  handleExpandedPropChange(e2) {
    V$1(this, j$3, "f") && V$1(this, j$3, "f").handlePropChange(e2);
  }
  handleSelectedPropChange(e2) {
    V$1(this, L$2, "f") && V$1(this, L$2, "f").handlePropChange(e2);
  }
  handleInitialDepthChange() {
    V$1(this, j$3, "f") && V$1(this, j$3, "f").handleInitialDepthChange(new Set(this.expandedNodes));
  }
  handleSelectableChange(e2) {
    V$1(this, L$2, "f") && V$1(this, L$2, "f").handleSelectableChange(!!e2);
  }
  handleFilterToggle(e2) {
    e2 || (this._filterValue = "", this.hiddenNodes = /* @__PURE__ */ new Set());
  }
  onLfEvent(e2, t5, r2 = {}) {
    var _a2, _b2;
    const i2 = V$1(this, E$5, "f"), o2 = r2.node ?? null;
    if (i2 && "pointerdown" === t5 && this.lfRipple) {
      const t6 = z$6(o2), r3 = t6 ? (_a2 = V$1(this, T$4, "f")) == null ? void 0 : _a2.elements.refs.rippleSurfaces[t6] : void 0;
      r3 && i2.effects.ripple(e2, r3);
    }
    const n2 = { comp: this, eventType: t5, id: (_b2 = this.rootElement) == null ? void 0 : _b2.id, originalEvent: e2, node: o2 ?? void 0, expandedNodeIds: r2.expandedNodeIds ?? (V$1(this, j$3, "f") ? V$1(this, j$3, "f").getIds() : []), selectedNodeIds: r2.selectedNodeIds ?? (V$1(this, L$2, "f") ? V$1(this, L$2, "f").getIds() : []) };
    this.lfEvent.emit(n2);
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const e2 = LF_TREE_PROPS.map(((e3) => [e3, this[e3]]));
    return Object.fromEntries(e2);
  }
  async refresh() {
    pt(this);
  }
  async getExpandedNodeIds() {
    return V$1(this, j$3, "f") ? V$1(this, j$3, "f").getIds() : [];
  }
  async getSelectedNodeIds() {
    return V$1(this, L$2, "f") ? V$1(this, L$2, "f").getIds() : [];
  }
  async setExpandedNodes(e2) {
    if (!V$1(this, j$3, "f")) return;
    if (null == e2) return void V$1(this, j$3, "f").applyIds([], { emit: true, updateProp: true });
    const t5 = _$4(e2), r2 = S$2(t5);
    V$1(this, j$3, "f").applyIds(r2, { emit: true, updateProp: true });
  }
  async setSelectedNodes(e2) {
    V$1(this, L$2, "f") && (null != e2 ? V$1(this, L$2, "f").applyTargets(e2, { emit: true, updateProp: true }) : V$1(this, L$2, "f").applyIds([], { emit: true, updateProp: true }));
  }
  async selectByPredicate(e2) {
    if (!V$1(this, E$5, "f") || !this.lfDataset) return;
    const t5 = V$1(this, E$5, "f").data.node.find(this.lfDataset, e2);
    if (t5) return await this.setSelectedNodes(t5), t5;
    await this.setSelectedNodes(null);
  }
  async unmount(e2 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), e2);
  }
  connectedCallback() {
    V$1(this, E$5, "f") && V$1(this, E$5, "f").theme.register(this);
  }
  async componentWillLoad() {
    var e2;
    $$1(this, E$5, await a(this)), $$1(this, T$4, { controller: { get: { blocks: V$1(this, D$3, "f"), columns: () => {
      var _a2;
      return ((_a2 = this.lfDataset) == null ? void 0 : _a2.columns) || [];
    }, compInstance: this, cyAttributes: V$1(this, A$2, "f"), dataset: () => this.lfDataset, filterValue: () => this._filterValue, isExpanded: (e3) => {
      const t5 = z$6(e3);
      return !!t5 && this.expandedNodes.has(t5);
    }, isGrid: () => {
      var _a2, _b2;
      return !(!this.lfGrid || !((_b2 = (_a2 = this.lfDataset) == null ? void 0 : _a2.columns) == null ? void 0 : _b2.length));
    }, isHidden: (e3) => this.hiddenNodes.has(e3), isSelected: (e3) => this.selectedNode === e3, lfAttributes: V$1(this, N, "f"), manager: V$1(this, E$5, "f"), parts: V$1(this, I$1, "f"), state: { expansion: { ids: () => {
      var _a2;
      return ((_a2 = V$1(this, j$3, "f")) == null ? void 0 : _a2.getIds()) ?? Array.from(this.expandedNodes);
    }, nodes: () => this.expandedNodes }, selection: { ids: () => {
      if (V$1(this, L$2, "f")) return V$1(this, L$2, "f").getIds();
      const e3 = z$6(this.selectedNode);
      return e3 ? [e3] : [];
    }, node: () => this.selectedNode } }, expandedProp: () => this.lfExpandedNodeIds, selectedProp: () => this.lfSelectedNodeIds, initialExpansionDepth: () => this.lfInitialExpansionDepth, selectable: () => this.lfSelectable, allowsMultiSelect: () => V$1(this, C$5, "m", F$1).call(this), canSelectNode: (e3) => V$1(this, C$5, "m", H$1).call(this, e3) }, set: { filter: { apply: (e3) => {
      if (!V$1(this, E$5, "f") || !this.lfDataset) return void (this.hiddenNodes = /* @__PURE__ */ new Set());
      if (!e3) return void (this.hiddenNodes = /* @__PURE__ */ new Set());
      const { filter: t5 } = V$1(this, E$5, "f").data.node, { ancestorNodes: r2, remainingNodes: i2 } = t5(this.lfDataset, { value: e3 }, true), o2 = new Set(i2);
      r2 && r2.forEach(((e4) => o2.delete(e4))), this.hiddenNodes = o2;
    }, setValue: (e3) => {
      this._filterValue = e3;
    } }, state: { expansion: { apply: () => {
      var _a2, _b2;
      const e3 = (_a2 = V$1(this, j$3, "f")) == null ? void 0 : _a2.getIds();
      void 0 !== e3 && ((_b2 = V$1(this, j$3, "f")) == null ? void 0 : _b2.applyIds(e3, { emit: false, updateProp: true }));
    }, toggle: (e3) => {
      var _a2;
      return (_a2 = V$1(this, j$3, "f")) == null ? void 0 : _a2.toggle(e3);
    }, setNodes: (e3) => {
      this.expandedNodes = new Set(e3);
    }, setProp: (e3) => {
      this.lfExpandedNodeIds = e3;
    } }, selection: { apply: () => {
      var _a2, _b2;
      const e3 = (_a2 = V$1(this, L$2, "f")) == null ? void 0 : _a2.getIds();
      void 0 !== e3 && ((_b2 = V$1(this, L$2, "f")) == null ? void 0 : _b2.applyIds(e3, { emit: false, updateProp: true }));
    }, set: (e3) => {
      var _a2;
      return (_a2 = V$1(this, L$2, "f")) == null ? void 0 : _a2.applyTargets(e3, { emit: true, updateProp: true, node: e3 });
    }, clear: () => {
      var _a2;
      (_a2 = V$1(this, L$2, "f")) == null ? void 0 : _a2.clearSelection({ emit: true, updateProp: true });
    }, setNode: (e3) => {
      this.selectedNode = e3 ?? null;
    }, setProp: (e3) => {
      this.lfSelectedNodeIds = e3;
    } } } } }, elements: { jsx: v$4(e2 = () => V$1(this, T$4, "f")), refs: { rippleSurfaces: {}, filterField: null } }, handlers: w$5(e2) }), $$1(this, j$3, ((e3) => {
      const { controller: t5 } = e3(), r2 = P$1(0, { getProp: () => t5.get.expandedProp(), setProp: (e4) => t5.set.state.expansion.setProp(e4), getDataset: () => t5.get.dataset(), getManager: () => t5.get.manager }), i2 = () => {
        const e4 = t5.get.state.expansion.nodes();
        return Array.from(e4 ?? /* @__PURE__ */ new Set());
      }, o2 = (e4, i3 = {}) => {
        t5.set.state.expansion.setNodes(e4), false !== i3.updateProp && r2.syncProp(e4);
      }, n2 = (e4, t6 = {}) => r2.applyIdsWithSanitization(e4, t6, ((e5, t7) => {
        o2(e5, t7);
      })), a2 = (e4) => {
        const r3 = t5.get.initialExpansionDepth(), i3 = t5.get.dataset(), n3 = (i3 == null ? void 0 : i3.nodes) ?? [], a3 = e4 ? new Set(e4) : /* @__PURE__ */ new Set(), s2 = /* @__PURE__ */ new Set(), l2 = (e5, t6) => {
          for (const i4 of e5) {
            const e6 = z$6(i4);
            e6 && (null == r3 || t6 < r3 || a3.has(e6)) && s2.add(e6), Array.isArray(i4.children) && i4.children.length > 0 && l2(i4.children, t6 + 1);
          }
        };
        l2(n3, 0), o2(Array.from(s2), {});
      };
      return { applyIds: n2, handlePropChange: (e4) => {
        r2.handlePropChange(e4, n2);
      }, applyInitialExpansion: a2, reconcileAfterDatasetChange: (e4) => {
        const t6 = e4 ? Array.from(e4) : null;
        r2.reconcileAfterDatasetChange(t6, n2, (() => {
          a2(e4);
        }));
      }, handleInitialDepthChange(e4) {
        a2(e4);
      }, toggle: (e4) => {
        const t6 = z$6(e4);
        if (!t6) return;
        const r3 = new Set(i2());
        r3.has(t6) ? r3.delete(t6) : r3.add(t6), n2(Array.from(r3), { emit: true, updateProp: true, node: e4 });
      }, getIds: () => i2(), initialisePersistentState: (e4) => {
        r2.initialisePersistentState(e4, n2, (() => {
          a2(new Set(i2()));
        }));
      } };
    })((() => V$1(this, T$4, "f")))), $$1(this, L$2, ((e3) => {
      const { controller: t5 } = e3(), r2 = P$1(0, { getProp: () => t5.get.selectedProp(), setProp: (e4) => t5.set.state.selection.setProp(e4), getDataset: () => t5.get.dataset(), getManager: () => t5.get.manager });
      let i2 = [];
      const o2 = (e4, o3, n3 = {}) => {
        const a3 = t5.get.allowsMultiSelect() ? e4 : e4.slice(0, 1);
        return i2 = [...a3], t5.set.state.selection.setNode(i2.length ? o3[0] ?? null : null), false !== n3.updateProp && r2.syncProp(i2), i2;
      }, n2 = (e4 = {}) => (r2.clearPendingIds(), i2 = [], t5.set.state.selection.setNode(null), false !== e4.updateProp && r2.syncProp([]), i2), a2 = (e4, i3 = {}) => {
        if (!t5.get.selectable()) return n2(i3);
        let a3 = [];
        return r2.applyIdsWithSanitization(e4, i3, ((e5, r3) => {
          const i4 = t5.get.manager, n3 = t5.get.dataset();
          if (i4 && n3) {
            const s2 = i4.data.node.sanitizeIds(n3, e5, { predicate: (e6) => t5.get.canSelectNode(e6), limit: t5.get.allowsMultiSelect() ? void 0 : 1 });
            a3 = o2(s2.ids, s2.nodes, r3);
          } else {
            const i5 = t5.get.allowsMultiSelect() ? e5 : e5.slice(0, 1);
            a3 = o2(i5, [], r3);
          }
        })), a3;
      };
      return { applyIds: a2, applyTargets: (e4, t6 = {}) => {
        if (null == e4) return a2([], t6);
        const r3 = _$4(e4), i3 = S$2(r3);
        return a2(i3, t6);
      }, handlePropChange: (e4) => {
        r2.handlePropChange(e4, a2);
      }, reconcileAfterDatasetChange: (e4) => {
        r2.reconcileAfterDatasetChange(e4 ? [e4] : null, a2, (() => {
          n2({ updateProp: true });
        }));
      }, initialisePersistentState: (e4) => {
        r2.initialisePersistentState(e4, a2, (() => {
          n2({ updateProp: true });
        }));
      }, handleSelectableChange: (e4) => {
        e4 || n2({ updateProp: true });
      }, getIds: () => [...i2], clearSelection: n2 };
    })((() => V$1(this, T$4, "f")))), V$1(this, j$3, "f").initialisePersistentState(this.lfExpandedNodeIds), V$1(this, L$2, "f").initialisePersistentState(this.lfSelectedNodeIds), V$1(this, L$2, "f").handleSelectableChange(this.lfSelectable), this.handleDatasetChange();
  }
  componentDidLoad() {
    const { info: e2 } = V$1(this, E$5, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), e2.update(this, "did-load");
  }
  componentWillRender() {
    const { info: e2 } = V$1(this, E$5, "f").debug;
    e2.update(this, "will-render");
  }
  componentDidRender() {
    const { debug: e2 } = V$1(this, E$5, "f");
    e2.info.update(this, "did-render");
  }
  render() {
    var _a2, _b2;
    const { bemClass: t5, setLfStyle: r2 } = V$1(this, E$5, "f").theme, { tree: i2 } = V$1(this, D$3, "f"), { lfDataset: n2, lfStyle: a2, lfGrid: s2 } = this, l2 = (_a2 = V$1(this, T$4, "f")) == null ? void 0 : _a2.elements.jsx, d2 = !((_b2 = n2 == null ? void 0 : n2.nodes) == null ? void 0 : _b2.length);
    return D$a(W$e, { key: "bb981ab53aaaa3837054ca638c97601e46a58cfe" }, a2 && D$a("style", { key: "87d22f0df77b8522e5a1f8465a7f7b49f30a6142", id: V$1(this, M$5, "f") }, r2(this)), D$a("div", { key: "e9aaa9ae39004cbc097228bf92cfd17efa336506", id: V$1(this, W$6, "f") }, D$a("div", { key: "4f1c47a323a598ad7d22ce45b7ebd49d6ed5fa4e", class: t5(i2._) + (s2 ? " tree--grid" : ""), part: V$1(this, I$1, "f").tree }, l2 == null ? void 0 : l2.filter(), l2 == null ? void 0 : l2.header(), d2 ? l2 == null ? void 0 : l2.empty() : l2 == null ? void 0 : l2.nodes())));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = V$1(this, E$5, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfDataset: ["handleDatasetChange"], lfExpandedNodeIds: ["handleExpandedPropChange"], lfSelectedNodeIds: ["handleSelectedPropChange"], lfInitialExpansionDepth: ["handleInitialDepthChange"], lfSelectable: ["handleSelectableChange"], lfFilter: ["handleFilterToggle"] };
  }
};
E$5 = /* @__PURE__ */ new WeakMap(), D$3 = /* @__PURE__ */ new WeakMap(), I$1 = /* @__PURE__ */ new WeakMap(), A$2 = /* @__PURE__ */ new WeakMap(), N = /* @__PURE__ */ new WeakMap(), M$5 = /* @__PURE__ */ new WeakMap(), W$6 = /* @__PURE__ */ new WeakMap(), T$4 = /* @__PURE__ */ new WeakMap(), j$3 = /* @__PURE__ */ new WeakMap(), L$2 = /* @__PURE__ */ new WeakMap(), C$5 = /* @__PURE__ */ new WeakSet(), F$1 = function() {
  return false;
}, H$1 = function(e2) {
  return !!e2 && !!this.lfSelectable && true !== e2.isDisabled;
}, B$1.style = '::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}:host{display:block;font-family:var(--lf-tree-font-family, var(--lf-font-family-primary));font-size:var(--lf-tree-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-tree-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-tree-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-tree-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-tree-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-tree-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-tree-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-tree-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}:host([lf-accordion-layout]) .node[data-depth="0"]{border:0;border-style:solid;border-radius:var(--lf-tree-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-tree-color-surface, var(--lf-color-surface)), 0.375);color:rgb(var(--lf-tree-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);font-size:1em;height:var(--lf-tree-accordion-node-height, 4em)}:host([lf-accordion-layout]) .node[data-depth="0"] .node__value{font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;font-size:1em}:host([lf-selectable]) .node:hover{background-color:rgba(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)), 0.075);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}:host([lf-selectable]) .node--selected{background-color:rgba(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)), 0.175);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}:host([lf-selectable]) .node--selected:hover{background-color:rgba(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)), 0.225);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.tree{border:0;border-style:solid;border-radius:var(--lf-tree-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-tree-color-bg, var(--lf-color-bg)), 0.275);color:rgb(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);padding:var(--lf-tree-padding, 0)}.tree__filter{border:0;border-style:solid;border-radius:var(--lf-tree-border-radius, var(--lf-ui-border-radius));border-bottom-left-radius:0;border-bottom-right-radius:0;background-color:rgba(var(--lf-tree-color-surface, var(--lf-color-surface)), 0.875);color:rgb(var(--lf-tree-color-on-surface, var(--lf-color-on-surface)));backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);position:sticky;top:0;z-index:1}.tree--grid{align-content:start;display:grid;height:100%;overflow:auto;width:100%}.tree--grid .header{position:sticky;top:0;z-index:2;background:var(--lf-tree-color-bg, rgba(0, 0, 0, 0.3));backdrop-filter:blur(10px);font-size:0.85em;line-height:1.2}.tree--grid .header__row{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(120px, auto);column-gap:0.5em;padding:0.5em 1em 0.25em 3.25em;box-sizing:border-box}.tree--grid .header__cell{font-size:0.875em;font-weight:400;line-height:1.25em;letter-spacing:0.2em;font-weight:600;text-transform:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.node{color:rgb(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)));transition:all 200ms cubic-bezier(0.4, 0, 0.6, 1);box-sizing:border-box;height:var(--lf-tree-node-height, 2em);padding:var(--lftree-node-padding, 0 1em);position:relative}.node__content{width:100%;height:100%;align-items:center;display:flex}.node__dropdown,.node__expand,.node__icon{cursor:pointer;margin:0}.node__dropdown,.node__expand{transition:all 200ms cubic-bezier(0.4, 0, 0.6, 1);overflow:hidden}.node__dropdown:hover,.node__expand:hover{opacity:0.75}.node__dropdown{-webkit-mask:var(--lf-icon-dropdown);mask:var(--lf-icon-dropdown);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden}.node__dropdown--expanded{transform:rotate(180deg)}.node__dropdown--expanded:hover{opacity:0.75}.node__dropdown--hidden{visibility:hidden}.node__expand{-webkit-mask:var(--lf-icon-collapsed);mask:var(--lf-icon-collapsed);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden}.node__expand--expanded{-webkit-mask:var(--lf-icon-expanded);mask:var(--lf-icon-expanded);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden}.node__expand--hidden{visibility:hidden}.node__icon{background-color:rgba(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden}.node__padding{height:100%;width:calc(1.75em * var(--lf_tree_padding_multiplier))}.node__value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.875em;font-weight:500;line-height:1.5em;letter-spacing:0.01em;margin:0 0 0 0.5em;width:100%}.node__value--grid .node__grid{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(120px, auto);column-gap:0.5em;align-items:center;padding:0 1em 0 0;box-sizing:border-box;min-height:100%}.node__value--grid .node__grid-cell{font-size:0.875em;font-weight:500;line-height:1.5em;letter-spacing:0.01em;display:flex;align-items:center;min-height:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.node__value--grid .node__grid-cell--value{font-weight:500}.no-matches{color:rgb(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)));align-items:center;box-sizing:border-box;display:flex;justify-content:center;margin:auto;padding:1em;width:100%}.no-matches__icon{-webkit-mask:var(--lf-icon-warning);mask:var(--lf-icon-warning);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-tree-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden;margin-right:0.375em}.no-matches__text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.875em;font-weight:400;line-height:1.25em;letter-spacing:0.2em}.no-matches__filter{color:var(--lf-primary-color)}.empty-data{width:100%;height:100%;font-size:1em;font-weight:400;line-height:1.6em;letter-spacing:0em;margin-bottom:1em;align-items:center;display:flex;justify-content:center;margin:1em 0}';
const pB1bf3d70_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_tree: B$1
}, Symbol.toStringTag, { value: "Module" }));
var p$2, u$3, b$3, g$4, y$4, w$4, k$5, z$5, x$5, _$3 = function(t5, a2, o2, s2) {
  if ("function" == typeof a2 ? t5 !== a2 || true : !a2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return a2.get(t5);
};
const W$5 = class W {
  constructor(s2) {
    n(this, s2), this.lfEvent = V$4(this, "lf-toast-event"), this.lfCloseIcon = "", this.lfCloseCallback = () => {
      this.unmount();
    }, this.lfTimer = null, this.lfMessage = "", this.lfStyle = "", this.lfUiSize = "medium", this.lfUiState = "primary", p$2.set(this, void 0), u$3.set(this, LF_TOAST_BLOCKS), b$3.set(this, CY_ATTRIBUTES), g$4.set(this, LF_ATTRIBUTES), y$4.set(this, LF_TOAST_PARTS), w$4.set(this, LF_STYLE_ID), k$5.set(this, LF_TOAST_CSS_VARIABLES), z$5.set(this, LF_WRAPPER_ID), x$5.set(this, ((t5 = false) => {
      const { assets: a2, theme: s3 } = _$3(this, p$2), { get: r2 } = a2, { bemClass: e2 } = s3, { toast: i2 } = _$3(this, u$3), { style: l2 } = r2(`./assets/svg/${t5 ? this.lfCloseIcon : this.lfIcon}.svg`);
      return D$a("div", { class: e2(i2._, i2.icon, { "has-actions": t5 }), "data-cy": _$3(this, b$3).maskedSvg, onPointerDown: t5 ? (t6) => this.lfCloseCallback(this, t6) : null, part: _$3(this, y$4).icon, style: l2, tabIndex: t5 && 0 });
    }));
  }
  onLfEvent(t5, a2) {
    this.lfEvent.emit({ comp: this, eventType: a2, id: this.rootElement.id, originalEvent: t5 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_TOAST_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async refresh() {
    pt(this);
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    _$3(this, p$2) && _$3(this, p$2).theme.register(this);
  }
  async componentWillLoad() {
    if ((function(t5, a2, o2, s2, r2) {
      if ("function" == typeof a2 ? t5 !== a2 || true : !a2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
      a2.set(t5, o2);
    })(this, p$2, await a(this)), "" === this.lfCloseIcon) {
      const { "--lf-icon-delete": t5 } = _$3(this, p$2).theme.get.current().variables;
      this.lfCloseIcon = t5;
    }
  }
  componentDidLoad() {
    const { info: t5 } = _$3(this, p$2).debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = _$3(this, p$2).debug;
    t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = _$3(this, p$2).debug, { lfTimer: a2 } = this;
    a2 && setTimeout((() => {
      this.lfCloseCallback ? this.lfCloseCallback(this, null) : this.unmount();
    }), a2), t5.update(this, "did-render");
  }
  render() {
    const { theme: t5 } = _$3(this, p$2), { bemClass: a2, setLfStyle: s2 } = t5, { toast: e2 } = _$3(this, u$3), { lfCloseIcon: i2, lfIcon: l2, lfMessage: n2, lfStyle: f2, lfTimer: c2 } = this;
    return D$a(W$e, { key: "93f2712f80c3bc24cc6bf2b3d58a6a6b51b47092" }, D$a("style", { key: "42dbb4395076e39224a5ca44029b57220ab1434c", id: _$3(this, w$4) }, `
          :host {
            ${c2 ? `${_$3(this, k$5).timer}: ${c2}ms;` : ""}
          }
        ${f2 && s2(this) || ""}`), D$a("div", { key: "4c17a74bfe36236f0d4940ad7a7a109825d82d26", id: _$3(this, z$5), "data-lf": _$3(this, g$4).fadeIn }, D$a("div", { key: "25368e35f0232a729b6a0f686436438267494d4e", class: a2(e2._), "data-lf": _$3(this, g$4)[this.lfUiState] }, D$a("div", { key: "0d914343dcc49dc47cf397e996175c75f7a431ab", class: a2(e2._, e2.accent, { temporary: !!c2 }) }), D$a("div", { key: "07650a14597f3a70c286958f24b08bec5621d115", class: a2(e2._, e2.messageWrapper, { full: Boolean(l2) && Boolean(i2), "has-actions": Boolean(i2), "has-icon": Boolean(l2) }) }, l2 && _$3(this, x$5).call(this), n2 && D$a("div", { key: "f4898608ad075e0b530a530b520e7430ae012b40", class: a2(e2._, e2.message) }, n2), i2 && _$3(this, x$5).call(this, true)))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = _$3(this, p$2)) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
p$2 = /* @__PURE__ */ new WeakMap(), u$3 = /* @__PURE__ */ new WeakMap(), b$3 = /* @__PURE__ */ new WeakMap(), g$4 = /* @__PURE__ */ new WeakMap(), y$4 = /* @__PURE__ */ new WeakMap(), w$4 = /* @__PURE__ */ new WeakMap(), k$5 = /* @__PURE__ */ new WeakMap(), z$5 = /* @__PURE__ */ new WeakMap(), x$5 = /* @__PURE__ */ new WeakMap(), W$5.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=danger]{--lf-toast-color-primary:var(\n    --lf-toast-color-danger,\n    var(--lf-color-danger)\n  );--lf-toast-color-on-primary:var(\n    --lf-toast-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-toast-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-toast-color-primary:var(\n    --lf-toast-color-info,\n    var(--lf-color-info)\n  );--lf-toast-color-on-primary:var(\n    --lf-toast-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-toast-color-primary:var(\n    --lf-toast-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-toast-color-on-primary:var(\n    --lf-toast-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-toast-color-primary:var(\n    --lf-toast-color-success,\n    var(--lf-color-success)\n  );--lf-toast-color-on-primary:var(\n    --lf-toast-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-toast-color-primary:var(\n    --lf-toast-color-warning,\n    var(--lf-color-warning)\n  );--lf-toast-color-on-primary:var(\n    --lf-toast-color-warning,\n    var(--lf-color-on-warning)\n  )}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-toast-font-family, var(--lf-font-family-primary));font-size:var(--lf-toast-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-toast-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-toast-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-toast-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-toast-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-toast-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-toast-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-toast-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%;animation:slideIn 250ms ease-out;box-sizing:border-box;z-index:var(--lf-ui-zindex-toast, 998)}.toast{border:0;border-style:solid;border-radius:var(--lf-toast-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-toast-color-surface, var(--lf-color-surface)), 0.675);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);width:100%;height:100%;box-shadow:var(--lf-ui-box-shadow-modal);display:grid;grid-template-rows:auto 1fr;overflow:hidden}.toast__accent{background-color:rgba(var(--lf-toast-color-primary, var(--lf-color-primary)), 0.75);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);height:var(--lf-toast-accent-height, 0.25em);width:100%}.toast__accent--temporary{animation:reduceWidthToZero linear var(--lf_toast_timer, 5000ms) forwards}.toast__message-wrapper{align-content:var(--lf-toast-message-align-content, center);box-sizing:border-box;display:grid;gap:1em;grid-template-columns:1fr;height:100%;overflow:auto;padding:var(--lf-toast-padding, 0.75em)}.toast__message-wrapper--has-icon{grid-template-columns:auto 1fr}.toast__message-wrapper--has-actions{grid-template-columns:1fr auto}.toast__message-wrapper--full{grid-template-columns:auto 1fr auto}.toast__icon{background-color:rgba(var(--lf-comp-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden;margin:var(--lf-toast-icon-margin, auto 0.5em);opacity:var(--lf-toast-icon-opacity, 1)}.toast__icon--has-actions{-webkit-mask:var(--lf-icon-clear);mask:var(--lf-icon-clear);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-toast-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden;transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;margin:auto 0.5em auto auto;position:relative}.toast__icon--has-actions:hover{opacity:0.75}.toast__message{color:rgb(var(--lf-toast-color-on-bg, var(--lf-color-on-bg)));overflow:auto;padding:var(--lf-toast-message-padding, 0.75em 0.75em 0.75em 0)}@media only screen and (max-width: 600px){:host{animation:slideUp 250ms ease-out}}@keyframes reduceWidthToZero{0%{width:100%}100%{width:0}}@keyframes slideIn{0%{transform:var(--lf-toast-slidein-from, translateX(100%))}100%{transform:var(--lf-toast-slidein-to, translateX(0))}}@keyframes slideUp{0%{transform:var(--lf-toast-slideup-from, translateY(100%))}100%{transform:var(--lf-toast-slideup-to, translateY(0))}}";
const pBb1b42f7_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_toast: W$5
}, Symbol.toStringTag, { value: "Module" }));
const p$1 = (t5, r2) => {
  if (t5) {
    const a2 = t5.scrollLeft;
    t5.scrollTo({ left: "left" === r2 ? a2 - 200 : a2 + 200, behavior: "smooth" });
  }
};
var u$2, v$3, m$3, g$3, y$3, w$3, z$4, k$4, x$4, _$2, W$4, M$4 = function(t5, r2, a2, i2) {
  if ("function" == typeof r2 ? t5 !== r2 || !i2 : !r2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === a2 ? i2 : "a" === a2 ? i2.call(t5) : i2 ? i2.value : r2.get(t5);
}, C$4 = function(t5, r2, a2, i2, o2) {
  if ("function" == typeof r2 ? t5 !== r2 || true : !r2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return r2.set(t5, a2), a2;
};
const E$4 = class E {
  constructor(i2) {
    n(this, i2), this.lfEvent = V$4(this, "lf-tabbar-event"), this.value = null, this.lfAriaLabel = "", this.lfDataset = null, this.lfNavigation = false, this.lfRipple = true, this.lfStyle = "", this.lfUiSize = "medium", this.lfUiState = "primary", this.lfValue = null, u$2.set(this, void 0), v$3.set(this, LF_TABBAR_BLOCKS), m$3.set(this, CY_ATTRIBUTES), g$3.set(this, LF_ATTRIBUTES), y$3.set(this, LF_TABBAR_PARTS), w$3.set(this, LF_STYLE_ID), z$4.set(this, LF_WRAPPER_ID), k$4.set(this, void 0), x$4.set(this, void 0), _$2.set(this, ((t5) => {
      const { get: r2 } = M$4(this, u$2, "f").assets, { bemClass: i3 } = M$4(this, u$2, "f").theme, { tab: o2 } = M$4(this, v$3, "f"), { style: e2 } = r2(`./assets/svg/${t5.icon}.svg`);
      return D$a("div", { class: i3(o2._, o2.icon), "data-cy": M$4(this, m$3, "f").maskedSvg, style: e2 });
    })), W$4.set(this, ((t5, r2) => {
      const { theme: i3 } = M$4(this, u$2, "f"), { bemClass: o2 } = i3, { tab: e2 } = M$4(this, v$3, "f"), { lfRipple: l2, value: n2 } = this, s2 = t5 === (n2 == null ? void 0 : n2.node);
      return D$a("button", { "aria-selected": s2, "aria-label": (this.lfAriaLabel && t5.value ? `${this.lfAriaLabel} ${t5.value}` : t5.value || this.lfAriaLabel || t5.icon || this.rootElement.id || "tab").toString().trim(), class: o2(e2._, null, { active: s2 }), "data-cy": M$4(this, m$3, "f").button, "data-lf": M$4(this, g$3, "f")[this.lfUiState], onClick: (a2) => {
        this.onLfEvent(a2, "click", r2, t5);
      }, onPointerDown: (a2) => {
        this.onLfEvent(a2, "pointerdown", r2, t5);
      }, part: M$4(this, y$3, "f").tab, role: "tab", tabIndex: r2, title: (t5 == null ? void 0 : t5.description) || "" }, D$a("div", { "data-cy": M$4(this, m$3, "f").rippleSurface, "data-lf": M$4(this, g$3, "f").rippleSurface, ref: (t6) => {
        t6 && l2 && M$4(this, k$4, "f").push(t6);
      } }), D$a("span", { class: o2(e2._, e2.content), "data-cy": M$4(this, m$3, "f").node }, t5.icon && M$4(this, _$2, "f").call(this, t5), t5.value && D$a("span", { class: o2(e2._, e2.label) }, t5.value)), D$a("span", { class: o2(e2._, e2.indicator, { active: s2 }) }, D$a("span", { class: o2(e2._, e2.indicatorContent, { active: true }) })));
    }));
  }
  onLfEvent(t5, r2, a2 = 0, i2) {
    const { effects: o2 } = M$4(this, u$2, "f");
    switch (r2) {
      case "click":
        this.value = { index: a2, node: i2 };
        break;
      case "pointerdown":
        this.lfRipple && o2.ripple(t5, M$4(this, k$4, "f")[a2]);
    }
    this.lfEvent.emit({ comp: this, eventType: r2, id: this.rootElement.id, originalEvent: t5, node: i2 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_TABBAR_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async getValue() {
    return this.value;
  }
  async refresh() {
    pt(this);
  }
  async setValue(t5) {
    let r2, a2;
    return "number" == typeof t5 ? (r2 = t5, a2 = this.lfDataset.nodes[r2]) : "string" == typeof t5 && (r2 = this.lfDataset.nodes.findIndex(((r3) => r3.id === t5)), a2 = this.lfDataset.nodes[r2]), this.value = { index: r2, node: a2 }, this.value;
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    M$4(this, u$2, "f") && M$4(this, u$2, "f").theme.register(this);
  }
  async componentWillLoad() {
    C$4(this, u$2, await a(this));
    const { debug: t5 } = M$4(this, u$2, "f"), { lfDataset: r2, lfValue: a$12 } = this;
    try {
      if (null !== a$12 && ("number" == typeof a$12 && (this.value = { index: a$12, node: r2.nodes[a$12] }), "string" == typeof a$12)) {
        const t6 = r2.nodes.find(((t7) => t7.id === a$12));
        this.value = { index: r2.nodes.indexOf(t6), node: t6 };
      }
    } catch (r3) {
      t5.logs.new(this, "Something went wrong while setting the initial selected value.", "warning");
    }
  }
  componentDidLoad() {
    const { debug: t5, drag: r2 } = M$4(this, u$2, "f");
    M$4(this, x$4, "f") && r2.register.dragToScroll(M$4(this, x$4, "f")), this.onLfEvent(new CustomEvent("ready"), "ready"), t5.info.update(this, "did-load");
  }
  componentWillRender() {
    const { debug: t5 } = M$4(this, u$2, "f");
    t5.info.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = M$4(this, u$2, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { data: t5, theme: r2 } = M$4(this, u$2, "f"), { bemClass: i2, get: e2, setLfStyle: l2 } = r2, { "--lf-icon-next": n2, "--lf-icon-previous": s2 } = e2.current().variables, { tabbar: f2 } = M$4(this, v$3, "f"), { lfDataset: c2, lfStyle: b2 } = this;
    if (!t5.node.exists(c2)) return;
    C$4(this, k$4, []);
    const d2 = c2.nodes;
    return D$a(W$e, null, b2 && D$a("style", { id: M$4(this, w$3, "f") }, l2(this)), D$a("div", { id: M$4(this, z$4, "f") }, D$a("div", { class: i2(f2._), part: M$4(this, y$3, "f").tabbbar, role: "tablist" }, this.lfNavigation && D$a("lf-button", { lfIcon: s2, lfStretchY: true, lfStyling: "flat", lfUiSize: this.lfUiSize, "onLf-button-event": () => p$1(M$4(this, x$4, "f"), "left") }), D$a("div", { class: i2(f2._, f2.scroll), ref: (t6) => {
      t6 && C$4(this, x$4, t6);
    } }, d2.map(((t6, r3) => M$4(this, W$4, "f").call(this, t6, r3)))), this.lfNavigation && D$a("lf-button", { lfIcon: n2, lfStretchY: true, lfStyling: "flat", lfUiSize: this.lfUiSize, "onLf-button-event": () => p$1(M$4(this, x$4, "f"), "right") }))));
  }
  disconnectedCallback() {
    var _a2, _b2, _c2;
    ((_a2 = M$4(this, u$2, "f")) == null ? void 0 : _a2.drag.getActiveSession(M$4(this, x$4, "f"))) && ((_b2 = M$4(this, u$2, "f")) == null ? void 0 : _b2.drag.unregister.dragToScroll(M$4(this, x$4, "f"))), (_c2 = M$4(this, u$2, "f")) == null ? void 0 : _c2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
u$2 = /* @__PURE__ */ new WeakMap(), v$3 = /* @__PURE__ */ new WeakMap(), m$3 = /* @__PURE__ */ new WeakMap(), g$3 = /* @__PURE__ */ new WeakMap(), y$3 = /* @__PURE__ */ new WeakMap(), w$3 = /* @__PURE__ */ new WeakMap(), z$4 = /* @__PURE__ */ new WeakMap(), k$4 = /* @__PURE__ */ new WeakMap(), x$4 = /* @__PURE__ */ new WeakMap(), _$2 = /* @__PURE__ */ new WeakMap(), W$4 = /* @__PURE__ */ new WeakMap(), E$4.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=danger]{--lf-tabbar-color-primary:var(\n    --lf-tabbar-color-danger,\n    var(--lf-color-danger)\n  );--lf-tabbar-color-on-primary:var(\n    --lf-tabbar-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-tabbar-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-tabbar-color-primary:var(\n    --lf-tabbar-color-info,\n    var(--lf-color-info)\n  );--lf-tabbar-color-on-primary:var(\n    --lf-tabbar-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-tabbar-color-primary:var(\n    --lf-tabbar-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-tabbar-color-on-primary:var(\n    --lf-tabbar-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-tabbar-color-primary:var(\n    --lf-tabbar-color-success,\n    var(--lf-color-success)\n  );--lf-tabbar-color-on-primary:var(\n    --lf-tabbar-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-tabbar-color-primary:var(\n    --lf-tabbar-color-warning,\n    var(--lf-color-warning)\n  );--lf-tabbar-color-on-primary:var(\n    --lf-tabbar-color-warning,\n    var(--lf-color-on-warning)\n  )}:host{display:block;font-family:var(--lf-tabbar-font-family, var(--lf-font-family-primary));font-size:var(--lf-tabbar-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-tabbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-tabbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-tabbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-tabbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-tabbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-tabbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-tabbar-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%}.tabbar{display:flex;height:var(--lf-tabbar-height, 2.25em);width:100%}.tabbar__scroll{display:flex;overflow:hidden;width:100%}.tab{font-family:var(--lf-tabbar-font-family, var(--lf-font-family-primary));background-color:rgba(var(--lf-tabbar-color-bg, var(--lf-color-bg)), 0.375);color:rgb(var(--lf-tabbar-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);appearance:none;border:none;box-sizing:border-box;cursor:pointer;display:flex;flex:1 0 auto;height:100%;justify-content:center;margin:0;min-width:var(--lf-tabbar-min-width, 5em);outline:none;padding:var(--lf-tabbar-tab-padding, 0 1.25em);position:relative;text-align:center}.tab:first-child{border:0;border-style:solid;border-radius:var(--lf-tabbar-border-radius, var(--lf-ui-border-radius));border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-right-radius:0}.tab:last-child{border:0;border-style:solid;border-radius:var(--lf-tabbar-border-radius, var(--lf-ui-border-radius));border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.tab:hover{background-color:rgba(var(--lf-tabbar-color-primary, var(--lf-color-primary)), 0.125);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.tab--active{background-color:rgba(var(--lf-tabbar-color-primary, var(--lf-color-primary)), 0.225);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.tab--active:hover{background-color:rgba(var(--lf-tabbar-color-primary, var(--lf-color-primary)), 0.325);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.tab--active .tab__icon{background-color:rgba(var(--lf-tabbar-color-primary, var(--lf-color-primary)), 1)}.tab--active .tab__label{color:rgb(var(--lf-tabbar-color-primary, var(--lf-color-primary)));font-weight:600;opacity:1}.tab__icon{background-color:rgba(var(--lf-tabbar-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden;transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1)}.tab__content{align-items:center;display:flex;height:inherit;justify-content:center;pointer-events:none;position:relative}.tab__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;opacity:0.75}.tab__icon+.tab__label{padding-left:0.5em;padding-right:0}.tab__indicator{width:100%;height:100%;transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);display:flex;justify-content:center;left:0;pointer-events:none;position:absolute;top:0}.tab__indicator--active .tab__indicator-content{opacity:1}.tab__indicator-content{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);opacity:0;transform-origin:left center}.tab__indicator-content--active{align-self:flex-end;border-color:rgb(var(--lf-tabbar-color-indicator, var(--lf-tabbar-color-primary)));border-top-style:solid;border-top-width:2px;box-sizing:border-box;width:100%}";
const pE2900881_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_tabbar: E$4
}, Symbol.toStringTag, { value: "Module" }));
var v$2, m$2, u$1, g$2, y$2, w$2, k$3, x$3, z$3, _$1, E$3, W$3, C$3, j$2, M$3, D$2 = function(r2, o2, i2, a2) {
  if ("a" === i2 && !a2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof o2 ? r2 !== o2 || !a2 : !o2.has(r2)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === i2 ? a2 : "a" === i2 ? a2.call(r2) : a2 ? a2.value : o2.get(r2);
}, T$3 = function(r2, o2, i2, a2, e2) {
  if ("function" == typeof o2 ? r2 !== o2 || true : !o2.has(r2)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return o2.set(r2, i2), i2;
};
const S$1 = class S {
  constructor(a2) {
    n(this, a2), this.lfEvent = V$4(this, "lf-accordion-event"), v$2.add(this), this.expandedNodes = /* @__PURE__ */ new Set(), this.selectedNodes = /* @__PURE__ */ new Set(), this.lfDataset = null, this.lfRipple = true, this.lfUiSize = "medium", this.lfUiState = "primary", this.lfStyle = "", m$2.set(this, void 0), u$1.set(this, LF_ACCORDION_BLOCKS), g$2.set(this, CY_ATTRIBUTES), y$2.set(this, LF_ATTRIBUTES), w$2.set(this, LF_ACCORDION_PARTS), k$3.set(this, LF_STYLE_ID), x$3.set(this, LF_WRAPPER_ID), z$3.set(this, {}), M$3.set(this, ((r$12) => {
      const { cells: o2 } = r$12, a3 = o2 && Object.keys(o2)[0], e2 = o2 == null ? void 0 : o2[a3];
      return D$a(r, { cell: e2, index: 0, shape: e2.shape, eventDispatcher: async (r2) => this.onLfEvent(r2, "lf-event"), framework: D$2(this, m$2, "f") });
    }));
  }
  onLfEvent(r2, o2, i2) {
    const { effects: a2 } = D$2(this, m$2, "f"), { lfRipple: e2, rootElement: t5 } = this;
    "pointerdown" === o2 && e2 && a2.ripple(r2, D$2(this, z$3, "f")[i2.id]), this.lfEvent.emit({ comp: this, eventType: o2, id: t5.id, originalEvent: r2 });
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const r2 = LF_ACCORDION_PROPS.map(((r3) => [r3, this[r3]]));
    return Object.fromEntries(r2);
  }
  async getSelectedNodes() {
    return this.selectedNodes;
  }
  async refresh() {
    pt(this);
  }
  async toggleNode(r2, o2) {
    const i2 = this.lfDataset.nodes.find(((o3) => o3.id === r2));
    i2 && (D$2(this, v$2, "m", E$3).call(this, i2) ? D$2(this, v$2, "m", _$1).call(this, i2) ? this.expandedNodes.delete(i2) : this.expandedNodes.add(i2) : D$2(this, v$2, "m", W$3).call(this, i2) ? this.selectedNodes.delete(i2) : this.selectedNodes.add(i2), D$2(this, v$2, "m", E$3).call(this, i2) || this.onLfEvent(o2 || new CustomEvent("click"), "click"), this.refresh());
  }
  async unmount(r2 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), r2);
  }
  connectedCallback() {
    D$2(this, m$2, "f") && D$2(this, m$2, "f").theme.register(this);
  }
  async componentWillLoad() {
    T$3(this, m$2, await a(this));
  }
  componentDidLoad() {
    const { info: r2 } = D$2(this, m$2, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), r2.update(this, "did-load");
  }
  componentWillRender() {
    const { info: r2 } = D$2(this, m$2, "f").debug;
    r2.update(this, "will-render");
  }
  componentDidRender() {
    const { debug: r2 } = D$2(this, m$2, "f");
    r2.info.update(this, "did-render");
  }
  render() {
    const { bemClass: r2, setLfStyle: o2 } = D$2(this, m$2, "f").theme, { lfStyle: a2 } = this;
    T$3(this, z$3, {});
    const { accordion: t5 } = D$2(this, u$1, "f");
    return D$a(W$e, { key: "cf05618985fae22815dc9feb7bcb3bcfeb67daf5" }, a2 && D$a("style", { key: "2248a586b39ae7758361616bcf82494baf6f43b1", id: D$2(this, k$3, "f") }, o2(this)), D$a("div", { key: "02dacfdfddd9e16e776e0ab666b273e04390c263", id: D$2(this, x$3, "f") }, D$a("div", { key: "b98095b71dcadbfab5de9cdedba3bbd06470d924", class: r2(t5._), part: D$2(this, w$2, "f").accordion }, D$2(this, v$2, "m", j$2).call(this))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = D$2(this, m$2, "f")) == null ? void 0 : _a2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
};
m$2 = /* @__PURE__ */ new WeakMap(), u$1 = /* @__PURE__ */ new WeakMap(), g$2 = /* @__PURE__ */ new WeakMap(), y$2 = /* @__PURE__ */ new WeakMap(), w$2 = /* @__PURE__ */ new WeakMap(), k$3 = /* @__PURE__ */ new WeakMap(), x$3 = /* @__PURE__ */ new WeakMap(), z$3 = /* @__PURE__ */ new WeakMap(), M$3 = /* @__PURE__ */ new WeakMap(), v$2 = /* @__PURE__ */ new WeakSet(), _$1 = function(r2) {
  return this.expandedNodes.has(r2);
}, E$3 = function(r2) {
  return r2.cells && Object.keys(r2.cells).length > 0;
}, W$3 = function(r2) {
  return this.selectedNodes.has(r2);
}, C$3 = function(r2) {
  const { assets: o2, theme: a2 } = D$2(this, m$2, "f"), { style: e2 } = o2.get(`./assets/svg/${r2}.svg`), { node: t5 } = D$2(this, u$1, "f");
  return D$a("div", { class: a2.bemClass(t5._, t5.icon), "data-cy": D$2(this, g$2, "f").maskedSvg, part: D$2(this, w$2, "f").icon, style: e2 });
}, j$2 = function() {
  const { bemClass: r2 } = D$2(this, m$2, "f").theme, { lfDataset: o2 } = this, a2 = [];
  for (let e2 = 0; e2 < o2.nodes.length; e2++) {
    const t5 = o2.nodes[e2], n2 = D$2(this, v$2, "m", _$1).call(this, t5), l2 = D$2(this, v$2, "m", E$3).call(this, t5), s2 = D$2(this, v$2, "m", W$3).call(this, t5);
    a2.push(D$a("div", { class: r2(D$2(this, u$1, "f").node._), "data-cy": D$2(this, g$2, "f").node, "data-lf": D$2(this, y$2, "f")[this.lfUiState] }, D$a("div", { class: r2(D$2(this, u$1, "f").node._, D$2(this, u$1, "f").node.header, { expanded: l2 && n2, selected: !l2 && s2 }), "data-cy": !l2 && D$2(this, g$2, "f").button, onClick: (r3) => this.toggleNode(t5.id, r3), onPointerDown: (r3) => {
      this.onLfEvent(r3, "pointerdown", t5);
    }, part: D$2(this, w$2, "f").header, tabindex: "1", title: t5.description }, D$a("div", { "data-cy": D$2(this, g$2, "f").rippleSurface, "data-lf": D$2(this, y$2, "f").rippleSurface, part: D$2(this, w$2, "f").rippleSurface, ref: (r3) => {
      r3 && this.lfRipple && (D$2(this, z$3, "f")[t5.id] = r3);
    } }), t5.icon ? D$2(this, v$2, "m", C$3).call(this, t5.icon) : null, D$a("span", { class: r2(D$2(this, u$1, "f").node._, D$2(this, u$1, "f").node.text), part: D$2(this, w$2, "f").text }, t5.value), l2 && D$a("div", { class: r2(D$2(this, u$1, "f").node._, D$2(this, u$1, "f").node.expand, { expanded: n2 }), "data-cy": D$2(this, g$2, "f").dropdownButton, "data-lf": D$2(this, y$2, "f").icon, part: D$2(this, w$2, "f").icon })), n2 && D$a("div", { class: r2(D$2(this, u$1, "f").node._, D$2(this, u$1, "f").node.content, { selected: s2 }), "data-lf": D$2(this, y$2, "f").fadeIn, part: D$2(this, w$2, "f").content }, D$2(this, M$3, "f").call(this, t5))));
  }
  return a2;
}, S$1.style = ".node{border:0;border-style:solid;border-color:rgba(var(--lf-accordion-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-accordion-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-accordion-color-bg, var(--lf-color-bg)), 0.375);color:rgb(var(--lf-accordion-color-on-bg, var(--lf-color-on-bg)));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border-bottom:0;border-top:0;box-sizing:border-box;width:100%}.node:not(:first-of-type){border:0;border-style:solid;border-color:rgba(var(--lf-accordion-border-color, var(--lf-color-border)), 1);border-width:1px;margin-bottom:0;margin-left:0;margin-right:0}.node__content,.node__content ::slotted(*){border:0;border-style:solid;border-radius:var(--lf-accordion-border-radius, var(--lf-ui-border-radius));border-top-left-radius:0;border-top-right-radius:0}.node__header{border:0;border-style:solid;border-radius:var(--lf-accordion-border-radius, var(--lf-ui-border-radius));color:rgb(var(--lf-accordion-color-on-bg, var(--lf-color-on-bg)));transition:all 150ms cubic-bezier(0.42, 0, 0.58, 1);align-items:center;border:none;box-sizing:border-box;cursor:var(--lf-accordion-cursor, pointer);display:flex;line-height:var(--lf-accordion-line-height, 1.75em);outline:none;padding:var(--lf-accordion-padding, 1em);position:relative;text-align:var(--lf-accordion-text-align, left);width:100%}.node__header:hover{background-color:rgba(var(--lf-accordion-color-primary, var(--lf-color-primary)), 0.175)}.node__header--expanded{border-bottom-left-radius:0;border-bottom-right-radius:0}.node__header--selected{background-color:rgba(var(--lf-accordion-color-primary, var(--lf-color-primary)), 0.375)}.node__header--selected:hover{background-color:rgba(var(--lf-accordion-color-primary, var(--lf-color-primary)), 0.475)}.node__text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:1.25em;font-weight:500;line-height:1.4em;letter-spacing:0em;margin:var(--lf-accordion-text-margin, 0 0.5em 0 0)}.node__text--highlighted{background-color:rgba(var(--lf-accordion-color-primary, var(--lf-color-primary)), 1);color:rgb(var(--lf-accordion-color-on-primary, var(--lf-color-on-primary)))}.node__expand,.node__icon{margin:0}.node__icon{background-color:rgba(var(--lf-accordion-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden;margin:var(--lf-accordion-icon-margin, 0 0.5em 0 0)}.node__expand{-webkit-mask:var(--lf-icon-dropdown);mask:var(--lf-icon-dropdown);-webkit-mask-position:center;-webkit-mask-repeat:no-repeat;-webkit-mask-size:contain;mask-position:center;mask-repeat:no-repeat;mask-size:contain;background-color:rgba(var(--lf-accordion-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden;transition:all 150ms cubic-bezier(0.42, 0, 0.58, 1);margin:var(--lf-accordion-expand-margin, 0 0 0 auto)}.node__expand--expanded{transform:rotate(-180deg)}.node__expand--placeholder{visibility:hidden}::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=danger]{--lf-accordion-color-primary:var(\n    --lf-accordion-color-danger,\n    var(--lf-color-danger)\n  );--lf-accordion-color-on-primary:var(\n    --lf-accordion-color-danger,\n    var(--lf-color-on-danger)\n  )}[data-lf=disabled]{opacity:var(--lf-accordion-ui-opacity-disabled, var(--lf-ui-opacity-disabled));pointer-events:none}[data-lf=info]{--lf-accordion-color-primary:var(\n    --lf-accordion-color-info,\n    var(--lf-color-info)\n  );--lf-accordion-color-on-primary:var(\n    --lf-accordion-color-info,\n    var(--lf-color-on-info)\n  )}[data-lf=secondary]{--lf-accordion-color-primary:var(\n    --lf-accordion-color-secondary,\n    var(--lf-color-secondary)\n  );--lf-accordion-color-on-primary:var(\n    --lf-accordion-color-secondary,\n    var(--lf-color-on-secondary)\n  )}[data-lf=success]{--lf-accordion-color-primary:var(\n    --lf-accordion-color-success,\n    var(--lf-color-success)\n  );--lf-accordion-color-on-primary:var(\n    --lf-accordion-color-success,\n    var(--lf-color-on-success)\n  )}[data-lf=warning]{--lf-accordion-color-primary:var(\n    --lf-accordion-color-warning,\n    var(--lf-color-warning)\n  );--lf-accordion-color-on-primary:var(\n    --lf-accordion-color-warning,\n    var(--lf-color-on-warning)\n  )}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-accordion-font-family, var(--lf-font-family-primary));font-size:var(--lf-accordion-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-accordion-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-accordion-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-accordion-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-accordion-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-accordion-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-accordion-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-accordion-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}.accordion{border:0;border-style:solid;border-color:rgba(var(--lf-accordion-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-accordion-border-radius, var(--lf-ui-border-radius));border-left:0;border-right:0;width:100%;height:100%;box-sizing:border-box;display:flex;flex-direction:var(--lf-accordion-flex-direction, column);flex-wrap:var(--lf-accordion-flex-wrap, nowrap);width:100%}";
const pE4e76694_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_accordion: S$1
}, Symbol.toStringTag, { value: "Module" }));
var m$1, v$1, b$2, u, w$1, y$1, z$2, g$1, k$2, x$2, W$2, E$2, C$2 = function(e2, t5, i2, s2) {
  if ("a" === i2 && !s2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof t5 ? e2 !== t5 || !s2 : !t5.has(e2)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === i2 ? s2 : "a" === i2 ? s2.call(e2) : s2 ? s2.value : t5.get(e2);
}, M$2 = function(e2, t5, i2, s2, a2) {
  if ("function" == typeof t5 ? e2 !== t5 || true : !t5.has(e2)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return t5.set(e2, i2), i2;
};
const T$2 = class T2 {
  constructor(i2) {
    n(this, i2), this.lfEvent = V$4(this, "lf-placeholder-event"), m$1.add(this), this.isInViewport = false, this.lfIcon = "template", this.lfProps = {}, this.lfStyle = "", this.lfThreshold = 0.25, this.lfTrigger = "both", this.lfValue = "LfCard", v$1.set(this, void 0), b$2.set(this, LF_PLACEHOLDER_BLOCKS), u.set(this, CY_ATTRIBUTES), w$1.set(this, LF_ATTRIBUTES), y$1.set(this, LF_PLACEHOLDER_PARTS), z$2.set(this, LF_STYLE_ID), g$1.set(this, LF_WRAPPER_ID), k$2.set(this, null), x$2.set(this, null), W$2.set(this, false);
  }
  onLfEvent(e2, t5) {
    this.lfEvent.emit({ comp: this, id: this.rootElement.id, originalEvent: e2, eventType: t5 });
  }
  async getComponent() {
    return C$2(this, x$2, "f");
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const e2 = LF_PLACEHOLDER_PROPS.map(((e3) => [e3, this[e3]]));
    return Object.fromEntries(e2);
  }
  async refresh() {
    pt(this);
  }
  async unmount(e2 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), e2);
  }
  connectedCallback() {
    C$2(this, v$1, "f") && (C$2(this, v$1, "f").theme.register(this), C$2(this, m$1, "m", E$2).call(this));
  }
  async componentWillLoad() {
    M$2(this, v$1, await a(this));
  }
  componentDidLoad() {
    const { info: e2 } = C$2(this, v$1, "f").debug;
    C$2(this, m$1, "m", E$2).call(this), C$2(this, k$2, "f").observe(this.rootElement), this.onLfEvent(new CustomEvent("ready"), "ready"), e2.update(this, "did-load");
  }
  componentWillRender() {
    const { info: e2 } = C$2(this, v$1, "f").debug;
    e2.update(this, "will-render");
  }
  componentDidRender() {
    const { info: e2 } = C$2(this, v$1, "f").debug;
    C$2(this, x$2, "f") && !C$2(this, W$2, "f") && (M$2(this, W$2, true), this.onLfEvent(new CustomEvent("load"), "load")), e2.update(this, "did-render");
  }
  render() {
    const { assets: e2, sanitizeProps: t5, theme: i2 } = C$2(this, v$1, "f"), { bemClass: o2, setLfStyle: l2 } = i2, { placeholder: r2 } = C$2(this, b$2, "f"), { isInViewport: f2, lfValue: h2, lfProps: c2, lfTrigger: d2, lfIcon: p2, lfStyle: m2 } = this;
    let k2;
    if (Boolean("viewport" === d2 && f2 || "props" === d2 && c2 || "both" === d2 && c2 && f2)) {
      const e3 = h2.toLowerCase().replace("lf", ""), i3 = { [`onLf-${e3}-event`]: (e4) => {
        this.onLfEvent(e4, "lf-event");
      } };
      k2 = D$a("lf-" + e3, { key: "70059493fdccb2a95269d9f9ac36f9e45e2bee96", ...t5(c2, h2), ...i3, "data-lf": LF_ATTRIBUTES.fadeIn, ref: (e4) => M$2(this, x$2, e4) });
    } else if (p2) {
      const { style: t6 } = e2.get(`./assets/svg/${p2}.svg`);
      k2 = D$a("div", { key: "8c229eb0faf998bb18e493136ef1c926cf8c0367", class: o2(r2._, r2.icon), "data-cy": C$2(this, u, "f").maskedSvg, "data-lf": C$2(this, w$1, "f").fadeIn, part: C$2(this, y$1, "f").icon, style: t6 });
    }
    return D$a(W$e, { key: "181cee7151ead42ebbb4c9bdea49020254e8ee77" }, m2 && D$a("style", { key: "67b201b596c66625d0c033b5715199c6181688a8", id: C$2(this, z$2, "f") }, l2(this)), D$a("div", { key: "8db285c023bd3380a282c6c00b72b62d5a34ddaf", id: C$2(this, g$1, "f") }, D$a("div", { key: "160905b3bcda5345ff27624d04f79b2276de16db", class: o2(r2._), part: C$2(this, y$1, "f").placeholder }, k2)));
  }
  disconnectedCallback() {
    var _a2, _b2;
    (_a2 = C$2(this, v$1, "f")) == null ? void 0 : _a2.theme.unregister(this), (_b2 = C$2(this, k$2, "f")) == null ? void 0 : _b2.unobserve(this.rootElement);
  }
  get rootElement() {
    return z$d(this);
  }
};
v$1 = /* @__PURE__ */ new WeakMap(), b$2 = /* @__PURE__ */ new WeakMap(), u = /* @__PURE__ */ new WeakMap(), w$1 = /* @__PURE__ */ new WeakMap(), y$1 = /* @__PURE__ */ new WeakMap(), z$2 = /* @__PURE__ */ new WeakMap(), g$1 = /* @__PURE__ */ new WeakMap(), k$2 = /* @__PURE__ */ new WeakMap(), x$2 = /* @__PURE__ */ new WeakMap(), W$2 = /* @__PURE__ */ new WeakMap(), m$1 = /* @__PURE__ */ new WeakSet(), E$2 = function() {
  const { debug: e2 } = C$2(this, v$1, "f");
  M$2(this, k$2, new IntersectionObserver(((t5) => {
    t5.forEach(((t6) => {
      const i2 = this.rootElement.hasAttribute("lf-hydrated");
      t6.isIntersecting && i2 && (e2.logs.new(this, "lf-placeholder entering the viewport, rendering " + this.lfValue + "."), this.isInViewport = true, C$2(this, k$2, "f").unobserve(this.rootElement));
    }));
  }), { threshold: this.lfThreshold }));
}, T$2.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-placeholder-font-family, var(--lf-font-family-primary));font-size:var(--lf-placeholder-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-placeholder-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-placeholder-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-placeholder-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-placeholder-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-placeholder-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-placeholder-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-placeholder-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%;position:relative}.placeholder{align-items:var(--lf-placeholder-ver-alignment, center);display:flex;height:var(--lf-placeholder-height, 100%);justify-content:var(--lf-placeholder-hor-alignment, center);width:var(--lf-placeholder-width, 100%)}.placeholder__icon{background-color:rgba(var(--lf-placeholder-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden;width:100%;height:100%;animation:shine ease 2s infinite}@keyframes shine{0%{opacity:0.4}50%{opacity:0.8}100%{opacity:0.4}}";
const pE6148250_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_placeholder: T$2
}, Symbol.toStringTag, { value: "Module" }));
var b$1, p, v, m, y, g2, z$1, x$1, k$1, C$1, E$1, W$1, M$1, T$1, L$1, D$1 = function(i2, t5, e2, r2) {
  if ("a" === e2 && !r2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof t5 ? i2 !== t5 || !r2 : !t5.has(i2)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === e2 ? r2 : "a" === e2 ? r2.call(i2) : r2 ? r2.value : t5.get(i2);
}, j$1 = function(i2, t5, e2, r2, s2) {
  if ("function" == typeof t5 ? i2 !== t5 || true : !t5.has(i2)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return t5.set(i2, e2), e2;
};
const A$1 = class A {
  constructor(e2) {
    n(this, e2), this.lfEvent = V$4(this, "lf-drawer-event"), b$1.add(this), this.lfDisplay = "slide", this.lfPosition = "left", this.lfResponsive = 0, this.lfStyle = "", this.lfValue = false, p.set(this, void 0), v.set(this, LF_DRAWER_BLOCKS), m.set(this, LF_ATTRIBUTES), y.set(this, LF_DRAWER_PARTS), g2.set(this, LF_STYLE_ID), z$1.set(this, LF_WRAPPER_ID), x$1.set(this, void 0), k$1.set(this, null), C$1.set(this, void 0), E$1.set(this, void 0);
  }
  onLfEvent(i2, t5) {
    this.lfEvent.emit({ comp: this, eventType: t5, id: this.rootElement.id, originalEvent: i2 });
  }
  listenKeydown(i2) {
    if (this.lfValue) switch (i2.key) {
      case "Escape":
        i2.preventDefault(), this.close();
        break;
      case "Tab":
        D$1(this, b$1, "m", L$1).call(this, i2);
    }
  }
  onLfDisplayChange(i2, t5) {
    D$1(this, p, "f") && D$1(this, b$1, "m", M$1).call(this, t5, i2);
  }
  onLfResponsiveChange() {
    D$1(this, p, "f") && (this.lfResponsive > 0 ? (D$1(this, b$1, "m", W$1).call(this), D$1(this, C$1, "f") || (j$1(this, C$1, (async () => {
      D$1(this, E$1, "f") && clearTimeout(D$1(this, E$1, "f")), j$1(this, E$1, window.setTimeout((() => {
        D$1(this, b$1, "m", W$1).call(this), j$1(this, E$1, null, "f");
      }), 200), "f");
    })), window.addEventListener("resize", D$1(this, C$1, "f")))) : D$1(this, C$1, "f") && (window.removeEventListener("resize", D$1(this, C$1, "f")), j$1(this, C$1, null)));
  }
  async close() {
    this.lfValue && requestAnimationFrame((() => {
      this.lfValue = false, this.onLfEvent(new CustomEvent("close"), "close"), D$1(this, p, "f").effects.backdrop.hide(), D$1(this, k$1, "f") && (D$1(this, k$1, "f").focus(), j$1(this, k$1, null));
    }));
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const i2 = LF_DRAWER_PROPS.map(((i3) => [i3, this[i3]]));
    return Object.fromEntries(i2);
  }
  async isOpened() {
    return this.lfValue;
  }
  async open() {
    this.lfValue || (j$1(this, k$1, document.activeElement), requestAnimationFrame((() => {
      this.lfValue = true, this.onLfEvent(new CustomEvent("open"), "open"), "slide" === this.lfDisplay && D$1(this, p, "f").effects.backdrop.show((() => this.close())), requestAnimationFrame((() => {
        D$1(this, b$1, "m", T$1).call(this);
      }));
    })));
  }
  async refresh() {
    pt(this);
  }
  async toggle() {
    this.lfValue ? this.close() : this.open();
  }
  async unmount(i2 = 0) {
    setTimeout((() => {
      D$1(this, p, "f").effects.backdrop.hide(), this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), i2);
  }
  connectedCallback() {
    D$1(this, p, "f") && D$1(this, p, "f").theme.register(this);
  }
  async componentWillLoad() {
    j$1(this, p, await a(this)), this.lfResponsive > 0 && (D$1(this, b$1, "m", W$1).call(this), j$1(this, C$1, (async () => {
      D$1(this, E$1, "f") && clearTimeout(D$1(this, E$1, "f")), j$1(this, E$1, window.setTimeout((() => {
        D$1(this, b$1, "m", W$1).call(this), j$1(this, E$1, null, "f");
      }), 200), "f");
    })), window.addEventListener("resize", D$1(this, C$1, "f")));
  }
  componentDidLoad() {
    const { info: i2 } = D$1(this, p, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), i2.update(this, "did-load");
  }
  componentWillRender() {
    const { info: i2 } = D$1(this, p, "f").debug;
    i2.update(this, "will-render");
  }
  componentDidRender() {
    const { info: i2 } = D$1(this, p, "f").debug;
    i2.update(this, "did-render");
  }
  render() {
    const { bemClass: i2, setLfStyle: t5 } = D$1(this, p, "f").theme, { drawer: e2 } = D$1(this, v, "f"), { lfStyle: a2 } = this, o2 = "slide" === this.lfDisplay && this.lfValue;
    return D$a(W$e, { key: "f4bd7c5cb658a7c2743f363caeefd92c20f0d9e4" }, a2 && D$a("style", { key: "388b3ce0fcfaa65fa066189ca34f768a1d9a0170", id: D$1(this, g2, "f") }, t5(this)), D$a("div", { key: "be76c4d9fe59c1fb2905e304f1e7d6cc46a05d49", "aria-modal": o2, id: D$1(this, z$1, "f"), ref: (i3) => {
      i3 && j$1(this, x$1, i3);
    }, role: "dialog" }, D$a("div", { key: "3710b99c4db058f755a9f5a5a25b41969b4d59f0", class: i2(e2._), part: D$1(this, y, "f").drawer }, D$a("div", { key: "161a88e84b887d17f0e5675b923f15bc35aae12d", class: i2(e2._, e2.content), "lf-data": D$1(this, m, "f").fadeIn, part: D$1(this, y, "f").content }, D$a("slot", { key: "a31ab9b41206e945077320ffa5e94fec39eb5786", name: LF_DRAWER_SLOT })))));
  }
  disconnectedCallback() {
    var _a2, _b2;
    D$1(this, C$1, "f") && window.removeEventListener("resize", D$1(this, C$1, "f")), (_a2 = D$1(this, p, "f")) == null ? void 0 : _a2.effects.backdrop.hide(), (_b2 = D$1(this, p, "f")) == null ? void 0 : _b2.theme.unregister(this);
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfDisplay: ["onLfDisplayChange"], lfResponsive: ["onLfResponsiveChange"] };
  }
};
p = /* @__PURE__ */ new WeakMap(), v = /* @__PURE__ */ new WeakMap(), m = /* @__PURE__ */ new WeakMap(), y = /* @__PURE__ */ new WeakMap(), g2 = /* @__PURE__ */ new WeakMap(), z$1 = /* @__PURE__ */ new WeakMap(), x$1 = /* @__PURE__ */ new WeakMap(), k$1 = /* @__PURE__ */ new WeakMap(), C$1 = /* @__PURE__ */ new WeakMap(), E$1 = /* @__PURE__ */ new WeakMap(), b$1 = /* @__PURE__ */ new WeakSet(), W$1 = function() {
  if (this.lfResponsive <= 0) return;
  const i2 = this.lfDisplay, t5 = window.innerWidth >= this.lfResponsive ? "dock" : "slide";
  t5 !== i2 && (this.lfDisplay = t5, D$1(this, b$1, "m", M$1).call(this, i2, t5));
}, M$1 = function(i2, t5) {
  this.lfValue && ("slide" === i2 && "dock" === t5 ? D$1(this, p, "f").effects.backdrop.hide() : "dock" === i2 && "slide" === t5 && D$1(this, p, "f").effects.backdrop.show((() => this.close())));
}, T$1 = function() {
  if (!this.lfValue) return;
  if (!D$1(this, x$1, "f")) return;
  const i2 = D$1(this, x$1, "f").querySelector(LF_EFFECTS_FOCUSABLES.join(","));
  i2 ? i2.focus() : D$1(this, x$1, "f").focus();
}, L$1 = function(i2) {
  if (!this.lfValue || !D$1(this, x$1, "f")) return;
  const t5 = Array.from(D$1(this, x$1, "f").querySelectorAll(LF_EFFECTS_FOCUSABLES.join(","))).filter(((i3) => i3.offsetWidth > 0 || i3.offsetHeight > 0 || i3 === document.activeElement));
  if (0 === t5.length) return void i2.preventDefault();
  const e2 = t5[0], r2 = t5[t5.length - 1];
  i2.shiftKey && document.activeElement === e2 ? (i2.preventDefault(), r2.focus()) : i2.shiftKey || document.activeElement !== r2 || (i2.preventDefault(), e2.focus());
}, A$1.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-drawer-font-family, var(--lf-font-family-primary));font-size:var(--lf-drawer-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-drawer-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{border:0;border-style:solid;border-radius:var(--lf-drawer-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-drawer-color-drawer, var(--lf-color-drawer)), 0.375);color:rgb(var(--lf-drawer-color-on-drawer, var(--lf-color-on-drawer)));backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-sizing:border-box;display:block;height:100dvh;left:calc(var(--lf-ui-width-drawer) * -1);position:absolute;top:0;width:var(--lf-ui-width-drawer);z-index:var(--lf-ui-zindex-drawer)}:host([lf-position=left]){transition:left 300ms cubic-bezier(0.4, 0, 0.2, 1);border-bottom-left-radius:0;border-top-left-radius:0;border-right:var(--lf-drawer-border, 1px solid rgba(var(--lf-color-border), 0.75));left:calc(var(--lf-ui-width-drawer) * -1);right:auto}:host([lf-position=right]){transition:right 300ms cubic-bezier(0.4, 0, 0.2, 1);border-bottom-right-radius:0;border-top-right-radius:0;border-left:var(--lf-drawer-border, 1px solid rgba(var(--lf-color-border), 0.75));left:auto;right:calc(var(--lf-ui-width-drawer) * -1)}:host([lf-display=dock]){box-shadow:none}:host([lf-display=dock])[lf-position=left]{left:0}:host([lf-display=dock])[lf-position=right]{right:0}:host([lf-value]){left:0}:host([lf-value][lf-position=left][lf-display=slide]){box-shadow:var(--lf-drawer-left-box-shadow, 4px 0 10px -2px rgba(var(--lf-color-on-drawer), 0.2), 8px 0 16px 2px rgba(var(--lf-color-on-drawer), 0.14), 2px 0 20px 5px rgba(var(--lf-color-on-drawer), 0.14))}:host([lf-value][lf-position=right][lf-display=slide]){box-shadow:var(--lf-drawer-right-box-shadow, -4px 0 10px -2px rgba(var(--lf-color-on-drawer), 0.2), -8px 0 16px 2px rgba(var(--lf-color-on-drawer), 0.14), -2px 0 20px 5px rgba(var(--lf-color-on-drawer), 0.14))}.drawer,.drawer__content{width:100%;height:100%}";
const pF19de954_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_drawer: A$1
}, Symbol.toStringTag, { value: "Module" }));
const b = (e2) => /* @__PURE__ */ ((e3) => ({ addColumn: () => {
  const { controller: s2, elements: i2, handlers: a2 } = e3(), { refs: r2 } = i2, { button: n2 } = a2, { blocks: l2, cyAttributes: f2, lfAttributes: h2, manager: c2, parts: d2 } = s2.get, { assignRef: m2, theme: u2 } = c2, { bemClass: p2, get: g3 } = u2, { "--lf-icon-plus": y2 } = g3.current().variables;
  return D$a("lf-button", { class: p2(l2.grid._, l2.grid.addColumn), "data-cy": f2.button, "data-lf": h2.fadeIn, id: LF_MASONRY_IDS.addColumn, key: LF_MASONRY_IDS.addColumn, lfIcon: y2, lfStyling: "floating", lfUiSize: "xxsmall", "onLf-button-event": n2, part: d2.addColumn, ref: m2(r2, "addColumn"), title: "Click to add a column to the masonry." });
}, removeColumn: () => {
  const { controller: s2, elements: i2, handlers: a2 } = e3(), { refs: r2 } = i2, { button: n2 } = a2, { blocks: l2, cyAttributes: f2, lfAttributes: h2, manager: c2, parts: d2 } = s2.get, { assignRef: m2, theme: u2 } = c2, { bemClass: p2, get: g3 } = u2, { "--lf-icon-minus": y2 } = g3.current().variables;
  return D$a("lf-button", { class: p2(l2.grid._, l2.grid.removeColumn), "data-cy": f2.button, "data-lf": h2.fadeIn, id: LF_MASONRY_IDS.removeColumn, key: LF_MASONRY_IDS.removeColumn, lfIcon: y2, lfStyling: "floating", lfUiSize: "xxsmall", "onLf-button-event": n2, part: d2.removeColumn, ref: m2(r2, "removeColumn"), title: "Click to remove a column from the masonry." });
}, changeView: () => {
  const { controller: s2, elements: i2, handlers: a2 } = e3(), { refs: r2 } = i2, { blocks: n2, cyAttributes: l2, isMasonry: f2, isVertical: h2, manager: c2, parts: d2 } = s2.get, { button: m2 } = a2, { assignRef: u2, theme: p2 } = c2, { bemClass: g3, get: y2 } = p2, { layoutBoardSplit: v2, viewportTall: b2, viewportWide: w3 } = y2.icons();
  return D$a("lf-button", { class: g3(n2.grid._, n2.grid.changeViewe), "data-cy": l2.button, id: LF_MASONRY_IDS.masonry, key: LF_MASONRY_IDS.masonry, lfIcon: f2() ? b2 : h2() ? w3 : v2, lfStyling: "floating", lfUiSize: "xsmall", "onLf-button-event": m2, part: d2.changeView, ref: u2(r2, "changeView"), title: f2() ? "Click to view the images arranged vertically." : h2() ? "Click to view the images arranged horizontally." : "Click to view the images arranged in a masonry." });
} }))(e2), w2 = (t5) => /* @__PURE__ */ ((t6) => ({ button: (e2) => {
  const { eventType: s2, id: i2 } = e2.detail;
  if ("click" === s2) switch (i2) {
    case LF_MASONRY_IDS.masonry:
      (async (t7) => {
        const { compInstance: e3, isMasonry: s3, isVertical: i3 } = t7.controller.get;
        e3.lfView = s3() ? "vertical" : i3() ? "horizontal" : "main";
      })(t6());
      break;
    case LF_MASONRY_IDS.removeColumn:
      (async (t7) => {
        const { get: e3 } = t7.controller, { compInstance: s3, currentColumns: i3 } = e3, a2 = s3, r2 = i3();
        r2 > 1 && (a2.lfColumns = r2 - 1);
      })(t6());
      break;
    case LF_MASONRY_IDS.addColumn:
      (async (t7) => {
        const { get: e3 } = t7.controller, { compInstance: s3, currentColumns: i3 } = e3, a2 = i3();
        s3.lfColumns = a2 + 1;
      })(t6());
  }
} }))(t5);
var k, z, x, C2, S2, M, W2, _, A2, T3, E2, j, I, V, L, D, P, R, U, B2, H, O2, F2, K, Y = function(t5, e2, s2, i2) {
  if ("a" === s2 && !i2) throw new TypeError("Private accessor was defined without a getter");
  if ("function" == typeof e2 ? t5 !== e2 || !i2 : !e2.has(t5)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return "m" === s2 ? i2 : "a" === s2 ? i2.call(t5) : i2 ? i2.value : e2.get(t5);
}, $2 = function(t5, e2, s2, i2, a2) {
  if ("function" == typeof e2 ? t5 !== e2 || true : !e2.has(t5)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return e2.set(t5, s2), s2;
};
const q = class {
  constructor(a2) {
    n(this, a2), this.lfEvent = V$4(this, "lf-masonry-event"), k.add(this), this.selectedShape = {}, this.shapes = {}, this.lfActions = false, this.lfCollapseColumns = true, this.lfColumns = Array.from(LF_MASONRY_DEFAULT_COLUMNS), this.lfDataset = null, this.lfSelectable = false, this.lfShape = "image", this.lfStyle = "", this.lfView = "main", z.set(this, void 0), x.set(this, LF_MASONRY_BLOCKS), C2.set(this, CY_ATTRIBUTES), S2.set(this, LF_ATTRIBUTES), M.set(this, LF_MASONRY_PARTS), W2.set(this, LF_STYLE_ID), _.set(this, LF_MASONRY_CSS_VARS), A2.set(this, LF_WRAPPER_ID), T3.set(this, void 0), E2.set(this, void 0), j.set(this, void 0), I.set(this, (() => {
      var t5;
      $2(this, j, { controller: { get: { blocks: Y(this, x, "f"), compInstance: this, currentColumns: () => Y(this, T3, "f"), cyAttributes: Y(this, C2, "f"), isMasonry: () => Y(this, L, "f").call(this), isVertical: () => Y(this, D, "f").call(this), lfAttributes: Y(this, S2, "f"), manager: Y(this, z, "f"), parts: Y(this, M, "f"), shapes: () => this.shapes } }, elements: { jsx: b(t5 = () => Y(this, j, "f")), refs: { addColumn: null, removeColumn: null, changeView: null } }, handlers: w2(t5) });
    })), V.set(this, (() => {
      var _a2;
      return !!((_a2 = this.shapes) == null ? void 0 : _a2[this.lfShape]);
    })), L.set(this, (() => "main" === this.lfView)), D.set(this, (() => "vertical" === this.lfView)), P.set(this, ((t5, e2) => () => {
      clearTimeout(Y(this, E2, "f")), $2(this, E2, setTimeout(t5, e2));
    })), R.set(this, ((t5) => t5.every(((t6, e2, s2) => 0 === e2 || s2[e2 - 1] < t6)))), B2.set(this, (() => {
      const { lfShape: e2, selectedShape: s2, shapes: i2 } = this, a3 = i2[this.lfShape].map((() => ({ htmlProps: { dataset: { lf: Y(this, S2, "f").fadeIn, selected: "" } } })));
      void 0 !== s2.index && (a3[s2.index] = { htmlProps: { dataset: { lf: Y(this, S2, "f").fadeIn, selected: "true" } } });
      const r$12 = Array.from({ length: Y(this, T3, "f") }, (() => []), []);
      for (let s3 = 0; s3 < i2[e2].length; s3++) {
        const n2 = i2[e2][s3], o2 = a3[s3];
        r$12[s3 % Y(this, T3, "f")].push(D$a(r, { cell: Object.assign(o2, n2), index: s3, shape: e2, eventDispatcher: async (t5) => this.onLfEvent(t5, "lf-event"), framework: Y(this, z, "f") }));
      }
      return r$12;
    })), H.set(this, Y(this, P, "f").call(this, (() => {
      this.viewportWidth = window.innerWidth;
    }), 200)), O2.set(this, (() => {
      const { bemClass: e2 } = Y(this, z, "f").theme, { grid: s2 } = Y(this, x, "f"), { addColumn: i2, changeView: a3, removeColumn: r2 } = Y(this, j, "f").elements.jsx;
      return D$a("div", { class: e2(s2._, s2.actions), "data-lf": Y(this, S2, "f").fadeIn }, Y(this, L, "f").call(this) && D$a("div", { class: e2(s2._, s2.sub) }, i2(), r2()), a3());
    })), F2.set(this, (() => {
      const { bemClass: e2 } = Y(this, z, "f").theme, { grid: s2 } = Y(this, x, "f");
      return Y(this, B2, "f").call(this).map(((a3, r2) => D$a("div", { key: r2, class: e2(s2._, s2.column) }, a3.map(((e3) => D$a(jt$1, null, e3))))));
    })), K.set(this, (() => {
      var _a2;
      const { bemClass: e2 } = Y(this, z, "f").theme, { grid: s2 } = Y(this, x, "f"), { lfActions: a3, lfShape: r2, lfView: n2, shapes: o2 } = this;
      return Y(this, V, "f").call(this) && ((_a2 = o2[r2]) == null ? void 0 : _a2.length) ? D$a(jt$1, null, D$a("div", { class: e2(s2._, null, { [n2]: true }) }, Y(this, F2, "f").call(this)), a3 && Y(this, O2, "f").call(this)) : null;
    }));
  }
  onLfEvent(t5, e2) {
    const { lfSelectable: s2, lfShape: i2, selectedShape: a2, shapes: r2 } = this;
    let n2 = false;
    const o2 = {};
    if ("lf-event" === e2) {
      const { comp: e3, eventType: l2 } = t5.detail;
      if ("click" === l2 && s2) {
        const t6 = parseInt(e3.rootElement.dataset.index);
        a2.index !== t6 && (o2.index = t6, o2.shape = r2[i2][t6]), n2 = true;
      }
    }
    n2 && (this.selectedShape = o2), this.lfEvent.emit({ comp: this, eventType: e2, id: this.rootElement.id, originalEvent: t5, selectedShape: this.selectedShape });
  }
  validateColumns() {
    if (!Y(this, z, "f")) return;
    const { debug: t5 } = Y(this, z, "f");
    Array.isArray(this.lfColumns) && !Y(this, R, "f").call(this, this.lfColumns) && (t5.logs.new(this, "Invalid breakpoints in lfColumns: must be sorted in ascending order.", "warning"), this.lfColumns = [...LF_MASONRY_DEFAULT_COLUMNS]);
  }
  async updateShapes() {
    if (!Y(this, z, "f")) return;
    const { data: t5, debug: e2 } = Y(this, z, "f");
    try {
      this.shapes = t5.cell.shapes.getAll(this.lfDataset);
    } catch (t6) {
      e2.logs.new(this, "Error updating shapes: " + t6, "error");
    }
  }
  async getDebugInfo() {
    return this.debugInfo;
  }
  async getProps() {
    const t5 = LF_MASONRY_PROPS.map(((t6) => [t6, this[t6]]));
    return Object.fromEntries(t5);
  }
  async getSelectedShape() {
    return this.selectedShape;
  }
  async redecorateShapes() {
    this.updateShapes();
  }
  async refresh() {
    pt(this);
  }
  async setSelectedShape(t5) {
    var _a2, _b2;
    const { debug: e2 } = Y(this, z, "f"), s2 = (_b2 = (_a2 = this.shapes) == null ? void 0 : _a2[this.lfShape]) == null ? void 0 : _b2[t5];
    s2 ? this.selectedShape = { index: t5, shape: s2 } : (this.selectedShape = {}, e2.logs.new(this, `Couldn't set shape with index: ${t5}`)), this.updateShapes();
  }
  async unmount(t5 = 0) {
    setTimeout((() => {
      this.onLfEvent(new CustomEvent("unmount"), "unmount"), this.rootElement.remove();
    }), t5);
  }
  connectedCallback() {
    Y(this, z, "f") && Y(this, z, "f").theme.register(this);
  }
  async componentWillLoad() {
    $2(this, z, await a(this)), Y(this, I, "f").call(this), this.updateShapes();
  }
  componentDidLoad() {
    window.addEventListener("resize", Y(this, H, "f")), this.viewportWidth = window.innerWidth;
    const { info: t5 } = Y(this, z, "f").debug;
    this.onLfEvent(new CustomEvent("ready"), "ready"), t5.update(this, "did-load");
  }
  componentWillRender() {
    const { info: t5 } = Y(this, z, "f").debug;
    $2(this, T3, Y(this, L, "f").call(this) ? Y(this, k, "m", U).call(this) : 1), t5.update(this, "will-render");
  }
  componentDidRender() {
    const { info: t5 } = Y(this, z, "f").debug;
    t5.update(this, "did-render");
  }
  render() {
    const { bemClass: e2, setLfStyle: s2 } = Y(this, z, "f").theme, { masonry: i2 } = Y(this, x, "f"), { lfStyle: a2 } = this, n2 = { [Y(this, _, "f").columns]: String(Y(this, T3, "f")) };
    return D$a(W$e, { key: "80143874350a40e35b8e1cae7d4b6c85dd141dfb", style: n2 }, a2 && D$a("style", { key: "9fd6f49f87efec5e6bb48586454247f81e2c65cb", id: Y(this, W2, "f") }, s2(this)), D$a("div", { key: "a789ad2bd1006fa7dbe8047999f41c239ef962c6", id: Y(this, A2, "f") }, D$a("div", { key: "29523887c9963105ae7915a1852e435a17aa163c", class: e2(i2._) }, Y(this, K, "f").call(this))));
  }
  disconnectedCallback() {
    var _a2;
    (_a2 = Y(this, z, "f")) == null ? void 0 : _a2.theme.unregister(this), window.removeEventListener("resize", Y(this, H, "f"));
  }
  get rootElement() {
    return z$d(this);
  }
  static get watchers() {
    return { lfColumns: ["validateColumns"], lfDataset: ["updateShapes"], lfShape: ["updateShapes"] };
  }
};
z = /* @__PURE__ */ new WeakMap(), x = /* @__PURE__ */ new WeakMap(), C2 = /* @__PURE__ */ new WeakMap(), S2 = /* @__PURE__ */ new WeakMap(), M = /* @__PURE__ */ new WeakMap(), W2 = /* @__PURE__ */ new WeakMap(), _ = /* @__PURE__ */ new WeakMap(), A2 = /* @__PURE__ */ new WeakMap(), T3 = /* @__PURE__ */ new WeakMap(), E2 = /* @__PURE__ */ new WeakMap(), j = /* @__PURE__ */ new WeakMap(), I = /* @__PURE__ */ new WeakMap(), V = /* @__PURE__ */ new WeakMap(), L = /* @__PURE__ */ new WeakMap(), D = /* @__PURE__ */ new WeakMap(), P = /* @__PURE__ */ new WeakMap(), R = /* @__PURE__ */ new WeakMap(), B2 = /* @__PURE__ */ new WeakMap(), H = /* @__PURE__ */ new WeakMap(), O2 = /* @__PURE__ */ new WeakMap(), F2 = /* @__PURE__ */ new WeakMap(), K = /* @__PURE__ */ new WeakMap(), k = /* @__PURE__ */ new WeakSet(), U = function() {
  var _a2, _b2;
  const { lfColumns: t5, viewportWidth: e2, shapes: s2, lfShape: i2 } = this;
  if (!Y(this, V, "f").call(this)) return 1;
  if ("number" == typeof t5) return this.lfCollapseColumns ? Math.min(t5, ((_a2 = s2[i2]) == null ? void 0 : _a2.length) || 0) : t5;
  if (Array.isArray(t5)) {
    const a2 = t5;
    let r2 = 1;
    for (let t6 = 0; t6 < a2.length && e2 >= a2[t6]; t6++) r2 = t6 + 1;
    return this.lfCollapseColumns ? Math.min(r2, ((_b2 = s2 == null ? void 0 : s2[i2]) == null ? void 0 : _b2.length) || 0) : r2;
  }
  return 1;
}, q.style = "::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-masonry-font-family, var(--lf-font-family-primary));font-size:var(--lf-masonry-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(var(--lf-masonry-font-size, var(--lf-font-size)) * var(--lf-ui-size-large))}:host([lf-ui-size=medium]){font-size:calc(var(--lf-masonry-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium))}:host([lf-ui-size=small]){font-size:calc(var(--lf-masonry-font-size, var(--lf-font-size)) * var(--lf-ui-size-small))}:host([lf-ui-size=xlarge]){font-size:calc(var(--lf-masonry-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge))}:host([lf-ui-size=xsmall]){font-size:calc(var(--lf-masonry-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall))}:host([lf-ui-size=xxlarge]){font-size:calc(var(--lf-masonry-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge))}:host([lf-ui-size=xxsmall]){font-size:calc(var(--lf-masonry-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall))}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}:host([lf-selectable]) lf-image{transition:all 200ms cubic-bezier(0.4, 0, 0.6, 1);box-sizing:border-box;cursor:pointer;overflow:hidden}:host([lf-selectable]) lf-image:hover,:host([lf-selectable]) lf-image[data-selected=true]{filter:var(--lf-comp-selected-filter, brightness(110%) drop-shadow(0 0 0.5em rgb(var(--lf-color-secondary))))}:host([lf-selectable]) lf-image[data-selected=true]{border:var(--lf-masonry-selected-border, 1px solid rgba(var(--lf-color-secondary, 0.875)))}.masonry{width:100%;height:100%;box-sizing:border-box;display:flex;gap:var(--lf-masonry-grid-gap, 0.5em);overflow:auto;padding:var(--lf-masonry-padding, 0.75em);position:relative}.masonry:not(:hover) .grid__actions{display:none}.grid{width:100%;height:100%;align-items:var(--lf-masonry-grid-items-alignment, start);column-gap:var(--lf-masonry-grid-gap, 0.5em);display:grid;overflow-y:auto;overflow-x:hidden}.grid--horizontal{grid-template-rows:1fr;overflow-x:auto;overflow-y:hidden}.grid--horizontal .grid__column{flex-direction:row;height:100%;min-height:max-content;width:auto}.grid--main{grid-template-columns:repeat(var(--lf_masonry_columns), var(--lf-masonry-column-size, minmax(0px, 1fr)))}.grid--main .grid__column{flex-direction:column}.grid--vertical{grid-template-columns:1fr}.grid--vertical .grid__column{flex-direction:column}.grid__column{display:flex;flex:1;gap:var(--lf-masonry-grid-gap, 0.5em);width:100%}.grid__actions{backdrop-filter:var(--lf-masonry-actions-backdrop, blur(10px));background-color:var(--lf-masonry-actions-background, rgba(var(--lf-color-surface), 0.75));border-radius:var(--lf-masonry-actions-border-radius, 50px);bottom:var(--lf-masonry-button-bottom, 1em);display:grid;grid-auto-flow:row;grid-gap:var(--lf-masonry-grid-gap-actions, 0.5em);justify-items:center;margin:var(--lf-masonry-actions-margin, 0 0.5em 0.5em 0);padding:var(--lf-masonry-actions-padding, 0.75em);position:absolute;right:var(--lf-masonry-button-right, 1em);z-index:var(--lf-masonry-actions-z-index, 2)}.grid__sub{display:grid;grid-gap:var(--lf-masonry-grid-gap-actions-sub, 0.25em)}";
const pFc80bc8a_entry = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  lf_masonry: q
}, Symbol.toStringTag, { value: "Module" }));
export {
  getLfFramework as g
};
//# sourceMappingURL=lf-widgets-B35YyXeC.js.map
