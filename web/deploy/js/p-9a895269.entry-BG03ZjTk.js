import{o as F,V as O,m as B,D as c,L as $,T as N,k as W}from"./lf-core-C8T4tqs2.js";import{am as Y,C as R,c as H,an as D,l as J,n as K,ao as V,ap as w}from"./theme.constants-7kSb6kn5.js";import{o as q}from"./p-558ec216-rEbCTrf4.js";import"./preload-helper-C1FmrZbK.js";const E={start:e=>{const{controller:t}=e,{get:a,set:i}=t,{compInstance:r}=a,{lfAutoPlay:o,lfInterval:n}=r;o&&n>0&&i.interval(setInterval(()=>{i.index.next()},n))},stop:e=>{const{controller:t}=e,{get:a,set:i}=t,{interval:r}=a;r()&&(clearInterval(r()),i.interval(null))}},G=(e,t)=>{const{start:a,stop:i}=E;return{...e,autoplay:{start:()=>a(t()),stop:()=>i(t())}}},Q=e=>(t=>({back:()=>{const{controller:a,elements:i,handlers:r}=t(),{blocks:o,cyAttributes:n,manager:u,parts:k}=a.get,{assignRef:x,theme:p}=u,{refs:_}=i,{button:z}=r,{"--lf-icon-previous":S}=p.get.current().variables;return c("lf-button",{class:p.bemClass(o.carousel._,o.carousel.back),"data-cy":n.button,id:w.back,lfIcon:S,lfStyling:"icon",lfUiSize:"large","onLf-button-event":z,part:k.back,ref:x(_,"back"),title:"Previous slide."})},forward:()=>{const{controller:a,elements:i,handlers:r}=t(),{blocks:o,cyAttributes:n,manager:u,parts:k}=a.get,{assignRef:x,theme:p}=u,{refs:_}=i,{button:z}=r,{"--lf-icon-next":S}=p.get.current().variables;return c("lf-button",{class:p.bemClass(o.carousel._,o.carousel.forward),"data-cy":n.button,id:w.forward,lfIcon:S,lfStyling:"icon",lfUiSize:"large","onLf-button-event":z,part:k.forward,ref:x(_,"forward"),title:"Next slide."})}}))(e),X=e=>(t=>({button:a=>{const{eventType:i,id:r}=a.detail,{next:o,previous:n}=t().controller.set.index;if(i==="click")switch(r){case w.back:n();break;case w.forward:o()}}}))(e);var h,l,d,L,I,b,C,T,v,y,f,A,m,M,j,P,U,s=function(e,t,a,i){if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?i:a==="a"?i.call(e):i?i.value:t.get(e)},g=function(e,t,a,i,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,a),a};const Z=class{constructor(e){F(this,e),this.lfEvent=O(this,"lf-carousel-event"),h.add(this),this.currentIndex=0,this.shapes={},this.lfDataset=null,this.lfAutoPlay=!1,this.lfInterval=3e3,this.lfLightbox=!1,this.lfNavigation=!1,this.lfShape="image",this.lfStyle="",l.set(this,void 0),d.set(this,Y),L.set(this,R),I.set(this,H),b.set(this,D),C.set(this,J),T.set(this,K),v.set(this,void 0),y.set(this,void 0),f.set(this,void 0),A.set(this,()=>{var t;g(this,f,{controller:{get:{blocks:s(this,d,"f"),compInstance:this,cyAttributes:R,index:{current:()=>this.currentIndex},interval:()=>s(this,y,"f"),manager:s(this,l,"f"),parts:D,totalSlides:()=>s(this,h,"m",m).call(this)},set:G({index:{current:a=>this.currentIndex=a,next:()=>{var a,i;this.currentIndex=(a=this.currentIndex,i=s(this,h,"m",m).call(this),(a+1)%i)},previous:()=>{var a,i;this.currentIndex=(a=this.currentIndex,i=s(this,h,"m",m).call(this),(a-1+i)%i)}},interval:a=>g(this,y,a,"f")},t=()=>s(this,f,"f"))},elements:{jsx:Q(t),refs:{back:null,forward:null}},handlers:X(t)})})}onLfEvent(e,t){const{lightbox:a}=s(this,l,"f").effects;if(t==="lf-event"&&this.lfLightbox){const{comp:i,eventType:r}=e.detail;if(r==="click"){const{rootElement:o}=i;o instanceof HTMLElement&&a.show(o)}}this.lfEvent.emit({comp:this,eventType:t,id:this.rootElement.id,originalEvent:e})}async updateShapes(){const{data:e,debug:t}=s(this,l,"f");try{this.shapes=e.cell.shapes.getAll(this.lfDataset)}catch(a){t.logs.new(this,"Error updating shapes: "+a,"error")}}async getDebugInfo(){return this.debugInfo}async getProps(){const e=V.map(t=>[t,this[t]]);return Object.fromEntries(e)}async goToSlide(e){const{current:t}=s(this,f,"f").controller.set.index;t(e)}async nextSlide(){const{next:e}=s(this,f,"f").controller.set.index;e()}async prevSlide(){const{previous:e}=s(this,f,"f").controller.set.index;e()}async refresh(){B(this)}async unmount(e=0){setTimeout(()=>{this.onLfEvent(new CustomEvent("unmount"),"unmount"),this.rootElement.remove()},e)}connectedCallback(){s(this,l,"f")&&s(this,l,"f").theme.register(this)}async componentWillLoad(){g(this,l,await q(this)),s(this,A,"f").call(this),this.updateShapes(),this.lfAutoPlay&&E.start(s(this,f,"f"))}componentDidLoad(){const{info:e}=s(this,l,"f").debug,{register:t}=s(this,l,"f").drag,{next:a,previous:i}=s(this,f,"f").controller.set.index;t.swipe(s(this,v,"f"),{onEnd:(r,o)=>{var n;if((n=o.swipeData)!=null&&n.direction){const{direction:u}=o.swipeData;u==="left"?a():u==="right"&&i()}}}),this.onLfEvent(new CustomEvent("ready"),"ready"),e.update(this,"did-load")}componentWillRender(){const{info:e}=s(this,l,"f").debug;e.update(this,"will-render")}componentDidRender(){const{info:e}=s(this,l,"f").debug;e.update(this,"did-render")}render(){const{bemClass:e,setLfStyle:t}=s(this,l,"f").theme,{lfStyle:a}=this,{carousel:i}=s(this,d,"f");return c($,{key:"379781af83bfd7ee99e55bf0c46fa31f97b9e31b"},a&&c("style",{key:"922aaec480a7e5ed7741bffca16079ab17a0ed9d",id:s(this,C,"f")},t(this)),c("div",{key:"14fd963e111525dd10f2ee8eb8c838e593cd6b61",id:s(this,T,"f")},c("div",{key:"d7589b177b672b78b4bbfa1921c45d351f240b0d",class:e(i._),part:s(this,b,"f").carousel,ref:r=>{r&&g(this,v,r)},role:"region"},s(this,h,"m",j).call(this))))}disconnectedCallback(){var e,t;(e=s(this,l,"f"))==null||e.drag.unregister.swipe(s(this,v,"f")),(t=s(this,l,"f"))==null||t.theme.unregister(this),E.stop(s(this,f,"f"))}get rootElement(){return N(this)}static get watchers(){return{lfDataset:["updateShapes"],lfShape:["updateShapes"]}}};l=new WeakMap,d=new WeakMap,L=new WeakMap,I=new WeakMap,b=new WeakMap,C=new WeakMap,T=new WeakMap,v=new WeakMap,y=new WeakMap,f=new WeakMap,A=new WeakMap,h=new WeakSet,m=function(){var e,t;return((t=(e=this.shapes)==null?void 0:e[this.lfShape])==null?void 0:t.length)||0},M=function(){var e;return!!((e=this.shapes)!=null&&e[this.lfShape])},j=function(){const{bemClass:e}=s(this,l,"f").theme,{carousel:t}=s(this,d,"f"),{elements:a}=s(this,f,"f"),{jsx:i}=a,{back:r,forward:o}=i;if(s(this,h,"m",M).call(this)){const n=this.shapes[this.lfShape];if(n!=null&&n.length)return c(W,null,c("div",{"aria-live":"polite",class:e(t._,t.track),part:s(this,b,"f").track,role:"region"},s(this,h,"m",U).call(this),this.lfNavigation&&r(),this.lfNavigation&&o()),s(this,h,"m",P).call(this))}return null},P=function(){const{bemClass:e}=s(this,l,"f").theme,{slideBar:t}=s(this,d,"f"),a=s(this,h,"m",m).call(this),i=[];for(let r=0;r<a;r++){const o=`Jump to slide ${r+1}`;i.push(c("div",{"aria-label":o,class:e(t._,t.segment,{active:r===this.currentIndex}),"data-cy":s(this,L,"f").button,"data-index":r,onClick:async()=>this.goToSlide(r),part:s(this,b,"f").segment,role:"button",tabIndex:0,title:o}))}return c("div",{class:e(t._),part:s(this,b,"f").slideBar},i)},U=function(){const{decorate:e}=s(this,l,"f").data.cell.shapes,{bemClass:t}=s(this,l,"f").theme,{currentIndex:a,lfShape:i}=this,{carousel:r}=s(this,d,"f"),o=this.shapes[i].map(()=>({htmlProps:{dataset:{lf:s(this,I,"f").fadeIn}}})),n=e(i,this.shapes[i],async u=>this.onLfEvent(u,"lf-event"),o);return c("div",{class:t(r._,r.slide),"data-index":a},c(W,null,n[a]))},Z.style=`::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-carousel-font-family, var(--lf-font-family-primary));font-size:var(--lf-carousel-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(
        var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-large)
      )}:host([lf-ui-size=medium]){font-size:calc(
        var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium)
      )}:host([lf-ui-size=small]){font-size:calc(
        var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-small)
      )}:host([lf-ui-size=xlarge]){font-size:calc(
        var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge)
      )}:host([lf-ui-size=xsmall]){font-size:calc(
        var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall)
      )}:host([lf-ui-size=xxlarge]){font-size:calc(
        var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge)
      )}:host([lf-ui-size=xxsmall]){font-size:calc(
        var(--lf-carousel-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall)
      )}#lf-component{width:100%;height:100%}:host{width:100%;height:100%;margin:auto;overflow:hidden;position:relative}:host([lf-lightbox]) [data-lf=fade-in]{cursor:pointer}.carousel{border:0;border-style:solid;border-radius:var(--lf-carousel-border-radius, var(--lf-ui-border-radius));width:100%;height:100%;display:flex;justify-content:center;overflow:hidden;position:relative}.carousel:hover .slide-bar{opacity:1}.carousel:hover .carousel__back,.carousel:hover .carousel__forward{opacity:1}.carousel:hover .carousel__back{left:0.5em}.carousel:hover .carousel__forward{right:0.5em}.carousel__back,.carousel__forward{transition:all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);opacity:0;position:absolute;top:50%;transform:translateY(-50%)}.carousel__back{left:0}.carousel__forward{right:0}.carousel__track{width:100%;height:100%;transition:all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);display:flex;will-change:transform}.carousel__slide{width:100%;height:100%;align-items:center;flex-shrink:0;justify-content:center}.slide-bar{background-color:rgba(var(--lf-carousel-color-surface, var(--lf-color-surface)), 0.75);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);align-items:center;bottom:0;box-sizing:border-box;display:flex;flex-wrap:nowrap;height:var(--lf-carousel-slide-bar-height, 0.75em);left:0;opacity:var(--lf-carousel-slide-bar-opacity, 0.75);position:absolute;width:100%}.slide-bar:hover{opacity:var(--lf-carousel-slide-bar-opacity-hover, 1)}.slide-bar__segment{background-color:rgba(var(--lf-carousel-color-surface, var(--lf-color-surface)), 1);width:100%;height:100%;transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer}.slide-bar__segment:not(.slide-bar__segment--active):hover{background-color:rgba(var(--lf-carousel-color-on-surface, var(--lf-color-on-surface)), 0.5)}.slide-bar__segment--active{background-color:rgba(var(--lf-carousel-color-on-surface, var(--lf-color-on-surface)), 1)}`;export{Z as lf_carousel};
