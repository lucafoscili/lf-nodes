import{o as U,V as $,D as s,m as O,L as V,T as K}from"./lf-core-C8T4tqs2.js";import{aQ as Y,C as G,c as Q,aR as q,l as H,n as J,aS as N}from"./theme.constants-7kSb6kn5.js";import{o as X}from"./p-558ec216-rEbCTrf4.js";import"./preload-helper-C1FmrZbK.js";var c,o,p,d,m,k,x,_,h,u,L,F,T,b,t=function(i,e,l,a){if(l==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!a:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?a:l==="a"?a.call(i):a?a.value:e.get(i)},z=function(i,e,l,a,f){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,l),l};const Z=class{constructor(i){U(this,i),this.lfEvent=$(this,"lf-upload-event"),c.add(this),this.selectedFiles=[],this.lfLabel="Upload files...",this.lfRipple=!0,this.lfStyle="",this.lfValue=null,o.set(this,void 0),p.set(this,Y),d.set(this,G),m.set(this,Q),k.set(this,q),x.set(this,H),_.set(this,J),h.set(this,void 0),u.set(this,void 0),b.set(this,(e,l=!1)=>{const{assets:a,theme:f}=t(this,o,"f"),{get:v}=a,{bemClass:g}=f,{file:y,movie:r,music:w,pdf:n,photo:C,zip:W}=t(this,o,"f").theme.get.icons(),{"--lf-icon-clear":S}=t(this,o,"f").theme.get.current().variables,{fileInfo:E}=t(this,p,"f"),R=e.type.includes("image")||e.type.includes("jpg")||e.type.includes("png")||e.type.includes("jpeg")||e.type.includes("gif"),M=e.type.includes("audio")||e.type.includes("mp3")||e.type.includes("wav")||e.type.includes("ogg"),D=e.type.includes("video")||e.type.includes("mp4")||e.type.includes("avi")||e.type.includes("mov"),I=e.type.includes("7z")||e.type.includes("zip")||e.type.includes("application/zip")||e.type.includes("application/x-zip-compressed"),P=e.type.includes("pdf"),A=l?S:R?C:M?w:D?r:P?n:I?W:y,{style:B}=v(`./assets/svg/${A}.svg`);return s("div",{class:g(E._,E.icon,{"has-actions":l}),"data-cy":t(this,d,"f").maskedSvg,onClick:l?j=>this.onLfEvent(j,"delete",e):null,part:t(this,k,"f").icon,style:B,tabIndex:l&&0,title:l?"Remove file":e.type})})}onLfEvent(i,e,l){const{effects:a}=t(this,o,"f");switch(e){case"delete":this.selectedFiles=this.selectedFiles.filter(f=>f!==l);break;case"pointerdown":this.lfRipple&&a.ripple(i,t(this,h,"f"))}this.lfEvent.emit({comp:this,eventType:e,id:this.rootElement.id,originalEvent:i,selectedFiles:this.selectedFiles})}async getDebugInfo(){return this.debugInfo}async getProps(){const i=N.map(e=>[e,this[e]]);return Object.fromEntries(i)}async getValue(){return this.selectedFiles}async refresh(){O(this)}async unmount(i=0){setTimeout(()=>{this.onLfEvent(new CustomEvent("unmount"),"unmount"),this.rootElement.remove()},i)}connectedCallback(){t(this,o,"f")&&t(this,o,"f").theme.register(this)}async componentWillLoad(){z(this,o,await X(this)),Array.isArray(this.lfValue)&&(this.selectedFiles=this.lfValue)}componentDidLoad(){const{debug:i}=t(this,o,"f");this.onLfEvent(new CustomEvent("ready"),"ready"),i.info.update(this,"did-load")}componentWillRender(){const{info:i}=t(this,o,"f").debug;i.update(this,"will-render")}componentDidRender(){const{info:i}=t(this,o,"f").debug;i.update(this,"did-render")}render(){const{bemClass:i,setLfStyle:e}=t(this,o,"f").theme,{fileInfo:l,fileUpload:a,upload:f}=t(this,p,"f"),{lfLabel:v,lfRipple:g,lfStyle:y,selectedFiles:r}=this,w=!!(r!=null&&r.length);return s(V,{key:"8a9900c213ebbcd097fb7e817603b1c51048d4b9"},y&&s("style",{key:"03a4ea5f0bdbcdddff224d3870e70bd4db1fd05b",id:t(this,x,"f")},e(this)),s("div",{key:"95b222eb6c1d251374352bd0b662fe85083e1cab",id:t(this,_,"f")},s("div",{key:"1a91f7856ac24c3f17e7bdebea72088fc601a260",class:i(f._,null,{"has-description":!!(r!=null&&r.length)})},s("div",{key:"65bcf695ac09010879f0dbeac6425c4b9786d88b",class:i(a._),onPointerDown:n=>this.onLfEvent(n,"pointerdown")},s("input",{key:"3a8202447ae4b86254dc8bb6ea3a9e91ff361512",class:i(a._,a.input),"data-cy":t(this,d,"f").input,id:"upload-input",multiple:!0,onChange:()=>t(this,c,"m",F).call(this),ref:n=>{n&&z(this,u,n)},type:"file"}),s("label",{key:"521f269d8706cd8b141c17b5fd485d51074714bb",class:i(a._,a.label),"data-cy":t(this,d,"f").rippleSurface,"data-lf":t(this,m,"f").rippleSurface,htmlFor:"upload-input",ref:n=>{g&&z(this,h,n)}},s("div",{key:"8b2813106b8ee52c211f9c5f9506a4310da61266",class:i(a._,a.text)},v))),s("div",{key:"631c7aaddc9100da21e674feaf7285335f30b525",class:i(l._)},w&&t(this,c,"m",T).call(this)))))}disconnectedCallback(){var i;(i=t(this,o,"f"))==null||i.theme.unregister(this)}get rootElement(){return K(this)}};o=new WeakMap,p=new WeakMap,d=new WeakMap,m=new WeakMap,k=new WeakMap,x=new WeakMap,_=new WeakMap,h=new WeakMap,u=new WeakMap,b=new WeakMap,c=new WeakSet,L=function(i){const e=["Bytes","KB","MB","GB","TB"];let l=0;if(i>1e4)i/=1024,i/=1024,l=2;else for(;i>=1024&&l<e.length-1;)i/=1024,l++;return`${i.toFixed(2)} ${e[l]}`},F=function(){this.selectedFiles=t(this,u,"f").files?Array.from(t(this,u,"f").files):[],this.onLfEvent(new CustomEvent("upload"),"upload")},T=function(){const{bemClass:i}=t(this,o,"f").theme,{fileInfo:e}=t(this,p,"f");return this.selectedFiles.map((l,a)=>s("div",{class:i(e._,e.item),"data-lf":t(this,m,"f").fadeIn,key:a},t(this,b,"f").call(this,l),s("span",{class:i(e._,e.name),title:l.name},l.name),s("span",{class:i(e._,e.size),title:l.size.toString()},t(this,c,"m",L).call(this,l.size)),t(this,b,"f").call(this,l,!0)))},Z.style=`::-webkit-scrollbar{width:9px}::-webkit-scrollbar-thumb{transition:all 400ms cubic-bezier(0.8, -0.5, 0.2, 1.4);background-color:rgb(var(--lf-color-primary))}::-webkit-scrollbar-track{background-color:rgb(var(--lf-color-bg))}[data-lf=ripple]{animation-duration:var(--lf-ui-duration-ripple, 675ms);animation-fill-mode:forwards;animation-name:lf-ripple;animation-timing-function:var(--lf-ui-timing-ripple, ease-out);background:var(--lf-ui-ripple-background, var(--lf-color-primary));border-radius:var(--lf-ui-radius-ripple, 50%);height:var(--lf-ui-ripple-height, 100%);left:var(--lf-ui-ripple-x, 50%);opacity:var(--lf-ui-opacity-ripple, 0.5);pointer-events:none;position:absolute;top:var(--lf-ui-ripple-y, 50%);transform:scale(0);width:var(--lf-ui-ripple-width, 100%)}@keyframes lf-ripple{from{transform:scale(0)}to{opacity:0;transform:scale(4)}}[data-lf=ripple-surface]{cursor:pointer;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}[data-lf=fade-in]{display:block;animation:lf-fade-in-block 0.25s ease-out forwards}@keyframes lf-fade-in-block{from{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}:host{display:block;font-family:var(--lf-upload-font-family, var(--lf-font-family-primary));font-size:var(--lf-upload-font-size, var(--lf-font-size))}:host([lf-ui-size=large]){font-size:calc(
        var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-large)
      )}:host([lf-ui-size=medium]){font-size:calc(
        var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-medium)
      )}:host([lf-ui-size=small]){font-size:calc(
        var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-small)
      )}:host([lf-ui-size=xlarge]){font-size:calc(
        var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-xlarge)
      )}:host([lf-ui-size=xsmall]){font-size:calc(
        var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-xsmall)
      )}:host([lf-ui-size=xxlarge]){font-size:calc(
        var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxlarge)
      )}:host([lf-ui-size=xxsmall]){font-size:calc(
        var(--lf-upload-font-size, var(--lf-font-size)) * var(--lf-ui-size-xxsmall)
      )}#lf-component{width:100%;height:100%}:host{width:100%;height:100%}.upload{border:0;border-style:solid;border-color:rgba(var(--lf-upload-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-upload-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-upload-color-surface, var(--lf-color-surface)), 0.175);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);width:100%;height:100%;box-sizing:border-box;display:grid;grid-template-rows:1fr;min-height:var(--lf-upload-min-height, 8em);padding:var(--lf-upload-padding, 1em)}.upload--has-description{grid-gap:var(--lf-upload-grid-gap, 1.25em);grid-template-rows:var(--lf-upload-button-height, 2.75em) var(--lf-upload-info-height, minmax(auto, 25vh))}.upload--has-description .file-info{padding:var(--lf-upload-item-padding, 0.75em)}.file-upload{border:0;border-style:solid;border-color:rgba(var(--lf-upload-border-color, var(--lf-color-border)), 1);border-width:1px;border-radius:var(--lf-upload-border-radius, var(--lf-ui-border-radius));background-color:rgba(var(--lf-upload-color-surface, var(--lf-color-surface)), 0.175);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);display:flex}.file-upload__input{display:none}.file-upload__label{width:100%;height:100%;font-size:0.775em;letter-spacing:0.0892857143em;line-height:inherit;text-transform:uppercase;align-content:center;cursor:pointer;display:block;margin:auto;text-align:center}.file-upload:hover{box-shadow:0 5px 5px -3px rgba(var(--lf-color-on-bg), 0.25), 0 8px 10px 1px rgba(var(--lf-color-on-bg), 0.18), 0 3px 14px 2px rgba(var(--lf-color-on-bg), 0.15)}.file-info{transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);max-height:25dvh;overflow:auto}.file-info__icon{background-color:rgba(var(--lf-upload-color-on-bg, var(--lf-color-on-bg)), 1);height:1.5em;width:1.5em;overflow:hidden}.file-info__icon--has-actions{transition:all 300ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer}.file-info__icon--has-actions:hover{opacity:0.75}.file-info__item{align-items:center;display:flex;justify-content:center}.file-info__name,.file-info__size{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.875em;font-weight:400;line-height:1.25em;letter-spacing:0.2em;flex-grow:1}.file-info__name{padding:0 0.5em;width:100%}.file-info__size{min-width:max-content;padding:0 0.5em}`;export{Z as lf_upload};
